this.createjs=this.createjs||{},createjs.extend=function(t,e){"use strict";function i(){this.constructor=t}return i.prototype=e.prototype,t.prototype=new i},createjs.promote=function(t,e){"use strict";var i=t.prototype,r=Object.getPrototypeOf&&Object.getPrototypeOf(i)||i.__proto__;if(r)for(var s in i[(e+="_")+"constructor"]=r.constructor,r)i.hasOwnProperty(s)&&"function"==typeof r[s]&&(i[e+s]=r[s]);return t},createjs.indexOf=function(t,e){"use strict";for(var i=0,r=t.length;i<r;i++)if(e===t[i])return i;return-1},function(){"use strict";function t(){throw"UID cannot be instantiated"}t._nextID=0,t.get=function(){return t._nextID++},createjs.UID=t}(),createjs.deprecate=function(t,e){"use strict";return function(){var i="Deprecated property or method '"+e+"'. See docs for info.";return console&&(console.warn?console.warn(i):console.log(i)),t&&t.apply(this,arguments)}},function(){"use strict";function t(t,e,i){this.type=t,this.target=null,this.currentTarget=null,this.eventPhase=0,this.bubbles=!!e,this.cancelable=!!i,this.timeStamp=(new Date).getTime(),this.defaultPrevented=!1,this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.removed=!1}var e=t.prototype;e.preventDefault=function(){this.defaultPrevented=this.cancelable&&!0},e.stopPropagation=function(){this.propagationStopped=!0},e.stopImmediatePropagation=function(){this.immediatePropagationStopped=this.propagationStopped=!0},e.remove=function(){this.removed=!0},e.clone=function(){return new t(this.type,this.bubbles,this.cancelable)},e.set=function(t){for(var e in t)this[e]=t[e];return this},e.toString=function(){return"[Event (type="+this.type+")]"},createjs.Event=t}(),function(){"use strict";function t(){this._listeners=null,this._captureListeners=null}var e=t.prototype;t.initialize=function(t){t.addEventListener=e.addEventListener,t.on=e.on,t.removeEventListener=t.off=e.removeEventListener,t.removeAllEventListeners=e.removeAllEventListeners,t.hasEventListener=e.hasEventListener,t.dispatchEvent=e.dispatchEvent,t._dispatchEvent=e._dispatchEvent,t.willTrigger=e.willTrigger},e.addEventListener=function(t,e,i){var r,s=(r=i?this._captureListeners=this._captureListeners||{}:this._listeners=this._listeners||{})[t];return s&&this.removeEventListener(t,e,i),(s=r[t])?s.push(e):r[t]=[e],e},e.on=function(t,e,i,r,s,n){return e.handleEvent&&(i=i||e,e=e.handleEvent),i=i||this,this.addEventListener(t,function(t){e.call(i,t,s),r&&t.remove()},n)},e.removeEventListener=function(t,e,i){var r=i?this._captureListeners:this._listeners;if(r){var s=r[t];if(s)for(var n=0,a=s.length;n<a;n++)if(s[n]==e){1==a?delete r[t]:s.splice(n,1);break}}},e.off=e.removeEventListener,e.removeAllEventListeners=function(t){t?(this._listeners&&delete this._listeners[t],this._captureListeners&&delete this._captureListeners[t]):this._listeners=this._captureListeners=null},e.dispatchEvent=function(t,e,i){if("string"==typeof t){var r=this._listeners;if(!(e||r&&r[t]))return!0;t=new createjs.Event(t,e,i)}else t.target&&t.clone&&(t=t.clone());try{t.target=this}catch(t){}if(t.bubbles&&this.parent){for(var s=this,n=[s];s.parent;)n.push(s=s.parent);var a,o=n.length;for(a=o-1;a>=0&&!t.propagationStopped;a--)n[a]._dispatchEvent(t,1+(0==a));for(a=1;a<o&&!t.propagationStopped;a++)n[a]._dispatchEvent(t,3)}else this._dispatchEvent(t,2);return!t.defaultPrevented},e.hasEventListener=function(t){var e=this._listeners,i=this._captureListeners;return!!(e&&e[t]||i&&i[t])},e.willTrigger=function(t){for(var e=this;e;){if(e.hasEventListener(t))return!0;e=e.parent}return!1},e.toString=function(){return"[EventDispatcher]"},e._dispatchEvent=function(t,e){var i,r,s=e<=2?this._captureListeners:this._listeners;if(t&&s&&(r=s[t.type])&&(i=r.length)){try{t.currentTarget=this}catch(t){}try{t.eventPhase=0|e}catch(t){}t.removed=!1,r=r.slice();for(var n=0;n<i&&!t.immediatePropagationStopped;n++){var a=r[n];a.handleEvent?a.handleEvent(t):a(t),t.removed&&(this.off(t.type,a,1==e),t.removed=!1)}}2===e&&this._dispatchEvent(t,2.1)},createjs.EventDispatcher=t}(),function(){"use strict";function t(){throw"Ticker cannot be instantiated."}t.RAF_SYNCHED="synched",t.RAF="raf",t.TIMEOUT="timeout",t.timingMode=null,t.maxDelta=0,t.paused=!1,t.removeEventListener=null,t.removeAllEventListeners=null,t.dispatchEvent=null,t.hasEventListener=null,t._listeners=null,createjs.EventDispatcher.initialize(t),t._addEventListener=t.addEventListener,t.addEventListener=function(){return!t._inited&&t.init(),t._addEventListener.apply(t,arguments)},t._inited=!1,t._startTime=0,t._pausedTime=0,t._ticks=0,t._pausedTicks=0,t._interval=50,t._lastTime=0,t._times=null,t._tickTimes=null,t._timerId=null,t._raf=!0,t._setInterval=function(e){t._interval=e,t._inited&&t._setupTick()},t.setInterval=createjs.deprecate(t._setInterval,"Ticker.setInterval"),t._getInterval=function(){return t._interval},t.getInterval=createjs.deprecate(t._getInterval,"Ticker.getInterval"),t._setFPS=function(e){t._setInterval(1e3/e)},t.setFPS=createjs.deprecate(t._setFPS,"Ticker.setFPS"),t._getFPS=function(){return 1e3/t._interval},t.getFPS=createjs.deprecate(t._getFPS,"Ticker.getFPS");try{Object.defineProperties(t,{interval:{get:t._getInterval,set:t._setInterval},framerate:{get:t._getFPS,set:t._setFPS}})}catch(t){console.log(t)}t.init=function(){t._inited||(t._inited=!0,t._times=[],t._tickTimes=[],t._startTime=t._getTime(),t._times.push(t._lastTime=0),t.interval=t._interval)},t.reset=function(){if(t._raf){var e=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame;e&&e(t._timerId)}else clearTimeout(t._timerId);t.removeAllEventListeners("tick"),t._timerId=t._times=t._tickTimes=null,t._startTime=t._lastTime=t._ticks=t._pausedTime=0,t._inited=!1},t.getMeasuredTickTime=function(e){var i=0,r=t._tickTimes;if(!r||r.length<1)return-1;e=Math.min(r.length,e||0|t._getFPS());for(var s=0;s<e;s++)i+=r[s];return i/e},t.getMeasuredFPS=function(e){var i=t._times;return!i||i.length<2?-1:(e=Math.min(i.length-1,e||0|t._getFPS()),1e3/((i[0]-i[e])/e))},t.getTime=function(e){return t._startTime?t._getTime()-(e?t._pausedTime:0):-1},t.getEventTime=function(e){return t._startTime?(t._lastTime||t._startTime)-(e?t._pausedTime:0):-1},t.getTicks=function(e){return t._ticks-(e?t._pausedTicks:0)},t._handleSynch=function(){t._timerId=null,t._setupTick(),t._getTime()-t._lastTime>=.97*(t._interval-1)&&t._tick()},t._handleRAF=function(){t._timerId=null,t._setupTick(),t._tick()},t._handleTimeout=function(){t._timerId=null,t._setupTick(),t._tick()},t._setupTick=function(){if(null==t._timerId){var e=t.timingMode;if(e==t.RAF_SYNCHED||e==t.RAF){var i=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;if(i)return t._timerId=i(e==t.RAF?t._handleRAF:t._handleSynch),void(t._raf=!0)}t._raf=!1,t._timerId=setTimeout(t._handleTimeout,t._interval)}},t._tick=function(){var e=t.paused,i=t._getTime(),r=i-t._lastTime;if(t._lastTime=i,t._ticks++,e&&(t._pausedTicks++,t._pausedTime+=r),t.hasEventListener("tick")){var s=new createjs.Event("tick"),n=t.maxDelta;s.delta=n&&r>n?n:r,s.paused=e,s.time=i,s.runTime=i-t._pausedTime,t.dispatchEvent(s)}for(t._tickTimes.unshift(t._getTime()-i);t._tickTimes.length>100;)t._tickTimes.pop();for(t._times.unshift(i);t._times.length>100;)t._times.pop()};var e=window,i=e.performance.now||e.performance.mozNow||e.performance.msNow||e.performance.oNow||e.performance.webkitNow;t._getTime=function(){return(i&&i.call(e.performance)||(new Date).getTime())-t._startTime},createjs.Ticker=t}(),function(){"use strict";function t(t){this.readyState=t.readyState,this._video=t,this._canvas=null,this._lastTime=-1,this.readyState<2&&t.addEventListener("canplaythrough",this._videoReady.bind(this))}var e=t.prototype;e.getImage=function(){if(!(this.readyState<2)){var t=this._canvas,e=this._video;if(t||((t=this._canvas=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas")).width=e.videoWidth,t.height=e.videoHeight),e.readyState>=2&&e.currentTime!==this._lastTime){var i=t.getContext("2d");i.clearRect(0,0,t.width,t.height),i.drawImage(e,0,0,t.width,t.height),this._lastTime=e.currentTime}return t}},e._videoReady=function(){this.readyState=2},createjs.VideoBuffer=t}(),function(){"use strict";function t(t,e,i,r,s,n,a,o,h,c,u){this.Event_constructor(t,e,i),this.stageX=r,this.stageY=s,this.rawX=null==h?r:h,this.rawY=null==c?s:c,this.nativeEvent=n,this.pointerID=a,this.primary=!!o,this.relatedTarget=u}var e=createjs.extend(t,createjs.Event);e._get_localX=function(){return this.currentTarget.globalToLocal(this.rawX,this.rawY).x},e._get_localY=function(){return this.currentTarget.globalToLocal(this.rawX,this.rawY).y},e._get_isTouch=function(){return-1!==this.pointerID};try{Object.defineProperties(e,{localX:{get:e._get_localX},localY:{get:e._get_localY},isTouch:{get:e._get_isTouch}})}catch(t){}e.clone=function(){return new t(this.type,this.bubbles,this.cancelable,this.stageX,this.stageY,this.nativeEvent,this.pointerID,this.primary,this.rawX,this.rawY)},e.toString=function(){return"[MouseEvent (type="+this.type+" stageX="+this.stageX+" stageY="+this.stageY+")]"},createjs.MouseEvent=createjs.promote(t,"Event")}(),function(){"use strict";function t(t,e,i,r,s,n){this.setValues(t,e,i,r,s,n)}var e=t.prototype;t.DEG_TO_RAD=Math.PI/180,t.identity=null,e.setValues=function(t,e,i,r,s,n){return this.a=null==t?1:t,this.b=e||0,this.c=i||0,this.d=null==r?1:r,this.tx=s||0,this.ty=n||0,this},e.append=function(t,e,i,r,s,n){var a=this.a,o=this.b,h=this.c,c=this.d;return 1==t&&0==e&&0==i&&1==r||(this.a=a*t+h*e,this.b=o*t+c*e,this.c=a*i+h*r,this.d=o*i+c*r),this.tx=a*s+h*n+this.tx,this.ty=o*s+c*n+this.ty,this},e.prepend=function(t,e,i,r,s,n){var a=this.a,o=this.c,h=this.tx;return this.a=t*a+i*this.b,this.b=e*a+r*this.b,this.c=t*o+i*this.d,this.d=e*o+r*this.d,this.tx=t*h+i*this.ty+s,this.ty=e*h+r*this.ty+n,this},e.appendMatrix=function(t){return this.append(t.a,t.b,t.c,t.d,t.tx,t.ty)},e.prependMatrix=function(t){return this.prepend(t.a,t.b,t.c,t.d,t.tx,t.ty)},e.appendTransform=function(e,i,r,s,n,a,o,h,c){if(n%360)var u=n*t.DEG_TO_RAD,l=Math.cos(u),d=Math.sin(u);else l=1,d=0;return a||o?(a*=t.DEG_TO_RAD,o*=t.DEG_TO_RAD,this.append(Math.cos(o),Math.sin(o),-Math.sin(a),Math.cos(a),e,i),this.append(l*r,d*r,-d*s,l*s,0,0)):this.append(l*r,d*r,-d*s,l*s,e,i),(h||c)&&(this.tx-=h*this.a+c*this.c,this.ty-=h*this.b+c*this.d),this},e.prependTransform=function(e,i,r,s,n,a,o,h,c){if(n%360)var u=n*t.DEG_TO_RAD,l=Math.cos(u),d=Math.sin(u);else l=1,d=0;return(h||c)&&(this.tx-=h,this.ty-=c),a||o?(a*=t.DEG_TO_RAD,o*=t.DEG_TO_RAD,this.prepend(l*r,d*r,-d*s,l*s,0,0),this.prepend(Math.cos(o),Math.sin(o),-Math.sin(a),Math.cos(a),e,i)):this.prepend(l*r,d*r,-d*s,l*s,e,i),this},e.rotate=function(e){e*=t.DEG_TO_RAD;var i=Math.cos(e),r=Math.sin(e),s=this.a,n=this.b;return this.a=s*i+this.c*r,this.b=n*i+this.d*r,this.c=-s*r+this.c*i,this.d=-n*r+this.d*i,this},e.skew=function(e,i){return e*=t.DEG_TO_RAD,i*=t.DEG_TO_RAD,this.append(Math.cos(i),Math.sin(i),-Math.sin(e),Math.cos(e),0,0),this},e.scale=function(t,e){return this.a*=t,this.b*=t,this.c*=e,this.d*=e,this},e.translate=function(t,e){return this.tx+=this.a*t+this.c*e,this.ty+=this.b*t+this.d*e,this},e.identity=function(){return this.a=this.d=1,this.b=this.c=this.tx=this.ty=0,this},e.invert=function(){var t=this.a,e=this.b,i=this.c,r=this.d,s=this.tx,n=t*r-e*i;return this.a=r/n,this.b=-e/n,this.c=-i/n,this.d=t/n,this.tx=(i*this.ty-r*s)/n,this.ty=-(t*this.ty-e*s)/n,this},e.isIdentity=function(){return 0===this.tx&&0===this.ty&&1===this.a&&0===this.b&&0===this.c&&1===this.d},e.equals=function(t){return this.tx===t.tx&&this.ty===t.ty&&this.a===t.a&&this.b===t.b&&this.c===t.c&&this.d===t.d},e.transformPoint=function(t,e,i){return(i=i||{}).x=t*this.a+e*this.c+this.tx,i.y=t*this.b+e*this.d+this.ty,i},e.decompose=function(e){null==e&&(e={}),e.x=this.tx,e.y=this.ty,e.scaleX=Math.sqrt(this.a*this.a+this.b*this.b),e.scaleY=Math.sqrt(this.c*this.c+this.d*this.d);var i=Math.atan2(-this.c,this.d),r=Math.atan2(this.b,this.a);return Math.abs(1-i/r)<1e-5?(e.rotation=r/t.DEG_TO_RAD,this.a<0&&this.d>=0&&(e.rotation+=e.rotation<=0?180:-180),e.skewX=e.skewY=0):(e.skewX=i/t.DEG_TO_RAD,e.skewY=r/t.DEG_TO_RAD),e},e.copy=function(t){return this.setValues(t.a,t.b,t.c,t.d,t.tx,t.ty)},e.clone=function(){return new t(this.a,this.b,this.c,this.d,this.tx,this.ty)},e.toString=function(){return"[Matrix2D (a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+")]"},t.identity=new t,createjs.Matrix2D=t}(),function(){"use strict";function t(t,e,i,r,s){this.setValues(t,e,i,r,s)}var e=t.prototype;e.setValues=function(t,e,i,r,s){return this.visible=null==t||!!t,this.alpha=null==e?1:e,this.shadow=i,this.compositeOperation=r,this.matrix=s||this.matrix&&this.matrix.identity()||new createjs.Matrix2D,this},e.append=function(t,e,i,r,s){return this.alpha*=e,this.shadow=i||this.shadow,this.compositeOperation=r||this.compositeOperation,this.visible=this.visible&&t,s&&this.matrix.appendMatrix(s),this},e.prepend=function(t,e,i,r,s){return this.alpha*=e,this.shadow=this.shadow||i,this.compositeOperation=this.compositeOperation||r,this.visible=this.visible&&t,s&&this.matrix.prependMatrix(s),this},e.identity=function(){return this.visible=!0,this.alpha=1,this.shadow=this.compositeOperation=null,this.matrix.identity(),this},e.clone=function(){return new t(this.alpha,this.shadow,this.compositeOperation,this.visible,this.matrix.clone())},createjs.DisplayProps=t}(),function(){"use strict";function t(t,e){this.setValues(t,e)}var e=t.prototype;e.setValues=function(t,e){return this.x=t||0,this.y=e||0,this},e.copy=function(t){return this.x=t.x,this.y=t.y,this},e.clone=function(){return new t(this.x,this.y)},e.toString=function(){return"[Point (x="+this.x+" y="+this.y+")]"},createjs.Point=t}(),function(){"use strict";function t(t,e,i,r){this.setValues(t,e,i,r)}var e=t.prototype;e.setValues=function(t,e,i,r){return this.x=t||0,this.y=e||0,this.width=i||0,this.height=r||0,this},e.extend=function(t,e,i,r){return i=i||0,r=r||0,t+i>this.x+this.width&&(this.width=t+i-this.x),e+r>this.y+this.height&&(this.height=e+r-this.y),t<this.x&&(this.width+=this.x-t,this.x=t),e<this.y&&(this.height+=this.y-e,this.y=e),this},e.pad=function(t,e,i,r){return this.x-=e,this.y-=t,this.width+=e+r,this.height+=t+i,this},e.copy=function(t){return this.setValues(t.x,t.y,t.width,t.height)},e.contains=function(t,e,i,r){return i=i||0,r=r||0,t>=this.x&&t+i<=this.x+this.width&&e>=this.y&&e+r<=this.y+this.height},e.union=function(t){return this.clone().extend(t.x,t.y,t.width,t.height)},e.intersection=function(e){var i=e.x,r=e.y,s=i+e.width,n=r+e.height;return this.x>i&&(i=this.x),this.y>r&&(r=this.y),this.x+this.width<s&&(s=this.x+this.width),this.y+this.height<n&&(n=this.y+this.height),s<=i||n<=r?null:new t(i,r,s-i,n-r)},e.intersects=function(t){return t.x<=this.x+this.width&&this.x<=t.x+t.width&&t.y<=this.y+this.height&&this.y<=t.y+t.height},e.isEmpty=function(){return this.width<=0||this.height<=0},e.clone=function(){return new t(this.x,this.y,this.width,this.height)},e.toString=function(){return"[Rectangle (x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+")]"},createjs.Rectangle=t}(),function(){"use strict";function t(t,e,i,r,s,n,a){t.addEventListener&&(this.target=t,this.overLabel=null==i?"over":i,this.outLabel=null==e?"out":e,this.downLabel=null==r?"down":r,this.play=s,this._isPressed=!1,this._isOver=!1,this._enabled=!1,t.mouseChildren=!1,this.enabled=!0,this.handleEvent({}),n&&(a&&(n.actionsEnabled=!1,n.gotoAndStop&&n.gotoAndStop(a)),t.hitArea=n))}var e=t.prototype;e._setEnabled=function(t){if(t!=this._enabled){var e=this.target;this._enabled=t,t?(e.cursor="pointer",e.addEventListener("rollover",this),e.addEventListener("rollout",this),e.addEventListener("mousedown",this),e.addEventListener("pressup",this),e._reset&&(e.__reset=e._reset,e._reset=this._reset)):(e.cursor=null,e.removeEventListener("rollover",this),e.removeEventListener("rollout",this),e.removeEventListener("mousedown",this),e.removeEventListener("pressup",this),e.__reset&&(e._reset=e.__reset,delete e.__reset))}},e.setEnabled=createjs.deprecate(e._setEnabled,"ButtonHelper.setEnabled"),e._getEnabled=function(){return this._enabled},e.getEnabled=createjs.deprecate(e._getEnabled,"ButtonHelper.getEnabled");try{Object.defineProperties(e,{enabled:{get:e._getEnabled,set:e._setEnabled}})}catch(t){}e.toString=function(){return"[ButtonHelper]"},e.handleEvent=function(t){var e,i=this.target,r=t.type;"mousedown"==r?(this._isPressed=!0,e=this.downLabel):"pressup"==r?(this._isPressed=!1,e=this._isOver?this.overLabel:this.outLabel):"rollover"==r?(this._isOver=!0,e=this._isPressed?this.downLabel:this.overLabel):(this._isOver=!1,e=this._isPressed?this.overLabel:this.outLabel),this.play?i.gotoAndPlay&&i.gotoAndPlay(e):i.gotoAndStop&&i.gotoAndStop(e)},e._reset=function(){var t=this.paused;this.__reset(),this.paused=t},createjs.ButtonHelper=t}(),function(){"use strict";function t(t,e,i,r){this.color=t||"black",this.offsetX=e||0,this.offsetY=i||0,this.blur=r||0}var e=t.prototype;t.identity=new t("transparent",0,0,0),e.toString=function(){return"[Shadow]"},e.clone=function(){return new t(this.color,this.offsetX,this.offsetY,this.blur)},createjs.Shadow=t}(),function(){"use strict";function t(t){this.EventDispatcher_constructor(),this.complete=!0,this.framerate=0,this._animations=null,this._frames=null,this._images=null,this._data=null,this._loadCount=0,this._frameHeight=0,this._frameWidth=0,this._numFrames=0,this._regX=0,this._regY=0,this._spacing=0,this._margin=0,this._parseData(t)}var e=createjs.extend(t,createjs.EventDispatcher);e._getAnimations=function(){return this._animations.slice()},e.getAnimations=createjs.deprecate(e._getAnimations,"SpriteSheet.getAnimations");try{Object.defineProperties(e,{animations:{get:e._getAnimations}})}catch(t){}e.getNumFrames=function(t){if(null==t)return this._frames?this._frames.length:this._numFrames||0;var e=this._data[t];return null==e?0:e.frames.length},e.getAnimation=function(t){return this._data[t]},e.getFrame=function(t){var e;return this._frames&&(e=this._frames[t])?e:null},e.getFrameBounds=function(t,e){var i=this.getFrame(t);return i?(e||new createjs.Rectangle).setValues(-i.regX,-i.regY,i.rect.width,i.rect.height):null},e.toString=function(){return"[SpriteSheet]"},e.clone=function(){throw"SpriteSheet cannot be cloned."},e._parseData=function(t){var e,i,r,s;if(null!=t){if(this.framerate=t.framerate||0,t.images&&(i=t.images.length)>0)for(s=this._images=[],e=0;e<i;e++){var n=t.images[e];if("string"==typeof n){var a=n;(n=document.createElement("img")).src=a}s.push(n),n.getContext||n.naturalWidth||(this._loadCount++,this.complete=!1,function(t,e){n.onload=function(){t._handleImageLoad(e)}}(this,a),function(t,e){n.onerror=function(){t._handleImageError(e)}}(this,a))}if(null==t.frames);else if(Array.isArray(t.frames))for(this._frames=[],e=0,i=(s=t.frames).length;e<i;e++){var o=s[e];this._frames.push({image:this._images[o[4]?o[4]:0],rect:new createjs.Rectangle(o[0],o[1],o[2],o[3]),regX:o[5]||0,regY:o[6]||0})}else r=t.frames,this._frameWidth=r.width,this._frameHeight=r.height,this._regX=r.regX||0,this._regY=r.regY||0,this._spacing=r.spacing||0,this._margin=r.margin||0,this._numFrames=r.count,0==this._loadCount&&this._calculateFrames();var h;if(this._animations=[],null!=(r=t.animations))for(h in this._data={},r){var c={name:h},u=r[h];if("number"==typeof u)s=c.frames=[u];else if(Array.isArray(u))if(1==u.length)c.frames=[u[0]];else for(c.speed=u[3],c.next=u[2],s=c.frames=[],e=u[0];e<=u[1];e++)s.push(e);else{c.speed=u.speed,c.next=u.next;var l=u.frames;s=c.frames="number"==typeof l?[l]:l.slice(0)}!0!==c.next&&void 0!==c.next||(c.next=h),(!1===c.next||s.length<2&&c.next==h)&&(c.next=null),c.speed||(c.speed=1),this._animations.push(h),this._data[h]=c}}},e._handleImageLoad=function(t){0==--this._loadCount&&(this._calculateFrames(),this.complete=!0,this.dispatchEvent("complete"))},e._handleImageError=function(t){var e=new createjs.Event("error");e.src=t,this.dispatchEvent(e),0==--this._loadCount&&this.dispatchEvent("complete")},e._calculateFrames=function(){if(!this._frames&&0!=this._frameWidth){this._frames=[];var t=this._numFrames||1e5,e=0,i=this._frameWidth,r=this._frameHeight,s=this._spacing,n=this._margin;t:for(var a=0,o=this._images;a<o.length;a++)for(var h=o[a],c=h.width||h.naturalWidth,u=h.height||h.naturalHeight,l=n;l<=u-n-r;){for(var d=n;d<=c-n-i;){if(e>=t)break t;e++,this._frames.push({image:h,rect:new createjs.Rectangle(d,l,i,r),regX:this._regX,regY:this._regY}),d+=i+s}l+=r+s}this._numFrames=e}},createjs.SpriteSheet=createjs.promote(t,"EventDispatcher")}(),function(){"use strict";function t(){this.command=null,this._stroke=null,this._strokeStyle=null,this._oldStrokeStyle=null,this._strokeDash=null,this._oldStrokeDash=null,this._strokeIgnoreScale=!1,this._fill=null,this._instructions=[],this._commitIndex=0,this._activeInstructions=[],this._dirty=!1,this._storeIndex=0,this.clear()}var e=t.prototype,i=t;t.getRGB=function(t,e,i,r){return null!=t&&null==i&&(r=e,i=255&t,e=t>>8&255,t=t>>16&255),null==r?"rgb("+t+","+e+","+i+")":"rgba("+t+","+e+","+i+","+r+")"},t.getHSL=function(t,e,i,r){return null==r?"hsl("+t%360+","+e+"%,"+i+"%)":"hsla("+t%360+","+e+"%,"+i+"%,"+r+")"},t.BASE_64={A:0,B:1,C:2,D:3,E:4,F:5,G:6,H:7,I:8,J:9,K:10,L:11,M:12,N:13,O:14,P:15,Q:16,R:17,S:18,T:19,U:20,V:21,W:22,X:23,Y:24,Z:25,a:26,b:27,c:28,d:29,e:30,f:31,g:32,h:33,i:34,j:35,k:36,l:37,m:38,n:39,o:40,p:41,q:42,r:43,s:44,t:45,u:46,v:47,w:48,x:49,y:50,z:51,0:52,1:53,2:54,3:55,4:56,5:57,6:58,7:59,8:60,9:61,"+":62,"/":63},t.STROKE_CAPS_MAP=["butt","round","square"],t.STROKE_JOINTS_MAP=["miter","round","bevel"];var r=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");r.getContext&&(t._ctx=r.getContext("2d"),r.width=r.height=1),e._getInstructions=function(){return this._updateInstructions(),this._instructions},e.getInstructions=createjs.deprecate(e._getInstructions,"Graphics.getInstructions");try{Object.defineProperties(e,{instructions:{get:e._getInstructions}})}catch(t){}e.isEmpty=function(){return!(this._instructions.length||this._activeInstructions.length)},e.draw=function(t,e){this._updateInstructions();for(var i=this._instructions,r=this._storeIndex,s=i.length;r<s;r++)i[r].exec(t,e)},e.drawAsPath=function(t){this._updateInstructions();for(var e,i=this._instructions,r=this._storeIndex,s=i.length;r<s;r++)!1!==(e=i[r]).path&&e.exec(t)},e.moveTo=function(t,e){return this.append(new i.MoveTo(t,e),!0)},e.lineTo=function(t,e){return this.append(new i.LineTo(t,e))},e.arcTo=function(t,e,r,s,n){return this.append(new i.ArcTo(t,e,r,s,n))},e.arc=function(t,e,r,s,n,a){return this.append(new i.Arc(t,e,r,s,n,a))},e.quadraticCurveTo=function(t,e,r,s){return this.append(new i.QuadraticCurveTo(t,e,r,s))},e.bezierCurveTo=function(t,e,r,s,n,a){return this.append(new i.BezierCurveTo(t,e,r,s,n,a))},e.rect=function(t,e,r,s){return this.append(new i.Rect(t,e,r,s))},e.closePath=function(){return this._activeInstructions.length?this.append(new i.ClosePath):this},e.clear=function(){return this._instructions.length=this._activeInstructions.length=this._commitIndex=0,this._strokeStyle=this._oldStrokeStyle=this._stroke=this._fill=this._strokeDash=this._oldStrokeDash=null,this._dirty=this._strokeIgnoreScale=!1,this},e.beginFill=function(t){return this._setFill(t?new i.Fill(t):null)},e.beginLinearGradientFill=function(t,e,r,s,n,a){return this._setFill((new i.Fill).linearGradient(t,e,r,s,n,a))},e.beginRadialGradientFill=function(t,e,r,s,n,a,o,h){return this._setFill((new i.Fill).radialGradient(t,e,r,s,n,a,o,h))},e.beginBitmapFill=function(t,e,r){return this._setFill(new i.Fill(null,r).bitmap(t,e))},e.endFill=function(){return this.beginFill()},e.setStrokeStyle=function(t,e,r,s,n){return this._updateInstructions(!0),this._strokeStyle=this.command=new i.StrokeStyle(t,e,r,s,n),this._stroke&&(this._stroke.ignoreScale=n),this._strokeIgnoreScale=n,this},e.setStrokeDash=function(t,e){return this._updateInstructions(!0),this._strokeDash=this.command=new i.StrokeDash(t,e),this},e.beginStroke=function(t){return this._setStroke(t?new i.Stroke(t):null)},e.beginLinearGradientStroke=function(t,e,r,s,n,a){return this._setStroke((new i.Stroke).linearGradient(t,e,r,s,n,a))},e.beginRadialGradientStroke=function(t,e,r,s,n,a,o,h){return this._setStroke((new i.Stroke).radialGradient(t,e,r,s,n,a,o,h))},e.beginBitmapStroke=function(t,e){return this._setStroke((new i.Stroke).bitmap(t,e))},e.endStroke=function(){return this.beginStroke()},e.curveTo=e.quadraticCurveTo,e.drawRect=e.rect,e.drawRoundRect=function(t,e,i,r,s){return this.drawRoundRectComplex(t,e,i,r,s,s,s,s)},e.drawRoundRectComplex=function(t,e,r,s,n,a,o,h){return this.append(new i.RoundRect(t,e,r,s,n,a,o,h))},e.drawCircle=function(t,e,r){return this.append(new i.Circle(t,e,r))},e.drawEllipse=function(t,e,r,s){return this.append(new i.Ellipse(t,e,r,s))},e.drawPolyStar=function(t,e,r,s,n,a){return this.append(new i.PolyStar(t,e,r,s,n,a))},e.append=function(t,e){return this._activeInstructions.push(t),this.command=t,e||(this._dirty=!0),this},e.decodePath=function(e){for(var i=[this.moveTo,this.lineTo,this.quadraticCurveTo,this.bezierCurveTo,this.closePath],r=[2,2,4,6,0],s=0,n=e.length,a=[],o=0,h=0,c=t.BASE_64;s<n;){var u=e.charAt(s),l=c[u],d=l>>3,_=i[d];if(!_||3&l)throw"bad path data (@"+s+"): "+u;var p=r[d];d||(o=h=0),a.length=0,s++;for(var f=2+(l>>2&1),g=0;g<p;g++){var m=c[e.charAt(s)],v=m>>5?-1:1;m=(31&m)<<6|c[e.charAt(s+1)],3==f&&(m=m<<6|c[e.charAt(s+2)]),m=v*m/10,g%2?o=m+=o:h=m+=h,a[g]=m,s+=f}_.apply(this,a)}return this},e.store=function(){return this._updateInstructions(!0),this._storeIndex=this._instructions.length,this},e.unstore=function(){return this._storeIndex=0,this},e.clone=function(){var e=new t;return e.command=this.command,e._stroke=this._stroke,e._strokeStyle=this._strokeStyle,e._strokeDash=this._strokeDash,e._strokeIgnoreScale=this._strokeIgnoreScale,e._fill=this._fill,e._instructions=this._instructions.slice(),e._commitIndex=this._commitIndex,e._activeInstructions=this._activeInstructions.slice(),e._dirty=this._dirty,e._storeIndex=this._storeIndex,e},e.toString=function(){return"[Graphics]"},e.mt=e.moveTo,e.lt=e.lineTo,e.at=e.arcTo,e.bt=e.bezierCurveTo,e.qt=e.quadraticCurveTo,e.a=e.arc,e.r=e.rect,e.cp=e.closePath,e.c=e.clear,e.f=e.beginFill,e.lf=e.beginLinearGradientFill,e.rf=e.beginRadialGradientFill,e.bf=e.beginBitmapFill,e.ef=e.endFill,e.ss=e.setStrokeStyle,e.sd=e.setStrokeDash,e.s=e.beginStroke,e.ls=e.beginLinearGradientStroke,e.rs=e.beginRadialGradientStroke,e.bs=e.beginBitmapStroke,e.es=e.endStroke,e.dr=e.drawRect,e.rr=e.drawRoundRect,e.rc=e.drawRoundRectComplex,e.dc=e.drawCircle,e.de=e.drawEllipse,e.dp=e.drawPolyStar,e.p=e.decodePath,e._updateInstructions=function(e){var i=this._instructions,r=this._activeInstructions,s=this._commitIndex;if(this._dirty&&r.length){i.length=s,i.push(t.beginCmd);var n=r.length,a=i.length;i.length=a+n;for(var o=0;o<n;o++)i[o+a]=r[o];this._fill&&i.push(this._fill),this._stroke&&(this._strokeDash!==this._oldStrokeDash&&i.push(this._strokeDash),this._strokeStyle!==this._oldStrokeStyle&&i.push(this._strokeStyle),e&&(this._oldStrokeStyle=this._strokeStyle,this._oldStrokeDash=this._strokeDash),i.push(this._stroke)),this._dirty=!1}e&&(r.length=0,this._commitIndex=i.length)},e._setFill=function(t){return this._updateInstructions(!0),this.command=this._fill=t,this},e._setStroke=function(t){return this._updateInstructions(!0),(this.command=this._stroke=t)&&(t.ignoreScale=this._strokeIgnoreScale),this},(i.LineTo=function(t,e){this.x=t,this.y=e}).prototype.exec=function(t){t.lineTo(this.x,this.y)},(i.MoveTo=function(t,e){this.x=t,this.y=e}).prototype.exec=function(t){t.moveTo(this.x,this.y)},(i.ArcTo=function(t,e,i,r,s){this.x1=t,this.y1=e,this.x2=i,this.y2=r,this.radius=s}).prototype.exec=function(t){t.arcTo(this.x1,this.y1,this.x2,this.y2,this.radius)},(i.Arc=function(t,e,i,r,s,n){this.x=t,this.y=e,this.radius=i,this.startAngle=r,this.endAngle=s,this.anticlockwise=!!n}).prototype.exec=function(t){t.arc(this.x,this.y,this.radius,this.startAngle,this.endAngle,this.anticlockwise)},(i.QuadraticCurveTo=function(t,e,i,r){this.cpx=t,this.cpy=e,this.x=i,this.y=r}).prototype.exec=function(t){t.quadraticCurveTo(this.cpx,this.cpy,this.x,this.y)},(i.BezierCurveTo=function(t,e,i,r,s,n){this.cp1x=t,this.cp1y=e,this.cp2x=i,this.cp2y=r,this.x=s,this.y=n}).prototype.exec=function(t){t.bezierCurveTo(this.cp1x,this.cp1y,this.cp2x,this.cp2y,this.x,this.y)},(i.Rect=function(t,e,i,r){this.x=t,this.y=e,this.w=i,this.h=r}).prototype.exec=function(t){t.rect(this.x,this.y,this.w,this.h)},(i.ClosePath=function(){}).prototype.exec=function(t){t.closePath()},(i.BeginPath=function(){}).prototype.exec=function(t){t.beginPath()},(e=(i.Fill=function(t,e){this.style=t,this.matrix=e}).prototype).exec=function(t){if(this.style){t.fillStyle=this.style;var e=this.matrix;e&&(t.save(),t.transform(e.a,e.b,e.c,e.d,e.tx,e.ty)),t.fill(),e&&t.restore()}},e.linearGradient=function(e,i,r,s,n,a){for(var o=this.style=t._ctx.createLinearGradient(r,s,n,a),h=0,c=e.length;h<c;h++)o.addColorStop(i[h],e[h]);return o.props={colors:e,ratios:i,x0:r,y0:s,x1:n,y1:a,type:"linear"},this},e.radialGradient=function(e,i,r,s,n,a,o,h){for(var c=this.style=t._ctx.createRadialGradient(r,s,n,a,o,h),u=0,l=e.length;u<l;u++)c.addColorStop(i[u],e[u]);return c.props={colors:e,ratios:i,x0:r,y0:s,r0:n,x1:a,y1:o,r1:h,type:"radial"},this},e.bitmap=function(e,i){(e.naturalWidth||e.getContext||e.readyState>=2)&&((this.style=t._ctx.createPattern(e,i||"")).props={image:e,repetition:i,type:"bitmap"});return this},e.path=!1,(e=(i.Stroke=function(t,e){this.style=t,this.ignoreScale=e}).prototype).exec=function(t){this.style&&(t.strokeStyle=this.style,this.ignoreScale&&(t.save(),t.setTransform(1,0,0,1,0,0)),t.stroke(),this.ignoreScale&&t.restore())},e.linearGradient=i.Fill.prototype.linearGradient,e.radialGradient=i.Fill.prototype.radialGradient,e.bitmap=i.Fill.prototype.bitmap,e.path=!1,(e=(i.StrokeStyle=function(t,e,i,r,s){this.width=t,this.caps=e,this.joints=i,this.miterLimit=r,this.ignoreScale=s}).prototype).exec=function(e){e.lineWidth=null==this.width?"1":this.width,e.lineCap=null==this.caps?"butt":isNaN(this.caps)?this.caps:t.STROKE_CAPS_MAP[this.caps],e.lineJoin=null==this.joints?"miter":isNaN(this.joints)?this.joints:t.STROKE_JOINTS_MAP[this.joints],e.miterLimit=null==this.miterLimit?"10":this.miterLimit,e.ignoreScale=null!=this.ignoreScale&&this.ignoreScale},e.path=!1,(i.StrokeDash=function(t,e){this.segments=t,this.offset=e||0}).prototype.exec=function(t){t.setLineDash&&(t.setLineDash(this.segments||i.StrokeDash.EMPTY_SEGMENTS),t.lineDashOffset=this.offset||0)},i.StrokeDash.EMPTY_SEGMENTS=[],(i.RoundRect=function(t,e,i,r,s,n,a,o){this.x=t,this.y=e,this.w=i,this.h=r,this.radiusTL=s,this.radiusTR=n,this.radiusBR=a,this.radiusBL=o}).prototype.exec=function(t){var e=(h<c?h:c)/2,i=0,r=0,s=0,n=0,a=this.x,o=this.y,h=this.w,c=this.h,u=this.radiusTL,l=this.radiusTR,d=this.radiusBR,_=this.radiusBL;u<0&&(u*=i=-1),u>e&&(u=e),l<0&&(l*=r=-1),l>e&&(l=e),d<0&&(d*=s=-1),d>e&&(d=e),_<0&&(_*=n=-1),_>e&&(_=e),t.moveTo(a+h-l,o),t.arcTo(a+h+l*r,o-l*r,a+h,o+l,l),t.lineTo(a+h,o+c-d),t.arcTo(a+h+d*s,o+c+d*s,a+h-d,o+c,d),t.lineTo(a+_,o+c),t.arcTo(a-_*n,o+c+_*n,a,o+c-_,_),t.lineTo(a,o+u),t.arcTo(a-u*i,o-u*i,a+u,o,u),t.closePath()},(i.Circle=function(t,e,i){this.x=t,this.y=e,this.radius=i}).prototype.exec=function(t){t.arc(this.x,this.y,this.radius,0,2*Math.PI)},(i.Ellipse=function(t,e,i,r){this.x=t,this.y=e,this.w=i,this.h=r}).prototype.exec=function(t){var e=this.x,i=this.y,r=this.w,s=this.h,n=r/2*.5522848,a=s/2*.5522848,o=e+r,h=i+s,c=e+r/2,u=i+s/2;t.moveTo(e,u),t.bezierCurveTo(e,u-a,c-n,i,c,i),t.bezierCurveTo(c+n,i,o,u-a,o,u),t.bezierCurveTo(o,u+a,c+n,h,c,h),t.bezierCurveTo(c-n,h,e,u+a,e,u)},(i.PolyStar=function(t,e,i,r,s,n){this.x=t,this.y=e,this.radius=i,this.sides=r,this.pointSize=s,this.angle=n}).prototype.exec=function(t){var e=this.x,i=this.y,r=this.radius,s=(this.angle||0)/180*Math.PI,n=this.sides,a=1-(this.pointSize||0),o=Math.PI/n;t.moveTo(e+Math.cos(s)*r,i+Math.sin(s)*r);for(var h=0;h<n;h++)s+=o,1!=a&&t.lineTo(e+Math.cos(s)*r*a,i+Math.sin(s)*r*a),s+=o,t.lineTo(e+Math.cos(s)*r,i+Math.sin(s)*r);t.closePath()},t.beginCmd=new i.BeginPath,createjs.Graphics=t}(),function(){"use strict";function t(){this.EventDispatcher_constructor(),this.alpha=1,this.cacheCanvas=null,this.bitmapCache=null,this.id=createjs.UID.get(),this.mouseEnabled=!0,this.tickEnabled=!0,this.name=null,this.parent=null,this.regX=0,this.regY=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.skewX=0,this.skewY=0,this.shadow=null,this.visible=!0,this.x=0,this.y=0,this.transformMatrix=null,this.compositeOperation=null,this.snapToPixel=!0,this.filters=null,this.mask=null,this.hitArea=null,this.cursor=null,this._props=new createjs.DisplayProps,this._rectangle=new createjs.Rectangle,this._bounds=null,this._webGLRenderStyle=t._StageGL_NONE}var e=createjs.extend(t,createjs.EventDispatcher);t._MOUSE_EVENTS=["click","dblclick","mousedown","mouseout","mouseover","pressmove","pressup","rollout","rollover"],t.suppressCrossDomainErrors=!1,t._snapToPixelEnabled=!1,t._StageGL_NONE=0,t._StageGL_SPRITE=1,t._StageGL_BITMAP=2;var i=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");i.getContext&&(t._hitTestCanvas=i,t._hitTestContext=i.getContext("2d"),i.width=i.height=1),e._getStage=function(){for(var t=this,e=createjs.Stage;t.parent;)t=t.parent;return t instanceof e?t:null},e.getStage=createjs.deprecate(e._getStage,"DisplayObject.getStage");try{Object.defineProperties(e,{stage:{get:e._getStage},cacheID:{get:function(){return this.bitmapCache&&this.bitmapCache.cacheID},set:function(t){this.bitmapCache&&(this.bitmapCache.cacheID=t)}},scale:{get:function(){return this.scaleX},set:function(t){this.scaleX=this.scaleY=t}}})}catch(t){}e.isVisible=function(){return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY)},e.draw=function(t,e){var i=this.bitmapCache;return!(!i||e)&&i.draw(t)},e.updateContext=function(e){var i=this,r=i.mask,s=i._props.matrix;r&&r.graphics&&!r.graphics.isEmpty()&&(r.getMatrix(s),e.transform(s.a,s.b,s.c,s.d,s.tx,s.ty),r.graphics.drawAsPath(e),e.clip(),s.invert(),e.transform(s.a,s.b,s.c,s.d,s.tx,s.ty)),this.getMatrix(s);var n=s.tx,a=s.ty;t._snapToPixelEnabled&&i.snapToPixel&&(n=n+(n<0?-.5:.5)|0,a=a+(a<0?-.5:.5)|0),e.transform(s.a,s.b,s.c,s.d,n,a),e.globalAlpha*=i.alpha,i.compositeOperation&&(e.globalCompositeOperation=i.compositeOperation),i.shadow&&this._applyShadow(e,i.shadow)},e.cache=function(t,e,i,r,s,n){this.bitmapCache||(this.bitmapCache=new createjs.BitmapCache),this.bitmapCache.define(this,t,e,i,r,s,n)},e.updateCache=function(t){if(!this.bitmapCache)throw"cache() must be called before updateCache()";this.bitmapCache.update(t)},e.uncache=function(){this.bitmapCache&&(this.bitmapCache.release(),this.bitmapCache=void 0)},e.getCacheDataURL=function(){return this.bitmapCache?this.bitmapCache.getDataURL():null},e.localToGlobal=function(t,e,i){return this.getConcatenatedMatrix(this._props.matrix).transformPoint(t,e,i||new createjs.Point)},e.globalToLocal=function(t,e,i){return this.getConcatenatedMatrix(this._props.matrix).invert().transformPoint(t,e,i||new createjs.Point)},e.localToLocal=function(t,e,i,r){return r=this.localToGlobal(t,e,r),i.globalToLocal(r.x,r.y,r)},e.setTransform=function(t,e,i,r,s,n,a,o,h){return this.x=t||0,this.y=e||0,this.scaleX=null==i?1:i,this.scaleY=null==r?1:r,this.rotation=s||0,this.skewX=n||0,this.skewY=a||0,this.regX=o||0,this.regY=h||0,this},e.getMatrix=function(t){var e=this,i=t&&t.identity()||new createjs.Matrix2D;return e.transformMatrix?i.copy(e.transformMatrix):i.appendTransform(e.x,e.y,e.scaleX,e.scaleY,e.rotation,e.skewX,e.skewY,e.regX,e.regY)},e.getConcatenatedMatrix=function(t){for(var e=this,i=this.getMatrix(t);e=e.parent;)i.prependMatrix(e.getMatrix(e._props.matrix));return i},e.getConcatenatedDisplayProps=function(t){t=t?t.identity():new createjs.DisplayProps;var e=this,i=e.getMatrix(t.matrix);do{t.prepend(e.visible,e.alpha,e.shadow,e.compositeOperation),e!=this&&i.prependMatrix(e.getMatrix(e._props.matrix))}while(e=e.parent);return t},e.hitTest=function(e,i){var r=t._hitTestContext;r.setTransform(1,0,0,1,-e,-i),this.draw(r);var s=this._testHit(r);return r.setTransform(1,0,0,1,0,0),r.clearRect(0,0,2,2),s},e.set=function(t){for(var e in t)this[e]=t[e];return this},e.getBounds=function(){if(this._bounds)return this._rectangle.copy(this._bounds);var t=this.cacheCanvas;if(t){var e=this._cacheScale;return this._rectangle.setValues(this._cacheOffsetX,this._cacheOffsetY,t.width/e,t.height/e)}return null},e.getTransformedBounds=function(){return this._getBounds()},e.setBounds=function(t,e,i,r){this._bounds=null!=t?(this._bounds||new createjs.Rectangle).setValues(t,e,i,r):t},e.clone=function(){return this._cloneProps(new t)},e.toString=function(){return"[DisplayObject (name="+this.name+")]"},e._updateState=null,e._cloneProps=function(t){return t.alpha=this.alpha,t.mouseEnabled=this.mouseEnabled,t.tickEnabled=this.tickEnabled,t.name=this.name,t.regX=this.regX,t.regY=this.regY,t.rotation=this.rotation,t.scaleX=this.scaleX,t.scaleY=this.scaleY,t.shadow=this.shadow,t.skewX=this.skewX,t.skewY=this.skewY,t.visible=this.visible,t.x=this.x,t.y=this.y,t.compositeOperation=this.compositeOperation,t.snapToPixel=this.snapToPixel,t.filters=null==this.filters?null:this.filters.slice(0),t.mask=this.mask,t.hitArea=this.hitArea,t.cursor=this.cursor,t._bounds=this._bounds,t},e._applyShadow=function(t,e){e=e||Shadow.identity,t.shadowColor=e.color,t.shadowOffsetX=e.offsetX,t.shadowOffsetY=e.offsetY,t.shadowBlur=e.blur},e._tick=function(t){var e=this._listeners;e&&e.tick&&(t.target=null,t.propagationStopped=t.immediatePropagationStopped=!1,this.dispatchEvent(t))},e._testHit=function(e){try{var i=e.getImageData(0,0,1,1).data[3]>1}catch(e){if(!t.suppressCrossDomainErrors)throw"An error has occurred. This is most likely due to security restrictions on reading canvas pixel data with local or cross-domain images."}return i},e._getBounds=function(t,e){return this._transformBounds(this.getBounds(),t,e)},e._transformBounds=function(t,e,i){if(!t)return t;var r=t.x,s=t.y,n=t.width,a=t.height,o=this._props.matrix;o=i?o.identity():this.getMatrix(o),(r||s)&&o.appendTransform(0,0,1,1,0,0,0,-r,-s),e&&o.prependMatrix(e);var h=n*o.a,c=n*o.b,u=a*o.c,l=a*o.d,d=o.tx,_=o.ty,p=d,f=d,g=_,m=_;return(r=h+d)<p?p=r:r>f&&(f=r),(r=h+u+d)<p?p=r:r>f&&(f=r),(r=u+d)<p?p=r:r>f&&(f=r),(s=c+_)<g?g=s:s>m&&(m=s),(s=c+l+_)<g?g=s:s>m&&(m=s),(s=l+_)<g?g=s:s>m&&(m=s),t.setValues(p,g,f-p,m-g)},e._hasMouseEventListener=function(){for(var e=t._MOUSE_EVENTS,i=0,r=e.length;i<r;i++)if(this.hasEventListener(e[i]))return!0;return!!this.cursor},createjs.DisplayObject=createjs.promote(t,"EventDispatcher")}(),function(){"use strict";function t(){this.DisplayObject_constructor(),this.children=[],this.mouseChildren=!0,this.tickChildren=!0}var e=createjs.extend(t,createjs.DisplayObject);e._getNumChildren=function(){return this.children.length},e.getNumChildren=createjs.deprecate(e._getNumChildren,"Container.getNumChildren");try{Object.defineProperties(e,{numChildren:{get:e._getNumChildren}})}catch(t){}e.initialize=t,e.isVisible=function(){var t=this.cacheCanvas||this.children.length;return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&t)},e.draw=function(t,e){if(this.DisplayObject_draw(t,e))return!0;for(var i=this.children.slice(),r=0,s=i.length;r<s;r++){var n=i[r];n.isVisible()&&(t.save(),n.updateContext(t),n.draw(t),t.restore())}return!0},e.addChild=function(t){if(null==t)return t;var e=arguments.length;if(e>1){for(var i=0;i<e;i++)this.addChild(arguments[i]);return arguments[e-1]}var r=t.parent,s=r===this;return r&&r._removeChildAt(createjs.indexOf(r.children,t),s),t.parent=this,this.children.push(t),s||t.dispatchEvent("added"),t},e.addChildAt=function(t,e){var i=arguments.length,r=arguments[i-1];if(r<0||r>this.children.length)return arguments[i-2];if(i>2){for(var s=0;s<i-1;s++)this.addChildAt(arguments[s],r+s);return arguments[i-2]}var n=t.parent,a=n===this;return n&&n._removeChildAt(createjs.indexOf(n.children,t),a),t.parent=this,this.children.splice(e,0,t),a||t.dispatchEvent("added"),t},e.removeChild=function(t){var e=arguments.length;if(e>1){for(var i=!0,r=0;r<e;r++)i=i&&this.removeChild(arguments[r]);return i}return this._removeChildAt(createjs.indexOf(this.children,t))},e.removeChildAt=function(t){var e=arguments.length;if(e>1){for(var i=[],r=0;r<e;r++)i[r]=arguments[r];i.sort(function(t,e){return e-t});var s=!0;for(r=0;r<e;r++)s=s&&this._removeChildAt(i[r]);return s}return this._removeChildAt(t)},e.removeAllChildren=function(){for(var t=this.children;t.length;)this._removeChildAt(0)},e.getChildAt=function(t){return this.children[t]},e.getChildByName=function(t){for(var e=this.children,i=0,r=e.length;i<r;i++)if(e[i].name==t)return e[i];return null},e.sortChildren=function(t){this.children.sort(t)},e.getChildIndex=function(t){return createjs.indexOf(this.children,t)},e.swapChildrenAt=function(t,e){var i=this.children,r=i[t],s=i[e];r&&s&&(i[t]=s,i[e]=r)},e.swapChildren=function(t,e){for(var i,r,s=this.children,n=0,a=s.length;n<a&&(s[n]==t&&(i=n),s[n]==e&&(r=n),null==i||null==r);n++);n!=a&&(s[i]=e,s[r]=t)},e.setChildIndex=function(t,e){var i=this.children,r=i.length;if(!(t.parent!=this||e<0||e>=r)){for(var s=0;s<r&&i[s]!=t;s++);s!=r&&s!=e&&(i.splice(s,1),i.splice(e,0,t))}},e.contains=function(t){for(;t;){if(t==this)return!0;t=t.parent}return!1},e.hitTest=function(t,e){return null!=this.getObjectUnderPoint(t,e)},e.getObjectsUnderPoint=function(t,e,i){var r=[],s=this.localToGlobal(t,e);return this._getObjectsUnderPoint(s.x,s.y,r,i>0,1==i),r},e.getObjectUnderPoint=function(t,e,i){var r=this.localToGlobal(t,e);return this._getObjectsUnderPoint(r.x,r.y,null,i>0,1==i)},e.getBounds=function(){return this._getBounds(null,!0)},e.getTransformedBounds=function(){return this._getBounds()},e.clone=function(e){var i=this._cloneProps(new t);return e&&this._cloneChildren(i),i},e.toString=function(){return"[Container (name="+this.name+")]"},e._tick=function(t){if(this.tickChildren)for(var e=this.children.length-1;e>=0;e--){var i=this.children[e];i.tickEnabled&&i._tick&&i._tick(t)}this.DisplayObject__tick(t)},e._cloneChildren=function(t){t.children.length&&t.removeAllChildren();for(var e=t.children,i=0,r=this.children.length;i<r;i++){var s=this.children[i].clone(!0);s.parent=t,e.push(s)}},e._removeChildAt=function(t,e){if(t<0||t>this.children.length-1)return!1;var i=this.children[t];return i&&(i.parent=null),this.children.splice(t,1),e||i.dispatchEvent("removed"),!0},e._getObjectsUnderPoint=function(e,i,r,s,n,a){if(!(a=a||0)&&!this._testMask(this,e,i))return null;var o,h=createjs.DisplayObject._hitTestContext;n=n||s&&this._hasMouseEventListener();for(var c=this.children,u=c.length-1;u>=0;u--){var l=c[u],d=l.hitArea;if(l.visible&&(d||l.isVisible())&&(!s||l.mouseEnabled)&&(d||this._testMask(l,e,i)))if(!d&&l instanceof t){var _=l._getObjectsUnderPoint(e,i,r,s,n,a+1);if(!r&&_)return s&&!this.mouseChildren?this:_}else{if(s&&!n&&!l._hasMouseEventListener())continue;var p=l.getConcatenatedDisplayProps(l._props);if(o=p.matrix,d&&(o.appendMatrix(d.getMatrix(d._props.matrix)),p.alpha=d.alpha),h.globalAlpha=p.alpha,h.setTransform(o.a,o.b,o.c,o.d,o.tx-e,o.ty-i),(d||l).draw(h),!this._testHit(h))continue;if(h.setTransform(1,0,0,1,0,0),h.clearRect(0,0,2,2),!r)return s&&!this.mouseChildren?this:l;r.push(l)}}return null},e._testMask=function(t,e,i){var r=t.mask;if(!r||!r.graphics||r.graphics.isEmpty())return!0;var s=this._props.matrix,n=t.parent;s=n?n.getConcatenatedMatrix(s):s.identity(),s=r.getMatrix(r._props.matrix).prependMatrix(s);var a=createjs.DisplayObject._hitTestContext;return a.setTransform(s.a,s.b,s.c,s.d,s.tx-e,s.ty-i),r.graphics.drawAsPath(a),a.fillStyle="#000",a.fill(),!!this._testHit(a)&&(a.setTransform(1,0,0,1,0,0),a.clearRect(0,0,2,2),!0)},e._getBounds=function(t,e){var i=this.DisplayObject_getBounds();if(i)return this._transformBounds(i,t,e);var r=this._props.matrix;r=e?r.identity():this.getMatrix(r),t&&r.prependMatrix(t);for(var s=this.children.length,n=null,a=0;a<s;a++){var o=this.children[a];o.visible&&(i=o._getBounds(r))&&(n?n.extend(i.x,i.y,i.width,i.height):n=i.clone())}return n},createjs.Container=createjs.promote(t,"DisplayObject")}(),function(){"use strict";function t(t){this.Container_constructor(),this.autoClear=!0,this.canvas="string"==typeof t?document.getElementById(t):t,this.mouseX=0,this.mouseY=0,this.drawRect=null,this.snapToPixelEnabled=!1,this.mouseInBounds=!1,this.tickOnUpdate=!0,this.mouseMoveOutside=!1,this.preventSelection=!0,this._pointerData={},this._pointerCount=0,this._primaryPointerID=null,this._mouseOverIntervalID=null,this._nextStage=null,this._prevStage=null,this.enableDOMEvents(!0)}var e=createjs.extend(t,createjs.Container);e._get_nextStage=function(){return this._nextStage},e._set_nextStage=function(t){this._nextStage&&(this._nextStage._prevStage=null),t&&(t._prevStage=this),this._nextStage=t};try{Object.defineProperties(e,{nextStage:{get:e._get_nextStage,set:e._set_nextStage}})}catch(t){}e.update=function(t){if(this.canvas&&(this.tickOnUpdate&&this.tick(t),!1!==this.dispatchEvent("drawstart",!1,!0))){createjs.DisplayObject._snapToPixelEnabled=this.snapToPixelEnabled;var e=this.drawRect,i=this.canvas.getContext("2d");i.setTransform(1,0,0,1,0,0),this.autoClear&&(e?i.clearRect(e.x,e.y,e.width,e.height):i.clearRect(0,0,this.canvas.width+1,this.canvas.height+1)),i.save(),this.drawRect&&(i.beginPath(),i.rect(e.x,e.y,e.width,e.height),i.clip()),this.updateContext(i),this.draw(i,!1),i.restore(),this.dispatchEvent("drawend")}},e.tick=function(t){if(this.tickEnabled&&!1!==this.dispatchEvent("tickstart",!1,!0)){var e=new createjs.Event("tick");if(t)for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);this._tick(e),this.dispatchEvent("tickend")}},e.handleEvent=function(t){"tick"==t.type&&this.update(t)},e.clear=function(){if(this.canvas){var t=this.canvas.getContext("2d");t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,this.canvas.width+1,this.canvas.height+1)}},e.toDataURL=function(t,e){var i,r=this.canvas.getContext("2d"),s=this.canvas.width,n=this.canvas.height;if(t){i=r.getImageData(0,0,s,n);var a=r.globalCompositeOperation;r.globalCompositeOperation="destination-over",r.fillStyle=t,r.fillRect(0,0,s,n)}var o=this.canvas.toDataURL(e||"image/png");return t&&(r.putImageData(i,0,0),r.globalCompositeOperation=a),o},e.enableMouseOver=function(t){if(this._mouseOverIntervalID&&(clearInterval(this._mouseOverIntervalID),this._mouseOverIntervalID=null,0==t&&this._testMouseOver(!0)),null==t)t=20;else if(t<=0)return;var e=this;this._mouseOverIntervalID=setInterval(function(){e._testMouseOver()},1e3/Math.min(50,t))},e.enableDOMEvents=function(t){null==t&&(t=!0);var e,i,r=this._eventListeners;if(!t&&r){for(e in r)(i=r[e]).t.removeEventListener(e,i.f,!1);this._eventListeners=null}else if(t&&!r&&this.canvas){var s=window.addEventListener?window:document,n=this;for(e in(r=this._eventListeners={}).mouseup={t:s,f:function(t){n._handleMouseUp(t)}},r.mousemove={t:s,f:function(t){n._handleMouseMove(t)}},r.dblclick={t:this.canvas,f:function(t){n._handleDoubleClick(t)}},r.mousedown={t:this.canvas,f:function(t){n._handleMouseDown(t)}},r)(i=r[e]).t.addEventListener(e,i.f,!1)}},e.clone=function(){throw"Stage cannot be cloned."},e.toString=function(){return"[Stage (name="+this.name+")]"},e._getElementRect=function(t){var e;try{e=t.getBoundingClientRect()}catch(i){e={top:t.offsetTop,left:t.offsetLeft,width:t.offsetWidth,height:t.offsetHeight}}var i=(window.pageXOffset||document.scrollLeft||0)-(document.clientLeft||document.body.clientLeft||0),r=(window.pageYOffset||document.scrollTop||0)-(document.clientTop||document.body.clientTop||0),s=window.getComputedStyle?getComputedStyle(t,null):t.currentStyle,n=parseInt(s.paddingLeft)+parseInt(s.borderLeftWidth),a=parseInt(s.paddingTop)+parseInt(s.borderTopWidth),o=parseInt(s.paddingRight)+parseInt(s.borderRightWidth),h=parseInt(s.paddingBottom)+parseInt(s.borderBottomWidth);return{left:e.left+i+n,right:e.right+i-o,top:e.top+r+a,bottom:e.bottom+r-h}},e._getPointerData=function(t){var e=this._pointerData[t];return e||(e=this._pointerData[t]={x:0,y:0}),e},e._handleMouseMove=function(t){t||(t=window.event),this._handlePointerMove(-1,t,t.pageX,t.pageY)},e._handlePointerMove=function(t,e,i,r,s){if((!this._prevStage||void 0!==s)&&this.canvas){var n=this._nextStage,a=this._getPointerData(t),o=a.inBounds;this._updatePointerPosition(t,e,i,r),(o||a.inBounds||this.mouseMoveOutside)&&(-1===t&&a.inBounds==!o&&this._dispatchMouseEvent(this,o?"mouseleave":"mouseenter",!1,t,a,e),this._dispatchMouseEvent(this,"stagemousemove",!1,t,a,e),this._dispatchMouseEvent(a.target,"pressmove",!0,t,a,e)),n&&n._handlePointerMove(t,e,i,r,null)}},e._updatePointerPosition=function(t,e,i,r){var s=this._getElementRect(this.canvas);i-=s.left,r-=s.top;var n=this.canvas.width,a=this.canvas.height;i/=(s.right-s.left)/n,r/=(s.bottom-s.top)/a;var o=this._getPointerData(t);(o.inBounds=i>=0&&r>=0&&i<=n-1&&r<=a-1)?(o.x=i,o.y=r):this.mouseMoveOutside&&(o.x=i<0?0:i>n-1?n-1:i,o.y=r<0?0:r>a-1?a-1:r),o.posEvtObj=e,o.rawX=i,o.rawY=r,t!==this._primaryPointerID&&-1!==t||(this.mouseX=o.x,this.mouseY=o.y,this.mouseInBounds=o.inBounds)},e._handleMouseUp=function(t){this._handlePointerUp(-1,t,!1)},e._handlePointerUp=function(t,e,i,r){var s=this._nextStage,n=this._getPointerData(t);if(!this._prevStage||void 0!==r){var a=null,o=n.target;r||!o&&!s||(a=this._getObjectsUnderPoint(n.x,n.y,null,!0)),n.down&&(this._dispatchMouseEvent(this,"stagemouseup",!1,t,n,e,a),n.down=!1),a==o&&this._dispatchMouseEvent(o,"click",!0,t,n,e),this._dispatchMouseEvent(o,"pressup",!0,t,n,e),i?(t==this._primaryPointerID&&(this._primaryPointerID=null),delete this._pointerData[t]):n.target=null,s&&s._handlePointerUp(t,e,i,r||a&&this)}},e._handleMouseDown=function(t){this._handlePointerDown(-1,t,t.pageX,t.pageY)},e._handlePointerDown=function(t,e,i,r,s){this.preventSelection&&e.preventDefault(),null!=this._primaryPointerID&&-1!==t||(this._primaryPointerID=t),null!=r&&this._updatePointerPosition(t,e,i,r);var n=null,a=this._nextStage,o=this._getPointerData(t);s||(n=o.target=this._getObjectsUnderPoint(o.x,o.y,null,!0)),o.inBounds&&(this._dispatchMouseEvent(this,"stagemousedown",!1,t,o,e,n),o.down=!0),this._dispatchMouseEvent(n,"mousedown",!0,t,o,e),a&&a._handlePointerDown(t,e,i,r,s||n&&this)},e._testMouseOver=function(t,e,i){if(!this._prevStage||void 0!==e){var r=this._nextStage;if(this._mouseOverIntervalID){var s=this._getPointerData(-1);if(s&&(t||this.mouseX!=this._mouseOverX||this.mouseY!=this._mouseOverY||!this.mouseInBounds)){var n,a,o,h=s.posEvtObj,c=i||h&&h.target==this.canvas,u=null,l=-1,d="";!e&&(t||this.mouseInBounds&&c)&&(u=this._getObjectsUnderPoint(this.mouseX,this.mouseY,null,!0),this._mouseOverX=this.mouseX,this._mouseOverY=this.mouseY);var _=this._mouseOverTarget||[],p=_[_.length-1],f=this._mouseOverTarget=[];for(n=u;n;)f.unshift(n),d||(d=n.cursor),n=n.parent;for(this.canvas.style.cursor=d,!e&&i&&(i.canvas.style.cursor=d),a=0,o=f.length;a<o&&f[a]==_[a];a++)l=a;for(p!=u&&this._dispatchMouseEvent(p,"mouseout",!0,-1,s,h,u),a=_.length-1;a>l;a--)this._dispatchMouseEvent(_[a],"rollout",!1,-1,s,h,u);for(a=f.length-1;a>l;a--)this._dispatchMouseEvent(f[a],"rollover",!1,-1,s,h,p);p!=u&&this._dispatchMouseEvent(u,"mouseover",!0,-1,s,h,p),r&&r._testMouseOver(t,e||u&&this,i||c&&this)}}else r&&r._testMouseOver(t,e,i)}},e._handleDoubleClick=function(t,e){var i=null,r=this._nextStage,s=this._getPointerData(-1);e||(i=this._getObjectsUnderPoint(s.x,s.y,null,!0),this._dispatchMouseEvent(i,"dblclick",!0,-1,s,t)),r&&r._handleDoubleClick(t,e||i&&this)},e._dispatchMouseEvent=function(t,e,i,r,s,n,a){if(t&&(i||t.hasEventListener(e))){var o=new createjs.MouseEvent(e,i,!1,s.x,s.y,n,r,r===this._primaryPointerID||-1===r,s.rawX,s.rawY,a);t.dispatchEvent(o)}},createjs.Stage=createjs.promote(t,"Container")}(),function(){"use strict";function t(e,i){if(this.Stage_constructor(e),void 0!==i){if("object"!=typeof i)throw"Invalid options object";var r=i.premultiply,s=i.transparent,n=i.antialias,a=i.preserveBuffer,o=i.autoPurge}this.vocalDebug=!1,this._preserveBuffer=a||!1,this._antialias=n||!1,this._transparent=s||!1,this._premultiply=r||!1,this._autoPurge=void 0,this.autoPurge=o,this._viewportWidth=0,this._viewportHeight=0,this._projectionMatrix=null,this._webGLContext=null,this._clearColor={r:.5,g:.5,b:.5,a:0},this._maxCardsPerBatch=t.DEFAULT_MAX_BATCH_SIZE,this._activeShader=null,this._vertices=null,this._vertexPositionBuffer=null,this._uvs=null,this._uvPositionBuffer=null,this._indices=null,this._textureIndexBuffer=null,this._alphas=null,this._alphaBuffer=null,this._textureDictionary=[],this._textureIDs={},this._batchTextures=[],this._baseTextures=[],this._batchTextureCount=8,this._lastTextureInsert=-1,this._batchID=0,this._drawID=0,this._slotBlacklist=[],this._isDrawing=0,this._lastTrackedCanvas=0,this.isCacheControlled=!1,this._cacheContainer=new createjs.Container,this._initializeWebGL()}var e=createjs.extend(t,createjs.Stage);t.buildUVRects=function(t,e,i){if(!t||!t._frames)return null;void 0===e&&(e=-1),void 0===i&&(i=!1);for(var r=-1!=e&&i?e:0,s=-1!=e&&i?e+1:t._frames.length,n=r;n<s;n++){var a=t._frames[n];if(!(a.uvRect||a.image.width<=0||a.image.height<=0)){var o=a.rect;a.uvRect={t:o.y/a.image.height,l:o.x/a.image.width,b:(o.y+o.height)/a.image.height,r:(o.x+o.width)/a.image.width}}}return t._frames[-1!=e?e:0].uvRect||{t:0,l:0,b:1,r:1}},t.isWebGLActive=function(t){return t&&t instanceof WebGLRenderingContext&&"undefined"!=typeof WebGLRenderingContext},t.VERTEX_PROPERTY_COUNT=6,t.INDICIES_PER_CARD=6,t.DEFAULT_MAX_BATCH_SIZE=1e4,t.WEBGL_MAX_INDEX_NUM=Math.pow(2,16),t.UV_RECT={t:0,l:0,b:1,r:1};try{t.COVER_VERT=new Float32Array([-1,1,1,1,-1,-1,1,1,1,-1,-1,-1]),t.COVER_UV=new Float32Array([0,0,1,0,0,1,1,0,1,1,0,1]),t.COVER_UV_FLIP=new Float32Array([0,1,1,1,0,0,1,1,1,0,0,0])}catch(t){}t.REGULAR_VARYING_HEADER="precision mediump float;varying vec2 vTextureCoord;varying lowp float indexPicker;varying lowp float alphaValue;",t.REGULAR_VERTEX_HEADER=t.REGULAR_VARYING_HEADER+"attribute vec2 vertexPosition;attribute vec2 uvPosition;attribute lowp float textureIndex;attribute lowp float objectAlpha;uniform mat4 pMatrix;",t.REGULAR_FRAGMENT_HEADER=t.REGULAR_VARYING_HEADER+"uniform sampler2D uSampler[{{count}}];",t.REGULAR_VERTEX_BODY="void main(void) {gl_Position = vec4((vertexPosition.x * pMatrix[0][0]) + pMatrix[3][0],(vertexPosition.y * pMatrix[1][1]) + pMatrix[3][1],pMatrix[3][2],1.0);alphaValue = objectAlpha;indexPicker = textureIndex;vTextureCoord = uvPosition;}",t.REGULAR_FRAGMENT_BODY="void main(void) {vec4 color = vec4(1.0, 0.0, 0.0, 1.0);if (indexPicker <= 0.5) {color = texture2D(uSampler[0], vTextureCoord);{{alternates}}}{{fragColor}}}",t.REGULAR_FRAG_COLOR_NORMAL="gl_FragColor = vec4(color.rgb, color.a * alphaValue);",t.REGULAR_FRAG_COLOR_PREMULTIPLY="if(color.a > 0.0035) {gl_FragColor = vec4(color.rgb/color.a, color.a * alphaValue);} else {gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);}",t.PARTICLE_VERTEX_BODY=t.REGULAR_VERTEX_BODY,t.PARTICLE_FRAGMENT_BODY=t.REGULAR_FRAGMENT_BODY,t.COVER_VARYING_HEADER="precision mediump float;varying highp vec2 vRenderCoord;varying highp vec2 vTextureCoord;",t.COVER_VERTEX_HEADER=t.COVER_VARYING_HEADER+"attribute vec2 vertexPosition;attribute vec2 uvPosition;uniform float uUpright;",t.COVER_FRAGMENT_HEADER=t.COVER_VARYING_HEADER+"uniform sampler2D uSampler;",t.COVER_VERTEX_BODY="void main(void) {gl_Position = vec4(vertexPosition.x, vertexPosition.y, 0.0, 1.0);vRenderCoord = uvPosition;vTextureCoord = vec2(uvPosition.x, abs(uUpright - uvPosition.y));}",t.COVER_FRAGMENT_BODY="void main(void) {vec4 color = texture2D(uSampler, vRenderCoord);gl_FragColor = color;}",e._get_isWebGL=function(){return!!this._webGLContext},e._set_autoPurge=function(t){-1!=(t=isNaN(t)?1200:t)&&(t=t<10?10:t),this._autoPurge=t},e._get_autoPurge=function(){return Number(this._autoPurge)};try{Object.defineProperties(e,{isWebGL:{get:e._get_isWebGL},autoPurge:{get:e._get_autoPurge,set:e._set_autoPurge}})}catch(t){}e._initializeWebGL=function(){if(this.canvas){if(!this._webGLContext||this._webGLContext.canvas!==this.canvas){var t={depth:!1,alpha:this._transparent,stencil:!0,antialias:this._antialias,premultipliedAlpha:this._premultiply,preserveDrawingBuffer:this._preserveBuffer},e=this._webGLContext=this._fetchWebGLContext(this.canvas,t);if(!e)return null;this.updateSimultaneousTextureCount(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS)),this._maxTextureSlots=e.getParameter(e.MAX_COMBINED_TEXTURE_IMAGE_UNITS),this._createBuffers(e),this._initTextures(e),e.disable(e.DEPTH_TEST),e.enable(e.BLEND),e.blendFuncSeparate(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this._premultiply),this._webGLContext.clearColor(this._clearColor.r,this._clearColor.g,this._clearColor.b,this._clearColor.a),this.updateViewport(this._viewportWidth||this.canvas.width,this._viewportHeight||this.canvas.height)}}else this._webGLContext=null;return this._webGLContext},e.update=function(t){if(this.canvas){if(this.tickOnUpdate&&this.tick(t),this.dispatchEvent("drawstart"),this.autoClear&&this.clear(),this._webGLContext)this._batchDraw(this,this._webGLContext),-1==this._autoPurge||this._drawID%(this._autoPurge/2|0)||this.purgeTextures(this._autoPurge);else{var e=this.canvas.getContext("2d");e.save(),this.updateContext(e),this.draw(e,!1),e.restore()}this.dispatchEvent("drawend")}},e.clear=function(){if(this.canvas)if(t.isWebGLActive(this._webGLContext)){var e=this._webGLContext,i=this._clearColor,r=this._transparent?i.a:1;this._webGLContext.clearColor(i.r*r,i.g*r,i.b*r,r),e.clear(e.COLOR_BUFFER_BIT),this._webGLContext.clearColor(i.r,i.g,i.b,i.a)}else this.Stage_clear()},e.draw=function(e,i){if(e===this._webGLContext&&t.isWebGLActive(this._webGLContext)){var r=this._webGLContext;return this._batchDraw(this,r,i),!0}return this.Stage_draw(e,i)},e.cacheDraw=function(e,i,r){if(t.isWebGLActive(this._webGLContext)){var s=this._webGLContext;return this._cacheDraw(s,e,i,r),!0}return!1},e.protectTextureSlot=function(t,e){if(t>this._maxTextureSlots||t<0)throw"Slot outside of acceptable range";this._slotBlacklist[t]=!!e},e.getTargetRenderTexture=function(t,e,i){var r,s=!1,n=this._webGLContext;if(void 0!==t.__lastRT&&t.__lastRT===t.__rtA&&(s=!0),s?(void 0===t.__rtB?t.__rtB=this.getRenderBufferTexture(e,i):(e==t.__rtB._width&&i==t.__rtB._height||this.resizeTexture(t.__rtB,e,i),this.setTextureParams(n)),r=t.__rtB):(void 0===t.__rtA?t.__rtA=this.getRenderBufferTexture(e,i):(e==t.__rtA._width&&i==t.__rtA._height||this.resizeTexture(t.__rtA,e,i),this.setTextureParams(n)),r=t.__rtA),!r)throw"Problems creating render textures, known causes include using too much VRAM by not releasing WebGL texture instances";return t.__lastRT=r,r},e.releaseTexture=function(t){var e,i;if(t){if(t.children)for(e=0,i=t.children.length;e<i;e++)this.releaseTexture(t.children[e]);t.cacheCanvas&&t.uncache();var r=void 0;if(void 0!==t._storeID){if(t===this._textureDictionary[t._storeID])return this._killTextureObject(t),void(t._storeID=void 0);r=t}else if(2===t._webGLRenderStyle)r=t.image;else if(1===t._webGLRenderStyle){for(e=0,i=t.spriteSheet._images.length;e<i;e++)this.releaseTexture(t.spriteSheet._images[e]);return}void 0!==r?(this._killTextureObject(this._textureDictionary[r._storeID]),r._storeID=void 0):this.vocalDebug&&console.log("No associated texture found on release")}},e.purgeTextures=function(t){void 0==t&&(t=100);for(var e=this._textureDictionary,i=e.length,r=0;r<i;r++){var s=e[r];s&&(s._drawID+t<=this._drawID&&this._killTextureObject(s))}},e.updateSimultaneousTextureCount=function(t){var e=this._webGLContext,i=!1;for((t<1||isNaN(t))&&(t=1),this._batchTextureCount=t;!i;)try{this._activeShader=this._fetchShaderProgram(e),i=!0}catch(t){if(1==this._batchTextureCount)throw"Cannot compile shader "+t;this._batchTextureCount-=4,this._batchTextureCount<1&&(this._batchTextureCount=1),this.vocalDebug&&console.log("Reducing desired texture count due to errors: "+this._batchTextureCount)}},e.updateViewport=function(t,e){this._viewportWidth=0|t,this._viewportHeight=0|e;var i=this._webGLContext;i&&(i.viewport(0,0,this._viewportWidth,this._viewportHeight),this._projectionMatrix=new Float32Array([2/this._viewportWidth,0,0,0,0,-2/this._viewportHeight,1,0,0,0,1,0,-1,1,.1,0]),this._projectionMatrixFlip=new Float32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),this._projectionMatrixFlip.set(this._projectionMatrix),this._projectionMatrixFlip[5]*=-1,this._projectionMatrixFlip[13]*=-1)},e.getFilterShader=function(t){t||(t=this);var e=this._webGLContext,i=this._activeShader;if(t._builtShader)i=t._builtShader,t.shaderParamSetup&&(e.useProgram(i),t.shaderParamSetup(e,this,i));else try{i=this._fetchShaderProgram(e,"filter",t.VTX_SHADER_BODY,t.FRAG_SHADER_BODY,t.shaderParamSetup&&t.shaderParamSetup.bind(t)),t._builtShader=i,i._name=t.toString()}catch(t){console&&console.log("SHADER SWITCH FAILURE",t)}return i},e.getBaseTexture=function(t,e){var i=Math.ceil(t>0?t:1)||1,r=Math.ceil(e>0?e:1)||1,s=this._webGLContext,n=s.createTexture();return this.resizeTexture(n,i,r),this.setTextureParams(s,!1),n},e.resizeTexture=function(t,e,i){var r=this._webGLContext;r.bindTexture(r.TEXTURE_2D,t),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,e,i,0,r.RGBA,r.UNSIGNED_BYTE,null),t.width=e,t.height=i},e.getRenderBufferTexture=function(t,e){var i=this._webGLContext,r=this.getBaseTexture(t,e);if(!r)return null;var s=i.createFramebuffer();return s?(r.width=t,r.height=e,i.bindFramebuffer(i.FRAMEBUFFER,s),i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,r,0),s._renderTexture=r,r._frameBuffer=s,r._storeID=this._textureDictionary.length,this._textureDictionary[r._storeID]=r,i.bindFramebuffer(i.FRAMEBUFFER,null),r):null},e.setTextureParams=function(t,e){e&&this._antialias?(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR)):(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST)),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)},e.setClearColor=function(t){var e,i,r,s,n;"string"==typeof t?0==t.indexOf("#")?(4==t.length&&(t="#"+t.charAt(1)+t.charAt(1)+t.charAt(2)+t.charAt(2)+t.charAt(3)+t.charAt(3)),e=Number("0x"+t.slice(1,3))/255,i=Number("0x"+t.slice(3,5))/255,r=Number("0x"+t.slice(5,7))/255,s=Number("0x"+t.slice(7,9))/255):0==t.indexOf("rgba(")&&(n=t.slice(5,-1).split(","),e=Number(n[0])/255,i=Number(n[1])/255,r=Number(n[2])/255,s=Number(n[3])):(e=((4278190080&t)>>>24)/255,i=((16711680&t)>>>16)/255,r=((65280&t)>>>8)/255,s=(255&t)/255),this._clearColor.r=e||0,this._clearColor.g=i||0,this._clearColor.b=r||0,this._clearColor.a=s||0,this._webGLContext&&this._webGLContext.clearColor(this._clearColor.r,this._clearColor.g,this._clearColor.b,this._clearColor.a)},e.toString=function(){return"[StageGL (name="+this.name+")]"},e._fetchWebGLContext=function(t,e){var i;try{i=t.getContext("webgl",e)||t.getContext("experimental-webgl",e)}catch(t){}if(i)i.viewportWidth=t.width,i.viewportHeight=t.height;else{var r="Could not initialize WebGL";console.error?console.error(r):console.log(r)}return i},e._fetchShaderProgram=function(e,i,r,s,n){var a,o;switch(e.useProgram(null),i){case"filter":o=t.COVER_VERTEX_HEADER+(r||t.COVER_VERTEX_BODY),a=t.COVER_FRAGMENT_HEADER+(s||t.COVER_FRAGMENT_BODY);break;case"particle":o=t.REGULAR_VERTEX_HEADER+t.PARTICLE_VERTEX_BODY,a=t.REGULAR_FRAGMENT_HEADER+t.PARTICLE_FRAGMENT_BODY;break;case"override":o=t.REGULAR_VERTEX_HEADER+(r||t.REGULAR_VERTEX_BODY),a=t.REGULAR_FRAGMENT_HEADER+(s||t.REGULAR_FRAGMENT_BODY);break;case"regular":default:o=t.REGULAR_VERTEX_HEADER+t.REGULAR_VERTEX_BODY,a=t.REGULAR_FRAGMENT_HEADER+t.REGULAR_FRAGMENT_BODY}var h=this._createShader(e,e.VERTEX_SHADER,o),c=this._createShader(e,e.FRAGMENT_SHADER,a),u=e.createProgram();if(e.attachShader(u,h),e.attachShader(u,c),e.linkProgram(u),u._type=i,!e.getProgramParameter(u,e.LINK_STATUS))throw e.useProgram(this._activeShader),e.getProgramInfoLog(u);switch(e.useProgram(u),i){case"filter":u.vertexPositionAttribute=e.getAttribLocation(u,"vertexPosition"),e.enableVertexAttribArray(u.vertexPositionAttribute),u.uvPositionAttribute=e.getAttribLocation(u,"uvPosition"),e.enableVertexAttribArray(u.uvPositionAttribute),u.samplerUniform=e.getUniformLocation(u,"uSampler"),e.uniform1i(u.samplerUniform,0),u.uprightUniform=e.getUniformLocation(u,"uUpright"),e.uniform1f(u.uprightUniform,0),n&&n(e,this,u);break;case"override":case"particle":case"regular":default:u.vertexPositionAttribute=e.getAttribLocation(u,"vertexPosition"),e.enableVertexAttribArray(u.vertexPositionAttribute),u.uvPositionAttribute=e.getAttribLocation(u,"uvPosition"),e.enableVertexAttribArray(u.uvPositionAttribute),u.textureIndexAttribute=e.getAttribLocation(u,"textureIndex"),e.enableVertexAttribArray(u.textureIndexAttribute),u.alphaAttribute=e.getAttribLocation(u,"objectAlpha"),e.enableVertexAttribArray(u.alphaAttribute);for(var l=[],d=0;d<this._batchTextureCount;d++)l[d]=d;u.samplerData=l,u.samplerUniform=e.getUniformLocation(u,"uSampler"),e.uniform1iv(u.samplerUniform,l),u.pMatrixUniform=e.getUniformLocation(u,"pMatrix")}return e.useProgram(this._activeShader),u},e._createShader=function(e,i,r){r=r.replace(/{{count}}/g,this._batchTextureCount);for(var s="",n=1;n<this._batchTextureCount;n++)s+="} else if (indexPicker <= "+n+".5) { color = texture2D(uSampler["+n+"], vTextureCoord);";r=(r=r.replace(/{{alternates}}/g,s)).replace(/{{fragColor}}/g,this._premultiply?t.REGULAR_FRAG_COLOR_PREMULTIPLY:t.REGULAR_FRAG_COLOR_NORMAL);var a=e.createShader(i);if(e.shaderSource(a,r),e.compileShader(a),!e.getShaderParameter(a,e.COMPILE_STATUS))throw e.getShaderInfoLog(a);return a},e._createBuffers=function(e){var i,r,s,n=this._maxCardsPerBatch*t.INDICIES_PER_CARD,a=this._vertexPositionBuffer=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,a),i=2;var o=this._vertices=new Float32Array(n*i);for(r=0,s=o.length;r<s;r+=i)o[r]=o[r+1]=0;e.bufferData(e.ARRAY_BUFFER,o,e.DYNAMIC_DRAW),a.itemSize=i,a.numItems=n;var h=this._uvPositionBuffer=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,h),i=2;var c=this._uvs=new Float32Array(n*i);for(r=0,s=c.length;r<s;r+=i)c[r]=c[r+1]=0;e.bufferData(e.ARRAY_BUFFER,c,e.DYNAMIC_DRAW),h.itemSize=i,h.numItems=n;var u=this._textureIndexBuffer=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,u),i=1;var l=this._indices=new Float32Array(n*i);for(r=0,s=l.length;r<s;r++)l[r]=0;e.bufferData(e.ARRAY_BUFFER,l,e.DYNAMIC_DRAW),u.itemSize=i,u.numItems=n;var d=this._alphaBuffer=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,d),i=1;var _=this._alphas=new Float32Array(n*i);for(r=0,s=_.length;r<s;r++)_[r]=1;e.bufferData(e.ARRAY_BUFFER,_,e.DYNAMIC_DRAW),d.itemSize=i,d.numItems=n},e._initTextures=function(){this._lastTextureInsert=-1,this._textureDictionary=[],this._textureIDs={},this._baseTextures=[],this._batchTextures=[];for(var t=0;t<this._batchTextureCount;t++){var e=this.getBaseTexture();if(this._baseTextures[t]=this._batchTextures[t]=e,!e)throw"Problems creating basic textures, known causes include using too much VRAM by not releasing WebGL texture instances"}},e._loadTextureImage=function(t,e){var i=e.src;i||(e._isCanvas=!0,i=e.src="canvas_"+this._lastTrackedCanvas++);var r=this._textureIDs[i];void 0===r&&(r=this._textureIDs[i]=this._textureDictionary.length),void 0===this._textureDictionary[r]&&(this._textureDictionary[r]=this.getBaseTexture());var s=this._textureDictionary[r];if(s)s._batchID=this._batchID,s._storeID=r,s._imageData=e,this._insertTextureInBatch(t,s),e._storeID=r,e.complete||e.naturalWidth||e._isCanvas?this._updateTextureImageData(t,e):e.addEventListener("load",this._updateTextureImageData.bind(this,t,e));else{var n="Problem creating desired texture, known causes include using too much VRAM by not releasing WebGL texture instances";console.error&&console.error(n)||console.log(n),(s=this._baseTextures[0])._batchID=this._batchID,s._storeID=-1,s._imageData=s,this._insertTextureInBatch(t,s)}return s},e._updateTextureImageData=function(t,e){var i=e.width&e.width-1||e.height&e.height-1,r=this._textureDictionary[e._storeID];t.activeTexture(t.TEXTURE0+r._activeIndex),t.bindTexture(t.TEXTURE_2D,r),r.isPOT=!i,this.setTextureParams(t,r.isPOT);try{t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e)}catch(t){var s="\nAn error has occurred. This is most likely due to security restrictions on WebGL images with local or cross-domain origins";console.error?(console.error(s),console.error(t)):console&&(console.log(s),console.log(t))}e._invalid=!1,r._w=e.width,r._h=e.height,this.vocalDebug&&(i&&console.warn("NPOT(Non Power of Two) Texture: "+e.src),(e.width>t.MAX_TEXTURE_SIZE||e.height>t.MAX_TEXTURE_SIZE)&&console&&console.error("Oversized Texture: "+e.width+"x"+e.height+" vs "+t.MAX_TEXTURE_SIZE+"max"))},e._insertTextureInBatch=function(t,e){if(this._batchTextures[e._activeIndex]!==e){var i=-1,r=(this._lastTextureInsert+1)%this._batchTextureCount,s=r;do{if(this._batchTextures[s]._batchID!=this._batchID&&!this._slotBlacklist[s]){i=s;break}s=(s+1)%this._batchTextureCount}while(s!==r);-1===i&&(this.batchReason="textureOverflow",this._drawBuffers(t),this.batchCardCount=0,i=r),this._batchTextures[i]=e,e._activeIndex=i,(n=e._imageData)&&n._invalid&&void 0!==e._drawID?this._updateTextureImageData(t,n):(t.activeTexture(t.TEXTURE0+i),t.bindTexture(t.TEXTURE_2D,e),this.setTextureParams(t)),this._lastTextureInsert=i}else{var n=e._imageData;void 0!=e._storeID&&n&&n._invalid&&this._updateTextureImageData(t,n)}e._drawID=this._drawID,e._batchID=this._batchID},e._killTextureObject=function(t){if(t){var e=this._webGLContext;if(void 0!==t._storeID&&t._storeID>=0){for(var i in this._textureDictionary[t._storeID]=void 0,this._textureIDs)this._textureIDs[i]==t._storeID&&delete this._textureIDs[i];t._imageData&&(t._imageData._storeID=void 0),t._imageData=t._storeID=void 0}void 0!==t._activeIndex&&this._batchTextures[t._activeIndex]===t&&(this._batchTextures[t._activeIndex]=this._baseTextures[t._activeIndex]);try{t._frameBuffer&&e.deleteFramebuffer(t._frameBuffer),t._frameBuffer=void 0}catch(t){this.vocalDebug&&console.log(t)}try{e.deleteTexture(t)}catch(t){this.vocalDebug&&console.log(t)}}},e._backupBatchTextures=function(t,e){var i=this._webGLContext;this._backupTextures||(this._backupTextures=[]),void 0===e&&(e=this._backupTextures);for(var r=0;r<this._batchTextureCount;r++)i.activeTexture(i.TEXTURE0+r),t?this._batchTextures[r]=e[r]:(e[r]=this._batchTextures[r],this._batchTextures[r]=this._baseTextures[r]),i.bindTexture(i.TEXTURE_2D,this._batchTextures[r]),this.setTextureParams(i,this._batchTextures[r].isPOT);t&&e===this._backupTextures&&(this._backupTextures=[])},e._batchDraw=function(t,e,i){this._isDrawing>0&&this._drawBuffers(e),this._isDrawing++,this._drawID++,this.batchCardCount=0,this.depth=0,this._appendToBatchGroup(t,e,new createjs.Matrix2D,this.alpha,i),this.batchReason="drawFinish",this._drawBuffers(e),this._isDrawing--},e._cacheDraw=function(t,e,i,r){var s,n=this._activeShader,a=this._slotBlacklist,o=this._maxTextureSlots-1,h=this._viewportWidth,c=this._viewportHeight;this.protectTextureSlot(o,!0);var u=e.getMatrix();(u=u.clone()).scale(1/r.scale,1/r.scale),(u=u.invert()).translate(-r.offX/r.scale*e.scaleX,-r.offY/r.scale*e.scaleY);var l=this._cacheContainer;l.children=[e],l.transformMatrix=u,this._backupBatchTextures(!1),i&&i.length?this._drawFilters(e,i,r):this.isCacheControlled?(t.clear(t.COLOR_BUFFER_BIT),this._batchDraw(l,t,!0)):(t.activeTexture(t.TEXTURE0+o),e.cacheCanvas=this.getTargetRenderTexture(e,r._drawWidth,r._drawHeight),s=e.cacheCanvas,t.bindFramebuffer(t.FRAMEBUFFER,s._frameBuffer),this.updateViewport(r._drawWidth,r._drawHeight),this._projectionMatrix=this._projectionMatrixFlip,t.clear(t.COLOR_BUFFER_BIT),this._batchDraw(l,t,!0),t.bindFramebuffer(t.FRAMEBUFFER,null),this.updateViewport(h,c)),this._backupBatchTextures(!0),this.protectTextureSlot(o,!1),this._activeShader=n,this._slotBlacklist=a},e._drawFilters=function(t,e,i){var r,s=this._webGLContext,n=this._maxTextureSlots-1,a=this._viewportWidth,o=this._viewportHeight,h=this._cacheContainer,c=e.length;s.activeTexture(s.TEXTURE0+n),r=this.getTargetRenderTexture(t,i._drawWidth,i._drawHeight),s.bindFramebuffer(s.FRAMEBUFFER,r._frameBuffer),this.updateViewport(i._drawWidth,i._drawHeight),s.clear(s.COLOR_BUFFER_BIT),this._batchDraw(h,s,!0),s.activeTexture(s.TEXTURE0),s.bindTexture(s.TEXTURE_2D,r),this.setTextureParams(s);var u=!1,l=0,d=e[l];do{this._activeShader=this.getFilterShader(d),this._activeShader&&(s.activeTexture(s.TEXTURE0+n),r=this.getTargetRenderTexture(t,i._drawWidth,i._drawHeight),s.bindFramebuffer(s.FRAMEBUFFER,r._frameBuffer),s.viewport(0,0,i._drawWidth,i._drawHeight),s.clear(s.COLOR_BUFFER_BIT),this._drawCover(s,u),s.activeTexture(s.TEXTURE0),s.bindTexture(s.TEXTURE_2D,r),this.setTextureParams(s),(c>1||e[0]._multiPass)&&(u=!u),d=null!==d._multiPass?d._multiPass:e[++l])}while(d);this.isCacheControlled?(s.bindFramebuffer(s.FRAMEBUFFER,null),this.updateViewport(a,o),this._activeShader=this.getFilterShader(this),s.clear(s.COLOR_BUFFER_BIT),this._drawCover(s,u)):(u&&(s.activeTexture(s.TEXTURE0+n),r=this.getTargetRenderTexture(t,i._drawWidth,i._drawHeight),s.bindFramebuffer(s.FRAMEBUFFER,r._frameBuffer),this._activeShader=this.getFilterShader(this),s.viewport(0,0,i._drawWidth,i._drawHeight),s.clear(s.COLOR_BUFFER_BIT),this._drawCover(s,!u)),s.bindFramebuffer(s.FRAMEBUFFER,null),this.updateViewport(a,o),t.cacheCanvas=r)},e._appendToBatchGroup=function(e,i,r,s,n){e._glMtx||(e._glMtx=new createjs.Matrix2D);var a,o,h,c,u=e._glMtx;u.copy(r),e.transformMatrix?u.appendMatrix(e.transformMatrix):u.appendTransform(e.x,e.y,e.scaleX,e.scaleY,e.rotation,e.skewX,e.skewY,e.regX,e.regY);for(var l=e.children.length,d=0;d<l;d++){var _=e.children[d];if(_.visible&&s)if(_.cacheCanvas&&!n||(_._updateState&&_._updateState(),!_.children)){this.batchCardCount+1>this._maxCardsPerBatch&&(this.batchReason="vertexOverflow",this._drawBuffers(i),this.batchCardCount=0),_._glMtx||(_._glMtx=new createjs.Matrix2D);var p,f,g,m,v,T,b=_._glMtx;b.copy(u),_.transformMatrix?b.appendMatrix(_.transformMatrix):b.appendTransform(_.x,_.y,_.scaleX,_.scaleY,_.rotation,_.skewX,_.skewY,_.regX,_.regY);var E=_.cacheCanvas&&!n;if(2===_._webGLRenderStyle||E)g=!n&&_.cacheCanvas||_.image;else{if(1!==_._webGLRenderStyle)continue;if(null===(m=_.spriteSheet.getFrame(_.currentFrame)))continue;g=m.image}var y=this._uvs,S=this._vertices,x=this._indices,w=this._alphas;if(g){if(void 0===g._storeID)v=this._loadTextureImage(i,g),this._insertTextureInBatch(i,v);else{if(!(v=this._textureDictionary[g._storeID])){this.vocalDebug&&console.log("Texture should not be looked up while not being stored.");continue}v._batchID!==this._batchID&&this._insertTextureInBatch(i,v)}if(f=v._activeIndex,2===_._webGLRenderStyle||E)!E&&_.sourceRect?(_._uvRect||(_._uvRect={}),T=_.sourceRect,(p=_._uvRect).t=T.y/g.height,p.l=T.x/g.width,p.b=(T.y+T.height)/g.height,p.r=(T.x+T.width)/g.width,a=0,o=0,h=T.width+a,c=T.height+o):(p=t.UV_RECT,E?(a=(T=_.bitmapCache).x+T._filterOffX/T.scale,o=T.y+T._filterOffY/T.scale,h=T._drawWidth/T.scale+a,c=T._drawHeight/T.scale+o):(a=0,o=0,h=g.width+a,c=g.height+o));else if(1===_._webGLRenderStyle){var R=m.rect;(p=m.uvRect)||(p=t.buildUVRects(_.spriteSheet,_.currentFrame,!1)),a=-m.regX,o=-m.regY,h=R.width-m.regX,c=R.height-m.regY}var A=this.batchCardCount*t.INDICIES_PER_CARD,P=2*A;S[P]=a*b.a+o*b.c+b.tx,S[P+1]=a*b.b+o*b.d+b.ty,S[P+2]=a*b.a+c*b.c+b.tx,S[P+3]=a*b.b+c*b.d+b.ty,S[P+4]=h*b.a+o*b.c+b.tx,S[P+5]=h*b.b+o*b.d+b.ty,S[P+6]=S[P+2],S[P+7]=S[P+3],S[P+8]=S[P+4],S[P+9]=S[P+5],S[P+10]=h*b.a+c*b.c+b.tx,S[P+11]=h*b.b+c*b.d+b.ty,y[P]=p.l,y[P+1]=p.t,y[P+2]=p.l,y[P+3]=p.b,y[P+4]=p.r,y[P+5]=p.t,y[P+6]=p.l,y[P+7]=p.b,y[P+8]=p.r,y[P+9]=p.t,y[P+10]=p.r,y[P+11]=p.b,x[A]=x[A+1]=x[A+2]=x[A+3]=x[A+4]=x[A+5]=f,w[A]=w[A+1]=w[A+2]=w[A+3]=w[A+4]=w[A+5]=_.alpha*s,this.batchCardCount++}}else this._appendToBatchGroup(_,i,u,_.alpha*s)}},e._drawBuffers=function(e){if(!(this.batchCardCount<=0)){this.vocalDebug&&console.log("Draw["+this._drawID+":"+this._batchID+"] : "+this.batchReason);var i=this._activeShader,r=this._vertexPositionBuffer,s=this._textureIndexBuffer,n=this._uvPositionBuffer,a=this._alphaBuffer;e.useProgram(i),e.bindBuffer(e.ARRAY_BUFFER,r),e.vertexAttribPointer(i.vertexPositionAttribute,r.itemSize,e.FLOAT,!1,0,0),e.bufferSubData(e.ARRAY_BUFFER,0,this._vertices),e.bindBuffer(e.ARRAY_BUFFER,s),e.vertexAttribPointer(i.textureIndexAttribute,s.itemSize,e.FLOAT,!1,0,0),e.bufferSubData(e.ARRAY_BUFFER,0,this._indices),e.bindBuffer(e.ARRAY_BUFFER,n),e.vertexAttribPointer(i.uvPositionAttribute,n.itemSize,e.FLOAT,!1,0,0),e.bufferSubData(e.ARRAY_BUFFER,0,this._uvs),e.bindBuffer(e.ARRAY_BUFFER,a),e.vertexAttribPointer(i.alphaAttribute,a.itemSize,e.FLOAT,!1,0,0),e.bufferSubData(e.ARRAY_BUFFER,0,this._alphas),e.uniformMatrix4fv(i.pMatrixUniform,e.FALSE,this._projectionMatrix);for(var o=0;o<this._batchTextureCount;o++){var h=this._batchTextures[o];e.activeTexture(e.TEXTURE0+o),e.bindTexture(e.TEXTURE_2D,h),this.setTextureParams(e,h.isPOT)}e.drawArrays(e.TRIANGLES,0,this.batchCardCount*t.INDICIES_PER_CARD),this._batchID++}},e._drawCover=function(e,i){this._isDrawing>0&&this._drawBuffers(e),this.vocalDebug&&console.log("Draw["+this._drawID+":"+this._batchID+"] : Cover");var r=this._activeShader,s=this._vertexPositionBuffer,n=this._uvPositionBuffer;e.clear(e.COLOR_BUFFER_BIT),e.useProgram(r),e.bindBuffer(e.ARRAY_BUFFER,s),e.vertexAttribPointer(r.vertexPositionAttribute,s.itemSize,e.FLOAT,!1,0,0),e.bufferSubData(e.ARRAY_BUFFER,0,t.COVER_VERT),e.bindBuffer(e.ARRAY_BUFFER,n),e.vertexAttribPointer(r.uvPositionAttribute,n.itemSize,e.FLOAT,!1,0,0),e.bufferSubData(e.ARRAY_BUFFER,0,i?t.COVER_UV_FLIP:t.COVER_UV),e.uniform1i(r.samplerUniform,0),e.uniform1f(r.uprightUniform,i?0:1),e.drawArrays(e.TRIANGLES,0,t.INDICIES_PER_CARD)},createjs.StageGL=createjs.promote(t,"Stage")}(),function(){function t(t){this.DisplayObject_constructor(),"string"==typeof t?(this.image=document.createElement("img"),this.image.src=t):this.image=t,this.sourceRect=null,this._webGLRenderStyle=createjs.DisplayObject._StageGL_BITMAP}var e=createjs.extend(t,createjs.DisplayObject);e.initialize=t,e.isVisible=function(){var t=this.image,e=this.cacheCanvas||t&&(t.naturalWidth||t.getContext||t.readyState>=2);return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&e)},e.draw=function(t,e){if(this.DisplayObject_draw(t,e))return!0;var i=this.image,r=this.sourceRect;if(i.getImage&&(i=i.getImage()),!i)return!0;if(r){var s=r.x,n=r.y,a=s+r.width,o=n+r.height,h=0,c=0,u=i.width,l=i.height;s<0&&(h-=s,s=0),a>u&&(a=u),n<0&&(c-=n,n=0),o>l&&(o=l),t.drawImage(i,s,n,a-s,o-n,h,c,a-s,o-n)}else t.drawImage(i,0,0);return!0},e.getBounds=function(){var t=this.DisplayObject_getBounds();if(t)return t;var e=this.image,i=this.sourceRect||e;return e&&(e.naturalWidth||e.getContext||e.readyState>=2)?this._rectangle.setValues(0,0,i.width,i.height):null},e.clone=function(e){var i=this.image;i&&e&&(i=i.cloneNode());var r=new t(i);return this.sourceRect&&(r.sourceRect=this.sourceRect.clone()),this._cloneProps(r),r},e.toString=function(){return"[Bitmap (name="+this.name+")]"},createjs.Bitmap=createjs.promote(t,"DisplayObject")}(),function(){"use strict";function t(t,e){this.DisplayObject_constructor(),this.currentFrame=0,this.currentAnimation=null,this.paused=!0,this.spriteSheet=t,this.currentAnimationFrame=0,this.framerate=0,this._animation=null,this._currentFrame=null,this._skipAdvance=!1,this._webGLRenderStyle=createjs.DisplayObject._StageGL_SPRITE,null!=e&&this.gotoAndPlay(e)}var e=createjs.extend(t,createjs.DisplayObject);e.initialize=t,e.isVisible=function(){var t=this.cacheCanvas||this.spriteSheet.complete;return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&t)},e.draw=function(t,e){if(this.DisplayObject_draw(t,e))return!0;this._normalizeFrame();var i=this.spriteSheet.getFrame(0|this._currentFrame);if(!i)return!1;var r=i.rect;return r.width&&r.height&&t.drawImage(i.image,r.x,r.y,r.width,r.height,-i.regX,-i.regY,r.width,r.height),!0},e.play=function(){this.paused=!1},e.stop=function(){this.paused=!0},e.gotoAndPlay=function(t){this.paused=!1,this._skipAdvance=!0,this._goto(t)},e.gotoAndStop=function(t){this.paused=!0,this._goto(t)},e.advance=function(t){var e=this.framerate||this.spriteSheet.framerate,i=e&&null!=t?t/(1e3/e):1;this._normalizeFrame(i)},e.getBounds=function(){return this.DisplayObject_getBounds()||this.spriteSheet.getFrameBounds(this.currentFrame,this._rectangle)},e.clone=function(){return this._cloneProps(new t(this.spriteSheet))},e.toString=function(){return"[Sprite (name="+this.name+")]"},e._cloneProps=function(t){return this.DisplayObject__cloneProps(t),t.currentFrame=this.currentFrame,t.currentAnimation=this.currentAnimation,t.paused=this.paused,t.currentAnimationFrame=this.currentAnimationFrame,t.framerate=this.framerate,t._animation=this._animation,t._currentFrame=this._currentFrame,t._skipAdvance=this._skipAdvance,t},e._tick=function(t){this.paused||(this._skipAdvance||this.advance(t&&t.delta),this._skipAdvance=!1),this.DisplayObject__tick(t)},e._normalizeFrame=function(t){t=t||0;var e,i=this._animation,r=this.paused,s=this._currentFrame;if(i){var n=i.speed||1,a=this.currentAnimationFrame;if(a+t*n>=(e=i.frames.length)){var o=i.next;if(this._dispatchAnimationEnd(i,s,r,o,e-1))return;if(o)return this._goto(o,t-(e-a)/n);this.paused=!0,a=i.frames.length-1}else a+=t*n;this.currentAnimationFrame=a,this._currentFrame=i.frames[0|a]}else if((s=this._currentFrame+=t)>=(e=this.spriteSheet.getNumFrames())&&e>0&&!this._dispatchAnimationEnd(i,s,r,e-1)&&(this._currentFrame-=e)>=e)return this._normalizeFrame();s=0|this._currentFrame,this.currentFrame!=s&&(this.currentFrame=s,this.dispatchEvent("change"))},e._dispatchAnimationEnd=function(t,e,i,r,s){var n=t?t.name:null;if(this.hasEventListener("animationend")){var a=new createjs.Event("animationend");a.name=n,a.next=r,this.dispatchEvent(a)}var o=this._animation!=t||this._currentFrame!=e;return o||i||!this.paused||(this.currentAnimationFrame=s,o=!0),o},e._goto=function(t,e){if(this.currentAnimationFrame=0,isNaN(t)){var i=this.spriteSheet.getAnimation(t);i&&(this._animation=i,this.currentAnimation=t,this._normalizeFrame(e))}else this.currentAnimation=this._animation=null,this._currentFrame=t,this._normalizeFrame()},createjs.Sprite=createjs.promote(t,"DisplayObject")}(),function(){"use strict";function t(t){this.DisplayObject_constructor(),this.graphics=t||new createjs.Graphics}var e=createjs.extend(t,createjs.DisplayObject);e.isVisible=function(){var t=this.cacheCanvas||this.graphics&&!this.graphics.isEmpty();return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&t)},e.draw=function(t,e){return!!this.DisplayObject_draw(t,e)||(this.graphics.draw(t,this),!0)},e.clone=function(e){var i=e&&this.graphics?this.graphics.clone():this.graphics;return this._cloneProps(new t(i))},e.toString=function(){return"[Shape (name="+this.name+")]"},createjs.Shape=createjs.promote(t,"DisplayObject")}(),function(){"use strict";function t(t,e,i){this.DisplayObject_constructor(),this.text=t,this.font=e,this.color=i,this.textAlign="left",this.textBaseline="top",this.maxWidth=null,this.outline=0,this.lineHeight=0,this.lineWidth=null}var e=createjs.extend(t,createjs.DisplayObject),i=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");i.getContext&&(t._workingContext=i.getContext("2d"),i.width=i.height=1),t.H_OFFSETS={start:0,left:0,center:-.5,end:-1,right:-1},t.V_OFFSETS={top:0,hanging:-.01,middle:-.4,alphabetic:-.8,ideographic:-.85,bottom:-1},e.isVisible=function(){var t=this.cacheCanvas||null!=this.text&&""!==this.text;return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&t)},e.draw=function(t,e){if(this.DisplayObject_draw(t,e))return!0;var i=this.color||"#000";return this.outline?(t.strokeStyle=i,t.lineWidth=1*this.outline):t.fillStyle=i,this._drawText(this._prepContext(t)),!0},e.getMeasuredWidth=function(){return this._getMeasuredWidth(this.text)},e.getMeasuredLineHeight=function(){return 1.2*this._getMeasuredWidth("M")},e.getMeasuredHeight=function(){return this._drawText(null,{}).height},e.getBounds=function(){var e=this.DisplayObject_getBounds();if(e)return e;if(null==this.text||""===this.text)return null;var i=this._drawText(null,{}),r=this.maxWidth&&this.maxWidth<i.width?this.maxWidth:i.width,s=r*t.H_OFFSETS[this.textAlign||"left"],n=(this.lineHeight||this.getMeasuredLineHeight())*t.V_OFFSETS[this.textBaseline||"top"];return this._rectangle.setValues(s,n,r,i.height)},e.getMetrics=function(){var e={lines:[]};return e.lineHeight=this.lineHeight||this.getMeasuredLineHeight(),e.vOffset=e.lineHeight*t.V_OFFSETS[this.textBaseline||"top"],this._drawText(null,e,e.lines)},e.clone=function(){return this._cloneProps(new t(this.text,this.font,this.color))},e.toString=function(){return"[Text (text="+(this.text.length>20?this.text.substr(0,17)+"...":this.text)+")]"},e._cloneProps=function(t){return this.DisplayObject__cloneProps(t),t.textAlign=this.textAlign,t.textBaseline=this.textBaseline,t.maxWidth=this.maxWidth,t.outline=this.outline,t.lineHeight=this.lineHeight,t.lineWidth=this.lineWidth,t},e._prepContext=function(t){return t.font=this.font||"10px sans-serif",t.textAlign=this.textAlign||"left",t.textBaseline=this.textBaseline||"top",t.lineJoin="miter",t.miterLimit=2.5,t},e._drawText=function(e,i,r){var s=!!e;s||((e=t._workingContext).save(),this._prepContext(e));for(var n=this.lineHeight||this.getMeasuredLineHeight(),a=0,o=0,h=String(this.text).split(/(?:\r\n|\r|\n)/),c=0,u=h.length;c<u;c++){var l=h[c],d=null;if(null!=this.lineWidth&&(d=e.measureText(l).width)>this.lineWidth){var _=l.split(/(\s)/);l=_[0],d=e.measureText(l).width;for(var p=1,f=_.length;p<f;p+=2){var g=e.measureText(_[p]+_[p+1]).width;d+g>this.lineWidth?(s&&this._drawTextLine(e,l,o*n),r&&r.push(l),d>a&&(a=d),l=_[p+1],d=e.measureText(l).width,o++):(l+=_[p]+_[p+1],d+=g)}}s&&this._drawTextLine(e,l,o*n),r&&r.push(l),i&&null==d&&(d=e.measureText(l).width),d>a&&(a=d),o++}return i&&(i.width=a,i.height=o*n),s||e.restore(),i},e._drawTextLine=function(t,e,i){this.outline?t.strokeText(e,0,i,this.maxWidth||65535):t.fillText(e,0,i,this.maxWidth||65535)},e._getMeasuredWidth=function(e){var i=t._workingContext;i.save();var r=this._prepContext(i).measureText(e).width;return i.restore(),r},createjs.Text=createjs.promote(t,"DisplayObject")}(),function(){"use strict";function t(t,e){this.Container_constructor(),this.text=t||"",this.spriteSheet=e,this.lineHeight=0,this.letterSpacing=0,this.spaceWidth=0,this._oldProps={text:0,spriteSheet:0,lineHeight:0,letterSpacing:0,spaceWidth:0},this._oldStage=null,this._drawAction=null}var e=createjs.extend(t,createjs.Container);t.maxPoolSize=100,t._spritePool=[],e.draw=function(t,e){this.DisplayObject_draw(t,e)||(this._updateState(),this.Container_draw(t,e))},e.getBounds=function(){return this._updateText(),this.Container_getBounds()},e.isVisible=function(){var t=this.cacheCanvas||this.spriteSheet&&this.spriteSheet.complete&&this.text;return!!(this.visible&&this.alpha>0&&0!==this.scaleX&&0!==this.scaleY&&t)},e.clone=function(){return this._cloneProps(new t(this.text,this.spriteSheet))},e.addChild=e.addChildAt=e.removeChild=e.removeChildAt=e.removeAllChildren=function(){},e._updateState=function(){this._updateText()},e._cloneProps=function(t){return this.Container__cloneProps(t),t.lineHeight=this.lineHeight,t.letterSpacing=this.letterSpacing,t.spaceWidth=this.spaceWidth,t},e._getFrameIndex=function(t,e){var i,r=e.getAnimation(t);return r||(t!=(i=t.toUpperCase())||t!=(i=t.toLowerCase())||(i=null),i&&(r=e.getAnimation(i))),r&&r.frames[0]},e._getFrame=function(t,e){var i=this._getFrameIndex(t,e);return null==i?i:e.getFrame(i)},e._getLineHeight=function(t){var e=this._getFrame("1",t)||this._getFrame("T",t)||this._getFrame("L",t)||t.getFrame(0);return e?e.rect.height:1},e._getSpaceWidth=function(t){var e=this._getFrame("1",t)||this._getFrame("l",t)||this._getFrame("e",t)||this._getFrame("a",t)||t.getFrame(0);return e?e.rect.width:1},e._updateText=function(){var e,i=0,r=0,s=this._oldProps,n=!1,a=this.spaceWidth,o=this.lineHeight,h=this.spriteSheet,c=t._spritePool,u=this.children,l=0,d=u.length;for(var _ in s)s[_]!=this[_]&&(s[_]=this[_],n=!0);if(n){var p=!!this._getFrame(" ",h);p||a||(a=this._getSpaceWidth(h)),o||(o=this._getLineHeight(h));for(var f=0,g=this.text.length;f<g;f++){var m=this.text.charAt(f);if(" "!=m||p)if("\n"!=m&&"\r"!=m){var v=this._getFrameIndex(m,h);null!=v&&(l<d?e=u[l]:(u.push(e=c.length?c.pop():new createjs.Sprite),e.parent=this,d++),e.spriteSheet=h,e.gotoAndStop(v),e.x=i,e.y=r,l++,i+=e.getBounds().width+this.letterSpacing)}else"\r"==m&&"\n"==this.text.charAt(f+1)&&f++,i=0,r+=o;else i+=a}for(;d>l;)c.push(e=u.pop()),e.parent=null,d--;c.length>t.maxPoolSize&&(c.length=t.maxPoolSize)}},createjs.BitmapText=createjs.promote(t,"Container")}(),function(){"use strict";function t(e){var i,r,s,n;this.Container_constructor(),!t.inited&&t.init(),e instanceof String||arguments.length>1?(i=e,r=arguments[1],s=arguments[2],n=arguments[3],null==s&&(s=-1),e=null):e&&(i=e.mode,r=e.startPosition,s=e.loop,n=e.labels),e||(e={labels:n}),this.mode=i||t.INDEPENDENT,this.startPosition=r||0,this.loop=!0===s?-1:s||0,this.currentFrame=0,this.paused=e.paused||!1,this.actionsEnabled=!0,this.autoReset=!0,this.frameBounds=this.frameBounds||e.frameBounds,this.framerate=null,e.useTicks=e.paused=!0,this.timeline=new createjs.Timeline(e),this._synchOffset=0,this._rawPosition=-1,this._bound_resolveState=this._resolveState.bind(this),this._t=0,this._managed={}}var e=createjs.extend(t,createjs.Container);t.INDEPENDENT="independent",t.SINGLE_FRAME="single",t.SYNCHED="synched",t.inited=!1,t.init=function(){t.inited||(i.install(),t.inited=!0)},e._getLabels=function(){return this.timeline.getLabels()},e.getLabels=createjs.deprecate(e._getLabels,"MovieClip.getLabels"),e._getCurrentLabel=function(){return this.timeline.currentLabel},e.getCurrentLabel=createjs.deprecate(e._getCurrentLabel,"MovieClip.getCurrentLabel"),e._getDuration=function(){return this.timeline.duration},e.getDuration=createjs.deprecate(e._getDuration,"MovieClip.getDuration");try{Object.defineProperties(e,{labels:{get:e._getLabels},currentLabel:{get:e._getCurrentLabel},totalFrames:{get:e._getDuration},duration:{get:e._getDuration}})}catch(t){}function i(){throw"MovieClipPlugin cannot be instantiated."}e.initialize=t,e.isVisible=function(){return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY)},e.draw=function(t,e){return!!this.DisplayObject_draw(t,e)||(this._updateState(),this.Container_draw(t,e),!0)},e.play=function(){this.paused=!1},e.stop=function(){this.paused=!0},e.gotoAndPlay=function(t){this.paused=!1,this._goto(t)},e.gotoAndStop=function(t){this.paused=!0,this._goto(t)},e.advance=function(e){var i=t.INDEPENDENT;if(this.mode===i){for(var r=this,s=r.framerate;(r=r.parent)&&null===s;)r.mode===i&&(s=r._framerate);if(this._framerate=s,!this.paused){var n=null!==s&&-1!==s&&null!==e?e/(1e3/s)+this._t:1,a=0|n;for(this._t=n-a;a--;)this._updateTimeline(this._rawPosition+1,!1)}}},e.clone=function(){throw"MovieClip cannot be cloned."},e.toString=function(){return"[MovieClip (name="+this.name+")]"},e._updateState=function(){-1!==this._rawPosition&&this.mode===t.INDEPENDENT||this._updateTimeline(-1)},e._tick=function(t){this.advance(t&&t.delta),this.Container__tick(t)},e._goto=function(t){var e=this.timeline.resolve(t);null!=e&&(this._t=0,this._updateTimeline(e,!0))},e._reset=function(){this._rawPosition=-1,this._t=this.currentFrame=0,this.paused=!1},e._updateTimeline=function(e,i){var r=this.mode!==t.INDEPENDENT,s=this.timeline;r&&(e=this.startPosition+(this.mode===t.SINGLE_FRAME?0:this._synchOffset)),e<0&&(e=0),(this._rawPosition!==e||r)&&(this._rawPosition=e,s.loop=this.loop,s.setPosition(e,r||!this.actionsEnabled,i,this._bound_resolveState))},e._renderFirstFrame=function(){var t=this.timeline,e=t.rawPosition;t.setPosition(0,!0,!0,this._bound_resolveState),t.rawPosition=e},e._resolveState=function(){var t=this.timeline;for(var e in this.currentFrame=t.position,this._managed)this._managed[e]=1;for(var i=t.tweens,r=0,s=i.length;r<s;r++){var n=i[r],a=n.target;if(a!==this&&!n.passive){var o=n._stepPosition;a instanceof createjs.DisplayObject?this._addManagedChild(a,o):this._setState(a.state,o)}}var h=this.children;for(r=h.length-1;r>=0;r--){var c=h[r].id;1===this._managed[c]&&(this.removeChildAt(r),delete this._managed[c])}},e._setState=function(t,e){if(t)for(var i=t.length-1;i>=0;i--){var r=t[i],s=r.t,n=r.p;for(var a in n)s[a]=n[a];this._addManagedChild(s,e)}},e._addManagedChild=function(e,i){e._off||(this.addChildAt(e,0),e instanceof t&&(e._synchOffset=i,e.mode===t.INDEPENDENT&&e.autoReset&&!this._managed[e.id]&&e._reset()),this._managed[e.id]=2)},e._getBounds=function(t,e){var i=this.DisplayObject_getBounds();return i||this.frameBounds&&(i=this._rectangle.copy(this.frameBounds[this.currentFrame])),i?this._transformBounds(i,t,e):this.Container__getBounds(t,e)},createjs.MovieClip=createjs.promote(t,"Container"),i.priority=100,i.ID="MovieClip",i.install=function(){createjs.Tween._installPlugin(i)},i.init=function(e,r,s){"startPosition"===r&&e.target instanceof t&&e._addPlugin(i)},i.step=function(t,e,i){},i.change=function(t,e,i,r,s,n){if("startPosition"===i)return 1===s?e.props[i]:e.prev.props[i]}}(),function(){"use strict";function t(){throw"SpriteSheetUtils cannot be instantiated"}var e=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");e.getContext&&(t._workingCanvas=e,t._workingContext=e.getContext("2d"),e.width=e.height=1),t.extractFrame=function(e,i){isNaN(i)&&(i=e.getAnimation(i).frames[0]);var r=e.getFrame(i);if(!r)return null;var s=r.rect,n=t._workingCanvas;n.width=s.width,n.height=s.height,t._workingContext.drawImage(r.image,s.x,s.y,s.width,s.height,0,0,s.width,s.height);var a=document.createElement("img");return a.src=n.toDataURL("image/png"),a},t.addFlippedFrames=createjs.deprecate(null,"SpriteSheetUtils.addFlippedFrames"),t.mergeAlpha=createjs.deprecate(null,"SpriteSheetUtils.mergeAlpha"),t._flip=function(e,i,r,s){for(var n=e._images,a=t._workingCanvas,o=t._workingContext,h=n.length/i,c=0;c<h;c++){var u=n[c];u.__tmp=c,o.setTransform(1,0,0,1,0,0),o.clearRect(0,0,a.width+1,a.height+1),a.width=u.width,a.height=u.height,o.setTransform(r?-1:1,0,0,s?-1:1,r?u.width:0,s?u.height:0),o.drawImage(u,0,0);var l=document.createElement("img");l.src=a.toDataURL("image/png"),l.width=u.width||u.naturalWidth,l.height=u.height||u.naturalHeight,n.push(l)}var d=e._frames,_=d.length/i;for(c=0;c<_;c++){var p=(u=d[c]).rect.clone(),f={image:l=n[u.image.__tmp+h*i],rect:p,regX:u.regX,regY:u.regY};r&&(p.x=(l.width||l.naturalWidth)-p.x-p.width,f.regX=p.width-u.regX),s&&(p.y=(l.height||l.naturalHeight)-p.y-p.height,f.regY=p.height-u.regY),d.push(f)}var g="_"+(r?"h":"")+(s?"v":""),m=e._animations,v=e._data,T=m.length/i;for(c=0;c<T;c++){var b=m[c],E={name:b+g,speed:(u=v[b]).speed,next:u.next,frames:[]};u.next&&(E.next+=g);for(var y=0,S=(d=u.frames).length;y<S;y++)E.frames.push(d[y]+_*i);v[E.name]=E,m.push(E.name)}},createjs.SpriteSheetUtils=t}(),function(){"use strict";function t(t){this.EventDispatcher_constructor(),this.maxWidth=2048,this.maxHeight=2048,this.spriteSheet=null,this.scale=1,this.padding=1,this.timeSlice=.3,this.progress=-1,this.framerate=t||0,this._frames=[],this._animations={},this._data=null,this._nextFrameIndex=0,this._index=0,this._timerID=null,this._scale=1}var e=createjs.extend(t,createjs.EventDispatcher);t.ERR_DIMENSIONS="frame dimensions exceed max spritesheet dimensions",t.ERR_RUNNING="a build is already running",e.addFrame=function(e,i,r,s,n){if(this._data)throw t.ERR_RUNNING;var a=i||e.bounds||e.nominalBounds;return!a&&e.getBounds&&(a=e.getBounds()),a?(r=r||1,this._frames.push({source:e,sourceRect:a,scale:r,funct:s,data:n,index:this._frames.length,height:a.height*r})-1):null},e.addAnimation=function(e,i,r,s){if(this._data)throw t.ERR_RUNNING;this._animations[e]={frames:i,next:r,speed:s}},e.addMovieClip=function(e,i,r,s,n,a){if(this._data)throw t.ERR_RUNNING;var o=e.frameBounds,h=i||e.bounds||e.nominalBounds;if(!h&&e.getBounds&&(h=e.getBounds()),h||o){var c,u,l=this._frames.length,d=e.timeline.duration;for(c=0;c<d;c++){var _=o&&o[c]?o[c]:h;this.addFrame(e,_,r,this._setupMovieClipFrame,{i:c,f:s,d:n})}var p=e.timeline._labels,f=[];for(var g in p)f.push({index:p[g],label:g});if(f.length)for(f.sort(function(t,e){return t.index-e.index}),c=0,u=f.length;c<u;c++){for(var m=f[c].label,v=l+f[c].index,T=l+(c==u-1?d:f[c+1].index),b=[],E=v;E<T;E++)b.push(E);a&&!(m=a(m,e,v,T))||this.addAnimation(m,b,!0)}}},e.build=function(){if(this._data)throw t.ERR_RUNNING;for(this._startBuild();this._drawNext(););return this._endBuild(),this.spriteSheet},e.buildAsync=function(e){if(this._data)throw t.ERR_RUNNING;this.timeSlice=e,this._startBuild();var i=this;this._timerID=setTimeout(function(){i._run()},50-50*Math.max(.01,Math.min(.99,this.timeSlice||.3)))},e.stopAsync=function(){clearTimeout(this._timerID),this._data=null},e.clone=function(){throw"SpriteSheetBuilder cannot be cloned."},e.toString=function(){return"[SpriteSheetBuilder]"},e._startBuild=function(){var e=this.padding||0;this.progress=0,this.spriteSheet=null,this._index=0,this._scale=this.scale;var i=[];this._data={images:[],frames:i,framerate:this.framerate,animations:this._animations};var r=this._frames.slice();if(r.sort(function(t,e){return t.height<=e.height?-1:1}),r[r.length-1].height+2*e>this.maxHeight)throw t.ERR_DIMENSIONS;for(var s=0,n=0,a=0;r.length;){var o=this._fillRow(r,s,a,i,e);if(o.w>n&&(n=o.w),s+=o.h,!o.h||!r.length){var h=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");h.width=this._getSize(n,this.maxWidth),h.height=this._getSize(s,this.maxHeight),this._data.images[a]=h,o.h||(n=s=0,a++)}}},e._setupMovieClipFrame=function(t,e){var i=t.actionsEnabled;t.actionsEnabled=!1,t.gotoAndStop(e.i),t.actionsEnabled=i,e.f&&e.f(t,e.d,e.i)},e._getSize=function(t,e){for(var i=4;Math.pow(2,++i)<t;);return Math.min(e,Math.pow(2,i))},e._fillRow=function(e,i,r,s,n){for(var a=this.maxWidth,o=this.maxHeight-(i+=n),h=n,c=0,u=e.length-1;u>=0;u--){var l=e[u],d=this._scale*l.scale,_=l.sourceRect,p=l.source,f=Math.floor(d*_.x-n),g=Math.floor(d*_.y-n),m=Math.ceil(d*_.height+2*n),v=Math.ceil(d*_.width+2*n);if(v>a)throw t.ERR_DIMENSIONS;m>o||h+v>a||(l.img=r,l.rect=new createjs.Rectangle(h,i,v,m),c=c||m,e.splice(u,1),s[l.index]=[h,i,v,m,r,Math.round(-f+d*p.regX-n),Math.round(-g+d*p.regY-n)],h+=v)}return{w:h,h:c}},e._endBuild=function(){this.spriteSheet=new createjs.SpriteSheet(this._data),this._data=null,this.progress=1,this.dispatchEvent("complete")},e._run=function(){for(var t=50*Math.max(.01,Math.min(.99,this.timeSlice||.3)),e=(new Date).getTime()+t,i=!1;e>(new Date).getTime();)if(!this._drawNext()){i=!0;break}if(i)this._endBuild();else{var r=this;this._timerID=setTimeout(function(){r._run()},50-t)}var s=this.progress=this._index/this._frames.length;if(this.hasEventListener("progress")){var n=new createjs.Event("progress");n.progress=s,this.dispatchEvent(n)}},e._drawNext=function(){var t=this._frames[this._index],e=t.scale*this._scale,i=t.rect,r=t.sourceRect,s=this._data.images[t.img].getContext("2d");return t.funct&&t.funct(t.source,t.data),s.save(),s.beginPath(),s.rect(i.x,i.y,i.width,i.height),s.clip(),s.translate(Math.ceil(i.x-r.x*e),Math.ceil(i.y-r.y*e)),s.scale(e,e),t.source.draw(s),s.restore(),++this._index<this._frames.length},createjs.SpriteSheetBuilder=createjs.promote(t,"EventDispatcher")}(),function(){"use strict";function t(t){this.DisplayObject_constructor(),"string"==typeof t&&(t=document.getElementById(t)),this.mouseEnabled=!1;var e=t.style;e.position="absolute",e.transformOrigin=e.WebkitTransformOrigin=e.msTransformOrigin=e.MozTransformOrigin=e.OTransformOrigin="0% 0%",this.htmlElement=t,this._oldProps=null,this._oldStage=null,this._drawAction=null}var e=createjs.extend(t,createjs.DisplayObject);e.isVisible=function(){return null!=this.htmlElement},e.draw=function(t,e){return!0},e.cache=function(){},e.uncache=function(){},e.updateCache=function(){},e.hitTest=function(){},e.localToGlobal=function(){},e.globalToLocal=function(){},e.localToLocal=function(){},e.clone=function(){throw"DOMElement cannot be cloned."},e.toString=function(){return"[DOMElement (name="+this.name+")]"},e._tick=function(t){var e=this.stage;e&&e!==this._oldStage&&(this._drawAction&&e.off("drawend",this._drawAction),this._drawAction=e.on("drawend",this._handleDrawEnd,this),this._oldStage=e),this.DisplayObject__tick(t)},e._handleDrawEnd=function(t){var e=this.htmlElement;if(e){var i=e.style,r=this.getConcatenatedDisplayProps(this._props),s=r.matrix,n=r.visible?"visible":"hidden";if(n!=i.visibility&&(i.visibility=n),r.visible){var a=this._oldProps,o=a&&a.matrix,h=1e4;if(!o||!o.equals(s)){var c="matrix("+(s.a*h|0)/h+","+(s.b*h|0)/h+","+(s.c*h|0)/h+","+(s.d*h|0)/h+","+(s.tx+.5|0);i.transform=i.WebkitTransform=i.OTransform=i.msTransform=c+","+(s.ty+.5|0)+")",i.MozTransform=c+"px,"+(s.ty+.5|0)+"px)",a||(a=this._oldProps=new createjs.DisplayProps(!0,null)),a.matrix.copy(s)}a.alpha!=r.alpha&&(i.opacity=""+(r.alpha*h|0)/h,a.alpha=r.alpha)}}},createjs.DOMElement=createjs.promote(t,"DisplayObject")}(),function(){"use strict";function t(){this.usesContext=!1,this._multiPass=null,this.VTX_SHADER_BODY=null,this.FRAG_SHADER_BODY=null}var e=t.prototype;e.getBounds=function(t){return t},e.shaderParamSetup=function(t,e,i){},e.applyFilter=function(t,e,i,r,s,n,a,o){n=n||t,null==a&&(a=e),null==o&&(o=i);try{var h=t.getImageData(e,i,r,s)}catch(t){return!1}return!!this._applyFilter(h)&&(n.putImageData(h,a,o),!0)},e.toString=function(){return"[Filter]"},e.clone=function(){return new t},e._applyFilter=function(t){return!0},createjs.Filter=t}(),function(){"use strict";function t(){this.width=void 0,this.height=void 0,this.x=void 0,this.y=void 0,this.scale=1,this.offX=0,this.offY=0,this.cacheID=0,this._filterOffX=0,this._filterOffY=0,this._cacheDataURLID=0,this._cacheDataURL=null,this._drawWidth=0,this._drawHeight=0}var e=t.prototype;t.getFilterBounds=function(t,e){e||(e=new createjs.Rectangle);var i=t.filters,r=i&&i.length;if(!!r<=0)return e;for(var s=0;s<r;s++){var n=i[s];if(n&&n.getBounds){var a=n.getBounds();a&&(0==s?e.setValues(a.x,a.y,a.width,a.height):e.extend(a.x,a.y,a.width,a.height))}}return e},e.toString=function(){return"[BitmapCache]"},e.define=function(t,e,i,r,s,n,a){if(!t)throw"No symbol to cache";this._options=a,this.target=t,this.width=r>=1?r:1,this.height=s>=1?s:1,this.x=e||0,this.y=i||0,this.scale=n||1,this.update()},e.update=function(e){if(!this.target)throw"define() must be called before update()";var i=t.getFilterBounds(this.target),r=this.target.cacheCanvas;this._drawWidth=Math.ceil(this.width*this.scale)+i.width,this._drawHeight=Math.ceil(this.height*this.scale)+i.height,r&&this._drawWidth==r.width&&this._drawHeight==r.height||this._updateSurface(),this._filterOffX=i.x,this._filterOffY=i.y,this.offX=this.x*this.scale+this._filterOffX,this.offY=this.y*this.scale+this._filterOffY,this._drawToCache(e),this.cacheID=this.cacheID?this.cacheID+1:1},e.release=function(){if(this._webGLCache)this._webGLCache.isCacheControlled||(this.__lastRT&&(this.__lastRT=void 0),this.__rtA&&this._webGLCache._killTextureObject(this.__rtA),this.__rtB&&this._webGLCache._killTextureObject(this.__rtB),this.target&&this.target.cacheCanvas&&this._webGLCache._killTextureObject(this.target.cacheCanvas)),this._webGLCache=!1;else{var t=this.target.stage;t instanceof createjs.StageGL&&t.releaseTexture(this.target.cacheCanvas)}this.target=this.target.cacheCanvas=null,this.cacheID=this._cacheDataURLID=this._cacheDataURL=void 0,this.width=this.height=this.x=this.y=this.offX=this.offY=0,this.scale=1},e.getCacheDataURL=function(){var t=this.target&&this.target.cacheCanvas;return t?(this.cacheID!=this._cacheDataURLID&&(this._cacheDataURLID=this.cacheID,this._cacheDataURL=t.toDataURL?t.toDataURL():null),this._cacheDataURL):null},e.draw=function(t){return!!this.target&&(t.drawImage(this.target.cacheCanvas,this.x+this._filterOffX/this.scale,this.y+this._filterOffY/this.scale,this._drawWidth/this.scale,this._drawHeight/this.scale),!0)},e._updateSurface=function(){if(!this._options||!this._options.useGL)return(e=this.target.cacheCanvas)||(e=this.target.cacheCanvas=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas")),e.width=this._drawWidth,void(e.height=this._drawHeight);if(!this._webGLCache)if("stage"===this._options.useGL){if(!this.target.stage||!this.target.stage.isWebGL){var t="Cannot use 'stage' for cache because the object's parent stage is ";throw t+=this.target.stage?"non WebGL.":"not set, please addChild to the correct stage."}this.target.cacheCanvas=!0,this._webGLCache=this.target.stage}else if("new"===this._options.useGL)this.target.cacheCanvas=document.createElement("canvas"),this._webGLCache=new createjs.StageGL(this.target.cacheCanvas,{antialias:!0,transparent:!0,autoPurge:-1}),this._webGLCache.isCacheControlled=!0;else{if(!(this._options.useGL instanceof createjs.StageGL))throw"Invalid option provided to useGL, expected ['stage', 'new', StageGL, undefined], got "+this._options.useGL;this.target.cacheCanvas=!0,this._webGLCache=this._options.useGL,this._webGLCache.isCacheControlled=!0}var e=this.target.cacheCanvas,i=this._webGLCache;i.isCacheControlled&&(e.width=this._drawWidth,e.height=this._drawHeight,i.updateViewport(this._drawWidth,this._drawHeight)),this.target.filters?(i.getTargetRenderTexture(this.target,this._drawWidth,this._drawHeight),i.getTargetRenderTexture(this.target,this._drawWidth,this._drawHeight)):i.isCacheControlled||i.getTargetRenderTexture(this.target,this._drawWidth,this._drawHeight)},e._drawToCache=function(t){var e=this.target.cacheCanvas,i=this.target,r=this._webGLCache;if(r)r.cacheDraw(i,i.filters,this),(e=this.target.cacheCanvas).width=this._drawWidth,e.height=this._drawHeight;else{var s=e.getContext("2d");t||s.clearRect(0,0,this._drawWidth+1,this._drawHeight+1),s.save(),s.globalCompositeOperation=t,s.setTransform(this.scale,0,0,this.scale,-this._filterOffX,-this._filterOffY),s.translate(-this.x,-this.y),i.draw(s,!0),s.restore(),i.filters&&i.filters.length&&this._applyFilters(s)}e._invalid=!0},e._applyFilters=function(t){var e,i=this.target.filters,r=this._drawWidth,s=this._drawHeight,n=0,a=i[n];do{a.usesContext?(e&&(t.putImageData(e,0,0),e=null),a.applyFilter(t,0,0,r,s)):(e||(e=t.getImageData(0,0,r,s)),a._applyFilter(e)),a=null!==a._multiPass?a._multiPass:i[++n]}while(a);e&&t.putImageData(e,0,0)},createjs.BitmapCache=t}(),function(){"use strict";function t(t,e,i){this.Filter_constructor(),this._blurX=t,this._blurXTable=[],this._lastBlurX=null,this._blurY=e,this._blurYTable=[],this._lastBlurY=null,this._quality,this._lastQuality=null,this.FRAG_SHADER_TEMPLATE="uniform float xWeight[{{blurX}}];uniform float yWeight[{{blurY}}];uniform vec2 textureOffset;void main(void) {vec4 color = vec4(0.0);float xAdj = ({{blurX}}.0-1.0)/2.0;float yAdj = ({{blurY}}.0-1.0)/2.0;vec2 sampleOffset;for(int i=0; i<{{blurX}}; i++) {for(int j=0; j<{{blurY}}; j++) {sampleOffset = vRenderCoord + (textureOffset * vec2(float(i)-xAdj, float(j)-yAdj));color += texture2D(uSampler, sampleOffset) * (xWeight[i] * yWeight[j]);}}gl_FragColor = color.rgba;}",(isNaN(i)||i<1)&&(i=1),this.setQuality(0|i)}var e=createjs.extend(t,createjs.Filter);e.getBlurX=function(){return this._blurX},e.getBlurY=function(){return this._blurY},e.setBlurX=function(t){(isNaN(t)||t<0)&&(t=0),this._blurX=t},e.setBlurY=function(t){(isNaN(t)||t<0)&&(t=0),this._blurY=t},e.getQuality=function(){return this._quality},e.setQuality=function(t){(isNaN(t)||t<0)&&(t=0),this._quality=0|t},e._getShader=function(){var t=this._lastBlurX!==this._blurX,e=this._lastBlurY!==this._blurY,i=this._lastQuality!==this._quality;return t||e||i?((t||i)&&(this._blurXTable=this._getTable(this._blurX*this._quality)),(e||i)&&(this._blurYTable=this._getTable(this._blurY*this._quality)),this._updateShader(),this._lastBlurX=this._blurX,this._lastBlurY=this._blurY,void(this._lastQuality=this._quality)):this._compiledShader},e._setShader=function(){this._compiledShader};try{Object.defineProperties(e,{blurX:{get:e.getBlurX,set:e.setBlurX},blurY:{get:e.getBlurY,set:e.setBlurY},quality:{get:e.getQuality,set:e.setQuality},_builtShader:{get:e._getShader,set:e._setShader}})}catch(t){console.log(t)}e._getTable=function(t){if(t<=1)return[1];for(var e=[],i=Math.ceil(2*t),r=(i+=i%2?0:1)/2|0,s=-r;s<=r;s++){var n=s/r*4.2;e.push(1/Math.sqrt(2*Math.PI)*Math.pow(Math.E,-Math.pow(n,2)/4))}var a=e.reduce(function(t,e){return t+e});return e.map(function(t,e,i){return t/a})},e._updateShader=function(){if(void 0!==this._blurX&&void 0!==this._blurY){var t=this.FRAG_SHADER_TEMPLATE;t=(t=t.replace(/\{\{blurX\}\}/g,this._blurXTable.length.toFixed(0))).replace(/\{\{blurY\}\}/g,this._blurYTable.length.toFixed(0)),this.FRAG_SHADER_BODY=t}},e.shaderParamSetup=function(t,e,i){t.uniform1fv(t.getUniformLocation(i,"xWeight"),this._blurXTable),t.uniform1fv(t.getUniformLocation(i,"yWeight"),this._blurYTable),t.uniform2f(t.getUniformLocation(i,"textureOffset"),2/(e._viewportWidth*this._quality),2/(e._viewportHeight*this._quality))},t.MUL_TABLE=[1,171,205,293,57,373,79,137,241,27,391,357,41,19,283,265,497,469,443,421,25,191,365,349,335,161,155,149,9,278,269,261,505,245,475,231,449,437,213,415,405,395,193,377,369,361,353,345,169,331,325,319,313,307,301,37,145,285,281,69,271,267,263,259,509,501,493,243,479,118,465,459,113,446,55,435,429,423,209,413,51,403,199,393,97,3,379,375,371,367,363,359,355,351,347,43,85,337,333,165,327,323,5,317,157,311,77,305,303,75,297,294,73,289,287,71,141,279,277,275,68,135,67,133,33,262,260,129,511,507,503,499,495,491,61,121,481,477,237,235,467,232,115,457,227,451,7,445,221,439,218,433,215,427,425,211,419,417,207,411,409,203,202,401,399,396,197,49,389,387,385,383,95,189,47,187,93,185,23,183,91,181,45,179,89,177,11,175,87,173,345,343,341,339,337,21,167,83,331,329,327,163,81,323,321,319,159,79,315,313,39,155,309,307,153,305,303,151,75,299,149,37,295,147,73,291,145,289,287,143,285,71,141,281,35,279,139,69,275,137,273,17,271,135,269,267,133,265,33,263,131,261,130,259,129,257,1],t.SHG_TABLE=[0,9,10,11,9,12,10,11,12,9,13,13,10,9,13,13,14,14,14,14,10,13,14,14,14,13,13,13,9,14,14,14,15,14,15,14,15,15,14,15,15,15,14,15,15,15,15,15,14,15,15,15,15,15,15,12,14,15,15,13,15,15,15,15,16,16,16,15,16,14,16,16,14,16,13,16,16,16,15,16,13,16,15,16,14,9,16,16,16,16,16,16,16,16,16,13,14,16,16,15,16,16,10,16,15,16,14,16,16,14,16,16,14,16,16,14,15,16,16,16,14,15,14,15,13,16,16,15,17,17,17,17,17,17,14,15,17,17,16,16,17,16,15,17,16,17,11,17,16,17,16,17,16,17,17,16,17,17,16,17,17,16,16,17,17,17,16,14,17,17,17,17,15,16,14,16,15,16,13,16,15,16,14,16,15,16,12,16,15,16,17,17,17,17,17,13,16,15,17,17,17,16,15,17,17,17,16,15,17,17,14,16,17,17,16,17,17,16,15,17,16,14,17,16,15,17,16,17,17,16,17,15,16,17,14,17,16,15,17,16,17,13,17,16,17,17,16,17,14,17,16,17,16,17,16,17,9],e.getBounds=function(t){var e=0|this.blurX,i=0|this.blurY;if(e<=0&&i<=0)return t;var r=Math.pow(this.quality,.2);return(t||new createjs.Rectangle).pad(i*r+1,e*r+1,i*r+1,e*r+1)},e.clone=function(){return new t(this.blurX,this.blurY,this.quality)},e.toString=function(){return"[BlurFilter]"},e._applyFilter=function(e){var i=this._blurX>>1;if(isNaN(i)||i<0)return!1;var r=this._blurY>>1;if(isNaN(r)||r<0)return!1;if(0==i&&0==r)return!1;var s=this.quality;(isNaN(s)||s<1)&&(s=1),(s|=0)>3&&(s=3),s<1&&(s=1);var n=e.data,a=0,o=0,h=0,c=0,u=0,l=0,d=0,_=0,p=0,f=0,g=0,m=0,v=0,T=0,b=0,E=i+i+1|0,y=r+r+1|0,S=0|e.width,x=0|e.height,w=S-1|0,R=x-1|0,A=i+1|0,P=r+1|0,L={r:0,b:0,g:0,a:0},j=L;for(h=1;h<E;h++)j=j.n={r:0,b:0,g:0,a:0};j.n=L;var C={r:0,b:0,g:0,a:0},I=C;for(h=1;h<y;h++)I=I.n={r:0,b:0,g:0,a:0};I.n=C;for(var D=null,M=0|t.MUL_TABLE[i],O=0|t.SHG_TABLE[i],F=0|t.MUL_TABLE[r],N=0|t.SHG_TABLE[r];s-- >0;){d=l=0;var k=M,B=O;for(o=x;--o>-1;){for(_=A*(m=n[0|l]),p=A*(v=n[l+1|0]),f=A*(T=n[l+2|0]),g=A*(b=n[l+3|0]),j=L,h=A;--h>-1;)j.r=m,j.g=v,j.b=T,j.a=b,j=j.n;for(h=1;h<A;h++)c=l+((w<h?w:h)<<2)|0,_+=j.r=n[c],p+=j.g=n[c+1],f+=j.b=n[c+2],g+=j.a=n[c+3],j=j.n;for(D=L,a=0;a<S;a++)n[l++]=_*k>>>B,n[l++]=p*k>>>B,n[l++]=f*k>>>B,n[l++]=g*k>>>B,c=d+((c=a+i+1)<w?c:w)<<2,_-=D.r-(D.r=n[c]),p-=D.g-(D.g=n[c+1]),f-=D.b-(D.b=n[c+2]),g-=D.a-(D.a=n[c+3]),D=D.n;d+=S}for(k=F,B=N,a=0;a<S;a++){for(_=P*(m=n[l=a<<2|0])|0,p=P*(v=n[l+1|0])|0,f=P*(T=n[l+2|0])|0,g=P*(b=n[l+3|0])|0,I=C,h=0;h<P;h++)I.r=m,I.g=v,I.b=T,I.a=b,I=I.n;for(u=S,h=1;h<=r;h++)l=u+a<<2,_+=I.r=n[l],p+=I.g=n[l+1],f+=I.b=n[l+2],g+=I.a=n[l+3],I=I.n,h<R&&(u+=S);if(l=a,D=C,s>0)for(o=0;o<x;o++)n[(c=l<<2)+3]=b=g*k>>>B,b>0?(n[c]=_*k>>>B,n[c+1]=p*k>>>B,n[c+2]=f*k>>>B):n[c]=n[c+1]=n[c+2]=0,c=a+((c=o+P)<R?c:R)*S<<2,_-=D.r-(D.r=n[c]),p-=D.g-(D.g=n[c+1]),f-=D.b-(D.b=n[c+2]),g-=D.a-(D.a=n[c+3]),D=D.n,l+=S;else for(o=0;o<x;o++)n[(c=l<<2)+3]=b=g*k>>>B,b>0?(b=255/b,n[c]=(_*k>>>B)*b,n[c+1]=(p*k>>>B)*b,n[c+2]=(f*k>>>B)*b):n[c]=n[c+1]=n[c+2]=0,c=a+((c=o+P)<R?c:R)*S<<2,_-=D.r-(D.r=n[c]),p-=D.g-(D.g=n[c+1]),f-=D.b-(D.b=n[c+2]),g-=D.a-(D.a=n[c+3]),D=D.n,l+=S}}return!0},createjs.BlurFilter=createjs.promote(t,"Filter")}(),function(){"use strict";function t(t){this.Filter_constructor(),this.alphaMap=t,this._alphaMap=null,this._mapData=null,this._mapTexture=null,this.FRAG_SHADER_BODY="uniform sampler2D uAlphaSampler;void main(void) {vec4 color = texture2D(uSampler, vRenderCoord);vec4 alphaMap = texture2D(uAlphaSampler, vTextureCoord);gl_FragColor = vec4(color.rgb, color.a * (alphaMap.r * ceil(alphaMap.a)));}"}var e=createjs.extend(t,createjs.Filter);e.shaderParamSetup=function(t,e,i){this._mapTexture||(this._mapTexture=t.createTexture()),t.activeTexture(t.TEXTURE1),t.bindTexture(t.TEXTURE_2D,this._mapTexture),e.setTextureParams(t),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,this.alphaMap),t.uniform1i(t.getUniformLocation(i,"uAlphaSampler"),1)},e.clone=function(){var e=new t(this.alphaMap);return e._alphaMap=this._alphaMap,e._mapData=this._mapData,e},e.toString=function(){return"[AlphaMapFilter]"},e._applyFilter=function(t){if(!this.alphaMap)return!0;if(!this._prepAlphaMap())return!1;for(var e=t.data,i=this._mapData,r=0,s=e.length;r<s;r+=4)e[r+3]=i[r]||0;return!0},e._prepAlphaMap=function(){if(!this.alphaMap)return!1;if(this.alphaMap==this._alphaMap&&this._mapData)return!0;this._mapData=null;var t,e=this._alphaMap=this.alphaMap,i=e;e instanceof HTMLCanvasElement?t=i.getContext("2d"):((i=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas")).width=e.width,i.height=e.height,(t=i.getContext("2d")).drawImage(e,0,0));try{var r=t.getImageData(0,0,e.width,e.height)}catch(t){return!1}return this._mapData=r.data,!0},createjs.AlphaMapFilter=createjs.promote(t,"Filter")}(),function(){"use strict";function t(t){this.Filter_constructor(),this.mask=t,this.usesContext=!0,this.FRAG_SHADER_BODY="uniform sampler2D uAlphaSampler;void main(void) {vec4 color = texture2D(uSampler, vRenderCoord);vec4 alphaMap = texture2D(uAlphaSampler, vTextureCoord);gl_FragColor = vec4(color.rgb, color.a * alphaMap.a);}"}var e=createjs.extend(t,createjs.Filter);e.shaderParamSetup=function(t,e,i){this._mapTexture||(this._mapTexture=t.createTexture()),t.activeTexture(t.TEXTURE1),t.bindTexture(t.TEXTURE_2D,this._mapTexture),e.setTextureParams(t),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,this.mask),t.uniform1i(t.getUniformLocation(i,"uAlphaSampler"),1)},e.applyFilter=function(t,e,i,r,s,n,a,o){return!this.mask||(n=n||t,null==a&&(a=e),null==o&&(o=i),n.save(),t==n&&(n.globalCompositeOperation="destination-in",n.drawImage(this.mask,a,o),n.restore(),!0))},e.clone=function(){return new t(this.mask)},e.toString=function(){return"[AlphaMaskFilter]"},createjs.AlphaMaskFilter=createjs.promote(t,"Filter")}(),function(){"use strict";function t(t,e,i,r,s,n,a,o){this.Filter_constructor(),this.redMultiplier=null!=t?t:1,this.greenMultiplier=null!=e?e:1,this.blueMultiplier=null!=i?i:1,this.alphaMultiplier=null!=r?r:1,this.redOffset=s||0,this.greenOffset=n||0,this.blueOffset=a||0,this.alphaOffset=o||0,this.FRAG_SHADER_BODY="uniform vec4 uColorMultiplier;uniform vec4 uColorOffset;void main(void) {vec4 color = texture2D(uSampler, vRenderCoord);gl_FragColor = (color * uColorMultiplier) + uColorOffset;}"}var e=createjs.extend(t,createjs.Filter);e.shaderParamSetup=function(t,e,i){t.uniform4f(t.getUniformLocation(i,"uColorMultiplier"),this.redMultiplier,this.greenMultiplier,this.blueMultiplier,this.alphaMultiplier),t.uniform4f(t.getUniformLocation(i,"uColorOffset"),this.redOffset/255,this.greenOffset/255,this.blueOffset/255,this.alphaOffset/255)},e.toString=function(){return"[ColorFilter]"},e.clone=function(){return new t(this.redMultiplier,this.greenMultiplier,this.blueMultiplier,this.alphaMultiplier,this.redOffset,this.greenOffset,this.blueOffset,this.alphaOffset)},e._applyFilter=function(t){for(var e=t.data,i=e.length,r=0;r<i;r+=4)e[r]=e[r]*this.redMultiplier+this.redOffset,e[r+1]=e[r+1]*this.greenMultiplier+this.greenOffset,e[r+2]=e[r+2]*this.blueMultiplier+this.blueOffset,e[r+3]=e[r+3]*this.alphaMultiplier+this.alphaOffset;return!0},createjs.ColorFilter=createjs.promote(t,"Filter")}(),function(){"use strict";function t(t,e,i,r){this.setColor(t,e,i,r)}var e=t.prototype;t.DELTA_INDEX=[0,.01,.02,.04,.05,.06,.07,.08,.1,.11,.12,.14,.15,.16,.17,.18,.2,.21,.22,.24,.25,.27,.28,.3,.32,.34,.36,.38,.4,.42,.44,.46,.48,.5,.53,.56,.59,.62,.65,.68,.71,.74,.77,.8,.83,.86,.89,.92,.95,.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10],t.IDENTITY_MATRIX=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1],t.LENGTH=t.IDENTITY_MATRIX.length,e.setColor=function(t,e,i,r){return this.reset().adjustColor(t,e,i,r)},e.reset=function(){return this.copy(t.IDENTITY_MATRIX)},e.adjustColor=function(t,e,i,r){return this.adjustHue(r),this.adjustContrast(e),this.adjustBrightness(t),this.adjustSaturation(i)},e.adjustBrightness=function(t){return 0==t||isNaN(t)?this:(t=this._cleanValue(t,255),this._multiplyMatrix([1,0,0,0,t,0,1,0,0,t,0,0,1,0,t,0,0,0,1,0,0,0,0,0,1]),this)},e.adjustContrast=function(e){return 0==e||isNaN(e)?this:(i=(e=this._cleanValue(e,100))<0?127+e/100*127:127*(i=0==(i=e%1)?t.DELTA_INDEX[e]:t.DELTA_INDEX[e<<0]*(1-i)+t.DELTA_INDEX[1+(e<<0)]*i)+127,this._multiplyMatrix([i/127,0,0,0,.5*(127-i),0,i/127,0,0,.5*(127-i),0,0,i/127,0,.5*(127-i),0,0,0,1,0,0,0,0,0,1]),this);var i},e.adjustSaturation=function(t){if(0==t||isNaN(t))return this;var e=1+((t=this._cleanValue(t,100))>0?3*t/100:t/100);return this._multiplyMatrix([.3086*(1-e)+e,.6094*(1-e),.082*(1-e),0,0,.3086*(1-e),.6094*(1-e)+e,.082*(1-e),0,0,.3086*(1-e),.6094*(1-e),.082*(1-e)+e,0,0,0,0,0,1,0,0,0,0,0,1]),this},e.adjustHue=function(t){if(0==t||isNaN(t))return this;t=this._cleanValue(t,180)/180*Math.PI;var e=Math.cos(t),i=Math.sin(t),r=.213,s=.715,n=.072;return this._multiplyMatrix([r+.787*e+i*-r,s+e*-s+i*-s,n+e*-n+.928*i,0,0,r+e*-r+.143*i,s+e*(1-s)+.14*i,n+e*-n+-.283*i,0,0,r+e*-r+-.787*i,s+e*-s+i*s,n+.928*e+i*n,0,0,0,0,0,1,0,0,0,0,0,1]),this},e.concat=function(e){return(e=this._fixMatrix(e)).length!=t.LENGTH?this:(this._multiplyMatrix(e),this)},e.clone=function(){return(new t).copy(this)},e.toArray=function(){for(var e=[],i=0,r=t.LENGTH;i<r;i++)e[i]=this[i];return e},e.copy=function(e){for(var i=t.LENGTH,r=0;r<i;r++)this[r]=e[r];return this},e.toString=function(){return"[ColorMatrix]"},e._multiplyMatrix=function(t){var e,i,r,s=[];for(e=0;e<5;e++){for(i=0;i<5;i++)s[i]=this[i+5*e];for(i=0;i<5;i++){var n=0;for(r=0;r<5;r++)n+=t[i+5*r]*s[r];this[i+5*e]=n}}},e._cleanValue=function(t,e){return Math.min(e,Math.max(-e,t))},e._fixMatrix=function(e){return e instanceof t&&(e=e.toArray()),e.length<t.LENGTH?e=e.slice(0,e.length).concat(t.IDENTITY_MATRIX.slice(e.length,t.LENGTH)):e.length>t.LENGTH&&(e=e.slice(0,t.LENGTH)),e},createjs.ColorMatrix=t}(),function(){"use strict";function t(t){this.Filter_constructor(),this.matrix=t,this.FRAG_SHADER_BODY="uniform mat4 uColorMatrix;uniform vec4 uColorMatrixOffset;void main(void) {vec4 color = texture2D(uSampler, vRenderCoord);mat4 m = uColorMatrix;vec4 newColor = vec4(0,0,0,0);newColor.r = color.r*m[0][0] + color.g*m[0][1] + color.b*m[0][2] + color.a*m[0][3];newColor.g = color.r*m[1][0] + color.g*m[1][1] + color.b*m[1][2] + color.a*m[1][3];newColor.b = color.r*m[2][0] + color.g*m[2][1] + color.b*m[2][2] + color.a*m[2][3];newColor.a = color.r*m[3][0] + color.g*m[3][1] + color.b*m[3][2] + color.a*m[3][3];gl_FragColor = newColor + uColorMatrixOffset;}"}var e=createjs.extend(t,createjs.Filter);e.shaderParamSetup=function(t,e,i){var r=this.matrix,s=new Float32Array([r[0],r[1],r[2],r[3],r[5],r[6],r[7],r[8],r[10],r[11],r[12],r[13],r[15],r[16],r[17],r[18]]);t.uniformMatrix4fv(t.getUniformLocation(i,"uColorMatrix"),!1,s),t.uniform4f(t.getUniformLocation(i,"uColorMatrixOffset"),r[4]/255,r[9]/255,r[14]/255,r[19]/255)},e.toString=function(){return"[ColorMatrixFilter]"},e.clone=function(){return new t(this.matrix)},e._applyFilter=function(t){for(var e,i,r,s,n=t.data,a=n.length,o=this.matrix,h=o[0],c=o[1],u=o[2],l=o[3],d=o[4],_=o[5],p=o[6],f=o[7],g=o[8],m=o[9],v=o[10],T=o[11],b=o[12],E=o[13],y=o[14],S=o[15],x=o[16],w=o[17],R=o[18],A=o[19],P=0;P<a;P+=4)e=n[P],i=n[P+1],r=n[P+2],s=n[P+3],n[P]=e*h+i*c+r*u+s*l+d,n[P+1]=e*_+i*p+r*f+s*g+m,n[P+2]=e*v+i*T+r*b+s*E+y,n[P+3]=e*S+i*x+r*w+s*R+A;return!0},createjs.ColorMatrixFilter=createjs.promote(t,"Filter")}(),function(){"use strict";function t(){throw"Touch cannot be instantiated"}t.isSupported=function(){return!!("ontouchstart"in window||window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>0||window.navigator.pointerEnabled&&window.navigator.maxTouchPoints>0)},t.enable=function(e,i,r){return!!(e&&e.canvas&&t.isSupported())&&(!!e.__touch||(e.__touch={pointers:{},multitouch:!i,preventDefault:!r,count:0},"ontouchstart"in window?t._IOS_enable(e):(window.navigator.msPointerEnabled||window.navigator.pointerEnabled)&&t._IE_enable(e),!0))},t.disable=function(e){e&&("ontouchstart"in window?t._IOS_disable(e):(window.navigator.msPointerEnabled||window.navigator.pointerEnabled)&&t._IE_disable(e),delete e.__touch)},t._IOS_enable=function(e){var i=e.canvas,r=e.__touch.f=function(i){t._IOS_handleEvent(e,i)};i.addEventListener("touchstart",r,!1),i.addEventListener("touchmove",r,!1),i.addEventListener("touchend",r,!1),i.addEventListener("touchcancel",r,!1)},t._IOS_disable=function(t){var e=t.canvas;if(e){var i=t.__touch.f;e.removeEventListener("touchstart",i,!1),e.removeEventListener("touchmove",i,!1),e.removeEventListener("touchend",i,!1),e.removeEventListener("touchcancel",i,!1)}},t._IOS_handleEvent=function(t,e){if(t){t.__touch.preventDefault&&e.preventDefault&&e.preventDefault();for(var i=e.changedTouches,r=e.type,s=0,n=i.length;s<n;s++){var a=i[s],o=a.identifier;a.target==t.canvas&&("touchstart"==r?this._handleStart(t,o,e,a.pageX,a.pageY):"touchmove"==r?this._handleMove(t,o,e,a.pageX,a.pageY):"touchend"!=r&&"touchcancel"!=r||this._handleEnd(t,o,e))}}},t._IE_enable=function(e){var i=e.canvas,r=e.__touch.f=function(i){t._IE_handleEvent(e,i)};void 0===window.navigator.pointerEnabled?(i.addEventListener("MSPointerDown",r,!1),window.addEventListener("MSPointerMove",r,!1),window.addEventListener("MSPointerUp",r,!1),window.addEventListener("MSPointerCancel",r,!1),e.__touch.preventDefault&&(i.style.msTouchAction="none")):(i.addEventListener("pointerdown",r,!1),window.addEventListener("pointermove",r,!1),window.addEventListener("pointerup",r,!1),window.addEventListener("pointercancel",r,!1),e.__touch.preventDefault&&(i.style.touchAction="none")),e.__touch.activeIDs={}},t._IE_disable=function(t){var e=t.__touch.f;void 0===window.navigator.pointerEnabled?(window.removeEventListener("MSPointerMove",e,!1),window.removeEventListener("MSPointerUp",e,!1),window.removeEventListener("MSPointerCancel",e,!1),t.canvas&&t.canvas.removeEventListener("MSPointerDown",e,!1)):(window.removeEventListener("pointermove",e,!1),window.removeEventListener("pointerup",e,!1),window.removeEventListener("pointercancel",e,!1),t.canvas&&t.canvas.removeEventListener("pointerdown",e,!1))},t._IE_handleEvent=function(t,e){if(t){t.__touch.preventDefault&&e.preventDefault&&e.preventDefault();var i=e.type,r=e.pointerId,s=t.__touch.activeIDs;if("MSPointerDown"==i||"pointerdown"==i){if(e.srcElement!=t.canvas)return;s[r]=!0,this._handleStart(t,r,e,e.pageX,e.pageY)}else s[r]&&("MSPointerMove"==i||"pointermove"==i?this._handleMove(t,r,e,e.pageX,e.pageY):"MSPointerUp"!=i&&"MSPointerCancel"!=i&&"pointerup"!=i&&"pointercancel"!=i||(delete s[r],this._handleEnd(t,r,e)))}},t._handleStart=function(t,e,i,r,s){var n=t.__touch;if(n.multitouch||!n.count){var a=n.pointers;a[e]||(a[e]=!0,n.count++,t._handlePointerDown(e,i,r,s))}},t._handleMove=function(t,e,i,r,s){t.__touch.pointers[e]&&t._handlePointerMove(e,i,r,s)},t._handleEnd=function(t,e,i){var r=t.__touch,s=r.pointers;s[e]&&(r.count--,t._handlePointerUp(e,i,!0),delete s[e])},createjs.Touch=t}(),function(){"use strict";var t=createjs.EaselJS=createjs.EaselJS||{};t.version="NEXT",t.buildDate="Thu, 14 Sep 2017 22:19:48 GMT"}(),function(){"use strict";var t=createjs.PreloadJS=createjs.PreloadJS||{};t.version="NEXT",t.buildDate="Thu, 14 Sep 2017 22:19:45 GMT"}(),function(){"use strict";createjs.proxy=function(t,e){var i=Array.prototype.slice.call(arguments,2);return function(){return t.apply(e,Array.prototype.slice.call(arguments,0).concat(i))}}}(),function(){"use strict";function t(t,e,i){this.Event_constructor("error"),this.title=t,this.message=e,this.data=i}createjs.extend(t,createjs.Event).clone=function(){return new createjs.ErrorEvent(this.title,this.message,this.data)},createjs.ErrorEvent=createjs.promote(t,"Event")}(),function(t){"use strict";function e(t,e){this.Event_constructor("progress"),this.loaded=t,this.total=null==e?1:e,this.progress=0==e?0:this.loaded/this.total}createjs.extend(e,createjs.Event).clone=function(){return new createjs.ProgressEvent(this.loaded,this.total)},createjs.ProgressEvent=createjs.promote(e,"Event")}(window),function(){var t="function"==typeof define&&define.amd,e={function:!0,object:!0},i=e[typeof exports]&&exports&&!exports.nodeType&&exports,r=e[typeof window]&&window||this,s=i&&e[typeof module]&&module&&!module.nodeType&&"object"==typeof global&&global;function n(t,i){t||(t=r.Object()),i||(i=r.Object());var s=t.Number||r.Number,a=t.String||r.String,o=t.Object||r.Object,h=t.Date||r.Date,c=t.SyntaxError||r.SyntaxError,u=t.TypeError||r.TypeError,l=t.Math||r.Math,d=t.JSON||r.JSON;"object"==typeof d&&d&&(i.stringify=d.stringify,i.parse=d.parse);var _,p,f,g=o.prototype,m=g.toString,v=new h(-0xc782b5b800cec);try{v=-109252==v.getUTCFullYear()&&0===v.getUTCMonth()&&1===v.getUTCDate()&&10==v.getUTCHours()&&37==v.getUTCMinutes()&&6==v.getUTCSeconds()&&708==v.getUTCMilliseconds()}catch(t){}function T(t){if(T[t]!==f)return T[t];var e;if("bug-string-char-index"==t)e="a"!="a"[0];else if("json"==t)e=T("json-stringify")&&T("json-parse");else{var r,n='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==t){var o=i.stringify,c="function"==typeof o&&v;if(c){(r=function(){return 1}).toJSON=r;try{c="0"===o(0)&&"0"===o(new s)&&'""'==o(new a)&&o(m)===f&&o(f)===f&&o()===f&&"1"===o(r)&&"[1]"==o([r])&&"[null]"==o([f])&&"null"==o(null)&&"[null,null,null]"==o([f,m,null])&&o({a:[r,!0,!1,null,"\0\b\n\f\r\t"]})==n&&"1"===o(null,r)&&"[\n 1,\n 2\n]"==o([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==o(new h(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==o(new h(864e13))&&'"-000001-01-01T00:00:00.000Z"'==o(new h(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==o(new h(-1))}catch(t){c=!1}}e=c}if("json-parse"==t){var u=i.parse;if("function"==typeof u)try{if(0===u("0")&&!u(!1)){var l=5==(r=u(n)).a.length&&1===r.a[0];if(l){try{l=!u('"\t"')}catch(t){}if(l)try{l=1!==u("01")}catch(t){}if(l)try{l=1!==u("1.")}catch(t){}}}}catch(t){l=!1}e=l}}return T[t]=!!e}if(!T("json")){var b="[object Function]",E="[object Number]",y="[object String]",S="[object Array]",x=T("bug-string-char-index");if(!v)var w=l.floor,R=[0,31,59,90,120,151,181,212,243,273,304,334],A=function(t,e){return R[e]+365*(t-1970)+w((t-1969+(e=+(e>1)))/4)-w((t-1901+e)/100)+w((t-1601+e)/400)};if((_=g.hasOwnProperty)||(_=function(t){var e,i={};return(i.__proto__=null,i.__proto__={toString:1},i).toString!=m?_=function(t){var e=this.__proto__,i=t in(this.__proto__=null,this);return this.__proto__=e,i}:(e=i.constructor,_=function(t){var i=(this.constructor||e).prototype;return t in this&&!(t in i&&this[t]===i[t])}),i=null,_.call(this,t)}),p=function(t,i){var r,s,n,a=0;for(n in(r=function(){this.valueOf=0}).prototype.valueOf=0,s=new r)_.call(s,n)&&a++;return r=s=null,a?p=2==a?function(t,e){var i,r={},s=m.call(t)==b;for(i in t)s&&"prototype"==i||_.call(r,i)||!(r[i]=1)||!_.call(t,i)||e(i)}:function(t,e){var i,r,s=m.call(t)==b;for(i in t)s&&"prototype"==i||!_.call(t,i)||(r="constructor"===i)||e(i);(r||_.call(t,i="constructor"))&&e(i)}:(s=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],p=function(t,i){var r,n,a=m.call(t)==b,o=!a&&"function"!=typeof t.constructor&&e[typeof t.hasOwnProperty]&&t.hasOwnProperty||_;for(r in t)a&&"prototype"==r||!o.call(t,r)||i(r);for(n=s.length;r=s[--n];o.call(t,r)&&i(r));}),p(t,i)},!T("json-stringify")){var P={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},L=function(t,e){return("000000"+(e||0)).slice(-t)},j=function(t){for(var e='"',i=0,r=t.length,s=!x||r>10,n=s&&(x?t.split(""):t);i<r;i++){var a=t.charCodeAt(i);switch(a){case 8:case 9:case 10:case 12:case 13:case 34:case 92:e+=P[a];break;default:if(a<32){e+="\\u00"+L(2,a.toString(16));break}e+=s?n[i]:t.charAt(i)}}return e+'"'},C=function(t,e,i,r,s,n,a){var o,h,c,l,d,g,v,T,b,x,R,P,I,D,M,O;try{o=e[t]}catch(t){}if("object"==typeof o&&o)if("[object Date]"!=(h=m.call(o))||_.call(o,"toJSON"))"function"==typeof o.toJSON&&(h!=E&&h!=y&&h!=S||_.call(o,"toJSON"))&&(o=o.toJSON(t));else if(o>-1/0&&o<1/0){if(A){for(d=w(o/864e5),c=w(d/365.2425)+1970-1;A(c+1,0)<=d;c++);for(l=w((d-A(c,0))/30.42);A(c,l+1)<=d;l++);d=1+d-A(c,l),v=w((g=(o%864e5+864e5)%864e5)/36e5)%24,T=w(g/6e4)%60,b=w(g/1e3)%60,x=g%1e3}else c=o.getUTCFullYear(),l=o.getUTCMonth(),d=o.getUTCDate(),v=o.getUTCHours(),T=o.getUTCMinutes(),b=o.getUTCSeconds(),x=o.getUTCMilliseconds();o=(c<=0||c>=1e4?(c<0?"-":"+")+L(6,c<0?-c:c):L(4,c))+"-"+L(2,l+1)+"-"+L(2,d)+"T"+L(2,v)+":"+L(2,T)+":"+L(2,b)+"."+L(3,x)+"Z"}else o=null;if(i&&(o=i.call(e,t,o)),null===o)return"null";if("[object Boolean]"==(h=m.call(o)))return""+o;if(h==E)return o>-1/0&&o<1/0?""+o:"null";if(h==y)return j(""+o);if("object"==typeof o){for(D=a.length;D--;)if(a[D]===o)throw u();if(a.push(o),R=[],M=n,n+=s,h==S){for(I=0,D=o.length;I<D;I++)P=C(I,o,i,r,s,n,a),R.push(P===f?"null":P);O=R.length?s?"[\n"+n+R.join(",\n"+n)+"\n"+M+"]":"["+R.join(",")+"]":"[]"}else p(r||o,function(t){var e=C(t,o,i,r,s,n,a);e!==f&&R.push(j(t)+":"+(s?" ":"")+e)}),O=R.length?s?"{\n"+n+R.join(",\n"+n)+"\n"+M+"}":"{"+R.join(",")+"}":"{}";return a.pop(),O}};i.stringify=function(t,i,r){var s,n,a,o;if(e[typeof i]&&i)if((o=m.call(i))==b)n=i;else if(o==S){a={};for(var h,c=0,u=i.length;c<u;h=i[c++],((o=m.call(h))==y||o==E)&&(a[h]=1));}if(r)if((o=m.call(r))==E){if((r-=r%1)>0)for(s="",r>10&&(r=10);s.length<r;s+=" ");}else o==y&&(s=r.length<=10?r:r.slice(0,10));return C("",((h={})[""]=t,h),n,a,s,"",[])}}if(!T("json-parse")){var I,D,M=a.fromCharCode,O={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},F=function(){throw I=D=null,c()},N=function(){for(var t,e,i,r,s,n=D,a=n.length;I<a;)switch(s=n.charCodeAt(I)){case 9:case 10:case 13:case 32:I++;break;case 123:case 125:case 91:case 93:case 58:case 44:return t=x?n.charAt(I):n[I],I++,t;case 34:for(t="@",I++;I<a;)if((s=n.charCodeAt(I))<32)F();else if(92==s)switch(s=n.charCodeAt(++I)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:t+=O[s],I++;break;case 117:for(e=++I,i=I+4;I<i;I++)(s=n.charCodeAt(I))>=48&&s<=57||s>=97&&s<=102||s>=65&&s<=70||F();t+=M("0x"+n.slice(e,I));break;default:F()}else{if(34==s)break;for(s=n.charCodeAt(I),e=I;s>=32&&92!=s&&34!=s;)s=n.charCodeAt(++I);t+=n.slice(e,I)}if(34==n.charCodeAt(I))return I++,t;F();default:if(e=I,45==s&&(r=!0,s=n.charCodeAt(++I)),s>=48&&s<=57){for(48==s&&((s=n.charCodeAt(I+1))>=48&&s<=57)&&F(),r=!1;I<a&&((s=n.charCodeAt(I))>=48&&s<=57);I++);if(46==n.charCodeAt(I)){for(i=++I;i<a&&((s=n.charCodeAt(i))>=48&&s<=57);i++);i==I&&F(),I=i}if(101==(s=n.charCodeAt(I))||69==s){for(43!=(s=n.charCodeAt(++I))&&45!=s||I++,i=I;i<a&&((s=n.charCodeAt(i))>=48&&s<=57);i++);i==I&&F(),I=i}return+n.slice(e,I)}if(r&&F(),"true"==n.slice(I,I+4))return I+=4,!0;if("false"==n.slice(I,I+5))return I+=5,!1;if("null"==n.slice(I,I+4))return I+=4,null;F()}return"$"},k=function(t){var e,i;if("$"==t&&F(),"string"==typeof t){if("@"==(x?t.charAt(0):t[0]))return t.slice(1);if("["==t){for(e=[];"]"!=(t=N());i||(i=!0))i&&(","==t?"]"==(t=N())&&F():F()),","==t&&F(),e.push(k(t));return e}if("{"==t){for(e={};"}"!=(t=N());i||(i=!0))i&&(","==t?"}"==(t=N())&&F():F()),","!=t&&"string"==typeof t&&"@"==(x?t.charAt(0):t[0])&&":"==N()||F(),e[t.slice(1)]=k(N());return e}F()}return t},B=function(t,e,i){var r=U(t,e,i);r===f?delete t[e]:t[e]=r},U=function(t,e,i){var r,s=t[e];if("object"==typeof s&&s)if(m.call(s)==S)for(r=s.length;r--;)B(s,r,i);else p(s,function(t){B(s,t,i)});return i.call(t,e,s)};i.parse=function(t,e){var i,r;return I=0,D=""+t,i=k(N()),"$"!=N()&&F(),I=D=null,e&&m.call(e)==b?U(((r={})[""]=i,r),"",e):i}}}return i.runInContext=n,i}if(!s||s.global!==s&&s.window!==s&&s.self!==s||(r=s),i&&!t)n(r,i);else{var a=r.JSON,o=r.JSON3,h=!1,c=n(r,r.JSON3={noConflict:function(){return h||(h=!0,r.JSON=a,r.JSON3=o,a=o=null),c}});r.JSON={parse:c.parse,stringify:c.stringify}}t&&define(function(){return c})}.call(this),function(){var t={a:function(){return t.el("a")},svg:function(){return t.el("svg")},object:function(){return t.el("object")},image:function(){return t.el("image")},img:function(){return t.el("img")},style:function(){return t.el("style")},link:function(){return t.el("link")},script:function(){return t.el("script")},audio:function(){return t.el("audio")},video:function(){return t.el("video")},text:function(t){return document.createTextNode(t)},el:function(t){return document.createElement(t)}};createjs.Elements=t}(),function(){var t={ABSOLUTE_PATT:/^(?:\w+:)?\/{2}/i,RELATIVE_PATT:/^[./]*?\//i,EXTENSION_PATT:/\/?[^/]+\.(\w{1,5})$/i,parseURI:function(e){var i={absolute:!1,relative:!1,protocol:null,hostname:null,port:null,pathname:null,search:null,hash:null,host:null};if(null==e)return i;var r=createjs.Elements.a();for(var s in r.href=e,i)s in r&&(i[s]=r[s]);var n,a=e.indexOf("?");return a>-1&&(e=e.substr(0,a)),t.ABSOLUTE_PATT.test(e)?i.absolute=!0:t.RELATIVE_PATT.test(e)&&(i.relative=!0),(n=e.match(t.EXTENSION_PATT))&&(i.extension=n[1].toLowerCase()),i},formatQueryString:function(t,e){if(null==t)throw new Error("You must specify data.");var i=[];for(var r in t)i.push(r+"="+escape(t[r]));return e&&(i=i.concat(e)),i.join("&")},buildURI:function(t,e){if(null==e)return t;var i=[],r=t.indexOf("?");if(-1!=r){var s=t.slice(r+1);i=i.concat(s.split("&"))}return-1!=r?t.slice(0,r)+"?"+this.formatQueryString(e,i):t+"?"+this.formatQueryString(e,i)},isCrossDomain:function(t){var e=createjs.Elements.a();e.href=t.src;var i=createjs.Elements.a();return i.href=location.href,""!=e.hostname&&(e.port!=i.port||e.protocol!=i.protocol||e.hostname!=i.hostname)},isLocal:function(t){var e=createjs.Elements.a();return e.href=t.src,""==e.hostname&&"file:"==e.protocol}};createjs.URLUtils=t}(),function(){var t={container:null,appendToHead:function(e){t.getHead().appendChild(e)},appendToBody:function(e){if(null==t.container){t.container=document.createElement("div"),t.container.id="preloadjs-container";var i=t.container.style;i.visibility="hidden",i.position="absolute",i.width=t.container.style.height="10px",i.overflow="hidden",i.transform=i.msTransform=i.webkitTransform=i.oTransform="translate(-10px, -10px)",t.getBody().appendChild(t.container)}t.container.appendChild(e)},getHead:function(){return document.head||document.getElementsByTagName("head")[0]},getBody:function(){return document.body||document.getElementsByTagName("body")[0]},removeChild:function(t){t.parent&&t.parent.removeChild(t)},isImageTag:function(t){return t instanceof HTMLImageElement},isAudioTag:function(t){return!!window.HTMLAudioElement&&t instanceof HTMLAudioElement},isVideoTag:function(t){return!!window.HTMLVideoElement&&t instanceof HTMLVideoElement}};createjs.DomUtils=t}(),function(){var t={parseXML:function(t){var e=null;try{if(window.DOMParser){var i=new DOMParser;e=i.parseFromString(t,"text/xml")}}catch(t){}if(!e)try{(e=new ActiveXObject("Microsoft.XMLDOM")).async=!1,e.loadXML(t)}catch(t){e=null}return e},parseJSON:function(t){if(null==t)return null;try{return JSON.parse(t)}catch(t){throw t}}};createjs.DataUtils=t}(),function(){var t={BINARY:"binary",CSS:"css",FONT:"font",FONTCSS:"fontcss",IMAGE:"image",JAVASCRIPT:"javascript",JSON:"json",JSONP:"jsonp",MANIFEST:"manifest",SOUND:"sound",VIDEO:"video",SPRITESHEET:"spritesheet",SVG:"svg",TEXT:"text",XML:"xml"};createjs.Types=t}(),function(){var t={POST:"POST",GET:"GET"};createjs.Methods=t}(),function(){"use strict";function t(){this.src=null,this.type=null,this.id=null,this.maintainOrder=!1,this.callback=null,this.data=null,this.method=createjs.Methods.GET,this.values=null,this.headers=null,this.withCredentials=!1,this.mimeType=null,this.crossOrigin=null,this.loadTimeout=i.LOAD_TIMEOUT_DEFAULT}var e=t.prototype={},i=t;i.LOAD_TIMEOUT_DEFAULT=8e3,i.create=function(e){if("string"==typeof e){var r=new t;return r.src=e,r}if(e instanceof i)return e;if(e instanceof Object&&e.src)return null==e.loadTimeout&&(e.loadTimeout=i.LOAD_TIMEOUT_DEFAULT),e;throw new Error("Type not recognized.")},e.set=function(t){for(var e in t)this[e]=t[e];return this},createjs.LoadItem=i}(),function(){var t={isBinary:function(t){switch(t){case createjs.Types.IMAGE:case createjs.Types.BINARY:return!0;default:return!1}},isText:function(t){switch(t){case createjs.Types.TEXT:case createjs.Types.JSON:case createjs.Types.MANIFEST:case createjs.Types.XML:case createjs.Types.CSS:case createjs.Types.SVG:case createjs.Types.JAVASCRIPT:case createjs.Types.SPRITESHEET:return!0;default:return!1}},getTypeByExtension:function(t){if(null==t)return createjs.Types.TEXT;switch(t.toLowerCase()){case"jpeg":case"jpg":case"gif":case"png":case"webp":case"bmp":return createjs.Types.IMAGE;case"ogg":case"mp3":case"webm":return createjs.Types.SOUND;case"mp4":case"webm":case"ts":return createjs.Types.VIDEO;case"json":return createjs.Types.JSON;case"xml":return createjs.Types.XML;case"css":return createjs.Types.CSS;case"js":return createjs.Types.JAVASCRIPT;case"svg":return createjs.Types.SVG;default:return createjs.Types.TEXT}}};createjs.RequestUtils=t}(),function(){"use strict";function t(t,e,i){this.EventDispatcher_constructor(),this.loaded=!1,this.canceled=!1,this.progress=0,this.type=i,this.resultFormatter=null,this._item=t?createjs.LoadItem.create(t):null,this._preferXHR=e,this._result=null,this._rawResult=null,this._loadedItems=null,this._tagSrcAttribute=null,this._tag=null}var e=createjs.extend(t,createjs.EventDispatcher),i=t;try{Object.defineProperties(i,{POST:{get:createjs.deprecate(function(){return createjs.Methods.POST},"AbstractLoader.POST")},GET:{get:createjs.deprecate(function(){return createjs.Methods.GET},"AbstractLoader.GET")},BINARY:{get:createjs.deprecate(function(){return createjs.Types.BINARY},"AbstractLoader.BINARY")},CSS:{get:createjs.deprecate(function(){return createjs.Types.CSS},"AbstractLoader.CSS")},FONT:{get:createjs.deprecate(function(){return createjs.Types.FONT},"AbstractLoader.FONT")},FONTCSS:{get:createjs.deprecate(function(){return createjs.Types.FONTCSS},"AbstractLoader.FONTCSS")},IMAGE:{get:createjs.deprecate(function(){return createjs.Types.IMAGE},"AbstractLoader.IMAGE")},JAVASCRIPT:{get:createjs.deprecate(function(){return createjs.Types.JAVASCRIPT},"AbstractLoader.JAVASCRIPT")},JSON:{get:createjs.deprecate(function(){return createjs.Types.JSON},"AbstractLoader.JSON")},JSONP:{get:createjs.deprecate(function(){return createjs.Types.JSONP},"AbstractLoader.JSONP")},MANIFEST:{get:createjs.deprecate(function(){return createjs.Types.MANIFEST},"AbstractLoader.MANIFEST")},SOUND:{get:createjs.deprecate(function(){return createjs.Types.SOUND},"AbstractLoader.SOUND")},VIDEO:{get:createjs.deprecate(function(){return createjs.Types.VIDEO},"AbstractLoader.VIDEO")},SPRITESHEET:{get:createjs.deprecate(function(){return createjs.Types.SPRITESHEET},"AbstractLoader.SPRITESHEET")},SVG:{get:createjs.deprecate(function(){return createjs.Types.SVG},"AbstractLoader.SVG")},TEXT:{get:createjs.deprecate(function(){return createjs.Types.TEXT},"AbstractLoader.TEXT")},XML:{get:createjs.deprecate(function(){return createjs.Types.XML},"AbstractLoader.XML")}})}catch(t){}e.getItem=function(){return this._item},e.getResult=function(t){return t?this._rawResult:this._result},e.getTag=function(){return this._tag},e.setTag=function(t){this._tag=t},e.load=function(){this._createRequest(),this._request.on("complete",this,this),this._request.on("progress",this,this),this._request.on("loadStart",this,this),this._request.on("abort",this,this),this._request.on("timeout",this,this),this._request.on("error",this,this);var t=new createjs.Event("initialize");t.loader=this._request,this.dispatchEvent(t),this._request.load()},e.cancel=function(){this.canceled=!0,this.destroy()},e.destroy=function(){this._request&&(this._request.removeAllEventListeners(),this._request.destroy()),this._request=null,this._item=null,this._rawResult=null,this._result=null,this._loadItems=null,this.removeAllEventListeners()},e.getLoadedItems=function(){return this._loadedItems},e._createRequest=function(){this._preferXHR?this._request=new createjs.XHRRequest(this._item):this._request=new createjs.TagRequest(this._item,this._tag||this._createTag(),this._tagSrcAttribute)},e._createTag=function(t){return null},e._sendLoadStart=function(){this._isCanceled()||this.dispatchEvent("loadstart")},e._sendProgress=function(t){if(!this._isCanceled()){var e=null;"number"==typeof t?(this.progress=t,e=new createjs.ProgressEvent(this.progress)):(e=t,this.progress=t.loaded/t.total,e.progress=this.progress,(isNaN(this.progress)||this.progress==1/0)&&(this.progress=0)),this.hasEventListener("progress")&&this.dispatchEvent(e)}},e._sendComplete=function(){if(!this._isCanceled()){this.loaded=!0;var t=new createjs.Event("complete");t.rawResult=this._rawResult,null!=this._result&&(t.result=this._result),this.dispatchEvent(t)}},e._sendError=function(t){!this._isCanceled()&&this.hasEventListener("error")&&(null==t&&(t=new createjs.ErrorEvent("PRELOAD_ERROR_EMPTY")),this.dispatchEvent(t))},e._isCanceled=function(){return!(null!=window.createjs&&!this.canceled)},e.resultFormatter=null,e.handleEvent=function(t){switch(t.type){case"complete":this._rawResult=t.target._response;var e=this.resultFormatter&&this.resultFormatter(this);e instanceof Function?e.call(this,createjs.proxy(this._resultFormatSuccess,this),createjs.proxy(this._resultFormatFailed,this)):(this._result=e||this._rawResult,this._sendComplete());break;case"progress":this._sendProgress(t);break;case"error":this._sendError(t);break;case"loadstart":this._sendLoadStart();break;case"abort":case"timeout":this._isCanceled()||this.dispatchEvent(new createjs.ErrorEvent("PRELOAD_"+t.type.toUpperCase()+"_ERROR"))}},e._resultFormatSuccess=function(t){this._result=t,this._sendComplete()},e._resultFormatFailed=function(t){this._sendError(t)},e.toString=function(){return"[PreloadJS AbstractLoader]"},createjs.AbstractLoader=createjs.promote(t,"EventDispatcher")}(),function(){"use strict";function t(t,e,i){this.AbstractLoader_constructor(t,e,i),this.resultFormatter=this._formatResult,this._tagSrcAttribute="src",this.on("initialize",this._updateXHR,this)}var e=createjs.extend(t,createjs.AbstractLoader);e.load=function(){this._tag||(this._tag=this._createTag(this._item.src)),this._tag.preload="auto",this._tag.load(),this.AbstractLoader_load()},e._createTag=function(){},e._createRequest=function(){this._preferXHR?this._request=new createjs.XHRRequest(this._item):this._request=new createjs.MediaTagRequest(this._item,this._tag||this._createTag(),this._tagSrcAttribute)},e._updateXHR=function(t){t.loader.setResponseType&&t.loader.setResponseType("blob")},e._formatResult=function(t){if(this._tag.removeEventListener&&this._tag.removeEventListener("canplaythrough",this._loadedHandler),this._tag.onstalled=null,this._preferXHR){var e=window.URL||window.webkitURL,i=t.getResult(!0);t.getTag().src=e.createObjectURL(i)}return t.getTag()},createjs.AbstractMediaLoader=createjs.promote(t,"AbstractLoader")}(),function(){"use strict";var t=function(t){this._item=t},e=createjs.extend(t,createjs.EventDispatcher);e.load=function(){},e.destroy=function(){},e.cancel=function(){},createjs.AbstractRequest=createjs.promote(t,"EventDispatcher")}(),function(){"use strict";function t(t,e,i){this.AbstractRequest_constructor(t),this._tag=e,this._tagSrcAttribute=i,this._loadedHandler=createjs.proxy(this._handleTagComplete,this),this._addedToDOM=!1}var e=createjs.extend(t,createjs.AbstractRequest);e.load=function(){this._tag.onload=createjs.proxy(this._handleTagComplete,this),this._tag.onreadystatechange=createjs.proxy(this._handleReadyStateChange,this),this._tag.onerror=createjs.proxy(this._handleError,this);var t=new createjs.Event("initialize");t.loader=this._tag,this.dispatchEvent(t),this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),this._item.loadTimeout),this._tag[this._tagSrcAttribute]=this._item.src,null==this._tag.parentNode&&(createjs.DomUtils.appendToBody(this._tag),this._addedToDOM=!0)},e.destroy=function(){this._clean(),this._tag=null,this.AbstractRequest_destroy()},e._handleReadyStateChange=function(){clearTimeout(this._loadTimeout);var t=this._tag;"loaded"!=t.readyState&&"complete"!=t.readyState||this._handleTagComplete()},e._handleError=function(){this._clean(),this.dispatchEvent("error")},e._handleTagComplete=function(){this._rawResult=this._tag,this._result=this.resultFormatter&&this.resultFormatter(this)||this._rawResult,this._clean(),this.dispatchEvent("complete")},e._handleTimeout=function(){this._clean(),this.dispatchEvent(new createjs.Event("timeout"))},e._clean=function(){this._tag.onload=null,this._tag.onreadystatechange=null,this._tag.onerror=null,this._addedToDOM&&null!=this._tag.parentNode&&this._tag.parentNode.removeChild(this._tag),clearTimeout(this._loadTimeout)},e._handleStalled=function(){},createjs.TagRequest=createjs.promote(t,"AbstractRequest")}(),function(){"use strict";function t(t,e,i){this.AbstractRequest_constructor(t),this._tag=e,this._tagSrcAttribute=i,this._loadedHandler=createjs.proxy(this._handleTagComplete,this)}var e=createjs.extend(t,createjs.TagRequest);e.load=function(){var t=createjs.proxy(this._handleStalled,this);this._stalledCallback=t;var e=createjs.proxy(this._handleProgress,this);this._handleProgress=e,this._tag.addEventListener("stalled",t),this._tag.addEventListener("progress",e),this._tag.addEventListener&&this._tag.addEventListener("canplaythrough",this._loadedHandler,!1),this.TagRequest_load()},e._handleReadyStateChange=function(){clearTimeout(this._loadTimeout);var t=this._tag;"loaded"!=t.readyState&&"complete"!=t.readyState||this._handleTagComplete()},e._handleStalled=function(){},e._handleProgress=function(t){if(t&&!(t.loaded>0&&0==t.total)){var e=new createjs.ProgressEvent(t.loaded,t.total);this.dispatchEvent(e)}},e._clean=function(){this._tag.removeEventListener&&this._tag.removeEventListener("canplaythrough",this._loadedHandler),this._tag.removeEventListener("stalled",this._stalledCallback),this._tag.removeEventListener("progress",this._progressCallback),this.TagRequest__clean()},createjs.MediaTagRequest=createjs.promote(t,"TagRequest")}(),function(){"use strict";function t(t){this.AbstractRequest_constructor(t),this._request=null,this._loadTimeout=null,this._xhrLevel=1,this._response=null,this._rawResponse=null,this._canceled=!1,this._handleLoadStartProxy=createjs.proxy(this._handleLoadStart,this),this._handleProgressProxy=createjs.proxy(this._handleProgress,this),this._handleAbortProxy=createjs.proxy(this._handleAbort,this),this._handleErrorProxy=createjs.proxy(this._handleError,this),this._handleTimeoutProxy=createjs.proxy(this._handleTimeout,this),this._handleLoadProxy=createjs.proxy(this._handleLoad,this),this._handleReadyStateChangeProxy=createjs.proxy(this._handleReadyStateChange,this),this._createXHR(t)}var e=createjs.extend(t,createjs.AbstractRequest);t.ACTIVEX_VERSIONS=["Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP.5.0","Msxml2.XMLHTTP.4.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],e.getResult=function(t){return t&&this._rawResponse?this._rawResponse:this._response},e.cancel=function(){this.canceled=!0,this._clean(),this._request.abort()},e.load=function(){if(null!=this._request){null!=this._request.addEventListener?(this._request.addEventListener("loadstart",this._handleLoadStartProxy,!1),this._request.addEventListener("progress",this._handleProgressProxy,!1),this._request.addEventListener("abort",this._handleAbortProxy,!1),this._request.addEventListener("error",this._handleErrorProxy,!1),this._request.addEventListener("timeout",this._handleTimeoutProxy,!1),this._request.addEventListener("load",this._handleLoadProxy,!1),this._request.addEventListener("readystatechange",this._handleReadyStateChangeProxy,!1)):(this._request.onloadstart=this._handleLoadStartProxy,this._request.onprogress=this._handleProgressProxy,this._request.onabort=this._handleAbortProxy,this._request.onerror=this._handleErrorProxy,this._request.ontimeout=this._handleTimeoutProxy,this._request.onload=this._handleLoadProxy,this._request.onreadystatechange=this._handleReadyStateChangeProxy),1==this._xhrLevel&&(this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),this._item.loadTimeout));try{this._item.values?this._request.send(createjs.URLUtils.formatQueryString(this._item.values)):this._request.send()}catch(t){this.dispatchEvent(new createjs.ErrorEvent("XHR_SEND",null,t))}}else this._handleError()},e.setResponseType=function(t){"blob"===t&&(t=window.URL?"blob":"arraybuffer",this._responseType=t),this._request.responseType=t},e.getAllResponseHeaders=function(){return this._request.getAllResponseHeaders instanceof Function?this._request.getAllResponseHeaders():null},e.getResponseHeader=function(t){return this._request.getResponseHeader instanceof Function?this._request.getResponseHeader(t):null},e._handleProgress=function(t){if(t&&!(t.loaded>0&&0==t.total)){var e=new createjs.ProgressEvent(t.loaded,t.total);this.dispatchEvent(e)}},e._handleLoadStart=function(t){clearTimeout(this._loadTimeout),this.dispatchEvent("loadstart")},e._handleAbort=function(t){this._clean(),this.dispatchEvent(new createjs.ErrorEvent("XHR_ABORTED",null,t))},e._handleError=function(t){this._clean(),this.dispatchEvent(new createjs.ErrorEvent(t.message))},e._handleReadyStateChange=function(t){4==this._request.readyState&&this._handleLoad()},e._handleLoad=function(t){if(!this.loaded){this.loaded=!0;var e=this._checkError();if(e)this._handleError(e);else{if(this._response=this._getResponse(),"arraybuffer"===this._responseType)try{this._response=new Blob([this._response])}catch(t){if(window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,"TypeError"===t.name&&window.BlobBuilder){var i=new BlobBuilder;i.append(this._response),this._response=i.getBlob()}}this._clean(),this.dispatchEvent(new createjs.Event("complete"))}}},e._handleTimeout=function(t){this._clean(),this.dispatchEvent(new createjs.ErrorEvent("PRELOAD_TIMEOUT",null,t))},e._checkError=function(){var t=parseInt(this._request.status);return t>=400&&t<=599?new Error(t):0==t&&/^https?:/.test(location.protocol)?new Error(0):null},e._getResponse=function(){if(null!=this._response)return this._response;if(null!=this._request.response)return this._request.response;try{if(null!=this._request.responseText)return this._request.responseText}catch(t){}try{if(null!=this._request.responseXML)return this._request.responseXML}catch(t){}return null},e._createXHR=function(t){var e=createjs.URLUtils.isCrossDomain(t),i={},r=null;if(window.XMLHttpRequest)r=new XMLHttpRequest,e&&void 0===r.withCredentials&&window.XDomainRequest&&(r=new XDomainRequest);else{for(var n=0,a=s.ACTIVEX_VERSIONS.length;n<a;n++){var o=s.ACTIVEX_VERSIONS[n];try{r=new ActiveXObject(o);break}catch(t){}}if(null==r)return!1}null==t.mimeType&&createjs.RequestUtils.isText(t.type)&&(t.mimeType="text/plain; charset=utf-8"),t.mimeType&&r.overrideMimeType&&r.overrideMimeType(t.mimeType),this._xhrLevel="string"==typeof r.responseType?2:1;var h=null;if(h=t.method==createjs.Methods.GET?createjs.URLUtils.buildURI(t.src,t.values):t.src,r.open(t.method||createjs.Methods.GET,h,!0),e&&r instanceof XMLHttpRequest&&1==this._xhrLevel&&(i.Origin=location.origin),t.values&&t.method==createjs.Methods.POST&&(i["Content-Type"]="application/x-www-form-urlencoded"),e||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest"),t.headers)for(var c in t.headers)i[c]=t.headers[c];for(c in i)r.setRequestHeader(c,i[c]);return r instanceof XMLHttpRequest&&void 0!==t.withCredentials&&(r.withCredentials=t.withCredentials),this._request=r,!0},e._clean=function(){clearTimeout(this._loadTimeout),null!=this._request.removeEventListener?(this._request.removeEventListener("loadstart",this._handleLoadStartProxy),this._request.removeEventListener("progress",this._handleProgressProxy),this._request.removeEventListener("abort",this._handleAbortProxy),this._request.removeEventListener("error",this._handleErrorProxy),this._request.removeEventListener("timeout",this._handleTimeoutProxy),this._request.removeEventListener("load",this._handleLoadProxy),this._request.removeEventListener("readystatechange",this._handleReadyStateChangeProxy)):(this._request.onloadstart=null,this._request.onprogress=null,this._request.onabort=null,this._request.onerror=null,this._request.ontimeout=null,this._request.onload=null,this._request.onreadystatechange=null)},e.toString=function(){return"[PreloadJS XHRRequest]"},createjs.XHRRequest=createjs.promote(t,"AbstractRequest")}(),function(){"use strict";function t(t,e,i){this.AbstractLoader_constructor(),this._plugins=[],this._typeCallbacks={},this._extensionCallbacks={},this.next=null,this.maintainScriptOrder=!0,this.stopOnError=!1,this._maxConnections=1,this._availableLoaders=[createjs.FontLoader,createjs.ImageLoader,createjs.JavaScriptLoader,createjs.CSSLoader,createjs.JSONLoader,createjs.JSONPLoader,createjs.SoundLoader,createjs.ManifestLoader,createjs.SpriteSheetLoader,createjs.XMLLoader,createjs.SVGLoader,createjs.BinaryLoader,createjs.VideoLoader,createjs.TextLoader],this._defaultLoaderLength=this._availableLoaders.length,this.init(t,e,i)}var e=createjs.extend(t,createjs.AbstractLoader),i=t;try{Object.defineProperties(i,{POST:{get:createjs.deprecate(function(){return createjs.Methods.POST},"AbstractLoader.POST")},GET:{get:createjs.deprecate(function(){return createjs.Methods.GET},"AbstractLoader.GET")},BINARY:{get:createjs.deprecate(function(){return createjs.Types.BINARY},"AbstractLoader.BINARY")},CSS:{get:createjs.deprecate(function(){return createjs.Types.CSS},"AbstractLoader.CSS")},FONT:{get:createjs.deprecate(function(){return createjs.Types.FONT},"AbstractLoader.FONT")},FONTCSS:{get:createjs.deprecate(function(){return createjs.Types.FONTCSS},"AbstractLoader.FONTCSS")},IMAGE:{get:createjs.deprecate(function(){return createjs.Types.IMAGE},"AbstractLoader.IMAGE")},JAVASCRIPT:{get:createjs.deprecate(function(){return createjs.Types.JAVASCRIPT},"AbstractLoader.JAVASCRIPT")},JSON:{get:createjs.deprecate(function(){return createjs.Types.JSON},"AbstractLoader.JSON")},JSONP:{get:createjs.deprecate(function(){return createjs.Types.JSONP},"AbstractLoader.JSONP")},MANIFEST:{get:createjs.deprecate(function(){return createjs.Types.MANIFEST},"AbstractLoader.MANIFEST")},SOUND:{get:createjs.deprecate(function(){return createjs.Types.SOUND},"AbstractLoader.SOUND")},VIDEO:{get:createjs.deprecate(function(){return createjs.Types.VIDEO},"AbstractLoader.VIDEO")},SPRITESHEET:{get:createjs.deprecate(function(){return createjs.Types.SPRITESHEET},"AbstractLoader.SPRITESHEET")},SVG:{get:createjs.deprecate(function(){return createjs.Types.SVG},"AbstractLoader.SVG")},TEXT:{get:createjs.deprecate(function(){return createjs.Types.TEXT},"AbstractLoader.TEXT")},XML:{get:createjs.deprecate(function(){return createjs.Types.XML},"AbstractLoader.XML")}})}catch(t){}e.init=function(t,e,i){this.preferXHR=!0,this._preferXHR=!0,this.setPreferXHR(t),this._paused=!1,this._basePath=e,this._crossOrigin=i,this._loadStartWasDispatched=!1,this._currentlyLoadingScript=null,this._currentLoads=[],this._loadQueue=[],this._loadQueueBackup=[],this._loadItemsById={},this._loadItemsBySrc={},this._loadedResults={},this._loadedRawResults={},this._numItems=0,this._numItemsLoaded=0,this._scriptOrder=[],this._loadedScripts=[],this._lastProgress=NaN},e.registerLoader=function(t){if(!t||!t.canLoadItem)throw new Error("loader is of an incorrect type.");if(-1!=this._availableLoaders.indexOf(t))throw new Error("loader already exists.");this._availableLoaders.unshift(t)},e.unregisterLoader=function(t){var e=this._availableLoaders.indexOf(t);-1!=e&&e<this._defaultLoaderLength-1&&this._availableLoaders.splice(e,1)},e.setPreferXHR=function(t){return this.preferXHR=0!=t&&null!=window.XMLHttpRequest,this.preferXHR},e.removeAll=function(){this.remove()},e.remove=function(t){var e=null;if(t&&!Array.isArray(t))e=[t];else if(t)e=t;else if(arguments.length>0)return;var i=!1;if(e){for(;e.length;){var r=e.pop(),s=this.getResult(r);for(n=this._loadQueue.length-1;n>=0;n--)if((a=this._loadQueue[n].getItem()).id==r||a.src==r){this._loadQueue.splice(n,1)[0].cancel();break}for(n=this._loadQueueBackup.length-1;n>=0;n--)if((a=this._loadQueueBackup[n].getItem()).id==r||a.src==r){this._loadQueueBackup.splice(n,1)[0].cancel();break}if(s)this._disposeItem(this.getItem(r));else for(var n=this._currentLoads.length-1;n>=0;n--){var a=this._currentLoads[n].getItem();if(a.id==r||a.src==r){this._currentLoads.splice(n,1)[0].cancel(),i=!0;break}}}i&&this._loadNext()}else{for(var o in this.close(),this._loadItemsById)this._disposeItem(this._loadItemsById[o]);this.init(this.preferXHR,this._basePath)}},e.reset=function(){for(var t in this.close(),this._loadItemsById)this._disposeItem(this._loadItemsById[t]);for(var e=[],i=0,r=this._loadQueueBackup.length;i<r;i++)e.push(this._loadQueueBackup[i].getItem());this.loadManifest(e,!1)},e.installPlugin=function(t){if(null!=t&&null!=t.getPreloadHandlers){this._plugins.push(t);var e=t.getPreloadHandlers();if(e.scope=t,null!=e.types)for(var i=0,r=e.types.length;i<r;i++)this._typeCallbacks[e.types[i]]=e;if(null!=e.extensions)for(i=0,r=e.extensions.length;i<r;i++)this._extensionCallbacks[e.extensions[i]]=e}},e.setMaxConnections=function(t){this._maxConnections=t,!this._paused&&this._loadQueue.length>0&&this._loadNext()},e.loadFile=function(t,e,i){if(null!=t)this._addItem(t,null,i),!1!==e?this.setPaused(!1):this.setPaused(!0);else{var r=new createjs.ErrorEvent("PRELOAD_NO_FILE");this._sendError(r)}},e.loadManifest=function(t,e,r){var s=null,n=null;if(Array.isArray(t)){if(0==t.length){var a=new createjs.ErrorEvent("PRELOAD_MANIFEST_EMPTY");return void this._sendError(a)}s=t}else if("string"==typeof t)s=[{src:t,type:i.MANIFEST}];else{if("object"!=typeof t){a=new createjs.ErrorEvent("PRELOAD_MANIFEST_NULL");return void this._sendError(a)}if(void 0!==t.src){if(null==t.type)t.type=i.MANIFEST;else if(t.type!=i.MANIFEST){var a=new createjs.ErrorEvent("PRELOAD_MANIFEST_TYPE");this._sendError(a)}s=[t]}else void 0!==t.manifest&&(s=t.manifest,n=t.path)}for(var o=0,h=s.length;o<h;o++)this._addItem(s[o],n,r);!1!==e?this.setPaused(!1):this.setPaused(!0)},e.load=function(){this.setPaused(!1)},e.getItem=function(t){return this._loadItemsById[t]||this._loadItemsBySrc[t]},e.getResult=function(t,e){var i=this._loadItemsById[t]||this._loadItemsBySrc[t];if(null==i)return null;var r=i.id;return e&&this._loadedRawResults[r]?this._loadedRawResults[r]:this._loadedResults[r]},e.getItems=function(t){var e=[];for(var i in this._loadItemsById){var r=this._loadItemsById[i],s=this.getResult(i);!0===t&&null==s||e.push({item:r,result:s,rawResult:this.getResult(i,!0)})}return e},e.setPaused=function(t){this._paused=t,this._paused||this._loadNext()},e.close=function(){for(;this._currentLoads.length;)this._currentLoads.pop().cancel();this._scriptOrder.length=0,this._loadedScripts.length=0,this.loadStartWasDispatched=!1,this._itemCount=0,this._lastProgress=NaN},e._addItem=function(t,e,i){var r=this._createLoadItem(t,e,i);if(null!=r){var s=this._createLoader(r);null!=s&&("plugins"in s&&(s.plugins=this._plugins),r._loader=s,this._loadQueue.push(s),this._loadQueueBackup.push(s),this._numItems++,this._updateProgress(),(this.maintainScriptOrder&&r.type==createjs.Types.JAVASCRIPT||!0===r.maintainOrder)&&(this._scriptOrder.push(r),this._loadedScripts.push(null)))}},e._createLoadItem=function(t,e,i){var r=createjs.LoadItem.create(t);if(null==r)return null;var s="",n=i||this._basePath;if(r.src instanceof Object){if(!r.type)return null;if(e){s=e;var a=createjs.URLUtils.parseURI(e);null==n||a.absolute||a.relative||(s=n+s)}else null!=n&&(s=n)}else{var o=createjs.URLUtils.parseURI(r.src);o.extension&&(r.ext=o.extension),null==r.type&&(r.type=createjs.RequestUtils.getTypeByExtension(r.ext));var h=r.src;if(!o.absolute&&!o.relative)if(e){s=e;a=createjs.URLUtils.parseURI(e);h=e+h,null==n||a.absolute||a.relative||(s=n+s)}else null!=n&&(s=n);r.src=s+r.src}r.path=s,void 0!==r.id&&null!==r.id&&""!==r.id||(r.id=h);var c=this._typeCallbacks[r.type]||this._extensionCallbacks[r.ext];if(c){var u=c.callback.call(c.scope,r,this);if(!1===u)return null;!0===u||null!=u&&(r._loader=u),null!=(o=createjs.URLUtils.parseURI(r.src)).extension&&(r.ext=o.extension)}return this._loadItemsById[r.id]=r,this._loadItemsBySrc[r.src]=r,null==r.crossOrigin&&(r.crossOrigin=this._crossOrigin),r},e._createLoader=function(t){if(null!=t._loader)return t._loader;for(var e=this.preferXHR,i=0;i<this._availableLoaders.length;i++){var r=this._availableLoaders[i];if(r&&r.canLoadItem(t))return new r(t,e)}return null},e._loadNext=function(){if(!this._paused){this._loadStartWasDispatched||(this._sendLoadStart(),this._loadStartWasDispatched=!0),this._numItems==this._numItemsLoaded?(this.loaded=!0,this._sendComplete(),this.next&&this.next.load&&this.next.load()):this.loaded=!1;for(var t=0;t<this._loadQueue.length&&!(this._currentLoads.length>=this._maxConnections);t++){var e=this._loadQueue[t];this._canStartLoad(e)&&(this._loadQueue.splice(t,1),t--,this._loadItem(e))}}},e._loadItem=function(t){t.on("fileload",this._handleFileLoad,this),t.on("progress",this._handleProgress,this),t.on("complete",this._handleFileComplete,this),t.on("error",this._handleError,this),t.on("fileerror",this._handleFileError,this),this._currentLoads.push(t),this._sendFileStart(t.getItem()),t.load()},e._handleFileLoad=function(t){t.target=null,this.dispatchEvent(t)},e._handleFileError=function(t){var e=new createjs.ErrorEvent("FILE_LOAD_ERROR",null,t.item);this._sendError(e)},e._handleError=function(t){var e=t.target;this._numItemsLoaded++,this._finishOrderedItem(e,!0),this._updateProgress();var i=new createjs.ErrorEvent("FILE_LOAD_ERROR",null,e.getItem());this._sendError(i),this.stopOnError?this.setPaused(!0):(this._removeLoadItem(e),this._cleanLoadItem(e),this._loadNext())},e._handleFileComplete=function(t){var e=t.target,i=e.getItem(),r=e.getResult();this._loadedResults[i.id]=r;var s=e.getResult(!0);null!=s&&s!==r&&(this._loadedRawResults[i.id]=s),this._saveLoadedItems(e),this._removeLoadItem(e),this._finishOrderedItem(e)||this._processFinishedLoad(i,e),this._cleanLoadItem(e)},e._saveLoadedItems=function(t){var e=t.getLoadedItems();if(null!==e)for(var i=0;i<e.length;i++){var r=e[i].item;this._loadItemsBySrc[r.src]=r,this._loadItemsById[r.id]=r,this._loadedResults[r.id]=e[i].result,this._loadedRawResults[r.id]=e[i].rawResult}},e._finishOrderedItem=function(t,e){var i=t.getItem();if(this.maintainScriptOrder&&i.type==createjs.Types.JAVASCRIPT||i.maintainOrder){t instanceof createjs.JavaScriptLoader&&(this._currentlyLoadingScript=!1);var r=createjs.indexOf(this._scriptOrder,i);return-1!=r&&(this._loadedScripts[r]=!0===e||i,this._checkScriptLoadOrder(),!0)}return!1},e._checkScriptLoadOrder=function(){for(var t=this._loadedScripts.length,e=0;e<t;e++){var i=this._loadedScripts[e];if(null===i)break;if(!0!==i){var r=this._loadedResults[i.id];i.type==createjs.Types.JAVASCRIPT&&createjs.DomUtils.appendToHead(r);var s=i._loader;this._processFinishedLoad(i,s),this._loadedScripts[e]=!0}}},e._processFinishedLoad=function(t,e){if(this._numItemsLoaded++,!this.maintainScriptOrder&&t.type==createjs.Types.JAVASCRIPT){var i=e.getTag();createjs.DomUtils.appendToHead(i)}this._updateProgress(),this._sendFileComplete(t,e),this._loadNext()},e._canStartLoad=function(t){if(!this.maintainScriptOrder||t.preferXHR)return!0;var e=t.getItem();if(e.type!=createjs.Types.JAVASCRIPT)return!0;if(this._currentlyLoadingScript)return!1;for(var i=this._scriptOrder.indexOf(e),r=0;r<i;){if(null==this._loadedScripts[r])return!1;r++}return this._currentlyLoadingScript=!0,!0},e._removeLoadItem=function(t){for(var e=this._currentLoads.length,i=0;i<e;i++)if(this._currentLoads[i]==t){this._currentLoads.splice(i,1);break}},e._cleanLoadItem=function(t){var e=t.getItem();e&&delete e._loader},e._handleProgress=function(t){var e=t.target;this._sendFileProgress(e.getItem(),e.progress),this._updateProgress()},e._updateProgress=function(){var t=this._numItemsLoaded/this._numItems,e=this._numItems-this._numItemsLoaded;if(e>0){for(var i=0,r=0,s=this._currentLoads.length;r<s;r++)i+=this._currentLoads[r].progress;t+=i/e*(e/this._numItems)}this._lastProgress!=t&&(this._sendProgress(t),this._lastProgress=t)},e._disposeItem=function(t){delete this._loadedResults[t.id],delete this._loadedRawResults[t.id],delete this._loadItemsById[t.id],delete this._loadItemsBySrc[t.src]},e._sendFileProgress=function(t,e){if(!this._isCanceled()&&!this._paused&&this.hasEventListener("fileprogress")){var i=new createjs.Event("fileprogress");i.progress=e,i.loaded=e,i.total=1,i.item=t,this.dispatchEvent(i)}},e._sendFileComplete=function(t,e){if(!this._isCanceled()&&!this._paused){var i=new createjs.Event("fileload");i.loader=e,i.item=t,i.result=this._loadedResults[t.id],i.rawResult=this._loadedRawResults[t.id],t.completeHandler&&t.completeHandler(i),this.hasEventListener("fileload")&&this.dispatchEvent(i)}},e._sendFileStart=function(t){var e=new createjs.Event("filestart");e.item=t,this.hasEventListener("filestart")&&this.dispatchEvent(e)},e.toString=function(){return"[PreloadJS LoadQueue]"},createjs.LoadQueue=createjs.promote(t,"AbstractLoader")}(),function(){"use strict";function t(t){this.AbstractLoader_constructor(t,!0,createjs.Types.TEXT)}createjs.extend(t,createjs.AbstractLoader);t.canLoadItem=function(t){return t.type==createjs.Types.TEXT},createjs.TextLoader=createjs.promote(t,"AbstractLoader")}(),function(){"use strict";function t(t){this.AbstractLoader_constructor(t,!0,createjs.Types.BINARY),this.on("initialize",this._updateXHR,this)}var e=createjs.extend(t,createjs.AbstractLoader);t.canLoadItem=function(t){return t.type==createjs.Types.BINARY},e._updateXHR=function(t){t.loader.setResponseType("arraybuffer")},createjs.BinaryLoader=createjs.promote(t,"AbstractLoader")}(),function(){"use strict";function t(t,e){this.AbstractLoader_constructor(t,e,createjs.Types.CSS),this.resultFormatter=this._formatResult,this._tagSrcAttribute="href",this._tag=e?createjs.Elements.style():createjs.Elements.link(),this._tag.rel="stylesheet",this._tag.type="text/css"}var e=createjs.extend(t,createjs.AbstractLoader);t.canLoadItem=function(t){return t.type==createjs.Types.CSS},e._formatResult=function(t){if(this._preferXHR){var e=t.getTag();if(e.styleSheet)e.styleSheet.cssText=t.getResult(!0);else{var i=createjs.Elements.text(t.getResult(!0));e.appendChild(i)}}else e=this._tag;return createjs.DomUtils.appendToHead(e),e},createjs.CSSLoader=createjs.promote(t,"AbstractLoader")}(),function(){"use strict";function t(t,e){this.AbstractLoader_constructor(t,e,t.type),this._faces={},this._watched=[],this._count=0,this._watchInterval=null,this._loadTimeout=null,this._injectCSS=void 0===t.injectCSS||t.injectCSS,this.dispatchEvent("initialize")}var e=createjs.extend(t,createjs.AbstractLoader);t.canLoadItem=function(t){return t.type==createjs.Types.FONT||t.type==createjs.Types.FONTCSS},t.sampleText="abcdefghijklmnopqrstuvwxyz ABCDEFGHIJKLMNOPQRSTUVWXYZ",t._ctx=document.createElement("canvas").getContext("2d"),t._referenceFonts=["serif","monospace"],t.WEIGHT_REGEX=/[- ._]*(thin|normal|book|regular|medium|black|heavy|[1-9]00|(?:extra|ultra|semi|demi)?[- ._]*(?:light|bold))[- ._]*/gi,t.STYLE_REGEX=/[- ._]*(italic|oblique)[- ._]*/gi,t.FONT_FORMAT={woff2:"woff2",woff:"woff",ttf:"truetype",otf:"truetype"},t.FONT_WEIGHT={thin:100,extralight:200,ultralight:200,light:300,semilight:300,demilight:300,book:"normal",regular:"normal",semibold:600,demibold:600,extrabold:800,ultrabold:800,black:900,heavy:900},t.WATCH_DURATION=10,e.load=function(){if(this.type==createjs.Types.FONTCSS){if(!this._watchCSS())return void this.AbstractLoader_load()}else if(this._item.src instanceof Array)this._watchFontArray();else{var t=this._defFromSrc(this._item.src);this._watchFont(t),this._injectStyleTag(this._cssFromDef(t))}this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),this._item.loadTimeout),this.dispatchEvent("loadstart")},e._handleTimeout=function(){this._stopWatching(),this.dispatchEvent(new createjs.ErrorEvent("PRELOAD_TIMEOUT"))},e._createRequest=function(){return this._request},e.handleEvent=function(t){switch(t.type){case"complete":this._rawResult=t.target._response,this._result=!0,this._parseCSS(this._rawResult);break;case"error":this._stopWatching(),this.AbstractLoader_handleEvent(t)}},e._watchCSS=function(){var t=this._item.src;return t instanceof HTMLStyleElement&&(this._injectCSS&&!t.parentNode&&(document.head||document.getElementsByTagName("head")[0]).appendChild(t),this._injectCSS=!1,t="\n"+t.textContent),-1!==t.search(/\n|\r|@font-face/i)?(this._parseCSS(t),!0):(this._request=new createjs.XHRRequest(this._item),!1)},e._parseCSS=function(t){for(var e=/@font-face\s*\{([^}]+)}/g;;){var i=e.exec(t);if(!i)break;this._watchFont(this._parseFontFace(i[1]))}this._injectStyleTag(t)},e._watchFontArray=function(){for(var t,e=this._item.src,i="",r=e.length-1;r>=0;r--){var s=e[r];t="string"==typeof s?this._defFromSrc(s):this._defFromObj(s),this._watchFont(t),i+=this._cssFromDef(t)+"\n"}this._injectStyleTag(i)},e._injectStyleTag=function(t){if(this._injectCSS){var e=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t)),e.appendChild(i)}},e._parseFontFace=function(t){var e=this._getCSSValue(t,"font-family"),i=this._getCSSValue(t,"src");return e&&i?this._defFromObj({family:e,src:i,style:this._getCSSValue(t,"font-style"),weight:this._getCSSValue(t,"font-weight")}):null},e._watchFont=function(t){t&&!this._faces[t.id]&&(this._faces[t.id]=t,this._watched.push(t),this._count++,this._calculateReferenceSizes(t),this._startWatching())},e._startWatching=function(){null==this._watchInterval&&(this._watchInterval=setInterval(createjs.proxy(this._watch,this),t.WATCH_DURATION))},e._stopWatching=function(){clearInterval(this._watchInterval),clearTimeout(this._loadTimeout),this._watchInterval=null},e._watch=function(){for(var e=this._watched,i=t._referenceFonts,r=e.length,s=r-1;s>=0;s--)for(var n=e[s],a=n.refs,o=a.length-1;o>=0;o--){if(this._getTextWidth(n.family+","+i[o],n.weight,n.style)!=a[o]){var h=new createjs.Event("fileload");n.type="font-family",h.item=n,this.dispatchEvent(h),e.splice(s,1);break}}if(r!==e.length){h=new createjs.ProgressEvent(this._count-e.length,this._count);this.dispatchEvent(h)}0===r&&(this._stopWatching(),this._sendComplete())},e._calculateReferenceSizes=function(e){for(var i=t._referenceFonts,r=e.refs=[],s=0;s<i.length;s++)r[s]=this._getTextWidth(i[s],e.weight,e.style)},e._defFromSrc=function(e){var i,r=/[- ._]+/g,s=e,n=null;-1!==(i=s.search(/[?#]/))&&(s=s.substr(0,i)),-1!==(i=s.lastIndexOf("."))&&(n=s.substr(i+1),s=s.substr(0,i)),-1!==(i=s.lastIndexOf("/"))&&(s=s.substr(i+1));var a=s,o=a.match(t.WEIGHT_REGEX);o&&(o=o[0],a=a.replace(o,""),o=o.replace(r,"").toLowerCase());var h=s.match(t.STYLE_REGEX);h&&(a=a.replace(h[0],""),h="italic"),a=a.replace(r,"");var c="local('"+s.replace(r," ")+"'), url('"+e+"')",u=t.FONT_FORMAT[n];return u&&(c+=" format('"+u+"')"),this._defFromObj({family:a,weight:t.FONT_WEIGHT[o]||o,style:h,src:c})},e._defFromObj=function(t){var e={family:t.family,src:t.src,style:t.style||"normal",weight:t.weight||"normal"};return e.id=e.family+";"+e.style+";"+e.weight,e},e._cssFromDef=function(t){return"@font-face {\n\tfont-family: '"+t.family+"';\n\tfont-style: "+t.style+";\n\tfont-weight: "+t.weight+";\n\tsrc: "+t.src+";\n}"},e._getTextWidth=function(e,i,r){var s=t._ctx;return s.font=r+" "+i+" 72px "+e,s.measureText(t.sampleText).width},e._getCSSValue=function(t,e){var i=new RegExp(e+":s*([^;}]+?)s*[;}]").exec(t);return i&&i[1]?i[1]:null},createjs.FontLoader=createjs.promote(t,"AbstractLoader")}(),function(){"use strict";function t(t,e){this.AbstractLoader_constructor(t,e,createjs.Types.IMAGE),this.resultFormatter=this._formatResult,this._tagSrcAttribute="src",createjs.DomUtils.isImageTag(t)?this._tag=t:createjs.DomUtils.isImageTag(t.src)?this._tag=t.src:createjs.DomUtils.isImageTag(t.tag)&&(this._tag=t.tag),null!=this._tag?this._preferXHR=!1:this._tag=createjs.Elements.img(),this.on("initialize",this._updateXHR,this)}var e=createjs.extend(t,createjs.AbstractLoader);t.canLoadItem=function(t){return t.type==createjs.Types.IMAGE},e.load=function(){if(""!=this._tag.src&&this._tag.complete)this._sendComplete();else{var t=this._item.crossOrigin;1==t&&(t="Anonymous"),null==t||createjs.URLUtils.isLocal(this._item)||(this._tag.crossOrigin=t),this.AbstractLoader_load()}},e._updateXHR=function(t){t.loader.mimeType="text/plain; charset=x-user-defined-binary",t.loader.setResponseType&&t.loader.setResponseType("blob")},e._formatResult=function(t){return this._formatImage},e._formatImage=function(t,e){var i=this._tag,r=window.URL||window.webkitURL;if(this._preferXHR)if(r){var s=r.createObjectURL(this.getResult(!0));i.src=s,i.addEventListener("load",this._cleanUpURL,!1),i.addEventListener("error",this._cleanUpURL,!1)}else i.src=this._item.src;else;i.complete?t(i):(i.onload=createjs.proxy(function(){t(this._tag),i.onload=i.onerror=null},this),i.onerror=createjs.proxy(function(t){e(new createjs.ErrorEvent("IMAGE_FORMAT",null,t)),i.onload=i.onerror=null},this))},e._cleanUpURL=function(t){(window.URL||window.webkitURL).revokeObjectURL(t.target.src)},createjs.ImageLoader=createjs.promote(t,"AbstractLoader")}(),function(){"use strict";function t(t,e){this.AbstractLoader_constructor(t,e,createjs.Types.JAVASCRIPT),this.resultFormatter=this._formatResult,this._tagSrcAttribute="src",this.setTag(createjs.Elements.script())}var e=createjs.extend(t,createjs.AbstractLoader);t.canLoadItem=function(t){return t.type==createjs.Types.JAVASCRIPT},e._formatResult=function(t){var e=t.getTag();return this._preferXHR&&(e.text=t.getResult(!0)),e},createjs.JavaScriptLoader=createjs.promote(t,"AbstractLoader")}(),function(){"use strict";function t(t){this.AbstractLoader_constructor(t,!0,createjs.Types.JSON),this.resultFormatter=this._formatResult}var e=createjs.extend(t,createjs.AbstractLoader);t.canLoadItem=function(t){return t.type==createjs.Types.JSON},e._formatResult=function(t){var e=null;try{e=createjs.DataUtils.parseJSON(t.getResult(!0))}catch(t){var i=new createjs.ErrorEvent("JSON_FORMAT",null,t);return this._sendError(i),t}return e},createjs.JSONLoader=createjs.promote(t,"AbstractLoader")}(),function(){"use strict";function t(t){this.AbstractLoader_constructor(t,!1,createjs.Types.JSONP),this.setTag(createjs.Elements.script()),this.getTag().type="text/javascript"}var e=createjs.extend(t,createjs.AbstractLoader);t.canLoadItem=function(t){return t.type==createjs.Types.JSONP},e.cancel=function(){this.AbstractLoader_cancel(),this._dispose()},e.load=function(){if(null==this._item.callback)throw new Error("callback is required for loading JSONP requests.");if(null!=window[this._item.callback])throw new Error("JSONP callback '"+this._item.callback+"' already exists on window. You need to specify a different callback or re-name the current one.");window[this._item.callback]=createjs.proxy(this._handleLoad,this),createjs.DomUtils.appendToBody(this._tag),this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),this._item.loadTimeout),this._tag.src=this._item.src},e._handleLoad=function(t){this._result=this._rawResult=t,this._sendComplete(),this._dispose()},e._handleTimeout=function(){this._dispose(),this.dispatchEvent(new createjs.ErrorEvent("timeout"))},e._dispose=function(){createjs.DomUtils.removeChild(this._tag),delete window[this._item.callback],clearTimeout(this._loadTimeout)},createjs.JSONPLoader=createjs.promote(t,"AbstractLoader")}(),function(){"use strict";function t(t,e){this.AbstractLoader_constructor(t,e,createjs.Types.MANIFEST),this.plugins=null,this._manifestQueue=null}var e=createjs.extend(t,createjs.AbstractLoader),i=t;i.MANIFEST_PROGRESS=.25,i.canLoadItem=function(t){return t.type==createjs.Types.MANIFEST},e.load=function(){this.AbstractLoader_load()},e._createRequest=function(){var t=this._item.callback;this._request=null!=t?new createjs.JSONPLoader(this._item):new createjs.JSONLoader(this._item)},e.handleEvent=function(t){switch(t.type){case"complete":return this._rawResult=t.target.getResult(!0),this._result=t.target.getResult(),this._sendProgress(i.MANIFEST_PROGRESS),void this._loadManifest(this._result);case"progress":return t.loaded*=i.MANIFEST_PROGRESS,this.progress=t.loaded/t.total,(isNaN(this.progress)||this.progress==1/0)&&(this.progress=0),void this._sendProgress(t)}this.AbstractLoader_handleEvent(t)},e.destroy=function(){this.AbstractLoader_destroy(),this._manifestQueue.close()},e._loadManifest=function(t){if(t&&t.manifest){var e=this._manifestQueue=new createjs.LoadQueue(this._preferXHR);e.on("fileload",this._handleManifestFileLoad,this),e.on("progress",this._handleManifestProgress,this),e.on("complete",this._handleManifestComplete,this,!0),e.on("error",this._handleManifestError,this,!0);for(var i=0,r=this.plugins.length;i<r;i++)e.installPlugin(this.plugins[i]);e.loadManifest(t)}else this._sendComplete()},e._handleManifestFileLoad=function(t){t.target=null,this.dispatchEvent(t)},e._handleManifestComplete=function(t){this._loadedItems=this._manifestQueue.getItems(!0),this._sendComplete()},e._handleManifestProgress=function(t){this.progress=t.progress*(1-i.MANIFEST_PROGRESS)+i.MANIFEST_PROGRESS,this._sendProgress(this.progress)},e._handleManifestError=function(t){var e=new createjs.Event("fileerror");e.item=t.data,this.dispatchEvent(e)},createjs.ManifestLoader=createjs.promote(t,"AbstractLoader")}(),function(){"use strict";function t(t,e){this.AbstractMediaLoader_constructor(t,e,createjs.Types.SOUND),createjs.DomUtils.isAudioTag(t)?this._tag=t:createjs.DomUtils.isAudioTag(t.src)?this._tag=t:createjs.DomUtils.isAudioTag(t.tag)&&(this._tag=createjs.DomUtils.isAudioTag(t)?t:t.src),null!=this._tag&&(this._preferXHR=!1)}var e=createjs.extend(t,createjs.AbstractMediaLoader);t.canLoadItem=function(t){return t.type==createjs.Types.SOUND},e._createTag=function(t){var e=createjs.Elements.audio();return e.autoplay=!1,e.preload="none",e.src=t,e},createjs.SoundLoader=createjs.promote(t,"AbstractMediaLoader")}(),function(){"use strict";function t(t,e){this.AbstractMediaLoader_constructor(t,e,createjs.Types.VIDEO),createjs.DomUtils.isVideoTag(t)||createjs.DomUtils.isVideoTag(t.src)?(this.setTag(createjs.DomUtils.isVideoTag(t)?t:t.src),this._preferXHR=!1):this.setTag(this._createTag())}var e=t;createjs.extend(t,createjs.AbstractMediaLoader)._createTag=function(){return createjs.Elements.video()},e.canLoadItem=function(t){return t.type==createjs.Types.VIDEO},createjs.VideoLoader=createjs.promote(t,"AbstractMediaLoader")}(),function(){"use strict";function t(t,e){this.AbstractLoader_constructor(t,e,createjs.Types.SPRITESHEET),this._manifestQueue=null}var e=createjs.extend(t,createjs.AbstractLoader),i=t;i.SPRITESHEET_PROGRESS=.25,i.canLoadItem=function(t){return t.type==createjs.Types.SPRITESHEET},e.destroy=function(){this.AbstractLoader_destroy(),this._manifestQueue.close()},e._createRequest=function(){var t=this._item.callback;this._request=null!=t?new createjs.JSONPLoader(this._item):new createjs.JSONLoader(this._item)},e.handleEvent=function(t){switch(t.type){case"complete":return this._rawResult=t.target.getResult(!0),this._result=t.target.getResult(),this._sendProgress(i.SPRITESHEET_PROGRESS),void this._loadManifest(this._result);case"progress":return t.loaded*=i.SPRITESHEET_PROGRESS,this.progress=t.loaded/t.total,(isNaN(this.progress)||this.progress==1/0)&&(this.progress=0),void this._sendProgress(t)}this.AbstractLoader_handleEvent(t)},e._loadManifest=function(t){if(t&&t.images){var e=this._manifestQueue=new createjs.LoadQueue(this._preferXHR,this._item.path,this._item.crossOrigin);e.on("complete",this._handleManifestComplete,this,!0),e.on("fileload",this._handleManifestFileLoad,this),e.on("progress",this._handleManifestProgress,this),e.on("error",this._handleManifestError,this,!0),e.loadManifest(t.images)}},e._handleManifestFileLoad=function(t){var e=t.result;if(null!=e){var i=this.getResult().images;i[i.indexOf(t.item.src)]=e}},e._handleManifestComplete=function(t){this._result=new createjs.SpriteSheet(this._result),this._loadedItems=this._manifestQueue.getItems(!0),this._sendComplete()},e._handleManifestProgress=function(t){this.progress=t.progress*(1-i.SPRITESHEET_PROGRESS)+i.SPRITESHEET_PROGRESS,this._sendProgress(this.progress)},e._handleManifestError=function(t){var e=new createjs.Event("fileerror");e.item=t.data,this.dispatchEvent(e)},createjs.SpriteSheetLoader=createjs.promote(t,"AbstractLoader")}(),function(){"use strict";function t(t,e){this.AbstractLoader_constructor(t,e,createjs.Types.SVG),this.resultFormatter=this._formatResult,this._tagSrcAttribute="data",e?this.setTag(createjs.Elements.svg()):(this.setTag(createjs.Elements.object()),this.getTag().type="image/svg+xml")}var e=createjs.extend(t,createjs.AbstractLoader);t.canLoadItem=function(t){return t.type==createjs.Types.SVG},e._formatResult=function(t){var e=createjs.DataUtils.parseXML(t.getResult(!0)),i=t.getTag();if(!this._preferXHR&&document.body.contains(i)&&document.body.removeChild(i),null!=e.documentElement){var r=e.documentElement;return document.importNode&&(r=document.importNode(r,!0)),i.appendChild(r),i}return e},createjs.SVGLoader=createjs.promote(t,"AbstractLoader")}(),function(){"use strict";function t(t){this.AbstractLoader_constructor(t,!0,createjs.Types.XML),this.resultFormatter=this._formatResult}var e=createjs.extend(t,createjs.AbstractLoader);t.canLoadItem=function(t){return t.type==createjs.Types.XML},e._formatResult=function(t){return createjs.DataUtils.parseXML(t.getResult(!0))},createjs.XMLLoader=createjs.promote(t,"AbstractLoader")}(),function(){var t=createjs.SoundJS=createjs.SoundJS||{};t.version="NEXT",t.buildDate="Thu, 14 Sep 2017 22:19:45 GMT"}(),function(){"use strict";function t(){throw"BrowserDetect cannot be instantiated"}var e=t.agent=window.navigator.userAgent;t.isWindowPhone=e.indexOf("IEMobile")>-1||e.indexOf("Windows Phone")>-1,t.isFirefox=e.indexOf("Firefox")>-1,t.isOpera=null!=window.opera,t.isChrome=e.indexOf("Chrome")>-1,t.isIOS=(e.indexOf("iPod")>-1||e.indexOf("iPhone")>-1||e.indexOf("iPad")>-1)&&!t.isWindowPhone,t.isAndroid=e.indexOf("Android")>-1&&!t.isWindowPhone,t.isBlackberry=e.indexOf("Blackberry")>-1,createjs.BrowserDetect=t}(),function(){"use strict";var t=function(){this.interrupt=null,this.delay=null,this.offset=null,this.loop=null,this.volume=null,this.pan=null,this.startTime=null,this.duration=null},e=t.prototype={},i=t;i.create=function(t){if("string"==typeof t)return console&&(console.warn||console.log)("Deprecated behaviour. Sound.play takes a configuration object instead of individual arguments. See docs for info."),(new createjs.PlayPropsConfig).set({interrupt:t});if(null==t||t instanceof i||t instanceof Object)return(new createjs.PlayPropsConfig).set(t);if(null==t)throw new Error("PlayProps configuration not recognized.")},e.set=function(t){if(null!=t)for(var e in t)this[e]=t[e];return this},e.toString=function(){return"[PlayPropsConfig]"},createjs.PlayPropsConfig=i}(),function(){"use strict";function t(){throw"Sound cannot be instantiated"}var e=t;function i(t,e){this.init(t,e)}e.INTERRUPT_ANY="any",e.INTERRUPT_EARLY="early",e.INTERRUPT_LATE="late",e.INTERRUPT_NONE="none",e.PLAY_INITED="playInited",e.PLAY_SUCCEEDED="playSucceeded",e.PLAY_INTERRUPTED="playInterrupted",e.PLAY_FINISHED="playFinished",e.PLAY_FAILED="playFailed",e.SUPPORTED_EXTENSIONS=["mp3","ogg","opus","mpeg","wav","m4a","mp4","aiff","wma","mid"],e.EXTENSION_MAP={m4a:"mp4"},e.FILE_PATTERN=/^(?:(\w+:)\/{2}(\w+(?:\.\w+)*\/?))?([/.]*?(?:[^?]+)?\/)?((?:[^/?]+)\.(\w+))(?:\?(\S+)?)?$/,e.defaultInterruptBehavior=e.INTERRUPT_NONE,e.alternateExtensions=[],e.activePlugin=null,e._masterVolume=1,e._getMasterVolume=function(){return this._masterVolume},e.getVolume=createjs.deprecate(e._getMasterVolume,"Sound.getVolume"),e._setMasterVolume=function(t){if(null!=Number(t)&&(t=Math.max(0,Math.min(1,t)),e._masterVolume=t,!this.activePlugin||!this.activePlugin.setVolume||!this.activePlugin.setVolume(t)))for(var i=this._instances,r=0,s=i.length;r<s;r++)i[r].setMasterVolume(t)},e.setVolume=createjs.deprecate(e._setMasterVolume,"Sound.setVolume"),e._masterMute=!1,e._getMute=function(){return this._masterMute},e.getMute=createjs.deprecate(e._getMute,"Sound.getMute"),e._setMute=function(t){if(null!=t&&(this._masterMute=t,!this.activePlugin||!this.activePlugin.setMute||!this.activePlugin.setMute(t)))for(var e=this._instances,i=0,r=e.length;i<r;i++)e[i].setMasterMute(t)},e.setMute=createjs.deprecate(e._setMute,"Sound.setMute"),e._getCapabilities=function(){return null==e.activePlugin?null:e.activePlugin._capabilities},e.getCapabilities=createjs.deprecate(e._getCapabilities,"Sound.getCapabilities"),Object.defineProperties(e,{volume:{get:e._getMasterVolume,set:e._setMasterVolume},muted:{get:e._getMute,set:e._setMute},capabilities:{get:e._getCapabilities}}),e._pluginsRegistered=!1,e._lastID=0,e._instances=[],e._idHash={},e._preloadHash={},e._defaultPlayPropsHash={},e.addEventListener=null,e.removeEventListener=null,e.removeAllEventListeners=null,e.dispatchEvent=null,e.hasEventListener=null,e._listeners=null,createjs.EventDispatcher.initialize(e),e.getPreloadHandlers=function(){return{callback:createjs.proxy(e.initLoad,e),types:["sound"],extensions:e.SUPPORTED_EXTENSIONS}},e._handleLoadComplete=function(t){var i=t.target.getItem().src;if(e._preloadHash[i])for(var r=0,s=e._preloadHash[i].length;r<s;r++){var n=e._preloadHash[i][r];if(e._preloadHash[i][r]=!0,e.hasEventListener("fileload"))(t=new createjs.Event("fileload")).src=n.src,t.id=n.id,t.data=n.data,t.sprite=n.sprite,e.dispatchEvent(t)}},e._handleLoadError=function(t){var i=t.target.getItem().src;if(e._preloadHash[i])for(var r=0,s=e._preloadHash[i].length;r<s;r++){var n=e._preloadHash[i][r];if(e._preloadHash[i][r]=!1,e.hasEventListener("fileerror"))(t=new createjs.Event("fileerror")).src=n.src,t.id=n.id,t.data=n.data,t.sprite=n.sprite,e.dispatchEvent(t)}},e._registerPlugin=function(t){return!!t.isSupported()&&(e.activePlugin=new t,!0)},e.registerPlugins=function(t){e._pluginsRegistered=!0;for(var i=0,r=t.length;i<r;i++)if(e._registerPlugin(t[i]))return!0;return!1},e.initializeDefaultPlugins=function(){return null!=e.activePlugin||!e._pluginsRegistered&&!!e.registerPlugins([createjs.WebAudioPlugin,createjs.HTMLAudioPlugin])},e.isReady=function(){return null!=e.activePlugin},e.initLoad=function(t){return"video"==t.type||e._registerSound(t)},e._registerSound=function(t){if(!e.initializeDefaultPlugins())return!1;var r;if(t.src instanceof Object?(r=e._parseSrc(t.src)).src=t.path+r.src:r=e._parsePath(t.src),null==r)return!1;t.src=r.src,t.type="sound";var s=t.data,n=null;if(null!=s&&(isNaN(s.channels)?isNaN(s)||(n=parseInt(s)):n=parseInt(s.channels),s.audioSprite))for(var a,o=s.audioSprite.length;o--;)a=s.audioSprite[o],e._idHash[a.id]={src:t.src,startTime:parseInt(a.startTime),duration:parseInt(a.duration)},a.defaultPlayProps&&(e._defaultPlayPropsHash[a.id]=createjs.PlayPropsConfig.create(a.defaultPlayProps));null!=t.id&&(e._idHash[t.id]={src:t.src});var h=e.activePlugin.register(t);return i.create(t.src,n),null!=s&&isNaN(s)?t.data.channels=n||i.maxPerChannel():t.data=n||i.maxPerChannel(),h.type&&(t.type=h.type),t.defaultPlayProps&&(e._defaultPlayPropsHash[t.src]=createjs.PlayPropsConfig.create(t.defaultPlayProps)),h},e.registerSound=function(t,i,r,s,n){var a={src:t,id:i,data:r,defaultPlayProps:n};t instanceof Object&&t.src&&(s=i,a=t),(a=createjs.LoadItem.create(a)).path=s,null==s||a.src instanceof Object||(a.src=s+a.src);var o=e._registerSound(a);if(!o)return!1;if(e._preloadHash[a.src]||(e._preloadHash[a.src]=[]),e._preloadHash[a.src].push(a),1==e._preloadHash[a.src].length)o.on("complete",this._handleLoadComplete,this),o.on("error",this._handleLoadError,this),e.activePlugin.preload(o);else if(1==e._preloadHash[a.src][0])return!0;return a},e.registerSounds=function(t,e){var i=[];t.path&&(e?e+=t.path:e=t.path,t=t.manifest);for(var r=0,s=t.length;r<s;r++)i[r]=createjs.Sound.registerSound(t[r].src,t[r].id,t[r].data,e,t[r].defaultPlayProps);return i},e.removeSound=function(t,r){if(null==e.activePlugin)return!1;var s;if(t instanceof Object&&t.src&&(t=t.src),t instanceof Object?s=e._parseSrc(t):(t=e._getSrcById(t).src,s=e._parsePath(t)),null==s)return!1;for(var n in t=s.src,null!=r&&(t=r+t),e._idHash)e._idHash[n].src==t&&delete e._idHash[n];return i.removeSrc(t),delete e._preloadHash[t],e.activePlugin.removeSound(t),!0},e.removeSounds=function(t,e){var i=[];t.path&&(e?e+=t.path:e=t.path,t=t.manifest);for(var r=0,s=t.length;r<s;r++)i[r]=createjs.Sound.removeSound(t[r].src,e);return i},e.removeAllSounds=function(){e._idHash={},e._preloadHash={},i.removeAll(),e.activePlugin&&e.activePlugin.removeAllSounds()},e.loadComplete=function(t){if(!e.isReady())return!1;var i=e._parsePath(t);return t=i?e._getSrcById(i.src).src:e._getSrcById(t).src,void 0!=e._preloadHash[t]&&1==e._preloadHash[t][0]},e._parsePath=function(t){"string"!=typeof t&&(t=t.toString());var i=t.match(e.FILE_PATTERN);if(null==i)return!1;for(var r=i[4],s=i[5],n=e.capabilities,a=0;!n[s];)if(s=e.alternateExtensions[a++],a>e.alternateExtensions.length)return null;return{name:r,src:t=t.replace("."+i[5],"."+s),extension:s}},e._parseSrc=function(t){var i={name:void 0,src:void 0,extension:void 0},r=e.capabilities;for(var s in t)if(t.hasOwnProperty(s)&&r[s]){i.src=t[s],i.extension=s;break}if(!i.src)return!1;var n=i.src.lastIndexOf("/");return i.name=-1!=n?i.src.slice(n+1):i.src,i},e.play=function(t,i){var r=createjs.PlayPropsConfig.create(i),s=e.createInstance(t,r.startTime,r.duration);return e._playInstance(s,r)||s._playFailed(),s},e.createInstance=function(t,r,s){if(!e.initializeDefaultPlugins())return new createjs.DefaultSoundInstance(t,r,s);var n=e._defaultPlayPropsHash[t];t=e._getSrcById(t);var a=e._parsePath(t.src),o=null;return null!=a&&null!=a.src?(i.create(a.src),null==r&&(r=t.startTime),o=e.activePlugin.create(a.src,r,s||t.duration),(n=n||e._defaultPlayPropsHash[a.src])&&o.applyPlayProps(n)):o=new createjs.DefaultSoundInstance(t,r,s),o.uniqueId=e._lastID++,o},e.stop=function(){for(var t=this._instances,e=t.length;e--;)t[e].stop()},e.setDefaultPlayProps=function(t,i){t=e._getSrcById(t),e._defaultPlayPropsHash[e._parsePath(t.src).src]=createjs.PlayPropsConfig.create(i)},e.getDefaultPlayProps=function(t){return t=e._getSrcById(t),e._defaultPlayPropsHash[e._parsePath(t.src).src]},e._playInstance=function(t,i){var r=e._defaultPlayPropsHash[t.src]||{};if(null==i.interrupt&&(i.interrupt=r.interrupt||e.defaultInterruptBehavior),null==i.delay&&(i.delay=r.delay||0),null==i.offset&&(i.offset=t.position),null==i.loop&&(i.loop=t.loop),null==i.volume&&(i.volume=t.volume),null==i.pan&&(i.pan=t.pan),0==i.delay){if(!e._beginPlaying(t,i))return!1}else{var s=setTimeout(function(){e._beginPlaying(t,i)},i.delay);t.delayTimeoutId=s}return this._instances.push(t),!0},e._beginPlaying=function(t,e){if(!i.add(t,e.interrupt))return!1;if(!t._beginPlaying(e)){var r=createjs.indexOf(this._instances,t);return r>-1&&this._instances.splice(r,1),!1}return!0},e._getSrcById=function(t){return e._idHash[t]||{src:t}},e._playFinished=function(t){i.remove(t);var e=createjs.indexOf(this._instances,t);e>-1&&this._instances.splice(e,1)},createjs.Sound=t,i.channels={},i.create=function(t,e){return null==i.get(t)&&(i.channels[t]=new i(t,e),!0)},i.removeSrc=function(t){var e=i.get(t);return null!=e&&(e._removeAll(),delete i.channels[t],!0)},i.removeAll=function(){for(var t in i.channels)i.channels[t]._removeAll();i.channels={}},i.add=function(t,e){var r=i.get(t.src);return null!=r&&r._add(t,e)},i.remove=function(t){var e=i.get(t.src);return null!=e&&(e._remove(t),!0)},i.maxPerChannel=function(){return r.maxDefault},i.get=function(t){return i.channels[t]};var r=i.prototype;r.constructor=i,r.src=null,r.max=null,r.maxDefault=100,r.length=0,r.init=function(t,e){this.src=t,this.max=e||this.maxDefault,-1==this.max&&(this.max=this.maxDefault),this._instances=[]},r._get=function(t){return this._instances[t]},r._add=function(t,e){return!!this._getSlot(e,t)&&(this._instances.push(t),this.length++,!0)},r._remove=function(t){var e=createjs.indexOf(this._instances,t);return-1!=e&&(this._instances.splice(e,1),this.length--,!0)},r._removeAll=function(){for(var t=this.length-1;t>=0;t--)this._instances[t].stop()},r._getSlot=function(e,i){var r,s;if(e!=t.INTERRUPT_NONE&&null==(s=this._get(0)))return!0;for(var n=0,a=this.max;n<a;n++){if(null==(r=this._get(n)))return!0;if(r.playState==t.PLAY_FINISHED||r.playState==t.PLAY_INTERRUPTED||r.playState==t.PLAY_FAILED){s=r;break}e!=t.INTERRUPT_NONE&&((e==t.INTERRUPT_EARLY&&r.position<s.position||e==t.INTERRUPT_LATE&&r.position>s.position)&&(s=r))}return null!=s&&(s._interrupt(),this._remove(s),!0)},r.toString=function(){return"[Sound SoundChannel]"}}(),function(){"use strict";var t=function(t,e,i,r){this.EventDispatcher_constructor(),this.src=t,this.uniqueId=-1,this.playState=null,this.delayTimeoutId=null,this._volume=1,Object.defineProperty(this,"volume",{get:this._getVolume,set:this._setVolume}),this._pan=0,Object.defineProperty(this,"pan",{get:this._getPan,set:this._setPan}),this._startTime=Math.max(0,e||0),Object.defineProperty(this,"startTime",{get:this._getStartTime,set:this._setStartTime}),this._duration=Math.max(0,i||0),Object.defineProperty(this,"duration",{get:this._getDuration,set:this._setDuration}),this._playbackResource=null,Object.defineProperty(this,"playbackResource",{get:this._getPlaybackResource,set:this._setPlaybackResource}),!1!==r&&!0!==r&&this._setPlaybackResource(r),this._position=0,Object.defineProperty(this,"position",{get:this._getPosition,set:this._setPosition}),this._loop=0,Object.defineProperty(this,"loop",{get:this._getLoop,set:this._setLoop}),this._muted=!1,Object.defineProperty(this,"muted",{get:this._getMuted,set:this._setMuted}),this._paused=!1,Object.defineProperty(this,"paused",{get:this._getPaused,set:this._setPaused})},e=createjs.extend(t,createjs.EventDispatcher);e.play=function(t){var e=createjs.PlayPropsConfig.create(t);return this.playState==createjs.Sound.PLAY_SUCCEEDED?(this.applyPlayProps(e),void(this._paused&&this._setPaused(!1))):(this._cleanUp(),createjs.Sound._playInstance(this,e),this)},e.stop=function(){return this._position=0,this._paused=!1,this._handleStop(),this._cleanUp(),this.playState=createjs.Sound.PLAY_FINISHED,this},e.destroy=function(){this._cleanUp(),this.src=null,this.playbackResource=null,this.removeAllEventListeners()},e.applyPlayProps=function(t){return null!=t.offset&&this._setPosition(t.offset),null!=t.loop&&this._setLoop(t.loop),null!=t.volume&&this._setVolume(t.volume),null!=t.pan&&this._setPan(t.pan),null!=t.startTime&&(this._setStartTime(t.startTime),this._setDuration(t.duration)),this},e.toString=function(){return"[AbstractSoundInstance]"},e._getPaused=function(){return this._paused},e._setPaused=function(t){if(!(!0!==t&&!1!==t||this._paused==t||1==t&&this.playState!=createjs.Sound.PLAY_SUCCEEDED))return this._paused=t,t?this._pause():this._resume(),clearTimeout(this.delayTimeoutId),this},e._setVolume=function(t){return t==this._volume?this:(this._volume=Math.max(0,Math.min(1,t)),this._muted||this._updateVolume(),this)},e._getVolume=function(){return this._volume},e._setMuted=function(t){if(!0===t||!1===t)return this._muted=t,this._updateVolume(),this},e._getMuted=function(){return this._muted},e._setPan=function(t){return t==this._pan?this:(this._pan=Math.max(-1,Math.min(1,t)),this._updatePan(),this)},e._getPan=function(){return this._pan},e._getPosition=function(){return this._paused||this.playState!=createjs.Sound.PLAY_SUCCEEDED||(this._position=this._calculateCurrentPosition()),this._position},e._setPosition=function(t){return this._position=Math.max(0,t),this.playState==createjs.Sound.PLAY_SUCCEEDED&&this._updatePosition(),this},e._getStartTime=function(){return this._startTime},e._setStartTime=function(t){return t==this._startTime?this:(this._startTime=Math.max(0,t||0),this._updateStartTime(),this)},e._getDuration=function(){return this._duration},e._setDuration=function(t){return t==this._duration?this:(this._duration=Math.max(0,t||0),this._updateDuration(),this)},e._setPlaybackResource=function(t){return this._playbackResource=t,0==this._duration&&this._playbackResource&&this._setDurationFromSource(),this},e._getPlaybackResource=function(){return this._playbackResource},e._getLoop=function(){return this._loop},e._setLoop=function(t){null!=this._playbackResource&&(0!=this._loop&&0==t?this._removeLooping(t):0==this._loop&&0!=t&&this._addLooping(t)),this._loop=t},e._sendEvent=function(t){var e=new createjs.Event(t);this.dispatchEvent(e)},e._cleanUp=function(){clearTimeout(this.delayTimeoutId),this._handleCleanUp(),this._paused=!1,createjs.Sound._playFinished(this)},e._interrupt=function(){this._cleanUp(),this.playState=createjs.Sound.PLAY_INTERRUPTED,this._sendEvent("interrupted")},e._beginPlaying=function(t){return this._setPosition(t.offset),this._setLoop(t.loop),this._setVolume(t.volume),this._setPan(t.pan),null!=t.startTime&&(this._setStartTime(t.startTime),this._setDuration(t.duration)),null!=this._playbackResource&&this._position<this._duration?(this._paused=!1,this._handleSoundReady(),this.playState=createjs.Sound.PLAY_SUCCEEDED,this._sendEvent("succeeded"),!0):(this._playFailed(),!1)},e._playFailed=function(){this._cleanUp(),this.playState=createjs.Sound.PLAY_FAILED,this._sendEvent("failed")},e._handleSoundComplete=function(t){if(this._position=0,0!=this._loop)return this._loop--,this._handleLoop(),void this._sendEvent("loop");this._cleanUp(),this.playState=createjs.Sound.PLAY_FINISHED,this._sendEvent("complete")},e._handleSoundReady=function(){},e._updateVolume=function(){},e._updatePan=function(){},e._updateStartTime=function(){},e._updateDuration=function(){},e._setDurationFromSource=function(){},e._calculateCurrentPosition=function(){},e._updatePosition=function(){},e._removeLooping=function(t){},e._addLooping=function(t){},e._pause=function(){},e._resume=function(){},e._handleStop=function(){},e._handleCleanUp=function(){},e._handleLoop=function(){},createjs.AbstractSoundInstance=createjs.promote(t,"EventDispatcher"),createjs.DefaultSoundInstance=createjs.AbstractSoundInstance}(),function(){"use strict";var t=function(){this._capabilities=null,this._loaders={},this._audioSources={},this._soundInstances={},this._volume=1,this._loaderClass,this._soundInstanceClass},e=t.prototype;t._capabilities=null,t.isSupported=function(){return!0},e.register=function(t){var e=this._loaders[t.src];return e&&!e.canceled?this._loaders[t.src]:(this._audioSources[t.src]=!0,this._soundInstances[t.src]=[],(e=new this._loaderClass(t)).on("complete",this._handlePreloadComplete,this),this._loaders[t.src]=e,e)},e.preload=function(t){t.on("error",this._handlePreloadError,this),t.load()},e.isPreloadStarted=function(t){return null!=this._audioSources[t]},e.isPreloadComplete=function(t){return!(null==this._audioSources[t]||1==this._audioSources[t])},e.removeSound=function(t){if(this._soundInstances[t]){for(var e=this._soundInstances[t].length;e--;){this._soundInstances[t][e].destroy()}delete this._soundInstances[t],delete this._audioSources[t],this._loaders[t]&&this._loaders[t].destroy(),delete this._loaders[t]}},e.removeAllSounds=function(){for(var t in this._audioSources)this.removeSound(t)},e.create=function(t,e,i){this.isPreloadStarted(t)||this.preload(this.register(t));var r=new this._soundInstanceClass(t,e,i,this._audioSources[t]);return this._soundInstances[t]&&this._soundInstances[t].push(r),r.setMasterVolume&&r.setMasterVolume(createjs.Sound.volume),r.setMasterMute&&r.setMasterMute(createjs.Sound.muted),r},e.setVolume=function(t){return this._volume=t,this._updateVolume(),!0},e.getVolume=function(){return this._volume},e.setMute=function(t){return this._updateVolume(),!0},e.toString=function(){return"[AbstractPlugin]"},e._handlePreloadComplete=function(t){var e=t.target.getItem().src;this._audioSources[e]=t.result;for(var i=0,r=this._soundInstances[e].length;i<r;i++){this._soundInstances[e][i].setPlaybackResource(this._audioSources[e]),this._soundInstances[e]=null}},e._handlePreloadError=function(t){},e._updateVolume=function(){},createjs.AbstractPlugin=t}(),function(){"use strict";function t(t){this.AbstractLoader_constructor(t,!0,createjs.Types.SOUND)}var e=createjs.extend(t,createjs.AbstractLoader);t.context=null,e.toString=function(){return"[WebAudioLoader]"},e._createRequest=function(){this._request=new createjs.XHRRequest(this._item,!1),this._request.setResponseType("arraybuffer")},e._sendComplete=function(e){t.context.decodeAudioData(this._rawResult,createjs.proxy(this._handleAudioDecoded,this),createjs.proxy(this._sendError,this))},e._handleAudioDecoded=function(t){this._result=t,this.AbstractLoader__sendComplete()},createjs.WebAudioLoader=createjs.promote(t,"AbstractLoader")}(),function(){"use strict";function t(t,e,r,s){this.AbstractSoundInstance_constructor(t,e,r,s),this.gainNode=i.context.createGain(),this.panNode=i.context.createPanner(),this.panNode.panningModel=i._panningModel,this.panNode.connect(this.gainNode),this._updatePan(),this.sourceNode=null,this._soundCompleteTimeout=null,this._sourceNodeNext=null,this._playbackStartTime=0,this._endedHandler=createjs.proxy(this._handleSoundComplete,this)}var e=createjs.extend(t,createjs.AbstractSoundInstance),i=t;i.context=null,i._scratchBuffer=null,i.destinationNode=null,i._panningModel="equalpower",e.destroy=function(){this.AbstractSoundInstance_destroy(),this.panNode.disconnect(0),this.panNode=null,this.gainNode.disconnect(0),this.gainNode=null},e.toString=function(){return"[WebAudioSoundInstance]"},e._updatePan=function(){this.panNode.setPosition(this._pan,0,-.5)},e._removeLooping=function(t){this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext)},e._addLooping=function(t){this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this._sourceNodeNext=this._createAndPlayAudioNode(this._playbackStartTime,0))},e._setDurationFromSource=function(){this._duration=1e3*this.playbackResource.duration},e._handleCleanUp=function(){this.sourceNode&&this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this.sourceNode=this._cleanUpAudioNode(this.sourceNode),this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext)),0!=this.gainNode.numberOfOutputs&&this.gainNode.disconnect(0),clearTimeout(this._soundCompleteTimeout),this._playbackStartTime=0},e._cleanUpAudioNode=function(t){if(t){if(t.stop(0),t.disconnect(0),createjs.BrowserDetect.isIOS)try{t.buffer=i._scratchBuffer}catch(t){}t=null}return t},e._handleSoundReady=function(t){this.gainNode.connect(i.destinationNode);var e=.001*this._duration,r=Math.min(.001*Math.max(0,this._position),e);this.sourceNode=this._createAndPlayAudioNode(i.context.currentTime-e,r),this._playbackStartTime=this.sourceNode.startTime-r,this._soundCompleteTimeout=setTimeout(this._endedHandler,1e3*(e-r)),0!=this._loop&&(this._sourceNodeNext=this._createAndPlayAudioNode(this._playbackStartTime,0))},e._createAndPlayAudioNode=function(t,e){var r=i.context.createBufferSource();r.buffer=this.playbackResource,r.connect(this.panNode);var s=.001*this._duration;return r.startTime=t+s,r.start(r.startTime,e+.001*this._startTime,s-e),r},e._pause=function(){this._position=1e3*(i.context.currentTime-this._playbackStartTime),this.sourceNode=this._cleanUpAudioNode(this.sourceNode),this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext),0!=this.gainNode.numberOfOutputs&&this.gainNode.disconnect(0),clearTimeout(this._soundCompleteTimeout)},e._resume=function(){this._handleSoundReady()},e._updateVolume=function(){var t=this._muted?0:this._volume;t!=this.gainNode.gain.value&&(this.gainNode.gain.value=t)},e._calculateCurrentPosition=function(){return 1e3*(i.context.currentTime-this._playbackStartTime)},e._updatePosition=function(){this.sourceNode=this._cleanUpAudioNode(this.sourceNode),this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext),clearTimeout(this._soundCompleteTimeout),this._paused||this._handleSoundReady()},e._handleLoop=function(){this._cleanUpAudioNode(this.sourceNode),this.sourceNode=this._sourceNodeNext,this._playbackStartTime=this.sourceNode.startTime,this._sourceNodeNext=this._createAndPlayAudioNode(this._playbackStartTime,0),this._soundCompleteTimeout=setTimeout(this._endedHandler,this._duration)},e._updateDuration=function(){this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this._pause(),this._resume())},createjs.WebAudioSoundInstance=createjs.promote(t,"AbstractSoundInstance")}(),function(){"use strict";function t(){this.AbstractPlugin_constructor(),this._panningModel=i._panningModel,this.context=i.context,this.dynamicsCompressorNode=this.context.createDynamicsCompressor(),this.dynamicsCompressorNode.connect(this.context.destination),this.gainNode=this.context.createGain(),this.gainNode.connect(this.dynamicsCompressorNode),createjs.WebAudioSoundInstance.destinationNode=this.gainNode,this._capabilities=i._capabilities,this._loaderClass=createjs.WebAudioLoader,this._soundInstanceClass=createjs.WebAudioSoundInstance,this._addPropsToClasses()}var e=createjs.extend(t,createjs.AbstractPlugin),i=t;i._capabilities=null,i._panningModel="equalpower",i.context=null,i._scratchBuffer=null,i._unlocked=!1,i.DEFAULT_SAMPLE_RATE=44100,i.isSupported=function(){var t=createjs.BrowserDetect.isIOS||createjs.BrowserDetect.isAndroid||createjs.BrowserDetect.isBlackberry;return!("file:"==location.protocol&&!t&&!this._isFileXHRSupported())&&(i._generateCapabilities(),null!=i.context)},i.playEmptySound=function(){if(null!=i.context){var t=i.context.createBufferSource();t.buffer=i._scratchBuffer,t.connect(i.context.destination),t.start(0,0,0)}},i._isFileXHRSupported=function(){var t=!0,e=new XMLHttpRequest;try{e.open("GET","WebAudioPluginTest.fail",!1)}catch(e){return t=!1}e.onerror=function(){t=!1},e.onload=function(){t=404==this.status||200==this.status||0==this.status&&""!=this.response};try{e.send()}catch(e){t=!1}return t},i._generateCapabilities=function(){if(null==i._capabilities){var t=document.createElement("audio");if(null==t.canPlayType)return null;if(null==i.context&&(i.context=i._createAudioContext(),null==i.context))return null;null==i._scratchBuffer&&(i._scratchBuffer=i.context.createBuffer(1,1,22050)),i._compatibilitySetUp(),"ontouchstart"in window&&"running"!=i.context.state&&(i._unlock(),document.addEventListener("mousedown",i._unlock,!0),document.addEventListener("touchstart",i._unlock,!0),document.addEventListener("touchend",i._unlock,!0)),i._capabilities={panning:!0,volume:!0,tracks:-1};for(var e=createjs.Sound.SUPPORTED_EXTENSIONS,r=createjs.Sound.EXTENSION_MAP,s=0,n=e.length;s<n;s++){var a=e[s],o=r[a]||a;i._capabilities[a]="no"!=t.canPlayType("audio/"+a)&&""!=t.canPlayType("audio/"+a)||"no"!=t.canPlayType("audio/"+o)&&""!=t.canPlayType("audio/"+o)}i.context.destination.numberOfChannels<2&&(i._capabilities.panning=!1)}},i._createAudioContext=function(){var t=window.AudioContext||window.webkitAudioContext;if(null==t)return null;var e=new t;if(/(iPhone|iPad)/i.test(navigator.userAgent)&&e.sampleRate!==i.DEFAULT_SAMPLE_RATE){var r=e.createBuffer(1,1,i.DEFAULT_SAMPLE_RATE),s=e.createBufferSource();s.buffer=r,s.connect(e.destination),s.start(0),s.disconnect(),e.close(),e=new t}return e},i._compatibilitySetUp=function(){if(i._panningModel="equalpower",!i.context.createGain){i.context.createGain=i.context.createGainNode;var t=i.context.createBufferSource();t.__proto__.start=t.__proto__.noteGrainOn,t.__proto__.stop=t.__proto__.noteOff,i._panningModel=0}},i._unlock=function(){i._unlocked||(i.playEmptySound(),"running"==i.context.state&&(document.removeEventListener("mousedown",i._unlock,!0),document.removeEventListener("touchend",i._unlock,!0),document.removeEventListener("touchstart",i._unlock,!0),i._unlocked=!0))},e.toString=function(){return"[WebAudioPlugin]"},e._addPropsToClasses=function(){var t=this._soundInstanceClass;t.context=this.context,t._scratchBuffer=i._scratchBuffer,t.destinationNode=this.gainNode,t._panningModel=this._panningModel,this._loaderClass.context=this.context},e._updateVolume=function(){var t=createjs.Sound._masterMute?0:this._volume;t!=this.gainNode.gain.value&&(this.gainNode.gain.value=t)},createjs.WebAudioPlugin=createjs.promote(t,"AbstractPlugin")}(),function(){"use strict";function t(){throw"HTMLAudioTagPool cannot be instantiated"}var e=t;function i(t){this._tags=[]}e._tags={},e._tagPool=new i,e._tagUsed={},e.get=function(t){var i=e._tags[t];return null==i?(i=e._tags[t]=e._tagPool.get()).src=t:e._tagUsed[t]?(i=e._tagPool.get()).src=t:e._tagUsed[t]=!0,i},e.set=function(t,i){i==e._tags[t]?e._tagUsed[t]=!1:e._tagPool.set(i)},e.remove=function(t){var i=e._tags[t];return null!=i&&(e._tagPool.set(i),delete e._tags[t],delete e._tagUsed[t],!0)},e.getDuration=function(t){var i=e._tags[t];return null!=i&&i.duration?1e3*i.duration:0},createjs.HTMLAudioTagPool=t;var r=i.prototype;r.constructor=i,r.get=function(){var t;return null==(t=0==this._tags.length?this._createTag():this._tags.pop()).parentNode&&document.body.appendChild(t),t},r.set=function(t){-1==createjs.indexOf(this._tags,t)&&(this._tags.src=null,this._tags.push(t))},r.toString=function(){return"[TagPool]"},r._createTag=function(){var t=document.createElement("audio");return t.autoplay=!1,t.preload="none",t}}(),function(){"use strict";function t(t,e,i,r){this.AbstractSoundInstance_constructor(t,e,i,r),this._audioSpriteStopTime=null,this._delayTimeoutId=null,this._endedHandler=createjs.proxy(this._handleSoundComplete,this),this._readyHandler=createjs.proxy(this._handleTagReady,this),this._stalledHandler=createjs.proxy(this._playFailed,this),this._audioSpriteEndHandler=createjs.proxy(this._handleAudioSpriteLoop,this),this._loopHandler=createjs.proxy(this._handleSoundComplete,this),i?this._audioSpriteStopTime=.001*(e+i):this._duration=createjs.HTMLAudioTagPool.getDuration(this.src)}var e=createjs.extend(t,createjs.AbstractSoundInstance);e.setMasterVolume=function(t){this._updateVolume()},e.setMasterMute=function(t){this._updateVolume()},e.toString=function(){return"[HTMLAudioSoundInstance]"},e._removeLooping=function(){null!=this._playbackResource&&(this._playbackResource.loop=!1,this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1))},e._addLooping=function(){null==this._playbackResource||this._audioSpriteStopTime||(this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),this._playbackResource.loop=!0)},e._handleCleanUp=function(){var t=this._playbackResource;if(null!=t){t.pause(),t.loop=!1,t.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),t.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,!1),t.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_STALLED,this._stalledHandler,!1),t.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),t.removeEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1);try{t.currentTime=this._startTime}catch(t){}createjs.HTMLAudioTagPool.set(this.src,t),this._playbackResource=null}},e._beginPlaying=function(t){return this._playbackResource=createjs.HTMLAudioTagPool.get(this.src),this.AbstractSoundInstance__beginPlaying(t)},e._handleSoundReady=function(t){if(4!==this._playbackResource.readyState){var e=this._playbackResource;return e.addEventListener(createjs.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,!1),e.addEventListener(createjs.HTMLAudioPlugin._AUDIO_STALLED,this._stalledHandler,!1),e.preload="auto",void e.load()}this._updateVolume(),this._playbackResource.currentTime=.001*(this._startTime+this._position),this._audioSpriteStopTime?this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1):(this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),0!=this._loop&&(this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),this._playbackResource.loop=!0)),this._playbackResource.play()},e._handleTagReady=function(t){this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,!1),this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_STALLED,this._stalledHandler,!1),this._handleSoundReady()},e._pause=function(){this._playbackResource.pause()},e._resume=function(){this._playbackResource.play()},e._updateVolume=function(){if(null!=this._playbackResource){var t=this._muted||createjs.Sound._masterMute?0:this._volume*createjs.Sound._masterVolume;t!=this._playbackResource.volume&&(this._playbackResource.volume=t)}},e._calculateCurrentPosition=function(){return 1e3*this._playbackResource.currentTime-this._startTime},e._updatePosition=function(){this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._handleSetPositionSeek,!1);try{this._playbackResource.currentTime=.001*(this._position+this._startTime)}catch(t){this._handleSetPositionSeek(null)}},e._handleSetPositionSeek=function(t){null!=this._playbackResource&&(this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._handleSetPositionSeek,!1),this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1))},e._handleAudioSpriteLoop=function(t){this._playbackResource.currentTime<=this._audioSpriteStopTime||(this._playbackResource.pause(),0==this._loop?this._handleSoundComplete(null):(this._position=0,this._loop--,this._playbackResource.currentTime=.001*this._startTime,this._paused||this._playbackResource.play(),this._sendEvent("loop")))},e._handleLoop=function(t){0==this._loop&&(this._playbackResource.loop=!1,this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1))},e._updateStartTime=function(){this._audioSpriteStopTime=.001*(this._startTime+this._duration),this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1))},e._updateDuration=function(){this._audioSpriteStopTime=.001*(this._startTime+this._duration),this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1))},e._setDurationFromSource=function(){this._duration=createjs.HTMLAudioTagPool.getDuration(this.src),this._playbackResource=null},createjs.HTMLAudioSoundInstance=createjs.promote(t,"AbstractSoundInstance")}(),function(){"use strict";function t(){this.AbstractPlugin_constructor(),this._capabilities=i._capabilities,this._loaderClass=createjs.SoundLoader,this._soundInstanceClass=createjs.HTMLAudioSoundInstance}var e=createjs.extend(t,createjs.AbstractPlugin),i=t;i.MAX_INSTANCES=30,i._AUDIO_READY="canplaythrough",i._AUDIO_ENDED="ended",i._AUDIO_SEEKED="seeked",i._AUDIO_STALLED="stalled",i._TIME_UPDATE="timeupdate",i._capabilities=null,i.isSupported=function(){return i._generateCapabilities(),null!=i._capabilities},i._generateCapabilities=function(){if(null==i._capabilities){var t=document.createElement("audio");if(null==t.canPlayType)return null;i._capabilities={panning:!1,volume:!0,tracks:-1};for(var e=createjs.Sound.SUPPORTED_EXTENSIONS,r=createjs.Sound.EXTENSION_MAP,s=0,n=e.length;s<n;s++){var a=e[s],o=r[a]||a;i._capabilities[a]="no"!=t.canPlayType("audio/"+a)&&""!=t.canPlayType("audio/"+a)||"no"!=t.canPlayType("audio/"+o)&&""!=t.canPlayType("audio/"+o)}}},e.register=function(t){var e=createjs.HTMLAudioTagPool.get(t.src),i=this.AbstractPlugin_register(t);return i.setTag(e),i},e.removeSound=function(t){this.AbstractPlugin_removeSound(t),createjs.HTMLAudioTagPool.remove(t)},e.create=function(t,e,i){var r=this.AbstractPlugin_create(t,e,i);return r.playbackResource=null,r},e.toString=function(){return"[HTMLAudioPlugin]"},e.setVolume=e.getVolume=e.setMute=null,createjs.HTMLAudioPlugin=createjs.promote(t,"AbstractPlugin")}(),function(){"use strict";function t(t){this.EventDispatcher_constructor(),this.ignoreGlobalPause=!1,this.loop=0,this.useTicks=!1,this.reversed=!1,this.bounce=!1,this.timeScale=1,this.duration=0,this.position=0,this.rawPosition=-1,this._paused=!0,this._next=null,this._prev=null,this._parent=null,this._labels=null,this._labelList=null,t&&(this.useTicks=!!t.useTicks,this.ignoreGlobalPause=!!t.ignoreGlobalPause,this.loop=!0===t.loop?-1:t.loop||0,this.reversed=!!t.reversed,this.bounce=!!t.bounce,this.timeScale=t.timeScale||1,t.onChange&&this.addEventListener("change",t.onChange),t.onComplete&&this.addEventListener("complete",t.onComplete))}var e=createjs.extend(t,createjs.EventDispatcher);e._setPaused=function(t){return createjs.Tween._register(this,t),this},e.setPaused=createjs.deprecate(e._setPaused,"AbstractTween.setPaused"),e._getPaused=function(){return this._paused},e.getPaused=createjs.deprecate(e._getPaused,"AbstactTween.getPaused"),e._getCurrentLabel=function(t){var e=this.getLabels();null==t&&(t=this.position);for(var i=0,r=e.length;i<r&&!(t<e[i].position);i++);return 0===i?null:e[i-1].label},e.getCurrentLabel=createjs.deprecate(e._getCurrentLabel,"AbstractTween.getCurrentLabel");try{Object.defineProperties(e,{paused:{set:e._setPaused,get:e._getPaused},currentLabel:{get:e._getCurrentLabel}})}catch(t){}e.advance=function(t,e){this.setPosition(this.rawPosition+t*this.timeScale,e)},e.setPosition=function(t,e,i,r){var s=this.duration,n=this.loop,a=this.rawPosition,o=0,h=0,c=!1;if(t<0&&(t=0),0===s){if(c=!0,-1!==a)return c}else{if(h=t-(o=t/s|0)*s,(c=-1!==n&&t>=n*s+s)&&(t=(h=s)*(o=n)+s),t===a)return c;!this.reversed!=!(this.bounce&&o%2)&&(h=s-h)}this.position=h,this.rawPosition=t,this._updatePosition(i,c),c&&(this.paused=!0),r&&r(this),e||this._runActions(a,t,i,!i&&-1===a),this.dispatchEvent("change"),c&&this.dispatchEvent("complete")},e.calculatePosition=function(t){var e=this.duration,i=this.loop,r=0,s=0;return 0===e?0:(-1!==i&&t>=i*e+e?(s=e,r=i):s=t<0?0:t-(r=t/e|0)*e,!this.reversed!=!(this.bounce&&r%2)?e-s:s)},e.getLabels=function(){var t=this._labelList;if(!t){t=this._labelList=[];var e=this._labels;for(var i in e)t.push({label:i,position:e[i]});t.sort(function(t,e){return t.position-e.position})}return t},e.setLabels=function(t){this._labels=t,this._labelList=null},e.addLabel=function(t,e){this._labels||(this._labels={}),this._labels[t]=e;var i=this._labelList;if(i){for(var r=0,s=i.length;r<s&&!(e<i[r].position);r++);i.splice(r,0,{label:t,position:e})}},e.gotoAndPlay=function(t){this.paused=!1,this._goto(t)},e.gotoAndStop=function(t){this.paused=!0,this._goto(t)},e.resolve=function(t){var e=Number(t);return isNaN(e)&&(e=this._labels&&this._labels[t]),e},e.toString=function(){return"[AbstractTween]"},e.clone=function(){throw"AbstractTween can not be cloned."},e._init=function(t){t&&t.paused||(this.paused=!1),t&&null!=t.position&&this.setPosition(t.position)},e._updatePosition=function(t,e){},e._goto=function(t){var e=this.resolve(t);null!=e&&this.setPosition(e,!1,!0)},e._runActions=function(t,e,i,r){if(this._actionHead||this.tweens){var s,n,a,o,h=this.duration,c=this.reversed,u=this.bounce,l=this.loop;if(0===h?(s=n=a=o=0,c=u=!1):(a=t-(s=t/h|0)*h,o=e-(n=e/h|0)*h),-1!==l&&(n>l&&(o=h,n=l),s>l&&(a=h,s=l)),i)return this._runActionsRange(o,o,i,r);if(s!==n||a!==o||i||r){-1===s&&(s=a=0);var d=t<=e,_=s;do{var p=_===s?a:d?0:h,f=_===n?o:d?h:0;if(!c!=!(u&&_%2)&&(p=h-p,f=h-f),u&&_!==s&&p===f);else if(this._runActionsRange(p,f,i,r||_!==s&&!u))return!0;r=!1}while(d&&++_<=n||!d&&--_>=n)}}},e._runActionsRange=function(t,e,i,r){},createjs.AbstractTween=createjs.promote(t,"EventDispatcher")}(),function(){"use strict";function t(e,r){this.AbstractTween_constructor(r),this.pluginData=null,this.target=e,this.passive=!1,this._stepHead=new i(null,0,0,{},null,!0),this._stepTail=this._stepHead,this._stepPosition=0,this._actionHead=null,this._actionTail=null,this._plugins=null,this._pluginIds=null,this._injected=null,r&&(this.pluginData=r.pluginData,r.override&&t.removeTweens(e)),this.pluginData||(this.pluginData={}),this._init(r)}var e=createjs.extend(t,createjs.AbstractTween);function i(t,e,i,r,s,n){this.next=null,this.prev=t,this.t=e,this.d=i,this.props=r,this.ease=s,this.passive=n,this.index=t?t.index+1:0}t.IGNORE={},t._tweens=[],t._plugins=null,t._tweenHead=null,t._tweenTail=null,t.get=function(e,i){return new t(e,i)},t.tick=function(e,i){for(var r=t._tweenHead;r;){var s=r._next;i&&!r.ignoreGlobalPause||r._paused||r.advance(r.useTicks?1:e),r=s}},t.handleEvent=function(t){"tick"===t.type&&this.tick(t.delta,t.paused)},t.removeTweens=function(e){if(e.tweenjs_count){for(var i=t._tweenHead;i;){var r=i._next;i.target===e&&t._register(i,!0),i=r}e.tweenjs_count=0}},t.removeAllTweens=function(){for(var e=t._tweenHead;e;){var i=e._next;e._paused=!0,e.target&&(e.target.tweenjs_count=0),e._next=e._prev=null,e=i}t._tweenHead=t._tweenTail=null},t.hasActiveTweens=function(e){return e?!!e.tweenjs_count:!!t._tweenHead},t._installPlugin=function(e){for(var i=e.priority=e.priority||0,r=t._plugins=t._plugins||[],s=0,n=r.length;s<n&&!(i<r[s].priority);s++);r.splice(s,0,e)},t._register=function(e,i){var r=e.target;if(!i&&e._paused){r&&(r.tweenjs_count=r.tweenjs_count?r.tweenjs_count+1:1);var s=t._tweenTail;s?(t._tweenTail=s._next=e,e._prev=s):t._tweenHead=t._tweenTail=e,!t._inited&&createjs.Ticker&&(createjs.Ticker.addEventListener("tick",t),t._inited=!0)}else if(i&&!e._paused){r&&r.tweenjs_count--;var n=e._next,a=e._prev;n?n._prev=a:t._tweenTail=a,a?a._next=n:t._tweenHead=n,e._next=e._prev=null}e._paused=i},e.wait=function(t,e){return t>0&&this._addStep(+t,this._stepTail.props,null,e),this},e.to=function(t,e,i){(null==e||e<0)&&(e=0);var r=this._addStep(+e,null,i);return this._appendProps(t,r),this},e.label=function(t){return this.addLabel(t,this.duration),this},e.call=function(t,e,i){return this._addAction(i||this.target,t,e||[this])},e.set=function(t,e){return this._addAction(e||this.target,this._set,[t])},e.play=function(t){return this._addAction(t||this,this._set,[{paused:!1}])},e.pause=function(t){return this._addAction(t||this,this._set,[{paused:!0}])},e.w=e.wait,e.t=e.to,e.c=e.call,e.s=e.set,e.toString=function(){return"[Tween]"},e.clone=function(){throw"Tween can not be cloned."},e._addPlugin=function(t){var e=this._pluginIds||(this._pluginIds={}),i=t.ID;if(i&&!e[i]){e[i]=!0;for(var r=this._plugins||(this._plugins=[]),s=t.priority||0,n=0,a=r.length;n<a;n++)if(s<r[n].priority)return void r.splice(n,0,t);r.push(t)}},e._updatePosition=function(t,e){var i=this._stepHead.next,r=this.position,s=this.duration;if(this.target&&i){for(var n=i.next;n&&n.t<=r;)n=(i=i.next).next;var a=e?0===s?1:r/s:(r-i.t)/i.d;this._updateTargetProps(i,a,e)}this._stepPosition=i?r-i.t:0},e._updateTargetProps=function(e,i,r){if(!(this.passive=!!e.passive)){var s,n,a,o,h=e.prev.props,c=e.props;(o=e.ease)&&(i=o(i,0,1,1));var u=this._plugins;t:for(var l in h){if(s=(n=h[l])!==(a=c[l])&&"number"==typeof n?n+(a-n)*i:i>=1?a:n,u)for(var d=0,_=u.length;d<_;d++){var p=u[d].change(this,e,l,s,i,r);if(p===t.IGNORE)continue t;void 0!==p&&(s=p)}this.target[l]=s}}},e._runActionsRange=function(t,e,i,r){var s=t>e,n=s?this._actionTail:this._actionHead,a=e,o=t;s&&(a=t,o=e);for(var h=this.position;n;){var c=n.t;if((c===e||c>o&&c<a||r&&c===t)&&(n.funct.apply(n.scope,n.params),h!==this.position))return!0;n=s?n.prev:n.next}},e._appendProps=function(e,i,r){var s,n,a,o,h,c=this._stepHead.props,u=this.target,l=t._plugins,d=i.prev,_=d.props,p=i.props||(i.props=this._cloneProps(_)),f={};for(s in e)if(e.hasOwnProperty(s)&&(f[s]=p[s]=e[s],void 0===c[s])){if(o=void 0,l)for(n=l.length-1;n>=0;n--)if(void 0!==(a=l[n].init(this,s,o))&&(o=a),o===t.IGNORE){delete p[s],delete f[s];break}o!==t.IGNORE&&(void 0===o&&(o=u[s]),_[s]=void 0===o?null:o)}for(s in f){a=e[s];for(var g,m=d;(g=m)&&(m=g.prev);)if(m.props!==g.props){if(void 0!==m.props[s])break;m.props[s]=_[s]}}if(!1!==r&&(l=this._plugins))for(n=l.length-1;n>=0;n--)l[n].step(this,i,f);(h=this._injected)&&(this._injected=null,this._appendProps(h,i,!1))},e._injectProp=function(t,e){(this._injected||(this._injected={}))[t]=e},e._addStep=function(t,e,r,s){var n=new i(this._stepTail,this.duration,t,e,r,s||!1);return this.duration+=t,this._stepTail=this._stepTail.next=n},e._addAction=function(t,e,i){var r=new function(t,e,i,r,s){this.next=null,this.prev=t,this.t=e,this.d=0,this.scope=i,this.funct=r,this.params=s}(this._actionTail,this.duration,t,e,i);return this._actionTail?this._actionTail.next=r:this._actionHead=r,this._actionTail=r,this},e._set=function(t){for(var e in t)this[e]=t[e]},e._cloneProps=function(t){var e={};for(var i in t)e[i]=t[i];return e},createjs.Tween=createjs.promote(t,"AbstractTween")}(),function(){"use strict";function t(t){var e,i;t instanceof Array||null==t&&arguments.length>1?(e=t,i=arguments[1],t=arguments[2]):t&&(e=t.tweens,i=t.labels),this.AbstractTween_constructor(t),this.tweens=[],e&&this.addTween.apply(this,e),this.setLabels(i),this._init(t)}var e=createjs.extend(t,createjs.AbstractTween);e.addTween=function(t){t._parent&&t._parent.removeTween(t);var e=arguments.length;if(e>1){for(var i=0;i<e;i++)this.addTween(arguments[i]);return arguments[e-1]}if(0===e)return null;this.tweens.push(t),t._parent=this,t.paused=!0;var r=t.duration;return t.loop>0&&(r*=t.loop+1),r>this.duration&&(this.duration=r),this.rawPosition>=0&&t.setPosition(this.rawPosition),t},e.removeTween=function(t){var e=arguments.length;if(e>1){for(var i=!0,r=0;r<e;r++)i=i&&this.removeTween(arguments[r]);return i}if(0===e)return!0;var s=this.tweens;for(r=s.length;r--;)if(s[r]===t)return s.splice(r,1),t._parent=null,t.duration>=this.duration&&this.updateDuration(),!0;return!1},e.updateDuration=function(){this.duration=0;for(var t=0,e=this.tweens.length;t<e;t++){var i=this.tweens[t],r=i.duration;i.loop>0&&(r*=i.loop+1),r>this.duration&&(this.duration=r)}},e.toString=function(){return"[Timeline]"},e.clone=function(){throw"Timeline can not be cloned."},e._updatePosition=function(t,e){for(var i=this.position,r=0,s=this.tweens.length;r<s;r++)this.tweens[r].setPosition(i,!0,t)},e._runActionsRange=function(t,e,i,r){for(var s=this.position,n=0,a=this.tweens.length;n<a;n++)if(this.tweens[n]._runActions(t,e,i,r),s!==this.position)return!0},createjs.Timeline=createjs.promote(t,"AbstractTween")}(),function(){"use strict";function t(){throw"Ease cannot be instantiated."}t.linear=function(t){return t},t.none=t.linear,t.get=function(t){return t<-1?t=-1:t>1&&(t=1),function(e){return 0==t?e:t<0?e*(e*-t+1+t):e*((2-e)*t+(1-t))}},t.getPowIn=function(t){return function(e){return Math.pow(e,t)}},t.getPowOut=function(t){return function(e){return 1-Math.pow(1-e,t)}},t.getPowInOut=function(t){return function(e){return(e*=2)<1?.5*Math.pow(e,t):1-.5*Math.abs(Math.pow(2-e,t))}},t.quadIn=t.getPowIn(2),t.quadOut=t.getPowOut(2),t.quadInOut=t.getPowInOut(2),t.cubicIn=t.getPowIn(3),t.cubicOut=t.getPowOut(3),t.cubicInOut=t.getPowInOut(3),t.quartIn=t.getPowIn(4),t.quartOut=t.getPowOut(4),t.quartInOut=t.getPowInOut(4),t.quintIn=t.getPowIn(5),t.quintOut=t.getPowOut(5),t.quintInOut=t.getPowInOut(5),t.sineIn=function(t){return 1-Math.cos(t*Math.PI/2)},t.sineOut=function(t){return Math.sin(t*Math.PI/2)},t.sineInOut=function(t){return-.5*(Math.cos(Math.PI*t)-1)},t.getBackIn=function(t){return function(e){return e*e*((t+1)*e-t)}},t.backIn=t.getBackIn(1.7),t.getBackOut=function(t){return function(e){return--e*e*((t+1)*e+t)+1}},t.backOut=t.getBackOut(1.7),t.getBackInOut=function(t){return t*=1.525,function(e){return(e*=2)<1?e*e*((t+1)*e-t)*.5:.5*((e-=2)*e*((t+1)*e+t)+2)}},t.backInOut=t.getBackInOut(1.7),t.circIn=function(t){return-(Math.sqrt(1-t*t)-1)},t.circOut=function(t){return Math.sqrt(1- --t*t)},t.circInOut=function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},t.bounceIn=function(e){return 1-t.bounceOut(1-e)},t.bounceOut=function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},t.bounceInOut=function(e){return e<.5?.5*t.bounceIn(2*e):.5*t.bounceOut(2*e-1)+.5},t.getElasticIn=function(t,e){var i=2*Math.PI;return function(r){if(0==r||1==r)return r;var s=e/i*Math.asin(1/t);return-t*Math.pow(2,10*(r-=1))*Math.sin((r-s)*i/e)}},t.elasticIn=t.getElasticIn(1,.3),t.getElasticOut=function(t,e){var i=2*Math.PI;return function(r){if(0==r||1==r)return r;var s=e/i*Math.asin(1/t);return t*Math.pow(2,-10*r)*Math.sin((r-s)*i/e)+1}},t.elasticOut=t.getElasticOut(1,.3),t.getElasticInOut=function(t,e){var i=2*Math.PI;return function(r){var s=e/i*Math.asin(1/t);return(r*=2)<1?t*Math.pow(2,10*(r-=1))*Math.sin((r-s)*i/e)*-.5:t*Math.pow(2,-10*(r-=1))*Math.sin((r-s)*i/e)*.5+1}},t.elasticInOut=t.getElasticInOut(1,.3*1.5),createjs.Ease=t}(),function(){"use strict";function t(){throw"MotionGuidePlugin cannot be instantiated."}var e=t;e.priority=0,e.ID="MotionGuide",e.install=function(){return createjs.Tween._installPlugin(t),createjs.Tween.IGNORE},e.init=function(t,i,r){"guide"==i&&t._addPlugin(e)},e.step=function(t,i,r){for(var s in r)if("guide"===s){var n=i.props.guide,a=e._solveGuideData(r.guide,n);n.valid=!a;var o=n.endData;if(t._injectProp("x",o.x),t._injectProp("y",o.y),a||!n.orient)break;var h=void 0===i.prev.props.rotation?t.target.rotation||0:i.prev.props.rotation;if(n.startOffsetRot=h-n.startData.rotation,"fixed"==n.orient)n.endAbsRot=o.rotation+n.startOffsetRot,n.deltaRotation=0;else{var c=void 0===r.rotation?t.target.rotation||0:r.rotation,u=c-n.endData.rotation-n.startOffsetRot,l=u%360;switch(n.endAbsRot=c,n.orient){case"auto":n.deltaRotation=u;break;case"cw":n.deltaRotation=(l+360)%360+360*Math.abs(u/360|0);break;case"ccw":n.deltaRotation=(l-360)%360+-360*Math.abs(u/360|0)}}t._injectProp("rotation",n.endAbsRot)}},e.change=function(t,i,r,s,n,a){var o=i.props.guide;if(o&&i.props!==i.prev.props&&o!==i.prev.props.guide)return"guide"===r&&!o.valid||"x"==r||"y"==r||"rotation"===r&&o.orient?createjs.Tween.IGNORE:void e._ratioToPositionData(n,o,t.target)},e.debug=function(t,i,r){t=t.guide||t;var s=e._findPathProblems(t);if(s&&console.error("MotionGuidePlugin Error found: \n"+s),!i)return s;var n=t.path,a=n.length;for(i.save(),i.lineCap="round",i.lineJoin="miter",i.beginPath(),i.moveTo(n[0],n[1]),u=2;u<a;u+=4)i.quadraticCurveTo(n[u],n[u+1],n[u+2],n[u+3]);i.strokeStyle="black",i.lineWidth=4.5,i.stroke(),i.strokeStyle="white",i.lineWidth=3,i.stroke(),i.closePath();var o=r.length;if(r&&o){var h={},c={};e._solveGuideData(t,h);for(var u=0;u<o;u++)h.orient="fixed",e._ratioToPositionData(r[u],h,c),i.beginPath(),i.moveTo(c.x,c.y),i.lineTo(c.x+9*Math.cos(.0174533*c.rotation),c.y+9*Math.sin(.0174533*c.rotation)),i.strokeStyle="black",i.lineWidth=4.5,i.stroke(),i.strokeStyle="red",i.lineWidth=3,i.stroke(),i.closePath()}return i.restore(),s},e._solveGuideData=function(t,i){var r;if(r=e.debug(t))return r;var s=i.path=t.path;i.orient=t.orient;i.subLines=[],i.totalLength=0,i.startOffsetRot=0,i.deltaRotation=0,i.startData={ratio:0},i.endData={ratio:1},i.animSpan=1;var n,a,o,h,c,u,l,d,_,p=s.length,f={};for(n=s[0],a=s[1],l=2;l<p;l+=4){o=s[l],h=s[l+1],c=s[l+2],u=s[l+3];var g={weightings:[],estLength:0,portion:0},m=n,v=a;for(d=1;d<=10;d++){e._getParamsForCurve(n,a,o,h,c,u,d/10,!1,f);var T=f.x-m,b=f.y-v;_=Math.sqrt(T*T+b*b),g.weightings.push(_),g.estLength+=_,m=f.x,v=f.y}for(i.totalLength+=g.estLength,d=0;d<10;d++)_=g.estLength,g.weightings[d]=g.weightings[d]/_;i.subLines.push(g),n=c,a=u}_=i.totalLength;var E=i.subLines.length;for(l=0;l<E;l++)i.subLines[l].portion=i.subLines[l].estLength/_;var y=isNaN(t.start)?0:t.start,S=isNaN(t.end)?1:t.end;e._ratioToPositionData(y,i,i.startData),e._ratioToPositionData(S,i,i.endData),i.startData.ratio=y,i.endData.ratio=S,i.animSpan=i.endData.ratio-i.startData.ratio},e._ratioToPositionData=function(t,i,r){var s,n,a,o,h,c=i.subLines,u=0,l=t*i.animSpan+i.startData.ratio;for(n=c.length,s=0;s<n;s++){if(u+(o=c[s].portion)>=l){h=s;break}u+=o}void 0===h&&(h=n-1,u-=o);var d=c[h].weightings,_=o;for(n=d.length,s=0;s<n&&!(u+(o=d[s]*_)>=l);s++)u+=o;h=4*h+2,a=s/10+(l-u)/o*.1;var p=i.path;return e._getParamsForCurve(p[h-2],p[h-1],p[h],p[h+1],p[h+2],p[h+3],a,i.orient,r),i.orient&&(t>=.99999&&t<=1.00001&&void 0!==i.endAbsRot?r.rotation=i.endAbsRot:r.rotation+=i.startOffsetRot+t*i.deltaRotation),r},e._getParamsForCurve=function(t,e,i,r,s,n,a,o,h){var c=1-a;h.x=c*c*t+2*c*a*i+a*a*s,h.y=c*c*e+2*c*a*r+a*a*n,o&&(h.rotation=57.2957795*Math.atan2((r-e)*c+(n-r)*a,(i-t)*c+(s-i)*a))},e._findPathProblems=function(t){var e=t.path,i=e&&e.length||0;if(i<6||(i-2)%4){var r="\tCannot parse 'path' array due to invalid number of entries in path. ";return r+="There should be an odd number of points, at least 3 points, and 2 entries per point (x & y). ",r+="See 'CanvasRenderingContext2D.quadraticCurveTo' for details as 'path' models a quadratic bezier.\n\n",r+="Only [ "+i+" ] values found. Expected: "+Math.max(4*Math.ceil((i-2)/4)+2,6)}for(var s=0;s<i;s++)if(isNaN(e[s]))return"All data in path array must be numeric";var n=t.start;if(isNaN(n)&&void 0!==n)return"'start' out of bounds. Expected 0 to 1, got: "+n;var a=t.end;if(isNaN(a)&&void 0!==a)return"'end' out of bounds. Expected 0 to 1, got: "+a;var o=t.orient;return o&&"fixed"!=o&&"auto"!=o&&"cw"!=o&&"ccw"!=o?'Invalid orientation value. Expected ["fixed", "auto", "cw", "ccw", undefined], got: '+o:void 0},createjs.MotionGuidePlugin=t}(),function(){"use strict";var t=createjs.TweenJS=createjs.TweenJS||{};t.version="NEXT",t.buildDate="Thu, 14 Sep 2017 22:19:45 GMT"}(),function t(e,i,r){function s(a,o){if(!i[a]){if(!e[a]){var h="function"==typeof require&&require;if(!o&&h)return h(a,!0);if(n)return n(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var u=i[a]={exports:{}};e[a][0].call(u.exports,function(t){var i=e[a][1][t];return s(i||t)},u,u.exports,t,e,i,r)}return i[a].exports}for(var n="function"==typeof require&&require,a=0;a<r.length;a++)s(r[a]);return s}({1:[function(t,e,i){"use strict";window.addEventListener("load",function(){var t=new createjs.StageGL("main"),e=t.canvas.width,i=t.canvas.height,r=new createjs.LoadQueue(!1);r.addEventListener("complete",function(){var s=new createjs.Shape;s.graphics.beginBitmapFill(r.getResult("sky")).drawRect(0,0,e,i),s.cache(0,0,e,i);var n=r.getResult("ground"),a=new createjs.Shape;a.graphics.beginBitmapFill(n).drawRect(0,0,e+n.width,n.height),a.tileW=n.width,a.y=i-n.height,a.cache(0,0,e+n.width,n.height);var o=new createjs.Bitmap(r.getResult("hill1"));o.setTransform(Math.random()*e,i-4*o.image.height-n.height,4,4),o.alpha=.5;var h=new createjs.Bitmap(r.getResult("hill2"));h.setTransform(Math.random()*e,i-3*h.image.height-n.height,3,3),t.addChild(s,a,o,h),createjs.Ticker.timingMode=createjs.Ticker.RAF,createjs.Ticker.addEventListener("tick",function(i){var r=i.delta/1e3;a.x=(a.x-150*r)%a.tileW,o.x=o.x-30*r,o.x+o.image.width*o.scaleX<=0&&(o.x=e),h.x=h.x-45*r,h.x+h.image.width*h.scaleX<=0&&(h.x=e),t.update(i)})}),r.loadManifest([{src:"spritesheet_grant.png",id:"grant"},{src:"sky.png",id:"sky"},{src:"ground.png",id:"ground"},{src:"hill1.png",id:"hill1"},{src:"hill2.png",id:"hill2"}],!0,"images/demo/")})},{}]},{},[1]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNyZWF0ZWpzLmpzIl0sIm5hbWVzIjpbInRoaXMiLCJjcmVhdGVqcyIsImV4dGVuZCIsInN1YmNsYXNzIiwic3VwZXJjbGFzcyIsIm8iLCJjb25zdHJ1Y3RvciIsInByb3RvdHlwZSIsInByb21vdGUiLCJwcmVmaXgiLCJzdWJQIiwic3VwUCIsIk9iamVjdCIsImdldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwibiIsImhhc093blByb3BlcnR5IiwiaW5kZXhPZiIsImFycmF5Iiwic2VhcmNoRWxlbWVudCIsImkiLCJsIiwibGVuZ3RoIiwiVUlEIiwiX25leHRJRCIsImdldCIsImRlcHJlY2F0ZSIsImZhbGxiYWNrTWV0aG9kIiwibmFtZSIsIm1zZyIsImNvbnNvbGUiLCJ3YXJuIiwibG9nIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJFdmVudCIsInR5cGUiLCJidWJibGVzIiwiY2FuY2VsYWJsZSIsInRhcmdldCIsImN1cnJlbnRUYXJnZXQiLCJldmVudFBoYXNlIiwidGltZVN0YW1wIiwiRGF0ZSIsImdldFRpbWUiLCJkZWZhdWx0UHJldmVudGVkIiwicHJvcGFnYXRpb25TdG9wcGVkIiwiaW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkIiwicmVtb3ZlZCIsInAiLCJwcmV2ZW50RGVmYXVsdCIsInN0b3BQcm9wYWdhdGlvbiIsInN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbiIsInJlbW92ZSIsImNsb25lIiwic2V0IiwicHJvcHMiLCJ0b1N0cmluZyIsIkV2ZW50RGlzcGF0Y2hlciIsIl9saXN0ZW5lcnMiLCJfY2FwdHVyZUxpc3RlbmVycyIsImluaXRpYWxpemUiLCJhZGRFdmVudExpc3RlbmVyIiwib24iLCJyZW1vdmVFdmVudExpc3RlbmVyIiwib2ZmIiwicmVtb3ZlQWxsRXZlbnRMaXN0ZW5lcnMiLCJoYXNFdmVudExpc3RlbmVyIiwiZGlzcGF0Y2hFdmVudCIsIl9kaXNwYXRjaEV2ZW50Iiwid2lsbFRyaWdnZXIiLCJsaXN0ZW5lciIsInVzZUNhcHR1cmUiLCJsaXN0ZW5lcnMiLCJhcnIiLCJwdXNoIiwic2NvcGUiLCJvbmNlIiwiZGF0YSIsImhhbmRsZUV2ZW50IiwiZXZ0IiwiY2FsbCIsInNwbGljZSIsImV2ZW50T2JqIiwiZSIsInBhcmVudCIsInRvcCIsImxpc3QiLCJjYXB0dXJlTGlzdGVuZXJzIiwic2xpY2UiLCJUaWNrZXIiLCJSQUZfU1lOQ0hFRCIsIlJBRiIsIlRJTUVPVVQiLCJ0aW1pbmdNb2RlIiwibWF4RGVsdGEiLCJwYXVzZWQiLCJfYWRkRXZlbnRMaXN0ZW5lciIsIl9pbml0ZWQiLCJpbml0IiwiX3N0YXJ0VGltZSIsIl9wYXVzZWRUaW1lIiwiX3RpY2tzIiwiX3BhdXNlZFRpY2tzIiwiX2ludGVydmFsIiwiX2xhc3RUaW1lIiwiX3RpbWVzIiwiX3RpY2tUaW1lcyIsIl90aW1lcklkIiwiX3JhZiIsIl9zZXRJbnRlcnZhbCIsImludGVydmFsIiwiX3NldHVwVGljayIsInNldEludGVydmFsIiwiX2dldEludGVydmFsIiwiZ2V0SW50ZXJ2YWwiLCJfc2V0RlBTIiwidmFsdWUiLCJzZXRGUFMiLCJfZ2V0RlBTIiwiZ2V0RlBTIiwiZGVmaW5lUHJvcGVydGllcyIsImZyYW1lcmF0ZSIsIl9nZXRUaW1lIiwicmVzZXQiLCJmIiwid2luZG93IiwiY2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJ3ZWJraXRDYW5jZWxBbmltYXRpb25GcmFtZSIsIm1vekNhbmNlbEFuaW1hdGlvbkZyYW1lIiwib0NhbmNlbEFuaW1hdGlvbkZyYW1lIiwibXNDYW5jZWxBbmltYXRpb25GcmFtZSIsImNsZWFyVGltZW91dCIsImdldE1lYXN1cmVkVGlja1RpbWUiLCJ0aWNrcyIsInR0bCIsInRpbWVzIiwiTWF0aCIsIm1pbiIsImdldE1lYXN1cmVkRlBTIiwicnVuVGltZSIsImdldEV2ZW50VGltZSIsImdldFRpY2tzIiwicGF1c2VhYmxlIiwiX2hhbmRsZVN5bmNoIiwiX3RpY2siLCJfaGFuZGxlUkFGIiwiX2hhbmRsZVRpbWVvdXQiLCJtb2RlIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwid2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwibW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwib1JlcXVlc3RBbmltYXRpb25GcmFtZSIsIm1zUmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwic2V0VGltZW91dCIsInRpbWUiLCJlbGFwc2VkVGltZSIsImV2ZW50IiwiZGVsdGEiLCJ1bnNoaWZ0IiwicG9wIiwidyIsIm5vdyIsInBlcmZvcm1hbmNlIiwibW96Tm93IiwibXNOb3ciLCJvTm93Iiwid2Via2l0Tm93IiwiVmlkZW9CdWZmZXIiLCJ2aWRlbyIsInJlYWR5U3RhdGUiLCJfdmlkZW8iLCJfY2FudmFzIiwiX3ZpZGVvUmVhZHkiLCJiaW5kIiwiZ2V0SW1hZ2UiLCJjYW52YXMiLCJjcmVhdGVDYW52YXMiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJ3aWR0aCIsInZpZGVvV2lkdGgiLCJoZWlnaHQiLCJ2aWRlb0hlaWdodCIsImN1cnJlbnRUaW1lIiwiY3R4IiwiZ2V0Q29udGV4dCIsImNsZWFyUmVjdCIsImRyYXdJbWFnZSIsIk1vdXNlRXZlbnQiLCJzdGFnZVgiLCJzdGFnZVkiLCJuYXRpdmVFdmVudCIsInBvaW50ZXJJRCIsInByaW1hcnkiLCJyYXdYIiwicmF3WSIsInJlbGF0ZWRUYXJnZXQiLCJFdmVudF9jb25zdHJ1Y3RvciIsIl9nZXRfbG9jYWxYIiwiZ2xvYmFsVG9Mb2NhbCIsIngiLCJfZ2V0X2xvY2FsWSIsInkiLCJfZ2V0X2lzVG91Y2giLCJsb2NhbFgiLCJsb2NhbFkiLCJpc1RvdWNoIiwiTWF0cml4MkQiLCJhIiwiYiIsImMiLCJkIiwidHgiLCJ0eSIsInNldFZhbHVlcyIsIkRFR19UT19SQUQiLCJQSSIsImlkZW50aXR5IiwiYXBwZW5kIiwiYTEiLCJiMSIsImMxIiwiZDEiLCJwcmVwZW5kIiwidHgxIiwiYXBwZW5kTWF0cml4IiwibWF0cml4IiwicHJlcGVuZE1hdHJpeCIsImFwcGVuZFRyYW5zZm9ybSIsInNjYWxlWCIsInNjYWxlWSIsInJvdGF0aW9uIiwic2tld1giLCJza2V3WSIsInJlZ1giLCJyZWdZIiwiciIsImNvcyIsInNpbiIsInByZXBlbmRUcmFuc2Zvcm0iLCJyb3RhdGUiLCJhbmdsZSIsInNrZXciLCJzY2FsZSIsInRyYW5zbGF0ZSIsImludmVydCIsImlzSWRlbnRpdHkiLCJlcXVhbHMiLCJ0cmFuc2Zvcm1Qb2ludCIsInB0IiwiZGVjb21wb3NlIiwic3FydCIsImF0YW4yIiwiYWJzIiwiY29weSIsIkRpc3BsYXlQcm9wcyIsInZpc2libGUiLCJhbHBoYSIsInNoYWRvdyIsImNvbXBvc2l0ZU9wZXJhdGlvbiIsIlBvaW50IiwicG9pbnQiLCJSZWN0YW5nbGUiLCJwYWQiLCJsZWZ0IiwiYm90dG9tIiwicmlnaHQiLCJyZWN0YW5nbGUiLCJjb250YWlucyIsInVuaW9uIiwicmVjdCIsImludGVyc2VjdGlvbiIsIngxIiwieTEiLCJ4MiIsInkyIiwiaW50ZXJzZWN0cyIsImlzRW1wdHkiLCJCdXR0b25IZWxwZXIiLCJvdXRMYWJlbCIsIm92ZXJMYWJlbCIsImRvd25MYWJlbCIsInBsYXkiLCJoaXRBcmVhIiwiaGl0TGFiZWwiLCJfaXNQcmVzc2VkIiwiX2lzT3ZlciIsIl9lbmFibGVkIiwibW91c2VDaGlsZHJlbiIsImVuYWJsZWQiLCJhY3Rpb25zRW5hYmxlZCIsImdvdG9BbmRTdG9wIiwiX3NldEVuYWJsZWQiLCJjdXJzb3IiLCJfcmVzZXQiLCJfX3Jlc2V0Iiwic2V0RW5hYmxlZCIsIl9nZXRFbmFibGVkIiwiZ2V0RW5hYmxlZCIsImxhYmVsIiwidCIsImdvdG9BbmRQbGF5IiwiU2hhZG93IiwiY29sb3IiLCJvZmZzZXRYIiwib2Zmc2V0WSIsImJsdXIiLCJTcHJpdGVTaGVldCIsIkV2ZW50RGlzcGF0Y2hlcl9jb25zdHJ1Y3RvciIsImNvbXBsZXRlIiwiX2FuaW1hdGlvbnMiLCJfZnJhbWVzIiwiX2ltYWdlcyIsIl9kYXRhIiwiX2xvYWRDb3VudCIsIl9mcmFtZUhlaWdodCIsIl9mcmFtZVdpZHRoIiwiX251bUZyYW1lcyIsIl9yZWdYIiwiX3JlZ1kiLCJfc3BhY2luZyIsIl9tYXJnaW4iLCJfcGFyc2VEYXRhIiwiX2dldEFuaW1hdGlvbnMiLCJnZXRBbmltYXRpb25zIiwiYW5pbWF0aW9ucyIsImdldE51bUZyYW1lcyIsImFuaW1hdGlvbiIsImZyYW1lcyIsImdldEFuaW1hdGlvbiIsImdldEZyYW1lIiwiZnJhbWVJbmRleCIsImZyYW1lIiwiZ2V0RnJhbWVCb3VuZHMiLCJpbWFnZXMiLCJpbWciLCJzcmMiLCJuYXR1cmFsV2lkdGgiLCJvbmxvYWQiLCJfaGFuZGxlSW1hZ2VMb2FkIiwib25lcnJvciIsIl9oYW5kbGVJbWFnZUVycm9yIiwiQXJyYXkiLCJpc0FycmF5IiwiaW1hZ2UiLCJzcGFjaW5nIiwibWFyZ2luIiwiY291bnQiLCJfY2FsY3VsYXRlRnJhbWVzIiwiYW5pbSIsIm9iaiIsInNwZWVkIiwibmV4dCIsInVuZGVmaW5lZCIsImVycm9yRXZlbnQiLCJtYXhGcmFtZXMiLCJmcmFtZUNvdW50IiwiZnJhbWVXaWR0aCIsImZyYW1lSGVpZ2h0IiwiaW1nTG9vcCIsImltZ3MiLCJpbWdXIiwiaW1nSCIsIm5hdHVyYWxIZWlnaHQiLCJHcmFwaGljcyIsImNvbW1hbmQiLCJfc3Ryb2tlIiwiX3N0cm9rZVN0eWxlIiwiX29sZFN0cm9rZVN0eWxlIiwiX3N0cm9rZURhc2giLCJfb2xkU3Ryb2tlRGFzaCIsIl9zdHJva2VJZ25vcmVTY2FsZSIsIl9maWxsIiwiX2luc3RydWN0aW9ucyIsIl9jb21taXRJbmRleCIsIl9hY3RpdmVJbnN0cnVjdGlvbnMiLCJfZGlydHkiLCJfc3RvcmVJbmRleCIsImNsZWFyIiwiRyIsImdldFJHQiIsImciLCJnZXRIU0wiLCJodWUiLCJzYXR1cmF0aW9uIiwibGlnaHRuZXNzIiwiQkFTRV82NCIsIkEiLCJCIiwiQyIsIkQiLCJFIiwiRiIsIkgiLCJJIiwiSiIsIksiLCJMIiwiTSIsIk4iLCJPIiwiUCIsIlEiLCJSIiwiUyIsIlQiLCJVIiwiViIsIlciLCJYIiwiWSIsIloiLCJoIiwiaiIsImsiLCJtIiwicSIsInMiLCJ1IiwidiIsInoiLCIwIiwiMSIsIjIiLCIzIiwiNCIsIjUiLCI2IiwiNyIsIjgiLCI5IiwiKyIsIi8iLCJTVFJPS0VfQ0FQU19NQVAiLCJTVFJPS0VfSk9JTlRTX01BUCIsIl9jdHgiLCJfZ2V0SW5zdHJ1Y3Rpb25zIiwiX3VwZGF0ZUluc3RydWN0aW9ucyIsImdldEluc3RydWN0aW9ucyIsImluc3RydWN0aW9ucyIsImRyYXciLCJpbnN0ciIsImV4ZWMiLCJkcmF3QXNQYXRoIiwiaW5zdHJzIiwicGF0aCIsIm1vdmVUbyIsIk1vdmVUbyIsImxpbmVUbyIsIkxpbmVUbyIsImFyY1RvIiwicmFkaXVzIiwiQXJjVG8iLCJhcmMiLCJzdGFydEFuZ2xlIiwiZW5kQW5nbGUiLCJhbnRpY2xvY2t3aXNlIiwiQXJjIiwicXVhZHJhdGljQ3VydmVUbyIsImNweCIsImNweSIsIlF1YWRyYXRpY0N1cnZlVG8iLCJiZXppZXJDdXJ2ZVRvIiwiY3AxeCIsImNwMXkiLCJjcDJ4IiwiY3AyeSIsIkJlemllckN1cnZlVG8iLCJSZWN0IiwiY2xvc2VQYXRoIiwiQ2xvc2VQYXRoIiwiYmVnaW5GaWxsIiwiX3NldEZpbGwiLCJGaWxsIiwiYmVnaW5MaW5lYXJHcmFkaWVudEZpbGwiLCJjb2xvcnMiLCJyYXRpb3MiLCJ4MCIsInkwIiwibGluZWFyR3JhZGllbnQiLCJiZWdpblJhZGlhbEdyYWRpZW50RmlsbCIsInIwIiwicjEiLCJyYWRpYWxHcmFkaWVudCIsImJlZ2luQml0bWFwRmlsbCIsInJlcGV0aXRpb24iLCJiaXRtYXAiLCJlbmRGaWxsIiwic2V0U3Ryb2tlU3R5bGUiLCJ0aGlja25lc3MiLCJjYXBzIiwiam9pbnRzIiwibWl0ZXJMaW1pdCIsImlnbm9yZVNjYWxlIiwiU3Ryb2tlU3R5bGUiLCJzZXRTdHJva2VEYXNoIiwic2VnbWVudHMiLCJvZmZzZXQiLCJTdHJva2VEYXNoIiwiYmVnaW5TdHJva2UiLCJfc2V0U3Ryb2tlIiwiU3Ryb2tlIiwiYmVnaW5MaW5lYXJHcmFkaWVudFN0cm9rZSIsImJlZ2luUmFkaWFsR3JhZGllbnRTdHJva2UiLCJiZWdpbkJpdG1hcFN0cm9rZSIsImVuZFN0cm9rZSIsImN1cnZlVG8iLCJkcmF3UmVjdCIsImRyYXdSb3VuZFJlY3QiLCJkcmF3Um91bmRSZWN0Q29tcGxleCIsInJhZGl1c1RMIiwicmFkaXVzVFIiLCJyYWRpdXNCUiIsInJhZGl1c0JMIiwiUm91bmRSZWN0IiwiZHJhd0NpcmNsZSIsIkNpcmNsZSIsImRyYXdFbGxpcHNlIiwiRWxsaXBzZSIsImRyYXdQb2x5U3RhciIsInNpZGVzIiwicG9pbnRTaXplIiwiUG9seVN0YXIiLCJjbGVhbiIsImRlY29kZVBhdGgiLCJzdHIiLCJwYXJhbUNvdW50IiwicGFyYW1zIiwiYmFzZTY0IiwiY2hhckF0IiwiZmkiLCJwbCIsImNoYXJDb3VudCIsIm51bSIsInNpZ24iLCJzdG9yZSIsInVuc3RvcmUiLCJtdCIsImx0IiwiYXQiLCJidCIsInF0IiwiY3AiLCJsZiIsInJmIiwiYmYiLCJlZiIsInNzIiwic2QiLCJscyIsInJzIiwiYnMiLCJlcyIsImRyIiwicnIiLCJyYyIsImRjIiwiZGUiLCJkcCIsImNvbW1pdCIsImFjdGl2ZSIsImNvbW1pdEluZGV4IiwiYmVnaW5DbWQiLCJsbCIsImZpbGwiLCJzdHJva2UiLCJCZWdpblBhdGgiLCJiZWdpblBhdGgiLCJzdHlsZSIsImZpbGxTdHlsZSIsIm10eCIsInNhdmUiLCJ0cmFuc2Zvcm0iLCJyZXN0b3JlIiwiY3JlYXRlTGluZWFyR3JhZGllbnQiLCJhZGRDb2xvclN0b3AiLCJjcmVhdGVSYWRpYWxHcmFkaWVudCIsImNyZWF0ZVBhdHRlcm4iLCJzdHJva2VTdHlsZSIsInNldFRyYW5zZm9ybSIsImxpbmVXaWR0aCIsImxpbmVDYXAiLCJpc05hTiIsImxpbmVKb2luIiwic2V0TGluZURhc2giLCJFTVBUWV9TRUdNRU5UUyIsImxpbmVEYXNoT2Zmc2V0IiwibWF4IiwibVRMIiwibVRSIiwibUJSIiwibUJMIiwiclRMIiwiclRSIiwickJSIiwickJMIiwib3giLCJveSIsInhlIiwieWUiLCJ4bSIsInltIiwicHMiLCJEaXNwbGF5T2JqZWN0IiwiY2FjaGVDYW52YXMiLCJiaXRtYXBDYWNoZSIsImlkIiwibW91c2VFbmFibGVkIiwidGlja0VuYWJsZWQiLCJ0cmFuc2Zvcm1NYXRyaXgiLCJzbmFwVG9QaXhlbCIsImZpbHRlcnMiLCJtYXNrIiwiX3Byb3BzIiwiX3JlY3RhbmdsZSIsIl9ib3VuZHMiLCJfd2ViR0xSZW5kZXJTdHlsZSIsIl9TdGFnZUdMX05PTkUiLCJfTU9VU0VfRVZFTlRTIiwic3VwcHJlc3NDcm9zc0RvbWFpbkVycm9ycyIsIl9zbmFwVG9QaXhlbEVuYWJsZWQiLCJfU3RhZ2VHTF9TUFJJVEUiLCJfU3RhZ2VHTF9CSVRNQVAiLCJfaGl0VGVzdENhbnZhcyIsIl9oaXRUZXN0Q29udGV4dCIsIl9nZXRTdGFnZSIsIl9TdGFnZSIsImdldFN0YWdlIiwic3RhZ2UiLCJjYWNoZUlEIiwiaXNWaXNpYmxlIiwiaWdub3JlQ2FjaGUiLCJjYWNoZSIsInVwZGF0ZUNvbnRleHQiLCJncmFwaGljcyIsImdldE1hdHJpeCIsImNsaXAiLCJnbG9iYWxBbHBoYSIsImdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiIsIl9hcHBseVNoYWRvdyIsIm9wdGlvbnMiLCJCaXRtYXBDYWNoZSIsImRlZmluZSIsInVwZGF0ZUNhY2hlIiwidXBkYXRlIiwidW5jYWNoZSIsInJlbGVhc2UiLCJnZXRDYWNoZURhdGFVUkwiLCJnZXREYXRhVVJMIiwibG9jYWxUb0dsb2JhbCIsImdldENvbmNhdGVuYXRlZE1hdHJpeCIsImxvY2FsVG9Mb2NhbCIsImdldENvbmNhdGVuYXRlZERpc3BsYXlQcm9wcyIsImhpdFRlc3QiLCJoaXQiLCJfdGVzdEhpdCIsImdldEJvdW5kcyIsIl9jYWNoZVNjYWxlIiwiX2NhY2hlT2Zmc2V0WCIsIl9jYWNoZU9mZnNldFkiLCJnZXRUcmFuc2Zvcm1lZEJvdW5kcyIsIl9nZXRCb3VuZHMiLCJzZXRCb3VuZHMiLCJfY2xvbmVQcm9wcyIsIl91cGRhdGVTdGF0ZSIsInNoYWRvd0NvbG9yIiwic2hhZG93T2Zmc2V0WCIsInNoYWRvd09mZnNldFkiLCJzaGFkb3dCbHVyIiwiZXZ0T2JqIiwiZ2V0SW1hZ2VEYXRhIiwiaWdub3JlVHJhbnNmb3JtIiwiX3RyYW5zZm9ybUJvdW5kcyIsImJvdW5kcyIsInhfYSIsInhfYiIsInlfYyIsInlfZCIsIm1pblgiLCJtYXhYIiwibWluWSIsIm1heFkiLCJfaGFzTW91c2VFdmVudExpc3RlbmVyIiwiZXZ0cyIsIkNvbnRhaW5lciIsIkRpc3BsYXlPYmplY3RfY29uc3RydWN0b3IiLCJjaGlsZHJlbiIsInRpY2tDaGlsZHJlbiIsIl9nZXROdW1DaGlsZHJlbiIsImdldE51bUNoaWxkcmVuIiwibnVtQ2hpbGRyZW4iLCJoYXNDb250ZW50IiwiRGlzcGxheU9iamVjdF9kcmF3IiwiY2hpbGQiLCJhZGRDaGlsZCIsInBhciIsInNpbGVudCIsIl9yZW1vdmVDaGlsZEF0IiwiYWRkQ2hpbGRBdCIsImluZGV4IiwiaW5keCIsInJlbW92ZUNoaWxkIiwiZ29vZCIsInJlbW92ZUNoaWxkQXQiLCJzb3J0IiwicmVtb3ZlQWxsQ2hpbGRyZW4iLCJraWRzIiwiZ2V0Q2hpbGRBdCIsImdldENoaWxkQnlOYW1lIiwic29ydENoaWxkcmVuIiwic29ydEZ1bmN0aW9uIiwiZ2V0Q2hpbGRJbmRleCIsInN3YXBDaGlsZHJlbkF0IiwiaW5kZXgxIiwiaW5kZXgyIiwibzEiLCJvMiIsInN3YXBDaGlsZHJlbiIsImNoaWxkMSIsImNoaWxkMiIsInNldENoaWxkSW5kZXgiLCJnZXRPYmplY3RVbmRlclBvaW50IiwiZ2V0T2JqZWN0c1VuZGVyUG9pbnQiLCJfZ2V0T2JqZWN0c1VuZGVyUG9pbnQiLCJyZWN1cnNpdmUiLCJfY2xvbmVDaGlsZHJlbiIsIkRpc3BsYXlPYmplY3RfX3RpY2siLCJtb3VzZSIsImFjdGl2ZUxpc3RlbmVyIiwiY3VycmVudERlcHRoIiwiX3Rlc3RNYXNrIiwicmVzdWx0IiwiRGlzcGxheU9iamVjdF9nZXRCb3VuZHMiLCJTdGFnZSIsIkNvbnRhaW5lcl9jb25zdHJ1Y3RvciIsImF1dG9DbGVhciIsImdldEVsZW1lbnRCeUlkIiwibW91c2VYIiwibW91c2VZIiwic25hcFRvUGl4ZWxFbmFibGVkIiwibW91c2VJbkJvdW5kcyIsInRpY2tPblVwZGF0ZSIsIm1vdXNlTW92ZU91dHNpZGUiLCJwcmV2ZW50U2VsZWN0aW9uIiwiX3BvaW50ZXJEYXRhIiwiX3BvaW50ZXJDb3VudCIsIl9wcmltYXJ5UG9pbnRlcklEIiwiX21vdXNlT3ZlckludGVydmFsSUQiLCJfbmV4dFN0YWdlIiwiX3ByZXZTdGFnZSIsImVuYWJsZURPTUV2ZW50cyIsIl9nZXRfbmV4dFN0YWdlIiwiX3NldF9uZXh0U3RhZ2UiLCJuZXh0U3RhZ2UiLCJ0aWNrIiwidG9EYXRhVVJMIiwiYmFja2dyb3VuZENvbG9yIiwibWltZVR5cGUiLCJmaWxsUmVjdCIsImRhdGFVUkwiLCJwdXRJbWFnZURhdGEiLCJlbmFibGVNb3VzZU92ZXIiLCJmcmVxdWVuY3kiLCJjbGVhckludGVydmFsIiwiX3Rlc3RNb3VzZU92ZXIiLCJlbmFibGUiLCJfZXZlbnRMaXN0ZW5lcnMiLCJfdGhpcyIsIl9oYW5kbGVNb3VzZVVwIiwiX2hhbmRsZU1vdXNlTW92ZSIsIl9oYW5kbGVEb3VibGVDbGljayIsIl9oYW5kbGVNb3VzZURvd24iLCJfZ2V0RWxlbWVudFJlY3QiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJlcnIiLCJvZmZzZXRUb3AiLCJvZmZzZXRMZWZ0Iiwib2Zmc2V0V2lkdGgiLCJvZmZzZXRIZWlnaHQiLCJvZmZYIiwicGFnZVhPZmZzZXQiLCJzY3JvbGxMZWZ0IiwiY2xpZW50TGVmdCIsImJvZHkiLCJvZmZZIiwicGFnZVlPZmZzZXQiLCJzY3JvbGxUb3AiLCJjbGllbnRUb3AiLCJzdHlsZXMiLCJnZXRDb21wdXRlZFN0eWxlIiwiY3VycmVudFN0eWxlIiwicGFkTCIsInBhcnNlSW50IiwicGFkZGluZ0xlZnQiLCJib3JkZXJMZWZ0V2lkdGgiLCJwYWRUIiwicGFkZGluZ1RvcCIsImJvcmRlclRvcFdpZHRoIiwicGFkUiIsInBhZGRpbmdSaWdodCIsImJvcmRlclJpZ2h0V2lkdGgiLCJwYWRCIiwicGFkZGluZ0JvdHRvbSIsImJvcmRlckJvdHRvbVdpZHRoIiwiX2dldFBvaW50ZXJEYXRhIiwiX2hhbmRsZVBvaW50ZXJNb3ZlIiwicGFnZVgiLCJwYWdlWSIsIm93bmVyIiwiaW5Cb3VuZHMiLCJfdXBkYXRlUG9pbnRlclBvc2l0aW9uIiwiX2Rpc3BhdGNoTW91c2VFdmVudCIsInBvc0V2dE9iaiIsIl9oYW5kbGVQb2ludGVyVXAiLCJvVGFyZ2V0IiwiZG93biIsIl9oYW5kbGVQb2ludGVyRG93biIsImV2ZW50VGFyZ2V0IiwiX21vdXNlT3ZlclgiLCJfbW91c2VPdmVyWSIsImlzRXZlbnRUYXJnZXQiLCJjb21tb24iLCJvbGRMaXN0IiwiX21vdXNlT3ZlclRhcmdldCIsIm9sZFRhcmdldCIsInBvaW50ZXJJZCIsIlN0YWdlR0wiLCJTdGFnZV9jb25zdHJ1Y3RvciIsInByZW11bHRpcGx5IiwidHJhbnNwYXJlbnQiLCJhbnRpYWxpYXMiLCJwcmVzZXJ2ZUJ1ZmZlciIsImF1dG9QdXJnZSIsInZvY2FsRGVidWciLCJfcHJlc2VydmVCdWZmZXIiLCJfYW50aWFsaWFzIiwiX3RyYW5zcGFyZW50IiwiX3ByZW11bHRpcGx5IiwiX2F1dG9QdXJnZSIsIl92aWV3cG9ydFdpZHRoIiwiX3ZpZXdwb3J0SGVpZ2h0IiwiX3Byb2plY3Rpb25NYXRyaXgiLCJfd2ViR0xDb250ZXh0IiwiX2NsZWFyQ29sb3IiLCJfbWF4Q2FyZHNQZXJCYXRjaCIsIkRFRkFVTFRfTUFYX0JBVENIX1NJWkUiLCJfYWN0aXZlU2hhZGVyIiwiX3ZlcnRpY2VzIiwiX3ZlcnRleFBvc2l0aW9uQnVmZmVyIiwiX3V2cyIsIl91dlBvc2l0aW9uQnVmZmVyIiwiX2luZGljZXMiLCJfdGV4dHVyZUluZGV4QnVmZmVyIiwiX2FscGhhcyIsIl9hbHBoYUJ1ZmZlciIsIl90ZXh0dXJlRGljdGlvbmFyeSIsIl90ZXh0dXJlSURzIiwiX2JhdGNoVGV4dHVyZXMiLCJfYmFzZVRleHR1cmVzIiwiX2JhdGNoVGV4dHVyZUNvdW50IiwiX2xhc3RUZXh0dXJlSW5zZXJ0IiwiX2JhdGNoSUQiLCJfZHJhd0lEIiwiX3Nsb3RCbGFja2xpc3QiLCJfaXNEcmF3aW5nIiwiX2xhc3RUcmFja2VkQ2FudmFzIiwiaXNDYWNoZUNvbnRyb2xsZWQiLCJfY2FjaGVDb250YWluZXIiLCJfaW5pdGlhbGl6ZVdlYkdMIiwiYnVpbGRVVlJlY3RzIiwic3ByaXRlc2hlZXQiLCJvbmx5VGFyZ2V0Iiwic3RhcnQiLCJlbmQiLCJ1dlJlY3QiLCJpc1dlYkdMQWN0aXZlIiwiV2ViR0xSZW5kZXJpbmdDb250ZXh0IiwiVkVSVEVYX1BST1BFUlRZX0NPVU5UIiwiSU5ESUNJRVNfUEVSX0NBUkQiLCJXRUJHTF9NQVhfSU5ERVhfTlVNIiwicG93IiwiVVZfUkVDVCIsIkNPVkVSX1ZFUlQiLCJGbG9hdDMyQXJyYXkiLCJDT1ZFUl9VViIsIkNPVkVSX1VWX0ZMSVAiLCJSRUdVTEFSX1ZBUllJTkdfSEVBREVSIiwiUkVHVUxBUl9WRVJURVhfSEVBREVSIiwiUkVHVUxBUl9GUkFHTUVOVF9IRUFERVIiLCJSRUdVTEFSX1ZFUlRFWF9CT0RZIiwiUkVHVUxBUl9GUkFHTUVOVF9CT0RZIiwiUkVHVUxBUl9GUkFHX0NPTE9SX05PUk1BTCIsIlJFR1VMQVJfRlJBR19DT0xPUl9QUkVNVUxUSVBMWSIsIlBBUlRJQ0xFX1ZFUlRFWF9CT0RZIiwiUEFSVElDTEVfRlJBR01FTlRfQk9EWSIsIkNPVkVSX1ZBUllJTkdfSEVBREVSIiwiQ09WRVJfVkVSVEVYX0hFQURFUiIsIkNPVkVSX0ZSQUdNRU5UX0hFQURFUiIsIkNPVkVSX1ZFUlRFWF9CT0RZIiwiQ09WRVJfRlJBR01FTlRfQk9EWSIsIl9nZXRfaXNXZWJHTCIsIl9zZXRfYXV0b1B1cmdlIiwiX2dldF9hdXRvUHVyZ2UiLCJOdW1iZXIiLCJpc1dlYkdMIiwiZGVwdGgiLCJzdGVuY2lsIiwicHJlbXVsdGlwbGllZEFscGhhIiwicHJlc2VydmVEcmF3aW5nQnVmZmVyIiwiZ2wiLCJfZmV0Y2hXZWJHTENvbnRleHQiLCJ1cGRhdGVTaW11bHRhbmVvdXNUZXh0dXJlQ291bnQiLCJnZXRQYXJhbWV0ZXIiLCJNQVhfVEVYVFVSRV9JTUFHRV9VTklUUyIsIl9tYXhUZXh0dXJlU2xvdHMiLCJNQVhfQ09NQklORURfVEVYVFVSRV9JTUFHRV9VTklUUyIsIl9jcmVhdGVCdWZmZXJzIiwiX2luaXRUZXh0dXJlcyIsImRpc2FibGUiLCJERVBUSF9URVNUIiwiQkxFTkQiLCJibGVuZEZ1bmNTZXBhcmF0ZSIsIlNSQ19BTFBIQSIsIk9ORV9NSU5VU19TUkNfQUxQSEEiLCJPTkUiLCJwaXhlbFN0b3JlaSIsIlVOUEFDS19QUkVNVUxUSVBMWV9BTFBIQV9XRUJHTCIsImNsZWFyQ29sb3IiLCJ1cGRhdGVWaWV3cG9ydCIsIl9iYXRjaERyYXciLCJwdXJnZVRleHR1cmVzIiwiY2MiLCJhZGp1c3QiLCJDT0xPUl9CVUZGRVJfQklUIiwiU3RhZ2VfY2xlYXIiLCJjb250ZXh0IiwiU3RhZ2VfZHJhdyIsImNhY2hlRHJhdyIsIm1hbmFnZXIiLCJfY2FjaGVEcmF3IiwicHJvdGVjdFRleHR1cmVTbG90IiwibG9jayIsImdldFRhcmdldFJlbmRlclRleHR1cmUiLCJ0b2dnbGUiLCJfX2xhc3RSVCIsIl9fcnRBIiwiX19ydEIiLCJnZXRSZW5kZXJCdWZmZXJUZXh0dXJlIiwiX3dpZHRoIiwiX2hlaWdodCIsInJlc2l6ZVRleHR1cmUiLCJzZXRUZXh0dXJlUGFyYW1zIiwicmVsZWFzZVRleHR1cmUiLCJpdGVtIiwiZm91bmRJbWFnZSIsIl9zdG9yZUlEIiwiX2tpbGxUZXh0dXJlT2JqZWN0Iiwic3ByaXRlU2hlZXQiLCJkaWN0Iiwic3VjY2VzcyIsIl9mZXRjaFNoYWRlclByb2dyYW0iLCJ2aWV3cG9ydCIsIl9wcm9qZWN0aW9uTWF0cml4RmxpcCIsImdldEZpbHRlclNoYWRlciIsImZpbHRlciIsInRhcmdldFNoYWRlciIsIl9idWlsdFNoYWRlciIsInNoYWRlclBhcmFtU2V0dXAiLCJ1c2VQcm9ncmFtIiwiVlRYX1NIQURFUl9CT0RZIiwiRlJBR19TSEFERVJfQk9EWSIsIl9uYW1lIiwiZ2V0QmFzZVRleHR1cmUiLCJjZWlsIiwidGV4dHVyZSIsImNyZWF0ZVRleHR1cmUiLCJiaW5kVGV4dHVyZSIsIlRFWFRVUkVfMkQiLCJ0ZXhJbWFnZTJEIiwiUkdCQSIsIlVOU0lHTkVEX0JZVEUiLCJyZW5kZXJUZXh0dXJlIiwiZnJhbWVCdWZmZXIiLCJjcmVhdGVGcmFtZWJ1ZmZlciIsImJpbmRGcmFtZWJ1ZmZlciIsIkZSQU1FQlVGRkVSIiwiZnJhbWVidWZmZXJUZXh0dXJlMkQiLCJDT0xPUl9BVFRBQ0hNRU5UMCIsIl9yZW5kZXJUZXh0dXJlIiwiX2ZyYW1lQnVmZmVyIiwiaXNQT1QiLCJ0ZXhQYXJhbWV0ZXJpIiwiVEVYVFVSRV9NSU5fRklMVEVSIiwiTElORUFSIiwiVEVYVFVSRV9NQUdfRklMVEVSIiwiTkVBUkVTVCIsIlRFWFRVUkVfV1JBUF9TIiwiQ0xBTVBfVE9fRURHRSIsIlRFWFRVUkVfV1JBUF9UIiwic2V0Q2xlYXJDb2xvciIsIm91dHB1dCIsInNwbGl0Iiwidmlld3BvcnRXaWR0aCIsInZpZXdwb3J0SGVpZ2h0IiwiZXJyb3IiLCJzaGFkZXJOYW1lIiwiY3VzdG9tVlRYIiwiY3VzdG9tRlJBRyIsInRhcmdldEZyYWciLCJ0YXJnZXRWdHgiLCJ2ZXJ0ZXhTaGFkZXIiLCJfY3JlYXRlU2hhZGVyIiwiVkVSVEVYX1NIQURFUiIsImZyYWdtZW50U2hhZGVyIiwiRlJBR01FTlRfU0hBREVSIiwic2hhZGVyUHJvZ3JhbSIsImNyZWF0ZVByb2dyYW0iLCJhdHRhY2hTaGFkZXIiLCJsaW5rUHJvZ3JhbSIsIl90eXBlIiwiZ2V0UHJvZ3JhbVBhcmFtZXRlciIsIkxJTktfU1RBVFVTIiwiZ2V0UHJvZ3JhbUluZm9Mb2ciLCJ2ZXJ0ZXhQb3NpdGlvbkF0dHJpYnV0ZSIsImdldEF0dHJpYkxvY2F0aW9uIiwiZW5hYmxlVmVydGV4QXR0cmliQXJyYXkiLCJ1dlBvc2l0aW9uQXR0cmlidXRlIiwic2FtcGxlclVuaWZvcm0iLCJnZXRVbmlmb3JtTG9jYXRpb24iLCJ1bmlmb3JtMWkiLCJ1cHJpZ2h0VW5pZm9ybSIsInVuaWZvcm0xZiIsInRleHR1cmVJbmRleEF0dHJpYnV0ZSIsImFscGhhQXR0cmlidXRlIiwic2FtcGxlcnMiLCJzYW1wbGVyRGF0YSIsInVuaWZvcm0xaXYiLCJwTWF0cml4VW5pZm9ybSIsInJlcGxhY2UiLCJpbnNlcnQiLCJzaGFkZXIiLCJjcmVhdGVTaGFkZXIiLCJzaGFkZXJTb3VyY2UiLCJjb21waWxlU2hhZGVyIiwiZ2V0U2hhZGVyUGFyYW1ldGVyIiwiQ09NUElMRV9TVEFUVVMiLCJnZXRTaGFkZXJJbmZvTG9nIiwiZ3JvdXBTaXplIiwiZ3JvdXBDb3VudCIsInZlcnRleFBvc2l0aW9uQnVmZmVyIiwiY3JlYXRlQnVmZmVyIiwiYmluZEJ1ZmZlciIsIkFSUkFZX0JVRkZFUiIsInZlcnRpY2VzIiwiYnVmZmVyRGF0YSIsIkRZTkFNSUNfRFJBVyIsIml0ZW1TaXplIiwibnVtSXRlbXMiLCJ1dlBvc2l0aW9uQnVmZmVyIiwidXZzIiwidGV4dHVyZUluZGV4QnVmZmVyIiwiaW5kaWNlcyIsImFscGhhQnVmZmVyIiwiYWxwaGFzIiwidGV4IiwiX2xvYWRUZXh0dXJlSW1hZ2UiLCJfaXNDYW52YXMiLCJzdG9yZUlEIiwiX2ltYWdlRGF0YSIsIl9pbnNlcnRUZXh0dXJlSW5CYXRjaCIsIl91cGRhdGVUZXh0dXJlSW1hZ2VEYXRhIiwiaXNOUE9UIiwiYWN0aXZlVGV4dHVyZSIsIlRFWFRVUkUwIiwiX2FjdGl2ZUluZGV4IiwiZXJyU3RyaW5nIiwiX2ludmFsaWQiLCJfdyIsIl9oIiwiTUFYX1RFWFRVUkVfU0laRSIsImZvdW5kIiwibG9vayIsImJhdGNoUmVhc29uIiwiX2RyYXdCdWZmZXJzIiwiYmF0Y2hDYXJkQ291bnQiLCJkZWxldGVGcmFtZWJ1ZmZlciIsImRlbGV0ZVRleHR1cmUiLCJfYmFja3VwQmF0Y2hUZXh0dXJlcyIsIl9iYWNrdXBUZXh0dXJlcyIsInNjZW5lR3JhcGgiLCJfYXBwZW5kVG9CYXRjaEdyb3VwIiwic2hhZGVyQmFja3VwIiwiYmxhY2tMaXN0QmFja3VwIiwibGFzdFRleHR1cmVTbG90Iiwid0JhY2t1cCIsImhCYWNrdXAiLCJjb250YWluZXIiLCJfZHJhd0ZpbHRlcnMiLCJfZHJhd1dpZHRoIiwiX2RyYXdIZWlnaHQiLCJmaWx0ZXJDb3VudCIsImZsaXBZIiwiX2RyYXdDb3ZlciIsIl9tdWx0aVBhc3MiLCJjb25jYXRNdHgiLCJjb25jYXRBbHBoYSIsIl9nbE10eCIsInN1YkwiLCJzdWJUIiwic3ViUiIsInN1YkIiLCJjTXR4IiwidGV4SW5kZXgiLCJpTXR4IiwidXNlQ2FjaGUiLCJjdXJyZW50RnJhbWUiLCJ0ZXhJIiwic291cmNlUmVjdCIsIl91dlJlY3QiLCJfZmlsdGVyT2ZmWCIsIl9maWx0ZXJPZmZZIiwib2ZmVjEiLCJvZmZWMiIsInZlcnRleEF0dHJpYlBvaW50ZXIiLCJGTE9BVCIsImJ1ZmZlclN1YkRhdGEiLCJ1bmlmb3JtTWF0cml4NGZ2IiwiRkFMU0UiLCJkcmF3QXJyYXlzIiwiVFJJQU5HTEVTIiwiQml0bWFwIiwiaW1hZ2VPclVyaSIsIm5vZGUiLCJjbG9uZU5vZGUiLCJTcHJpdGUiLCJmcmFtZU9yQW5pbWF0aW9uIiwiY3VycmVudEFuaW1hdGlvbiIsImN1cnJlbnRBbmltYXRpb25GcmFtZSIsIl9hbmltYXRpb24iLCJfY3VycmVudEZyYW1lIiwiX3NraXBBZHZhbmNlIiwiX25vcm1hbGl6ZUZyYW1lIiwic3RvcCIsIl9nb3RvIiwiYWR2YW5jZSIsImZwcyIsIkRpc3BsYXlPYmplY3RfX2Nsb25lUHJvcHMiLCJmcmFtZURlbHRhIiwiYW5pbUZyYW1lIiwiX2Rpc3BhdGNoQW5pbWF0aW9uRW5kIiwiY2hhbmdlZCIsIlNoYXBlIiwiVGV4dCIsInRleHQiLCJmb250IiwidGV4dEFsaWduIiwidGV4dEJhc2VsaW5lIiwibWF4V2lkdGgiLCJvdXRsaW5lIiwibGluZUhlaWdodCIsIl93b3JraW5nQ29udGV4dCIsIkhfT0ZGU0VUUyIsImNlbnRlciIsIlZfT0ZGU0VUUyIsImhhbmdpbmciLCJtaWRkbGUiLCJhbHBoYWJldGljIiwiaWRlb2dyYXBoaWMiLCJjb2wiLCJfZHJhd1RleHQiLCJfcHJlcENvbnRleHQiLCJnZXRNZWFzdXJlZFdpZHRoIiwiX2dldE1lYXN1cmVkV2lkdGgiLCJnZXRNZWFzdXJlZExpbmVIZWlnaHQiLCJnZXRNZWFzdXJlZEhlaWdodCIsImdldE1ldHJpY3MiLCJsaW5lcyIsInZPZmZzZXQiLCJzdWJzdHIiLCJwYWludCIsIm1heFciLCJoYXJkTGluZXMiLCJTdHJpbmciLCJtZWFzdXJlVGV4dCIsIndvcmRzIiwiamwiLCJ3b3JkVyIsIl9kcmF3VGV4dExpbmUiLCJzdHJva2VUZXh0IiwiZmlsbFRleHQiLCJCaXRtYXBUZXh0IiwibGV0dGVyU3BhY2luZyIsInNwYWNlV2lkdGgiLCJfb2xkUHJvcHMiLCJfb2xkU3RhZ2UiLCJfZHJhd0FjdGlvbiIsIm1heFBvb2xTaXplIiwiX3Nwcml0ZVBvb2wiLCJDb250YWluZXJfZHJhdyIsIl91cGRhdGVUZXh0IiwiQ29udGFpbmVyX2dldEJvdW5kcyIsIkNvbnRhaW5lcl9fY2xvbmVQcm9wcyIsIl9nZXRGcmFtZUluZGV4IiwiY2hhcmFjdGVyIiwidG9VcHBlckNhc2UiLCJ0b0xvd2VyQ2FzZSIsIl9nZXRGcmFtZSIsIl9nZXRMaW5lSGVpZ2h0IiwiX2dldFNwYWNlV2lkdGgiLCJzcHJpdGUiLCJjaGFuZ2UiLCJzcGFjZVciLCJsaW5lSCIsInBvb2wiLCJjaGlsZEluZGV4IiwibnVtS2lkcyIsImhhc1NwYWNlIiwiTW92aWVDbGlwIiwic3RhcnRQb3NpdGlvbiIsImxvb3AiLCJsYWJlbHMiLCJpbml0ZWQiLCJJTkRFUEVOREVOVCIsImF1dG9SZXNldCIsImZyYW1lQm91bmRzIiwidXNlVGlja3MiLCJ0aW1lbGluZSIsIlRpbWVsaW5lIiwiX3N5bmNoT2Zmc2V0IiwiX3Jhd1Bvc2l0aW9uIiwiX2JvdW5kX3Jlc29sdmVTdGF0ZSIsIl9yZXNvbHZlU3RhdGUiLCJfdCIsIl9tYW5hZ2VkIiwiU0lOR0xFX0ZSQU1FIiwiU1lOQ0hFRCIsIk1vdmllQ2xpcFBsdWdpbiIsImluc3RhbGwiLCJfZ2V0TGFiZWxzIiwiZ2V0TGFiZWxzIiwiX2dldEN1cnJlbnRMYWJlbCIsImN1cnJlbnRMYWJlbCIsImdldEN1cnJlbnRMYWJlbCIsIl9nZXREdXJhdGlvbiIsImR1cmF0aW9uIiwiZ2V0RHVyYXRpb24iLCJ0b3RhbEZyYW1lcyIsInBvc2l0aW9uT3JMYWJlbCIsImluZGVwZW5kZW50IiwiX2ZyYW1lcmF0ZSIsIl91cGRhdGVUaW1lbGluZSIsIkNvbnRhaW5lcl9fdGljayIsInBvcyIsInJlc29sdmUiLCJyYXdQb3NpdGlvbiIsImp1bXAiLCJzeW5jZWQiLCJ0bCIsInNldFBvc2l0aW9uIiwiX3JlbmRlckZpcnN0RnJhbWUiLCJwb3NpdGlvbiIsInR3ZWVucyIsInR3ZWVuIiwicGFzc2l2ZSIsIl9zdGVwUG9zaXRpb24iLCJfYWRkTWFuYWdlZENoaWxkIiwiX3NldFN0YXRlIiwic3RhdGUiLCJfb2ZmIiwiQ29udGFpbmVyX19nZXRCb3VuZHMiLCJwcmlvcml0eSIsIklEIiwiVHdlZW4iLCJfaW5zdGFsbFBsdWdpbiIsInByb3AiLCJfYWRkUGx1Z2luIiwic3RlcCIsInJhdGlvIiwicHJldiIsIlNwcml0ZVNoZWV0VXRpbHMiLCJfd29ya2luZ0NhbnZhcyIsImV4dHJhY3RGcmFtZSIsImFkZEZsaXBwZWRGcmFtZXMiLCJtZXJnZUFscGhhIiwiX2ZsaXAiLCJpbCIsIl9fdG1wIiwiZmwiLCJzZngiLCJuYW1lcyIsImFsIiwiU3ByaXRlU2hlZXRCdWlsZGVyIiwibWF4SGVpZ2h0IiwicGFkZGluZyIsInRpbWVTbGljZSIsInByb2dyZXNzIiwiX25leHRGcmFtZUluZGV4IiwiX2luZGV4IiwiX3RpbWVySUQiLCJfc2NhbGUiLCJFUlJfRElNRU5TSU9OUyIsIkVSUl9SVU5OSU5HIiwiYWRkRnJhbWUiLCJzb3VyY2UiLCJzZXR1cEZ1bmN0aW9uIiwic2V0dXBEYXRhIiwibm9taW5hbEJvdW5kcyIsImZ1bmN0IiwiYWRkQW5pbWF0aW9uIiwiYWRkTW92aWVDbGlwIiwibGFiZWxGdW5jdGlvbiIsInJlY3RzIiwiYmFzZUZyYW1lSW5kZXgiLCJfc2V0dXBNb3ZpZUNsaXBGcmFtZSIsIl9sYWJlbHMiLCJsYmxzIiwiYnVpbGQiLCJfc3RhcnRCdWlsZCIsIl9kcmF3TmV4dCIsIl9lbmRCdWlsZCIsImJ1aWxkQXN5bmMiLCJfcnVuIiwic3RvcEFzeW5jIiwiZGF0YUZyYW1lcyIsIl9maWxsUm93IiwiX2dldFNpemUiLCJhZSIsInNpemUiLCJzYyIsInJ4IiwiZmxvb3IiLCJyeSIsInJoIiwicnciLCJyb3VuZCIsInRzIiwiRE9NRWxlbWVudCIsImh0bWxFbGVtZW50IiwidHJhbnNmb3JtT3JpZ2luIiwiV2Via2l0VHJhbnNmb3JtT3JpZ2luIiwibXNUcmFuc2Zvcm1PcmlnaW4iLCJNb3pUcmFuc2Zvcm1PcmlnaW4iLCJPVHJhbnNmb3JtT3JpZ2luIiwiX2hhbmRsZURyYXdFbmQiLCJ2aXNpYmlsaXR5Iiwib2xkUHJvcHMiLCJvbGRNdHgiLCJXZWJraXRUcmFuc2Zvcm0iLCJPVHJhbnNmb3JtIiwibXNUcmFuc2Zvcm0iLCJNb3pUcmFuc2Zvcm0iLCJvcGFjaXR5IiwiRmlsdGVyIiwidXNlc0NvbnRleHQiLCJhcHBseUZpbHRlciIsInRhcmdldEN0eCIsInRhcmdldFgiLCJ0YXJnZXRZIiwiaW1hZ2VEYXRhIiwiX2FwcGx5RmlsdGVyIiwiX2NhY2hlRGF0YVVSTElEIiwiX2NhY2hlRGF0YVVSTCIsImdldEZpbHRlckJvdW5kcyIsInRlc3QiLCJfb3B0aW9ucyIsImZpbHRlckJvdW5kcyIsInN1cmZhY2UiLCJfdXBkYXRlU3VyZmFjZSIsIl9kcmF3VG9DYWNoZSIsIl93ZWJHTENhY2hlIiwidXNlR0wiLCJzdGFnZUdMIiwid2ViR0wiLCJfYXBwbHlGaWx0ZXJzIiwiQmx1ckZpbHRlciIsImJsdXJYIiwiYmx1clkiLCJxdWFsaXR5IiwiRmlsdGVyX2NvbnN0cnVjdG9yIiwiX2JsdXJYIiwiX2JsdXJYVGFibGUiLCJfbGFzdEJsdXJYIiwiX2JsdXJZIiwiX2JsdXJZVGFibGUiLCJfbGFzdEJsdXJZIiwiX3F1YWxpdHkiLCJfbGFzdFF1YWxpdHkiLCJGUkFHX1NIQURFUl9URU1QTEFURSIsInNldFF1YWxpdHkiLCJnZXRCbHVyWCIsImdldEJsdXJZIiwic2V0Qmx1clgiLCJzZXRCbHVyWSIsImdldFF1YWxpdHkiLCJfZ2V0U2hhZGVyIiwieENoYW5nZSIsInlDaGFuZ2UiLCJxQ2hhbmdlIiwiX2dldFRhYmxlIiwiX3VwZGF0ZVNoYWRlciIsIl9jb21waWxlZFNoYWRlciIsIl9zZXRTaGFkZXIiLCJzcHJlYWQiLCJmYWN0b3IiLCJyZWR1Y2UiLCJtYXAiLCJjdXJyZW50VmFsdWUiLCJ0b0ZpeGVkIiwidW5pZm9ybTFmdiIsInVuaWZvcm0yZiIsIk1VTF9UQUJMRSIsIlNIR19UQUJMRSIsInJhZGl1c1giLCJyYWRpdXNZIiwiaXRlcmF0aW9ucyIsInB4IiwieXAiLCJ5aSIsInl3IiwicHIiLCJwZyIsInBiIiwicGEiLCJkaXZ4IiwiZGl2eSIsIncxIiwiaDEiLCJyeHAxIiwicnlwMSIsInNzeCIsInN4Iiwic3N5Iiwic3kiLCJzaSIsInN0eCIsIm10eSIsInN0eSIsIm1zIiwiQWxwaGFNYXBGaWx0ZXIiLCJhbHBoYU1hcCIsIl9hbHBoYU1hcCIsIl9tYXBEYXRhIiwiX21hcFRleHR1cmUiLCJURVhUVVJFMSIsIl9wcmVwQWxwaGFNYXAiLCJIVE1MQ2FudmFzRWxlbWVudCIsImltZ0RhdGEiLCJBbHBoYU1hc2tGaWx0ZXIiLCJDb2xvckZpbHRlciIsInJlZE11bHRpcGxpZXIiLCJncmVlbk11bHRpcGxpZXIiLCJibHVlTXVsdGlwbGllciIsImFscGhhTXVsdGlwbGllciIsInJlZE9mZnNldCIsImdyZWVuT2Zmc2V0IiwiYmx1ZU9mZnNldCIsImFscGhhT2Zmc2V0IiwidW5pZm9ybTRmIiwiQ29sb3JNYXRyaXgiLCJicmlnaHRuZXNzIiwiY29udHJhc3QiLCJzZXRDb2xvciIsIkRFTFRBX0lOREVYIiwiSURFTlRJVFlfTUFUUklYIiwiTEVOR1RIIiwiYWRqdXN0Q29sb3IiLCJhZGp1c3RIdWUiLCJhZGp1c3RDb250cmFzdCIsImFkanVzdEJyaWdodG5lc3MiLCJhZGp1c3RTYXR1cmF0aW9uIiwiX2NsZWFuVmFsdWUiLCJfbXVsdGlwbHlNYXRyaXgiLCJjb3NWYWwiLCJzaW5WYWwiLCJsdW1SIiwibHVtRyIsImx1bUIiLCJjb25jYXQiLCJfZml4TWF0cml4IiwidG9BcnJheSIsInZhbCIsImxpbWl0IiwiQ29sb3JNYXRyaXhGaWx0ZXIiLCJtYXQiLCJjb2xvck1hdHJpeCIsIm0wIiwibTEiLCJtMiIsIm0zIiwibTQiLCJtNSIsIm02IiwibTciLCJtOCIsIm05IiwibTEwIiwibTExIiwibTEyIiwibTEzIiwibTE0IiwibTE1IiwibTE2IiwibTE3IiwibTE4IiwibTE5IiwiVG91Y2giLCJpc1N1cHBvcnRlZCIsIm5hdmlnYXRvciIsInNpbmdsZVRvdWNoIiwiYWxsb3dEZWZhdWx0IiwiX190b3VjaCIsInBvaW50ZXJzIiwibXVsdGl0b3VjaCIsIl9JT1NfZW5hYmxlIiwiX0lFX2VuYWJsZSIsIl9JT1NfZGlzYWJsZSIsIl9JRV9kaXNhYmxlIiwiX0lPU19oYW5kbGVFdmVudCIsInRvdWNoZXMiLCJjaGFuZ2VkVG91Y2hlcyIsInRvdWNoIiwiaWRlbnRpZmllciIsIl9oYW5kbGVTdGFydCIsIl9oYW5kbGVNb3ZlIiwiX2hhbmRsZUVuZCIsIl9JRV9oYW5kbGVFdmVudCIsIm1zVG91Y2hBY3Rpb24iLCJ0b3VjaEFjdGlvbiIsImFjdGl2ZUlEcyIsImlkcyIsInNyY0VsZW1lbnQiLCJFYXNlbEpTIiwidmVyc2lvbiIsImJ1aWxkRGF0ZSIsIlByZWxvYWRKUyIsInByb3h5IiwibWV0aG9kIiwiYUFyZ3MiLCJFcnJvckV2ZW50IiwidGl0bGUiLCJtZXNzYWdlIiwiUHJvZ3Jlc3NFdmVudCIsImxvYWRlZCIsInRvdGFsIiwiaXNMb2FkZXIiLCJhbWQiLCJvYmplY3RUeXBlcyIsImZ1bmN0aW9uIiwib2JqZWN0IiwiZnJlZUV4cG9ydHMiLCJleHBvcnRzIiwibm9kZVR5cGUiLCJyb290IiwiZnJlZUdsb2JhbCIsIm1vZHVsZSIsImdsb2JhbCIsInJ1bkluQ29udGV4dCIsIlN5bnRheEVycm9yIiwiVHlwZUVycm9yIiwibmF0aXZlSlNPTiIsInN0cmluZ2lmeSIsInBhcnNlIiwiaXNQcm9wZXJ0eSIsImZvckVhY2giLCJ1bmRlZiIsIm9iamVjdFByb3RvIiwiZ2V0Q2xhc3MiLCJpc0V4dGVuZGVkIiwiZ2V0VVRDRnVsbFllYXIiLCJnZXRVVENNb250aCIsImdldFVUQ0RhdGUiLCJnZXRVVENIb3VycyIsImdldFVUQ01pbnV0ZXMiLCJnZXRVVENTZWNvbmRzIiwiZ2V0VVRDTWlsbGlzZWNvbmRzIiwiZXhjZXB0aW9uIiwiaGFzIiwic2VyaWFsaXplZCIsInN0cmluZ2lmeVN1cHBvcnRlZCIsInRvSlNPTiIsInBhcnNlU3VwcG9ydGVkIiwiZnVuY3Rpb25DbGFzcyIsIm51bWJlckNsYXNzIiwic3RyaW5nQ2xhc3MiLCJhcnJheUNsYXNzIiwiY2hhckluZGV4QnVnZ3kiLCJNb250aHMiLCJnZXREYXkiLCJ5ZWFyIiwibW9udGgiLCJwcm9wZXJ0eSIsIm1lbWJlcnMiLCJvcmlnaW5hbCIsImNhbGxiYWNrIiwiUHJvcGVydGllcyIsInZhbHVlT2YiLCJpc0Z1bmN0aW9uIiwiaXNDb25zdHJ1Y3RvciIsImhhc1Byb3BlcnR5IiwiRXNjYXBlcyIsIjkyIiwiMzQiLCIxMiIsIjEwIiwiMTMiLCJ0b1BhZGRlZFN0cmluZyIsInF1b3RlIiwidXNlQ2hhckluZGV4Iiwic3ltYm9scyIsImNoYXJDb2RlIiwiY2hhckNvZGVBdCIsInNlcmlhbGl6ZSIsInByb3BlcnRpZXMiLCJ3aGl0ZXNwYWNlIiwiaW5kZW50YXRpb24iLCJzdGFjayIsImNsYXNzTmFtZSIsImRhdGUiLCJob3VycyIsIm1pbnV0ZXMiLCJzZWNvbmRzIiwibWlsbGlzZWNvbmRzIiwicmVzdWx0cyIsImVsZW1lbnQiLCJqb2luIiwiSW5kZXgiLCJTb3VyY2UiLCJmcm9tQ2hhckNvZGUiLCJVbmVzY2FwZXMiLCI0NyIsIjk4IiwiMTE2IiwiMTEwIiwiMTAyIiwiMTE0IiwiYWJvcnQiLCJsZXgiLCJiZWdpbiIsImlzU2lnbmVkIiwiaGFzTWVtYmVycyIsIndhbGsiLCJKU09OIiwicHJldmlvdXNKU09OIiwiaXNSZXN0b3JlZCIsIkpTT04zIiwibm9Db25mbGljdCIsImVsIiwic3ZnIiwibGluayIsInNjcmlwdCIsImF1ZGlvIiwiY3JlYXRlVGV4dE5vZGUiLCJFbGVtZW50cyIsIkFCU09MVVRFX1BBVFQiLCJSRUxBVElWRV9QQVRUIiwiRVhURU5TSU9OX1BBVFQiLCJwYXJzZVVSSSIsImluZm8iLCJhYnNvbHV0ZSIsInJlbGF0aXZlIiwicHJvdG9jb2wiLCJob3N0bmFtZSIsInBvcnQiLCJwYXRobmFtZSIsInNlYXJjaCIsImhhc2giLCJob3N0IiwicGFyc2VyIiwiaHJlZiIsIm1hdGNoIiwicXVlcnlJbmRleCIsImV4dGVuc2lvbiIsImZvcm1hdFF1ZXJ5U3RyaW5nIiwicXVlcnkiLCJFcnJvciIsImVzY2FwZSIsImJ1aWxkVVJJIiwiaWR4IiwiaXNDcm9zc0RvbWFpbiIsImxvY2F0aW9uIiwiaXNMb2NhbCIsIlVSTFV0aWxzIiwiYXBwZW5kVG9IZWFkIiwiZ2V0SGVhZCIsImFwcGVuZENoaWxkIiwiYXBwZW5kVG9Cb2R5Iiwib3ZlcmZsb3ciLCJ3ZWJraXRUcmFuc2Zvcm0iLCJvVHJhbnNmb3JtIiwiZ2V0Qm9keSIsImhlYWQiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImlzSW1hZ2VUYWciLCJIVE1MSW1hZ2VFbGVtZW50IiwiaXNBdWRpb1RhZyIsIkhUTUxBdWRpb0VsZW1lbnQiLCJpc1ZpZGVvVGFnIiwiSFRNTFZpZGVvRWxlbWVudCIsIkRvbVV0aWxzIiwicGFyc2VYTUwiLCJ4bWwiLCJET01QYXJzZXIiLCJwYXJzZUZyb21TdHJpbmciLCJBY3RpdmVYT2JqZWN0IiwiYXN5bmMiLCJsb2FkWE1MIiwicGFyc2VKU09OIiwiRGF0YVV0aWxzIiwiQklOQVJZIiwiQ1NTIiwiRk9OVCIsIkZPTlRDU1MiLCJJTUFHRSIsIkpBVkFTQ1JJUFQiLCJKU09OUCIsIk1BTklGRVNUIiwiU09VTkQiLCJWSURFTyIsIlNQUklURVNIRUVUIiwiU1ZHIiwiVEVYVCIsIlhNTCIsIlR5cGVzIiwiUE9TVCIsIkdFVCIsIk1ldGhvZHMiLCJMb2FkSXRlbSIsIm1haW50YWluT3JkZXIiLCJ2YWx1ZXMiLCJoZWFkZXJzIiwid2l0aENyZWRlbnRpYWxzIiwiY3Jvc3NPcmlnaW4iLCJsb2FkVGltZW91dCIsIkxPQURfVElNRU9VVF9ERUZBVUxUIiwiY3JlYXRlIiwiaXNCaW5hcnkiLCJpc1RleHQiLCJnZXRUeXBlQnlFeHRlbnNpb24iLCJSZXF1ZXN0VXRpbHMiLCJBYnN0cmFjdExvYWRlciIsImxvYWRJdGVtIiwicHJlZmVyWEhSIiwiY2FuY2VsZWQiLCJyZXN1bHRGb3JtYXR0ZXIiLCJfaXRlbSIsIl9wcmVmZXJYSFIiLCJfcmVzdWx0IiwiX3Jhd1Jlc3VsdCIsIl9sb2FkZWRJdGVtcyIsIl90YWdTcmNBdHRyaWJ1dGUiLCJfdGFnIiwiZ2V0SXRlbSIsImdldFJlc3VsdCIsInJhdyIsImdldFRhZyIsInNldFRhZyIsInRhZyIsImxvYWQiLCJfY3JlYXRlUmVxdWVzdCIsIl9yZXF1ZXN0IiwibG9hZGVyIiwiY2FuY2VsIiwiZGVzdHJveSIsIl9sb2FkSXRlbXMiLCJnZXRMb2FkZWRJdGVtcyIsIlhIUlJlcXVlc3QiLCJUYWdSZXF1ZXN0IiwiX2NyZWF0ZVRhZyIsIl9zZW5kTG9hZFN0YXJ0IiwiX2lzQ2FuY2VsZWQiLCJfc2VuZFByb2dyZXNzIiwiSW5maW5pdHkiLCJfc2VuZENvbXBsZXRlIiwicmF3UmVzdWx0IiwiX3NlbmRFcnJvciIsIl9yZXNwb25zZSIsIkZ1bmN0aW9uIiwiX3Jlc3VsdEZvcm1hdFN1Y2Nlc3MiLCJfcmVzdWx0Rm9ybWF0RmFpbGVkIiwiQWJzdHJhY3RNZWRpYUxvYWRlciIsIkFic3RyYWN0TG9hZGVyX2NvbnN0cnVjdG9yIiwiX2Zvcm1hdFJlc3VsdCIsIl91cGRhdGVYSFIiLCJwcmVsb2FkIiwiQWJzdHJhY3RMb2FkZXJfbG9hZCIsIk1lZGlhVGFnUmVxdWVzdCIsInNldFJlc3BvbnNlVHlwZSIsIl9sb2FkZWRIYW5kbGVyIiwib25zdGFsbGVkIiwiVVJMIiwid2Via2l0VVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwiQWJzdHJhY3RSZXF1ZXN0Iiwic3JjQXR0cmlidXRlIiwiQWJzdHJhY3RSZXF1ZXN0X2NvbnN0cnVjdG9yIiwiX2hhbmRsZVRhZ0NvbXBsZXRlIiwiX2FkZGVkVG9ET00iLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJfaGFuZGxlUmVhZHlTdGF0ZUNoYW5nZSIsIl9oYW5kbGVFcnJvciIsIl9sb2FkVGltZW91dCIsInBhcmVudE5vZGUiLCJfY2xlYW4iLCJBYnN0cmFjdFJlcXVlc3RfZGVzdHJveSIsIl9oYW5kbGVTdGFsbGVkIiwiX3N0YWxsZWRDYWxsYmFjayIsInBjIiwiX2hhbmRsZVByb2dyZXNzIiwiVGFnUmVxdWVzdF9sb2FkIiwibmV3RXZlbnQiLCJfcHJvZ3Jlc3NDYWxsYmFjayIsIlRhZ1JlcXVlc3RfX2NsZWFuIiwiX3hockxldmVsIiwiX3Jhd1Jlc3BvbnNlIiwiX2NhbmNlbGVkIiwiX2hhbmRsZUxvYWRTdGFydFByb3h5IiwiX2hhbmRsZUxvYWRTdGFydCIsIl9oYW5kbGVQcm9ncmVzc1Byb3h5IiwiX2hhbmRsZUFib3J0UHJveHkiLCJfaGFuZGxlQWJvcnQiLCJfaGFuZGxlRXJyb3JQcm94eSIsIl9oYW5kbGVUaW1lb3V0UHJveHkiLCJfaGFuZGxlTG9hZFByb3h5IiwiX2hhbmRsZUxvYWQiLCJfaGFuZGxlUmVhZHlTdGF0ZUNoYW5nZVByb3h5IiwiX2NyZWF0ZVhIUiIsIkFDVElWRVhfVkVSU0lPTlMiLCJvbmxvYWRzdGFydCIsIm9ucHJvZ3Jlc3MiLCJvbmFib3J0Iiwib250aW1lb3V0Iiwic2VuZCIsIl9yZXNwb25zZVR5cGUiLCJyZXNwb25zZVR5cGUiLCJnZXRBbGxSZXNwb25zZUhlYWRlcnMiLCJnZXRSZXNwb25zZUhlYWRlciIsImhlYWRlciIsIl9jaGVja0Vycm9yIiwiX2dldFJlc3BvbnNlIiwiQmxvYiIsIkJsb2JCdWlsZGVyIiwiV2ViS2l0QmxvYkJ1aWxkZXIiLCJNb3pCbG9iQnVpbGRlciIsIk1TQmxvYkJ1aWxkZXIiLCJidWlsZGVyIiwiZ2V0QmxvYiIsInN0YXR1cyIsInJlc3BvbnNlIiwicmVzcG9uc2VUZXh0IiwicmVzcG9uc2VYTUwiLCJjcm9zc2RvbWFpbiIsInJlcSIsIlhNTEh0dHBSZXF1ZXN0IiwiWERvbWFpblJlcXVlc3QiLCJheFZlcnNpb24iLCJvdmVycmlkZU1pbWVUeXBlIiwib3BlbiIsIm9yaWdpbiIsInNldFJlcXVlc3RIZWFkZXIiLCJMb2FkUXVldWUiLCJiYXNlUGF0aCIsIl9wbHVnaW5zIiwiX3R5cGVDYWxsYmFja3MiLCJfZXh0ZW5zaW9uQ2FsbGJhY2tzIiwibWFpbnRhaW5TY3JpcHRPcmRlciIsInN0b3BPbkVycm9yIiwiX21heENvbm5lY3Rpb25zIiwiX2F2YWlsYWJsZUxvYWRlcnMiLCJGb250TG9hZGVyIiwiSW1hZ2VMb2FkZXIiLCJKYXZhU2NyaXB0TG9hZGVyIiwiQ1NTTG9hZGVyIiwiSlNPTkxvYWRlciIsIkpTT05QTG9hZGVyIiwiU291bmRMb2FkZXIiLCJNYW5pZmVzdExvYWRlciIsIlNwcml0ZVNoZWV0TG9hZGVyIiwiWE1MTG9hZGVyIiwiU1ZHTG9hZGVyIiwiQmluYXJ5TG9hZGVyIiwiVmlkZW9Mb2FkZXIiLCJUZXh0TG9hZGVyIiwiX2RlZmF1bHRMb2FkZXJMZW5ndGgiLCJzZXRQcmVmZXJYSFIiLCJfcGF1c2VkIiwiX2Jhc2VQYXRoIiwiX2Nyb3NzT3JpZ2luIiwiX2xvYWRTdGFydFdhc0Rpc3BhdGNoZWQiLCJfY3VycmVudGx5TG9hZGluZ1NjcmlwdCIsIl9jdXJyZW50TG9hZHMiLCJfbG9hZFF1ZXVlIiwiX2xvYWRRdWV1ZUJhY2t1cCIsIl9sb2FkSXRlbXNCeUlkIiwiX2xvYWRJdGVtc0J5U3JjIiwiX2xvYWRlZFJlc3VsdHMiLCJfbG9hZGVkUmF3UmVzdWx0cyIsIl9udW1JdGVtcyIsIl9udW1JdGVtc0xvYWRlZCIsIl9zY3JpcHRPcmRlciIsIl9sb2FkZWRTY3JpcHRzIiwiX2xhc3RQcm9ncmVzcyIsIk5hTiIsInJlZ2lzdGVyTG9hZGVyIiwiY2FuTG9hZEl0ZW0iLCJ1bnJlZ2lzdGVyTG9hZGVyIiwicmVtb3ZlQWxsIiwiaWRzT3JVcmxzIiwiYXJncyIsIml0ZW1zV2VyZVJlbW92ZWQiLCJfZGlzcG9zZUl0ZW0iLCJfbG9hZE5leHQiLCJjbG9zZSIsImxvYWRNYW5pZmVzdCIsImluc3RhbGxQbHVnaW4iLCJwbHVnaW4iLCJnZXRQcmVsb2FkSGFuZGxlcnMiLCJ0eXBlcyIsImV4dGVuc2lvbnMiLCJzZXRNYXhDb25uZWN0aW9ucyIsImxvYWRGaWxlIiwiZmlsZSIsImxvYWROb3ciLCJfYWRkSXRlbSIsInNldFBhdXNlZCIsIm1hbmlmZXN0IiwiZmlsZUxpc3QiLCJnZXRJdGVtcyIsImxvYWRTdGFydFdhc0Rpc3BhdGNoZWQiLCJfaXRlbUNvdW50IiwiX2NyZWF0ZUxvYWRJdGVtIiwiX2NyZWF0ZUxvYWRlciIsInBsdWdpbnMiLCJfbG9hZGVyIiwiX3VwZGF0ZVByb2dyZXNzIiwiYnAiLCJ1c2VCYXNlUGF0aCIsInBhdGhNYXRjaCIsImV4dCIsImF1dG9JZCIsImN1c3RvbUhhbmRsZXIiLCJfY2FuU3RhcnRMb2FkIiwiX2xvYWRJdGVtIiwiX2hhbmRsZUZpbGVMb2FkIiwiX2hhbmRsZUZpbGVDb21wbGV0ZSIsIl9oYW5kbGVGaWxlRXJyb3IiLCJfc2VuZEZpbGVTdGFydCIsIl9maW5pc2hPcmRlcmVkSXRlbSIsIl9yZW1vdmVMb2FkSXRlbSIsIl9jbGVhbkxvYWRJdGVtIiwiX3NhdmVMb2FkZWRJdGVtcyIsIl9wcm9jZXNzRmluaXNoZWRMb2FkIiwibG9hZEZhaWxlZCIsIl9jaGVja1NjcmlwdExvYWRPcmRlciIsIl9zZW5kRmlsZUNvbXBsZXRlIiwiX3NlbmRGaWxlUHJvZ3Jlc3MiLCJyZW1haW5pbmciLCJjaHVuayIsImNvbXBsZXRlSGFuZGxlciIsInJlbCIsInN0eWxlU2hlZXQiLCJjc3NUZXh0IiwidGV4dE5vZGUiLCJfZmFjZXMiLCJfd2F0Y2hlZCIsIl9jb3VudCIsIl93YXRjaEludGVydmFsIiwiX2luamVjdENTUyIsImluamVjdENTUyIsInNhbXBsZVRleHQiLCJfcmVmZXJlbmNlRm9udHMiLCJXRUlHSFRfUkVHRVgiLCJTVFlMRV9SRUdFWCIsIkZPTlRfRk9STUFUIiwid29mZjIiLCJ3b2ZmIiwidHRmIiwib3RmIiwiRk9OVF9XRUlHSFQiLCJ0aGluIiwiZXh0cmFsaWdodCIsInVsdHJhbGlnaHQiLCJsaWdodCIsInNlbWlsaWdodCIsImRlbWlsaWdodCIsImJvb2siLCJyZWd1bGFyIiwic2VtaWJvbGQiLCJkZW1pYm9sZCIsImV4dHJhYm9sZCIsInVsdHJhYm9sZCIsImJsYWNrIiwiaGVhdnkiLCJXQVRDSF9EVVJBVElPTiIsIl93YXRjaENTUyIsIl93YXRjaEZvbnRBcnJheSIsImRlZiIsIl9kZWZGcm9tU3JjIiwiX3dhdGNoRm9udCIsIl9pbmplY3RTdHlsZVRhZyIsIl9jc3NGcm9tRGVmIiwiX3N0b3BXYXRjaGluZyIsIl9wYXJzZUNTUyIsIkFic3RyYWN0TG9hZGVyX2hhbmRsZUV2ZW50IiwiSFRNTFN0eWxlRWxlbWVudCIsInRleHRDb250ZW50IiwiY3NzIiwicmVnZXgiLCJfcGFyc2VGb250RmFjZSIsIl9kZWZGcm9tT2JqIiwic3R5bGVUYWciLCJmYW1pbHkiLCJfZ2V0Q1NTVmFsdWUiLCJ3ZWlnaHQiLCJfY2FsY3VsYXRlUmVmZXJlbmNlU2l6ZXMiLCJfc3RhcnRXYXRjaGluZyIsIl93YXRjaCIsImRlZnMiLCJyZWZGb250cyIsInJlZnMiLCJfZ2V0VGV4dFdpZHRoIiwicmUiLCJsYXN0SW5kZXhPZiIsImNzc1NyYyIsImZvcm1hdCIsInByb3BOYW1lIiwiUmVnRXhwIiwiX2Zvcm1hdEltYWdlIiwic3VjY2Vzc0NhbGxiYWNrIiwiZXJyb3JDYWxsYmFjayIsIm9ialVSTCIsIl9jbGVhblVwVVJMIiwicmV2b2tlT2JqZWN0VVJMIiwianNvbiIsIkFic3RyYWN0TG9hZGVyX2NhbmNlbCIsIl9kaXNwb3NlIiwiX21hbmlmZXN0UXVldWUiLCJNQU5JRkVTVF9QUk9HUkVTUyIsIl9sb2FkTWFuaWZlc3QiLCJBYnN0cmFjdExvYWRlcl9kZXN0cm95IiwicXVldWUiLCJfaGFuZGxlTWFuaWZlc3RGaWxlTG9hZCIsIl9oYW5kbGVNYW5pZmVzdFByb2dyZXNzIiwiX2hhbmRsZU1hbmlmZXN0Q29tcGxldGUiLCJfaGFuZGxlTWFuaWZlc3RFcnJvciIsIkFic3RyYWN0TWVkaWFMb2FkZXJfY29uc3RydWN0b3IiLCJhdXRvcGxheSIsIlNQUklURVNIRUVUX1BST0dSRVNTIiwiZG9jdW1lbnRFbGVtZW50IiwiaW1wb3J0Tm9kZSIsIlNvdW5kSlMiLCJCcm93c2VyRGV0ZWN0IiwiYWdlbnQiLCJ1c2VyQWdlbnQiLCJpc1dpbmRvd1Bob25lIiwiaXNGaXJlZm94IiwiaXNPcGVyYSIsIm9wZXJhIiwiaXNDaHJvbWUiLCJpc0lPUyIsImlzQW5kcm9pZCIsImlzQmxhY2tiZXJyeSIsIlBsYXlQcm9wc0NvbmZpZyIsImludGVycnVwdCIsImRlbGF5Iiwidm9sdW1lIiwicGFuIiwic3RhcnRUaW1lIiwiU291bmQiLCJTb3VuZENoYW5uZWwiLCJJTlRFUlJVUFRfQU5ZIiwiSU5URVJSVVBUX0VBUkxZIiwiSU5URVJSVVBUX0xBVEUiLCJJTlRFUlJVUFRfTk9ORSIsIlBMQVlfSU5JVEVEIiwiUExBWV9TVUNDRUVERUQiLCJQTEFZX0lOVEVSUlVQVEVEIiwiUExBWV9GSU5JU0hFRCIsIlBMQVlfRkFJTEVEIiwiU1VQUE9SVEVEX0VYVEVOU0lPTlMiLCJFWFRFTlNJT05fTUFQIiwibTRhIiwiRklMRV9QQVRURVJOIiwiZGVmYXVsdEludGVycnVwdEJlaGF2aW9yIiwiYWx0ZXJuYXRlRXh0ZW5zaW9ucyIsImFjdGl2ZVBsdWdpbiIsIl9tYXN0ZXJWb2x1bWUiLCJfZ2V0TWFzdGVyVm9sdW1lIiwiZ2V0Vm9sdW1lIiwiX3NldE1hc3RlclZvbHVtZSIsInNldFZvbHVtZSIsImluc3RhbmNlcyIsIl9pbnN0YW5jZXMiLCJzZXRNYXN0ZXJWb2x1bWUiLCJfbWFzdGVyTXV0ZSIsIl9nZXRNdXRlIiwiZ2V0TXV0ZSIsIl9zZXRNdXRlIiwic2V0TXV0ZSIsInNldE1hc3Rlck11dGUiLCJfZ2V0Q2FwYWJpbGl0aWVzIiwiX2NhcGFiaWxpdGllcyIsImdldENhcGFiaWxpdGllcyIsIm11dGVkIiwiY2FwYWJpbGl0aWVzIiwiX3BsdWdpbnNSZWdpc3RlcmVkIiwiX2xhc3RJRCIsIl9pZEhhc2giLCJfcHJlbG9hZEhhc2giLCJfZGVmYXVsdFBsYXlQcm9wc0hhc2giLCJpbml0TG9hZCIsIl9oYW5kbGVMb2FkQ29tcGxldGUiLCJfaGFuZGxlTG9hZEVycm9yIiwiX3JlZ2lzdGVyUGx1Z2luIiwicmVnaXN0ZXJQbHVnaW5zIiwiaW5pdGlhbGl6ZURlZmF1bHRQbHVnaW5zIiwiV2ViQXVkaW9QbHVnaW4iLCJIVE1MQXVkaW9QbHVnaW4iLCJpc1JlYWR5IiwiX3JlZ2lzdGVyU291bmQiLCJkZXRhaWxzIiwiX3BhcnNlU3JjIiwiX3BhcnNlUGF0aCIsIm51bUNoYW5uZWxzIiwiY2hhbm5lbHMiLCJhdWRpb1Nwcml0ZSIsInNwIiwiZGVmYXVsdFBsYXlQcm9wcyIsInJlZ2lzdGVyIiwibWF4UGVyQ2hhbm5lbCIsInJlZ2lzdGVyU291bmQiLCJyZWdpc3RlclNvdW5kcyIsInNvdW5kcyIsInJldHVyblZhbHVlcyIsInJlbW92ZVNvdW5kIiwiX2dldFNyY0J5SWQiLCJyZW1vdmVTcmMiLCJyZW1vdmVTb3VuZHMiLCJyZW1vdmVBbGxTb3VuZHMiLCJsb2FkQ29tcGxldGUiLCJyZXQiLCJwbGF5UHJvcHMiLCJpbnN0YW5jZSIsImNyZWF0ZUluc3RhbmNlIiwiX3BsYXlJbnN0YW5jZSIsIl9wbGF5RmFpbGVkIiwiRGVmYXVsdFNvdW5kSW5zdGFuY2UiLCJhcHBseVBsYXlQcm9wcyIsInVuaXF1ZUlkIiwic2V0RGVmYXVsdFBsYXlQcm9wcyIsImdldERlZmF1bHRQbGF5UHJvcHMiLCJfYmVnaW5QbGF5aW5nIiwiZGVsYXlUaW1lb3V0SWQiLCJhZGQiLCJfcGxheUZpbmlzaGVkIiwiY2hhbm5lbCIsIl9yZW1vdmVBbGwiLCJfYWRkIiwiX3JlbW92ZSIsIm1heERlZmF1bHQiLCJfZ2V0IiwiX2dldFNsb3QiLCJyZXBsYWNlbWVudCIsInBsYXlTdGF0ZSIsIl9pbnRlcnJ1cHQiLCJBYnN0cmFjdFNvdW5kSW5zdGFuY2UiLCJwbGF5YmFja1Jlc291cmNlIiwiX3ZvbHVtZSIsImRlZmluZVByb3BlcnR5IiwiX2dldFZvbHVtZSIsIl9zZXRWb2x1bWUiLCJfcGFuIiwiX2dldFBhbiIsIl9zZXRQYW4iLCJfZ2V0U3RhcnRUaW1lIiwiX3NldFN0YXJ0VGltZSIsIl9kdXJhdGlvbiIsIl9zZXREdXJhdGlvbiIsIl9wbGF5YmFja1Jlc291cmNlIiwiX2dldFBsYXliYWNrUmVzb3VyY2UiLCJfc2V0UGxheWJhY2tSZXNvdXJjZSIsIl9wb3NpdGlvbiIsIl9nZXRQb3NpdGlvbiIsIl9zZXRQb3NpdGlvbiIsIl9sb29wIiwiX2dldExvb3AiLCJfc2V0TG9vcCIsIl9tdXRlZCIsIl9nZXRNdXRlZCIsIl9zZXRNdXRlZCIsIl9nZXRQYXVzZWQiLCJfc2V0UGF1c2VkIiwiX2NsZWFuVXAiLCJfaGFuZGxlU3RvcCIsIl9wYXVzZSIsIl9yZXN1bWUiLCJfdXBkYXRlVm9sdW1lIiwiX3VwZGF0ZVBhbiIsIl9jYWxjdWxhdGVDdXJyZW50UG9zaXRpb24iLCJfdXBkYXRlUG9zaXRpb24iLCJfdXBkYXRlU3RhcnRUaW1lIiwiX3VwZGF0ZUR1cmF0aW9uIiwiX3NldER1cmF0aW9uRnJvbVNvdXJjZSIsIl9yZW1vdmVMb29waW5nIiwiX2FkZExvb3BpbmciLCJfc2VuZEV2ZW50IiwiX2hhbmRsZUNsZWFuVXAiLCJfaGFuZGxlU291bmRSZWFkeSIsIl9oYW5kbGVTb3VuZENvbXBsZXRlIiwiX2hhbmRsZUxvb3AiLCJBYnN0cmFjdFBsdWdpbiIsIl9sb2FkZXJzIiwiX2F1ZGlvU291cmNlcyIsIl9zb3VuZEluc3RhbmNlcyIsIl9sb2FkZXJDbGFzcyIsIl9zb3VuZEluc3RhbmNlQ2xhc3MiLCJfaGFuZGxlUHJlbG9hZENvbXBsZXRlIiwiX2hhbmRsZVByZWxvYWRFcnJvciIsImlzUHJlbG9hZFN0YXJ0ZWQiLCJpc1ByZWxvYWRDb21wbGV0ZSIsImtleSIsInNldFBsYXliYWNrUmVzb3VyY2UiLCJMb2FkZXIiLCJkZWNvZGVBdWRpb0RhdGEiLCJfaGFuZGxlQXVkaW9EZWNvZGVkIiwiZGVjb2RlZEF1ZGlvIiwiQWJzdHJhY3RMb2FkZXJfX3NlbmRDb21wbGV0ZSIsIldlYkF1ZGlvTG9hZGVyIiwiV2ViQXVkaW9Tb3VuZEluc3RhbmNlIiwiQWJzdHJhY3RTb3VuZEluc3RhbmNlX2NvbnN0cnVjdG9yIiwiZ2Fpbk5vZGUiLCJjcmVhdGVHYWluIiwicGFuTm9kZSIsImNyZWF0ZVBhbm5lciIsInBhbm5pbmdNb2RlbCIsIl9wYW5uaW5nTW9kZWwiLCJjb25uZWN0Iiwic291cmNlTm9kZSIsIl9zb3VuZENvbXBsZXRlVGltZW91dCIsIl9zb3VyY2VOb2RlTmV4dCIsIl9wbGF5YmFja1N0YXJ0VGltZSIsIl9lbmRlZEhhbmRsZXIiLCJfc2NyYXRjaEJ1ZmZlciIsImRlc3RpbmF0aW9uTm9kZSIsIkFic3RyYWN0U291bmRJbnN0YW5jZV9kZXN0cm95IiwiZGlzY29ubmVjdCIsIl9jbGVhblVwQXVkaW9Ob2RlIiwiX2NyZWF0ZUFuZFBsYXlBdWRpb05vZGUiLCJudW1iZXJPZk91dHB1dHMiLCJhdWRpb05vZGUiLCJidWZmZXIiLCJkdXIiLCJjcmVhdGVCdWZmZXJTb3VyY2UiLCJuZXdWb2x1bWUiLCJnYWluIiwiQWJzdHJhY3RQbHVnaW5fY29uc3RydWN0b3IiLCJkeW5hbWljc0NvbXByZXNzb3JOb2RlIiwiY3JlYXRlRHluYW1pY3NDb21wcmVzc29yIiwiZGVzdGluYXRpb24iLCJfYWRkUHJvcHNUb0NsYXNzZXMiLCJfdW5sb2NrZWQiLCJERUZBVUxUX1NBTVBMRV9SQVRFIiwiaXNNb2JpbGVQaG9uZUdhcCIsIl9pc0ZpbGVYSFJTdXBwb3J0ZWQiLCJfZ2VuZXJhdGVDYXBhYmlsaXRpZXMiLCJwbGF5RW1wdHlTb3VuZCIsInN1cHBvcnRlZCIsInhociIsImNhblBsYXlUeXBlIiwiX2NyZWF0ZUF1ZGlvQ29udGV4dCIsIl9jb21wYXRpYmlsaXR5U2V0VXAiLCJfdW5sb2NrIiwicGFubmluZyIsInRyYWNrcyIsInN1cHBvcnRlZEV4dGVuc2lvbnMiLCJleHRlbnNpb25NYXAiLCJwbGF5VHlwZSIsIm51bWJlck9mQ2hhbm5lbHMiLCJBdWRpb0N0b3IiLCJBdWRpb0NvbnRleHQiLCJ3ZWJraXRBdWRpb0NvbnRleHQiLCJzYW1wbGVSYXRlIiwiZHVtbXkiLCJjcmVhdGVHYWluTm9kZSIsIm5vdGVHcmFpbk9uIiwibm90ZU9mZiIsIkhUTUxBdWRpb1RhZ1Bvb2wiLCJUYWdQb29sIiwiX3RhZ3MiLCJfdGFnUG9vbCIsIl90YWdVc2VkIiwiSFRNTEF1ZGlvU291bmRJbnN0YW5jZSIsIl9hdWRpb1Nwcml0ZVN0b3BUaW1lIiwiX2RlbGF5VGltZW91dElkIiwiX3JlYWR5SGFuZGxlciIsIl9oYW5kbGVUYWdSZWFkeSIsIl9zdGFsbGVkSGFuZGxlciIsIl9hdWRpb1Nwcml0ZUVuZEhhbmRsZXIiLCJfaGFuZGxlQXVkaW9TcHJpdGVMb29wIiwiX2xvb3BIYW5kbGVyIiwiaXNNdXRlZCIsIl9BVURJT19TRUVLRUQiLCJwYXVzZSIsIl9BVURJT19FTkRFRCIsIl9BVURJT19SRUFEWSIsIl9BVURJT19TVEFMTEVEIiwiX1RJTUVfVVBEQVRFIiwiQWJzdHJhY3RTb3VuZEluc3RhbmNlX19iZWdpblBsYXlpbmciLCJfaGFuZGxlU2V0UG9zaXRpb25TZWVrIiwiTUFYX0lOU1RBTkNFUyIsIkFic3RyYWN0UGx1Z2luX3JlZ2lzdGVyIiwiQWJzdHJhY3RQbHVnaW5fcmVtb3ZlU291bmQiLCJBYnN0cmFjdFBsdWdpbl9jcmVhdGUiLCJBYnN0cmFjdFR3ZWVuIiwiaWdub3JlR2xvYmFsUGF1c2UiLCJyZXZlcnNlZCIsImJvdW5jZSIsInRpbWVTY2FsZSIsIl9uZXh0IiwiX3ByZXYiLCJfcGFyZW50IiwiX2xhYmVsTGlzdCIsIm9uQ2hhbmdlIiwib25Db21wbGV0ZSIsIl9yZWdpc3RlciIsImdldFBhdXNlZCIsImlnbm9yZUFjdGlvbnMiLCJsb29wQ291bnQiLCJwcmV2UmF3UG9zIiwiX3J1bkFjdGlvbnMiLCJjYWxjdWxhdGVQb3NpdGlvbiIsInNldExhYmVscyIsImFkZExhYmVsIiwiX2luaXQiLCJzdGFydFJhd1BvcyIsImVuZFJhd1BvcyIsImluY2x1ZGVTdGFydCIsIl9hY3Rpb25IZWFkIiwibG9vcDAiLCJsb29wMSIsInQwIiwidDEiLCJfcnVuQWN0aW9uc1JhbmdlIiwiZGlyIiwic3RhcnRQb3MiLCJlbmRQb3MiLCJBYnN0cmFjdFR3ZWVuX2NvbnN0cnVjdG9yIiwicGx1Z2luRGF0YSIsIl9zdGVwSGVhZCIsIlR3ZWVuU3RlcCIsIl9zdGVwVGFpbCIsIl9hY3Rpb25UYWlsIiwiX3BsdWdpbklkcyIsIl9pbmplY3RlZCIsIm92ZXJyaWRlIiwicmVtb3ZlVHdlZW5zIiwiZWFzZSIsIklHTk9SRSIsIl90d2VlbnMiLCJfdHdlZW5IZWFkIiwiX3R3ZWVuVGFpbCIsInR3ZWVuanNfY291bnQiLCJyZW1vdmVBbGxUd2VlbnMiLCJoYXNBY3RpdmVUd2VlbnMiLCJ0YWlsIiwid2FpdCIsIl9hZGRTdGVwIiwidG8iLCJfYXBwZW5kUHJvcHMiLCJfYWRkQWN0aW9uIiwiX3NldCIsInN0ZXBOZXh0IiwiX3VwZGF0ZVRhcmdldFByb3BzIiwidjAiLCJ2MSIsInAwIiwicDEiLCJwcm9wbG9vcCIsInJldiIsImFjdGlvbiIsImVQb3MiLCJzUG9zIiwic3RlcFBsdWdpbnMiLCJpbml0VmFsdWUiLCJpbmplY3QiLCJpbml0UHJvcHMiLCJvbGRTdGVwIiwic3RlcFByb3BzIiwiY2xlYW5Qcm9wcyIsIl9pbmplY3RQcm9wIiwiYWRkVHdlZW4iLCJyZW1vdmVUd2VlbiIsInVwZGF0ZUR1cmF0aW9uIiwiRWFzZSIsImxpbmVhciIsIm5vbmUiLCJhbW91bnQiLCJnZXRQb3dJbiIsImdldFBvd091dCIsImdldFBvd0luT3V0IiwicXVhZEluIiwicXVhZE91dCIsInF1YWRJbk91dCIsImN1YmljSW4iLCJjdWJpY091dCIsImN1YmljSW5PdXQiLCJxdWFydEluIiwicXVhcnRPdXQiLCJxdWFydEluT3V0IiwicXVpbnRJbiIsInF1aW50T3V0IiwicXVpbnRJbk91dCIsInNpbmVJbiIsInNpbmVPdXQiLCJzaW5lSW5PdXQiLCJnZXRCYWNrSW4iLCJiYWNrSW4iLCJnZXRCYWNrT3V0IiwiYmFja091dCIsImdldEJhY2tJbk91dCIsImJhY2tJbk91dCIsImNpcmNJbiIsImNpcmNPdXQiLCJjaXJjSW5PdXQiLCJib3VuY2VJbiIsImJvdW5jZU91dCIsImJvdW5jZUluT3V0IiwiZ2V0RWxhc3RpY0luIiwiYW1wbGl0dWRlIiwicGVyaW9kIiwicGkyIiwiYXNpbiIsImVsYXN0aWNJbiIsImdldEVsYXN0aWNPdXQiLCJlbGFzdGljT3V0IiwiZ2V0RWxhc3RpY0luT3V0IiwiZWxhc3RpY0luT3V0IiwiTW90aW9uR3VpZGVQbHVnaW4iLCJndWlkZURhdGEiLCJndWlkZSIsIl9zb2x2ZUd1aWRlRGF0YSIsInZhbGlkIiwiZW5kRGF0YSIsIm9yaWVudCIsImluaXRSb3QiLCJzdGFydE9mZnNldFJvdCIsInN0YXJ0RGF0YSIsImVuZEFic1JvdCIsImRlbHRhUm90YXRpb24iLCJmaW5hbFJvdCIsImRlbHRhUm90IiwibW9kUm90IiwiX3JhdGlvVG9Qb3NpdGlvbkRhdGEiLCJkZWJ1ZyIsImhpZ2xpZ2h0IiwiX2ZpbmRQYXRoUHJvYmxlbXMiLCJwYXRoTGVuZ3RoIiwiaGlDb3VudCIsInRlbXBTdG9yZSIsInRlbXBMb29rIiwic3RvcmFnZSIsInN1YkxpbmVzIiwidG90YWxMZW5ndGgiLCJhbmltU3BhbiIsImN4IiwiY3kiLCJleCIsImV5IiwibGVuIiwidGVtcCIsInN1YkxpbmUiLCJ3ZWlnaHRpbmdzIiwiZXN0TGVuZ3RoIiwicG9ydGlvbiIsInN1YlgiLCJzdWJZIiwiX2dldFBhcmFtc0ZvckN1cnZlIiwiZHgiLCJkeSIsInN0YXJ0UmF0aW8iLCJlbmRSYXRpbyIsImxpbmVTZWdtZW50cyIsImVmZlJhdGlvIiwicGF0aERhdGEiLCJpbnYiLCJ2YWx1ZUNvdW50IiwiVHdlZW5KUyIsInJlcXVpcmUiLCJjb2RlIiwiYXNzZXRzIiwic2t5IiwiZ3JvdW5kSW1nIiwiZ3JvdW5kIiwidGlsZVciLCJoaWxsMSIsInJhbmRvbSIsImhpbGwyIl0sIm1hcHBpbmdzIjoiQUE0QkFBLEtBQUFDLFNBQUFELEtBQUFDLGFBNkJBQSxTQUFBQyxPQUFBLFNBQUFDLEVBQUFDLEdBQ0EsYUFFQSxTQUFBQyxJQUFBTCxLQUFBTSxZQUFBSCxFQUVBLE9BREFFLEVBQUFFLFVBQUFILEVBQUFHLFVBQ0FKLEVBQUFJLFVBQUEsSUFBQUYsR0FnREFKLFNBQUFPLFFBQUEsU0FBQUwsRUFBQU0sR0FDQSxhQUVBLElBQUFDLEVBQUFQLEVBQUFJLFVBQUFJLEVBQUFDLE9BQUFDLGdCQUFBRCxPQUFBQyxlQUFBSCxJQUFBQSxFQUFBSSxVQUNBLEdBQUFILEVBRUEsSUFBQSxJQUFBSSxLQURBTCxHQUFBRCxHQUFBLEtBQUEsZUFBQUUsRUFBQUwsWUFDQUssRUFDQUQsRUFBQU0sZUFBQUQsSUFBQSxtQkFBQUosRUFBQUksS0FBQUwsRUFBQUQsRUFBQU0sR0FBQUosRUFBQUksSUFHQSxPQUFBWixHQXNCQUYsU0FBQWdCLFFBQUEsU0FBQUMsRUFBQUMsR0FDQSxhQUVBLElBQUEsSUFBQUMsRUFBQSxFQUFBQyxFQUFBSCxFQUFBSSxPQUFBRixFQUFBQyxFQUFBRCxJQUNBLEdBQUFELElBQUFELEVBQUFFLEdBQ0EsT0FBQUEsRUFHQSxPQUFBLEdBT0EsV0FDQSxhQVVBLFNBQUFHLElBQ0EsS0FBQSw2QkFVQUEsRUFBQUMsUUFBQSxFQVVBRCxFQUFBRSxJQUFBLFdBQ0EsT0FBQUYsRUFBQUMsV0FJQXZCLFNBQUFzQixJQUFBQSxFQXJDQSxHQXVFQXRCLFNBQUF5QixVQUFBLFNBQUFDLEVBQUFDLEdBQ0EsYUFDQSxPQUFBLFdBQ0EsSUFBQUMsRUFBQSxrQ0FBQUQsRUFBQSx3QkFFQSxPQURBRSxVQUFB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LElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsR0FBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsRUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsR0FBQSxJQUFBLElBQUEsSUFBQSxJQUFBLEdBQUEsSUFBQSxHQUFBLElBQUEsR0FBQSxJQUFBLEdBQUEsSUFBQSxHQUFBLElBQUEsR0FBQSxJQUFBLEdBQUEsSUFBQSxHQUFBLElBQUEsR0FBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxHQUFBLElBQUEsR0FBQSxJQUFBLElBQUEsSUFBQSxJQUFBLEdBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxHQUFBLElBQUEsSUFBQSxHQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsR0FBQSxJQUFBLElBQUEsR0FBQSxJQUFBLElBQUEsR0FBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxHQUFBLElBQUEsSUFBQSxHQUFBLElBQUEsSUFBQSxHQUFBLElBQUEsSUFBQSxJQUFBLEdBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsR0FBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLEdBU0FwQyxFQUFBcUMsV0FBQSxFQUFBLEVBQUEsR0FBQSxHQUFBLEVBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLEVBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEVBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEVBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEs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RSxTQUFBbXdELEVBQUFFLEVBQUFFLEVBQUFFLEdBRUEvN0UsU0FBQXlGLE9BQUFJLFdBQUE3RixTQUFBeUYsT0FBQUUsSUFDQTNGLFNBQUF5RixPQUFBNUIsaUJBQUEsT0FBQSxTQUFBc0IsR0FDQSxJQUFBMEUsRUFBQTFFLEVBQUEwRSxNQUFBLElBQ0E4eEUsRUFBQW52RSxHQUFBbXZFLEVBQUFudkUsRUFBQSxJQUFBM0MsR0FBQTh4RSxFQUFBQyxNQUNBQyxFQUFBcnZFLEVBQUFxdkUsRUFBQXJ2RSxFQUFBLEdBQUEzQyxFQUNBZ3lFLEVBQUFydkUsRUFBQXF2RSxFQUFBcm1FLE1BQUFySyxNQUFBMHdFLEVBQUF4dEUsUUFBQSxJQUNBd3RFLEVBQUFydkUsRUFBQXhDLEdBRUEreEUsRUFBQXZ2RSxFQUFBdXZFLEVBQUF2dkUsRUFBQSxHQUFBM0MsRUFDQWt5RSxFQUFBdnZFLEVBQUF1dkUsRUFBQXZtRSxNQUFBckssTUFBQTR3RSxFQUFBMXRFLFFBQUEsSUFDQTB0RSxFQUFBdnZFLEVBQUF4QyxHQUVBb2QsRUFBQWdCLE9BQUFqakIsT0FRQXEyRSxFQUFBaGtCLGVBSkF4aUQsSUFBQSx3QkFBQThRLEdBQUEsVUFBQTlRLElBQUEsVUFBQThRLEdBQUEsUUFBQTlRLElBQUEsYUFBQThRLEdBQUEsV0FBQTlRLElBQUEsWUFBQThRLEdBQUEsVUFBQTlRLElBQUEsWUFBQThRLEdBQUEsV0FJQSxFQUFBLDRCQUdBIiwiZmlsZSI6ImRlbW8uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiogQ3JlYXRlSlNcbiogVmlzaXQgaHR0cDovL2NyZWF0ZWpzLmNvbS8gZm9yIGRvY3VtZW50YXRpb24sIHVwZGF0ZXMgYW5kIGV4YW1wbGVzLlxuKlxuKiBDb3B5cmlnaHQgKGMpIDIwMTAgZ3NraW5uZXIuY29tLCBpbmMuXG4qXG4qIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uXG4qIG9idGFpbmluZyBhIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uXG4qIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dFxuKiByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSxcbiogY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcbiogY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlXG4qIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nXG4qIGNvbmRpdGlvbnM6XG4qXG4qIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlXG4qIGluY2x1ZGVkIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuKlxuKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELFxuKiBFWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVNcbiogT0YgTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkRcbiogTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFRcbiogSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksXG4qIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lOR1xuKiBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SXG4qIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cbiovXG5cbnRoaXMuY3JlYXRlanMgPSB0aGlzLmNyZWF0ZWpzfHx7fTtcblxuXG4vLyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI1xuLy8gZXh0ZW5kLmpzXG4vLyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI1xuXG4vKipcbiAqIEBjbGFzcyBVdGlsaXR5IE1ldGhvZHNcbiAqL1xuXG4vKipcbiAqIFNldHMgdXAgdGhlIHByb3RvdHlwZSBjaGFpbiBhbmQgY29uc3RydWN0b3IgcHJvcGVydHkgZm9yIGEgbmV3IGNsYXNzLlxuICpcbiAqIFRoaXMgc2hvdWxkIGJlIGNhbGxlZCByaWdodCBhZnRlciBjcmVhdGluZyB0aGUgY2xhc3MgY29uc3RydWN0b3IuXG4gKlxuICogXHRmdW5jdGlvbiBNeVN1YkNsYXNzKCkge31cbiAqIFx0Y3JlYXRlanMuZXh0ZW5kKE15U3ViQ2xhc3MsIE15U3VwZXJDbGFzcyk7XG4gKiBcdE15U3ViQ2xhc3MucHJvdG90eXBlLmRvU29tZXRoaW5nID0gZnVuY3Rpb24oKSB7IH1cbiAqXG4gKiBcdHZhciBmb28gPSBuZXcgTXlTdWJDbGFzcygpO1xuICogXHRjb25zb2xlLmxvZyhmb28gaW5zdGFuY2VvZiBNeVN1cGVyQ2xhc3MpOyAvLyB0cnVlXG4gKiBcdGNvbnNvbGUubG9nKGZvby5wcm90b3R5cGUuY29uc3RydWN0b3IgPT09IE15U3ViQ2xhc3MpOyAvLyB0cnVlXG4gKlxuICogQG1ldGhvZCBleHRlbmRcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHN1YmNsYXNzIFRoZSBzdWJjbGFzcy5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHN1cGVyY2xhc3MgVGhlIHN1cGVyY2xhc3MgdG8gZXh0ZW5kLlxuICogQHJldHVybiB7RnVuY3Rpb259IFJldHVybnMgdGhlIHN1YmNsYXNzJ3MgbmV3IHByb3RvdHlwZS5cbiAqL1xuY3JlYXRlanMuZXh0ZW5kID0gZnVuY3Rpb24oc3ViY2xhc3MsIHN1cGVyY2xhc3MpIHtcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cblx0ZnVuY3Rpb24gbygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IHN1YmNsYXNzOyB9XG5cdG8ucHJvdG90eXBlID0gc3VwZXJjbGFzcy5wcm90b3R5cGU7XG5cdHJldHVybiAoc3ViY2xhc3MucHJvdG90eXBlID0gbmV3IG8oKSk7XG59O1xuXG4vLyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI1xuLy8gcHJvbW90ZS5qc1xuLy8jIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyNcblxuLyoqXG4gKiBAY2xhc3MgVXRpbGl0eSBNZXRob2RzXG4gKi9cblxuLyoqXG4gKiBQcm9tb3RlcyBhbnkgbWV0aG9kcyBvbiB0aGUgc3VwZXIgY2xhc3MgdGhhdCB3ZXJlIG92ZXJyaWRkZW4sIGJ5IGNyZWF0aW5nIGFuIGFsaWFzIGluIHRoZSBmb3JtYXQgYHByZWZpeF9tZXRob2ROYW1lYC5cbiAqIEl0IGlzIHJlY29tbWVuZGVkIHRvIHVzZSB0aGUgc3VwZXIgY2xhc3MncyBuYW1lIGFzIHRoZSBwcmVmaXguXG4gKiBBbiBhbGlhcyB0byB0aGUgc3VwZXIgY2xhc3MncyBjb25zdHJ1Y3RvciBpcyBhbHdheXMgYWRkZWQgaW4gdGhlIGZvcm1hdCBgcHJlZml4X2NvbnN0cnVjdG9yYC5cbiAqIFRoaXMgYWxsb3dzIHRoZSBzdWJjbGFzcyB0byBjYWxsIHN1cGVyIGNsYXNzIG1ldGhvZHMgd2l0aG91dCB1c2luZyBgZnVuY3Rpb24uY2FsbGAsIHByb3ZpZGluZyBiZXR0ZXIgcGVyZm9ybWFuY2UuXG4gKlxuICogRm9yIGV4YW1wbGUsIGlmIGBNeVN1YkNsYXNzYCBleHRlbmRzIGBNeVN1cGVyQ2xhc3NgLCBhbmQgYm90aCBkZWZpbmUgYSBgZHJhd2AgbWV0aG9kLCB0aGVuIGNhbGxpbmcgYHByb21vdGUoTXlTdWJDbGFzcywgXCJNeVN1cGVyQ2xhc3NcIilgXG4gKiB3b3VsZCBhZGQgYSBgTXlTdXBlckNsYXNzX2NvbnN0cnVjdG9yYCBtZXRob2QgdG8gTXlTdWJDbGFzcyBhbmQgcHJvbW90ZSB0aGUgYGRyYXdgIG1ldGhvZCBvbiBgTXlTdXBlckNsYXNzYCB0byB0aGVcbiAqIHByb3RvdHlwZSBvZiBgTXlTdWJDbGFzc2AgYXMgYE15U3VwZXJDbGFzc19kcmF3YC5cbiAqXG4gKiBUaGlzIHNob3VsZCBiZSBjYWxsZWQgYWZ0ZXIgdGhlIGNsYXNzJ3MgcHJvdG90eXBlIGlzIGZ1bGx5IGRlZmluZWQuXG4gKlxuICogXHRmdW5jdGlvbiBDbGFzc0EobmFtZSkge1xuICogXHRcdHRoaXMubmFtZSA9IG5hbWU7XG4gKiBcdH1cbiAqIFx0Q2xhc3NBLnByb3RvdHlwZS5ncmVldCA9IGZ1bmN0aW9uKCkge1xuICogXHRcdHJldHVybiBcIkhlbGxvIFwiK3RoaXMubmFtZTtcbiAqIFx0fVxuICpcbiAqIFx0ZnVuY3Rpb24gQ2xhc3NCKG5hbWUsIHB1bmN0dWF0aW9uKSB7XG4gKiBcdFx0dGhpcy5DbGFzc0FfY29uc3RydWN0b3IobmFtZSk7XG4gKiBcdFx0dGhpcy5wdW5jdHVhdGlvbiA9IHB1bmN0dWF0aW9uO1xuICogXHR9XG4gKiBcdGNyZWF0ZWpzLmV4dGVuZChDbGFzc0IsIENsYXNzQSk7XG4gKiBcdENsYXNzQi5wcm90b3R5cGUuZ3JlZXQgPSBmdW5jdGlvbigpIHtcbiAqIFx0XHRyZXR1cm4gdGhpcy5DbGFzc0FfZ3JlZXQoKSt0aGlzLnB1bmN0dWF0aW9uO1xuICogXHR9XG4gKiBcdGNyZWF0ZWpzLnByb21vdGUoQ2xhc3NCLCBcIkNsYXNzQVwiKTtcbiAqXG4gKiBcdHZhciBmb28gPSBuZXcgQ2xhc3NCKFwiV29ybGRcIiwgXCIhPyFcIik7XG4gKiBcdGNvbnNvbGUubG9nKGZvby5ncmVldCgpKTsgLy8gSGVsbG8gV29ybGQhPyFcbiAqXG4gKiBAbWV0aG9kIHByb21vdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHN1YmNsYXNzIFRoZSBjbGFzcyB0byBwcm9tb3RlIHN1cGVyIGNsYXNzIG1ldGhvZHMgb24uXG4gKiBAcGFyYW0ge1N0cmluZ30gcHJlZml4IFRoZSBwcmVmaXggdG8gYWRkIHRvIHRoZSBwcm9tb3RlZCBtZXRob2QgbmFtZXMuIFVzdWFsbHkgdGhlIG5hbWUgb2YgdGhlIHN1cGVyY2xhc3MuXG4gKiBAcmV0dXJuIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgc3ViY2xhc3MuXG4gKi9cbmNyZWF0ZWpzLnByb21vdGUgPSBmdW5jdGlvbihzdWJjbGFzcywgcHJlZml4KSB7XG5cdFwidXNlIHN0cmljdFwiO1xuXG5cdHZhciBzdWJQID0gc3ViY2xhc3MucHJvdG90eXBlLCBzdXBQID0gKE9iamVjdC5nZXRQcm90b3R5cGVPZiYmT2JqZWN0LmdldFByb3RvdHlwZU9mKHN1YlApKXx8c3ViUC5fX3Byb3RvX187XG5cdGlmIChzdXBQKSB7XG5cdFx0c3ViUFsocHJlZml4Kz1cIl9cIikgKyBcImNvbnN0cnVjdG9yXCJdID0gc3VwUC5jb25zdHJ1Y3RvcjsgLy8gY29uc3RydWN0b3IgaXMgbm90IGFsd2F5cyBpbm51bWVyYWJsZVxuXHRcdGZvciAodmFyIG4gaW4gc3VwUCkge1xuXHRcdFx0aWYgKHN1YlAuaGFzT3duUHJvcGVydHkobikgJiYgKHR5cGVvZiBzdXBQW25dID09IFwiZnVuY3Rpb25cIikpIHsgc3ViUFtwcmVmaXggKyBuXSA9IHN1cFBbbl07IH1cblx0XHR9XG5cdH1cblx0cmV0dXJuIHN1YmNsYXNzO1xufTtcblxuLy8jIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyNcbi8vIGluZGV4T2YuanNcbi8vIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXG5cbi8qKlxuICogQGNsYXNzIFV0aWxpdHkgTWV0aG9kc1xuICovXG5cbi8qKlxuICogRmluZHMgdGhlIGZpcnN0IG9jY3VycmVuY2Ugb2YgYSBzcGVjaWZpZWQgdmFsdWUgc2VhcmNoRWxlbWVudCBpbiB0aGUgcGFzc2VkIGluIGFycmF5LCBhbmQgcmV0dXJucyB0aGUgaW5kZXggb2ZcbiAqIHRoYXQgdmFsdWUuICBSZXR1cm5zIC0xIGlmIHZhbHVlIGlzIG5vdCBmb3VuZC5cbiAqXG4gKiAgICAgIHZhciBpID0gY3JlYXRlanMuaW5kZXhPZihteUFycmF5LCBteUVsZW1lbnRUb0ZpbmQpO1xuICpcbiAqIEBtZXRob2QgaW5kZXhPZlxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkgQXJyYXkgdG8gc2VhcmNoIGZvciBzZWFyY2hFbGVtZW50XG4gKiBAcGFyYW0gc2VhcmNoRWxlbWVudCBFbGVtZW50IHRvIGZpbmQgaW4gYXJyYXkuXG4gKiBAcmV0dXJuIHtOdW1iZXJ9IFRoZSBmaXJzdCBpbmRleCBvZiBzZWFyY2hFbGVtZW50IGluIGFycmF5LlxuICovXG5jcmVhdGVqcy5pbmRleE9mID0gZnVuY3Rpb24gKGFycmF5LCBzZWFyY2hFbGVtZW50KXtcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cblx0Zm9yICh2YXIgaSA9IDAsbD1hcnJheS5sZW5ndGg7IGkgPCBsOyBpKyspIHtcblx0XHRpZiAoc2VhcmNoRWxlbWVudCA9PT0gYXJyYXlbaV0pIHtcblx0XHRcdHJldHVybiBpO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gLTE7XG59O1xuXG4vLyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI1xuLy8gVUlELmpzXG4vLyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI1xuXG4oZnVuY3Rpb24oKSB7XG5cdFwidXNlIHN0cmljdFwiO1xuXG5cbi8vIGNvbnN0cnVjdG9yOlxuXHQvKipcblx0ICogR2xvYmFsIHV0aWxpdHkgZm9yIGdlbmVyYXRpbmcgc2VxdWVudGlhbCB1bmlxdWUgSUQgbnVtYmVycy4gVGhlIFVJRCBjbGFzcyB1c2VzIGEgc3RhdGljIGludGVyZmFjZSAoZXguIDxjb2RlPlVJRC5nZXQoKTwvY29kZT4pXG5cdCAqIGFuZCBzaG91bGQgbm90IGJlIGluc3RhbnRpYXRlZC5cblx0ICogQGNsYXNzIFVJRFxuXHQgKiBAc3RhdGljXG5cdCAqKi9cblx0ZnVuY3Rpb24gVUlEKCkge1xuXHRcdHRocm93IFwiVUlEIGNhbm5vdCBiZSBpbnN0YW50aWF0ZWRcIjtcblx0fVxuXG5cbi8vIHByaXZhdGUgc3RhdGljIHByb3BlcnRpZXM6XG5cdC8qKlxuXHQgKiBAcHJvcGVydHkgX25leHRJRFxuXHQgKiBAdHlwZSBOdW1iZXJcblx0ICogQHByb3RlY3RlZFxuXHQgKiovXG5cdFVJRC5fbmV4dElEID0gMDtcblxuXG4vLyBwdWJsaWMgc3RhdGljIG1ldGhvZHM6XG5cdC8qKlxuXHQgKiBSZXR1cm5zIHRoZSBuZXh0IHVuaXF1ZSBpZC5cblx0ICogQG1ldGhvZCBnZXRcblx0ICogQHJldHVybiB7TnVtYmVyfSBUaGUgbmV4dCB1bmlxdWUgaWRcblx0ICogQHN0YXRpY1xuXHQgKiovXG5cdFVJRC5nZXQgPSBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gVUlELl9uZXh0SUQrKztcblx0fTtcblxuXG5cdGNyZWF0ZWpzLlVJRCA9IFVJRDtcbn0oKSk7XG5cbi8vIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXG4vLyBkZXByZWNhdGUuanNcbi8vIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXG5cbi8qKlxuICogQGNsYXNzIFV0aWxpdHkgTWV0aG9kc1xuICovXG5cbi8qKlxuICogV3JhcHMgZGVwcmVjYXRlZCBtZXRob2RzIHNvIHRoZXkgc3RpbGwgYmUgdXNlZCwgYnV0IHRocm93IHdhcm5pbmdzIHRvIGRldmVsb3BlcnMuXG4gKlxuICpcdG9iai5kZXByZWNhdGVkTWV0aG9kID0gY3JlYXRlanMuZGVwcmVjYXRlKFwiT2xkIE1ldGhvZCBOYW1lXCIsIG9iai5fZmFsbGJhY2tNZXRob2QpO1xuICpcbiAqIFRoZSByZWNvbW1lbmRlZCBhcHByb2FjaCBmb3IgZGVwcmVjYXRlZCBwcm9wZXJ0aWVzIGlzOlxuICpcbiAqXHR0cnkge1xuICpcdFx0T2JqXHRlY3QuZGVmaW5lUHJvcGVydGllcyhvYmplY3QsIHtcbiAqXHRcdFx0cmVhZHlPbmx5UHJvcDogeyBnZXQ6IGNyZWF0ZWpzLmRlcHJlY2F0ZShcInJlYWRPbmx5UHJvcFwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXMuYWx0ZXJuYXRlUHJvcDsgfSkgfSxcbiAqXHRcdFx0cmVhZFdyaXRlUHJvcDoge1xuICpcdFx0XHRcdGdldDogY3JlYXRlanMuZGVwcmVjYXRlKFwicmVhZE9ubHlQcm9wXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpcy5hbHRlcm5hdGVQcm9wOyB9KSxcbiAqXHRcdFx0XHRzZXQ6IGNyZWF0ZWpzLmRlcHJlY2F0ZShcInJlYWRPbmx5UHJvcFwiLCBmdW5jdGlvbih2YWwpIHsgdGhpcy5hbHRlcm5hdGVQcm9wID0gdmFsOyB9KVxuICpcdFx0fSk7XG4gKlx0fSBjYXRjaCAoZSkge31cbiAqXG4gKiBAbWV0aG9kIGRlcHJlY2F0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gW2ZhbGxiYWNrTWV0aG9kPW51bGxdIEEgbWV0aG9kIHRvIGNhbGwgd2hlbiB0aGUgZGVwcmVjYXRlZCBtZXRob2QgaXMgdXNlZC4gU2VlIHRoZSBleGFtcGxlIGZvciBob3dcbiAqIEBwYXJhbSB7U3RyaW5nfSBbbmFtZT1udWxsXSBUaGUgbmFtZSBvZiB0aGUgbWV0aG9kIG9yIHByb3BlcnR5IHRvIGRpc3BsYXkgaW4gdGhlIGNvbnNvbGUgd2FybmluZy5cbiAqIHRvIGRlcHJlY2F0ZSBwcm9wZXJ0aWVzLlxuICogQHJldHVybiB7RnVuY3Rpb259IElmIGEgZmFsbGJhY2tNZXRob2QgaXMgc3VwcGxpZWQsIHJldHVybnMgYSBjbG9zdXJlIHRoYXQgd2lsbCBjYWxsIHRoZSBmYWxsYmFjayBtZXRob2QgYWZ0ZXJcbiAqIGxvZ2dpbmcgdGhlIHdhcm5pbmcgaW4gdGhlIGNvbnNvbGUuXG4gKi9cbmNyZWF0ZWpzLmRlcHJlY2F0ZSA9IGZ1bmN0aW9uKGZhbGxiYWNrTWV0aG9kLCBuYW1lKSB7XG5cdFwidXNlIHN0cmljdFwiO1xuXHRyZXR1cm4gZnVuY3Rpb24oKSB7XG5cdFx0dmFyIG1zZyA9IFwiRGVwcmVjYXRlZCBwcm9wZXJ0eSBvciBtZXRob2QgJ1wiK25hbWUrXCInLiBTZWUgZG9jcyBmb3IgaW5mby5cIjtcblx0XHRjb25zb2xlICYmIChjb25zb2xlLndhcm4gPyBjb25zb2xlLndhcm4obXNnKSA6IGNvbnNvbGUubG9nKG1zZykpO1xuXHRcdHJldHVybiBmYWxsYmFja01ldGhvZCAmJiBmYWxsYmFja01ldGhvZC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHR9XG59O1xuXG4vLyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI1xuLy8gRXZlbnQuanNcbi8vIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXG5cbihmdW5jdGlvbigpIHtcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cbi8vIGNvbnN0cnVjdG9yOlxuXHQvKipcblx0ICogQ29udGFpbnMgcHJvcGVydGllcyBhbmQgbWV0aG9kcyBzaGFyZWQgYnkgYWxsIGV2ZW50cyBmb3IgdXNlIHdpdGhcblx0ICoge3sjY3Jvc3NMaW5rIFwiRXZlbnREaXNwYXRjaGVyXCJ9fXt7L2Nyb3NzTGlua319LlxuXHQgKiBcblx0ICogTm90ZSB0aGF0IEV2ZW50IG9iamVjdHMgYXJlIG9mdGVuIHJldXNlZCwgc28geW91IHNob3VsZCBuZXZlclxuXHQgKiByZWx5IG9uIGFuIGV2ZW50IG9iamVjdCdzIHN0YXRlIG91dHNpZGUgb2YgdGhlIGNhbGwgc3RhY2sgaXQgd2FzIHJlY2VpdmVkIGluLlxuXHQgKiBAY2xhc3MgRXZlbnRcblx0ICogQHBhcmFtIHtTdHJpbmd9IHR5cGUgVGhlIGV2ZW50IHR5cGUuXG5cdCAqIEBwYXJhbSB7Qm9vbGVhbn0gYnViYmxlcyBJbmRpY2F0ZXMgd2hldGhlciB0aGUgZXZlbnQgd2lsbCBidWJibGUgdGhyb3VnaCB0aGUgZGlzcGxheSBsaXN0LlxuXHQgKiBAcGFyYW0ge0Jvb2xlYW59IGNhbmNlbGFibGUgSW5kaWNhdGVzIHdoZXRoZXIgdGhlIGRlZmF1bHQgYmVoYXZpb3VyIG9mIHRoaXMgZXZlbnQgY2FuIGJlIGNhbmNlbGxlZC5cblx0ICogQGNvbnN0cnVjdG9yXG5cdCAqKi9cblx0ZnVuY3Rpb24gRXZlbnQodHlwZSwgYnViYmxlcywgY2FuY2VsYWJsZSkge1xuXHRcdFxuXHRcblx0Ly8gcHVibGljIHByb3BlcnRpZXM6XG5cdFx0LyoqXG5cdFx0ICogVGhlIHR5cGUgb2YgZXZlbnQuXG5cdFx0ICogQHByb3BlcnR5IHR5cGVcblx0XHQgKiBAdHlwZSBTdHJpbmdcblx0XHQgKiovXG5cdFx0dGhpcy50eXBlID0gdHlwZTtcblx0XG5cdFx0LyoqXG5cdFx0ICogVGhlIG9iamVjdCB0aGF0IGdlbmVyYXRlZCBhbiBldmVudC5cblx0XHQgKiBAcHJvcGVydHkgdGFyZ2V0XG5cdFx0ICogQHR5cGUgT2JqZWN0XG5cdFx0ICogQGRlZmF1bHQgbnVsbFxuXHRcdCAqIEByZWFkb25seVxuXHRcdCovXG5cdFx0dGhpcy50YXJnZXQgPSBudWxsO1xuXHRcblx0XHQvKipcblx0XHQgKiBUaGUgY3VycmVudCB0YXJnZXQgdGhhdCBhIGJ1YmJsaW5nIGV2ZW50IGlzIGJlaW5nIGRpc3BhdGNoZWQgZnJvbS4gRm9yIG5vbi1idWJibGluZyBldmVudHMsIHRoaXMgd2lsbFxuXHRcdCAqIGFsd2F5cyBiZSB0aGUgc2FtZSBhcyB0YXJnZXQuIEZvciBleGFtcGxlLCBpZiBjaGlsZE9iai5wYXJlbnQgPSBwYXJlbnRPYmosIGFuZCBhIGJ1YmJsaW5nIGV2ZW50XG5cdFx0ICogaXMgZ2VuZXJhdGVkIGZyb20gY2hpbGRPYmosIHRoZW4gYSBsaXN0ZW5lciBvbiBwYXJlbnRPYmogd291bGQgcmVjZWl2ZSB0aGUgZXZlbnQgd2l0aFxuXHRcdCAqIHRhcmdldD1jaGlsZE9iaiAodGhlIG9yaWdpbmFsIHRhcmdldCkgYW5kIGN1cnJlbnRUYXJnZXQ9cGFyZW50T2JqICh3aGVyZSB0aGUgbGlzdGVuZXIgd2FzIGFkZGVkKS5cblx0XHQgKiBAcHJvcGVydHkgY3VycmVudFRhcmdldFxuXHRcdCAqIEB0eXBlIE9iamVjdFxuXHRcdCAqIEBkZWZhdWx0IG51bGxcblx0XHQgKiBAcmVhZG9ubHlcblx0XHQqL1xuXHRcdHRoaXMuY3VycmVudFRhcmdldCA9IG51bGw7XG5cdFxuXHRcdC8qKlxuXHRcdCAqIEZvciBidWJibGluZyBldmVudHMsIHRoaXMgaW5kaWNhdGVzIHRoZSBjdXJyZW50IGV2ZW50IHBoYXNlOjxPTD5cblx0XHQgKiBcdDxMST4gY2FwdHVyZSBwaGFzZTogc3RhcnRpbmcgZnJvbSB0aGUgdG9wIHBhcmVudCB0byB0aGUgdGFyZ2V0PC9MST5cblx0XHQgKiBcdDxMST4gYXQgdGFyZ2V0IHBoYXNlOiBjdXJyZW50bHkgYmVpbmcgZGlzcGF0Y2hlZCBmcm9tIHRoZSB0YXJnZXQ8L0xJPlxuXHRcdCAqIFx0PExJPiBidWJibGluZyBwaGFzZTogZnJvbSB0aGUgdGFyZ2V0IHRvIHRoZSB0b3AgcGFyZW50PC9MST5cblx0XHQgKiA8L09MPlxuXHRcdCAqIEBwcm9wZXJ0eSBldmVudFBoYXNlXG5cdFx0ICogQHR5cGUgTnVtYmVyXG5cdFx0ICogQGRlZmF1bHQgMFxuXHRcdCAqIEByZWFkb25seVxuXHRcdCovXG5cdFx0dGhpcy5ldmVudFBoYXNlID0gMDtcblx0XG5cdFx0LyoqXG5cdFx0ICogSW5kaWNhdGVzIHdoZXRoZXIgdGhlIGV2ZW50IHdpbGwgYnViYmxlIHRocm91Z2ggdGhlIGRpc3BsYXkgbGlzdC5cblx0XHQgKiBAcHJvcGVydHkgYnViYmxlc1xuXHRcdCAqIEB0eXBlIEJvb2xlYW5cblx0XHQgKiBAZGVmYXVsdCBmYWxzZVxuXHRcdCAqIEByZWFkb25seVxuXHRcdCovXG5cdFx0dGhpcy5idWJibGVzID0gISFidWJibGVzO1xuXHRcblx0XHQvKipcblx0XHQgKiBJbmRpY2F0ZXMgd2hldGhlciB0aGUgZGVmYXVsdCBiZWhhdmlvdXIgb2YgdGhpcyBldmVudCBjYW4gYmUgY2FuY2VsbGVkIHZpYVxuXHRcdCAqIHt7I2Nyb3NzTGluayBcIkV2ZW50L3ByZXZlbnREZWZhdWx0XCJ9fXt7L2Nyb3NzTGlua319LiBUaGlzIGlzIHNldCB2aWEgdGhlIEV2ZW50IGNvbnN0cnVjdG9yLlxuXHRcdCAqIEBwcm9wZXJ0eSBjYW5jZWxhYmxlXG5cdFx0ICogQHR5cGUgQm9vbGVhblxuXHRcdCAqIEBkZWZhdWx0IGZhbHNlXG5cdFx0ICogQHJlYWRvbmx5XG5cdFx0Ki9cblx0XHR0aGlzLmNhbmNlbGFibGUgPSAhIWNhbmNlbGFibGU7XG5cdFxuXHRcdC8qKlxuXHRcdCAqIFRoZSBlcG9jaCB0aW1lIGF0IHdoaWNoIHRoaXMgZXZlbnQgd2FzIGNyZWF0ZWQuXG5cdFx0ICogQHByb3BlcnR5IHRpbWVTdGFtcFxuXHRcdCAqIEB0eXBlIE51bWJlclxuXHRcdCAqIEBkZWZhdWx0IDBcblx0XHQgKiBAcmVhZG9ubHlcblx0XHQqL1xuXHRcdHRoaXMudGltZVN0YW1wID0gKG5ldyBEYXRlKCkpLmdldFRpbWUoKTtcblx0XG5cdFx0LyoqXG5cdFx0ICogSW5kaWNhdGVzIGlmIHt7I2Nyb3NzTGluayBcIkV2ZW50L3ByZXZlbnREZWZhdWx0XCJ9fXt7L2Nyb3NzTGlua319IGhhcyBiZWVuIGNhbGxlZFxuXHRcdCAqIG9uIHRoaXMgZXZlbnQuXG5cdFx0ICogQHByb3BlcnR5IGRlZmF1bHRQcmV2ZW50ZWRcblx0XHQgKiBAdHlwZSBCb29sZWFuXG5cdFx0ICogQGRlZmF1bHQgZmFsc2Vcblx0XHQgKiBAcmVhZG9ubHlcblx0XHQqL1xuXHRcdHRoaXMuZGVmYXVsdFByZXZlbnRlZCA9IGZhbHNlO1xuXHRcblx0XHQvKipcblx0XHQgKiBJbmRpY2F0ZXMgaWYge3sjY3Jvc3NMaW5rIFwiRXZlbnQvc3RvcFByb3BhZ2F0aW9uXCJ9fXt7L2Nyb3NzTGlua319IG9yXG5cdFx0ICoge3sjY3Jvc3NMaW5rIFwiRXZlbnQvc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uXCJ9fXt7L2Nyb3NzTGlua319IGhhcyBiZWVuIGNhbGxlZCBvbiB0aGlzIGV2ZW50LlxuXHRcdCAqIEBwcm9wZXJ0eSBwcm9wYWdhdGlvblN0b3BwZWRcblx0XHQgKiBAdHlwZSBCb29sZWFuXG5cdFx0ICogQGRlZmF1bHQgZmFsc2Vcblx0XHQgKiBAcmVhZG9ubHlcblx0XHQqL1xuXHRcdHRoaXMucHJvcGFnYXRpb25TdG9wcGVkID0gZmFsc2U7XG5cdFxuXHRcdC8qKlxuXHRcdCAqIEluZGljYXRlcyBpZiB7eyNjcm9zc0xpbmsgXCJFdmVudC9zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb25cIn19e3svY3Jvc3NMaW5rfX0gaGFzIGJlZW4gY2FsbGVkXG5cdFx0ICogb24gdGhpcyBldmVudC5cblx0XHQgKiBAcHJvcGVydHkgaW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkXG5cdFx0ICogQHR5cGUgQm9vbGVhblxuXHRcdCAqIEBkZWZhdWx0IGZhbHNlXG5cdFx0ICogQHJlYWRvbmx5XG5cdFx0Ki9cblx0XHR0aGlzLmltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCA9IGZhbHNlO1xuXHRcdFxuXHRcdC8qKlxuXHRcdCAqIEluZGljYXRlcyBpZiB7eyNjcm9zc0xpbmsgXCJFdmVudC9yZW1vdmVcIn19e3svY3Jvc3NMaW5rfX0gaGFzIGJlZW4gY2FsbGVkIG9uIHRoaXMgZXZlbnQuXG5cdFx0ICogQHByb3BlcnR5IHJlbW92ZWRcblx0XHQgKiBAdHlwZSBCb29sZWFuXG5cdFx0ICogQGRlZmF1bHQgZmFsc2Vcblx0XHQgKiBAcmVhZG9ubHlcblx0XHQqL1xuXHRcdHRoaXMucmVtb3ZlZCA9IGZhbHNlO1xuXHR9XG5cdHZhciBwID0gRXZlbnQucHJvdG90eXBlO1xuXG4vLyBwdWJsaWMgbWV0aG9kczpcblx0LyoqXG5cdCAqIFNldHMge3sjY3Jvc3NMaW5rIFwiRXZlbnQvZGVmYXVsdFByZXZlbnRlZFwifX17ey9jcm9zc0xpbmt9fSB0byB0cnVlIGlmIHRoZSBldmVudCBpcyBjYW5jZWxhYmxlLlxuXHQgKiBNaXJyb3JzIHRoZSBET00gbGV2ZWwgMiBldmVudCBzdGFuZGFyZC4gSW4gZ2VuZXJhbCwgY2FuY2VsYWJsZSBldmVudHMgdGhhdCBoYXZlIGBwcmV2ZW50RGVmYXVsdCgpYCBjYWxsZWQgd2lsbFxuXHQgKiBjYW5jZWwgdGhlIGRlZmF1bHQgYmVoYXZpb3VyIGFzc29jaWF0ZWQgd2l0aCB0aGUgZXZlbnQuXG5cdCAqIEBtZXRob2QgcHJldmVudERlZmF1bHRcblx0ICoqL1xuXHRwLnByZXZlbnREZWZhdWx0ID0gZnVuY3Rpb24oKSB7XG5cdFx0dGhpcy5kZWZhdWx0UHJldmVudGVkID0gdGhpcy5jYW5jZWxhYmxlJiZ0cnVlO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBTZXRzIHt7I2Nyb3NzTGluayBcIkV2ZW50L3Byb3BhZ2F0aW9uU3RvcHBlZFwifX17ey9jcm9zc0xpbmt9fSB0byB0cnVlLlxuXHQgKiBNaXJyb3JzIHRoZSBET00gZXZlbnQgc3RhbmRhcmQuXG5cdCAqIEBtZXRob2Qgc3RvcFByb3BhZ2F0aW9uXG5cdCAqKi9cblx0cC5zdG9wUHJvcGFnYXRpb24gPSBmdW5jdGlvbigpIHtcblx0XHR0aGlzLnByb3BhZ2F0aW9uU3RvcHBlZCA9IHRydWU7XG5cdH07XG5cblx0LyoqXG5cdCAqIFNldHMge3sjY3Jvc3NMaW5rIFwiRXZlbnQvcHJvcGFnYXRpb25TdG9wcGVkXCJ9fXt7L2Nyb3NzTGlua319IGFuZFxuXHQgKiB7eyNjcm9zc0xpbmsgXCJFdmVudC9pbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWRcIn19e3svY3Jvc3NMaW5rfX0gdG8gdHJ1ZS5cblx0ICogTWlycm9ycyB0aGUgRE9NIGV2ZW50IHN0YW5kYXJkLlxuXHQgKiBAbWV0aG9kIHN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvblxuXHQgKiovXG5cdHAuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uID0gZnVuY3Rpb24oKSB7XG5cdFx0dGhpcy5pbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQgPSB0aGlzLnByb3BhZ2F0aW9uU3RvcHBlZCA9IHRydWU7XG5cdH07XG5cdFxuXHQvKipcblx0ICogQ2F1c2VzIHRoZSBhY3RpdmUgbGlzdGVuZXIgdG8gYmUgcmVtb3ZlZCB2aWEgcmVtb3ZlRXZlbnRMaXN0ZW5lcigpO1xuXHQgKiBcblx0ICogXHRcdG15QnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbihldnQpIHtcblx0ICogXHRcdFx0Ly8gZG8gc3R1ZmYuLi5cblx0ICogXHRcdFx0ZXZ0LnJlbW92ZSgpOyAvLyByZW1vdmVzIHRoaXMgbGlzdGVuZXIuXG5cdCAqIFx0XHR9KTtcblx0ICogXG5cdCAqIEBtZXRob2QgcmVtb3ZlXG5cdCAqKi9cblx0cC5yZW1vdmUgPSBmdW5jdGlvbigpIHtcblx0XHR0aGlzLnJlbW92ZWQgPSB0cnVlO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIFJldHVybnMgYSBjbG9uZSBvZiB0aGUgRXZlbnQgaW5zdGFuY2UuXG5cdCAqIEBtZXRob2QgY2xvbmVcblx0ICogQHJldHVybiB7RXZlbnR9IGEgY2xvbmUgb2YgdGhlIEV2ZW50IGluc3RhbmNlLlxuXHQgKiovXG5cdHAuY2xvbmUgPSBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gbmV3IEV2ZW50KHRoaXMudHlwZSwgdGhpcy5idWJibGVzLCB0aGlzLmNhbmNlbGFibGUpO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIFByb3ZpZGVzIGEgY2hhaW5hYmxlIHNob3J0Y3V0IG1ldGhvZCBmb3Igc2V0dGluZyBhIG51bWJlciBvZiBwcm9wZXJ0aWVzIG9uIHRoZSBpbnN0YW5jZS5cblx0ICpcblx0ICogQG1ldGhvZCBzZXRcblx0ICogQHBhcmFtIHtPYmplY3R9IHByb3BzIEEgZ2VuZXJpYyBvYmplY3QgY29udGFpbmluZyBwcm9wZXJ0aWVzIHRvIGNvcHkgdG8gdGhlIGluc3RhbmNlLlxuXHQgKiBAcmV0dXJuIHtFdmVudH0gUmV0dXJucyB0aGUgaW5zdGFuY2UgdGhlIG1ldGhvZCBpcyBjYWxsZWQgb24gKHVzZWZ1bCBmb3IgY2hhaW5pbmcgY2FsbHMuKVxuXHQgKiBAY2hhaW5hYmxlXG5cdCovXG5cdHAuc2V0ID0gZnVuY3Rpb24ocHJvcHMpIHtcblx0XHRmb3IgKHZhciBuIGluIHByb3BzKSB7IHRoaXNbbl0gPSBwcm9wc1tuXTsgfVxuXHRcdHJldHVybiB0aGlzO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBSZXR1cm5zIGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoaXMgb2JqZWN0LlxuXHQgKiBAbWV0aG9kIHRvU3RyaW5nXG5cdCAqIEByZXR1cm4ge1N0cmluZ30gYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIGluc3RhbmNlLlxuXHQgKiovXG5cdHAudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gXCJbRXZlbnQgKHR5cGU9XCIrdGhpcy50eXBlK1wiKV1cIjtcblx0fTtcblxuXHRjcmVhdGVqcy5FdmVudCA9IEV2ZW50O1xufSgpKTtcblxuLy8jIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyNcbi8vIEV2ZW50RGlzcGF0Y2hlci5qc1xuLy8jIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyNcblxuKGZ1bmN0aW9uKCkge1xyXG5cdFwidXNlIHN0cmljdFwiO1xyXG5cclxuXHJcbi8vIGNvbnN0cnVjdG9yOlxyXG5cdC8qKlxyXG5cdCAqIEV2ZW50RGlzcGF0Y2hlciBwcm92aWRlcyBtZXRob2RzIGZvciBtYW5hZ2luZyBxdWV1ZXMgb2YgZXZlbnQgbGlzdGVuZXJzIGFuZCBkaXNwYXRjaGluZyBldmVudHMuXHJcblx0ICpcclxuXHQgKiBZb3UgY2FuIGVpdGhlciBleHRlbmQgRXZlbnREaXNwYXRjaGVyIG9yIG1peCBpdHMgbWV0aG9kcyBpbnRvIGFuIGV4aXN0aW5nIHByb3RvdHlwZSBvciBpbnN0YW5jZSBieSB1c2luZyB0aGVcclxuXHQgKiBFdmVudERpc3BhdGNoZXIge3sjY3Jvc3NMaW5rIFwiRXZlbnREaXNwYXRjaGVyL2luaXRpYWxpemVcIn19e3svY3Jvc3NMaW5rfX0gbWV0aG9kLlxyXG5cdCAqIFxyXG5cdCAqIFRvZ2V0aGVyIHdpdGggdGhlIENyZWF0ZUpTIEV2ZW50IGNsYXNzLCBFdmVudERpc3BhdGNoZXIgcHJvdmlkZXMgYW4gZXh0ZW5kZWQgZXZlbnQgbW9kZWwgdGhhdCBpcyBiYXNlZCBvbiB0aGVcclxuXHQgKiBET00gTGV2ZWwgMiBldmVudCBtb2RlbCwgaW5jbHVkaW5nIGFkZEV2ZW50TGlzdGVuZXIsIHJlbW92ZUV2ZW50TGlzdGVuZXIsIGFuZCBkaXNwYXRjaEV2ZW50LiBJdCBzdXBwb3J0c1xyXG5cdCAqIGJ1YmJsaW5nIC8gY2FwdHVyZSwgcHJldmVudERlZmF1bHQsIHN0b3BQcm9wYWdhdGlvbiwgc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uLCBhbmQgaGFuZGxlRXZlbnQuXHJcblx0ICogXHJcblx0ICogRXZlbnREaXNwYXRjaGVyIGFsc28gZXhwb3NlcyBhIHt7I2Nyb3NzTGluayBcIkV2ZW50RGlzcGF0Y2hlci9vblwifX17ey9jcm9zc0xpbmt9fSBtZXRob2QsIHdoaWNoIG1ha2VzIGl0IGVhc2llclxyXG5cdCAqIHRvIGNyZWF0ZSBzY29wZWQgbGlzdGVuZXJzLCBsaXN0ZW5lcnMgdGhhdCBvbmx5IHJ1biBvbmNlLCBhbmQgbGlzdGVuZXJzIHdpdGggYXNzb2NpYXRlZCBhcmJpdHJhcnkgZGF0YS4gVGhlIFxyXG5cdCAqIHt7I2Nyb3NzTGluayBcIkV2ZW50RGlzcGF0Y2hlci9vZmZcIn19e3svY3Jvc3NMaW5rfX0gbWV0aG9kIGlzIG1lcmVseSBhbiBhbGlhcyB0b1xyXG5cdCAqIHt7I2Nyb3NzTGluayBcIkV2ZW50RGlzcGF0Y2hlci9yZW1vdmVFdmVudExpc3RlbmVyXCJ9fXt7L2Nyb3NzTGlua319LlxyXG5cdCAqIFxyXG5cdCAqIEFub3RoZXIgYWRkaXRpb24gdG8gdGhlIERPTSBMZXZlbCAyIG1vZGVsIGlzIHRoZSB7eyNjcm9zc0xpbmsgXCJFdmVudERpc3BhdGNoZXIvcmVtb3ZlQWxsRXZlbnRMaXN0ZW5lcnNcIn19e3svY3Jvc3NMaW5rfX1cclxuXHQgKiBtZXRob2QsIHdoaWNoIGNhbiBiZSB1c2VkIHRvIGxpc3RlbmVycyBmb3IgYWxsIGV2ZW50cywgb3IgbGlzdGVuZXJzIGZvciBhIHNwZWNpZmljIGV2ZW50LiBUaGUgRXZlbnQgb2JqZWN0IGFsc28gXHJcblx0ICogaW5jbHVkZXMgYSB7eyNjcm9zc0xpbmsgXCJFdmVudC9yZW1vdmVcIn19e3svY3Jvc3NMaW5rfX0gbWV0aG9kIHdoaWNoIHJlbW92ZXMgdGhlIGFjdGl2ZSBsaXN0ZW5lci5cclxuXHQgKlxyXG5cdCAqIDxoND5FeGFtcGxlPC9oND5cclxuXHQgKiBBZGQgRXZlbnREaXNwYXRjaGVyIGNhcGFiaWxpdGllcyB0byB0aGUgXCJNeUNsYXNzXCIgY2xhc3MuXHJcblx0ICpcclxuXHQgKiAgICAgIEV2ZW50RGlzcGF0Y2hlci5pbml0aWFsaXplKE15Q2xhc3MucHJvdG90eXBlKTtcclxuXHQgKlxyXG5cdCAqIEFkZCBhbiBldmVudCAoc2VlIHt7I2Nyb3NzTGluayBcIkV2ZW50RGlzcGF0Y2hlci9hZGRFdmVudExpc3RlbmVyXCJ9fXt7L2Nyb3NzTGlua319KS5cclxuXHQgKlxyXG5cdCAqICAgICAgaW5zdGFuY2UuYWRkRXZlbnRMaXN0ZW5lcihcImV2ZW50TmFtZVwiLCBoYW5kbGVyTWV0aG9kKTtcclxuXHQgKiAgICAgIGZ1bmN0aW9uIGhhbmRsZXJNZXRob2QoZXZlbnQpIHtcclxuXHQgKiAgICAgICAgICBjb25zb2xlLmxvZyhldmVudC50YXJnZXQgKyBcIiBXYXMgQ2xpY2tlZFwiKTtcclxuXHQgKiAgICAgIH1cclxuXHQgKlxyXG5cdCAqIDxiPk1haW50YWluaW5nIHByb3BlciBzY29wZTwvYj48YnIgLz5cclxuXHQgKiBTY29wZSAoaWUuIFwidGhpc1wiKSBjYW4gYmUgYmUgYSBjaGFsbGVuZ2Ugd2l0aCBldmVudHMuIFVzaW5nIHRoZSB7eyNjcm9zc0xpbmsgXCJFdmVudERpc3BhdGNoZXIvb25cIn19e3svY3Jvc3NMaW5rfX1cclxuXHQgKiBtZXRob2QgdG8gc3Vic2NyaWJlIHRvIGV2ZW50cyBzaW1wbGlmaWVzIHRoaXMuXHJcblx0ICpcclxuXHQgKiAgICAgIGluc3RhbmNlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbihldmVudCkge1xyXG5cdCAqICAgICAgICAgIGNvbnNvbGUubG9nKGluc3RhbmNlID09IHRoaXMpOyAvLyBmYWxzZSwgc2NvcGUgaXMgYW1iaWd1b3VzLlxyXG5cdCAqICAgICAgfSk7XHJcblx0ICogICAgICBcclxuXHQgKiAgICAgIGluc3RhbmNlLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24oZXZlbnQpIHtcclxuXHQgKiAgICAgICAgICBjb25zb2xlLmxvZyhpbnN0YW5jZSA9PSB0aGlzKTsgLy8gdHJ1ZSwgXCJvblwiIHVzZXMgZGlzcGF0Y2hlciBzY29wZSBieSBkZWZhdWx0LlxyXG5cdCAqICAgICAgfSk7XHJcblx0ICogXHJcblx0ICogSWYgeW91IHdhbnQgdG8gdXNlIGFkZEV2ZW50TGlzdGVuZXIgaW5zdGVhZCwgeW91IG1heSB3YW50IHRvIHVzZSBmdW5jdGlvbi5iaW5kKCkgb3IgYSBzaW1pbGFyIHByb3h5IHRvIG1hbmFnZVxyXG5cdCAqIHNjb3BlLlxyXG5cdCAqXHJcblx0ICogPGI+QnJvd3NlciBzdXBwb3J0PC9iPlxyXG5cdCAqIFRoZSBldmVudCBtb2RlbCBpbiBDcmVhdGVKUyBjYW4gYmUgdXNlZCBzZXBhcmF0ZWx5IGZyb20gdGhlIHN1aXRlIGluIGFueSBwcm9qZWN0LCBob3dldmVyIHRoZSBpbmhlcml0YW5jZSBtb2RlbFxyXG5cdCAqIHJlcXVpcmVzIG1vZGVybiBicm93c2VycyAoSUU5KykuXHJcblx0ICogICAgICBcclxuXHQgKlxyXG5cdCAqIEBjbGFzcyBFdmVudERpc3BhdGNoZXJcclxuXHQgKiBAY29uc3RydWN0b3JcclxuXHQgKiovXHJcblx0ZnVuY3Rpb24gRXZlbnREaXNwYXRjaGVyKCkge1xyXG5cdFxyXG5cdFxyXG5cdC8vIHByaXZhdGUgcHJvcGVydGllczpcclxuXHRcdC8qKlxyXG5cdFx0ICogQHByb3RlY3RlZFxyXG5cdFx0ICogQHByb3BlcnR5IF9saXN0ZW5lcnNcclxuXHRcdCAqIEB0eXBlIE9iamVjdFxyXG5cdFx0ICoqL1xyXG5cdFx0dGhpcy5fbGlzdGVuZXJzID0gbnVsbDtcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBAcHJvdGVjdGVkXHJcblx0XHQgKiBAcHJvcGVydHkgX2NhcHR1cmVMaXN0ZW5lcnNcclxuXHRcdCAqIEB0eXBlIE9iamVjdFxyXG5cdFx0ICoqL1xyXG5cdFx0dGhpcy5fY2FwdHVyZUxpc3RlbmVycyA9IG51bGw7XHJcblx0fVxyXG5cdHZhciBwID0gRXZlbnREaXNwYXRjaGVyLnByb3RvdHlwZTtcclxuXHJcbi8vIHN0YXRpYyBwdWJsaWMgbWV0aG9kczpcclxuXHQvKipcclxuXHQgKiBTdGF0aWMgaW5pdGlhbGl6ZXIgdG8gbWl4IEV2ZW50RGlzcGF0Y2hlciBtZXRob2RzIGludG8gYSB0YXJnZXQgb2JqZWN0IG9yIHByb3RvdHlwZS5cclxuXHQgKiBcclxuXHQgKiBcdFx0RXZlbnREaXNwYXRjaGVyLmluaXRpYWxpemUoTXlDbGFzcy5wcm90b3R5cGUpOyAvLyBhZGQgdG8gdGhlIHByb3RvdHlwZSBvZiB0aGUgY2xhc3NcclxuXHQgKiBcdFx0RXZlbnREaXNwYXRjaGVyLmluaXRpYWxpemUobXlPYmplY3QpOyAvLyBhZGQgdG8gYSBzcGVjaWZpYyBpbnN0YW5jZVxyXG5cdCAqIFxyXG5cdCAqIEBtZXRob2QgaW5pdGlhbGl6ZVxyXG5cdCAqIEBzdGF0aWNcclxuXHQgKiBAcGFyYW0ge09iamVjdH0gdGFyZ2V0IFRoZSB0YXJnZXQgb2JqZWN0IHRvIGluamVjdCBFdmVudERpc3BhdGNoZXIgbWV0aG9kcyBpbnRvLiBUaGlzIGNhbiBiZSBhbiBpbnN0YW5jZSBvciBhXHJcblx0ICogcHJvdG90eXBlLlxyXG5cdCAqKi9cclxuXHRFdmVudERpc3BhdGNoZXIuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uKHRhcmdldCkge1xyXG5cdFx0dGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIgPSBwLmFkZEV2ZW50TGlzdGVuZXI7XHJcblx0XHR0YXJnZXQub24gPSBwLm9uO1xyXG5cdFx0dGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIgPSB0YXJnZXQub2ZmID0gIHAucmVtb3ZlRXZlbnRMaXN0ZW5lcjtcclxuXHRcdHRhcmdldC5yZW1vdmVBbGxFdmVudExpc3RlbmVycyA9IHAucmVtb3ZlQWxsRXZlbnRMaXN0ZW5lcnM7XHJcblx0XHR0YXJnZXQuaGFzRXZlbnRMaXN0ZW5lciA9IHAuaGFzRXZlbnRMaXN0ZW5lcjtcclxuXHRcdHRhcmdldC5kaXNwYXRjaEV2ZW50ID0gcC5kaXNwYXRjaEV2ZW50O1xyXG5cdFx0dGFyZ2V0Ll9kaXNwYXRjaEV2ZW50ID0gcC5fZGlzcGF0Y2hFdmVudDtcclxuXHRcdHRhcmdldC53aWxsVHJpZ2dlciA9IHAud2lsbFRyaWdnZXI7XHJcblx0fTtcclxuXHRcclxuXHJcbi8vIHB1YmxpYyBtZXRob2RzOlxyXG5cdC8qKlxyXG5cdCAqIEFkZHMgdGhlIHNwZWNpZmllZCBldmVudCBsaXN0ZW5lci4gTm90ZSB0aGF0IGFkZGluZyBtdWx0aXBsZSBsaXN0ZW5lcnMgdG8gdGhlIHNhbWUgZnVuY3Rpb24gd2lsbCByZXN1bHQgaW5cclxuXHQgKiBtdWx0aXBsZSBjYWxsYmFja3MgZ2V0dGluZyBmaXJlZC5cclxuXHQgKlxyXG5cdCAqIDxoND5FeGFtcGxlPC9oND5cclxuXHQgKlxyXG5cdCAqICAgICAgZGlzcGxheU9iamVjdC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgaGFuZGxlQ2xpY2spO1xyXG5cdCAqICAgICAgZnVuY3Rpb24gaGFuZGxlQ2xpY2soZXZlbnQpIHtcclxuXHQgKiAgICAgICAgIC8vIENsaWNrIGhhcHBlbmVkLlxyXG5cdCAqICAgICAgfVxyXG5cdCAqXHJcblx0ICogQG1ldGhvZCBhZGRFdmVudExpc3RlbmVyXHJcblx0ICogQHBhcmFtIHtTdHJpbmd9IHR5cGUgVGhlIHN0cmluZyB0eXBlIG9mIHRoZSBldmVudC5cclxuXHQgKiBAcGFyYW0ge0Z1bmN0aW9uIHwgT2JqZWN0fSBsaXN0ZW5lciBBbiBvYmplY3Qgd2l0aCBhIGhhbmRsZUV2ZW50IG1ldGhvZCwgb3IgYSBmdW5jdGlvbiB0aGF0IHdpbGwgYmUgY2FsbGVkIHdoZW5cclxuXHQgKiB0aGUgZXZlbnQgaXMgZGlzcGF0Y2hlZC5cclxuXHQgKiBAcGFyYW0ge0Jvb2xlYW59IFt1c2VDYXB0dXJlXSBGb3IgZXZlbnRzIHRoYXQgYnViYmxlLCBpbmRpY2F0ZXMgd2hldGhlciB0byBsaXN0ZW4gZm9yIHRoZSBldmVudCBpbiB0aGUgY2FwdHVyZSBvciBidWJibGluZy90YXJnZXQgcGhhc2UuXHJcblx0ICogQHJldHVybiB7RnVuY3Rpb24gfCBPYmplY3R9IFJldHVybnMgdGhlIGxpc3RlbmVyIGZvciBjaGFpbmluZyBvciBhc3NpZ25tZW50LlxyXG5cdCAqKi9cclxuXHRwLmFkZEV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbih0eXBlLCBsaXN0ZW5lciwgdXNlQ2FwdHVyZSkge1xyXG5cdFx0dmFyIGxpc3RlbmVycztcclxuXHRcdGlmICh1c2VDYXB0dXJlKSB7XHJcblx0XHRcdGxpc3RlbmVycyA9IHRoaXMuX2NhcHR1cmVMaXN0ZW5lcnMgPSB0aGlzLl9jYXB0dXJlTGlzdGVuZXJzfHx7fTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGxpc3RlbmVycyA9IHRoaXMuX2xpc3RlbmVycyA9IHRoaXMuX2xpc3RlbmVyc3x8e307XHJcblx0XHR9XHJcblx0XHR2YXIgYXJyID0gbGlzdGVuZXJzW3R5cGVdO1xyXG5cdFx0aWYgKGFycikgeyB0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIsIHVzZUNhcHR1cmUpOyB9XHJcblx0XHRhcnIgPSBsaXN0ZW5lcnNbdHlwZV07IC8vIHJlbW92ZSBtYXkgaGF2ZSBkZWxldGVkIHRoZSBhcnJheVxyXG5cdFx0aWYgKCFhcnIpIHsgbGlzdGVuZXJzW3R5cGVdID0gW2xpc3RlbmVyXTsgIH1cclxuXHRcdGVsc2UgeyBhcnIucHVzaChsaXN0ZW5lcik7IH1cclxuXHRcdHJldHVybiBsaXN0ZW5lcjtcclxuXHR9O1xyXG5cdFxyXG5cdC8qKlxyXG5cdCAqIEEgc2hvcnRjdXQgbWV0aG9kIGZvciB1c2luZyBhZGRFdmVudExpc3RlbmVyIHRoYXQgbWFrZXMgaXQgZWFzaWVyIHRvIHNwZWNpZnkgYW4gZXhlY3V0aW9uIHNjb3BlLCBoYXZlIGEgbGlzdGVuZXJcclxuXHQgKiBvbmx5IHJ1biBvbmNlLCBhc3NvY2lhdGUgYXJiaXRyYXJ5IGRhdGEgd2l0aCB0aGUgbGlzdGVuZXIsIGFuZCByZW1vdmUgdGhlIGxpc3RlbmVyLlxyXG5cdCAqIFxyXG5cdCAqIFRoaXMgbWV0aG9kIHdvcmtzIGJ5IGNyZWF0aW5nIGFuIGFub255bW91cyB3cmFwcGVyIGZ1bmN0aW9uIGFuZCBzdWJzY3JpYmluZyBpdCB3aXRoIGFkZEV2ZW50TGlzdGVuZXIuXHJcblx0ICogVGhlIHdyYXBwZXIgZnVuY3Rpb24gaXMgcmV0dXJuZWQgZm9yIHVzZSB3aXRoIGByZW1vdmVFdmVudExpc3RlbmVyYCAob3IgYG9mZmApLlxyXG5cdCAqIFxyXG5cdCAqIDxiPklNUE9SVEFOVDo8L2I+IFRvIHJlbW92ZSBhIGxpc3RlbmVyIGFkZGVkIHdpdGggYG9uYCwgeW91IG11c3QgcGFzcyBpbiB0aGUgcmV0dXJuZWQgd3JhcHBlciBmdW5jdGlvbiBhcyB0aGUgbGlzdGVuZXIsIG9yIHVzZVxyXG5cdCAqIHt7I2Nyb3NzTGluayBcIkV2ZW50L3JlbW92ZVwifX17ey9jcm9zc0xpbmt9fS4gTGlrZXdpc2UsIGVhY2ggdGltZSB5b3UgY2FsbCBgb25gIGEgTkVXIHdyYXBwZXIgZnVuY3Rpb24gaXMgc3Vic2NyaWJlZCwgc28gbXVsdGlwbGUgY2FsbHNcclxuXHQgKiB0byBgb25gIHdpdGggdGhlIHNhbWUgcGFyYW1zIHdpbGwgY3JlYXRlIG11bHRpcGxlIGxpc3RlbmVycy5cclxuXHQgKiBcclxuXHQgKiA8aDQ+RXhhbXBsZTwvaDQ+XHJcblx0ICogXHJcblx0ICogXHRcdHZhciBsaXN0ZW5lciA9IG15QnRuLm9uKFwiY2xpY2tcIiwgaGFuZGxlQ2xpY2ssIG51bGwsIGZhbHNlLCB7Y291bnQ6M30pO1xyXG5cdCAqIFx0XHRmdW5jdGlvbiBoYW5kbGVDbGljayhldnQsIGRhdGEpIHtcclxuXHQgKiBcdFx0XHRkYXRhLmNvdW50IC09IDE7XHJcblx0ICogXHRcdFx0Y29uc29sZS5sb2codGhpcyA9PSBteUJ0bik7IC8vIHRydWUgLSBzY29wZSBkZWZhdWx0cyB0byB0aGUgZGlzcGF0Y2hlclxyXG5cdCAqIFx0XHRcdGlmIChkYXRhLmNvdW50ID09IDApIHtcclxuXHQgKiBcdFx0XHRcdGFsZXJ0KFwiY2xpY2tlZCAzIHRpbWVzIVwiKTtcclxuXHQgKiBcdFx0XHRcdG15QnRuLm9mZihcImNsaWNrXCIsIGxpc3RlbmVyKTtcclxuXHQgKiBcdFx0XHRcdC8vIGFsdGVybmF0ZWx5OiBldnQucmVtb3ZlKCk7XHJcblx0ICogXHRcdFx0fVxyXG5cdCAqIFx0XHR9XHJcblx0ICogXHJcblx0ICogQG1ldGhvZCBvblxyXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlIFRoZSBzdHJpbmcgdHlwZSBvZiB0aGUgZXZlbnQuXHJcblx0ICogQHBhcmFtIHtGdW5jdGlvbiB8IE9iamVjdH0gbGlzdGVuZXIgQW4gb2JqZWN0IHdpdGggYSBoYW5kbGVFdmVudCBtZXRob2QsIG9yIGEgZnVuY3Rpb24gdGhhdCB3aWxsIGJlIGNhbGxlZCB3aGVuXHJcblx0ICogdGhlIGV2ZW50IGlzIGRpc3BhdGNoZWQuXHJcblx0ICogQHBhcmFtIHtPYmplY3R9IFtzY29wZV0gVGhlIHNjb3BlIHRvIGV4ZWN1dGUgdGhlIGxpc3RlbmVyIGluLiBEZWZhdWx0cyB0byB0aGUgZGlzcGF0Y2hlci9jdXJyZW50VGFyZ2V0IGZvciBmdW5jdGlvbiBsaXN0ZW5lcnMsIGFuZCB0byB0aGUgbGlzdGVuZXIgaXRzZWxmIGZvciBvYmplY3QgbGlzdGVuZXJzIChpZS4gdXNpbmcgaGFuZGxlRXZlbnQpLlxyXG5cdCAqIEBwYXJhbSB7Qm9vbGVhbn0gW29uY2U9ZmFsc2VdIElmIHRydWUsIHRoZSBsaXN0ZW5lciB3aWxsIHJlbW92ZSBpdHNlbGYgYWZ0ZXIgdGhlIGZpcnN0IHRpbWUgaXQgaXMgdHJpZ2dlcmVkLlxyXG5cdCAqIEBwYXJhbSB7Kn0gW2RhdGFdIEFyYml0cmFyeSBkYXRhIHRoYXQgd2lsbCBiZSBpbmNsdWRlZCBhcyB0aGUgc2Vjb25kIHBhcmFtZXRlciB3aGVuIHRoZSBsaXN0ZW5lciBpcyBjYWxsZWQuXHJcblx0ICogQHBhcmFtIHtCb29sZWFufSBbdXNlQ2FwdHVyZT1mYWxzZV0gRm9yIGV2ZW50cyB0aGF0IGJ1YmJsZSwgaW5kaWNhdGVzIHdoZXRoZXIgdG8gbGlzdGVuIGZvciB0aGUgZXZlbnQgaW4gdGhlIGNhcHR1cmUgb3IgYnViYmxpbmcvdGFyZ2V0IHBoYXNlLlxyXG5cdCAqIEByZXR1cm4ge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBhbm9ueW1vdXMgZnVuY3Rpb24gdGhhdCB3YXMgY3JlYXRlZCBhbmQgYXNzaWduZWQgYXMgdGhlIGxpc3RlbmVyLiBUaGlzIGlzIG5lZWRlZCB0byByZW1vdmUgdGhlIGxpc3RlbmVyIGxhdGVyIHVzaW5nIC5yZW1vdmVFdmVudExpc3RlbmVyLlxyXG5cdCAqKi9cclxuXHRwLm9uID0gZnVuY3Rpb24odHlwZSwgbGlzdGVuZXIsIHNjb3BlLCBvbmNlLCBkYXRhLCB1c2VDYXB0dXJlKSB7XHJcblx0XHRpZiAobGlzdGVuZXIuaGFuZGxlRXZlbnQpIHtcclxuXHRcdFx0c2NvcGUgPSBzY29wZXx8bGlzdGVuZXI7XHJcblx0XHRcdGxpc3RlbmVyID0gbGlzdGVuZXIuaGFuZGxlRXZlbnQ7XHJcblx0XHR9XHJcblx0XHRzY29wZSA9IHNjb3BlfHx0aGlzO1xyXG5cdFx0cmV0dXJuIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBmdW5jdGlvbihldnQpIHtcclxuXHRcdFx0XHRsaXN0ZW5lci5jYWxsKHNjb3BlLCBldnQsIGRhdGEpO1xyXG5cdFx0XHRcdG9uY2UmJmV2dC5yZW1vdmUoKTtcclxuXHRcdFx0fSwgdXNlQ2FwdHVyZSk7XHJcblx0fTtcclxuXHJcblx0LyoqXHJcblx0ICogUmVtb3ZlcyB0aGUgc3BlY2lmaWVkIGV2ZW50IGxpc3RlbmVyLlxyXG5cdCAqXHJcblx0ICogPGI+SW1wb3J0YW50IE5vdGU6PC9iPiB0aGF0IHlvdSBtdXN0IHBhc3MgdGhlIGV4YWN0IGZ1bmN0aW9uIHJlZmVyZW5jZSB1c2VkIHdoZW4gdGhlIGV2ZW50IHdhcyBhZGRlZC4gSWYgYSBwcm94eVxyXG5cdCAqIGZ1bmN0aW9uLCBvciBmdW5jdGlvbiBjbG9zdXJlIGlzIHVzZWQgYXMgdGhlIGNhbGxiYWNrLCB0aGUgcHJveHkvY2xvc3VyZSByZWZlcmVuY2UgbXVzdCBiZSB1c2VkIC0gYSBuZXcgcHJveHkgb3JcclxuXHQgKiBjbG9zdXJlIHdpbGwgbm90IHdvcmsuXHJcblx0ICpcclxuXHQgKiA8aDQ+RXhhbXBsZTwvaDQ+XHJcblx0ICpcclxuXHQgKiAgICAgIGRpc3BsYXlPYmplY3QucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhhbmRsZUNsaWNrKTtcclxuXHQgKlxyXG5cdCAqIEBtZXRob2QgcmVtb3ZlRXZlbnRMaXN0ZW5lclxyXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlIFRoZSBzdHJpbmcgdHlwZSBvZiB0aGUgZXZlbnQuXHJcblx0ICogQHBhcmFtIHtGdW5jdGlvbiB8IE9iamVjdH0gbGlzdGVuZXIgVGhlIGxpc3RlbmVyIGZ1bmN0aW9uIG9yIG9iamVjdC5cclxuXHQgKiBAcGFyYW0ge0Jvb2xlYW59IFt1c2VDYXB0dXJlXSBGb3IgZXZlbnRzIHRoYXQgYnViYmxlLCBpbmRpY2F0ZXMgd2hldGhlciB0byBsaXN0ZW4gZm9yIHRoZSBldmVudCBpbiB0aGUgY2FwdHVyZSBvciBidWJibGluZy90YXJnZXQgcGhhc2UuXHJcblx0ICoqL1xyXG5cdHAucmVtb3ZlRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uKHR5cGUsIGxpc3RlbmVyLCB1c2VDYXB0dXJlKSB7XHJcblx0XHR2YXIgbGlzdGVuZXJzID0gdXNlQ2FwdHVyZSA/IHRoaXMuX2NhcHR1cmVMaXN0ZW5lcnMgOiB0aGlzLl9saXN0ZW5lcnM7XHJcblx0XHRpZiAoIWxpc3RlbmVycykgeyByZXR1cm47IH1cclxuXHRcdHZhciBhcnIgPSBsaXN0ZW5lcnNbdHlwZV07XHJcblx0XHRpZiAoIWFycikgeyByZXR1cm47IH1cclxuXHRcdGZvciAodmFyIGk9MCxsPWFyci5sZW5ndGg7IGk8bDsgaSsrKSB7XHJcblx0XHRcdGlmIChhcnJbaV0gPT0gbGlzdGVuZXIpIHtcclxuXHRcdFx0XHRpZiAobD09MSkgeyBkZWxldGUobGlzdGVuZXJzW3R5cGVdKTsgfSAvLyBhbGxvd3MgZm9yIGZhc3RlciBjaGVja3MuXHJcblx0XHRcdFx0ZWxzZSB7IGFyci5zcGxpY2UoaSwxKTsgfVxyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fTtcclxuXHRcclxuXHQvKipcclxuXHQgKiBBIHNob3J0Y3V0IHRvIHRoZSByZW1vdmVFdmVudExpc3RlbmVyIG1ldGhvZCwgd2l0aCB0aGUgc2FtZSBwYXJhbWV0ZXJzIGFuZCByZXR1cm4gdmFsdWUuIFRoaXMgaXMgYSBjb21wYW5pb24gdG8gdGhlXHJcblx0ICogLm9uIG1ldGhvZC5cclxuXHQgKiBcclxuXHQgKiA8Yj5JTVBPUlRBTlQ6PC9iPiBUbyByZW1vdmUgYSBsaXN0ZW5lciBhZGRlZCB3aXRoIGBvbmAsIHlvdSBtdXN0IHBhc3MgaW4gdGhlIHJldHVybmVkIHdyYXBwZXIgZnVuY3Rpb24gYXMgdGhlIGxpc3RlbmVyLiBTZWUgXHJcblx0ICoge3sjY3Jvc3NMaW5rIFwiRXZlbnREaXNwYXRjaGVyL29uXCJ9fXt7L2Nyb3NzTGlua319IGZvciBhbiBleGFtcGxlLlxyXG5cdCAqXHJcblx0ICogQG1ldGhvZCBvZmZcclxuXHQgKiBAcGFyYW0ge1N0cmluZ30gdHlwZSBUaGUgc3RyaW5nIHR5cGUgb2YgdGhlIGV2ZW50LlxyXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb24gfCBPYmplY3R9IGxpc3RlbmVyIFRoZSBsaXN0ZW5lciBmdW5jdGlvbiBvciBvYmplY3QuXHJcblx0ICogQHBhcmFtIHtCb29sZWFufSBbdXNlQ2FwdHVyZV0gRm9yIGV2ZW50cyB0aGF0IGJ1YmJsZSwgaW5kaWNhdGVzIHdoZXRoZXIgdG8gbGlzdGVuIGZvciB0aGUgZXZlbnQgaW4gdGhlIGNhcHR1cmUgb3IgYnViYmxpbmcvdGFyZ2V0IHBoYXNlLlxyXG5cdCAqKi9cclxuXHRwLm9mZiA9IHAucmVtb3ZlRXZlbnRMaXN0ZW5lcjtcclxuXHJcblx0LyoqXHJcblx0ICogUmVtb3ZlcyBhbGwgbGlzdGVuZXJzIGZvciB0aGUgc3BlY2lmaWVkIHR5cGUsIG9yIGFsbCBsaXN0ZW5lcnMgb2YgYWxsIHR5cGVzLlxyXG5cdCAqXHJcblx0ICogPGg0PkV4YW1wbGU8L2g0PlxyXG5cdCAqXHJcblx0ICogICAgICAvLyBSZW1vdmUgYWxsIGxpc3RlbmVyc1xyXG5cdCAqICAgICAgZGlzcGxheU9iamVjdC5yZW1vdmVBbGxFdmVudExpc3RlbmVycygpO1xyXG5cdCAqXHJcblx0ICogICAgICAvLyBSZW1vdmUgYWxsIGNsaWNrIGxpc3RlbmVyc1xyXG5cdCAqICAgICAgZGlzcGxheU9iamVjdC5yZW1vdmVBbGxFdmVudExpc3RlbmVycyhcImNsaWNrXCIpO1xyXG5cdCAqXHJcblx0ICogQG1ldGhvZCByZW1vdmVBbGxFdmVudExpc3RlbmVyc1xyXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBbdHlwZV0gVGhlIHN0cmluZyB0eXBlIG9mIHRoZSBldmVudC4gSWYgb21pdHRlZCwgYWxsIGxpc3RlbmVycyBmb3IgYWxsIHR5cGVzIHdpbGwgYmUgcmVtb3ZlZC5cclxuXHQgKiovXHJcblx0cC5yZW1vdmVBbGxFdmVudExpc3RlbmVycyA9IGZ1bmN0aW9uKHR5cGUpIHtcclxuXHRcdGlmICghdHlwZSkgeyB0aGlzLl9saXN0ZW5lcnMgPSB0aGlzLl9jYXB0dXJlTGlzdGVuZXJzID0gbnVsbDsgfVxyXG5cdFx0ZWxzZSB7XHJcblx0XHRcdGlmICh0aGlzLl9saXN0ZW5lcnMpIHsgZGVsZXRlKHRoaXMuX2xpc3RlbmVyc1t0eXBlXSk7IH1cclxuXHRcdFx0aWYgKHRoaXMuX2NhcHR1cmVMaXN0ZW5lcnMpIHsgZGVsZXRlKHRoaXMuX2NhcHR1cmVMaXN0ZW5lcnNbdHlwZV0pOyB9XHJcblx0XHR9XHJcblx0fTtcclxuXHJcblx0LyoqXHJcblx0ICogRGlzcGF0Y2hlcyB0aGUgc3BlY2lmaWVkIGV2ZW50IHRvIGFsbCBsaXN0ZW5lcnMuXHJcblx0ICpcclxuXHQgKiA8aDQ+RXhhbXBsZTwvaDQ+XHJcblx0ICpcclxuXHQgKiAgICAgIC8vIFVzZSBhIHN0cmluZyBldmVudFxyXG5cdCAqICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KFwiY29tcGxldGVcIik7XHJcblx0ICpcclxuXHQgKiAgICAgIC8vIFVzZSBhbiBFdmVudCBpbnN0YW5jZVxyXG5cdCAqICAgICAgdmFyIGV2ZW50ID0gbmV3IGNyZWF0ZWpzLkV2ZW50KFwicHJvZ3Jlc3NcIik7XHJcblx0ICogICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xyXG5cdCAqXHJcblx0ICogQG1ldGhvZCBkaXNwYXRjaEV2ZW50XHJcblx0ICogQHBhcmFtIHtPYmplY3QgfCBTdHJpbmcgfCBFdmVudH0gZXZlbnRPYmogQW4gb2JqZWN0IHdpdGggYSBcInR5cGVcIiBwcm9wZXJ0eSwgb3IgYSBzdHJpbmcgdHlwZS5cclxuXHQgKiBXaGlsZSBhIGdlbmVyaWMgb2JqZWN0IHdpbGwgd29yaywgaXQgaXMgcmVjb21tZW5kZWQgdG8gdXNlIGEgQ3JlYXRlSlMgRXZlbnQgaW5zdGFuY2UuIElmIGEgc3RyaW5nIGlzIHVzZWQsXHJcblx0ICogZGlzcGF0Y2hFdmVudCB3aWxsIGNvbnN0cnVjdCBhbiBFdmVudCBpbnN0YW5jZSBpZiBuZWNlc3Nhcnkgd2l0aCB0aGUgc3BlY2lmaWVkIHR5cGUuIFRoaXMgbGF0dGVyIGFwcHJvYWNoIGNhblxyXG5cdCAqIGJlIHVzZWQgdG8gYXZvaWQgZXZlbnQgb2JqZWN0IGluc3RhbnRpYXRpb24gZm9yIG5vbi1idWJibGluZyBldmVudHMgdGhhdCBtYXkgbm90IGhhdmUgYW55IGxpc3RlbmVycy5cclxuXHQgKiBAcGFyYW0ge0Jvb2xlYW59IFtidWJibGVzXSBTcGVjaWZpZXMgdGhlIGBidWJibGVzYCB2YWx1ZSB3aGVuIGEgc3RyaW5nIHdhcyBwYXNzZWQgdG8gZXZlbnRPYmouXHJcblx0ICogQHBhcmFtIHtCb29sZWFufSBbY2FuY2VsYWJsZV0gU3BlY2lmaWVzIHRoZSBgY2FuY2VsYWJsZWAgdmFsdWUgd2hlbiBhIHN0cmluZyB3YXMgcGFzc2VkIHRvIGV2ZW50T2JqLlxyXG5cdCAqIEByZXR1cm4ge0Jvb2xlYW59IFJldHVybnMgZmFsc2UgaWYgYHByZXZlbnREZWZhdWx0KClgIHdhcyBjYWxsZWQgb24gYSBjYW5jZWxhYmxlIGV2ZW50LCB0cnVlIG90aGVyd2lzZS5cclxuXHQgKiovXHJcblx0cC5kaXNwYXRjaEV2ZW50ID0gZnVuY3Rpb24oZXZlbnRPYmosIGJ1YmJsZXMsIGNhbmNlbGFibGUpIHtcclxuXHRcdGlmICh0eXBlb2YgZXZlbnRPYmogPT0gXCJzdHJpbmdcIikge1xyXG5cdFx0XHQvLyBza2lwIGV2ZXJ5dGhpbmcgaWYgdGhlcmUncyBubyBsaXN0ZW5lcnMgYW5kIGl0IGRvZXNuJ3QgYnViYmxlOlxyXG5cdFx0XHR2YXIgbGlzdGVuZXJzID0gdGhpcy5fbGlzdGVuZXJzO1xyXG5cdFx0XHRpZiAoIWJ1YmJsZXMgJiYgKCFsaXN0ZW5lcnMgfHwgIWxpc3RlbmVyc1tldmVudE9ial0pKSB7IHJldHVybiB0cnVlOyB9XHJcblx0XHRcdGV2ZW50T2JqID0gbmV3IGNyZWF0ZWpzLkV2ZW50KGV2ZW50T2JqLCBidWJibGVzLCBjYW5jZWxhYmxlKTtcclxuXHRcdH0gZWxzZSBpZiAoZXZlbnRPYmoudGFyZ2V0ICYmIGV2ZW50T2JqLmNsb25lKSB7XHJcblx0XHRcdC8vIHJlZGlzcGF0Y2hpbmcgYW4gYWN0aXZlIGV2ZW50IG9iamVjdCwgc28gY2xvbmUgaXQ6XHJcblx0XHRcdGV2ZW50T2JqID0gZXZlbnRPYmouY2xvbmUoKTtcclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0Ly8gVE9ETzogaXQgd291bGQgYmUgbmljZSB0byBlbGltaW5hdGUgdGhpcy4gTWF5YmUgaW4gZmF2b3VyIG9mIGV2dE9iaiBpbnN0YW5jZW9mIEV2ZW50PyBPciAhIWV2dE9iai5jcmVhdGVFdmVudFxyXG5cdFx0dHJ5IHsgZXZlbnRPYmoudGFyZ2V0ID0gdGhpczsgfSBjYXRjaCAoZSkge30gLy8gdHJ5L2NhdGNoIGFsbG93cyByZWRpc3BhdGNoaW5nIG9mIG5hdGl2ZSBldmVudHNcclxuXHJcblx0XHRpZiAoIWV2ZW50T2JqLmJ1YmJsZXMgfHwgIXRoaXMucGFyZW50KSB7XHJcblx0XHRcdHRoaXMuX2Rpc3BhdGNoRXZlbnQoZXZlbnRPYmosIDIpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0dmFyIHRvcD10aGlzLCBsaXN0PVt0b3BdO1xyXG5cdFx0XHR3aGlsZSAodG9wLnBhcmVudCkgeyBsaXN0LnB1c2godG9wID0gdG9wLnBhcmVudCk7IH1cclxuXHRcdFx0dmFyIGksIGw9bGlzdC5sZW5ndGg7XHJcblxyXG5cdFx0XHQvLyBjYXB0dXJlICYgYXRUYXJnZXRcclxuXHRcdFx0Zm9yIChpPWwtMTsgaT49MCAmJiAhZXZlbnRPYmoucHJvcGFnYXRpb25TdG9wcGVkOyBpLS0pIHtcclxuXHRcdFx0XHRsaXN0W2ldLl9kaXNwYXRjaEV2ZW50KGV2ZW50T2JqLCAxKyhpPT0wKSk7XHJcblx0XHRcdH1cclxuXHRcdFx0Ly8gYnViYmxpbmdcclxuXHRcdFx0Zm9yIChpPTE7IGk8bCAmJiAhZXZlbnRPYmoucHJvcGFnYXRpb25TdG9wcGVkOyBpKyspIHtcclxuXHRcdFx0XHRsaXN0W2ldLl9kaXNwYXRjaEV2ZW50KGV2ZW50T2JqLCAzKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuICFldmVudE9iai5kZWZhdWx0UHJldmVudGVkO1xyXG5cdH07XHJcblxyXG5cdC8qKlxyXG5cdCAqIEluZGljYXRlcyB3aGV0aGVyIHRoZXJlIGlzIGF0IGxlYXN0IG9uZSBsaXN0ZW5lciBmb3IgdGhlIHNwZWNpZmllZCBldmVudCB0eXBlLlxyXG5cdCAqIEBtZXRob2QgaGFzRXZlbnRMaXN0ZW5lclxyXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlIFRoZSBzdHJpbmcgdHlwZSBvZiB0aGUgZXZlbnQuXHJcblx0ICogQHJldHVybiB7Qm9vbGVhbn0gUmV0dXJucyB0cnVlIGlmIHRoZXJlIGlzIGF0IGxlYXN0IG9uZSBsaXN0ZW5lciBmb3IgdGhlIHNwZWNpZmllZCBldmVudC5cclxuXHQgKiovXHJcblx0cC5oYXNFdmVudExpc3RlbmVyID0gZnVuY3Rpb24odHlwZSkge1xyXG5cdFx0dmFyIGxpc3RlbmVycyA9IHRoaXMuX2xpc3RlbmVycywgY2FwdHVyZUxpc3RlbmVycyA9IHRoaXMuX2NhcHR1cmVMaXN0ZW5lcnM7XHJcblx0XHRyZXR1cm4gISEoKGxpc3RlbmVycyAmJiBsaXN0ZW5lcnNbdHlwZV0pIHx8IChjYXB0dXJlTGlzdGVuZXJzICYmIGNhcHR1cmVMaXN0ZW5lcnNbdHlwZV0pKTtcclxuXHR9O1xyXG5cdFxyXG5cdC8qKlxyXG5cdCAqIEluZGljYXRlcyB3aGV0aGVyIHRoZXJlIGlzIGF0IGxlYXN0IG9uZSBsaXN0ZW5lciBmb3IgdGhlIHNwZWNpZmllZCBldmVudCB0eXBlIG9uIHRoaXMgb2JqZWN0IG9yIGFueSBvZiBpdHNcclxuXHQgKiBhbmNlc3RvcnMgKHBhcmVudCwgcGFyZW50J3MgcGFyZW50LCBldGMpLiBBIHJldHVybiB2YWx1ZSBvZiB0cnVlIGluZGljYXRlcyB0aGF0IGlmIGEgYnViYmxpbmcgZXZlbnQgb2YgdGhlXHJcblx0ICogc3BlY2lmaWVkIHR5cGUgaXMgZGlzcGF0Y2hlZCBmcm9tIHRoaXMgb2JqZWN0LCBpdCB3aWxsIHRyaWdnZXIgYXQgbGVhc3Qgb25lIGxpc3RlbmVyLlxyXG5cdCAqIFxyXG5cdCAqIFRoaXMgaXMgc2ltaWxhciB0byB7eyNjcm9zc0xpbmsgXCJFdmVudERpc3BhdGNoZXIvaGFzRXZlbnRMaXN0ZW5lclwifX17ey9jcm9zc0xpbmt9fSwgYnV0IGl0IHNlYXJjaGVzIHRoZSBlbnRpcmVcclxuXHQgKiBldmVudCBmbG93IGZvciBhIGxpc3RlbmVyLCBub3QganVzdCB0aGlzIG9iamVjdC5cclxuXHQgKiBAbWV0aG9kIHdpbGxUcmlnZ2VyXHJcblx0ICogQHBhcmFtIHtTdHJpbmd9IHR5cGUgVGhlIHN0cmluZyB0eXBlIG9mIHRoZSBldmVudC5cclxuXHQgKiBAcmV0dXJuIHtCb29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGVyZSBpcyBhdCBsZWFzdCBvbmUgbGlzdGVuZXIgZm9yIHRoZSBzcGVjaWZpZWQgZXZlbnQuXHJcblx0ICoqL1xyXG5cdHAud2lsbFRyaWdnZXIgPSBmdW5jdGlvbih0eXBlKSB7XHJcblx0XHR2YXIgbyA9IHRoaXM7XHJcblx0XHR3aGlsZSAobykge1xyXG5cdFx0XHRpZiAoby5oYXNFdmVudExpc3RlbmVyKHR5cGUpKSB7IHJldHVybiB0cnVlOyB9XHJcblx0XHRcdG8gPSBvLnBhcmVudDtcclxuXHRcdH1cclxuXHRcdHJldHVybiBmYWxzZTtcclxuXHR9O1xyXG5cclxuXHQvKipcclxuXHQgKiBAbWV0aG9kIHRvU3RyaW5nXHJcblx0ICogQHJldHVybiB7U3RyaW5nfSBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgaW5zdGFuY2UuXHJcblx0ICoqL1xyXG5cdHAudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcclxuXHRcdHJldHVybiBcIltFdmVudERpc3BhdGNoZXJdXCI7XHJcblx0fTtcclxuXHJcblxyXG4vLyBwcml2YXRlIG1ldGhvZHM6XHJcblx0LyoqXHJcblx0ICogQG1ldGhvZCBfZGlzcGF0Y2hFdmVudFxyXG5cdCAqIEBwYXJhbSB7T2JqZWN0IHwgRXZlbnR9IGV2ZW50T2JqXHJcblx0ICogQHBhcmFtIHtPYmplY3R9IGV2ZW50UGhhc2VcclxuXHQgKiBAcHJvdGVjdGVkXHJcblx0ICoqL1xyXG5cdHAuX2Rpc3BhdGNoRXZlbnQgPSBmdW5jdGlvbihldmVudE9iaiwgZXZlbnRQaGFzZSkge1xyXG5cdFx0dmFyIGwsIGFyciwgbGlzdGVuZXJzID0gKGV2ZW50UGhhc2UgPD0gMikgPyB0aGlzLl9jYXB0dXJlTGlzdGVuZXJzIDogdGhpcy5fbGlzdGVuZXJzO1xyXG5cdFx0aWYgKGV2ZW50T2JqICYmIGxpc3RlbmVycyAmJiAoYXJyID0gbGlzdGVuZXJzW2V2ZW50T2JqLnR5cGVdKSAmJiAobD1hcnIubGVuZ3RoKSkge1xyXG5cdFx0XHR0cnkgeyBldmVudE9iai5jdXJyZW50VGFyZ2V0ID0gdGhpczsgfSBjYXRjaCAoZSkge31cclxuXHRcdFx0dHJ5IHsgZXZlbnRPYmouZXZlbnRQaGFzZSA9IGV2ZW50UGhhc2V8MDsgfSBjYXRjaCAoZSkge31cclxuXHRcdFx0ZXZlbnRPYmoucmVtb3ZlZCA9IGZhbHNlO1xyXG5cdFx0XHRcclxuXHRcdFx0YXJyID0gYXJyLnNsaWNlKCk7IC8vIHRvIGF2b2lkIGlzc3VlcyB3aXRoIGl0ZW1zIGJlaW5nIHJlbW92ZWQgb3IgYWRkZWQgZHVyaW5nIHRoZSBkaXNwYXRjaFxyXG5cdFx0XHRmb3IgKHZhciBpPTA7IGk8bCAmJiAhZXZlbnRPYmouaW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkOyBpKyspIHtcclxuXHRcdFx0XHR2YXIgbyA9IGFycltpXTtcclxuXHRcdFx0XHRpZiAoby5oYW5kbGVFdmVudCkgeyBvLmhhbmRsZUV2ZW50KGV2ZW50T2JqKTsgfVxyXG5cdFx0XHRcdGVsc2UgeyBvKGV2ZW50T2JqKTsgfVxyXG5cdFx0XHRcdGlmIChldmVudE9iai5yZW1vdmVkKSB7XHJcblx0XHRcdFx0XHR0aGlzLm9mZihldmVudE9iai50eXBlLCBvLCBldmVudFBoYXNlPT0xKTtcclxuXHRcdFx0XHRcdGV2ZW50T2JqLnJlbW92ZWQgPSBmYWxzZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdGlmIChldmVudFBoYXNlID09PSAyKSB7IHRoaXMuX2Rpc3BhdGNoRXZlbnQoZXZlbnRPYmosIDIuMSk7IH1cclxuXHR9O1xyXG5cclxuXHJcblx0Y3JlYXRlanMuRXZlbnREaXNwYXRjaGVyID0gRXZlbnREaXNwYXRjaGVyO1xyXG59KCkpO1xuXG4vLyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI1xuLy8gVGlja2VyLmpzXG4vLyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI1xuXG4oZnVuY3Rpb24oKSB7XG5cdFwidXNlIHN0cmljdFwiO1xuXG5cbi8vIGNvbnN0cnVjdG9yOlxuXHQvKipcblx0ICogVGhlIFRpY2tlciBwcm92aWRlcyBhIGNlbnRyYWxpemVkIHRpY2sgb3IgaGVhcnRiZWF0IGJyb2FkY2FzdCBhdCBhIHNldCBpbnRlcnZhbC4gTGlzdGVuZXJzIGNhbiBzdWJzY3JpYmUgdG8gdGhlIHRpY2tcblx0ICogZXZlbnQgdG8gYmUgbm90aWZpZWQgd2hlbiBhIHNldCB0aW1lIGludGVydmFsIGhhcyBlbGFwc2VkLlxuXHQgKlxuXHQgKiBOb3RlIHRoYXQgdGhlIGludGVydmFsIHRoYXQgdGhlIHRpY2sgZXZlbnQgaXMgY2FsbGVkIGlzIGEgdGFyZ2V0IGludGVydmFsLCBhbmQgbWF5IGJlIGJyb2FkY2FzdCBhdCBhIHNsb3dlciBpbnRlcnZhbFxuXHQgKiB3aGVuIHVuZGVyIGhpZ2ggQ1BVIGxvYWQuIFRoZSBUaWNrZXIgY2xhc3MgdXNlcyBhIHN0YXRpYyBpbnRlcmZhY2UgKGV4LiBgVGlja2VyLmZyYW1lcmF0ZSA9IDMwO2ApIGFuZFxuXHQgKiBjYW4gbm90IGJlIGluc3RhbnRpYXRlZC5cblx0ICpcblx0ICogPGg0PkV4YW1wbGU8L2g0PlxuXHQgKlxuXHQgKiAgICAgIGNyZWF0ZWpzLlRpY2tlci5hZGRFdmVudExpc3RlbmVyKFwidGlja1wiLCBoYW5kbGVUaWNrKTtcblx0ICogICAgICBmdW5jdGlvbiBoYW5kbGVUaWNrKGV2ZW50KSB7XG5cdCAqICAgICAgICAgIC8vIEFjdGlvbnMgY2FycmllZCBvdXQgZWFjaCB0aWNrIChha2EgZnJhbWUpXG5cdCAqICAgICAgICAgIGlmICghZXZlbnQucGF1c2VkKSB7XG5cdCAqICAgICAgICAgICAgICAvLyBBY3Rpb25zIGNhcnJpZWQgb3V0IHdoZW4gdGhlIFRpY2tlciBpcyBub3QgcGF1c2VkLlxuXHQgKiAgICAgICAgICB9XG5cdCAqICAgICAgfVxuXHQgKlxuXHQgKiBAY2xhc3MgVGlja2VyXG5cdCAqIEB1c2VzIEV2ZW50RGlzcGF0Y2hlclxuXHQgKiBAc3RhdGljXG5cdCAqKi9cblx0ZnVuY3Rpb24gVGlja2VyKCkge1xuXHRcdHRocm93IFwiVGlja2VyIGNhbm5vdCBiZSBpbnN0YW50aWF0ZWQuXCI7XG5cdH1cblxuXG4vLyBjb25zdGFudHM6XG5cdC8qKlxuXHQgKiBJbiB0aGlzIG1vZGUsIFRpY2tlciB1c2VzIHRoZSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgQVBJLCBidXQgYXR0ZW1wdHMgdG8gc3luY2ggdGhlIHRpY2tzIHRvIHRhcmdldCBmcmFtZXJhdGUuIEl0XG5cdCAqIHVzZXMgYSBzaW1wbGUgaGV1cmlzdGljIHRoYXQgY29tcGFyZXMgdGhlIHRpbWUgb2YgdGhlIFJBRiByZXR1cm4gdG8gdGhlIHRhcmdldCB0aW1lIGZvciB0aGUgY3VycmVudCBmcmFtZSBhbmRcblx0ICogZGlzcGF0Y2hlcyB0aGUgdGljayB3aGVuIHRoZSB0aW1lIGlzIHdpdGhpbiBhIGNlcnRhaW4gdGhyZXNob2xkLlxuXHQgKlxuXHQgKiBUaGlzIG1vZGUgaGFzIGEgaGlnaGVyIHZhcmlhbmNlIGZvciB0aW1lIGJldHdlZW4gZnJhbWVzIHRoYW4ge3sjY3Jvc3NMaW5rIFwiVGlja2VyL1RJTUVPVVQ6cHJvcGVydHlcIn19e3svY3Jvc3NMaW5rfX0sXG5cdCAqIGJ1dCBkb2VzIG5vdCByZXF1aXJlIHRoYXQgY29udGVudCBiZSB0aW1lIGJhc2VkIGFzIHdpdGgge3sjY3Jvc3NMaW5rIFwiVGlja2VyL1JBRjpwcm9wZXJ0eVwifX17ey9jcm9zc0xpbmt9fSB3aGlsZVxuXHQgKiBnYWluaW5nIHRoZSBiZW5lZml0cyBvZiB0aGF0IEFQSSAoc2NyZWVuIHN5bmNoLCBiYWNrZ3JvdW5kIHRocm90dGxpbmcpLlxuXHQgKlxuXHQgKiBWYXJpYW5jZSBpcyB1c3VhbGx5IGxvd2VzdCBmb3IgZnJhbWVyYXRlcyB0aGF0IGFyZSBhIGRpdmlzb3Igb2YgdGhlIFJBRiBmcmVxdWVuY3kuIFRoaXMgaXMgdXN1YWxseSA2MCwgc29cblx0ICogZnJhbWVyYXRlcyBvZiAxMCwgMTIsIDE1LCAyMCwgYW5kIDMwIHdvcmsgd2VsbC5cblx0ICpcblx0ICogRmFsbHMgYmFjayB0byB7eyNjcm9zc0xpbmsgXCJUaWNrZXIvVElNRU9VVDpwcm9wZXJ0eVwifX17ey9jcm9zc0xpbmt9fSBpZiB0aGUgcmVxdWVzdEFuaW1hdGlvbkZyYW1lIEFQSSBpcyBub3Rcblx0ICogc3VwcG9ydGVkLlxuXHQgKiBAcHJvcGVydHkgUkFGX1NZTkNIRURcblx0ICogQHN0YXRpY1xuXHQgKiBAdHlwZSB7U3RyaW5nfVxuXHQgKiBAZGVmYXVsdCBcInN5bmNoZWRcIlxuXHQgKiBAcmVhZG9ubHlcblx0ICoqL1xuXHRUaWNrZXIuUkFGX1NZTkNIRUQgPSBcInN5bmNoZWRcIjtcblxuXHQvKipcblx0ICogSW4gdGhpcyBtb2RlLCBUaWNrZXIgcGFzc2VzIHRocm91Z2ggdGhlIHJlcXVlc3RBbmltYXRpb25GcmFtZSBoZWFydGJlYXQsIGlnbm9yaW5nIHRoZSB0YXJnZXQgZnJhbWVyYXRlIGNvbXBsZXRlbHkuXG5cdCAqIEJlY2F1c2UgcmVxdWVzdEFuaW1hdGlvbkZyYW1lIGZyZXF1ZW5jeSBpcyBub3QgZGV0ZXJtaW5pc3RpYywgYW55IGNvbnRlbnQgdXNpbmcgdGhpcyBtb2RlIHNob3VsZCBiZSB0aW1lIGJhc2VkLlxuXHQgKiBZb3UgY2FuIGxldmVyYWdlIHt7I2Nyb3NzTGluayBcIlRpY2tlci9nZXRUaW1lXCJ9fXt7L2Nyb3NzTGlua319IGFuZCB0aGUge3sjY3Jvc3NMaW5rIFwiVGlja2VyL3RpY2s6ZXZlbnRcIn19e3svY3Jvc3NMaW5rfX1cblx0ICogZXZlbnQgb2JqZWN0J3MgXCJkZWx0YVwiIHByb3BlcnRpZXMgdG8gbWFrZSB0aGlzIGVhc2llci5cblx0ICpcblx0ICogRmFsbHMgYmFjayBvbiB7eyNjcm9zc0xpbmsgXCJUaWNrZXIvVElNRU9VVDpwcm9wZXJ0eVwifX17ey9jcm9zc0xpbmt9fSBpZiB0aGUgcmVxdWVzdEFuaW1hdGlvbkZyYW1lIEFQSSBpcyBub3Rcblx0ICogc3VwcG9ydGVkLlxuXHQgKiBAcHJvcGVydHkgUkFGXG5cdCAqIEBzdGF0aWNcblx0ICogQHR5cGUge1N0cmluZ31cblx0ICogQGRlZmF1bHQgXCJyYWZcIlxuXHQgKiBAcmVhZG9ubHlcblx0ICoqL1xuXHRUaWNrZXIuUkFGID0gXCJyYWZcIjtcblxuXHQvKipcblx0ICogSW4gdGhpcyBtb2RlLCBUaWNrZXIgdXNlcyB0aGUgc2V0VGltZW91dCBBUEkuIFRoaXMgcHJvdmlkZXMgcHJlZGljdGFibGUsIGFkYXB0aXZlIGZyYW1lIHRpbWluZywgYnV0IGRvZXMgbm90XG5cdCAqIHByb3ZpZGUgdGhlIGJlbmVmaXRzIG9mIHJlcXVlc3RBbmltYXRpb25GcmFtZSAoc2NyZWVuIHN5bmNoLCBiYWNrZ3JvdW5kIHRocm90dGxpbmcpLlxuXHQgKiBAcHJvcGVydHkgVElNRU9VVFxuXHQgKiBAc3RhdGljXG5cdCAqIEB0eXBlIHtTdHJpbmd9XG5cdCAqIEBkZWZhdWx0IFwidGltZW91dFwiXG5cdCAqIEByZWFkb25seVxuXHQgKiovXG5cdFRpY2tlci5USU1FT1VUID0gXCJ0aW1lb3V0XCI7XG5cblxuLy8gc3RhdGljIGV2ZW50czpcblx0LyoqXG5cdCAqIERpc3BhdGNoZWQgZWFjaCB0aWNrLiBUaGUgZXZlbnQgd2lsbCBiZSBkaXNwYXRjaGVkIHRvIGVhY2ggbGlzdGVuZXIgZXZlbiB3aGVuIHRoZSBUaWNrZXIgaGFzIGJlZW4gcGF1c2VkIHVzaW5nXG5cdCAqIHt7I2Nyb3NzTGluayBcIlRpY2tlci9wYXVzZWQ6cHJvcGVydHlcIn19e3svY3Jvc3NMaW5rfX0uXG5cdCAqXG5cdCAqIDxoND5FeGFtcGxlPC9oND5cblx0ICpcblx0ICogICAgICBjcmVhdGVqcy5UaWNrZXIuYWRkRXZlbnRMaXN0ZW5lcihcInRpY2tcIiwgaGFuZGxlVGljayk7XG5cdCAqICAgICAgZnVuY3Rpb24gaGFuZGxlVGljayhldmVudCkge1xuXHQgKiAgICAgICAgICBjb25zb2xlLmxvZyhcIlBhdXNlZDpcIiwgZXZlbnQucGF1c2VkLCBldmVudC5kZWx0YSk7XG5cdCAqICAgICAgfVxuXHQgKlxuXHQgKiBAZXZlbnQgdGlja1xuXHQgKiBAcGFyYW0ge09iamVjdH0gdGFyZ2V0IFRoZSBvYmplY3QgdGhhdCBkaXNwYXRjaGVkIHRoZSBldmVudC5cblx0ICogQHBhcmFtIHtTdHJpbmd9IHR5cGUgVGhlIGV2ZW50IHR5cGUuXG5cdCAqIEBwYXJhbSB7Qm9vbGVhbn0gcGF1c2VkIEluZGljYXRlcyB3aGV0aGVyIHRoZSB0aWNrZXIgaXMgY3VycmVudGx5IHBhdXNlZC5cblx0ICogQHBhcmFtIHtOdW1iZXJ9IGRlbHRhIFRoZSB0aW1lIGVsYXBzZWQgaW4gbXMgc2luY2UgdGhlIGxhc3QgdGljay5cblx0ICogQHBhcmFtIHtOdW1iZXJ9IHRpbWUgVGhlIHRvdGFsIHRpbWUgaW4gbXMgc2luY2UgVGlja2VyIHdhcyBpbml0aWFsaXplZC5cblx0ICogQHBhcmFtIHtOdW1iZXJ9IHJ1blRpbWUgVGhlIHRvdGFsIHRpbWUgaW4gbXMgdGhhdCBUaWNrZXIgd2FzIG5vdCBwYXVzZWQgc2luY2UgaXQgd2FzIGluaXRpYWxpemVkLiBGb3IgZXhhbXBsZSxcblx0ICogXHR5b3UgY291bGQgZGV0ZXJtaW5lIHRoZSBhbW91bnQgb2YgdGltZSB0aGF0IHRoZSBUaWNrZXIgaGFzIGJlZW4gcGF1c2VkIHNpbmNlIGluaXRpYWxpemF0aW9uIHdpdGggYHRpbWUtcnVuVGltZWAuXG5cdCAqIEBzaW5jZSAwLjYuMFxuXHQgKi9cblxuXG4vLyBwdWJsaWMgc3RhdGljIHByb3BlcnRpZXM6XG5cdC8qKlxuXHQgKiBTcGVjaWZpZXMgdGhlIHRpbWluZyBhcGkgKHNldFRpbWVvdXQgb3IgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKSBhbmQgbW9kZSB0byB1c2UuIFNlZVxuXHQgKiB7eyNjcm9zc0xpbmsgXCJUaWNrZXIvVElNRU9VVDpwcm9wZXJ0eVwifX17ey9jcm9zc0xpbmt9fSwge3sjY3Jvc3NMaW5rIFwiVGlja2VyL1JBRjpwcm9wZXJ0eVwifX17ey9jcm9zc0xpbmt9fSwgYW5kXG5cdCAqIHt7I2Nyb3NzTGluayBcIlRpY2tlci9SQUZfU1lOQ0hFRDpwcm9wZXJ0eVwifX17ey9jcm9zc0xpbmt9fSBmb3IgbW9kZSBkZXRhaWxzLlxuXHQgKiBAcHJvcGVydHkgdGltaW5nTW9kZVxuXHQgKiBAc3RhdGljXG5cdCAqIEB0eXBlIHtTdHJpbmd9XG5cdCAqIEBkZWZhdWx0IFRpY2tlci5USU1FT1VUXG5cdCAqKi9cblx0VGlja2VyLnRpbWluZ01vZGUgPSBudWxsO1xuXG5cdC8qKlxuXHQgKiBTcGVjaWZpZXMgYSBtYXhpbXVtIHZhbHVlIGZvciB0aGUgZGVsdGEgcHJvcGVydHkgaW4gdGhlIHRpY2sgZXZlbnQgb2JqZWN0LiBUaGlzIGlzIHVzZWZ1bCB3aGVuIGJ1aWxkaW5nIHRpbWVcblx0ICogYmFzZWQgYW5pbWF0aW9ucyBhbmQgc3lzdGVtcyB0byBwcmV2ZW50IGlzc3VlcyBjYXVzZWQgYnkgbGFyZ2UgdGltZSBnYXBzIGNhdXNlZCBieSBiYWNrZ3JvdW5kIHRhYnMsIHN5c3RlbSBzbGVlcCxcblx0ICogYWxlcnQgZGlhbG9ncywgb3Igb3RoZXIgYmxvY2tpbmcgcm91dGluZXMuIERvdWJsZSB0aGUgZXhwZWN0ZWQgZnJhbWUgZHVyYXRpb24gaXMgb2Z0ZW4gYW4gZWZmZWN0aXZlIHZhbHVlXG5cdCAqIChleC4gbWF4RGVsdGE9NTAgd2hlbiBydW5uaW5nIGF0IDQwZnBzKS5cblx0ICogXG5cdCAqIFRoaXMgZG9lcyBub3QgaW1wYWN0IGFueSBvdGhlciB2YWx1ZXMgKGV4LiB0aW1lLCBydW5UaW1lLCBldGMpLCBzbyB5b3UgbWF5IGV4cGVyaWVuY2UgaXNzdWVzIGlmIHlvdSBlbmFibGUgbWF4RGVsdGFcblx0ICogd2hlbiB1c2luZyBib3RoIGRlbHRhIGFuZCBvdGhlciB2YWx1ZXMuXG5cdCAqIFxuXHQgKiBJZiAwLCB0aGVyZSBpcyBubyBtYXhpbXVtLlxuXHQgKiBAcHJvcGVydHkgbWF4RGVsdGFcblx0ICogQHN0YXRpY1xuXHQgKiBAdHlwZSB7bnVtYmVyfVxuXHQgKiBAZGVmYXVsdCAwXG5cdCAqL1xuXHRUaWNrZXIubWF4RGVsdGEgPSAwO1xuXHRcblx0LyoqXG5cdCAqIFdoZW4gdGhlIHRpY2tlciBpcyBwYXVzZWQsIGFsbCBsaXN0ZW5lcnMgd2lsbCBzdGlsbCByZWNlaXZlIGEgdGljayBldmVudCwgYnV0IHRoZSA8Y29kZT5wYXVzZWQ8L2NvZGU+IHByb3BlcnR5XG5cdCAqIG9mIHRoZSBldmVudCB3aWxsIGJlIGB0cnVlYC4gQWxzbywgd2hpbGUgcGF1c2VkIHRoZSBgcnVuVGltZWAgd2lsbCBub3QgaW5jcmVhc2UuIFNlZSB7eyNjcm9zc0xpbmsgXCJUaWNrZXIvdGljazpldmVudFwifX17ey9jcm9zc0xpbmt9fSxcblx0ICoge3sjY3Jvc3NMaW5rIFwiVGlja2VyL2dldFRpbWVcIn19e3svY3Jvc3NMaW5rfX0sIGFuZCB7eyNjcm9zc0xpbmsgXCJUaWNrZXIvZ2V0RXZlbnRUaW1lXCJ9fXt7L2Nyb3NzTGlua319IGZvciBtb3JlXG5cdCAqIGluZm8uXG5cdCAqXG5cdCAqIDxoND5FeGFtcGxlPC9oND5cblx0ICpcblx0ICogICAgICBjcmVhdGVqcy5UaWNrZXIuYWRkRXZlbnRMaXN0ZW5lcihcInRpY2tcIiwgaGFuZGxlVGljayk7XG5cdCAqICAgICAgY3JlYXRlanMuVGlja2VyLnBhdXNlZCA9IHRydWU7XG5cdCAqICAgICAgZnVuY3Rpb24gaGFuZGxlVGljayhldmVudCkge1xuXHQgKiAgICAgICAgICBjb25zb2xlLmxvZyhldmVudC5wYXVzZWQsXG5cdCAqICAgICAgICAgIFx0Y3JlYXRlanMuVGlja2VyLmdldFRpbWUoZmFsc2UpLFxuXHQgKiAgICAgICAgICBcdGNyZWF0ZWpzLlRpY2tlci5nZXRUaW1lKHRydWUpKTtcblx0ICogICAgICB9XG5cdCAqXG5cdCAqIEBwcm9wZXJ0eSBwYXVzZWRcblx0ICogQHN0YXRpY1xuXHQgKiBAdHlwZSB7Qm9vbGVhbn1cblx0ICogQGRlZmF1bHQgZmFsc2Vcblx0ICoqL1xuXHRUaWNrZXIucGF1c2VkID0gZmFsc2U7XG5cblxuLy8gbWl4LWluczpcblx0Ly8gRXZlbnREaXNwYXRjaGVyIG1ldGhvZHM6XG5cdFRpY2tlci5yZW1vdmVFdmVudExpc3RlbmVyID0gbnVsbDtcblx0VGlja2VyLnJlbW92ZUFsbEV2ZW50TGlzdGVuZXJzID0gbnVsbDtcblx0VGlja2VyLmRpc3BhdGNoRXZlbnQgPSBudWxsO1xuXHRUaWNrZXIuaGFzRXZlbnRMaXN0ZW5lciA9IG51bGw7XG5cdFRpY2tlci5fbGlzdGVuZXJzID0gbnVsbDtcblx0Y3JlYXRlanMuRXZlbnREaXNwYXRjaGVyLmluaXRpYWxpemUoVGlja2VyKTsgLy8gaW5qZWN0IEV2ZW50RGlzcGF0Y2hlciBtZXRob2RzLlxuXHRUaWNrZXIuX2FkZEV2ZW50TGlzdGVuZXIgPSBUaWNrZXIuYWRkRXZlbnRMaXN0ZW5lcjtcblx0VGlja2VyLmFkZEV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbigpIHtcblx0XHQhVGlja2VyLl9pbml0ZWQmJlRpY2tlci5pbml0KCk7XG5cdFx0cmV0dXJuIFRpY2tlci5fYWRkRXZlbnRMaXN0ZW5lci5hcHBseShUaWNrZXIsIGFyZ3VtZW50cyk7XG5cdH07XG5cblxuLy8gcHJpdmF0ZSBzdGF0aWMgcHJvcGVydGllczpcblx0LyoqXG5cdCAqIEBwcm9wZXJ0eSBfaW5pdGVkXG5cdCAqIEBzdGF0aWNcblx0ICogQHR5cGUge0Jvb2xlYW59XG5cdCAqIEBwcml2YXRlXG5cdCAqKi9cblx0VGlja2VyLl9pbml0ZWQgPSBmYWxzZTtcblxuXHQvKipcblx0ICogQHByb3BlcnR5IF9zdGFydFRpbWVcblx0ICogQHN0YXRpY1xuXHQgKiBAdHlwZSB7TnVtYmVyfVxuXHQgKiBAcHJpdmF0ZVxuXHQgKiovXG5cdFRpY2tlci5fc3RhcnRUaW1lID0gMDtcblxuXHQvKipcblx0ICogQHByb3BlcnR5IF9wYXVzZWRUaW1lXG5cdCAqIEBzdGF0aWNcblx0ICogQHR5cGUge051bWJlcn1cblx0ICogQHByaXZhdGVcblx0ICoqL1xuXHRUaWNrZXIuX3BhdXNlZFRpbWU9MDtcblxuXHQvKipcblx0ICogVGhlIG51bWJlciBvZiB0aWNrcyB0aGF0IGhhdmUgcGFzc2VkXG5cdCAqIEBwcm9wZXJ0eSBfdGlja3Ncblx0ICogQHN0YXRpY1xuXHQgKiBAdHlwZSB7TnVtYmVyfVxuXHQgKiBAcHJpdmF0ZVxuXHQgKiovXG5cdFRpY2tlci5fdGlja3MgPSAwO1xuXG5cdC8qKlxuXHQgKiBUaGUgbnVtYmVyIG9mIHRpY2tzIHRoYXQgaGF2ZSBwYXNzZWQgd2hpbGUgVGlja2VyIGhhcyBiZWVuIHBhdXNlZFxuXHQgKiBAcHJvcGVydHkgX3BhdXNlZFRpY2tzXG5cdCAqIEBzdGF0aWNcblx0ICogQHR5cGUge051bWJlcn1cblx0ICogQHByaXZhdGVcblx0ICoqL1xuXHRUaWNrZXIuX3BhdXNlZFRpY2tzID0gMDtcblxuXHQvKipcblx0ICogQHByb3BlcnR5IF9pbnRlcnZhbFxuXHQgKiBAc3RhdGljXG5cdCAqIEB0eXBlIHtOdW1iZXJ9XG5cdCAqIEBwcml2YXRlXG5cdCAqKi9cblx0VGlja2VyLl9pbnRlcnZhbCA9IDUwO1xuXG5cdC8qKlxuXHQgKiBAcHJvcGVydHkgX2xhc3RUaW1lXG5cdCAqIEBzdGF0aWNcblx0ICogQHR5cGUge051bWJlcn1cblx0ICogQHByaXZhdGVcblx0ICoqL1xuXHRUaWNrZXIuX2xhc3RUaW1lID0gMDtcblxuXHQvKipcblx0ICogQHByb3BlcnR5IF90aW1lc1xuXHQgKiBAc3RhdGljXG5cdCAqIEB0eXBlIHtBcnJheX1cblx0ICogQHByaXZhdGVcblx0ICoqL1xuXHRUaWNrZXIuX3RpbWVzID0gbnVsbDtcblxuXHQvKipcblx0ICogQHByb3BlcnR5IF90aWNrVGltZXNcblx0ICogQHN0YXRpY1xuXHQgKiBAdHlwZSB7QXJyYXl9XG5cdCAqIEBwcml2YXRlXG5cdCAqKi9cblx0VGlja2VyLl90aWNrVGltZXMgPSBudWxsO1xuXG5cdC8qKlxuXHQgKiBTdG9yZXMgdGhlIHRpbWVvdXQgb3IgcmVxdWVzdEFuaW1hdGlvbkZyYW1lIGlkLlxuXHQgKiBAcHJvcGVydHkgX3RpbWVySWRcblx0ICogQHN0YXRpY1xuXHQgKiBAdHlwZSB7TnVtYmVyfVxuXHQgKiBAcHJpdmF0ZVxuXHQgKiovXG5cdFRpY2tlci5fdGltZXJJZCA9IG51bGw7XG5cdFxuXHQvKipcblx0ICogVHJ1ZSBpZiBjdXJyZW50bHkgdXNpbmcgcmVxdWVzdEFuaW1hdGlvbkZyYW1lLCBmYWxzZSBpZiB1c2luZyBzZXRUaW1lb3V0LiBUaGlzIG1heSBiZSBkaWZmZXJlbnQgdGhhbiB0aW1pbmdNb2RlXG5cdCAqIGlmIHRoYXQgcHJvcGVydHkgY2hhbmdlZCBhbmQgYSB0aWNrIGhhc24ndCBmaXJlZC5cblx0ICogQHByb3BlcnR5IF9yYWZcblx0ICogQHN0YXRpY1xuXHQgKiBAdHlwZSB7Qm9vbGVhbn1cblx0ICogQHByaXZhdGVcblx0ICoqL1xuXHRUaWNrZXIuX3JhZiA9IHRydWU7XG5cdFxuXG4vLyBzdGF0aWMgZ2V0dGVyIC8gc2V0dGVyczpcblx0LyoqXG5cdCAqIFVzZSB0aGUge3sjY3Jvc3NMaW5rIFwiVGlja2VyL2ludGVydmFsOnByb3BlcnR5XCJ9fXt7L2Nyb3NzTGlua319IHByb3BlcnR5IGluc3RlYWQuXG5cdCAqIEBtZXRob2QgX3NldEludGVydmFsXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBzdGF0aWNcblx0ICogQHBhcmFtIHtOdW1iZXJ9IGludGVydmFsXG5cdCAqKi9cblx0VGlja2VyLl9zZXRJbnRlcnZhbCA9IGZ1bmN0aW9uKGludGVydmFsKSB7XG5cdFx0VGlja2VyLl9pbnRlcnZhbCA9IGludGVydmFsO1xuXHRcdGlmICghVGlja2VyLl9pbml0ZWQpIHsgcmV0dXJuOyB9XG5cdFx0VGlja2VyLl9zZXR1cFRpY2soKTtcblx0fTtcblx0Ly8gVGlja2VyLnNldEludGVydmFsIGlzIEBkZXByZWNhdGVkLiBSZW1vdmUgZm9yIDEuMStcblx0VGlja2VyLnNldEludGVydmFsID0gY3JlYXRlanMuZGVwcmVjYXRlKFRpY2tlci5fc2V0SW50ZXJ2YWwsIFwiVGlja2VyLnNldEludGVydmFsXCIpO1xuXG5cdC8qKlxuXHQgKiBVc2UgdGhlIHt7I2Nyb3NzTGluayBcIlRpY2tlci9pbnRlcnZhbDpwcm9wZXJ0eVwifX17ey9jcm9zc0xpbmt9fSBwcm9wZXJ0eSBpbnN0ZWFkLlxuXHQgKiBAbWV0aG9kIF9nZXRJbnRlcnZhbFxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAc3RhdGljXG5cdCAqIEByZXR1cm4ge051bWJlcn1cblx0ICoqL1xuXHRUaWNrZXIuX2dldEludGVydmFsID0gZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIFRpY2tlci5faW50ZXJ2YWw7XG5cdH07XG5cdC8vIFRpY2tlci5nZXRJbnRlcnZhbCBpcyBAZGVwcmVjYXRlZC4gUmVtb3ZlIGZvciAxLjErXG5cdFRpY2tlci5nZXRJbnRlcnZhbCA9IGNyZWF0ZWpzLmRlcHJlY2F0ZShUaWNrZXIuX2dldEludGVydmFsLCBcIlRpY2tlci5nZXRJbnRlcnZhbFwiKTtcblxuXHQvKipcblx0ICogVXNlIHRoZSB7eyNjcm9zc0xpbmsgXCJUaWNrZXIvZnJhbWVyYXRlOnByb3BlcnR5XCJ9fXt7L2Nyb3NzTGlua319IHByb3BlcnR5IGluc3RlYWQuXG5cdCAqIEBtZXRob2QgX3NldEZQU1xuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAc3RhdGljXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB2YWx1ZVxuXHQgKiovXG5cdFRpY2tlci5fc2V0RlBTID0gZnVuY3Rpb24odmFsdWUpIHtcblx0XHRUaWNrZXIuX3NldEludGVydmFsKDEwMDAvdmFsdWUpO1xuXHR9O1xuXHQvLyBUaWNrZXIuc2V0RlBTIGlzIEBkZXByZWNhdGVkLiBSZW1vdmUgZm9yIDEuMStcblx0VGlja2VyLnNldEZQUyA9IGNyZWF0ZWpzLmRlcHJlY2F0ZShUaWNrZXIuX3NldEZQUywgXCJUaWNrZXIuc2V0RlBTXCIpO1xuXG5cdC8qKlxuXHQgKiBVc2UgdGhlIHt7I2Nyb3NzTGluayBcIlRpY2tlci9mcmFtZXJhdGU6cHJvcGVydHlcIn19e3svY3Jvc3NMaW5rfX0gcHJvcGVydHkgaW5zdGVhZC5cblx0ICogQG1ldGhvZCBfZ2V0RlBTXG5cdCAqIEBzdGF0aWNcblx0ICogQHByaXZhdGVcblx0ICogQHJldHVybiB7TnVtYmVyfVxuXHQgKiovXG5cdFRpY2tlci5fZ2V0RlBTID0gZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIDEwMDAvVGlja2VyLl9pbnRlcnZhbDtcblx0fTtcblx0Ly8gVGlja2VyLmdldEZQUyBpcyBAZGVwcmVjYXRlZC4gUmVtb3ZlIGZvciAxLjErXG5cdFRpY2tlci5nZXRGUFMgPSBjcmVhdGVqcy5kZXByZWNhdGUoVGlja2VyLl9nZXRGUFMsIFwiVGlja2VyLmdldEZQU1wiKTtcblxuXHQvKipcblx0ICogSW5kaWNhdGVzIHRoZSB0YXJnZXQgdGltZSAoaW4gbWlsbGlzZWNvbmRzKSBiZXR3ZWVuIHRpY2tzLiBEZWZhdWx0IGlzIDUwICgyMCBGUFMpLlxuXHQgKiBOb3RlIHRoYXQgYWN0dWFsIHRpbWUgYmV0d2VlbiB0aWNrcyBtYXkgYmUgbW9yZSB0aGFuIHNwZWNpZmllZCBkZXBlbmRpbmcgb24gQ1BVIGxvYWQuXG5cdCAqIFRoaXMgcHJvcGVydHkgaXMgaWdub3JlZCBpZiB0aGUgdGlja2VyIGlzIHVzaW5nIHRoZSBgUkFGYCB0aW1pbmcgbW9kZS5cblx0ICogQHByb3BlcnR5IGludGVydmFsXG5cdCAqIEBzdGF0aWNcblx0ICogQHR5cGUge051bWJlcn1cblx0ICoqL1xuXHQgXG5cdC8qKlxuXHQgKiBJbmRpY2F0ZXMgdGhlIHRhcmdldCBmcmFtZSByYXRlIGluIGZyYW1lcyBwZXIgc2Vjb25kIChGUFMpLiBFZmZlY3RpdmVseSBqdXN0IGEgc2hvcnRjdXQgdG8gYGludGVydmFsYCwgd2hlcmVcblx0ICogYGZyYW1lcmF0ZSA9PSAxMDAwL2ludGVydmFsYC5cblx0ICogQHByb3BlcnR5IGZyYW1lcmF0ZVxuXHQgKiBAc3RhdGljXG5cdCAqIEB0eXBlIHtOdW1iZXJ9XG5cdCAqKi9cblx0dHJ5IHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydGllcyhUaWNrZXIsIHtcblx0XHRcdGludGVydmFsOiB7IGdldDogVGlja2VyLl9nZXRJbnRlcnZhbCwgc2V0OiBUaWNrZXIuX3NldEludGVydmFsIH0sXG5cdFx0XHRmcmFtZXJhdGU6IHsgZ2V0OiBUaWNrZXIuX2dldEZQUywgc2V0OiBUaWNrZXIuX3NldEZQUyB9XG5cdFx0fSk7XG5cdH0gY2F0Y2ggKGUpIHsgY29uc29sZS5sb2coZSk7IH1cblxuXG4vLyBwdWJsaWMgc3RhdGljIG1ldGhvZHM6XG5cdC8qKlxuXHQgKiBTdGFydHMgdGhlIHRpY2suIFRoaXMgaXMgY2FsbGVkIGF1dG9tYXRpY2FsbHkgd2hlbiB0aGUgZmlyc3QgbGlzdGVuZXIgaXMgYWRkZWQuXG5cdCAqIEBtZXRob2QgaW5pdFxuXHQgKiBAc3RhdGljXG5cdCAqKi9cblx0VGlja2VyLmluaXQgPSBmdW5jdGlvbigpIHtcblx0XHRpZiAoVGlja2VyLl9pbml0ZWQpIHsgcmV0dXJuOyB9XG5cdFx0VGlja2VyLl9pbml0ZWQgPSB0cnVlO1xuXHRcdFRpY2tlci5fdGltZXMgPSBbXTtcblx0XHRUaWNrZXIuX3RpY2tUaW1lcyA9IFtdO1xuXHRcdFRpY2tlci5fc3RhcnRUaW1lID0gVGlja2VyLl9nZXRUaW1lKCk7XG5cdFx0VGlja2VyLl90aW1lcy5wdXNoKFRpY2tlci5fbGFzdFRpbWUgPSAwKTtcblx0XHRUaWNrZXIuaW50ZXJ2YWwgPSBUaWNrZXIuX2ludGVydmFsO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIFN0b3BzIHRoZSBUaWNrZXIgYW5kIHJlbW92ZXMgYWxsIGxpc3RlbmVycy4gVXNlIGluaXQoKSB0byByZXN0YXJ0IHRoZSBUaWNrZXIuXG5cdCAqIEBtZXRob2QgcmVzZXRcblx0ICogQHN0YXRpY1xuXHQgKiovXG5cdFRpY2tlci5yZXNldCA9IGZ1bmN0aW9uKCkge1xuXHRcdGlmIChUaWNrZXIuX3JhZikge1xuXHRcdFx0dmFyIGYgPSB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUgfHwgd2luZG93LndlYmtpdENhbmNlbEFuaW1hdGlvbkZyYW1lIHx8IHdpbmRvdy5tb3pDYW5jZWxBbmltYXRpb25GcmFtZSB8fCB3aW5kb3cub0NhbmNlbEFuaW1hdGlvbkZyYW1lIHx8IHdpbmRvdy5tc0NhbmNlbEFuaW1hdGlvbkZyYW1lO1xuXHRcdFx0ZiYmZihUaWNrZXIuX3RpbWVySWQpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRjbGVhclRpbWVvdXQoVGlja2VyLl90aW1lcklkKTtcblx0XHR9XG5cdFx0VGlja2VyLnJlbW92ZUFsbEV2ZW50TGlzdGVuZXJzKFwidGlja1wiKTtcblx0XHRUaWNrZXIuX3RpbWVySWQgPSBUaWNrZXIuX3RpbWVzID0gVGlja2VyLl90aWNrVGltZXMgPSBudWxsO1xuXHRcdFRpY2tlci5fc3RhcnRUaW1lID0gVGlja2VyLl9sYXN0VGltZSA9IFRpY2tlci5fdGlja3MgPSBUaWNrZXIuX3BhdXNlZFRpbWUgPSAwO1xuXHRcdFRpY2tlci5faW5pdGVkID0gZmFsc2U7XG5cdH07XG5cblx0LyoqXG5cdCAqIFJldHVybnMgdGhlIGF2ZXJhZ2UgdGltZSBzcGVudCB3aXRoaW4gYSB0aWNrLiBUaGlzIGNhbiB2YXJ5IHNpZ25pZmljYW50bHkgZnJvbSB0aGUgdmFsdWUgcHJvdmlkZWQgYnkgZ2V0TWVhc3VyZWRGUFNcblx0ICogYmVjYXVzZSBpdCBvbmx5IG1lYXN1cmVzIHRoZSB0aW1lIHNwZW50IHdpdGhpbiB0aGUgdGljayBleGVjdXRpb24gc3RhY2suIFxuXHQgKiBcblx0ICogRXhhbXBsZSAxOiBXaXRoIGEgdGFyZ2V0IEZQUyBvZiAyMCwgZ2V0TWVhc3VyZWRGUFMoKSByZXR1cm5zIDIwZnBzLCB3aGljaCBpbmRpY2F0ZXMgYW4gYXZlcmFnZSBvZiA1MG1zIGJldHdlZW4gXG5cdCAqIHRoZSBlbmQgb2Ygb25lIHRpY2sgYW5kIHRoZSBlbmQgb2YgdGhlIG5leHQuIEhvd2V2ZXIsIGdldE1lYXN1cmVkVGlja1RpbWUoKSByZXR1cm5zIDE1bXMuIFRoaXMgaW5kaWNhdGVzIHRoYXQgXG5cdCAqIHRoZXJlIG1heSBiZSB1cCB0byAzNW1zIG9mIFwiaWRsZVwiIHRpbWUgYmV0d2VlbiB0aGUgZW5kIG9mIG9uZSB0aWNrIGFuZCB0aGUgc3RhcnQgb2YgdGhlIG5leHQuXG5cdCAqXG5cdCAqIEV4YW1wbGUgMjogV2l0aCBhIHRhcmdldCBGUFMgb2YgMzAsIHt7I2Nyb3NzTGluayBcIlRpY2tlci9mcmFtZXJhdGU6cHJvcGVydHlcIn19e3svY3Jvc3NMaW5rfX0gcmV0dXJucyAxMGZwcywgd2hpY2hcblx0ICogaW5kaWNhdGVzIGFuIGF2ZXJhZ2Ugb2YgMTAwbXMgYmV0d2VlbiB0aGUgZW5kIG9mIG9uZSB0aWNrIGFuZCB0aGUgZW5kIG9mIHRoZSBuZXh0LiBIb3dldmVyLCB7eyNjcm9zc0xpbmsgXCJUaWNrZXIvZ2V0TWVhc3VyZWRUaWNrVGltZVwifX17ey9jcm9zc0xpbmt9fVxuXHQgKiByZXR1cm5zIDIwbXMuIFRoaXMgd291bGQgaW5kaWNhdGUgdGhhdCBzb21ldGhpbmcgb3RoZXIgdGhhbiB0aGUgdGljayBpcyB1c2luZyB+ODBtcyAoYW5vdGhlciBzY3JpcHQsIERPTVxuXHQgKiByZW5kZXJpbmcsIGV0YykuXG5cdCAqIEBtZXRob2QgZ2V0TWVhc3VyZWRUaWNrVGltZVxuXHQgKiBAc3RhdGljXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBbdGlja3NdIFRoZSBudW1iZXIgb2YgcHJldmlvdXMgdGlja3Mgb3ZlciB3aGljaCB0byBtZWFzdXJlIHRoZSBhdmVyYWdlIHRpbWUgc3BlbnQgaW4gYSB0aWNrLlxuXHQgKiBEZWZhdWx0cyB0byB0aGUgbnVtYmVyIG9mIHRpY2tzIHBlciBzZWNvbmQuIFRvIGdldCBvbmx5IHRoZSBsYXN0IHRpY2sncyB0aW1lLCBwYXNzIGluIDEuXG5cdCAqIEByZXR1cm4ge051bWJlcn0gVGhlIGF2ZXJhZ2UgdGltZSBzcGVudCBpbiBhIHRpY2sgaW4gbWlsbGlzZWNvbmRzLlxuXHQgKiovXG5cdFRpY2tlci5nZXRNZWFzdXJlZFRpY2tUaW1lID0gZnVuY3Rpb24odGlja3MpIHtcblx0XHR2YXIgdHRsPTAsIHRpbWVzPVRpY2tlci5fdGlja1RpbWVzO1xuXHRcdGlmICghdGltZXMgfHwgdGltZXMubGVuZ3RoIDwgMSkgeyByZXR1cm4gLTE7IH1cblxuXHRcdC8vIGJ5IGRlZmF1bHQsIGNhbGN1bGF0ZSBhdmVyYWdlIGZvciB0aGUgcGFzdCB+MSBzZWNvbmQ6XG5cdFx0dGlja3MgPSBNYXRoLm1pbih0aW1lcy5sZW5ndGgsIHRpY2tzfHwoVGlja2VyLl9nZXRGUFMoKXwwKSk7XG5cdFx0Zm9yICh2YXIgaT0wOyBpPHRpY2tzOyBpKyspIHsgdHRsICs9IHRpbWVzW2ldOyB9XG5cdFx0cmV0dXJuIHR0bC90aWNrcztcblx0fTtcblxuXHQvKipcblx0ICogUmV0dXJucyB0aGUgYWN0dWFsIGZyYW1lcyAvIHRpY2tzIHBlciBzZWNvbmQuXG5cdCAqIEBtZXRob2QgZ2V0TWVhc3VyZWRGUFNcblx0ICogQHN0YXRpY1xuXHQgKiBAcGFyYW0ge051bWJlcn0gW3RpY2tzXSBUaGUgbnVtYmVyIG9mIHByZXZpb3VzIHRpY2tzIG92ZXIgd2hpY2ggdG8gbWVhc3VyZSB0aGUgYWN0dWFsIGZyYW1lcyAvIHRpY2tzIHBlciBzZWNvbmQuXG5cdCAqIERlZmF1bHRzIHRvIHRoZSBudW1iZXIgb2YgdGlja3MgcGVyIHNlY29uZC5cblx0ICogQHJldHVybiB7TnVtYmVyfSBUaGUgYWN0dWFsIGZyYW1lcyAvIHRpY2tzIHBlciBzZWNvbmQuIERlcGVuZGluZyBvbiBwZXJmb3JtYW5jZSwgdGhpcyBtYXkgZGlmZmVyXG5cdCAqIGZyb20gdGhlIHRhcmdldCBmcmFtZXMgcGVyIHNlY29uZC5cblx0ICoqL1xuXHRUaWNrZXIuZ2V0TWVhc3VyZWRGUFMgPSBmdW5jdGlvbih0aWNrcykge1xuXHRcdHZhciB0aW1lcyA9IFRpY2tlci5fdGltZXM7XG5cdFx0aWYgKCF0aW1lcyB8fCB0aW1lcy5sZW5ndGggPCAyKSB7IHJldHVybiAtMTsgfVxuXG5cdFx0Ly8gYnkgZGVmYXVsdCwgY2FsY3VsYXRlIGZwcyBmb3IgdGhlIHBhc3QgfjEgc2Vjb25kOlxuXHRcdHRpY2tzID0gTWF0aC5taW4odGltZXMubGVuZ3RoLTEsIHRpY2tzfHwoVGlja2VyLl9nZXRGUFMoKXwwKSk7XG5cdFx0cmV0dXJuIDEwMDAvKCh0aW1lc1swXS10aW1lc1t0aWNrc10pL3RpY2tzKTtcblx0fTtcblxuXHQvKipcblx0ICogUmV0dXJucyB0aGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0aGF0IGhhdmUgZWxhcHNlZCBzaW5jZSBUaWNrZXIgd2FzIGluaXRpYWxpemVkIHZpYSB7eyNjcm9zc0xpbmsgXCJUaWNrZXIvaW5pdFwifX0uXG5cdCAqIFJldHVybnMgLTEgaWYgVGlja2VyIGhhcyBub3QgYmVlbiBpbml0aWFsaXplZC4gRm9yIGV4YW1wbGUsIHlvdSBjb3VsZCB1c2Vcblx0ICogdGhpcyBpbiBhIHRpbWUgc3luY2hyb25pemVkIGFuaW1hdGlvbiB0byBkZXRlcm1pbmUgdGhlIGV4YWN0IGFtb3VudCBvZiB0aW1lIHRoYXQgaGFzIGVsYXBzZWQuXG5cdCAqIEBtZXRob2QgZ2V0VGltZVxuXHQgKiBAc3RhdGljXG5cdCAqIEBwYXJhbSB7Qm9vbGVhbn0gW3J1blRpbWU9ZmFsc2VdIElmIHRydWUgb25seSB0aW1lIGVsYXBzZWQgd2hpbGUgVGlja2VyIHdhcyBub3QgcGF1c2VkIHdpbGwgYmUgcmV0dXJuZWQuXG5cdCAqIElmIGZhbHNlLCB0aGUgdmFsdWUgcmV0dXJuZWQgd2lsbCBiZSB0b3RhbCB0aW1lIGVsYXBzZWQgc2luY2UgdGhlIGZpcnN0IHRpY2sgZXZlbnQgbGlzdGVuZXIgd2FzIGFkZGVkLlxuXHQgKiBAcmV0dXJuIHtOdW1iZXJ9IE51bWJlciBvZiBtaWxsaXNlY29uZHMgdGhhdCBoYXZlIGVsYXBzZWQgc2luY2UgVGlja2VyIHdhcyBpbml0aWFsaXplZCBvciAtMS5cblx0ICoqL1xuXHRUaWNrZXIuZ2V0VGltZSA9IGZ1bmN0aW9uKHJ1blRpbWUpIHtcblx0XHRyZXR1cm4gVGlja2VyLl9zdGFydFRpbWUgPyBUaWNrZXIuX2dldFRpbWUoKSAtIChydW5UaW1lID8gVGlja2VyLl9wYXVzZWRUaW1lIDogMCkgOiAtMTtcblx0fTtcblxuXHQvKipcblx0ICogU2ltaWxhciB0byB0aGUge3sjY3Jvc3NMaW5rIFwiVGlja2VyL2dldFRpbWVcIn19e3svY3Jvc3NMaW5rfX0gbWV0aG9kLCBidXQgcmV0dXJucyB0aGUgdGltZSBvbiB0aGUgbW9zdCByZWNlbnQge3sjY3Jvc3NMaW5rIFwiVGlja2VyL3RpY2s6ZXZlbnRcIn19e3svY3Jvc3NMaW5rfX1cblx0ICogZXZlbnQgb2JqZWN0LlxuXHQgKiBAbWV0aG9kIGdldEV2ZW50VGltZVxuXHQgKiBAc3RhdGljXG5cdCAqIEBwYXJhbSBydW5UaW1lIHtCb29sZWFufSBbcnVuVGltZT1mYWxzZV0gSWYgdHJ1ZSwgdGhlIHJ1blRpbWUgcHJvcGVydHkgd2lsbCBiZSByZXR1cm5lZCBpbnN0ZWFkIG9mIHRpbWUuXG5cdCAqIEByZXR1cm5zIHtudW1iZXJ9IFRoZSB0aW1lIG9yIHJ1blRpbWUgcHJvcGVydHkgZnJvbSB0aGUgbW9zdCByZWNlbnQgdGljayBldmVudCBvciAtMS5cblx0ICovXG5cdFRpY2tlci5nZXRFdmVudFRpbWUgPSBmdW5jdGlvbihydW5UaW1lKSB7XG5cdFx0cmV0dXJuIFRpY2tlci5fc3RhcnRUaW1lID8gKFRpY2tlci5fbGFzdFRpbWUgfHwgVGlja2VyLl9zdGFydFRpbWUpIC0gKHJ1blRpbWUgPyBUaWNrZXIuX3BhdXNlZFRpbWUgOiAwKSA6IC0xO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIFJldHVybnMgdGhlIG51bWJlciBvZiB0aWNrcyB0aGF0IGhhdmUgYmVlbiBicm9hZGNhc3QgYnkgVGlja2VyLlxuXHQgKiBAbWV0aG9kIGdldFRpY2tzXG5cdCAqIEBzdGF0aWNcblx0ICogQHBhcmFtIHtCb29sZWFufSBwYXVzZWFibGUgSW5kaWNhdGVzIHdoZXRoZXIgdG8gaW5jbHVkZSB0aWNrcyB0aGF0IHdvdWxkIGhhdmUgYmVlbiBicm9hZGNhc3Rcblx0ICogd2hpbGUgVGlja2VyIHdhcyBwYXVzZWQuIElmIHRydWUgb25seSB0aWNrIGV2ZW50cyBicm9hZGNhc3Qgd2hpbGUgVGlja2VyIGlzIG5vdCBwYXVzZWQgd2lsbCBiZSByZXR1cm5lZC5cblx0ICogSWYgZmFsc2UsIHRpY2sgZXZlbnRzIHRoYXQgd291bGQgaGF2ZSBiZWVuIGJyb2FkY2FzdCB3aGlsZSBUaWNrZXIgd2FzIHBhdXNlZCB3aWxsIGJlIGluY2x1ZGVkIGluIHRoZSByZXR1cm5cblx0ICogdmFsdWUuIFRoZSBkZWZhdWx0IHZhbHVlIGlzIGZhbHNlLlxuXHQgKiBAcmV0dXJuIHtOdW1iZXJ9IG9mIHRpY2tzIHRoYXQgaGF2ZSBiZWVuIGJyb2FkY2FzdC5cblx0ICoqL1xuXHRUaWNrZXIuZ2V0VGlja3MgPSBmdW5jdGlvbihwYXVzZWFibGUpIHtcblx0XHRyZXR1cm4gIFRpY2tlci5fdGlja3MgLSAocGF1c2VhYmxlID8gVGlja2VyLl9wYXVzZWRUaWNrcyA6IDApO1xuXHR9O1xuXG5cbi8vIHByaXZhdGUgc3RhdGljIG1ldGhvZHM6XG5cdC8qKlxuXHQgKiBAbWV0aG9kIF9oYW5kbGVTeW5jaFxuXHQgKiBAc3RhdGljXG5cdCAqIEBwcml2YXRlXG5cdCAqKi9cblx0VGlja2VyLl9oYW5kbGVTeW5jaCA9IGZ1bmN0aW9uKCkge1xuXHRcdFRpY2tlci5fdGltZXJJZCA9IG51bGw7XG5cdFx0VGlja2VyLl9zZXR1cFRpY2soKTtcblxuXHRcdC8vIHJ1biBpZiBlbm91Z2ggdGltZSBoYXMgZWxhcHNlZCwgd2l0aCBhIGxpdHRsZSBiaXQgb2YgZmxleGliaWxpdHkgdG8gYmUgZWFybHk6XG5cdFx0aWYgKFRpY2tlci5fZ2V0VGltZSgpIC0gVGlja2VyLl9sYXN0VGltZSA+PSAoVGlja2VyLl9pbnRlcnZhbC0xKSowLjk3KSB7XG5cdFx0XHRUaWNrZXIuX3RpY2soKTtcblx0XHR9XG5cdH07XG5cblx0LyoqXG5cdCAqIEBtZXRob2QgX2hhbmRsZVJBRlxuXHQgKiBAc3RhdGljXG5cdCAqIEBwcml2YXRlXG5cdCAqKi9cblx0VGlja2VyLl9oYW5kbGVSQUYgPSBmdW5jdGlvbigpIHtcblx0XHRUaWNrZXIuX3RpbWVySWQgPSBudWxsO1xuXHRcdFRpY2tlci5fc2V0dXBUaWNrKCk7XG5cdFx0VGlja2VyLl90aWNrKCk7XG5cdH07XG5cblx0LyoqXG5cdCAqIEBtZXRob2QgX2hhbmRsZVRpbWVvdXRcblx0ICogQHN0YXRpY1xuXHQgKiBAcHJpdmF0ZVxuXHQgKiovXG5cdFRpY2tlci5faGFuZGxlVGltZW91dCA9IGZ1bmN0aW9uKCkge1xuXHRcdFRpY2tlci5fdGltZXJJZCA9IG51bGw7XG5cdFx0VGlja2VyLl9zZXR1cFRpY2soKTtcblx0XHRUaWNrZXIuX3RpY2soKTtcblx0fTtcblxuXHQvKipcblx0ICogQG1ldGhvZCBfc2V0dXBUaWNrXG5cdCAqIEBzdGF0aWNcblx0ICogQHByaXZhdGVcblx0ICoqL1xuXHRUaWNrZXIuX3NldHVwVGljayA9IGZ1bmN0aW9uKCkge1xuXHRcdGlmIChUaWNrZXIuX3RpbWVySWQgIT0gbnVsbCkgeyByZXR1cm47IH0gLy8gYXZvaWQgZHVwbGljYXRlc1xuXG5cdFx0dmFyIG1vZGUgPSBUaWNrZXIudGltaW5nTW9kZTtcblx0XHRpZiAobW9kZSA9PSBUaWNrZXIuUkFGX1NZTkNIRUQgfHwgbW9kZSA9PSBUaWNrZXIuUkFGKSB7XG5cdFx0XHR2YXIgZiA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgd2luZG93LndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCB3aW5kb3cubW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IHdpbmRvdy5vUmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IHdpbmRvdy5tc1JlcXVlc3RBbmltYXRpb25GcmFtZTtcblx0XHRcdGlmIChmKSB7XG5cdFx0XHRcdFRpY2tlci5fdGltZXJJZCA9IGYobW9kZSA9PSBUaWNrZXIuUkFGID8gVGlja2VyLl9oYW5kbGVSQUYgOiBUaWNrZXIuX2hhbmRsZVN5bmNoKTtcblx0XHRcdFx0VGlja2VyLl9yYWYgPSB0cnVlO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFx0fVxuXHRcdFRpY2tlci5fcmFmID0gZmFsc2U7XG5cdFx0VGlja2VyLl90aW1lcklkID0gc2V0VGltZW91dChUaWNrZXIuX2hhbmRsZVRpbWVvdXQsIFRpY2tlci5faW50ZXJ2YWwpO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBAbWV0aG9kIF90aWNrXG5cdCAqIEBzdGF0aWNcblx0ICogQHByaXZhdGVcblx0ICoqL1xuXHRUaWNrZXIuX3RpY2sgPSBmdW5jdGlvbigpIHtcblx0XHR2YXIgcGF1c2VkID0gVGlja2VyLnBhdXNlZDtcblx0XHR2YXIgdGltZSA9IFRpY2tlci5fZ2V0VGltZSgpO1xuXHRcdHZhciBlbGFwc2VkVGltZSA9IHRpbWUtVGlja2VyLl9sYXN0VGltZTtcblx0XHRUaWNrZXIuX2xhc3RUaW1lID0gdGltZTtcblx0XHRUaWNrZXIuX3RpY2tzKys7XG5cdFx0XG5cdFx0aWYgKHBhdXNlZCkge1xuXHRcdFx0VGlja2VyLl9wYXVzZWRUaWNrcysrO1xuXHRcdFx0VGlja2VyLl9wYXVzZWRUaW1lICs9IGVsYXBzZWRUaW1lO1xuXHRcdH1cblx0XHRcblx0XHRpZiAoVGlja2VyLmhhc0V2ZW50TGlzdGVuZXIoXCJ0aWNrXCIpKSB7XG5cdFx0XHR2YXIgZXZlbnQgPSBuZXcgY3JlYXRlanMuRXZlbnQoXCJ0aWNrXCIpO1xuXHRcdFx0dmFyIG1heERlbHRhID0gVGlja2VyLm1heERlbHRhO1xuXHRcdFx0ZXZlbnQuZGVsdGEgPSAobWF4RGVsdGEgJiYgZWxhcHNlZFRpbWUgPiBtYXhEZWx0YSkgPyBtYXhEZWx0YSA6IGVsYXBzZWRUaW1lO1xuXHRcdFx0ZXZlbnQucGF1c2VkID0gcGF1c2VkO1xuXHRcdFx0ZXZlbnQudGltZSA9IHRpbWU7XG5cdFx0XHRldmVudC5ydW5UaW1lID0gdGltZS1UaWNrZXIuX3BhdXNlZFRpbWU7XG5cdFx0XHRUaWNrZXIuZGlzcGF0Y2hFdmVudChldmVudCk7XG5cdFx0fVxuXHRcdFxuXHRcdFRpY2tlci5fdGlja1RpbWVzLnVuc2hpZnQoVGlja2VyLl9nZXRUaW1lKCktdGltZSk7XG5cdFx0d2hpbGUgKFRpY2tlci5fdGlja1RpbWVzLmxlbmd0aCA+IDEwMCkgeyBUaWNrZXIuX3RpY2tUaW1lcy5wb3AoKTsgfVxuXG5cdFx0VGlja2VyLl90aW1lcy51bnNoaWZ0KHRpbWUpO1xuXHRcdHdoaWxlIChUaWNrZXIuX3RpbWVzLmxlbmd0aCA+IDEwMCkgeyBUaWNrZXIuX3RpbWVzLnBvcCgpOyB9XG5cdH07XG5cblx0LyoqXG5cdCAqIEBtZXRob2QgX2dldFRpbWVcblx0ICogQHN0YXRpY1xuXHQgKiBAcHJpdmF0ZVxuXHQgKiovXG5cdHZhciB3PXdpbmRvdywgbm93PXcucGVyZm9ybWFuY2Uubm93IHx8IHcucGVyZm9ybWFuY2UubW96Tm93IHx8IHcucGVyZm9ybWFuY2UubXNOb3cgfHwgdy5wZXJmb3JtYW5jZS5vTm93IHx8IHcucGVyZm9ybWFuY2Uud2Via2l0Tm93O1xuXHRUaWNrZXIuX2dldFRpbWUgPSBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gKChub3cmJm5vdy5jYWxsKHcucGVyZm9ybWFuY2UpKXx8KG5ldyBEYXRlKCkuZ2V0VGltZSgpKSkgLSBUaWNrZXIuX3N0YXJ0VGltZTtcblx0fTtcblxuXG5cdGNyZWF0ZWpzLlRpY2tlciA9IFRpY2tlcjtcbn0oKSk7XG5cbi8vIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXG4vLyBWaWRlb0J1ZmZlci5qc1xuLy8jIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyNcblxuKGZ1bmN0aW9uKCkge1xuXHRcInVzZSBzdHJpY3RcIjtcblxuXG4vLyBjb25zdHJ1Y3Rvcjpcblx0LyoqXG5cdCAqIFdoZW4gYW4gSFRNTCB2aWRlbyBzZWVrcywgaW5jbHVkaW5nIHdoZW4gbG9vcGluZywgdGhlcmUgaXMgYW4gaW5kZXRlcm1pbmF0ZSBwZXJpb2QgYmVmb3JlIGEgbmV3IGZyYW1lIGlzIGF2YWlsYWJsZS5cblx0ICogVGhpcyBjYW4gcmVzdWx0IGluIHRoZSB2aWRlbyBibGlua2luZyBvciBmbGFzaGluZyB3aGVuIGl0IGlzIGRyYXduIHRvIGEgY2FudmFzLiBUaGUgVmlkZW9CdWZmZXIgY2xhc3MgcmVzb2x2ZXNcblx0ICogdGhpcyBpc3N1ZSBieSBkcmF3aW5nIGVhY2ggZnJhbWUgdG8gYW4gb2ZmLXNjcmVlbiBjYW52YXMgYW5kIHByZXNlcnZpbmcgdGhlIHByaW9yIGZyYW1lIGR1cmluZyBhIHNlZWsuXG5cdCAqIFxuXHQgKiBcdHZhciBteUJ1ZmZlciA9IG5ldyBjcmVhdGVqcy5WaWRlb0J1ZmZlcihteVZpZGVvKTtcblx0ICogXHR2YXIgbXlCaXRtYXAgPSBuZXcgQml0bWFwKG15QnVmZmVyKTtcblx0ICogXG5cdCAqIEBjbGFzcyBWaWRlb0J1ZmZlclxuXHQgKiBAcGFyYW0ge0hUTUxWaWRlb0VsZW1lbnR9IHZpZGVvIFRoZSBIVE1MIHZpZGVvIGVsZW1lbnQgdG8gYnVmZmVyLlxuXHQgKiBAY29uc3RydWN0b3Jcblx0ICoqL1xuXHRmdW5jdGlvbiBWaWRlb0J1ZmZlcih2aWRlbykge1xuXHRcdFxuXHQvLyBwcml2YXRlIHByb3BlcnRpZXM6XG5cdFx0LyoqXG5cdFx0ICogVXNlZCBieSBCaXRtYXAgdG8gZGV0ZXJtaW5lIHdoZW4gdGhlIHZpZGVvIGJ1ZmZlciBpcyByZWFkeSB0byBiZSBkcmF3bi4gTm90IGludGVuZGVkIGZvciBnZW5lcmFsIHVzZS5cblx0XHQgKiBAcHJvcGVydHkgcmVhZHlTdGF0ZVxuXHRcdCAqIEBwcm90ZWN0ZWRcblx0XHQgKiBAdHlwZSB7TnVtYmVyfVxuXHRcdCAqIEBkZWZhdWx0IDBcblx0XHQgKiovXG5cdFx0dGhpcy5yZWFkeVN0YXRlID0gdmlkZW8ucmVhZHlTdGF0ZTtcblx0XHRcblx0XHQvKipcblx0XHQgKiBAcHJvcGVydHkgX3ZpZGVvXG5cdFx0ICogQHByb3RlY3RlZFxuXHRcdCAqIEB0eXBlIHtIVE1MVmlkZW9FbGVtZW50fVxuXHRcdCAqIEBkZWZhdWx0IDBcblx0XHQgKiovXG5cdFx0dGhpcy5fdmlkZW8gPSB2aWRlbztcblx0XHRcblx0XHQvKipcblx0XHQgKiBAcHJvcGVydHkgX2NhbnZhc1xuXHRcdCAqIEBwcm90ZWN0ZWRcblx0XHQgKiBAdHlwZSB7SFRNTENhbnZhc0VsZW1lbnR9XG5cdFx0ICogQGRlZmF1bHQgMFxuXHRcdCAqKi9cblx0XHR0aGlzLl9jYW52YXMgPSBudWxsO1xuXHRcdFxuXHRcdC8qKlxuXHRcdCAqIEBwcm9wZXJ0eSBfbGFzdFRpbWVcblx0XHQgKiBAcHJvdGVjdGVkXG5cdFx0ICogQHR5cGUge051bWJlcn1cblx0XHQgKiBAZGVmYXVsdCAtMVxuXHRcdCAqKi9cblx0XHR0aGlzLl9sYXN0VGltZSA9IC0xO1xuXHRcdFxuXHRcdGlmICh0aGlzLnJlYWR5U3RhdGUgPCAyKSB7IHZpZGVvLmFkZEV2ZW50TGlzdGVuZXIoXCJjYW5wbGF5dGhyb3VnaFwiLCB0aGlzLl92aWRlb1JlYWR5LmJpbmQodGhpcykpOyB9IC8vb25jZTp0cnVlIGlzbid0IHN1cHBvcnRlZCBldmVyeXdoZXJlLCBidXQgaXRzIGEgbm9uLWNyaXRpY2FsIG9wdGltaXphdGlvbiBoZXJlLlxuXHR9XG5cdHZhciBwID0gVmlkZW9CdWZmZXIucHJvdG90eXBlO1xuXHRcblx0XG4vLyBwdWJsaWMgbWV0aG9kczpcblx0LyoqXG5cdCAqIEdldHMgYW4gSFRNTCBjYW52YXMgZWxlbWVudCBzaG93aW5nIHRoZSBjdXJyZW50IHZpZGVvIGZyYW1lLCBvciB0aGUgcHJldmlvdXMgZnJhbWUgaWYgaW4gYSBzZWVrIC8gbG9vcC5cblx0ICogUHJpbWFyaWx5IGZvciB1c2UgYnkge3sjY3Jvc3NMaW5rIFwiQml0bWFwXCJ9fXt7L2Nyb3NzTGlua319LlxuXHQgKiBAbWV0aG9kIGdldEltYWdlXG5cdCAqKi9cblx0cC5nZXRJbWFnZSA9IGZ1bmN0aW9uKCkge1xuXHRcdGlmICh0aGlzLnJlYWR5U3RhdGUgPCAyKSB7IHJldHVybjsgfVxuXHRcdHZhciBjYW52YXM9dGhpcy5fY2FudmFzLCB2aWRlbyA9IHRoaXMuX3ZpZGVvO1xuXHRcdGlmICghY2FudmFzKSB7XG5cdFx0XHRjYW52YXMgPSB0aGlzLl9jYW52YXMgPSBjcmVhdGVqcy5jcmVhdGVDYW52YXM/Y3JlYXRlanMuY3JlYXRlQ2FudmFzKCk6ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtcblx0XHRcdGNhbnZhcy53aWR0aCA9IHZpZGVvLnZpZGVvV2lkdGg7XG5cdFx0XHRjYW52YXMuaGVpZ2h0ID0gdmlkZW8udmlkZW9IZWlnaHQ7XG5cdFx0fVxuXHRcdGlmICh2aWRlby5yZWFkeVN0YXRlID49IDIgJiYgdmlkZW8uY3VycmVudFRpbWUgIT09IHRoaXMuX2xhc3RUaW1lKSB7XG5cdFx0XHR2YXIgY3R4ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcblx0XHRcdGN0eC5jbGVhclJlY3QoMCwwLGNhbnZhcy53aWR0aCxjYW52YXMuaGVpZ2h0KTtcblx0XHRcdGN0eC5kcmF3SW1hZ2UodmlkZW8sMCwwLGNhbnZhcy53aWR0aCxjYW52YXMuaGVpZ2h0KTtcblx0XHRcdHRoaXMuX2xhc3RUaW1lID0gdmlkZW8uY3VycmVudFRpbWU7XG5cdFx0fVxuXHRcdHJldHVybiBjYW52YXM7XG5cdH07XG5cdFxuLy8gcHJpdmF0ZSBtZXRob2RzOlxuXHQvKipcblx0ICogQG1ldGhvZCBfdmlkZW9SZWFkeVxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqKi9cblx0cC5fdmlkZW9SZWFkeSA9IGZ1bmN0aW9uKCkge1xuXHRcdHRoaXMucmVhZHlTdGF0ZSA9IDI7XG5cdH07XG5cblxuXHRjcmVhdGVqcy5WaWRlb0J1ZmZlciA9IFZpZGVvQnVmZmVyO1xufSgpKTtcblxuLy8jIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyNcbi8vIE1vdXNlRXZlbnQuanNcbi8vIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXG5cbihmdW5jdGlvbigpIHtcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cblxuLy8gY29uc3RydWN0b3I6XG5cdC8qKlxuXHQgKiBQYXNzZWQgYXMgdGhlIHBhcmFtZXRlciB0byBhbGwgbW91c2UvcG9pbnRlci90b3VjaCByZWxhdGVkIGV2ZW50cy4gRm9yIGEgbGlzdGluZyBvZiBtb3VzZSBldmVudHMgYW5kIHRoZWlyIHByb3BlcnRpZXMsXG5cdCAqIHNlZSB0aGUge3sjY3Jvc3NMaW5rIFwiRGlzcGxheU9iamVjdFwifX17ey9jcm9zc0xpbmt9fSBhbmQge3sjY3Jvc3NMaW5rIFwiU3RhZ2VcIn19e3svY3Jvc3NMaW5rfX0gZXZlbnQgbGlzdGluZ3MuXG5cdCAqIEBjbGFzcyBNb3VzZUV2ZW50XG5cdCAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlIFRoZSBldmVudCB0eXBlLlxuXHQgKiBAcGFyYW0ge0Jvb2xlYW59IGJ1YmJsZXMgSW5kaWNhdGVzIHdoZXRoZXIgdGhlIGV2ZW50IHdpbGwgYnViYmxlIHRocm91Z2ggdGhlIGRpc3BsYXkgbGlzdC5cblx0ICogQHBhcmFtIHtCb29sZWFufSBjYW5jZWxhYmxlIEluZGljYXRlcyB3aGV0aGVyIHRoZSBkZWZhdWx0IGJlaGF2aW91ciBvZiB0aGlzIGV2ZW50IGNhbiBiZSBjYW5jZWxsZWQuXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBzdGFnZVggVGhlIG5vcm1hbGl6ZWQgeCBwb3NpdGlvbiByZWxhdGl2ZSB0byB0aGUgc3RhZ2UuXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBzdGFnZVkgVGhlIG5vcm1hbGl6ZWQgeSBwb3NpdGlvbiByZWxhdGl2ZSB0byB0aGUgc3RhZ2UuXG5cdCAqIEBwYXJhbSB7TW91c2VFdmVudH0gbmF0aXZlRXZlbnQgVGhlIG5hdGl2ZSBET00gZXZlbnQgcmVsYXRlZCB0byB0aGlzIG1vdXNlIGV2ZW50LlxuXHQgKiBAcGFyYW0ge051bWJlcn0gcG9pbnRlcklEIFRoZSB1bmlxdWUgaWQgZm9yIHRoZSBwb2ludGVyLlxuXHQgKiBAcGFyYW0ge0Jvb2xlYW59IHByaW1hcnkgSW5kaWNhdGVzIHdoZXRoZXIgdGhpcyBpcyB0aGUgcHJpbWFyeSBwb2ludGVyIGluIGEgbXVsdGl0b3VjaCBlbnZpcm9ubWVudC5cblx0ICogQHBhcmFtIHtOdW1iZXJ9IHJhd1ggVGhlIHJhdyB4IHBvc2l0aW9uIHJlbGF0aXZlIHRvIHRoZSBzdGFnZS5cblx0ICogQHBhcmFtIHtOdW1iZXJ9IHJhd1kgVGhlIHJhdyB5IHBvc2l0aW9uIHJlbGF0aXZlIHRvIHRoZSBzdGFnZS5cblx0ICogQHBhcmFtIHtEaXNwbGF5T2JqZWN0fSByZWxhdGVkVGFyZ2V0IFRoZSBzZWNvbmRhcnkgdGFyZ2V0IGZvciB0aGUgZXZlbnQuXG5cdCAqIEBleHRlbmRzIEV2ZW50XG5cdCAqIEBjb25zdHJ1Y3RvclxuXHQgKiovXG5cdGZ1bmN0aW9uIE1vdXNlRXZlbnQodHlwZSwgYnViYmxlcywgY2FuY2VsYWJsZSwgc3RhZ2VYLCBzdGFnZVksIG5hdGl2ZUV2ZW50LCBwb2ludGVySUQsIHByaW1hcnksIHJhd1gsIHJhd1ksIHJlbGF0ZWRUYXJnZXQpIHtcblx0XHR0aGlzLkV2ZW50X2NvbnN0cnVjdG9yKHR5cGUsIGJ1YmJsZXMsIGNhbmNlbGFibGUpO1xuXHRcdFxuXHRcdFxuXHQvLyBwdWJsaWMgcHJvcGVydGllczpcblx0XHQvKipcblx0XHQgKiBUaGUgbm9ybWFsaXplZCB4IHBvc2l0aW9uIG9uIHRoZSBzdGFnZS4gVGhpcyB3aWxsIGFsd2F5cyBiZSB3aXRoaW4gdGhlIHJhbmdlIDAgdG8gc3RhZ2Ugd2lkdGguXG5cdFx0ICogQHByb3BlcnR5IHN0YWdlWFxuXHRcdCAqIEB0eXBlIE51bWJlclxuXHRcdCovXG5cdFx0dGhpcy5zdGFnZVggPSBzdGFnZVg7XG5cdFxuXHRcdC8qKlxuXHRcdCAqIFRoZSBub3JtYWxpemVkIHkgcG9zaXRpb24gb24gdGhlIHN0YWdlLiBUaGlzIHdpbGwgYWx3YXlzIGJlIHdpdGhpbiB0aGUgcmFuZ2UgMCB0byBzdGFnZSBoZWlnaHQuXG5cdFx0ICogQHByb3BlcnR5IHN0YWdlWVxuXHRcdCAqIEB0eXBlIE51bWJlclxuXHRcdCAqKi9cblx0XHR0aGlzLnN0YWdlWSA9IHN0YWdlWTtcblx0XG5cdFx0LyoqXG5cdFx0ICogVGhlIHJhdyB4IHBvc2l0aW9uIHJlbGF0aXZlIHRvIHRoZSBzdGFnZS4gTm9ybWFsbHkgdGhpcyB3aWxsIGJlIHRoZSBzYW1lIGFzIHRoZSBzdGFnZVggdmFsdWUsIHVubGVzc1xuXHRcdCAqIHN0YWdlLm1vdXNlTW92ZU91dHNpZGUgaXMgdHJ1ZSBhbmQgdGhlIHBvaW50ZXIgaXMgb3V0c2lkZSBvZiB0aGUgc3RhZ2UgYm91bmRzLlxuXHRcdCAqIEBwcm9wZXJ0eSByYXdYXG5cdFx0ICogQHR5cGUgTnVtYmVyXG5cdFx0Ki9cblx0XHR0aGlzLnJhd1ggPSAocmF3WD09bnVsbCk/c3RhZ2VYOnJhd1g7XG5cdFxuXHRcdC8qKlxuXHRcdCAqIFRoZSByYXcgeSBwb3NpdGlvbiByZWxhdGl2ZSB0byB0aGUgc3RhZ2UuIE5vcm1hbGx5IHRoaXMgd2lsbCBiZSB0aGUgc2FtZSBhcyB0aGUgc3RhZ2VZIHZhbHVlLCB1bmxlc3Ncblx0XHQgKiBzdGFnZS5tb3VzZU1vdmVPdXRzaWRlIGlzIHRydWUgYW5kIHRoZSBwb2ludGVyIGlzIG91dHNpZGUgb2YgdGhlIHN0YWdlIGJvdW5kcy5cblx0XHQgKiBAcHJvcGVydHkgcmF3WVxuXHRcdCAqIEB0eXBlIE51bWJlclxuXHRcdCovXG5cdFx0dGhpcy5yYXdZID0gKHJhd1k9PW51bGwpP3N0YWdlWTpyYXdZO1xuXHRcblx0XHQvKipcblx0XHQgKiBUaGUgbmF0aXZlIE1vdXNlRXZlbnQgZ2VuZXJhdGVkIGJ5IHRoZSBicm93c2VyLiBUaGUgcHJvcGVydGllcyBhbmQgQVBJIGZvciB0aGlzXG5cdFx0ICogZXZlbnQgbWF5IGRpZmZlciBiZXR3ZWVuIGJyb3dzZXJzLiBUaGlzIHByb3BlcnR5IHdpbGwgYmUgbnVsbCBpZiB0aGVcblx0XHQgKiBFYXNlbEpTIHByb3BlcnR5IHdhcyBub3QgZGlyZWN0bHkgZ2VuZXJhdGVkIGZyb20gYSBuYXRpdmUgTW91c2VFdmVudC5cblx0XHQgKiBAcHJvcGVydHkgbmF0aXZlRXZlbnRcblx0XHQgKiBAdHlwZSBIdG1sTW91c2VFdmVudFxuXHRcdCAqIEBkZWZhdWx0IG51bGxcblx0XHQgKiovXG5cdFx0dGhpcy5uYXRpdmVFdmVudCA9IG5hdGl2ZUV2ZW50O1xuXHRcblx0XHQvKipcblx0XHQgKiBUaGUgdW5pcXVlIGlkIGZvciB0aGUgcG9pbnRlciAodG91Y2ggcG9pbnQgb3IgY3Vyc29yKS4gVGhpcyB3aWxsIGJlIGVpdGhlciAtMSBmb3IgdGhlIG1vdXNlLCBvciB0aGUgc3lzdGVtXG5cdFx0ICogc3VwcGxpZWQgaWQgdmFsdWUuXG5cdFx0ICogQHByb3BlcnR5IHBvaW50ZXJJRFxuXHRcdCAqIEB0eXBlIHtOdW1iZXJ9XG5cdFx0ICovXG5cdFx0dGhpcy5wb2ludGVySUQgPSBwb2ludGVySUQ7XG5cdFxuXHRcdC8qKlxuXHRcdCAqIEluZGljYXRlcyB3aGV0aGVyIHRoaXMgaXMgdGhlIHByaW1hcnkgcG9pbnRlciBpbiBhIG11bHRpdG91Y2ggZW52aXJvbm1lbnQuIFRoaXMgd2lsbCBhbHdheXMgYmUgdHJ1ZSBmb3IgdGhlIG1vdXNlLlxuXHRcdCAqIEZvciB0b3VjaCBwb2ludGVycywgdGhlIGZpcnN0IHBvaW50ZXIgaW4gdGhlIGN1cnJlbnQgc3RhY2sgd2lsbCBiZSBjb25zaWRlcmVkIHRoZSBwcmltYXJ5IHBvaW50ZXIuXG5cdFx0ICogQHByb3BlcnR5IHByaW1hcnlcblx0XHQgKiBAdHlwZSB7Qm9vbGVhbn1cblx0XHQgKi9cblx0XHR0aGlzLnByaW1hcnkgPSAhIXByaW1hcnk7XG5cdFx0XG5cdFx0LyoqXG5cdFx0ICogVGhlIHNlY29uZGFyeSB0YXJnZXQgZm9yIHRoZSBldmVudCwgaWYgYXBwbGljYWJsZS4gVGhpcyBpcyB1c2VkIGZvciBtb3VzZW91dC9yb2xsb3V0XG5cdFx0ICogZXZlbnRzIHRvIGluZGljYXRlIHRoZSBvYmplY3QgdGhhdCB0aGUgbW91c2UgZW50ZXJlZCBmcm9tLCBtb3VzZW92ZXIvcm9sbG92ZXIgZm9yIHRoZSBvYmplY3QgdGhlIG1vdXNlIGV4aXRlZCxcblx0XHQgKiBhbmQgc3RhZ2Vtb3VzZWRvd24vc3RhZ2Vtb3VzZXVwIGV2ZW50cyBmb3IgdGhlIG9iamVjdCB0aGF0IHdhcyB0aGUgdW5kZXIgdGhlIGN1cnNvciwgaWYgYW55LlxuXHRcdCAqIFxuXHRcdCAqIE9ubHkgdmFsaWQgaW50ZXJhY3Rpb24gdGFyZ2V0cyB3aWxsIGJlIHJldHVybmVkIChpZS4gb2JqZWN0cyB3aXRoIG1vdXNlIGxpc3RlbmVycyBvciBhIGN1cnNvciBzZXQpLlxuXHRcdCAqIEBwcm9wZXJ0eSByZWxhdGVkVGFyZ2V0XG5cdFx0ICogQHR5cGUge0Rpc3BsYXlPYmplY3R9XG5cdFx0ICovXG5cdFx0dGhpcy5yZWxhdGVkVGFyZ2V0ID0gcmVsYXRlZFRhcmdldDtcblx0fVxuXHR2YXIgcCA9IGNyZWF0ZWpzLmV4dGVuZChNb3VzZUV2ZW50LCBjcmVhdGVqcy5FdmVudCk7XG5cblx0Ly8gVE9ETzogZGVwcmVjYXRlZFxuXHQvLyBwLmluaXRpYWxpemUgPSBmdW5jdGlvbigpIHt9OyAvLyBzZWFyY2hhYmxlIGZvciBkZXZzIHdvbmRlcmluZyB3aGVyZSBpdCBpcy4gUkVNT1ZFRC4gU2VlIGRvY3MgZm9yIGRldGFpbHMuXG5cdFxuXHRcbi8vIGdldHRlciAvIHNldHRlcnM6XG5cdC8qKlxuXHQgKiBSZXR1cm5zIHRoZSB4IHBvc2l0aW9uIG9mIHRoZSBtb3VzZSBpbiB0aGUgbG9jYWwgY29vcmRpbmF0ZSBzeXN0ZW0gb2YgdGhlIGN1cnJlbnQgdGFyZ2V0IChpZS4gdGhlIGRpc3BhdGNoZXIpLlxuXHQgKiBAcHJvcGVydHkgbG9jYWxYXG5cdCAqIEB0eXBlIHtOdW1iZXJ9XG5cdCAqIEByZWFkb25seVxuXHQgKi9cblx0cC5fZ2V0X2xvY2FsWCA9IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLmN1cnJlbnRUYXJnZXQuZ2xvYmFsVG9Mb2NhbCh0aGlzLnJhd1gsIHRoaXMucmF3WSkueDtcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBSZXR1cm5zIHRoZSB5IHBvc2l0aW9uIG9mIHRoZSBtb3VzZSBpbiB0aGUgbG9jYWwgY29vcmRpbmF0ZSBzeXN0ZW0gb2YgdGhlIGN1cnJlbnQgdGFyZ2V0IChpZS4gdGhlIGRpc3BhdGNoZXIpLlxuXHQgKiBAcHJvcGVydHkgbG9jYWxZXG5cdCAqIEB0eXBlIHtOdW1iZXJ9XG5cdCAqIEByZWFkb25seVxuXHQgKi9cblx0cC5fZ2V0X2xvY2FsWSA9IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLmN1cnJlbnRUYXJnZXQuZ2xvYmFsVG9Mb2NhbCh0aGlzLnJhd1gsIHRoaXMucmF3WSkueTtcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBJbmRpY2F0ZXMgd2hldGhlciB0aGUgZXZlbnQgd2FzIGdlbmVyYXRlZCBieSBhIHRvdWNoIGlucHV0ICh2ZXJzdXMgYSBtb3VzZSBpbnB1dCkuXG5cdCAqIEBwcm9wZXJ0eSBpc1RvdWNoXG5cdCAqIEB0eXBlIHtCb29sZWFufVxuXHQgKiBAcmVhZG9ubHlcblx0ICovXG5cdHAuX2dldF9pc1RvdWNoID0gZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMucG9pbnRlcklEICE9PSAtMTtcblx0fTtcblx0XG5cdFxuXHR0cnkge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHAsIHtcblx0XHRcdGxvY2FsWDogeyBnZXQ6IHAuX2dldF9sb2NhbFggfSxcblx0XHRcdGxvY2FsWTogeyBnZXQ6IHAuX2dldF9sb2NhbFkgfSxcblx0XHRcdGlzVG91Y2g6IHsgZ2V0OiBwLl9nZXRfaXNUb3VjaCB9XG5cdFx0fSk7XG5cdH0gY2F0Y2ggKGUpIHt9IC8vIFRPRE86IHVzZSBMb2dcblxuXG4vLyBwdWJsaWMgbWV0aG9kczpcblx0LyoqXG5cdCAqIFJldHVybnMgYSBjbG9uZSBvZiB0aGUgTW91c2VFdmVudCBpbnN0YW5jZS5cblx0ICogQG1ldGhvZCBjbG9uZVxuXHQgKiBAcmV0dXJuIHtNb3VzZUV2ZW50fSBhIGNsb25lIG9mIHRoZSBNb3VzZUV2ZW50IGluc3RhbmNlLlxuXHQgKiovXG5cdHAuY2xvbmUgPSBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gbmV3IE1vdXNlRXZlbnQodGhpcy50eXBlLCB0aGlzLmJ1YmJsZXMsIHRoaXMuY2FuY2VsYWJsZSwgdGhpcy5zdGFnZVgsIHRoaXMuc3RhZ2VZLCB0aGlzLm5hdGl2ZUV2ZW50LCB0aGlzLnBvaW50ZXJJRCwgdGhpcy5wcmltYXJ5LCB0aGlzLnJhd1gsIHRoaXMucmF3WSk7XG5cdH07XG5cblx0LyoqXG5cdCAqIFJldHVybnMgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhpcyBvYmplY3QuXG5cdCAqIEBtZXRob2QgdG9TdHJpbmdcblx0ICogQHJldHVybiB7U3RyaW5nfSBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgaW5zdGFuY2UuXG5cdCAqKi9cblx0cC50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBcIltNb3VzZUV2ZW50ICh0eXBlPVwiK3RoaXMudHlwZStcIiBzdGFnZVg9XCIrdGhpcy5zdGFnZVgrXCIgc3RhZ2VZPVwiK3RoaXMuc3RhZ2VZK1wiKV1cIjtcblx0fTtcblxuXG5cdGNyZWF0ZWpzLk1vdXNlRXZlbnQgPSBjcmVhdGVqcy5wcm9tb3RlKE1vdXNlRXZlbnQsIFwiRXZlbnRcIik7XG59KCkpO1xuXG4vLyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI1xuLy8gTWF0cml4MkQuanNcbi8vIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXG5cbihmdW5jdGlvbigpIHtcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cblxuLy8gY29uc3RydWN0b3I6XG5cdC8qKlxuXHQgKiBSZXByZXNlbnRzIGFuIGFmZmluZSB0cmFuc2Zvcm1hdGlvbiBtYXRyaXgsIGFuZCBwcm92aWRlcyB0b29scyBmb3IgY29uc3RydWN0aW5nIGFuZCBjb25jYXRlbmF0aW5nIG1hdHJpY2VzLlxuXHQgKlxuXHQgKiBUaGlzIG1hdHJpeCBjYW4gYmUgdmlzdWFsaXplZCBhczpcblx0ICpcblx0ICogXHRbIGEgIGMgIHR4XG5cdCAqIFx0ICBiICBkICB0eVxuXHQgKiBcdCAgMCAgMCAgMSAgXVxuXHQgKlxuXHQgKiBOb3RlIHRoZSBsb2NhdGlvbnMgb2YgYiBhbmQgYy5cblx0ICpcblx0ICogQGNsYXNzIE1hdHJpeDJEXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBbYT0xXSBTcGVjaWZpZXMgdGhlIGEgcHJvcGVydHkgZm9yIHRoZSBuZXcgbWF0cml4LlxuXHQgKiBAcGFyYW0ge051bWJlcn0gW2I9MF0gU3BlY2lmaWVzIHRoZSBiIHByb3BlcnR5IGZvciB0aGUgbmV3IG1hdHJpeC5cblx0ICogQHBhcmFtIHtOdW1iZXJ9IFtjPTBdIFNwZWNpZmllcyB0aGUgYyBwcm9wZXJ0eSBmb3IgdGhlIG5ldyBtYXRyaXguXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBbZD0xXSBTcGVjaWZpZXMgdGhlIGQgcHJvcGVydHkgZm9yIHRoZSBuZXcgbWF0cml4LlxuXHQgKiBAcGFyYW0ge051bWJlcn0gW3R4PTBdIFNwZWNpZmllcyB0aGUgdHggcHJvcGVydHkgZm9yIHRoZSBuZXcgbWF0cml4LlxuXHQgKiBAcGFyYW0ge051bWJlcn0gW3R5PTBdIFNwZWNpZmllcyB0aGUgdHkgcHJvcGVydHkgZm9yIHRoZSBuZXcgbWF0cml4LlxuXHQgKiBAY29uc3RydWN0b3Jcblx0ICoqL1xuXHRmdW5jdGlvbiBNYXRyaXgyRChhLCBiLCBjLCBkLCB0eCwgdHkpIHtcblx0XHR0aGlzLnNldFZhbHVlcyhhLGIsYyxkLHR4LHR5KTtcblx0XHRcblx0Ly8gcHVibGljIHByb3BlcnRpZXM6XG5cdFx0Ly8gYXNzaWduZWQgaW4gdGhlIHNldFZhbHVlcyBtZXRob2QuXG5cdFx0LyoqXG5cdFx0ICogUG9zaXRpb24gKDAsIDApIGluIGEgM3gzIGFmZmluZSB0cmFuc2Zvcm1hdGlvbiBtYXRyaXguXG5cdFx0ICogQHByb3BlcnR5IGFcblx0XHQgKiBAdHlwZSBOdW1iZXJcblx0XHQgKiovXG5cdFxuXHRcdC8qKlxuXHRcdCAqIFBvc2l0aW9uICgwLCAxKSBpbiBhIDN4MyBhZmZpbmUgdHJhbnNmb3JtYXRpb24gbWF0cml4LlxuXHRcdCAqIEBwcm9wZXJ0eSBiXG5cdFx0ICogQHR5cGUgTnVtYmVyXG5cdFx0ICoqL1xuXHRcblx0XHQvKipcblx0XHQgKiBQb3NpdGlvbiAoMSwgMCkgaW4gYSAzeDMgYWZmaW5lIHRyYW5zZm9ybWF0aW9uIG1hdHJpeC5cblx0XHQgKiBAcHJvcGVydHkgY1xuXHRcdCAqIEB0eXBlIE51bWJlclxuXHRcdCAqKi9cblx0XG5cdFx0LyoqXG5cdFx0ICogUG9zaXRpb24gKDEsIDEpIGluIGEgM3gzIGFmZmluZSB0cmFuc2Zvcm1hdGlvbiBtYXRyaXguXG5cdFx0ICogQHByb3BlcnR5IGRcblx0XHQgKiBAdHlwZSBOdW1iZXJcblx0XHQgKiovXG5cdFxuXHRcdC8qKlxuXHRcdCAqIFBvc2l0aW9uICgyLCAwKSBpbiBhIDN4MyBhZmZpbmUgdHJhbnNmb3JtYXRpb24gbWF0cml4LlxuXHRcdCAqIEBwcm9wZXJ0eSB0eFxuXHRcdCAqIEB0eXBlIE51bWJlclxuXHRcdCAqKi9cblx0XG5cdFx0LyoqXG5cdFx0ICogUG9zaXRpb24gKDIsIDEpIGluIGEgM3gzIGFmZmluZSB0cmFuc2Zvcm1hdGlvbiBtYXRyaXguXG5cdFx0ICogQHByb3BlcnR5IHR5XG5cdFx0ICogQHR5cGUgTnVtYmVyXG5cdFx0ICoqL1xuXHR9XG5cdHZhciBwID0gTWF0cml4MkQucHJvdG90eXBlO1xuXG4vLyBjb25zdGFudHM6XG5cdC8qKlxuXHQgKiBNdWx0aXBsaWVyIGZvciBjb252ZXJ0aW5nIGRlZ3JlZXMgdG8gcmFkaWFucy4gVXNlZCBpbnRlcm5hbGx5IGJ5IE1hdHJpeDJELlxuXHQgKiBAcHJvcGVydHkgREVHX1RPX1JBRFxuXHQgKiBAc3RhdGljXG5cdCAqIEBmaW5hbFxuXHQgKiBAdHlwZSBOdW1iZXJcblx0ICogQHJlYWRvbmx5XG5cdCAqKi9cblx0TWF0cml4MkQuREVHX1RPX1JBRCA9IE1hdGguUEkvMTgwO1xuXG5cbi8vIHN0YXRpYyBwdWJsaWMgcHJvcGVydGllczpcblx0LyoqXG5cdCAqIEFuIGlkZW50aXR5IG1hdHJpeCwgcmVwcmVzZW50aW5nIGEgbnVsbCB0cmFuc2Zvcm1hdGlvbi5cblx0ICogQHByb3BlcnR5IGlkZW50aXR5XG5cdCAqIEBzdGF0aWNcblx0ICogQHR5cGUgTWF0cml4MkRcblx0ICogQHJlYWRvbmx5XG5cdCAqKi9cblx0TWF0cml4MkQuaWRlbnRpdHkgPSBudWxsOyAvLyBzZXQgYXQgYm90dG9tIG9mIGNsYXNzIGRlZmluaXRpb24uXG5cdFxuXG4vLyBwdWJsaWMgbWV0aG9kczpcblx0LyoqXG5cdCAqIFNldHMgdGhlIHNwZWNpZmllZCB2YWx1ZXMgb24gdGhpcyBpbnN0YW5jZS4gXG5cdCAqIEBtZXRob2Qgc2V0VmFsdWVzXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBbYT0xXSBTcGVjaWZpZXMgdGhlIGEgcHJvcGVydHkgZm9yIHRoZSBuZXcgbWF0cml4LlxuXHQgKiBAcGFyYW0ge051bWJlcn0gW2I9MF0gU3BlY2lmaWVzIHRoZSBiIHByb3BlcnR5IGZvciB0aGUgbmV3IG1hdHJpeC5cblx0ICogQHBhcmFtIHtOdW1iZXJ9IFtjPTBdIFNwZWNpZmllcyB0aGUgYyBwcm9wZXJ0eSBmb3IgdGhlIG5ldyBtYXRyaXguXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBbZD0xXSBTcGVjaWZpZXMgdGhlIGQgcHJvcGVydHkgZm9yIHRoZSBuZXcgbWF0cml4LlxuXHQgKiBAcGFyYW0ge051bWJlcn0gW3R4PTBdIFNwZWNpZmllcyB0aGUgdHggcHJvcGVydHkgZm9yIHRoZSBuZXcgbWF0cml4LlxuXHQgKiBAcGFyYW0ge051bWJlcn0gW3R5PTBdIFNwZWNpZmllcyB0aGUgdHkgcHJvcGVydHkgZm9yIHRoZSBuZXcgbWF0cml4LlxuXHQgKiBAcmV0dXJuIHtNYXRyaXgyRH0gVGhpcyBpbnN0YW5jZS4gVXNlZnVsIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHMuXG5cdCovXG5cdHAuc2V0VmFsdWVzID0gZnVuY3Rpb24oYSwgYiwgYywgZCwgdHgsIHR5KSB7XG5cdFx0Ly8gZG9uJ3QgZm9yZ2V0IHRvIHVwZGF0ZSBkb2NzIGluIHRoZSBjb25zdHJ1Y3RvciBpZiB0aGVzZSBjaGFuZ2U6XG5cdFx0dGhpcy5hID0gKGEgPT0gbnVsbCkgPyAxIDogYTtcblx0XHR0aGlzLmIgPSBiIHx8IDA7XG5cdFx0dGhpcy5jID0gYyB8fCAwO1xuXHRcdHRoaXMuZCA9IChkID09IG51bGwpID8gMSA6IGQ7XG5cdFx0dGhpcy50eCA9IHR4IHx8IDA7XG5cdFx0dGhpcy50eSA9IHR5IHx8IDA7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH07XG5cblx0LyoqXG5cdCAqIEFwcGVuZHMgdGhlIHNwZWNpZmllZCBtYXRyaXggcHJvcGVydGllcyB0byB0aGlzIG1hdHJpeC4gQWxsIHBhcmFtZXRlcnMgYXJlIHJlcXVpcmVkLlxuXHQgKiBUaGlzIGlzIHRoZSBlcXVpdmFsZW50IG9mIG11bHRpcGx5aW5nIGAodGhpcyBtYXRyaXgpICogKHNwZWNpZmllZCBtYXRyaXgpYC5cblx0ICogQG1ldGhvZCBhcHBlbmRcblx0ICogQHBhcmFtIHtOdW1iZXJ9IGFcblx0ICogQHBhcmFtIHtOdW1iZXJ9IGJcblx0ICogQHBhcmFtIHtOdW1iZXJ9IGNcblx0ICogQHBhcmFtIHtOdW1iZXJ9IGRcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHR4XG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB0eVxuXHQgKiBAcmV0dXJuIHtNYXRyaXgyRH0gVGhpcyBtYXRyaXguIFVzZWZ1bCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzLlxuXHQgKiovXG5cdHAuYXBwZW5kID0gZnVuY3Rpb24oYSwgYiwgYywgZCwgdHgsIHR5KSB7XG5cdFx0dmFyIGExID0gdGhpcy5hO1xuXHRcdHZhciBiMSA9IHRoaXMuYjtcblx0XHR2YXIgYzEgPSB0aGlzLmM7XG5cdFx0dmFyIGQxID0gdGhpcy5kO1xuXHRcdGlmIChhICE9IDEgfHwgYiAhPSAwIHx8IGMgIT0gMCB8fCBkICE9IDEpIHtcblx0XHRcdHRoaXMuYSAgPSBhMSphK2MxKmI7XG5cdFx0XHR0aGlzLmIgID0gYjEqYStkMSpiO1xuXHRcdFx0dGhpcy5jICA9IGExKmMrYzEqZDtcblx0XHRcdHRoaXMuZCAgPSBiMSpjK2QxKmQ7XG5cdFx0fVxuXHRcdHRoaXMudHggPSBhMSp0eCtjMSp0eSt0aGlzLnR4O1xuXHRcdHRoaXMudHkgPSBiMSp0eCtkMSp0eSt0aGlzLnR5O1xuXHRcdHJldHVybiB0aGlzO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBQcmVwZW5kcyB0aGUgc3BlY2lmaWVkIG1hdHJpeCBwcm9wZXJ0aWVzIHRvIHRoaXMgbWF0cml4LlxuXHQgKiBUaGlzIGlzIHRoZSBlcXVpdmFsZW50IG9mIG11bHRpcGx5aW5nIGAoc3BlY2lmaWVkIG1hdHJpeCkgKiAodGhpcyBtYXRyaXgpYC5cblx0ICogQWxsIHBhcmFtZXRlcnMgYXJlIHJlcXVpcmVkLlxuXHQgKiBAbWV0aG9kIHByZXBlbmRcblx0ICogQHBhcmFtIHtOdW1iZXJ9IGFcblx0ICogQHBhcmFtIHtOdW1iZXJ9IGJcblx0ICogQHBhcmFtIHtOdW1iZXJ9IGNcblx0ICogQHBhcmFtIHtOdW1iZXJ9IGRcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHR4XG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB0eVxuXHQgKiBAcmV0dXJuIHtNYXRyaXgyRH0gVGhpcyBtYXRyaXguIFVzZWZ1bCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzLlxuXHQgKiovXG5cdHAucHJlcGVuZCA9IGZ1bmN0aW9uKGEsIGIsIGMsIGQsIHR4LCB0eSkge1xuXHRcdHZhciBhMSA9IHRoaXMuYTtcblx0XHR2YXIgYzEgPSB0aGlzLmM7XG5cdFx0dmFyIHR4MSA9IHRoaXMudHg7XG5cblx0XHR0aGlzLmEgID0gYSphMStjKnRoaXMuYjtcblx0XHR0aGlzLmIgID0gYiphMStkKnRoaXMuYjtcblx0XHR0aGlzLmMgID0gYSpjMStjKnRoaXMuZDtcblx0XHR0aGlzLmQgID0gYipjMStkKnRoaXMuZDtcblx0XHR0aGlzLnR4ID0gYSp0eDErYyp0aGlzLnR5K3R4O1xuXHRcdHRoaXMudHkgPSBiKnR4MStkKnRoaXMudHkrdHk7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH07XG5cblx0LyoqXG5cdCAqIEFwcGVuZHMgdGhlIHNwZWNpZmllZCBtYXRyaXggdG8gdGhpcyBtYXRyaXguXG5cdCAqIFRoaXMgaXMgdGhlIGVxdWl2YWxlbnQgb2YgbXVsdGlwbHlpbmcgYCh0aGlzIG1hdHJpeCkgKiAoc3BlY2lmaWVkIG1hdHJpeClgLlxuXHQgKiBAbWV0aG9kIGFwcGVuZE1hdHJpeFxuXHQgKiBAcGFyYW0ge01hdHJpeDJEfSBtYXRyaXhcblx0ICogQHJldHVybiB7TWF0cml4MkR9IFRoaXMgbWF0cml4LiBVc2VmdWwgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxscy5cblx0ICoqL1xuXHRwLmFwcGVuZE1hdHJpeCA9IGZ1bmN0aW9uKG1hdHJpeCkge1xuXHRcdHJldHVybiB0aGlzLmFwcGVuZChtYXRyaXguYSwgbWF0cml4LmIsIG1hdHJpeC5jLCBtYXRyaXguZCwgbWF0cml4LnR4LCBtYXRyaXgudHkpO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBQcmVwZW5kcyB0aGUgc3BlY2lmaWVkIG1hdHJpeCB0byB0aGlzIG1hdHJpeC5cblx0ICogVGhpcyBpcyB0aGUgZXF1aXZhbGVudCBvZiBtdWx0aXBseWluZyBgKHNwZWNpZmllZCBtYXRyaXgpICogKHRoaXMgbWF0cml4KWAuXG5cdCAqIEZvciBleGFtcGxlLCB5b3UgY291bGQgY2FsY3VsYXRlIHRoZSBjb21iaW5lZCB0cmFuc2Zvcm1hdGlvbiBmb3IgYSBjaGlsZCBvYmplY3QgdXNpbmc6XG5cdCAqIFxuXHQgKiBcdHZhciBvID0gbXlEaXNwbGF5T2JqZWN0O1xuXHQgKiBcdHZhciBtdHggPSBvLmdldE1hdHJpeCgpO1xuXHQgKiBcdHdoaWxlIChvID0gby5wYXJlbnQpIHtcblx0ICogXHRcdC8vIHByZXBlbmQgZWFjaCBwYXJlbnQncyB0cmFuc2Zvcm1hdGlvbiBpbiB0dXJuOlxuXHQgKiBcdFx0by5wcmVwZW5kTWF0cml4KG8uZ2V0TWF0cml4KCkpO1xuXHQgKiBcdH1cblx0ICogQG1ldGhvZCBwcmVwZW5kTWF0cml4XG5cdCAqIEBwYXJhbSB7TWF0cml4MkR9IG1hdHJpeFxuXHQgKiBAcmV0dXJuIHtNYXRyaXgyRH0gVGhpcyBtYXRyaXguIFVzZWZ1bCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzLlxuXHQgKiovXG5cdHAucHJlcGVuZE1hdHJpeCA9IGZ1bmN0aW9uKG1hdHJpeCkge1xuXHRcdHJldHVybiB0aGlzLnByZXBlbmQobWF0cml4LmEsIG1hdHJpeC5iLCBtYXRyaXguYywgbWF0cml4LmQsIG1hdHJpeC50eCwgbWF0cml4LnR5KTtcblx0fTtcblxuXHQvKipcblx0ICogR2VuZXJhdGVzIG1hdHJpeCBwcm9wZXJ0aWVzIGZyb20gdGhlIHNwZWNpZmllZCBkaXNwbGF5IG9iamVjdCB0cmFuc2Zvcm0gcHJvcGVydGllcywgYW5kIGFwcGVuZHMgdGhlbSB0byB0aGlzIG1hdHJpeC5cblx0ICogRm9yIGV4YW1wbGUsIHlvdSBjYW4gdXNlIHRoaXMgdG8gZ2VuZXJhdGUgYSBtYXRyaXggcmVwcmVzZW50aW5nIHRoZSB0cmFuc2Zvcm1hdGlvbnMgb2YgYSBkaXNwbGF5IG9iamVjdDpcblx0ICogXG5cdCAqIFx0dmFyIG10eCA9IG5ldyBjcmVhdGVqcy5NYXRyaXgyRCgpO1xuXHQgKiBcdG10eC5hcHBlbmRUcmFuc2Zvcm0oby54LCBvLnksIG8uc2NhbGVYLCBvLnNjYWxlWSwgby5yb3RhdGlvbik7XG5cdCAqIEBtZXRob2QgYXBwZW5kVHJhbnNmb3JtXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB4XG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB5XG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBzY2FsZVhcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHNjYWxlWVxuXHQgKiBAcGFyYW0ge051bWJlcn0gcm90YXRpb25cblx0ICogQHBhcmFtIHtOdW1iZXJ9IHNrZXdYXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBza2V3WVxuXHQgKiBAcGFyYW0ge051bWJlcn0gcmVnWCBPcHRpb25hbC5cblx0ICogQHBhcmFtIHtOdW1iZXJ9IHJlZ1kgT3B0aW9uYWwuXG5cdCAqIEByZXR1cm4ge01hdHJpeDJEfSBUaGlzIG1hdHJpeC4gVXNlZnVsIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHMuXG5cdCAqKi9cblx0cC5hcHBlbmRUcmFuc2Zvcm0gPSBmdW5jdGlvbih4LCB5LCBzY2FsZVgsIHNjYWxlWSwgcm90YXRpb24sIHNrZXdYLCBza2V3WSwgcmVnWCwgcmVnWSkge1xuXHRcdGlmIChyb3RhdGlvbiUzNjApIHtcblx0XHRcdHZhciByID0gcm90YXRpb24qTWF0cml4MkQuREVHX1RPX1JBRDtcblx0XHRcdHZhciBjb3MgPSBNYXRoLmNvcyhyKTtcblx0XHRcdHZhciBzaW4gPSBNYXRoLnNpbihyKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Y29zID0gMTtcblx0XHRcdHNpbiA9IDA7XG5cdFx0fVxuXG5cdFx0aWYgKHNrZXdYIHx8IHNrZXdZKSB7XG5cdFx0XHQvLyBUT0RPOiBjYW4gdGhpcyBiZSBjb21iaW5lZCBpbnRvIGEgc2luZ2xlIGFwcGVuZCBvcGVyYXRpb24/XG5cdFx0XHRza2V3WCAqPSBNYXRyaXgyRC5ERUdfVE9fUkFEO1xuXHRcdFx0c2tld1kgKj0gTWF0cml4MkQuREVHX1RPX1JBRDtcblx0XHRcdHRoaXMuYXBwZW5kKE1hdGguY29zKHNrZXdZKSwgTWF0aC5zaW4oc2tld1kpLCAtTWF0aC5zaW4oc2tld1gpLCBNYXRoLmNvcyhza2V3WCksIHgsIHkpO1xuXHRcdFx0dGhpcy5hcHBlbmQoY29zKnNjYWxlWCwgc2luKnNjYWxlWCwgLXNpbipzY2FsZVksIGNvcypzY2FsZVksIDAsIDApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLmFwcGVuZChjb3Mqc2NhbGVYLCBzaW4qc2NhbGVYLCAtc2luKnNjYWxlWSwgY29zKnNjYWxlWSwgeCwgeSk7XG5cdFx0fVxuXHRcdFxuXHRcdGlmIChyZWdYIHx8IHJlZ1kpIHtcblx0XHRcdC8vIGFwcGVuZCB0aGUgcmVnaXN0cmF0aW9uIG9mZnNldDpcblx0XHRcdHRoaXMudHggLT0gcmVnWCp0aGlzLmErcmVnWSp0aGlzLmM7IFxuXHRcdFx0dGhpcy50eSAtPSByZWdYKnRoaXMuYityZWdZKnRoaXMuZDtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH07XG5cblx0LyoqXG5cdCAqIEdlbmVyYXRlcyBtYXRyaXggcHJvcGVydGllcyBmcm9tIHRoZSBzcGVjaWZpZWQgZGlzcGxheSBvYmplY3QgdHJhbnNmb3JtIHByb3BlcnRpZXMsIGFuZCBwcmVwZW5kcyB0aGVtIHRvIHRoaXMgbWF0cml4LlxuXHQgKiBGb3IgZXhhbXBsZSwgeW91IGNvdWxkIGNhbGN1bGF0ZSB0aGUgY29tYmluZWQgdHJhbnNmb3JtYXRpb24gZm9yIGEgY2hpbGQgb2JqZWN0IHVzaW5nOlxuXHQgKiBcblx0ICogXHR2YXIgbyA9IG15RGlzcGxheU9iamVjdDtcblx0ICogXHR2YXIgbXR4ID0gbmV3IGNyZWF0ZWpzLk1hdHJpeDJEKCk7XG5cdCAqIFx0ZG8gIHtcblx0ICogXHRcdC8vIHByZXBlbmQgZWFjaCBwYXJlbnQncyB0cmFuc2Zvcm1hdGlvbiBpbiB0dXJuOlxuXHQgKiBcdFx0bXR4LnByZXBlbmRUcmFuc2Zvcm0oby54LCBvLnksIG8uc2NhbGVYLCBvLnNjYWxlWSwgby5yb3RhdGlvbiwgby5za2V3WCwgby5za2V3WSwgby5yZWdYLCBvLnJlZ1kpO1xuXHQgKiBcdH0gd2hpbGUgKG8gPSBvLnBhcmVudCk7XG5cdCAqIFx0XG5cdCAqIFx0Tm90ZSB0aGF0IHRoZSBhYm92ZSBleGFtcGxlIHdvdWxkIG5vdCBhY2NvdW50IGZvciB7eyNjcm9zc0xpbmsgXCJEaXNwbGF5T2JqZWN0L3RyYW5zZm9ybU1hdHJpeDpwcm9wZXJ0eVwifX17ey9jcm9zc0xpbmt9fVxuXHQgKiBcdHZhbHVlcy4gU2VlIHt7I2Nyb3NzTGluayBcIk1hdHJpeDJEL3ByZXBlbmRNYXRyaXhcIn19e3svY3Jvc3NMaW5rfX0gZm9yIGFuIGV4YW1wbGUgdGhhdCBkb2VzLlxuXHQgKiBAbWV0aG9kIHByZXBlbmRUcmFuc2Zvcm1cblx0ICogQHBhcmFtIHtOdW1iZXJ9IHhcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHlcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHNjYWxlWFxuXHQgKiBAcGFyYW0ge051bWJlcn0gc2NhbGVZXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSByb3RhdGlvblxuXHQgKiBAcGFyYW0ge051bWJlcn0gc2tld1hcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHNrZXdZXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSByZWdYIE9wdGlvbmFsLlxuXHQgKiBAcGFyYW0ge051bWJlcn0gcmVnWSBPcHRpb25hbC5cblx0ICogQHJldHVybiB7TWF0cml4MkR9IFRoaXMgbWF0cml4LiBVc2VmdWwgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxscy5cblx0ICoqL1xuXHRwLnByZXBlbmRUcmFuc2Zvcm0gPSBmdW5jdGlvbih4LCB5LCBzY2FsZVgsIHNjYWxlWSwgcm90YXRpb24sIHNrZXdYLCBza2V3WSwgcmVnWCwgcmVnWSkge1xuXHRcdGlmIChyb3RhdGlvbiUzNjApIHtcblx0XHRcdHZhciByID0gcm90YXRpb24qTWF0cml4MkQuREVHX1RPX1JBRDtcblx0XHRcdHZhciBjb3MgPSBNYXRoLmNvcyhyKTtcblx0XHRcdHZhciBzaW4gPSBNYXRoLnNpbihyKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Y29zID0gMTtcblx0XHRcdHNpbiA9IDA7XG5cdFx0fVxuXG5cdFx0aWYgKHJlZ1ggfHwgcmVnWSkge1xuXHRcdFx0Ly8gcHJlcGVuZCB0aGUgcmVnaXN0cmF0aW9uIG9mZnNldDpcblx0XHRcdHRoaXMudHggLT0gcmVnWDsgdGhpcy50eSAtPSByZWdZO1xuXHRcdH1cblx0XHRpZiAoc2tld1ggfHwgc2tld1kpIHtcblx0XHRcdC8vIFRPRE86IGNhbiB0aGlzIGJlIGNvbWJpbmVkIGludG8gYSBzaW5nbGUgcHJlcGVuZCBvcGVyYXRpb24/XG5cdFx0XHRza2V3WCAqPSBNYXRyaXgyRC5ERUdfVE9fUkFEO1xuXHRcdFx0c2tld1kgKj0gTWF0cml4MkQuREVHX1RPX1JBRDtcblx0XHRcdHRoaXMucHJlcGVuZChjb3Mqc2NhbGVYLCBzaW4qc2NhbGVYLCAtc2luKnNjYWxlWSwgY29zKnNjYWxlWSwgMCwgMCk7XG5cdFx0XHR0aGlzLnByZXBlbmQoTWF0aC5jb3Moc2tld1kpLCBNYXRoLnNpbihza2V3WSksIC1NYXRoLnNpbihza2V3WCksIE1hdGguY29zKHNrZXdYKSwgeCwgeSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMucHJlcGVuZChjb3Mqc2NhbGVYLCBzaW4qc2NhbGVYLCAtc2luKnNjYWxlWSwgY29zKnNjYWxlWSwgeCwgeSk7XG5cdFx0fVxuXHRcdHJldHVybiB0aGlzO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBBcHBsaWVzIGEgY2xvY2t3aXNlIHJvdGF0aW9uIHRyYW5zZm9ybWF0aW9uIHRvIHRoZSBtYXRyaXguXG5cdCAqIEBtZXRob2Qgcm90YXRlXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBhbmdsZSBUaGUgYW5nbGUgdG8gcm90YXRlIGJ5LCBpbiBkZWdyZWVzLiBUbyB1c2UgYSB2YWx1ZSBpbiByYWRpYW5zLCBtdWx0aXBseSBpdCBieSBgMTgwL01hdGguUElgLlxuXHQgKiBAcmV0dXJuIHtNYXRyaXgyRH0gVGhpcyBtYXRyaXguIFVzZWZ1bCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzLlxuXHQgKiovXG5cdHAucm90YXRlID0gZnVuY3Rpb24oYW5nbGUpIHtcblx0XHRhbmdsZSA9IGFuZ2xlKk1hdHJpeDJELkRFR19UT19SQUQ7XG5cdFx0dmFyIGNvcyA9IE1hdGguY29zKGFuZ2xlKTtcblx0XHR2YXIgc2luID0gTWF0aC5zaW4oYW5nbGUpO1xuXG5cdFx0dmFyIGExID0gdGhpcy5hO1xuXHRcdHZhciBiMSA9IHRoaXMuYjtcblxuXHRcdHRoaXMuYSA9IGExKmNvcyt0aGlzLmMqc2luO1xuXHRcdHRoaXMuYiA9IGIxKmNvcyt0aGlzLmQqc2luO1xuXHRcdHRoaXMuYyA9IC1hMSpzaW4rdGhpcy5jKmNvcztcblx0XHR0aGlzLmQgPSAtYjEqc2luK3RoaXMuZCpjb3M7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH07XG5cblx0LyoqXG5cdCAqIEFwcGxpZXMgYSBza2V3IHRyYW5zZm9ybWF0aW9uIHRvIHRoZSBtYXRyaXguXG5cdCAqIEBtZXRob2Qgc2tld1xuXHQgKiBAcGFyYW0ge051bWJlcn0gc2tld1ggVGhlIGFtb3VudCB0byBza2V3IGhvcml6b250YWxseSBpbiBkZWdyZWVzLiBUbyB1c2UgYSB2YWx1ZSBpbiByYWRpYW5zLCBtdWx0aXBseSBpdCBieSBgMTgwL01hdGguUElgLlxuXHQgKiBAcGFyYW0ge051bWJlcn0gc2tld1kgVGhlIGFtb3VudCB0byBza2V3IHZlcnRpY2FsbHkgaW4gZGVncmVlcy5cblx0ICogQHJldHVybiB7TWF0cml4MkR9IFRoaXMgbWF0cml4LiBVc2VmdWwgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxscy5cblx0Ki9cblx0cC5za2V3ID0gZnVuY3Rpb24oc2tld1gsIHNrZXdZKSB7XG5cdFx0c2tld1ggPSBza2V3WCpNYXRyaXgyRC5ERUdfVE9fUkFEO1xuXHRcdHNrZXdZID0gc2tld1kqTWF0cml4MkQuREVHX1RPX1JBRDtcblx0XHR0aGlzLmFwcGVuZChNYXRoLmNvcyhza2V3WSksIE1hdGguc2luKHNrZXdZKSwgLU1hdGguc2luKHNrZXdYKSwgTWF0aC5jb3Moc2tld1gpLCAwLCAwKTtcblx0XHRyZXR1cm4gdGhpcztcblx0fTtcblxuXHQvKipcblx0ICogQXBwbGllcyBhIHNjYWxlIHRyYW5zZm9ybWF0aW9uIHRvIHRoZSBtYXRyaXguXG5cdCAqIEBtZXRob2Qgc2NhbGVcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHggVGhlIGFtb3VudCB0byBzY2FsZSBob3Jpem9udGFsbHkuIEUuRy4gYSB2YWx1ZSBvZiAyIHdpbGwgZG91YmxlIHRoZSBzaXplIGluIHRoZSBYIGRpcmVjdGlvbiwgYW5kIDAuNSB3aWxsIGhhbHZlIGl0LlxuXHQgKiBAcGFyYW0ge051bWJlcn0geSBUaGUgYW1vdW50IHRvIHNjYWxlIHZlcnRpY2FsbHkuXG5cdCAqIEByZXR1cm4ge01hdHJpeDJEfSBUaGlzIG1hdHJpeC4gVXNlZnVsIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHMuXG5cdCAqKi9cblx0cC5zY2FsZSA9IGZ1bmN0aW9uKHgsIHkpIHtcblx0XHR0aGlzLmEgKj0geDtcblx0XHR0aGlzLmIgKj0geDtcblx0XHR0aGlzLmMgKj0geTtcblx0XHR0aGlzLmQgKj0geTtcblx0XHQvL3RoaXMudHggKj0geDtcblx0XHQvL3RoaXMudHkgKj0geTtcblx0XHRyZXR1cm4gdGhpcztcblx0fTtcblxuXHQvKipcblx0ICogVHJhbnNsYXRlcyB0aGUgbWF0cml4IG9uIHRoZSB4IGFuZCB5IGF4ZXMuXG5cdCAqIEBtZXRob2QgdHJhbnNsYXRlXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB4XG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB5XG5cdCAqIEByZXR1cm4ge01hdHJpeDJEfSBUaGlzIG1hdHJpeC4gVXNlZnVsIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHMuXG5cdCAqKi9cblx0cC50cmFuc2xhdGUgPSBmdW5jdGlvbih4LCB5KSB7XG5cdFx0dGhpcy50eCArPSB0aGlzLmEqeCArIHRoaXMuYyp5O1xuXHRcdHRoaXMudHkgKz0gdGhpcy5iKnggKyB0aGlzLmQqeTtcblx0XHRyZXR1cm4gdGhpcztcblx0fTtcblxuXHQvKipcblx0ICogU2V0cyB0aGUgcHJvcGVydGllcyBvZiB0aGUgbWF0cml4IHRvIHRob3NlIG9mIGFuIGlkZW50aXR5IG1hdHJpeCAob25lIHRoYXQgYXBwbGllcyBhIG51bGwgdHJhbnNmb3JtYXRpb24pLlxuXHQgKiBAbWV0aG9kIGlkZW50aXR5XG5cdCAqIEByZXR1cm4ge01hdHJpeDJEfSBUaGlzIG1hdHJpeC4gVXNlZnVsIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHMuXG5cdCAqKi9cblx0cC5pZGVudGl0eSA9IGZ1bmN0aW9uKCkge1xuXHRcdHRoaXMuYSA9IHRoaXMuZCA9IDE7XG5cdFx0dGhpcy5iID0gdGhpcy5jID0gdGhpcy50eCA9IHRoaXMudHkgPSAwO1xuXHRcdHJldHVybiB0aGlzO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBJbnZlcnRzIHRoZSBtYXRyaXgsIGNhdXNpbmcgaXQgdG8gcGVyZm9ybSB0aGUgb3Bwb3NpdGUgdHJhbnNmb3JtYXRpb24uXG5cdCAqIEBtZXRob2QgaW52ZXJ0XG5cdCAqIEByZXR1cm4ge01hdHJpeDJEfSBUaGlzIG1hdHJpeC4gVXNlZnVsIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHMuXG5cdCAqKi9cblx0cC5pbnZlcnQgPSBmdW5jdGlvbigpIHtcblx0XHR2YXIgYTEgPSB0aGlzLmE7XG5cdFx0dmFyIGIxID0gdGhpcy5iO1xuXHRcdHZhciBjMSA9IHRoaXMuYztcblx0XHR2YXIgZDEgPSB0aGlzLmQ7XG5cdFx0dmFyIHR4MSA9IHRoaXMudHg7XG5cdFx0dmFyIG4gPSBhMSpkMS1iMSpjMTtcblxuXHRcdHRoaXMuYSA9IGQxL247XG5cdFx0dGhpcy5iID0gLWIxL247XG5cdFx0dGhpcy5jID0gLWMxL247XG5cdFx0dGhpcy5kID0gYTEvbjtcblx0XHR0aGlzLnR4ID0gKGMxKnRoaXMudHktZDEqdHgxKS9uO1xuXHRcdHRoaXMudHkgPSAtKGExKnRoaXMudHktYjEqdHgxKS9uO1xuXHRcdHJldHVybiB0aGlzO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBSZXR1cm5zIHRydWUgaWYgdGhlIG1hdHJpeCBpcyBhbiBpZGVudGl0eSBtYXRyaXguXG5cdCAqIEBtZXRob2QgaXNJZGVudGl0eVxuXHQgKiBAcmV0dXJuIHtCb29sZWFufVxuXHQgKiovXG5cdHAuaXNJZGVudGl0eSA9IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLnR4ID09PSAwICYmIHRoaXMudHkgPT09IDAgJiYgdGhpcy5hID09PSAxICYmIHRoaXMuYiA9PT0gMCAmJiB0aGlzLmMgPT09IDAgJiYgdGhpcy5kID09PSAxO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIFJldHVybnMgdHJ1ZSBpZiB0aGlzIG1hdHJpeCBpcyBlcXVhbCB0byB0aGUgc3BlY2lmaWVkIG1hdHJpeCAoYWxsIHByb3BlcnR5IHZhbHVlcyBhcmUgZXF1YWwpLlxuXHQgKiBAbWV0aG9kIGVxdWFsc1xuXHQgKiBAcGFyYW0ge01hdHJpeDJEfSBtYXRyaXggVGhlIG1hdHJpeCB0byBjb21wYXJlLlxuXHQgKiBAcmV0dXJuIHtCb29sZWFufVxuXHQgKiovXG5cdHAuZXF1YWxzID0gZnVuY3Rpb24obWF0cml4KSB7XG5cdFx0cmV0dXJuIHRoaXMudHggPT09IG1hdHJpeC50eCAmJiB0aGlzLnR5ID09PSBtYXRyaXgudHkgJiYgdGhpcy5hID09PSBtYXRyaXguYSAmJiB0aGlzLmIgPT09IG1hdHJpeC5iICYmIHRoaXMuYyA9PT0gbWF0cml4LmMgJiYgdGhpcy5kID09PSBtYXRyaXguZDtcblx0fTtcblxuXHQvKipcblx0ICogVHJhbnNmb3JtcyBhIHBvaW50IGFjY29yZGluZyB0byB0aGlzIG1hdHJpeC5cblx0ICogQG1ldGhvZCB0cmFuc2Zvcm1Qb2ludFxuXHQgKiBAcGFyYW0ge051bWJlcn0geCBUaGUgeCBjb21wb25lbnQgb2YgdGhlIHBvaW50IHRvIHRyYW5zZm9ybS5cblx0ICogQHBhcmFtIHtOdW1iZXJ9IHkgVGhlIHkgY29tcG9uZW50IG9mIHRoZSBwb2ludCB0byB0cmFuc2Zvcm0uXG5cdCAqIEBwYXJhbSB7UG9pbnQgfCBPYmplY3R9IFtwdF0gQW4gb2JqZWN0IHRvIGNvcHkgdGhlIHJlc3VsdCBpbnRvLiBJZiBvbWl0dGVkIGEgZ2VuZXJpYyBvYmplY3Qgd2l0aCB4L3kgcHJvcGVydGllcyB3aWxsIGJlIHJldHVybmVkLlxuXHQgKiBAcmV0dXJuIHtQb2ludH0gVGhpcyBtYXRyaXguIFVzZWZ1bCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzLlxuXHQgKiovXG5cdHAudHJhbnNmb3JtUG9pbnQgPSBmdW5jdGlvbih4LCB5LCBwdCkge1xuXHRcdHB0ID0gcHR8fHt9O1xuXHRcdHB0LnggPSB4KnRoaXMuYSt5KnRoaXMuYyt0aGlzLnR4O1xuXHRcdHB0LnkgPSB4KnRoaXMuYit5KnRoaXMuZCt0aGlzLnR5O1xuXHRcdHJldHVybiBwdDtcblx0fTtcblxuXHQvKipcblx0ICogRGVjb21wb3NlcyB0aGUgbWF0cml4IGludG8gdHJhbnNmb3JtIHByb3BlcnRpZXMgKHgsIHksIHNjYWxlWCwgc2NhbGVZLCBhbmQgcm90YXRpb24pLiBOb3RlIHRoYXQgdGhlc2UgdmFsdWVzXG5cdCAqIG1heSBub3QgbWF0Y2ggdGhlIHRyYW5zZm9ybSBwcm9wZXJ0aWVzIHlvdSB1c2VkIHRvIGdlbmVyYXRlIHRoZSBtYXRyaXgsIHRob3VnaCB0aGV5IHdpbGwgcHJvZHVjZSB0aGUgc2FtZSB2aXN1YWxcblx0ICogcmVzdWx0cy5cblx0ICogQG1ldGhvZCBkZWNvbXBvc2Vcblx0ICogQHBhcmFtIHtPYmplY3R9IHRhcmdldCBUaGUgb2JqZWN0IHRvIGFwcGx5IHRoZSB0cmFuc2Zvcm0gcHJvcGVydGllcyB0by4gSWYgbnVsbCwgdGhlbiBhIG5ldyBvYmplY3Qgd2lsbCBiZSByZXR1cm5lZC5cblx0ICogQHJldHVybiB7T2JqZWN0fSBUaGUgdGFyZ2V0LCBvciBhIG5ldyBnZW5lcmljIG9iamVjdCB3aXRoIHRoZSB0cmFuc2Zvcm0gcHJvcGVydGllcyBhcHBsaWVkLlxuXHQqL1xuXHRwLmRlY29tcG9zZSA9IGZ1bmN0aW9uKHRhcmdldCkge1xuXHRcdC8vIFRPRE86IGl0IHdvdWxkIGJlIG5pY2UgdG8gYmUgYWJsZSB0byBzb2x2ZSBmb3Igd2hldGhlciB0aGUgbWF0cml4IGNhbiBiZSBkZWNvbXBvc2VkIGludG8gb25seSBzY2FsZS9yb3RhdGlvbiBldmVuIHdoZW4gc2NhbGUgaXMgbmVnYXRpdmVcblx0XHRpZiAodGFyZ2V0ID09IG51bGwpIHsgdGFyZ2V0ID0ge307IH1cblx0XHR0YXJnZXQueCA9IHRoaXMudHg7XG5cdFx0dGFyZ2V0LnkgPSB0aGlzLnR5O1xuXHRcdHRhcmdldC5zY2FsZVggPSBNYXRoLnNxcnQodGhpcy5hICogdGhpcy5hICsgdGhpcy5iICogdGhpcy5iKTtcblx0XHR0YXJnZXQuc2NhbGVZID0gTWF0aC5zcXJ0KHRoaXMuYyAqIHRoaXMuYyArIHRoaXMuZCAqIHRoaXMuZCk7XG5cblx0XHR2YXIgc2tld1ggPSBNYXRoLmF0YW4yKC10aGlzLmMsIHRoaXMuZCk7XG5cdFx0dmFyIHNrZXdZID0gTWF0aC5hdGFuMih0aGlzLmIsIHRoaXMuYSk7XG5cblx0XHR2YXIgZGVsdGEgPSBNYXRoLmFicygxLXNrZXdYL3NrZXdZKTtcblx0XHRpZiAoZGVsdGEgPCAwLjAwMDAxKSB7IC8vIGVmZmVjdGl2ZWx5IGlkZW50aWNhbCwgY2FuIHVzZSByb3RhdGlvbjpcblx0XHRcdHRhcmdldC5yb3RhdGlvbiA9IHNrZXdZL01hdHJpeDJELkRFR19UT19SQUQ7XG5cdFx0XHRpZiAodGhpcy5hIDwgMCAmJiB0aGlzLmQgPj0gMCkge1xuXHRcdFx0XHR0YXJnZXQucm90YXRpb24gKz0gKHRhcmdldC5yb3RhdGlvbiA8PSAwKSA/IDE4MCA6IC0xODA7XG5cdFx0XHR9XG5cdFx0XHR0YXJnZXQuc2tld1ggPSB0YXJnZXQuc2tld1kgPSAwO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0YXJnZXQuc2tld1ggPSBza2V3WC9NYXRyaXgyRC5ERUdfVE9fUkFEO1xuXHRcdFx0dGFyZ2V0LnNrZXdZID0gc2tld1kvTWF0cml4MkQuREVHX1RPX1JBRDtcblx0XHR9XG5cdFx0cmV0dXJuIHRhcmdldDtcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBDb3BpZXMgYWxsIHByb3BlcnRpZXMgZnJvbSB0aGUgc3BlY2lmaWVkIG1hdHJpeCB0byB0aGlzIG1hdHJpeC5cblx0ICogQG1ldGhvZCBjb3B5XG5cdCAqIEBwYXJhbSB7TWF0cml4MkR9IG1hdHJpeCBUaGUgbWF0cml4IHRvIGNvcHkgcHJvcGVydGllcyBmcm9tLlxuXHQgKiBAcmV0dXJuIHtNYXRyaXgyRH0gVGhpcyBtYXRyaXguIFVzZWZ1bCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzLlxuXHQqL1xuXHRwLmNvcHkgPSBmdW5jdGlvbihtYXRyaXgpIHtcblx0XHRyZXR1cm4gdGhpcy5zZXRWYWx1ZXMobWF0cml4LmEsIG1hdHJpeC5iLCBtYXRyaXguYywgbWF0cml4LmQsIG1hdHJpeC50eCwgbWF0cml4LnR5KTtcblx0fTtcblxuXHQvKipcblx0ICogUmV0dXJucyBhIGNsb25lIG9mIHRoZSBNYXRyaXgyRCBpbnN0YW5jZS5cblx0ICogQG1ldGhvZCBjbG9uZVxuXHQgKiBAcmV0dXJuIHtNYXRyaXgyRH0gYSBjbG9uZSBvZiB0aGUgTWF0cml4MkQgaW5zdGFuY2UuXG5cdCAqKi9cblx0cC5jbG9uZSA9IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBuZXcgTWF0cml4MkQodGhpcy5hLCB0aGlzLmIsIHRoaXMuYywgdGhpcy5kLCB0aGlzLnR4LCB0aGlzLnR5KTtcblx0fTtcblxuXHQvKipcblx0ICogUmV0dXJucyBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGlzIG9iamVjdC5cblx0ICogQG1ldGhvZCB0b1N0cmluZ1xuXHQgKiBAcmV0dXJuIHtTdHJpbmd9IGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBpbnN0YW5jZS5cblx0ICoqL1xuXHRwLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIFwiW01hdHJpeDJEIChhPVwiK3RoaXMuYStcIiBiPVwiK3RoaXMuYitcIiBjPVwiK3RoaXMuYytcIiBkPVwiK3RoaXMuZCtcIiB0eD1cIit0aGlzLnR4K1wiIHR5PVwiK3RoaXMudHkrXCIpXVwiO1xuXHR9O1xuXG5cdC8vIHRoaXMgaGFzIHRvIGJlIHBvcHVsYXRlZCBhZnRlciB0aGUgY2xhc3MgaXMgZGVmaW5lZDpcblx0TWF0cml4MkQuaWRlbnRpdHkgPSBuZXcgTWF0cml4MkQoKTtcblxuXG5cdGNyZWF0ZWpzLk1hdHJpeDJEID0gTWF0cml4MkQ7XG59KCkpO1xuXG4vLyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI1xuLy8gRGlzcGxheVByb3BzLmpzXG4vLyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI1xuXG4oZnVuY3Rpb24oKSB7XG5cdFwidXNlIHN0cmljdFwiO1xuXG5cdC8qKlxuXHQgKiBVc2VkIGZvciBjYWxjdWxhdGluZyBhbmQgZW5jYXBzdWxhdGluZyBkaXNwbGF5IHJlbGF0ZWQgcHJvcGVydGllcy5cblx0ICogQGNsYXNzIERpc3BsYXlQcm9wc1xuXHQgKiBAcGFyYW0ge051bWJlcn0gW3Zpc2libGU9dHJ1ZV0gVmlzaWJsZSB2YWx1ZS5cblx0ICogQHBhcmFtIHtOdW1iZXJ9IFthbHBoYT0xXSBBbHBoYSB2YWx1ZS5cblx0ICogQHBhcmFtIHtOdW1iZXJ9IFtzaGFkb3c9bnVsbF0gQSBTaGFkb3cgaW5zdGFuY2Ugb3IgbnVsbC5cblx0ICogQHBhcmFtIHtOdW1iZXJ9IFtjb21wb3NpdGVPcGVyYXRpb249bnVsbF0gQSBjb21wb3NpdGVPcGVyYXRpb24gdmFsdWUgb3IgbnVsbC5cblx0ICogQHBhcmFtIHtOdW1iZXJ9IFttYXRyaXhdIEEgdHJhbnNmb3JtYXRpb24gbWF0cml4LiBEZWZhdWx0cyB0byBhIG5ldyBpZGVudGl0eSBtYXRyaXguXG5cdCAqIEBjb25zdHJ1Y3RvclxuXHQgKiovXG5cdGZ1bmN0aW9uIERpc3BsYXlQcm9wcyh2aXNpYmxlLCBhbHBoYSwgc2hhZG93LCBjb21wb3NpdGVPcGVyYXRpb24sIG1hdHJpeCkge1xuXHRcdHRoaXMuc2V0VmFsdWVzKHZpc2libGUsIGFscGhhLCBzaGFkb3csIGNvbXBvc2l0ZU9wZXJhdGlvbiwgbWF0cml4KTtcblx0XHRcblx0Ly8gcHVibGljIHByb3BlcnRpZXM6XG5cdFx0Ly8gYXNzaWduZWQgaW4gdGhlIHNldFZhbHVlcyBtZXRob2QuXG5cdFx0LyoqXG5cdFx0ICogUHJvcGVydHkgcmVwcmVzZW50aW5nIHRoZSBhbHBoYSB0aGF0IHdpbGwgYmUgYXBwbGllZCB0byBhIGRpc3BsYXkgb2JqZWN0LlxuXHRcdCAqIEBwcm9wZXJ0eSBhbHBoYVxuXHRcdCAqIEB0eXBlIE51bWJlclxuXHRcdCAqKi9cblx0XG5cdFx0LyoqXG5cdFx0ICogUHJvcGVydHkgcmVwcmVzZW50aW5nIHRoZSBzaGFkb3cgdGhhdCB3aWxsIGJlIGFwcGxpZWQgdG8gYSBkaXNwbGF5IG9iamVjdC5cblx0XHQgKiBAcHJvcGVydHkgc2hhZG93XG5cdFx0ICogQHR5cGUgU2hhZG93XG5cdFx0ICoqL1xuXHRcblx0XHQvKipcblx0XHQgKiBQcm9wZXJ0eSByZXByZXNlbnRpbmcgdGhlIGNvbXBvc2l0ZU9wZXJhdGlvbiB0aGF0IHdpbGwgYmUgYXBwbGllZCB0byBhIGRpc3BsYXkgb2JqZWN0LlxuXHRcdCAqIFlvdSBjYW4gZmluZCBhIGxpc3Qgb2YgdmFsaWQgY29tcG9zaXRlIG9wZXJhdGlvbnMgYXQ6XG5cdFx0ICogPGEgaHJlZj1cImh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9DYW52YXNfQVBJL1R1dG9yaWFsL0NvbXBvc2l0aW5nXCI+aHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0NhbnZhc19BUEkvVHV0b3JpYWwvQ29tcG9zaXRpbmc8L2E+XG5cdFx0ICogQHByb3BlcnR5IGNvbXBvc2l0ZU9wZXJhdGlvblxuXHRcdCAqIEB0eXBlIFN0cmluZ1xuXHRcdCAqKi9cblx0XHRcblx0XHQvKipcblx0XHQgKiBQcm9wZXJ0eSByZXByZXNlbnRpbmcgdGhlIHZhbHVlIGZvciB2aXNpYmxlIHRoYXQgd2lsbCBiZSBhcHBsaWVkIHRvIGEgZGlzcGxheSBvYmplY3QuXG5cdFx0ICogQHByb3BlcnR5IHZpc2libGVcblx0XHQgKiBAdHlwZSBCb29sZWFuXG5cdFx0ICoqL1xuXHRcdFxuXHRcdC8qKlxuXHRcdCAqIFRoZSB0cmFuc2Zvcm1hdGlvbiBtYXRyaXggdGhhdCB3aWxsIGJlIGFwcGxpZWQgdG8gYSBkaXNwbGF5IG9iamVjdC5cblx0XHQgKiBAcHJvcGVydHkgbWF0cml4XG5cdFx0ICogQHR5cGUgTWF0cml4MkRcblx0XHQgKiovXG5cdH1cblx0dmFyIHAgPSBEaXNwbGF5UHJvcHMucHJvdG90eXBlO1xuXG4vLyBpbml0aWFsaXphdGlvbjpcblx0LyoqXG5cdCAqIFJlaW5pdGlhbGl6ZXMgdGhlIGluc3RhbmNlIHdpdGggdGhlIHNwZWNpZmllZCB2YWx1ZXMuXG5cdCAqIEBtZXRob2Qgc2V0VmFsdWVzXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBbdmlzaWJsZT10cnVlXSBWaXNpYmxlIHZhbHVlLlxuXHQgKiBAcGFyYW0ge051bWJlcn0gW2FscGhhPTFdIEFscGhhIHZhbHVlLlxuXHQgKiBAcGFyYW0ge051bWJlcn0gW3NoYWRvdz1udWxsXSBBIFNoYWRvdyBpbnN0YW5jZSBvciBudWxsLlxuXHQgKiBAcGFyYW0ge051bWJlcn0gW2NvbXBvc2l0ZU9wZXJhdGlvbj1udWxsXSBBIGNvbXBvc2l0ZU9wZXJhdGlvbiB2YWx1ZSBvciBudWxsLlxuXHQgKiBAcGFyYW0ge051bWJlcn0gW21hdHJpeF0gQSB0cmFuc2Zvcm1hdGlvbiBtYXRyaXguIERlZmF1bHRzIHRvIGFuIGlkZW50aXR5IG1hdHJpeC5cblx0ICogQHJldHVybiB7RGlzcGxheVByb3BzfSBUaGlzIGluc3RhbmNlLiBVc2VmdWwgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxscy5cblx0ICogQGNoYWluYWJsZVxuXHQqL1xuXHRwLnNldFZhbHVlcyA9IGZ1bmN0aW9uICh2aXNpYmxlLCBhbHBoYSwgc2hhZG93LCBjb21wb3NpdGVPcGVyYXRpb24sIG1hdHJpeCkge1xuXHRcdHRoaXMudmlzaWJsZSA9IHZpc2libGUgPT0gbnVsbCA/IHRydWUgOiAhIXZpc2libGU7XG5cdFx0dGhpcy5hbHBoYSA9IGFscGhhID09IG51bGwgPyAxIDogYWxwaGE7XG5cdFx0dGhpcy5zaGFkb3cgPSBzaGFkb3c7XG5cdFx0dGhpcy5jb21wb3NpdGVPcGVyYXRpb24gPSBjb21wb3NpdGVPcGVyYXRpb247XG5cdFx0dGhpcy5tYXRyaXggPSBtYXRyaXggfHwgKHRoaXMubWF0cml4JiZ0aGlzLm1hdHJpeC5pZGVudGl0eSgpKSB8fCBuZXcgY3JlYXRlanMuTWF0cml4MkQoKTtcblx0XHRyZXR1cm4gdGhpcztcblx0fTtcblxuLy8gcHVibGljIG1ldGhvZHM6XG5cdC8qKlxuXHQgKiBBcHBlbmRzIHRoZSBzcGVjaWZpZWQgZGlzcGxheSBwcm9wZXJ0aWVzLiBUaGlzIGlzIGdlbmVyYWxseSB1c2VkIHRvIGFwcGx5IGEgY2hpbGQncyBwcm9wZXJ0aWVzIGl0cyBwYXJlbnQncy5cblx0ICogQG1ldGhvZCBhcHBlbmRcblx0ICogQHBhcmFtIHtCb29sZWFufSB2aXNpYmxlIGRlc2lyZWQgdmlzaWJsZSB2YWx1ZVxuXHQgKiBAcGFyYW0ge051bWJlcn0gYWxwaGEgZGVzaXJlZCBhbHBoYSB2YWx1ZVxuXHQgKiBAcGFyYW0ge1NoYWRvd30gc2hhZG93IGRlc2lyZWQgc2hhZG93IHZhbHVlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBjb21wb3NpdGVPcGVyYXRpb24gZGVzaXJlZCBjb21wb3NpdGUgb3BlcmF0aW9uIHZhbHVlXG5cdCAqIEBwYXJhbSB7TWF0cml4MkR9IFttYXRyaXhdIGEgTWF0cml4MkQgaW5zdGFuY2Vcblx0ICogQHJldHVybiB7RGlzcGxheVByb3BzfSBUaGlzIGluc3RhbmNlLiBVc2VmdWwgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxscy5cblx0ICogQGNoYWluYWJsZVxuXHQqL1xuXHRwLmFwcGVuZCA9IGZ1bmN0aW9uKHZpc2libGUsIGFscGhhLCBzaGFkb3csIGNvbXBvc2l0ZU9wZXJhdGlvbiwgbWF0cml4KSB7XG5cdFx0dGhpcy5hbHBoYSAqPSBhbHBoYTtcblx0XHR0aGlzLnNoYWRvdyA9IHNoYWRvdyB8fCB0aGlzLnNoYWRvdztcblx0XHR0aGlzLmNvbXBvc2l0ZU9wZXJhdGlvbiA9IGNvbXBvc2l0ZU9wZXJhdGlvbiB8fCB0aGlzLmNvbXBvc2l0ZU9wZXJhdGlvbjtcblx0XHR0aGlzLnZpc2libGUgPSB0aGlzLnZpc2libGUgJiYgdmlzaWJsZTtcblx0XHRtYXRyaXgmJnRoaXMubWF0cml4LmFwcGVuZE1hdHJpeChtYXRyaXgpO1xuXHRcdHJldHVybiB0aGlzO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIFByZXBlbmRzIHRoZSBzcGVjaWZpZWQgZGlzcGxheSBwcm9wZXJ0aWVzLiBUaGlzIGlzIGdlbmVyYWxseSB1c2VkIHRvIGFwcGx5IGEgcGFyZW50J3MgcHJvcGVydGllcyB0byBhIGNoaWxkJ3MuXG5cdCAqIEZvciBleGFtcGxlLCB0byBnZXQgdGhlIGNvbWJpbmVkIGRpc3BsYXkgcHJvcGVydGllcyB0aGF0IHdvdWxkIGJlIGFwcGxpZWQgdG8gYSBjaGlsZCwgeW91IGNvdWxkIHVzZTpcblx0ICogXG5cdCAqIFx0dmFyIG8gPSBteURpc3BsYXlPYmplY3Q7XG5cdCAqIFx0dmFyIHByb3BzID0gbmV3IGNyZWF0ZWpzLkRpc3BsYXlQcm9wcygpO1xuXHQgKiBcdGRvIHtcblx0ICogXHRcdC8vIHByZXBlbmQgZWFjaCBwYXJlbnQncyBwcm9wcyBpbiB0dXJuOlxuXHQgKiBcdFx0cHJvcHMucHJlcGVuZChvLnZpc2libGUsIG8uYWxwaGEsIG8uc2hhZG93LCBvLmNvbXBvc2l0ZU9wZXJhdGlvbiwgby5nZXRNYXRyaXgoKSk7XG5cdCAqIFx0fSB3aGlsZSAobyA9IG8ucGFyZW50KTtcblx0ICogXHRcblx0ICogQG1ldGhvZCBwcmVwZW5kXG5cdCAqIEBwYXJhbSB7Qm9vbGVhbn0gdmlzaWJsZSBkZXNpcmVkIHZpc2libGUgdmFsdWVcblx0ICogQHBhcmFtIHtOdW1iZXJ9IGFscGhhIGRlc2lyZWQgYWxwaGEgdmFsdWVcblx0ICogQHBhcmFtIHtTaGFkb3d9IHNoYWRvdyBkZXNpcmVkIHNoYWRvdyB2YWx1ZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gY29tcG9zaXRlT3BlcmF0aW9uIGRlc2lyZWQgY29tcG9zaXRlIG9wZXJhdGlvbiB2YWx1ZVxuXHQgKiBAcGFyYW0ge01hdHJpeDJEfSBbbWF0cml4XSBhIE1hdHJpeDJEIGluc3RhbmNlXG5cdCAqIEByZXR1cm4ge0Rpc3BsYXlQcm9wc30gVGhpcyBpbnN0YW5jZS4gVXNlZnVsIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHMuXG5cdCAqIEBjaGFpbmFibGVcblx0Ki9cblx0cC5wcmVwZW5kID0gZnVuY3Rpb24odmlzaWJsZSwgYWxwaGEsIHNoYWRvdywgY29tcG9zaXRlT3BlcmF0aW9uLCBtYXRyaXgpIHtcblx0XHR0aGlzLmFscGhhICo9IGFscGhhO1xuXHRcdHRoaXMuc2hhZG93ID0gdGhpcy5zaGFkb3cgfHwgc2hhZG93O1xuXHRcdHRoaXMuY29tcG9zaXRlT3BlcmF0aW9uID0gdGhpcy5jb21wb3NpdGVPcGVyYXRpb24gfHwgY29tcG9zaXRlT3BlcmF0aW9uO1xuXHRcdHRoaXMudmlzaWJsZSA9IHRoaXMudmlzaWJsZSAmJiB2aXNpYmxlO1xuXHRcdG1hdHJpeCYmdGhpcy5tYXRyaXgucHJlcGVuZE1hdHJpeChtYXRyaXgpO1xuXHRcdHJldHVybiB0aGlzO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIFJlc2V0cyB0aGlzIGluc3RhbmNlIGFuZCBpdHMgbWF0cml4IHRvIGRlZmF1bHQgdmFsdWVzLlxuXHQgKiBAbWV0aG9kIGlkZW50aXR5XG5cdCAqIEByZXR1cm4ge0Rpc3BsYXlQcm9wc30gVGhpcyBpbnN0YW5jZS4gVXNlZnVsIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHMuXG5cdCAqIEBjaGFpbmFibGVcblx0Ki9cblx0cC5pZGVudGl0eSA9IGZ1bmN0aW9uKCkge1xuXHRcdHRoaXMudmlzaWJsZSA9IHRydWU7XG5cdFx0dGhpcy5hbHBoYSA9IDE7XG5cdFx0dGhpcy5zaGFkb3cgPSB0aGlzLmNvbXBvc2l0ZU9wZXJhdGlvbiA9IG51bGw7XG5cdFx0dGhpcy5tYXRyaXguaWRlbnRpdHkoKTtcblx0XHRyZXR1cm4gdGhpcztcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBSZXR1cm5zIGEgY2xvbmUgb2YgdGhlIERpc3BsYXlQcm9wcyBpbnN0YW5jZS4gQ2xvbmVzIHRoZSBhc3NvY2lhdGVkIG1hdHJpeC5cblx0ICogQG1ldGhvZCBjbG9uZVxuXHQgKiBAcmV0dXJuIHtEaXNwbGF5UHJvcHN9IGEgY2xvbmUgb2YgdGhlIERpc3BsYXlQcm9wcyBpbnN0YW5jZS5cblx0ICoqL1xuXHRwLmNsb25lID0gZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIG5ldyBEaXNwbGF5UHJvcHModGhpcy5hbHBoYSwgdGhpcy5zaGFkb3csIHRoaXMuY29tcG9zaXRlT3BlcmF0aW9uLCB0aGlzLnZpc2libGUsIHRoaXMubWF0cml4LmNsb25lKCkpO1xuXHR9O1xuXG4vLyBwcml2YXRlIG1ldGhvZHM6XG5cblx0Y3JlYXRlanMuRGlzcGxheVByb3BzID0gRGlzcGxheVByb3BzO1xufSkoKTtcblxuLy8jIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyNcbi8vIFBvaW50LmpzXG4vLyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI1xuXG4oZnVuY3Rpb24oKSB7XG5cdFwidXNlIHN0cmljdFwiO1xuXG5cbi8vIGNvbnN0cnVjdG9yOlxuXHQvKipcblx0ICogUmVwcmVzZW50cyBhIHBvaW50IG9uIGEgMiBkaW1lbnNpb25hbCB4IC8geSBjb29yZGluYXRlIHN5c3RlbS5cblx0ICpcblx0ICogPGg0PkV4YW1wbGU8L2g0PlxuXHQgKiBcblx0ICogICAgICB2YXIgcG9pbnQgPSBuZXcgY3JlYXRlanMuUG9pbnQoMCwgMTAwKTtcblx0ICogXG5cdCAqIEBjbGFzcyBQb2ludFxuXHQgKiBAcGFyYW0ge051bWJlcn0gW3g9MF0gWCBwb3NpdGlvbi5cblx0ICogQHBhcmFtIHtOdW1iZXJ9IFt5PTBdIFkgcG9zaXRpb24uXG5cdCAqIEBjb25zdHJ1Y3RvclxuXHQgKiovXG5cdGZ1bmN0aW9uIFBvaW50KHgsIHkpIHtcblx0IFx0dGhpcy5zZXRWYWx1ZXMoeCwgeSk7XG5cdCBcdFxuXHQgXHRcblx0Ly8gcHVibGljIHByb3BlcnRpZXM6XG5cdFx0Ly8gYXNzaWduZWQgaW4gdGhlIHNldFZhbHVlcyBtZXRob2QuXG5cdFx0LyoqXG5cdFx0ICogWCBwb3NpdGlvbi5cblx0XHQgKiBAcHJvcGVydHkgeFxuXHRcdCAqIEB0eXBlIE51bWJlclxuXHRcdCAqKi9cblx0XG5cdFx0LyoqXG5cdFx0ICogWSBwb3NpdGlvbi5cblx0XHQgKiBAcHJvcGVydHkgeVxuXHRcdCAqIEB0eXBlIE51bWJlclxuXHRcdCAqKi9cblx0fVxuXHR2YXIgcCA9IFBvaW50LnByb3RvdHlwZTtcblx0XG4vLyBwdWJsaWMgbWV0aG9kczpcblx0LyoqIFxuXHQgKiBTZXRzIHRoZSBzcGVjaWZpZWQgdmFsdWVzIG9uIHRoaXMgaW5zdGFuY2UuXG5cdCAqIEBtZXRob2Qgc2V0VmFsdWVzXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBbeD0wXSBYIHBvc2l0aW9uLlxuXHQgKiBAcGFyYW0ge051bWJlcn0gW3k9MF0gWSBwb3NpdGlvbi5cblx0ICogQHJldHVybiB7UG9pbnR9IFRoaXMgaW5zdGFuY2UuIFVzZWZ1bCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzLlxuXHQgKiBAY2hhaW5hYmxlXG5cdCovXG5cdHAuc2V0VmFsdWVzID0gZnVuY3Rpb24oeCwgeSkge1xuXHRcdHRoaXMueCA9IHh8fDA7XG5cdFx0dGhpcy55ID0geXx8MDtcblx0XHRyZXR1cm4gdGhpcztcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBDb3BpZXMgYWxsIHByb3BlcnRpZXMgZnJvbSB0aGUgc3BlY2lmaWVkIHBvaW50IHRvIHRoaXMgcG9pbnQuXG5cdCAqIEBtZXRob2QgY29weVxuXHQgKiBAcGFyYW0ge1BvaW50fSBwb2ludCBUaGUgcG9pbnQgdG8gY29weSBwcm9wZXJ0aWVzIGZyb20uXG5cdCAqIEByZXR1cm4ge1BvaW50fSBUaGlzIHBvaW50LiBVc2VmdWwgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxscy5cblx0ICogQGNoYWluYWJsZVxuXHQqL1xuXHRwLmNvcHkgPSBmdW5jdGlvbihwb2ludCkge1xuXHRcdHRoaXMueCA9IHBvaW50Lng7XG5cdFx0dGhpcy55ID0gcG9pbnQueTtcblx0XHRyZXR1cm4gdGhpcztcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBSZXR1cm5zIGEgY2xvbmUgb2YgdGhlIFBvaW50IGluc3RhbmNlLlxuXHQgKiBAbWV0aG9kIGNsb25lXG5cdCAqIEByZXR1cm4ge1BvaW50fSBhIGNsb25lIG9mIHRoZSBQb2ludCBpbnN0YW5jZS5cblx0ICoqL1xuXHRwLmNsb25lID0gZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIG5ldyBQb2ludCh0aGlzLngsIHRoaXMueSk7XG5cdH07XG5cblx0LyoqXG5cdCAqIFJldHVybnMgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhpcyBvYmplY3QuXG5cdCAqIEBtZXRob2QgdG9TdHJpbmdcblx0ICogQHJldHVybiB7U3RyaW5nfSBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgaW5zdGFuY2UuXG5cdCAqKi9cblx0cC50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBcIltQb2ludCAoeD1cIit0aGlzLngrXCIgeT1cIit0aGlzLnkrXCIpXVwiO1xuXHR9O1xuXHRcblx0XG5cdGNyZWF0ZWpzLlBvaW50ID0gUG9pbnQ7XG59KCkpO1xuXG4vLyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI1xuLy8gUmVjdGFuZ2xlLmpzXG4vLyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI1xuXG4oZnVuY3Rpb24oKSB7XG5cdFwidXNlIHN0cmljdFwiO1xuXG5cbi8vIGNvbnN0cnVjdG9yOlxuXHQvKipcblx0ICogUmVwcmVzZW50cyBhIHJlY3RhbmdsZSBhcyBkZWZpbmVkIGJ5IHRoZSBwb2ludHMgKHgsIHkpIGFuZCAoeCt3aWR0aCwgeStoZWlnaHQpLlxuXHQgKlxuXHQgKiA8aDQ+RXhhbXBsZTwvaDQ+XG5cdCAqXG5cdCAqICAgICAgdmFyIHJlY3QgPSBuZXcgY3JlYXRlanMuUmVjdGFuZ2xlKDAsIDAsIDEwMCwgMTAwKTtcblx0ICpcblx0ICogQGNsYXNzIFJlY3RhbmdsZVxuXHQgKiBAcGFyYW0ge051bWJlcn0gW3g9MF0gWCBwb3NpdGlvbi5cblx0ICogQHBhcmFtIHtOdW1iZXJ9IFt5PTBdIFkgcG9zaXRpb24uXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBbd2lkdGg9MF0gVGhlIHdpZHRoIG9mIHRoZSBSZWN0YW5nbGUuXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBbaGVpZ2h0PTBdIFRoZSBoZWlnaHQgb2YgdGhlIFJlY3RhbmdsZS5cblx0ICogQGNvbnN0cnVjdG9yXG5cdCAqKi9cblx0ZnVuY3Rpb24gUmVjdGFuZ2xlKHgsIHksIHdpZHRoLCBoZWlnaHQpIHtcblx0XHR0aGlzLnNldFZhbHVlcyh4LCB5LCB3aWR0aCwgaGVpZ2h0KTtcblx0XHRcblx0XHRcblx0Ly8gcHVibGljIHByb3BlcnRpZXM6XG5cdFx0Ly8gYXNzaWduZWQgaW4gdGhlIHNldFZhbHVlcyBtZXRob2QuXG5cdFx0LyoqXG5cdFx0ICogWCBwb3NpdGlvbi5cblx0XHQgKiBAcHJvcGVydHkgeFxuXHRcdCAqIEB0eXBlIE51bWJlclxuXHRcdCAqKi9cblx0XG5cdFx0LyoqXG5cdFx0ICogWSBwb3NpdGlvbi5cblx0XHQgKiBAcHJvcGVydHkgeVxuXHRcdCAqIEB0eXBlIE51bWJlclxuXHRcdCAqKi9cblx0XG5cdFx0LyoqXG5cdFx0ICogV2lkdGguXG5cdFx0ICogQHByb3BlcnR5IHdpZHRoXG5cdFx0ICogQHR5cGUgTnVtYmVyXG5cdFx0ICoqL1xuXHRcblx0XHQvKipcblx0XHQgKiBIZWlnaHQuXG5cdFx0ICogQHByb3BlcnR5IGhlaWdodFxuXHRcdCAqIEB0eXBlIE51bWJlclxuXHRcdCAqKi9cblx0fVxuXHR2YXIgcCA9IFJlY3RhbmdsZS5wcm90b3R5cGU7XG5cbi8vIHB1YmxpYyBtZXRob2RzOlxuXHQvKiogXG5cdCAqIFNldHMgdGhlIHNwZWNpZmllZCB2YWx1ZXMgb24gdGhpcyBpbnN0YW5jZS5cblx0ICogQG1ldGhvZCBzZXRWYWx1ZXNcblx0ICogQHBhcmFtIHtOdW1iZXJ9IFt4PTBdIFggcG9zaXRpb24uXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBbeT0wXSBZIHBvc2l0aW9uLlxuXHQgKiBAcGFyYW0ge051bWJlcn0gW3dpZHRoPTBdIFRoZSB3aWR0aCBvZiB0aGUgUmVjdGFuZ2xlLlxuXHQgKiBAcGFyYW0ge051bWJlcn0gW2hlaWdodD0wXSBUaGUgaGVpZ2h0IG9mIHRoZSBSZWN0YW5nbGUuXG5cdCAqIEByZXR1cm4ge1JlY3RhbmdsZX0gVGhpcyBpbnN0YW5jZS4gVXNlZnVsIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHMuXG5cdCAqIEBjaGFpbmFibGVcblx0Ki9cblx0cC5zZXRWYWx1ZXMgPSBmdW5jdGlvbih4LCB5LCB3aWR0aCwgaGVpZ2h0KSB7XG5cdFx0Ly8gZG9uJ3QgZm9yZ2V0IHRvIHVwZGF0ZSBkb2NzIGluIHRoZSBjb25zdHJ1Y3RvciBpZiB0aGVzZSBjaGFuZ2U6XG5cdFx0dGhpcy54ID0geHx8MDtcblx0XHR0aGlzLnkgPSB5fHwwO1xuXHRcdHRoaXMud2lkdGggPSB3aWR0aHx8MDtcblx0XHR0aGlzLmhlaWdodCA9IGhlaWdodHx8MDtcblx0XHRyZXR1cm4gdGhpcztcblx0fTtcblx0XG5cdC8qKiBcblx0ICogRXh0ZW5kcyB0aGUgcmVjdGFuZ2xlJ3MgYm91bmRzIHRvIGluY2x1ZGUgdGhlIGRlc2NyaWJlZCBwb2ludCBvciByZWN0YW5nbGUuXG5cdCAqIEBtZXRob2QgZXh0ZW5kXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB4IFggcG9zaXRpb24gb2YgdGhlIHBvaW50IG9yIHJlY3RhbmdsZS5cblx0ICogQHBhcmFtIHtOdW1iZXJ9IHkgWSBwb3NpdGlvbiBvZiB0aGUgcG9pbnQgb3IgcmVjdGFuZ2xlLlxuXHQgKiBAcGFyYW0ge051bWJlcn0gW3dpZHRoPTBdIFRoZSB3aWR0aCBvZiB0aGUgcmVjdGFuZ2xlLlxuXHQgKiBAcGFyYW0ge051bWJlcn0gW2hlaWdodD0wXSBUaGUgaGVpZ2h0IG9mIHRoZSByZWN0YW5nbGUuXG5cdCAqIEByZXR1cm4ge1JlY3RhbmdsZX0gVGhpcyBpbnN0YW5jZS4gVXNlZnVsIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHMuXG5cdCAqIEBjaGFpbmFibGVcblx0Ki9cblx0cC5leHRlbmQgPSBmdW5jdGlvbih4LCB5LCB3aWR0aCwgaGVpZ2h0KSB7XG5cdFx0d2lkdGggPSB3aWR0aHx8MDtcblx0XHRoZWlnaHQgPSBoZWlnaHR8fDA7XG5cdFx0aWYgKHgrd2lkdGggPiB0aGlzLngrdGhpcy53aWR0aCkgeyB0aGlzLndpZHRoID0geCt3aWR0aC10aGlzLng7IH1cblx0XHRpZiAoeStoZWlnaHQgPiB0aGlzLnkrdGhpcy5oZWlnaHQpIHsgdGhpcy5oZWlnaHQgPSB5K2hlaWdodC10aGlzLnk7IH1cblx0XHRpZiAoeCA8IHRoaXMueCkgeyB0aGlzLndpZHRoICs9IHRoaXMueC14OyB0aGlzLnggPSB4OyB9XG5cdFx0aWYgKHkgPCB0aGlzLnkpIHsgdGhpcy5oZWlnaHQgKz0gdGhpcy55LXk7IHRoaXMueSA9IHk7IH1cblx0XHRyZXR1cm4gdGhpcztcblx0fTtcblx0XG5cdC8qKiBcblx0ICogQWRkcyB0aGUgc3BlY2lmaWVkIHBhZGRpbmcgdG8gdGhlIHJlY3RhbmdsZSdzIGJvdW5kcy5cblx0ICogQG1ldGhvZCBwYWRcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHRvcFxuXHQgKiBAcGFyYW0ge051bWJlcn0gbGVmdFxuXHQgKiBAcGFyYW0ge051bWJlcn0gYm90dG9tXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSByaWdodFxuXHQgKiBAcmV0dXJuIHtSZWN0YW5nbGV9IFRoaXMgaW5zdGFuY2UuIFVzZWZ1bCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzLlxuXHQgKiBAY2hhaW5hYmxlXG5cdCovXG5cdHAucGFkID0gZnVuY3Rpb24odG9wLCBsZWZ0LCBib3R0b20sIHJpZ2h0KSB7XG5cdFx0dGhpcy54IC09IGxlZnQ7XG5cdFx0dGhpcy55IC09IHRvcDtcblx0XHR0aGlzLndpZHRoICs9IGxlZnQrcmlnaHQ7XG5cdFx0dGhpcy5oZWlnaHQgKz0gdG9wK2JvdHRvbTtcblx0XHRyZXR1cm4gdGhpcztcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBDb3BpZXMgYWxsIHByb3BlcnRpZXMgZnJvbSB0aGUgc3BlY2lmaWVkIHJlY3RhbmdsZSB0byB0aGlzIHJlY3RhbmdsZS5cblx0ICogQG1ldGhvZCBjb3B5XG5cdCAqIEBwYXJhbSB7UmVjdGFuZ2xlfSByZWN0YW5nbGUgVGhlIHJlY3RhbmdsZSB0byBjb3B5IHByb3BlcnRpZXMgZnJvbS5cblx0ICogQHJldHVybiB7UmVjdGFuZ2xlfSBUaGlzIHJlY3RhbmdsZS4gVXNlZnVsIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHMuXG5cdCAqIEBjaGFpbmFibGVcblx0Ki9cblx0cC5jb3B5ID0gZnVuY3Rpb24ocmVjdGFuZ2xlKSB7XG5cdFx0cmV0dXJuIHRoaXMuc2V0VmFsdWVzKHJlY3RhbmdsZS54LCByZWN0YW5nbGUueSwgcmVjdGFuZ2xlLndpZHRoLCByZWN0YW5nbGUuaGVpZ2h0KTtcblx0fTtcblx0XG5cdC8qKiBcblx0ICogUmV0dXJucyB0cnVlIGlmIHRoaXMgcmVjdGFuZ2xlIGZ1bGx5IGVuY2xvc2VzIHRoZSBkZXNjcmliZWQgcG9pbnQgb3IgcmVjdGFuZ2xlLlxuXHQgKiBAbWV0aG9kIGNvbnRhaW5zXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB4IFggcG9zaXRpb24gb2YgdGhlIHBvaW50IG9yIHJlY3RhbmdsZS5cblx0ICogQHBhcmFtIHtOdW1iZXJ9IHkgWSBwb3NpdGlvbiBvZiB0aGUgcG9pbnQgb3IgcmVjdGFuZ2xlLlxuXHQgKiBAcGFyYW0ge051bWJlcn0gW3dpZHRoPTBdIFRoZSB3aWR0aCBvZiB0aGUgcmVjdGFuZ2xlLlxuXHQgKiBAcGFyYW0ge051bWJlcn0gW2hlaWdodD0wXSBUaGUgaGVpZ2h0IG9mIHRoZSByZWN0YW5nbGUuXG5cdCAqIEByZXR1cm4ge0Jvb2xlYW59IFRydWUgaWYgdGhlIGRlc2NyaWJlZCBwb2ludCBvciByZWN0YW5nbGUgaXMgY29udGFpbmVkIHdpdGhpbiB0aGlzIHJlY3RhbmdsZS5cblx0Ki9cblx0cC5jb250YWlucyA9IGZ1bmN0aW9uKHgsIHksIHdpZHRoLCBoZWlnaHQpIHtcblx0XHR3aWR0aCA9IHdpZHRofHwwO1xuXHRcdGhlaWdodCA9IGhlaWdodHx8MDtcblx0XHRyZXR1cm4gKHggPj0gdGhpcy54ICYmIHgrd2lkdGggPD0gdGhpcy54K3RoaXMud2lkdGggJiYgeSA+PSB0aGlzLnkgJiYgeStoZWlnaHQgPD0gdGhpcy55K3RoaXMuaGVpZ2h0KTtcblx0fTtcblx0XG5cdC8qKiBcblx0ICogUmV0dXJucyBhIG5ldyByZWN0YW5nbGUgd2hpY2ggY29udGFpbnMgdGhpcyByZWN0YW5nbGUgYW5kIHRoZSBzcGVjaWZpZWQgcmVjdGFuZ2xlLlxuXHQgKiBAbWV0aG9kIHVuaW9uXG5cdCAqIEBwYXJhbSB7UmVjdGFuZ2xlfSByZWN0IFRoZSByZWN0YW5nbGUgdG8gY2FsY3VsYXRlIGEgdW5pb24gd2l0aC5cblx0ICogQHJldHVybiB7UmVjdGFuZ2xlfSBBIG5ldyByZWN0YW5nbGUgZGVzY3JpYmluZyB0aGUgdW5pb24uXG5cdCovXG5cdHAudW5pb24gPSBmdW5jdGlvbihyZWN0KSB7XG5cdFx0cmV0dXJuIHRoaXMuY2xvbmUoKS5leHRlbmQocmVjdC54LCByZWN0LnksIHJlY3Qud2lkdGgsIHJlY3QuaGVpZ2h0KTtcblx0fTtcblx0XG5cdC8qKiBcblx0ICogUmV0dXJucyBhIG5ldyByZWN0YW5nbGUgd2hpY2ggZGVzY3JpYmVzIHRoZSBpbnRlcnNlY3Rpb24gKG92ZXJsYXApIG9mIHRoaXMgcmVjdGFuZ2xlIGFuZCB0aGUgc3BlY2lmaWVkIHJlY3RhbmdsZSxcblx0ICogb3IgbnVsbCBpZiB0aGV5IGRvIG5vdCBpbnRlcnNlY3QuXG5cdCAqIEBtZXRob2QgaW50ZXJzZWN0aW9uXG5cdCAqIEBwYXJhbSB7UmVjdGFuZ2xlfSByZWN0IFRoZSByZWN0YW5nbGUgdG8gY2FsY3VsYXRlIGFuIGludGVyc2VjdGlvbiB3aXRoLlxuXHQgKiBAcmV0dXJuIHtSZWN0YW5nbGV9IEEgbmV3IHJlY3RhbmdsZSBkZXNjcmliaW5nIHRoZSBpbnRlcnNlY3Rpb24gb3IgbnVsbC5cblx0Ki9cblx0cC5pbnRlcnNlY3Rpb24gPSBmdW5jdGlvbihyZWN0KSB7XG5cdFx0dmFyIHgxID0gcmVjdC54LCB5MSA9IHJlY3QueSwgeDIgPSB4MStyZWN0LndpZHRoLCB5MiA9IHkxK3JlY3QuaGVpZ2h0O1xuXHRcdGlmICh0aGlzLnggPiB4MSkgeyB4MSA9IHRoaXMueDsgfVxuXHRcdGlmICh0aGlzLnkgPiB5MSkgeyB5MSA9IHRoaXMueTsgfVxuXHRcdGlmICh0aGlzLnggKyB0aGlzLndpZHRoIDwgeDIpIHsgeDIgPSB0aGlzLnggKyB0aGlzLndpZHRoOyB9XG5cdFx0aWYgKHRoaXMueSArIHRoaXMuaGVpZ2h0IDwgeTIpIHsgeTIgPSB0aGlzLnkgKyB0aGlzLmhlaWdodDsgfVxuXHRcdHJldHVybiAoeDIgPD0geDEgfHwgeTIgPD0geTEpID8gbnVsbCA6IG5ldyBSZWN0YW5nbGUoeDEsIHkxLCB4Mi14MSwgeTIteTEpO1xuXHR9O1xuXHRcblx0LyoqIFxuXHQgKiBSZXR1cm5zIHRydWUgaWYgdGhlIHNwZWNpZmllZCByZWN0YW5nbGUgaW50ZXJzZWN0cyAoaGFzIGFueSBvdmVybGFwKSB3aXRoIHRoaXMgcmVjdGFuZ2xlLlxuXHQgKiBAbWV0aG9kIGludGVyc2VjdHNcblx0ICogQHBhcmFtIHtSZWN0YW5nbGV9IHJlY3QgVGhlIHJlY3RhbmdsZSB0byBjb21wYXJlLlxuXHQgKiBAcmV0dXJuIHtCb29sZWFufSBUcnVlIGlmIHRoZSByZWN0YW5nbGVzIGludGVyc2VjdC5cblx0Ki9cblx0cC5pbnRlcnNlY3RzID0gZnVuY3Rpb24ocmVjdCkge1xuXHRcdHJldHVybiAocmVjdC54IDw9IHRoaXMueCt0aGlzLndpZHRoICYmIHRoaXMueCA8PSByZWN0LngrcmVjdC53aWR0aCAmJiByZWN0LnkgPD0gdGhpcy55K3RoaXMuaGVpZ2h0ICYmIHRoaXMueSA8PSByZWN0LnkgKyByZWN0LmhlaWdodCk7XG5cdH07XG5cdFxuXHQvKiogXG5cdCAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgd2lkdGggb3IgaGVpZ2h0IGFyZSBlcXVhbCBvciBsZXNzIHRoYW4gMC5cblx0ICogQG1ldGhvZCBpc0VtcHR5XG5cdCAqIEByZXR1cm4ge0Jvb2xlYW59IFRydWUgaWYgdGhlIHJlY3RhbmdsZSBpcyBlbXB0eS5cblx0Ki9cblx0cC5pc0VtcHR5ID0gZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMud2lkdGggPD0gMCB8fCB0aGlzLmhlaWdodCA8PSAwO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIFJldHVybnMgYSBjbG9uZSBvZiB0aGUgUmVjdGFuZ2xlIGluc3RhbmNlLlxuXHQgKiBAbWV0aG9kIGNsb25lXG5cdCAqIEByZXR1cm4ge1JlY3RhbmdsZX0gYSBjbG9uZSBvZiB0aGUgUmVjdGFuZ2xlIGluc3RhbmNlLlxuXHQgKiovXG5cdHAuY2xvbmUgPSBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gbmV3IFJlY3RhbmdsZSh0aGlzLngsIHRoaXMueSwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBSZXR1cm5zIGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoaXMgb2JqZWN0LlxuXHQgKiBAbWV0aG9kIHRvU3RyaW5nXG5cdCAqIEByZXR1cm4ge1N0cmluZ30gYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIGluc3RhbmNlLlxuXHQgKiovXG5cdHAudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gXCJbUmVjdGFuZ2xlICh4PVwiK3RoaXMueCtcIiB5PVwiK3RoaXMueStcIiB3aWR0aD1cIit0aGlzLndpZHRoK1wiIGhlaWdodD1cIit0aGlzLmhlaWdodCtcIildXCI7XG5cdH07XG5cdFxuXHRcblx0Y3JlYXRlanMuUmVjdGFuZ2xlID0gUmVjdGFuZ2xlO1xufSgpKTtcblxuLy8jIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyNcbi8vIEJ1dHRvbkhlbHBlci5qc1xuLy8jIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyNcblxuKGZ1bmN0aW9uKCkge1xuXHRcInVzZSBzdHJpY3RcIjtcblxuXG4vLyBjb25zdHJ1Y3Rvcjpcblx0LyoqXG5cdCAqIFRoZSBCdXR0b25IZWxwZXIgaXMgYSBoZWxwZXIgY2xhc3MgdG8gY3JlYXRlIGludGVyYWN0aXZlIGJ1dHRvbnMgZnJvbSB7eyNjcm9zc0xpbmsgXCJNb3ZpZUNsaXBcIn19e3svY3Jvc3NMaW5rfX0gb3Jcblx0ICoge3sjY3Jvc3NMaW5rIFwiU3ByaXRlXCJ9fXt7L2Nyb3NzTGlua319IGluc3RhbmNlcy4gVGhpcyBjbGFzcyB3aWxsIGludGVyY2VwdCBtb3VzZSBldmVudHMgZnJvbSBhbiBvYmplY3QsIGFuZFxuXHQgKiBhdXRvbWF0aWNhbGx5IGNhbGwge3sjY3Jvc3NMaW5rIFwiU3ByaXRlL2dvdG9BbmRTdG9wXCJ9fXt7L2Nyb3NzTGlua319IG9yIHt7I2Nyb3NzTGluayBcIlNwcml0ZS9nb3RvQW5kUGxheVwifX17ey9jcm9zc0xpbmt9fSxcblx0ICogdG8gdGhlIHJlc3BlY3RpdmUgYW5pbWF0aW9uIGxhYmVscywgYWRkIGEgcG9pbnRlciBjdXJzb3IsIGFuZCBhbGxvd3MgdGhlIHVzZXIgdG8gZGVmaW5lIGEgaGl0IHN0YXRlIGZyYW1lLlxuXHQgKlxuXHQgKiBUaGUgQnV0dG9uSGVscGVyIGluc3RhbmNlIGRvZXMgbm90IG5lZWQgdG8gYmUgYWRkZWQgdG8gdGhlIHN0YWdlLCBidXQgYSByZWZlcmVuY2Ugc2hvdWxkIGJlIG1haW50YWluZWQgdG8gcHJldmVudFxuXHQgKiBnYXJiYWdlIGNvbGxlY3Rpb24uXG5cdCAqIFxuXHQgKiBOb3RlIHRoYXQgb3ZlciBzdGF0ZXMgd2lsbCBub3Qgd29yayB1bmxlc3MgeW91IGNhbGwge3sjY3Jvc3NMaW5rIFwiU3RhZ2UvZW5hYmxlTW91c2VPdmVyXCJ9fXt7L2Nyb3NzTGlua319LlxuXHQgKlxuXHQgKiA8aDQ+RXhhbXBsZTwvaDQ+XG5cdCAqXG5cdCAqICAgICAgdmFyIGhlbHBlciA9IG5ldyBjcmVhdGVqcy5CdXR0b25IZWxwZXIobXlJbnN0YW5jZSwgXCJvdXRcIiwgXCJvdmVyXCIsIFwiZG93blwiLCBmYWxzZSwgbXlJbnN0YW5jZSwgXCJoaXRcIik7XG5cdCAqICAgICAgbXlJbnN0YW5jZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgaGFuZGxlQ2xpY2spO1xuXHQgKiAgICAgIGZ1bmN0aW9uIGhhbmRsZUNsaWNrKGV2ZW50KSB7XG5cdCAqICAgICAgICAgIC8vIENsaWNrIEhhcHBlbmVkLlxuXHQgKiAgICAgIH1cblx0ICpcblx0ICogQGNsYXNzIEJ1dHRvbkhlbHBlclxuXHQgKiBAcGFyYW0ge1Nwcml0ZXxNb3ZpZUNsaXB9IHRhcmdldCBUaGUgaW5zdGFuY2UgdG8gbWFuYWdlLlxuXHQgKiBAcGFyYW0ge1N0cmluZ30gW291dExhYmVsPVwib3V0XCJdIFRoZSBsYWJlbCBvciBhbmltYXRpb24gdG8gZ28gdG8gd2hlbiB0aGUgdXNlciByb2xscyBvdXQgb2YgdGhlIGJ1dHRvbi5cblx0ICogQHBhcmFtIHtTdHJpbmd9IFtvdmVyTGFiZWw9XCJvdmVyXCJdIFRoZSBsYWJlbCBvciBhbmltYXRpb24gdG8gZ28gdG8gd2hlbiB0aGUgdXNlciByb2xscyBvdmVyIHRoZSBidXR0b24uXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBbZG93bkxhYmVsPVwiZG93blwiXSBUaGUgbGFiZWwgb3IgYW5pbWF0aW9uIHRvIGdvIHRvIHdoZW4gdGhlIHVzZXIgcHJlc3NlcyB0aGUgYnV0dG9uLlxuXHQgKiBAcGFyYW0ge0Jvb2xlYW59IFtwbGF5PWZhbHNlXSBJZiB0aGUgaGVscGVyIHNob3VsZCBjYWxsIFwiZ290b0FuZFBsYXlcIiBvciBcImdvdG9BbmRTdG9wXCIgb24gdGhlIGJ1dHRvbiB3aGVuIGNoYW5naW5nXG5cdCAqIHN0YXRlcy5cblx0ICogQHBhcmFtIHtEaXNwbGF5T2JqZWN0fSBbaGl0QXJlYV0gQW4gb3B0aW9uYWwgaXRlbSB0byB1c2UgYXMgdGhlIGhpdCBzdGF0ZSBmb3IgdGhlIGJ1dHRvbi4gSWYgdGhpcyBpcyBub3QgZGVmaW5lZCxcblx0ICogdGhlbiB0aGUgYnV0dG9uJ3MgdmlzaWJsZSBzdGF0ZXMgd2lsbCBiZSB1c2VkIGluc3RlYWQuIE5vdGUgdGhhdCB0aGUgc2FtZSBpbnN0YW5jZSBhcyB0aGUgXCJ0YXJnZXRcIiBhcmd1bWVudCBjYW4gYmVcblx0ICogdXNlZCBmb3IgdGhlIGhpdFN0YXRlLlxuXHQgKiBAcGFyYW0ge1N0cmluZ30gW2hpdExhYmVsXSBUaGUgbGFiZWwgb3IgYW5pbWF0aW9uIG9uIHRoZSBoaXRBcmVhIGluc3RhbmNlIHRoYXQgZGVmaW5lcyB0aGUgaGl0QXJlYSBib3VuZHMuIElmIHRoaXMgaXNcblx0ICogbnVsbCwgdGhlbiB0aGUgZGVmYXVsdCBzdGF0ZSBvZiB0aGUgaGl0QXJlYSB3aWxsIGJlIHVzZWQuICpcblx0ICogQGNvbnN0cnVjdG9yXG5cdCAqL1xuXHRmdW5jdGlvbiBCdXR0b25IZWxwZXIodGFyZ2V0LCBvdXRMYWJlbCwgb3ZlckxhYmVsLCBkb3duTGFiZWwsIHBsYXksIGhpdEFyZWEsIGhpdExhYmVsKSB7XG5cdFx0aWYgKCF0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcikgeyByZXR1cm47IH1cblx0XG5cdFxuXHQvLyBwdWJsaWMgcHJvcGVydGllczpcblx0XHQvKipcblx0XHQgKiBUaGUgdGFyZ2V0IGZvciB0aGlzIGJ1dHRvbiBoZWxwZXIuXG5cdFx0ICogQHByb3BlcnR5IHRhcmdldFxuXHRcdCAqIEB0eXBlIE1vdmllQ2xpcCB8IFNwcml0ZVxuXHRcdCAqIEByZWFkb25seVxuXHRcdCAqKi9cblx0XHR0aGlzLnRhcmdldCA9IHRhcmdldDtcblx0XG5cdFx0LyoqXG5cdFx0ICogVGhlIGxhYmVsIG5hbWUgb3IgZnJhbWUgbnVtYmVyIHRvIGRpc3BsYXkgd2hlbiB0aGUgdXNlciBtb3VzZXMgb3V0IG9mIHRoZSB0YXJnZXQuIERlZmF1bHRzIHRvIFwib3ZlclwiLlxuXHRcdCAqIEBwcm9wZXJ0eSBvdmVyTGFiZWxcblx0XHQgKiBAdHlwZSBTdHJpbmcgfCBOdW1iZXJcblx0XHQgKiovXG5cdFx0dGhpcy5vdmVyTGFiZWwgPSBvdmVyTGFiZWwgPT0gbnVsbCA/IFwib3ZlclwiIDogb3ZlckxhYmVsO1xuXHRcblx0XHQvKipcblx0XHQgKiBUaGUgbGFiZWwgbmFtZSBvciBmcmFtZSBudW1iZXIgdG8gZGlzcGxheSB3aGVuIHRoZSB1c2VyIG1vdXNlcyBvdmVyIHRoZSB0YXJnZXQuIERlZmF1bHRzIHRvIFwib3V0XCIuXG5cdFx0ICogQHByb3BlcnR5IG91dExhYmVsXG5cdFx0ICogQHR5cGUgU3RyaW5nIHwgTnVtYmVyXG5cdFx0ICoqL1xuXHRcdHRoaXMub3V0TGFiZWwgPSBvdXRMYWJlbCA9PSBudWxsID8gXCJvdXRcIiA6IG91dExhYmVsO1xuXHRcblx0XHQvKipcblx0XHQgKiBUaGUgbGFiZWwgbmFtZSBvciBmcmFtZSBudW1iZXIgdG8gZGlzcGxheSB3aGVuIHRoZSB1c2VyIHByZXNzZXMgb24gdGhlIHRhcmdldC4gRGVmYXVsdHMgdG8gXCJkb3duXCIuXG5cdFx0ICogQHByb3BlcnR5IGRvd25MYWJlbFxuXHRcdCAqIEB0eXBlIFN0cmluZyB8IE51bWJlclxuXHRcdCAqKi9cblx0XHR0aGlzLmRvd25MYWJlbCA9IGRvd25MYWJlbCA9PSBudWxsID8gXCJkb3duXCIgOiBkb3duTGFiZWw7XG5cdFxuXHRcdC8qKlxuXHRcdCAqIElmIHRydWUsIHRoZW4gQnV0dG9uSGVscGVyIHdpbGwgY2FsbCBnb3RvQW5kUGxheSwgaWYgZmFsc2UsIGl0IHdpbGwgdXNlIGdvdG9BbmRTdG9wLiBEZWZhdWx0IGlzIGZhbHNlLlxuXHRcdCAqIEBwcm9wZXJ0eSBwbGF5XG5cdFx0ICogQGRlZmF1bHQgZmFsc2Vcblx0XHQgKiBAdHlwZSBCb29sZWFuXG5cdFx0ICoqL1xuXHRcdHRoaXMucGxheSA9IHBsYXk7XG5cdFx0XG5cdFx0XG5cdC8vICBwcml2YXRlIHByb3BlcnRpZXNcblx0XHQvKipcblx0XHQgKiBAcHJvcGVydHkgX2lzUHJlc3NlZFxuXHRcdCAqIEB0eXBlIEJvb2xlYW5cblx0XHQgKiBAcHJvdGVjdGVkXG5cdFx0ICoqL1xuXHRcdHRoaXMuX2lzUHJlc3NlZCA9IGZhbHNlO1xuXHRcblx0XHQvKipcblx0XHQgKiBAcHJvcGVydHkgX2lzT3ZlclxuXHRcdCAqIEB0eXBlIEJvb2xlYW5cblx0XHQgKiBAcHJvdGVjdGVkXG5cdFx0ICoqL1xuXHRcdHRoaXMuX2lzT3ZlciA9IGZhbHNlO1xuXHRcblx0XHQvKipcblx0XHQgKiBAcHJvcGVydHkgX2VuYWJsZWRcblx0XHQgKiBAdHlwZSBCb29sZWFuXG5cdFx0ICogQHByb3RlY3RlZFxuXHRcdCAqKi9cblx0XHR0aGlzLl9lbmFibGVkID0gZmFsc2U7XG5cdFx0XG5cdC8vIHNldHVwOlxuXHRcdHRhcmdldC5tb3VzZUNoaWxkcmVuID0gZmFsc2U7IC8vIHByZXZlbnRzIGlzc3VlcyB3aGVuIGNoaWxkcmVuIGFyZSByZW1vdmVkIGZyb20gdGhlIGRpc3BsYXkgbGlzdCB3aGVuIHN0YXRlIGNoYW5nZXMuXG5cdFx0dGhpcy5lbmFibGVkID0gdHJ1ZTtcblx0XHR0aGlzLmhhbmRsZUV2ZW50KHt9KTtcblx0XHRpZiAoaGl0QXJlYSkge1xuXHRcdFx0aWYgKGhpdExhYmVsKSB7XG5cdFx0XHRcdGhpdEFyZWEuYWN0aW9uc0VuYWJsZWQgPSBmYWxzZTtcblx0XHRcdFx0aGl0QXJlYS5nb3RvQW5kU3RvcCYmaGl0QXJlYS5nb3RvQW5kU3RvcChoaXRMYWJlbCk7XG5cdFx0XHR9XG5cdFx0XHR0YXJnZXQuaGl0QXJlYSA9IGhpdEFyZWE7XG5cdFx0fVxuXHR9XG5cdHZhciBwID0gQnV0dG9uSGVscGVyLnByb3RvdHlwZTtcblx0XG4vLyBnZXR0ZXIgLyBzZXR0ZXJzOlxuXHQvKipcblx0ICogVXNlIHRoZSB7eyNjcm9zc0xpbmsgXCJCdXR0b25IZWxwZXIvZW5hYmxlZDpwcm9wZXJ0eVwifX17ey9jcm9zc0xpbmt9fSBwcm9wZXJ0eSBpbnN0ZWFkLlxuXHQgKiBAbWV0aG9kIHNldEVuYWJsZWRcblx0ICogQHBhcmFtIHtCb29sZWFufSB2YWx1ZSBUaGUgZW5hYmxlZCBwcm9wZXJ0eSB0byBzZXQgdGhlIGluc3RhbmNlIHRvLlxuXHQgKiBAW3JwdGVjdGVkXG5cdCAqIEBwcm90ZWN0ZWRcblx0ICoqL1xuXHRwLl9zZXRFbmFibGVkID0gZnVuY3Rpb24odmFsdWUpIHtcblx0XHRpZiAodmFsdWUgPT0gdGhpcy5fZW5hYmxlZCkgeyByZXR1cm47IH1cblx0XHR2YXIgbyA9IHRoaXMudGFyZ2V0O1xuXHRcdHRoaXMuX2VuYWJsZWQgPSB2YWx1ZTtcblx0XHRpZiAodmFsdWUpIHtcblx0XHRcdG8uY3Vyc29yID0gXCJwb2ludGVyXCI7XG5cdFx0XHRvLmFkZEV2ZW50TGlzdGVuZXIoXCJyb2xsb3ZlclwiLCB0aGlzKTtcblx0XHRcdG8uYWRkRXZlbnRMaXN0ZW5lcihcInJvbGxvdXRcIiwgdGhpcyk7XG5cdFx0XHRvLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgdGhpcyk7XG5cdFx0XHRvLmFkZEV2ZW50TGlzdGVuZXIoXCJwcmVzc3VwXCIsIHRoaXMpO1xuXHRcdFx0aWYgKG8uX3Jlc2V0KSB7IG8uX19yZXNldCA9IG8uX3Jlc2V0OyBvLl9yZXNldCA9IHRoaXMuX3Jlc2V0O31cblx0XHR9IGVsc2Uge1xuXHRcdFx0by5jdXJzb3IgPSBudWxsO1xuXHRcdFx0by5yZW1vdmVFdmVudExpc3RlbmVyKFwicm9sbG92ZXJcIiwgdGhpcyk7XG5cdFx0XHRvLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJyb2xsb3V0XCIsIHRoaXMpO1xuXHRcdFx0by5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIHRoaXMpO1xuXHRcdFx0by5yZW1vdmVFdmVudExpc3RlbmVyKFwicHJlc3N1cFwiLCB0aGlzKTtcblx0XHRcdGlmIChvLl9fcmVzZXQpIHsgby5fcmVzZXQgPSBvLl9fcmVzZXQ7IGRlbGV0ZShvLl9fcmVzZXQpOyB9XG5cdFx0fVxuXHR9O1xuXHQvLyBCdXR0b25IZWxwZXIuc2V0RW5hYmxlZCBpcyBAZGVwcmVjYXRlZC4gUmVtb3ZlIGZvciAxLjErXG5cdHAuc2V0RW5hYmxlZCA9IGNyZWF0ZWpzLmRlcHJlY2F0ZShwLl9zZXRFbmFibGVkLCBcIkJ1dHRvbkhlbHBlci5zZXRFbmFibGVkXCIpO1xuXG5cdC8qKlxuXHQgKiBVc2UgdGhlIHt7I2Nyb3NzTGluayBcIkJ1dHRvbkhlbHBlci9lbmFibGVkOnByb3BlcnR5XCJ9fXt7L2Nyb3NzTGlua319IHByb3BlcnR5IGluc3RlYWQuXG5cdCAqIEBtZXRob2QgZ2V0RW5hYmxlZFxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqIEByZXR1cm4ge0Jvb2xlYW59XG5cdCAqKi9cblx0cC5fZ2V0RW5hYmxlZCA9IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLl9lbmFibGVkO1xuXHR9O1xuXHQvLyBCdXR0b25IZWxwZXIuZ2V0RW5hYmxlZCBpcyBAZGVwcmVjYXRlZC4gUmVtb3ZlIGZvciAxLjErXG5cdHAuZ2V0RW5hYmxlZCA9IGNyZWF0ZWpzLmRlcHJlY2F0ZShwLl9nZXRFbmFibGVkLCBcIkJ1dHRvbkhlbHBlci5nZXRFbmFibGVkXCIpO1xuXG5cdC8qKlxuXHQgKiBFbmFibGVzIG9yIGRpc2FibGVzIHRoZSBidXR0b24gZnVuY3Rpb25hbGl0eSBvbiB0aGUgdGFyZ2V0LlxuXHQgKiBAcHJvcGVydHkgZW5hYmxlZFxuXHQgKiBAdHlwZSB7Qm9vbGVhbn1cblx0ICoqL1xuXHR0cnkge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHAsIHtcblx0XHRcdGVuYWJsZWQ6IHsgZ2V0OiBwLl9nZXRFbmFibGVkLCBzZXQ6IHAuX3NldEVuYWJsZWQgfVxuXHRcdH0pO1xuXHR9IGNhdGNoIChlKSB7fSAvLyBUT0RPOiB1c2UgTG9nXG5cblxuLy8gcHVibGljIG1ldGhvZHM6XG5cdC8qKlxuXHQgKiBSZXR1cm5zIGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoaXMgb2JqZWN0LlxuXHQgKiBAbWV0aG9kIHRvU3RyaW5nXG5cdCAqIEByZXR1cm4ge1N0cmluZ30gYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIGluc3RhbmNlLlxuXHQgKiovXG5cdHAudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gXCJbQnV0dG9uSGVscGVyXVwiO1xuXHR9O1xuXG5cbi8vIHByaXZhdGUgbWV0aG9kczpcblx0LyoqXG5cdCAqIEBtZXRob2QgaGFuZGxlRXZlbnRcblx0ICogQHBhcmFtIHtPYmplY3R9IGV2dCBUaGUgbW91c2UgZXZlbnQgdG8gaGFuZGxlLlxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqKi9cblx0cC5oYW5kbGVFdmVudCA9IGZ1bmN0aW9uKGV2dCkge1xuXHRcdHZhciBsYWJlbCwgdCA9IHRoaXMudGFyZ2V0LCB0eXBlID0gZXZ0LnR5cGU7XG5cdFx0aWYgKHR5cGUgPT0gXCJtb3VzZWRvd25cIikge1xuXHRcdFx0dGhpcy5faXNQcmVzc2VkID0gdHJ1ZTtcblx0XHRcdGxhYmVsID0gdGhpcy5kb3duTGFiZWw7XG5cdFx0fSBlbHNlIGlmICh0eXBlID09IFwicHJlc3N1cFwiKSB7XG5cdFx0XHR0aGlzLl9pc1ByZXNzZWQgPSBmYWxzZTtcblx0XHRcdGxhYmVsID0gdGhpcy5faXNPdmVyID8gdGhpcy5vdmVyTGFiZWwgOiB0aGlzLm91dExhYmVsO1xuXHRcdH0gZWxzZSBpZiAodHlwZSA9PSBcInJvbGxvdmVyXCIpIHtcblx0XHRcdHRoaXMuX2lzT3ZlciA9IHRydWU7XG5cdFx0XHRsYWJlbCA9IHRoaXMuX2lzUHJlc3NlZCA/IHRoaXMuZG93bkxhYmVsIDogdGhpcy5vdmVyTGFiZWw7XG5cdFx0fSBlbHNlIHsgLy8gcm9sbG91dCBhbmQgZGVmYXVsdFxuXHRcdFx0dGhpcy5faXNPdmVyID0gZmFsc2U7XG5cdFx0XHRsYWJlbCA9IHRoaXMuX2lzUHJlc3NlZCA/IHRoaXMub3ZlckxhYmVsIDogdGhpcy5vdXRMYWJlbDtcblx0XHR9XG5cdFx0aWYgKHRoaXMucGxheSkge1xuXHRcdFx0dC5nb3RvQW5kUGxheSYmdC5nb3RvQW5kUGxheShsYWJlbCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHQuZ290b0FuZFN0b3AmJnQuZ290b0FuZFN0b3AobGFiZWwpO1xuXHRcdH1cblx0fTtcblx0XG5cdC8qKlxuXHQgKiBJbmplY3RlZCBpbnRvIHRhcmdldC4gUHJlc2VydmVzIHRoZSBwYXVzZWQgc3RhdGUgdGhyb3VnaCBhIHJlc2V0LlxuXHQgKiBAbWV0aG9kIF9yZXNldFxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqKi9cblx0cC5fcmVzZXQgPSBmdW5jdGlvbigpIHtcblx0XHQvLyBUT0RPOiBleHBsb3JlIGJldHRlciB3YXlzIHRvIGhhbmRsZSB0aGlzIGlzc3VlLiBUaGlzIGlzIGhhY2t5ICYgZGlzcnVwdHMgb2JqZWN0IHNpZ25hdHVyZXMuXG5cdFx0dmFyIHAgPSB0aGlzLnBhdXNlZDtcblx0XHR0aGlzLl9fcmVzZXQoKTtcblx0XHR0aGlzLnBhdXNlZCA9IHA7XG5cdH07XG5cblxuXHRjcmVhdGVqcy5CdXR0b25IZWxwZXIgPSBCdXR0b25IZWxwZXI7XG59KCkpO1xuXG4vLyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI1xuLy8gU2hhZG93LmpzXG4vLyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI1xuXG4oZnVuY3Rpb24oKSB7XG5cdFwidXNlIHN0cmljdFwiO1xuXG5cbi8vIGNvbnN0cnVjdG9yOlxuXHQvKipcblx0ICogVGhpcyBjbGFzcyBlbmNhcHN1bGF0ZXMgdGhlIHByb3BlcnRpZXMgcmVxdWlyZWQgdG8gZGVmaW5lIGEgc2hhZG93IHRvIGFwcGx5IHRvIGEge3sjY3Jvc3NMaW5rIFwiRGlzcGxheU9iamVjdFwifX17ey9jcm9zc0xpbmt9fVxuXHQgKiB2aWEgaXRzIDxjb2RlPnNoYWRvdzwvY29kZT4gcHJvcGVydHkuXG5cdCAqXG5cdCAqIDxoND5FeGFtcGxlPC9oND5cblx0ICpcblx0ICogICAgICBteUltYWdlLnNoYWRvdyA9IG5ldyBjcmVhdGVqcy5TaGFkb3coXCIjMDAwMDAwXCIsIDUsIDUsIDEwKTtcblx0ICpcblx0ICogQGNsYXNzIFNoYWRvd1xuXHQgKiBAY29uc3RydWN0b3Jcblx0ICogQHBhcmFtIHtTdHJpbmd9IGNvbG9yIFRoZSBjb2xvciBvZiB0aGUgc2hhZG93LiBUaGlzIGNhbiBiZSBhbnkgdmFsaWQgQ1NTIGNvbG9yIHZhbHVlLlxuXHQgKiBAcGFyYW0ge051bWJlcn0gb2Zmc2V0WCBUaGUgeCBvZmZzZXQgb2YgdGhlIHNoYWRvdyBpbiBwaXhlbHMuXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBvZmZzZXRZIFRoZSB5IG9mZnNldCBvZiB0aGUgc2hhZG93IGluIHBpeGVscy5cblx0ICogQHBhcmFtIHtOdW1iZXJ9IGJsdXIgVGhlIHNpemUgb2YgdGhlIGJsdXJyaW5nIGVmZmVjdC5cblx0ICoqL1xuXHRmdW5jdGlvbiBTaGFkb3coY29sb3IsIG9mZnNldFgsIG9mZnNldFksIGJsdXIpIHtcblx0XHRcblx0XHRcblx0Ly8gcHVibGljIHByb3BlcnRpZXM6XG5cdFx0LyoqIFxuXHRcdCAqIFRoZSBjb2xvciBvZiB0aGUgc2hhZG93LiBUaGlzIGNhbiBiZSBhbnkgdmFsaWQgQ1NTIGNvbG9yIHZhbHVlLlxuXHRcdCAqIEBwcm9wZXJ0eSBjb2xvclxuXHRcdCAqIEB0eXBlIFN0cmluZ1xuXHRcdCAqIEBkZWZhdWx0IG51bGxcblx0XHQgKi9cblx0XHR0aGlzLmNvbG9yID0gY29sb3J8fFwiYmxhY2tcIjtcblx0XG5cdFx0LyoqIFRoZSB4IG9mZnNldCBvZiB0aGUgc2hhZG93LlxuXHRcdCAqIEBwcm9wZXJ0eSBvZmZzZXRYXG5cdFx0ICogQHR5cGUgTnVtYmVyXG5cdFx0ICogQGRlZmF1bHQgMFxuXHRcdCAqL1xuXHRcdHRoaXMub2Zmc2V0WCA9IG9mZnNldFh8fDA7XG5cdFxuXHRcdC8qKiBUaGUgeSBvZmZzZXQgb2YgdGhlIHNoYWRvdy5cblx0XHQgKiBAcHJvcGVydHkgb2Zmc2V0WVxuXHRcdCAqIEB0eXBlIE51bWJlclxuXHRcdCAqIEBkZWZhdWx0IDBcblx0XHQgKi9cblx0XHR0aGlzLm9mZnNldFkgPSBvZmZzZXRZfHwwO1xuXHRcblx0XHQvKiogVGhlIGJsdXIgb2YgdGhlIHNoYWRvdy5cblx0XHQgKiBAcHJvcGVydHkgYmx1clxuXHRcdCAqIEB0eXBlIE51bWJlclxuXHRcdCAqIEBkZWZhdWx0IDBcblx0XHQgKi9cblx0XHR0aGlzLmJsdXIgPSBibHVyfHwwO1xuXHR9XG5cdHZhciBwID0gU2hhZG93LnByb3RvdHlwZTtcblxuLy8gc3RhdGljIHB1YmxpYyBwcm9wZXJ0aWVzOlxuXHQvKipcblx0ICogQW4gaWRlbnRpdHkgc2hhZG93IG9iamVjdCAoYWxsIHByb3BlcnRpZXMgYXJlIHNldCB0byAwKS5cblx0ICogQHByb3BlcnR5IGlkZW50aXR5XG5cdCAqIEB0eXBlIFNoYWRvd1xuXHQgKiBAc3RhdGljXG5cdCAqIEBmaW5hbFxuXHQgKiBAcmVhZG9ubHlcblx0ICoqL1xuXHRTaGFkb3cuaWRlbnRpdHkgPSBuZXcgU2hhZG93KFwidHJhbnNwYXJlbnRcIiwgMCwgMCwgMCk7XG5cblxuLy8gcHVibGljIG1ldGhvZHM6XG5cdC8qKlxuXHQgKiBSZXR1cm5zIGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoaXMgb2JqZWN0LlxuXHQgKiBAbWV0aG9kIHRvU3RyaW5nXG5cdCAqIEByZXR1cm4ge1N0cmluZ30gYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIGluc3RhbmNlLlxuXHQgKiovXG5cdHAudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gXCJbU2hhZG93XVwiO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBSZXR1cm5zIGEgY2xvbmUgb2YgdGhpcyBTaGFkb3cgaW5zdGFuY2UuXG5cdCAqIEBtZXRob2QgY2xvbmVcblx0ICogQHJldHVybiB7U2hhZG93fSBBIGNsb25lIG9mIHRoZSBjdXJyZW50IFNoYWRvdyBpbnN0YW5jZS5cblx0ICoqL1xuXHRwLmNsb25lID0gZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIG5ldyBTaGFkb3codGhpcy5jb2xvciwgdGhpcy5vZmZzZXRYLCB0aGlzLm9mZnNldFksIHRoaXMuYmx1cik7XG5cdH07XG5cdFxuXG5cdGNyZWF0ZWpzLlNoYWRvdyA9IFNoYWRvdztcbn0oKSk7XG5cbi8vIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXG4vLyBTcHJpdGVTaGVldC5qc1xuLy8jIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyNcblxuKGZ1bmN0aW9uKCkge1xuXHRcInVzZSBzdHJpY3RcIjtcblxuXG4vLyBjb25zdHJ1Y3Rvcjpcblx0LyoqXG5cdCAqIEVuY2Fwc3VsYXRlcyB0aGUgcHJvcGVydGllcyBhbmQgbWV0aG9kcyBhc3NvY2lhdGVkIHdpdGggYSBzcHJpdGUgc2hlZXQuIEEgc3ByaXRlIHNoZWV0IGlzIGEgc2VyaWVzIG9mIGltYWdlcyAodXN1YWxseVxuXHQgKiBhbmltYXRpb24gZnJhbWVzKSBjb21iaW5lZCBpbnRvIGEgbGFyZ2VyIGltYWdlIChvciBpbWFnZXMpLiBGb3IgZXhhbXBsZSwgYW4gYW5pbWF0aW9uIGNvbnNpc3Rpbmcgb2YgZWlnaHQgMTAweDEwMFxuXHQgKiBpbWFnZXMgY291bGQgYmUgY29tYmluZWQgaW50byBhIHNpbmdsZSA0MDB4MjAwIHNwcml0ZSBzaGVldCAoNCBmcmFtZXMgYWNyb3NzIGJ5IDIgaGlnaCkuXG5cdCAqXG5cdCAqIFRoZSBkYXRhIHBhc3NlZCB0byB0aGUgU3ByaXRlU2hlZXQgY29uc3RydWN0b3IgZGVmaW5lczpcblx0ICogPG9sPlxuXHQgKiBcdDxsaT4gVGhlIHNvdXJjZSBpbWFnZSBvciBpbWFnZXMgdG8gdXNlLjwvbGk+XG5cdCAqIFx0PGxpPiBUaGUgcG9zaXRpb25zIG9mIGluZGl2aWR1YWwgaW1hZ2UgZnJhbWVzLjwvbGk+XG5cdCAqIFx0PGxpPiBTZXF1ZW5jZXMgb2YgZnJhbWVzIHRoYXQgZm9ybSBuYW1lZCBhbmltYXRpb25zLiBPcHRpb25hbC48L2xpPlxuXHQgKiBcdDxsaT4gVGhlIHRhcmdldCBwbGF5YmFjayBmcmFtZXJhdGUuIE9wdGlvbmFsLjwvbGk+XG5cdCAqIDwvb2w+XG5cdCAqIDxoMz5TcHJpdGVTaGVldCBGb3JtYXQ8L2gzPlxuXHQgKiBTcHJpdGVTaGVldHMgYXJlIGFuIG9iamVjdCB3aXRoIHR3byByZXF1aXJlZCBwcm9wZXJ0aWVzIChgaW1hZ2VzYCBhbmQgYGZyYW1lc2ApLCBhbmQgdHdvIG9wdGlvbmFsIHByb3BlcnRpZXNcblx0ICogKGBmcmFtZXJhdGVgIGFuZCBgYW5pbWF0aW9uc2ApLiBUaGlzIG1ha2VzIHRoZW0gZWFzeSB0byBkZWZpbmUgaW4gamF2YXNjcmlwdCBjb2RlLCBvciBpbiBKU09OLlxuXHQgKlxuXHQgKiA8aDQ+aW1hZ2VzPC9oND5cblx0ICogQW4gYXJyYXkgb2Ygc291cmNlIGltYWdlcy4gSW1hZ2VzIGNhbiBiZSBlaXRoZXIgYW4gSFRNbGltYWdlXG5cdCAqIGluc3RhbmNlLCBvciBhIHVyaSB0byBhbiBpbWFnZS4gVGhlIGZvcm1lciBpcyByZWNvbW1lbmRlZCB0byBjb250cm9sIHByZWxvYWRpbmcuXG5cdCAqXG5cdCAqIFx0aW1hZ2VzOiBbaW1hZ2UxLCBcInBhdGgvdG8vaW1hZ2UyLnBuZ1wiXSxcblx0ICpcblx0ICogPGg0PmZyYW1lczwvaDQ+XG5cdCAqIERlZmluZXMgdGhlIGluZGl2aWR1YWwgZnJhbWVzLiBUaGVyZSBhcmUgdHdvIHN1cHBvcnRlZCBmb3JtYXRzIGZvciBmcmFtZSBkYXRhOlxuXHQgKiBXaGVuIGFsbCBvZiB0aGUgZnJhbWVzIGFyZSB0aGUgc2FtZSBzaXplIChpbiBhIGdyaWQpLCB1c2UgYW4gb2JqZWN0IHdpdGggYHdpZHRoYCwgYGhlaWdodGAsIGByZWdYYCwgYHJlZ1lgLFxuXHQgKiBhbmQgYGNvdW50YCBwcm9wZXJ0aWVzLlxuXHQgKlxuXHQgKiA8dWw+XG5cdCAqICA8bGk+YHdpZHRoYCAmIGBoZWlnaHRgIGFyZSByZXF1aXJlZCBhbmQgc3BlY2lmeSB0aGUgZGltZW5zaW9ucyBvZiB0aGUgZnJhbWVzPC9saT5cblx0ICogIDxsaT5gcmVnWGAgJiBgcmVnWWAgaW5kaWNhdGUgdGhlIHJlZ2lzdHJhdGlvbiBwb2ludCBvciBcIm9yaWdpblwiIG9mIHRoZSBmcmFtZXM8L2xpPlxuXHQgKiAgPGxpPmBzcGFjaW5nYCBpbmRpY2F0ZSB0aGUgc3BhY2luZyBiZXR3ZWVuIGZyYW1lczwvbGk+XG5cdCAqICA8bGk+YG1hcmdpbmAgc3BlY2lmeSB0aGUgbWFyZ2luIGFyb3VuZCB0aGUgaW1hZ2Uocyk8L2xpPlxuXHQgKiAgPGxpPmBjb3VudGAgYWxsb3dzIHlvdSB0byBzcGVjaWZ5IHRoZSB0b3RhbCBudW1iZXIgb2YgZnJhbWVzIGluIHRoZSBzcHJpdGVzaGVldDsgaWYgb21pdHRlZCwgdGhpcyB3aWxsXG5cdCAqICBiZSBjYWxjdWxhdGVkIGJhc2VkIG9uIHRoZSBkaW1lbnNpb25zIG9mIHRoZSBzb3VyY2UgaW1hZ2VzIGFuZCB0aGUgZnJhbWVzLiBGcmFtZXMgd2lsbCBiZSBhc3NpZ25lZFxuXHQgKiAgaW5kZXhlcyBiYXNlZCBvbiB0aGVpciBwb3NpdGlvbiBpbiB0aGUgc291cmNlIGltYWdlcyAobGVmdCB0byByaWdodCwgdG9wIHRvIGJvdHRvbSkuPC9saT5cblx0ICogPC91bD5cblx0ICpcblx0ICogIFx0ZnJhbWVzOiB7d2lkdGg6NjQsIGhlaWdodDo2NCwgY291bnQ6MjAsIHJlZ1g6IDMyLCByZWdZOjY0LCBzcGFjaW5nOjAsIG1hcmdpbjowfVxuXHQgKlxuXHQgKiBJZiB0aGUgZnJhbWVzIGFyZSBvZiBkaWZmZXJlbnQgc2l6ZXMsIHVzZSBhbiBhcnJheSBvZiBmcmFtZSBkZWZpbml0aW9ucy4gRWFjaCBkZWZpbml0aW9uIGlzIGl0c2VsZiBhbiBhcnJheVxuXHQgKiB3aXRoIDQgcmVxdWlyZWQgYW5kIDMgb3B0aW9uYWwgZW50cmllcywgaW4gdGhlIG9yZGVyOlxuXHQgKlxuXHQgKiA8dWw+XG5cdCAqICA8bGk+VGhlIGZpcnN0IGZvdXIsIGB4YCwgYHlgLCBgd2lkdGhgLCBhbmQgYGhlaWdodGAgYXJlIHJlcXVpcmVkIGFuZCBkZWZpbmUgdGhlIGZyYW1lIHJlY3RhbmdsZS48L2xpPlxuXHQgKiAgPGxpPlRoZSBmaWZ0aCwgYGltYWdlSW5kZXhgLCBzcGVjaWZpZXMgdGhlIGluZGV4IG9mIHRoZSBzb3VyY2UgaW1hZ2UgKGRlZmF1bHRzIHRvIDApPC9saT5cblx0ICogIDxsaT5UaGUgbGFzdCB0d28sIGByZWdYYCBhbmQgYHJlZ1lgIHNwZWNpZnkgdGhlIHJlZ2lzdHJhdGlvbiBwb2ludCBvZiB0aGUgZnJhbWU8L2xpPlxuXHQgKiA8L3VsPlxuXHQgKlxuXHQgKiBcdGZyYW1lczogW1xuXHQgKiBcdFx0Ly8geCwgeSwgd2lkdGgsIGhlaWdodCwgaW1hZ2VJbmRleCosIHJlZ1gqLCByZWdZKlxuXHQgKiBcdFx0WzY0LCAwLCA5NiwgNjRdLFxuXHQgKiBcdFx0WzAsIDAsIDY0LCA2NCwgMSwgMzIsIDMyXVxuXHQgKiBcdFx0Ly8gZXRjLlxuXHQgKiBcdF1cblx0ICpcblx0ICogPGg0PmFuaW1hdGlvbnM8L2g0PlxuXHQgKiBPcHRpb25hbC4gQW4gb2JqZWN0IGRlZmluaW5nIHNlcXVlbmNlcyBvZiBmcmFtZXMgdG8gcGxheSBhcyBuYW1lZCBhbmltYXRpb25zLiBFYWNoIHByb3BlcnR5IGNvcnJlc3BvbmRzIHRvIGFuXG5cdCAqIGFuaW1hdGlvbiBvZiB0aGUgc2FtZSBuYW1lLiBFYWNoIGFuaW1hdGlvbiBtdXN0IHNwZWNpZnkgdGhlIGZyYW1lcyB0byBwbGF5LCBhbmQgbWF5XG5cdCAqIGFsc28gaW5jbHVkZSBhIHJlbGF0aXZlIHBsYXliYWNrIGBzcGVlZGAgKGV4LiAyIHdvdWxkIHBsYXliYWNrIGF0IGRvdWJsZSBzcGVlZCwgMC41IGF0IGhhbGYpLCBhbmRcblx0ICogdGhlIG5hbWUgb2YgdGhlIGBuZXh0YCBhbmltYXRpb24gdG8gc2VxdWVuY2UgdG8gYWZ0ZXIgaXQgY29tcGxldGVzLlxuXHQgKlxuXHQgKiBUaGVyZSBhcmUgdGhyZWUgZm9ybWF0cyBzdXBwb3J0ZWQgZm9yIGRlZmluaW5nIHRoZSBmcmFtZXMgaW4gYW4gYW5pbWF0aW9uLCB3aGljaCBjYW4gYmUgbWl4ZWQgYW5kIG1hdGNoZWQgYXMgYXBwcm9wcmlhdGU6XG5cdCAqIDxvbD5cblx0ICogXHQ8bGk+Zm9yIGEgc2luZ2xlIGZyYW1lIGFuaW1hdGlvbiwgeW91IGNhbiBzaW1wbHkgc3BlY2lmeSB0aGUgZnJhbWUgaW5kZXhcblx0ICpcblx0ICogXHRcdGFuaW1hdGlvbnM6IHtcblx0ICogXHRcdFx0c2l0OiA3XG5cdCAqIFx0XHR9XG5cdCAqXG5cdCAqIDwvbGk+XG5cdCAqIDxsaT5cblx0ICogICAgICBmb3IgYW4gYW5pbWF0aW9uIG9mIGNvbnNlY3V0aXZlIGZyYW1lcywgeW91IGNhbiB1c2UgYW4gYXJyYXkgd2l0aCB0d28gcmVxdWlyZWQsIGFuZCB0d28gb3B0aW9uYWwgZW50cmllc1xuXHQgKiBcdFx0aW4gdGhlIG9yZGVyOiBgc3RhcnRgLCBgZW5kYCwgYG5leHRgLCBhbmQgYHNwZWVkYC4gVGhpcyB3aWxsIHBsYXkgdGhlIGZyYW1lcyBmcm9tIHN0YXJ0IHRvIGVuZCBpbmNsdXNpdmUuXG5cdCAqXG5cdCAqIFx0XHRhbmltYXRpb25zOiB7XG5cdCAqIFx0XHRcdC8vIHN0YXJ0LCBlbmQsIG5leHQqLCBzcGVlZCpcblx0ICogXHRcdFx0cnVuOiBbMCwgOF0sXG5cdCAqIFx0XHRcdGp1bXA6IFs5LCAxMiwgXCJydW5cIiwgMl1cblx0ICogXHRcdH1cblx0ICpcblx0ICogIDwvbGk+XG5cdCAqICA8bGk+XG5cdCAqICAgICBmb3Igbm9uLWNvbnNlY3V0aXZlIGZyYW1lcywgeW91IGNhbiB1c2UgYW4gb2JqZWN0IHdpdGggYSBgZnJhbWVzYCBwcm9wZXJ0eSBkZWZpbmluZyBhbiBhcnJheSBvZiBmcmFtZVxuXHQgKiAgICAgaW5kZXhlcyB0byBwbGF5IGluIG9yZGVyLiBUaGUgb2JqZWN0IGNhbiBhbHNvIHNwZWNpZnkgYG5leHRgIGFuZCBgc3BlZWRgIHByb3BlcnRpZXMuXG5cdCAqXG5cdCAqIFx0XHRhbmltYXRpb25zOiB7XG5cdCAqIFx0XHRcdHdhbGs6IHtcblx0ICogXHRcdFx0XHRmcmFtZXM6IFsxLDIsMywzLDIsMV1cblx0ICogXHRcdFx0fSxcblx0ICogXHRcdFx0c2hvb3Q6IHtcblx0ICogXHRcdFx0XHRmcmFtZXM6IFsxLDQsNSw2XSxcblx0ICogXHRcdFx0XHRuZXh0OiBcIndhbGtcIixcblx0ICogXHRcdFx0XHRzcGVlZDogMC41XG5cdCAqIFx0XHRcdH1cblx0ICogXHRcdH1cblx0ICpcblx0ICogIDwvbGk+XG5cdCAqIDwvb2w+XG5cdCAqIDxzdHJvbmc+Tm90ZTo8L3N0cm9uZz4gdGhlIGBzcGVlZGAgcHJvcGVydHkgd2FzIGFkZGVkIGluIEVhc2VsSlMgMC43LjAuIEVhcmxpZXIgdmVyc2lvbnMgaGFkIGEgYGZyZXF1ZW5jeWBcblx0ICogcHJvcGVydHkgaW5zdGVhZCwgd2hpY2ggd2FzIHRoZSBpbnZlcnNlIG9mIGBzcGVlZGAuIEZvciBleGFtcGxlLCBhIHZhbHVlIG9mIFwiNFwiIHdvdWxkIGJlIDEvNCBub3JtYWwgc3BlZWQgaW5cblx0ICogZWFybGllciB2ZXJzaW9ucywgYnV0IGlzIDR4IG5vcm1hbCBzcGVlZCBpbiBFYXNlbEpTIDAuNy4wKy5cblx0ICpcblx0ICogPGg0PmZyYW1lcmF0ZTwvaDQ+XG5cdCAqIE9wdGlvbmFsLiBJbmRpY2F0ZXMgdGhlIGRlZmF1bHQgZnJhbWVyYXRlIHRvIHBsYXkgdGhpcyBzcHJpdGVzaGVldCBhdCBpbiBmcmFtZXMgcGVyIHNlY29uZC4gU2VlXG5cdCAqIHt7I2Nyb3NzTGluayBcIlNwcml0ZVNoZWV0L2ZyYW1lcmF0ZTpwcm9wZXJ0eVwifX17ey9jcm9zc0xpbmt9fSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cblx0ICpcblx0ICogXHRcdGZyYW1lcmF0ZTogMjBcblx0ICpcblx0ICogTm90ZSB0aGF0IHRoZSBTcHJpdGUgZnJhbWVyYXRlIHdpbGwgb25seSB3b3JrIGlmIHRoZSBzdGFnZSB1cGRhdGUgbWV0aG9kIGlzIHByb3ZpZGVkIHdpdGggdGhlIHt7I2Nyb3NzTGluayBcIlRpY2tlci90aWNrOmV2ZW50XCJ9fXt7L2Nyb3NzTGlua319XG5cdCAqIGV2ZW50IGdlbmVyYXRlZCBieSB0aGUge3sjY3Jvc3NMaW5rIFwiVGlja2VyXCJ9fXt7L2Nyb3NzTGlua319LlxuXHQgKlxuXHQgKiBcdFx0Y3JlYXRlanMuVGlja2VyLm9uKFwidGlja1wiLCBoYW5kbGVUaWNrKTtcblx0ICogXHRcdGZ1bmN0aW9uIGhhbmRsZVRpY2soZXZlbnQpIHtcblx0ICpcdFx0XHRzdGFnZS51cGRhdGUoZXZlbnQpO1xuXHQgKlx0XHR9XG5cdCAqXG5cdCAqIDxoMz5FeGFtcGxlPC9oMz5cblx0ICogVG8gZGVmaW5lIGEgc2ltcGxlIHNwcml0ZSBzaGVldCwgd2l0aCBhIHNpbmdsZSBpbWFnZSBcInNwcml0ZXMuanBnXCIgYXJyYW5nZWQgaW4gYSByZWd1bGFyIDUweDUwIGdyaWQgd2l0aCB0aHJlZVxuXHQgKiBhbmltYXRpb25zOiBcInN0YW5kXCIgc2hvd2luZyB0aGUgZmlyc3QgZnJhbWUsIFwicnVuXCIgbG9vcGluZyBmcmFtZSAxLTUgaW5jbHVzaXZlLCBhbmQgXCJqdW1wXCIgcGxheWluZyBmcmFtZSA2LTggYW5kXG5cdCAqIHNlcXVlbmNpbmcgYmFjayB0byBydW4uXG5cdCAqXG5cdCAqIFx0XHR2YXIgZGF0YSA9IHtcblx0ICogXHRcdFx0aW1hZ2VzOiBbXCJzcHJpdGVzLmpwZ1wiXSxcblx0ICogXHRcdFx0ZnJhbWVzOiB7d2lkdGg6NTAsIGhlaWdodDo1MH0sXG5cdCAqIFx0XHRcdGFuaW1hdGlvbnM6IHtcblx0ICogXHRcdFx0XHRzdGFuZDowLFxuXHQgKiBcdFx0XHRcdHJ1bjpbMSw1XSxcblx0ICogXHRcdFx0XHRqdW1wOls2LDgsXCJydW5cIl1cblx0ICogXHRcdFx0fVxuXHQgKiBcdFx0fTtcblx0ICogXHRcdHZhciBzcHJpdGVTaGVldCA9IG5ldyBjcmVhdGVqcy5TcHJpdGVTaGVldChkYXRhKTtcblx0ICogXHRcdHZhciBhbmltYXRpb24gPSBuZXcgY3JlYXRlanMuU3ByaXRlKHNwcml0ZVNoZWV0LCBcInJ1blwiKTtcblx0ICpcblx0ICogPGgzPkdlbmVyYXRpbmcgU3ByaXRlU2hlZXQgSW1hZ2VzPC9oMz5cblx0ICogU3ByaXRlc2hlZXRzIGNhbiBiZSBjcmVhdGVkIG1hbnVhbGx5IGJ5IGNvbWJpbmluZyBpbWFnZXMgaW4gUGhvdG9TaG9wLCBhbmQgc3BlY2lmeWluZyB0aGUgZnJhbWUgc2l6ZSBvclxuXHQgKiBjb29yZGluYXRlcyBtYW51YWxseSwgaG93ZXZlciB0aGVyZSBhcmUgYSBudW1iZXIgb2YgdG9vbHMgdGhhdCBmYWNpbGl0YXRlIHRoaXMuXG5cdCAqIDx1bD5cblx0ICogICAgIDxsaT5FeHBvcnRpbmcgU3ByaXRlU2hlZXRzIG9yIEhUTUw1IGNvbnRlbnQgZnJvbSBBZG9iZSBGbGFzaC9BbmltYXRlIHN1cHBvcnRzIHRoZSBFYXNlbEpTIFNwcml0ZVNoZWV0IGZvcm1hdC48L2xpPlxuXHQgKiAgICAgPGxpPlRoZSBwb3B1bGFyIDxhIGhyZWY9XCJodHRwczovL3d3dy5jb2RlYW5kd2ViLmNvbS90ZXh0dXJlcGFja2VyL2Vhc2VsanNcIiB0YXJnZXQ9XCJfYmxhbmtcIj5UZXh0dXJlIFBhY2tlcjwvYT4gaGFzXG5cdCAqICAgICBFYXNlbEpTIHN1cHBvcnQuXG5cdCAqICAgICA8bGk+U1dGIGFuaW1hdGlvbnMgaW4gQWRvYmUgRmxhc2gvQW5pbWF0ZSBjYW4gYmUgZXhwb3J0ZWQgdG8gU3ByaXRlU2hlZXRzIHVzaW5nIDxhIGhyZWY9XCJodHRwOi8vY3JlYXRlanMuY29tL3pvZVwiIHRhcmdldD1cIl9ibGFua1wiPlpvJmV1bWw7PC9hPjwvbGk+XG5cdCAqIDwvdWw+XG5cdCAqXG5cdCAqIDxoMz5Dcm9zcyBPcmlnaW4gSXNzdWVzPC9oMz5cblx0ICogPHN0cm9uZz5XYXJuaW5nOjwvc3Ryb25nPiBJbWFnZXMgbG9hZGVkIGNyb3NzLW9yaWdpbiB3aWxsIHRocm93IGNyb3NzLW9yaWdpbiBzZWN1cml0eSBlcnJvcnMgd2hlbiBpbnRlcmFjdGVkIHdpdGhcblx0ICogdXNpbmc6XG5cdCAqIDx1bD5cblx0ICogICAgIDxsaT5hIG1vdXNlPC9saT5cblx0ICogICAgIDxsaT5tZXRob2RzIHN1Y2ggYXMge3sjY3Jvc3NMaW5rIFwiQ29udGFpbmVyL2dldE9iamVjdFVuZGVyUG9pbnRcIn19e3svY3Jvc3NMaW5rfX08L2xpPlxuXHQgKiAgICAgPGxpPkZpbHRlcnMgKHNlZSB7eyNjcm9zc0xpbmsgXCJGaWx0ZXJcIn19e3svY3Jvc3NMaW5rfX0pPC9saT5cblx0ICogICAgIDxsaT5jYWNoaW5nIChzZWUge3sjY3Jvc3NMaW5rIFwiRGlzcGxheU9iamVjdC9jYWNoZVwifX17ey9jcm9zc0xpbmt9fSk8L2xpPlxuXHQgKiA8L3VsPlxuXHQgKiBZb3UgY2FuIGdldCBhcm91bmQgdGhpcyBieSBzZXR0aW5nIGBjcm9zc09yaWdpbmAgcHJvcGVydHkgb24geW91ciBpbWFnZXMgYmVmb3JlIHBhc3NpbmcgdGhlbSB0byBFYXNlbEpTLCBvclxuXHQgKiBzZXR0aW5nIHRoZSBgY3Jvc3NPcmlnaW5gIHByb3BlcnR5IG9uIFByZWxvYWRKUycgTG9hZFF1ZXVlIG9yIExvYWRJdGVtcy5cblx0ICpcblx0ICogXHRcdHZhciBpbWFnZSA9IG5ldyBJbWFnZSgpO1xuXHQgKiBcdFx0aW1nLmNyb3NzT3JpZ2luPVwiQW5vbnltb3VzXCI7XG5cdCAqIFx0XHRpbWcuc3JjID0gXCJodHRwOi8vc2VydmVyLXdpdGgtQ09SUy1zdXBwb3J0LmNvbS9wYXRoL3RvL2ltYWdlLmpwZ1wiO1xuXHQgKlxuXHQgKiBJZiB5b3UgcGFzcyBzdHJpbmcgcGF0aHMgdG8gU3ByaXRlU2hlZXRzLCB0aGV5IHdpbGwgbm90IHdvcmsgY3Jvc3Mtb3JpZ2luLiBUaGUgc2VydmVyIHRoYXQgc3RvcmVzIHRoZSBpbWFnZSBtdXN0XG5cdCAqIHN1cHBvcnQgY3Jvc3Mtb3JpZ2luIHJlcXVlc3RzLCBvciB0aGlzIHdpbGwgbm90IHdvcmsuIEZvciBtb3JlIGluZm9ybWF0aW9uLCBjaGVjayBvdXRcblx0ICogPGEgaHJlZj1cImh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0hUVFAvQWNjZXNzX2NvbnRyb2xfQ09SU1wiIHRhcmdldD1cIl9ibGFua1wiPkNPUlMgb3ZlcnZpZXcgb24gTUROPC9hPi5cblx0ICpcblx0ICogQGNsYXNzIFNwcml0ZVNoZWV0XG5cdCAqIEBjb25zdHJ1Y3RvclxuXHQgKiBAcGFyYW0ge09iamVjdH0gZGF0YSBBbiBvYmplY3QgZGVzY3JpYmluZyB0aGUgU3ByaXRlU2hlZXQgZGF0YS5cblx0ICogQGV4dGVuZHMgRXZlbnREaXNwYXRjaGVyXG5cdCAqKi9cblx0ZnVuY3Rpb24gU3ByaXRlU2hlZXQoZGF0YSkge1xuXHRcdHRoaXMuRXZlbnREaXNwYXRjaGVyX2NvbnN0cnVjdG9yKCk7XG5cblxuXHRcdC8vIHB1YmxpYyBwcm9wZXJ0aWVzOlxuXHRcdC8qKlxuXHRcdCAqIEluZGljYXRlcyB3aGV0aGVyIGFsbCBpbWFnZXMgYXJlIGZpbmlzaGVkIGxvYWRpbmcuXG5cdFx0ICogQHByb3BlcnR5IGNvbXBsZXRlXG5cdFx0ICogQHR5cGUgQm9vbGVhblxuXHRcdCAqIEByZWFkb25seVxuXHRcdCAqKi9cblx0XHR0aGlzLmNvbXBsZXRlID0gdHJ1ZTtcblxuXHRcdC8qKlxuXHRcdCAqIFNwZWNpZmllcyB0aGUgZnJhbWVyYXRlIHRvIHVzZSBieSBkZWZhdWx0IGZvciBTcHJpdGUgaW5zdGFuY2VzIHVzaW5nIHRoZSBTcHJpdGVTaGVldC4gU2VlIHRoZSBTcHJpdGUgY2xhc3Ncblx0XHQgKiB7eyNjcm9zc0xpbmsgXCJTcHJpdGUvZnJhbWVyYXRlOnByb3BlcnR5XCJ9fXt7L2Nyb3NzTGlua319IGZvciBtb3JlIGluZm9ybWF0aW9uLlxuXHRcdCAqIEBwcm9wZXJ0eSBmcmFtZXJhdGVcblx0XHQgKiBAdHlwZSBOdW1iZXJcblx0XHQgKiovXG5cdFx0dGhpcy5mcmFtZXJhdGUgPSAwO1xuXG5cblx0XHQvLyBwcml2YXRlIHByb3BlcnRpZXM6XG5cdFx0LyoqXG5cdFx0ICogQHByb3BlcnR5IF9hbmltYXRpb25zXG5cdFx0ICogQHByb3RlY3RlZFxuXHRcdCAqIEB0eXBlIEFycmF5XG5cdFx0ICoqL1xuXHRcdHRoaXMuX2FuaW1hdGlvbnMgPSBudWxsO1xuXG5cdFx0LyoqXG5cdFx0ICogQHByb3BlcnR5IF9mcmFtZXNcblx0XHQgKiBAcHJvdGVjdGVkXG5cdFx0ICogQHR5cGUgQXJyYXlcblx0XHQgKiovXG5cdFx0dGhpcy5fZnJhbWVzID0gbnVsbDtcblxuXHRcdC8qKlxuXHRcdCAqIEBwcm9wZXJ0eSBfaW1hZ2VzXG5cdFx0ICogQHByb3RlY3RlZFxuXHRcdCAqIEB0eXBlIEFycmF5XG5cdFx0ICoqL1xuXHRcdHRoaXMuX2ltYWdlcyA9IG51bGw7XG5cblx0XHQvKipcblx0XHQgKiBAcHJvcGVydHkgX2RhdGFcblx0XHQgKiBAcHJvdGVjdGVkXG5cdFx0ICogQHR5cGUgT2JqZWN0XG5cdFx0ICoqL1xuXHRcdHRoaXMuX2RhdGEgPSBudWxsO1xuXG5cdFx0LyoqXG5cdFx0ICogQHByb3BlcnR5IF9sb2FkQ291bnRcblx0XHQgKiBAcHJvdGVjdGVkXG5cdFx0ICogQHR5cGUgTnVtYmVyXG5cdFx0ICoqL1xuXHRcdHRoaXMuX2xvYWRDb3VudCA9IDA7XG5cblx0XHQvLyBvbmx5IHVzZWQgZm9yIHNpbXBsZSBmcmFtZSBkZWZzOlxuXHRcdC8qKlxuXHRcdCAqIEBwcm9wZXJ0eSBfZnJhbWVIZWlnaHRcblx0XHQgKiBAcHJvdGVjdGVkXG5cdFx0ICogQHR5cGUgTnVtYmVyXG5cdFx0ICoqL1xuXHRcdHRoaXMuX2ZyYW1lSGVpZ2h0ID0gMDtcblxuXHRcdC8qKlxuXHRcdCAqIEBwcm9wZXJ0eSBfZnJhbWVXaWR0aFxuXHRcdCAqIEBwcm90ZWN0ZWRcblx0XHQgKiBAdHlwZSBOdW1iZXJcblx0XHQgKiovXG5cdFx0dGhpcy5fZnJhbWVXaWR0aCA9IDA7XG5cblx0XHQvKipcblx0XHQgKiBAcHJvcGVydHkgX251bUZyYW1lc1xuXHRcdCAqIEBwcm90ZWN0ZWRcblx0XHQgKiBAdHlwZSBOdW1iZXJcblx0XHQgKiovXG5cdFx0dGhpcy5fbnVtRnJhbWVzID0gMDtcblxuXHRcdC8qKlxuXHRcdCAqIEBwcm9wZXJ0eSBfcmVnWFxuXHRcdCAqIEBwcm90ZWN0ZWRcblx0XHQgKiBAdHlwZSBOdW1iZXJcblx0XHQgKiovXG5cdFx0dGhpcy5fcmVnWCA9IDA7XG5cblx0XHQvKipcblx0XHQgKiBAcHJvcGVydHkgX3JlZ1lcblx0XHQgKiBAcHJvdGVjdGVkXG5cdFx0ICogQHR5cGUgTnVtYmVyXG5cdFx0ICoqL1xuXHRcdHRoaXMuX3JlZ1kgPSAwO1xuXG5cdFx0LyoqXG5cdFx0ICogQHByb3BlcnR5IF9zcGFjaW5nXG5cdFx0ICogQHByb3RlY3RlZFxuXHRcdCAqIEB0eXBlIE51bWJlclxuXHRcdCAqKi9cblx0XHR0aGlzLl9zcGFjaW5nID0gMDtcblxuXHRcdC8qKlxuXHRcdCAqIEBwcm9wZXJ0eSBfbWFyZ2luXG5cdFx0ICogQHByb3RlY3RlZFxuXHRcdCAqIEB0eXBlIE51bWJlclxuXHRcdCAqKi9cblx0XHR0aGlzLl9tYXJnaW4gPSAwO1xuXG5cdFx0Ly8gc2V0dXA6XG5cdFx0dGhpcy5fcGFyc2VEYXRhKGRhdGEpO1xuXHR9XG5cdHZhciBwID0gY3JlYXRlanMuZXh0ZW5kKFNwcml0ZVNoZWV0LCBjcmVhdGVqcy5FdmVudERpc3BhdGNoZXIpO1xuXG5cdC8vIFRPRE86IGRlcHJlY2F0ZWRcblx0Ly8gcC5pbml0aWFsaXplID0gZnVuY3Rpb24oKSB7fTsgLy8gc2VhcmNoYWJsZSBmb3IgZGV2cyB3b25kZXJpbmcgd2hlcmUgaXQgaXMuIFJFTU9WRUQuIFNlZSBkb2NzIGZvciBkZXRhaWxzLlxuXG5cbi8vIGV2ZW50czpcblx0LyoqXG5cdCAqIERpc3BhdGNoZWQgd2hlbiBhbGwgaW1hZ2VzIGFyZSBsb2FkZWQuICBOb3RlIHRoYXQgdGhpcyBvbmx5IGZpcmVzIGlmIHRoZSBpbWFnZXNcblx0ICogd2VyZSBub3QgZnVsbHkgbG9hZGVkIHdoZW4gdGhlIHNwcml0ZSBzaGVldCB3YXMgaW5pdGlhbGl6ZWQuIFlvdSBzaG91bGQgY2hlY2sgdGhlIGNvbXBsZXRlIHByb3BlcnR5XG5cdCAqIHRvIHByaW9yIHRvIGFkZGluZyBhIGxpc3RlbmVyLiBFeC5cblx0ICpcblx0ICogXHR2YXIgc2hlZXQgPSBuZXcgY3JlYXRlanMuU3ByaXRlU2hlZXQoZGF0YSk7XG5cdCAqIFx0aWYgKCFzaGVldC5jb21wbGV0ZSkge1xuXHQgKiBcdFx0Ly8gbm90IHByZWxvYWRlZCwgbGlzdGVuIGZvciB0aGUgY29tcGxldGUgZXZlbnQ6XG5cdCAqIFx0XHRzaGVldC5hZGRFdmVudExpc3RlbmVyKFwiY29tcGxldGVcIiwgaGFuZGxlcik7XG5cdCAqIFx0fVxuXHQgKlxuXHQgKiBAZXZlbnQgY29tcGxldGVcblx0ICogQHBhcmFtIHtPYmplY3R9IHRhcmdldCBUaGUgb2JqZWN0IHRoYXQgZGlzcGF0Y2hlZCB0aGUgZXZlbnQuXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlIFRoZSBldmVudCB0eXBlLlxuXHQgKiBAc2luY2UgMC42LjBcblx0ICovXG5cblx0LyoqXG5cdCAqIERpc3BhdGNoZWQgd2hlbiBnZXRGcmFtZSBpcyBjYWxsZWQgd2l0aCBhIHZhbGlkIGZyYW1lIGluZGV4LiBUaGlzIGlzIHByaW1hcmlseSBpbnRlbmRlZCBmb3IgdXNlIGJ5IHt7I2Nyb3NzTGluayBcIlNwcml0ZVNoZWV0QnVpbGRlclwifX17ey9jcm9zc0xpbmt9fVxuXHQgKiB3aGVuIGRvaW5nIG9uLWRlbWFuZCByZW5kZXJpbmcuXG5cdCAqIEBldmVudCBnZXRmcmFtZVxuXHQgKiBAcGFyYW0ge051bWJlcn0gaW5kZXggVGhlIGZyYW1lIGluZGV4LlxuXHQgKiBAcGFyYW0ge09iamVjdH0gZnJhbWUgVGhlIGZyYW1lIG9iamVjdCB0aGF0IGdldEZyYW1lIHdpbGwgcmV0dXJuLlxuXHQgKi9cblxuXHQvKipcblx0ICogRGlzcGF0Y2hlZCB3aGVuIGFuIGltYWdlIGVuY291bnRlcnMgYW4gZXJyb3IuIEEgU3ByaXRlU2hlZXQgd2lsbCBkaXNwYXRjaCBhbiBlcnJvciBldmVudCBmb3IgZWFjaCBpbWFnZSB0aGF0XG5cdCAqIGVuY291bnRlcnMgYW4gZXJyb3IsIGFuZCB3aWxsIHN0aWxsIGRpc3BhdGNoIGEge3sjY3Jvc3NMaW5rIFwiU3ByaXRlU2hlZXQvY29tcGxldGU6ZXZlbnRcIn19e3svY3Jvc3NMaW5rfX1cblx0ICogZXZlbnQgb25jZSBhbGwgaW1hZ2VzIGFyZSBmaW5pc2hlZCBwcm9jZXNzaW5nLCBldmVuIGlmIGFuIGVycm9yIGlzIGVuY291bnRlcmVkLlxuXHQgKiBAZXZlbnQgZXJyb3Jcblx0ICogQHBhcmFtIHtTdHJpbmd9IHNyYyBUaGUgc291cmNlIG9mIHRoZSBpbWFnZSB0aGF0IGZhaWxlZCB0byBsb2FkLlxuXHQgKiBAc2luY2UgMC44LjJcblx0ICovXG5cblxuLy8gZ2V0dGVyIC8gc2V0dGVyczpcblx0LyoqXG5cdCAqIFVzZSB0aGUge3sjY3Jvc3NMaW5rIFwiU3ByaXRlU2hlZXQvYW5pbWF0aW9uczpwcm9wZXJ0eVwifX17ey9jcm9zc0xpbmt9fSBwcm9wZXJ0eSBpbnN0ZWFkLlxuXHQgKiBAbWV0aG9kIF9nZXRBbmltYXRpb25zXG5cdCAqIEBwcm90ZWN0ZWRcblx0ICogQHJldHVybiB7QXJyYXl9XG5cdCAqKi9cblx0cC5fZ2V0QW5pbWF0aW9ucyA9IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLl9hbmltYXRpb25zLnNsaWNlKCk7XG5cdH07XG5cdC8vIFNwcml0ZVNoZWV0LmdldEFuaW1hdGlvbnMgaXMgQGRlcHJlY2F0ZWQuIFJlbW92ZSBmb3IgMS4xK1xuXHRwLmdldEFuaW1hdGlvbnMgPSBjcmVhdGVqcy5kZXByZWNhdGUocC5fZ2V0QW5pbWF0aW9ucywgXCJTcHJpdGVTaGVldC5nZXRBbmltYXRpb25zXCIpO1xuXG5cdC8qKlxuXHQgKiBSZXR1cm5zIGFuIGFycmF5IG9mIGFsbCBhdmFpbGFibGUgYW5pbWF0aW9uIG5hbWVzIGF2YWlsYWJsZSBvbiB0aGlzIHNwcml0ZSBzaGVldCBhcyBzdHJpbmdzLlxuXHQgKiBAcHJvcGVydHkgYW5pbWF0aW9uc1xuXHQgKiBAdHlwZSB7QXJyYXl9XG5cdCAqIEByZWFkb25seVxuXHQgKiovXG5cdHRyeSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnRpZXMocCwge1xuXHRcdFx0YW5pbWF0aW9uczogeyBnZXQ6IHAuX2dldEFuaW1hdGlvbnMgfVxuXHRcdH0pO1xuXHR9IGNhdGNoIChlKSB7fVxuXG5cbi8vIHB1YmxpYyBtZXRob2RzOlxuXHQvKipcblx0ICogUmV0dXJucyB0aGUgdG90YWwgbnVtYmVyIG9mIGZyYW1lcyBpbiB0aGUgc3BlY2lmaWVkIGFuaW1hdGlvbiwgb3IgaW4gdGhlIHdob2xlIHNwcml0ZVxuXHQgKiBzaGVldCBpZiB0aGUgYW5pbWF0aW9uIHBhcmFtIGlzIG9taXR0ZWQuIFJldHVybnMgMCBpZiB0aGUgc3ByaXRlc2hlZXQgcmVsaWVzIG9uIGNhbGN1bGF0ZWQgZnJhbWUgY291bnRzLCBhbmRcblx0ICogdGhlIGltYWdlcyBoYXZlIG5vdCBiZWVuIGZ1bGx5IGxvYWRlZC5cblx0ICogQG1ldGhvZCBnZXROdW1GcmFtZXNcblx0ICogQHBhcmFtIHtTdHJpbmd9IGFuaW1hdGlvbiBUaGUgbmFtZSBvZiB0aGUgYW5pbWF0aW9uIHRvIGdldCBhIGZyYW1lIGNvdW50IGZvci5cblx0ICogQHJldHVybiB7TnVtYmVyfSBUaGUgbnVtYmVyIG9mIGZyYW1lcyBpbiB0aGUgYW5pbWF0aW9uLCBvciBpbiB0aGUgZW50aXJlIHNwcml0ZSBzaGVldCBpZiB0aGUgYW5pbWF0aW9uIHBhcmFtIGlzIG9taXR0ZWQuXG5cdCAqL1xuXHRwLmdldE51bUZyYW1lcyA9IGZ1bmN0aW9uKGFuaW1hdGlvbikge1xuXHRcdGlmIChhbmltYXRpb24gPT0gbnVsbCkge1xuXHRcdFx0cmV0dXJuIHRoaXMuX2ZyYW1lcyA/IHRoaXMuX2ZyYW1lcy5sZW5ndGggOiB0aGlzLl9udW1GcmFtZXMgfHwgMDtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dmFyIGRhdGEgPSB0aGlzLl9kYXRhW2FuaW1hdGlvbl07XG5cdFx0XHRpZiAoZGF0YSA9PSBudWxsKSB7IHJldHVybiAwOyB9XG5cdFx0XHRlbHNlIHsgcmV0dXJuIGRhdGEuZnJhbWVzLmxlbmd0aDsgfVxuXHRcdH1cblx0fTtcblxuXHQvKipcblx0ICogUmV0dXJucyBhbiBvYmplY3QgZGVmaW5pbmcgdGhlIHNwZWNpZmllZCBhbmltYXRpb24uIFRoZSByZXR1cm5lZCBvYmplY3QgY29udGFpbnM6PFVMPlxuXHQgKiBcdDxsaT5mcmFtZXM6IGFuIGFycmF5IG9mIHRoZSBmcmFtZSBpZHMgaW4gdGhlIGFuaW1hdGlvbjwvbGk+XG5cdCAqIFx0PGxpPnNwZWVkOiB0aGUgcGxheWJhY2sgc3BlZWQgZm9yIHRoaXMgYW5pbWF0aW9uPC9saT5cblx0ICogXHQ8bGk+bmFtZTogdGhlIG5hbWUgb2YgdGhlIGFuaW1hdGlvbjwvbGk+XG5cdCAqIFx0PGxpPm5leHQ6IHRoZSBkZWZhdWx0IGFuaW1hdGlvbiB0byBwbGF5IG5leHQuIElmIHRoZSBhbmltYXRpb24gbG9vcHMsIHRoZSBuYW1lIGFuZCBuZXh0IHByb3BlcnR5IHdpbGwgYmUgdGhlXG5cdCAqIFx0c2FtZS48L2xpPlxuXHQgKiA8L1VMPlxuXHQgKiBAbWV0aG9kIGdldEFuaW1hdGlvblxuXHQgKiBAcGFyYW0ge1N0cmluZ30gbmFtZSBUaGUgbmFtZSBvZiB0aGUgYW5pbWF0aW9uIHRvIGdldC5cblx0ICogQHJldHVybiB7T2JqZWN0fSBhIGdlbmVyaWMgb2JqZWN0IHdpdGggZnJhbWVzLCBzcGVlZCwgbmFtZSwgYW5kIG5leHQgcHJvcGVydGllcy5cblx0ICoqL1xuXHRwLmdldEFuaW1hdGlvbiA9IGZ1bmN0aW9uKG5hbWUpIHtcblx0XHRyZXR1cm4gdGhpcy5fZGF0YVtuYW1lXTtcblx0fTtcblxuXHQvKipcblx0ICogUmV0dXJucyBhbiBvYmplY3Qgc3BlY2lmeWluZyB0aGUgaW1hZ2UgYW5kIHNvdXJjZSByZWN0IG9mIHRoZSBzcGVjaWZpZWQgZnJhbWUuIFRoZSByZXR1cm5lZCBvYmplY3QgaGFzOjxVTD5cblx0ICogXHQ8bGk+YW4gaW1hZ2UgcHJvcGVydHkgaG9sZGluZyBhIHJlZmVyZW5jZSB0byB0aGUgaW1hZ2Ugb2JqZWN0IGluIHdoaWNoIHRoZSBmcmFtZSBpcyBmb3VuZDwvbGk+XG5cdCAqIFx0PGxpPmEgcmVjdCBwcm9wZXJ0eSBjb250YWluaW5nIGEgUmVjdGFuZ2xlIGluc3RhbmNlIHdoaWNoIGRlZmluZXMgdGhlIGJvdW5kYXJpZXMgZm9yIHRoZSBmcmFtZSB3aXRoaW4gdGhhdFxuXHQgKiBcdGltYWdlLjwvbGk+XG5cdCAqIFx0PGxpPiBBIHJlZ1ggYW5kIHJlZ1kgcHJvcGVydHkgY29ycmVzcG9uZGluZyB0byB0aGUgcmVnWC9ZIHZhbHVlcyBmb3IgdGhlIGZyYW1lLlxuXHQgKiA8L1VMPlxuXHQgKiBAbWV0aG9kIGdldEZyYW1lXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBmcmFtZUluZGV4IFRoZSBpbmRleCBvZiB0aGUgZnJhbWUuXG5cdCAqIEByZXR1cm4ge09iamVjdH0gYSBnZW5lcmljIG9iamVjdCB3aXRoIGltYWdlIGFuZCByZWN0IHByb3BlcnRpZXMuIFJldHVybnMgbnVsbCBpZiB0aGUgZnJhbWUgZG9lcyBub3QgZXhpc3QuXG5cdCAqKi9cblx0cC5nZXRGcmFtZSA9IGZ1bmN0aW9uKGZyYW1lSW5kZXgpIHtcblx0XHR2YXIgZnJhbWU7XG5cdFx0aWYgKHRoaXMuX2ZyYW1lcyAmJiAoZnJhbWU9dGhpcy5fZnJhbWVzW2ZyYW1lSW5kZXhdKSkgeyByZXR1cm4gZnJhbWU7IH1cblx0XHRyZXR1cm4gbnVsbDtcblx0fTtcblxuXHQvKipcblx0ICogUmV0dXJucyBhIHt7I2Nyb3NzTGluayBcIlJlY3RhbmdsZVwifX17ey9jcm9zc0xpbmt9fSBpbnN0YW5jZSBkZWZpbmluZyB0aGUgYm91bmRzIG9mIHRoZSBzcGVjaWZpZWQgZnJhbWUgcmVsYXRpdmVcblx0ICogdG8gdGhlIG9yaWdpbi4gRm9yIGV4YW1wbGUsIGEgOTAgeCA3MCBmcmFtZSB3aXRoIGEgcmVnWCBvZiA1MCBhbmQgYSByZWdZIG9mIDQwIHdvdWxkIHJldHVybjpcblx0ICpcblx0ICogXHRbeD0tNTAsIHk9LTQwLCB3aWR0aD05MCwgaGVpZ2h0PTcwXVxuXHQgKlxuXHQgKiBAbWV0aG9kIGdldEZyYW1lQm91bmRzXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBmcmFtZUluZGV4IFRoZSBpbmRleCBvZiB0aGUgZnJhbWUuXG5cdCAqIEBwYXJhbSB7UmVjdGFuZ2xlfSBbcmVjdGFuZ2xlXSBBIFJlY3RhbmdsZSBpbnN0YW5jZSB0byBjb3B5IHRoZSB2YWx1ZXMgaW50by4gQnkgZGVmYXVsdCBhIG5ldyBpbnN0YW5jZSBpcyBjcmVhdGVkLlxuXHQgKiBAcmV0dXJuIHtSZWN0YW5nbGV9IEEgUmVjdGFuZ2xlIGluc3RhbmNlLiBSZXR1cm5zIG51bGwgaWYgdGhlIGZyYW1lIGRvZXMgbm90IGV4aXN0LCBvciB0aGUgaW1hZ2UgaXMgbm90IGZ1bGx5IGxvYWRlZC5cblx0ICoqL1xuXHRwLmdldEZyYW1lQm91bmRzID0gZnVuY3Rpb24oZnJhbWVJbmRleCwgcmVjdGFuZ2xlKSB7XG5cdFx0dmFyIGZyYW1lID0gdGhpcy5nZXRGcmFtZShmcmFtZUluZGV4KTtcblx0XHRyZXR1cm4gZnJhbWUgPyAocmVjdGFuZ2xlfHxuZXcgY3JlYXRlanMuUmVjdGFuZ2xlKCkpLnNldFZhbHVlcygtZnJhbWUucmVnWCwgLWZyYW1lLnJlZ1ksIGZyYW1lLnJlY3Qud2lkdGgsIGZyYW1lLnJlY3QuaGVpZ2h0KSA6IG51bGw7XG5cdH07XG5cblx0LyoqXG5cdCAqIFJldHVybnMgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhpcyBvYmplY3QuXG5cdCAqIEBtZXRob2QgdG9TdHJpbmdcblx0ICogQHJldHVybiB7U3RyaW5nfSBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgaW5zdGFuY2UuXG5cdCAqKi9cblx0cC50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBcIltTcHJpdGVTaGVldF1cIjtcblx0fTtcblxuXHQvKipcblx0ICogU3ByaXRlU2hlZXQgY2Fubm90IGJlIGNsb25lZC4gQSBTcHJpdGVTaGVldCBjYW4gYmUgc2hhcmVkIGJ5IG11bHRpcGxlIFNwcml0ZSBpbnN0YW5jZXMgd2l0aG91dCBjbG9uaW5nIGl0LlxuXHQgKiBAbWV0aG9kIGNsb25lXG5cdCAqKi9cblx0cC5jbG9uZSA9IGZ1bmN0aW9uKCkge1xuXHRcdHRocm93KFwiU3ByaXRlU2hlZXQgY2Fubm90IGJlIGNsb25lZC5cIilcblx0fTtcblxuLy8gcHJpdmF0ZSBtZXRob2RzOlxuXHQvKipcblx0ICogQG1ldGhvZCBfcGFyc2VEYXRhXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhIEFuIG9iamVjdCBkZXNjcmliaW5nIHRoZSBTcHJpdGVTaGVldCBkYXRhLlxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqKi9cblx0cC5fcGFyc2VEYXRhID0gZnVuY3Rpb24oZGF0YSkge1xuXHRcdHZhciBpLGwsbyxhO1xuXHRcdGlmIChkYXRhID09IG51bGwpIHsgcmV0dXJuOyB9XG5cblx0XHR0aGlzLmZyYW1lcmF0ZSA9IGRhdGEuZnJhbWVyYXRlfHwwO1xuXG5cdFx0Ly8gcGFyc2UgaW1hZ2VzOlxuXHRcdGlmIChkYXRhLmltYWdlcyAmJiAobD1kYXRhLmltYWdlcy5sZW5ndGgpID4gMCkge1xuXHRcdFx0YSA9IHRoaXMuX2ltYWdlcyA9IFtdO1xuXHRcdFx0Zm9yIChpPTA7IGk8bDsgaSsrKSB7XG5cdFx0XHRcdHZhciBpbWcgPSBkYXRhLmltYWdlc1tpXTtcblx0XHRcdFx0aWYgKHR5cGVvZiBpbWcgPT0gXCJzdHJpbmdcIikge1xuXHRcdFx0XHRcdHZhciBzcmMgPSBpbWc7XG5cdFx0XHRcdFx0aW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcblx0XHRcdFx0XHRpbWcuc3JjID0gc3JjO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGEucHVzaChpbWcpO1xuXHRcdFx0XHRpZiAoIWltZy5nZXRDb250ZXh0ICYmICFpbWcubmF0dXJhbFdpZHRoKSB7XG5cdFx0XHRcdFx0dGhpcy5fbG9hZENvdW50Kys7XG5cdFx0XHRcdFx0dGhpcy5jb21wbGV0ZSA9IGZhbHNlO1xuXHRcdFx0XHRcdChmdW5jdGlvbihvLCBzcmMpIHsgaW1nLm9ubG9hZCA9IGZ1bmN0aW9uKCkgeyBvLl9oYW5kbGVJbWFnZUxvYWQoc3JjKTsgfSB9KSh0aGlzLCBzcmMpO1xuXHRcdFx0XHRcdChmdW5jdGlvbihvLCBzcmMpIHsgaW1nLm9uZXJyb3IgPSBmdW5jdGlvbigpIHsgby5faGFuZGxlSW1hZ2VFcnJvcihzcmMpOyB9IH0pKHRoaXMsIHNyYyk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBwYXJzZSBmcmFtZXM6XG5cdFx0aWYgKGRhdGEuZnJhbWVzID09IG51bGwpIHsgLy8gbm90aGluZ1xuXHRcdH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShkYXRhLmZyYW1lcykpIHtcblx0XHRcdHRoaXMuX2ZyYW1lcyA9IFtdO1xuXHRcdFx0YSA9IGRhdGEuZnJhbWVzO1xuXHRcdFx0Zm9yIChpPTAsbD1hLmxlbmd0aDtpPGw7aSsrKSB7XG5cdFx0XHRcdHZhciBhcnIgPSBhW2ldO1xuXHRcdFx0XHR0aGlzLl9mcmFtZXMucHVzaCh7aW1hZ2U6dGhpcy5faW1hZ2VzW2Fycls0XT9hcnJbNF06MF0sIHJlY3Q6bmV3IGNyZWF0ZWpzLlJlY3RhbmdsZShhcnJbMF0sYXJyWzFdLGFyclsyXSxhcnJbM10pLCByZWdYOmFycls1XXx8MCwgcmVnWTphcnJbNl18fDAgfSk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdG8gPSBkYXRhLmZyYW1lcztcblx0XHRcdHRoaXMuX2ZyYW1lV2lkdGggPSBvLndpZHRoO1xuXHRcdFx0dGhpcy5fZnJhbWVIZWlnaHQgPSBvLmhlaWdodDtcblx0XHRcdHRoaXMuX3JlZ1ggPSBvLnJlZ1h8fDA7XG5cdFx0XHR0aGlzLl9yZWdZID0gby5yZWdZfHwwO1xuXHRcdFx0dGhpcy5fc3BhY2luZyA9IG8uc3BhY2luZ3x8MDtcblx0XHRcdHRoaXMuX21hcmdpbiA9IG8ubWFyZ2lufHwwO1xuXHRcdFx0dGhpcy5fbnVtRnJhbWVzID0gby5jb3VudDtcblx0XHRcdGlmICh0aGlzLl9sb2FkQ291bnQgPT0gMCkgeyB0aGlzLl9jYWxjdWxhdGVGcmFtZXMoKTsgfVxuXHRcdH1cblxuXHRcdC8vIHBhcnNlIGFuaW1hdGlvbnM6XG5cdFx0dGhpcy5fYW5pbWF0aW9ucyA9IFtdO1xuXHRcdGlmICgobz1kYXRhLmFuaW1hdGlvbnMpICE9IG51bGwpIHtcblx0XHRcdHRoaXMuX2RhdGEgPSB7fTtcblx0XHRcdHZhciBuYW1lO1xuXHRcdFx0Zm9yIChuYW1lIGluIG8pIHtcblx0XHRcdFx0dmFyIGFuaW0gPSB7bmFtZTpuYW1lfTtcblx0XHRcdFx0dmFyIG9iaiA9IG9bbmFtZV07XG5cdFx0XHRcdGlmICh0eXBlb2Ygb2JqID09IFwibnVtYmVyXCIpIHsgLy8gc2luZ2xlIGZyYW1lXG5cdFx0XHRcdFx0YSA9IGFuaW0uZnJhbWVzID0gW29ial07XG5cdFx0XHRcdH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShvYmopKSB7IC8vIHNpbXBsZVxuXHRcdFx0XHRcdGlmIChvYmoubGVuZ3RoID09IDEpIHsgYW5pbS5mcmFtZXMgPSBbb2JqWzBdXTsgfVxuXHRcdFx0XHRcdGVsc2Uge1xuXHRcdFx0XHRcdFx0YW5pbS5zcGVlZCA9IG9ialszXTtcblx0XHRcdFx0XHRcdGFuaW0ubmV4dCA9IG9ialsyXTtcblx0XHRcdFx0XHRcdGEgPSBhbmltLmZyYW1lcyA9IFtdO1xuXHRcdFx0XHRcdFx0Zm9yIChpPW9ialswXTtpPD1vYmpbMV07aSsrKSB7XG5cdFx0XHRcdFx0XHRcdGEucHVzaChpKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gZWxzZSB7IC8vIGNvbXBsZXhcblx0XHRcdFx0XHRhbmltLnNwZWVkID0gb2JqLnNwZWVkO1xuXHRcdFx0XHRcdGFuaW0ubmV4dCA9IG9iai5uZXh0O1xuXHRcdFx0XHRcdHZhciBmcmFtZXMgPSBvYmouZnJhbWVzO1xuXHRcdFx0XHRcdGEgPSBhbmltLmZyYW1lcyA9ICh0eXBlb2YgZnJhbWVzID09IFwibnVtYmVyXCIpID8gW2ZyYW1lc10gOiBmcmFtZXMuc2xpY2UoMCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKGFuaW0ubmV4dCA9PT0gdHJ1ZSB8fCBhbmltLm5leHQgPT09IHVuZGVmaW5lZCkgeyBhbmltLm5leHQgPSBuYW1lOyB9IC8vIGxvb3Bcblx0XHRcdFx0aWYgKGFuaW0ubmV4dCA9PT0gZmFsc2UgfHwgKGEubGVuZ3RoIDwgMiAmJiBhbmltLm5leHQgPT0gbmFtZSkpIHsgYW5pbS5uZXh0ID0gbnVsbDsgfSAvLyBzdG9wXG5cdFx0XHRcdGlmICghYW5pbS5zcGVlZCkgeyBhbmltLnNwZWVkID0gMTsgfVxuXHRcdFx0XHR0aGlzLl9hbmltYXRpb25zLnB1c2gobmFtZSk7XG5cdFx0XHRcdHRoaXMuX2RhdGFbbmFtZV0gPSBhbmltO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcblxuXHQvKipcblx0ICogQG1ldGhvZCBfaGFuZGxlSW1hZ2VMb2FkXG5cdCAqIEBwcm90ZWN0ZWRcblx0ICoqL1xuXHRwLl9oYW5kbGVJbWFnZUxvYWQgPSBmdW5jdGlvbihzcmMpIHtcblx0XHRpZiAoLS10aGlzLl9sb2FkQ291bnQgPT0gMCkge1xuXHRcdFx0dGhpcy5fY2FsY3VsYXRlRnJhbWVzKCk7XG5cdFx0XHR0aGlzLmNvbXBsZXRlID0gdHJ1ZTtcblx0XHRcdHRoaXMuZGlzcGF0Y2hFdmVudChcImNvbXBsZXRlXCIpO1xuXHRcdH1cblx0fTtcblxuXHQvKipcblx0ICogQG1ldGhvZCBfaGFuZGxlSW1hZ2VFcnJvclxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqL1xuXHRwLl9oYW5kbGVJbWFnZUVycm9yID0gZnVuY3Rpb24gKHNyYykge1xuXHRcdHZhciBlcnJvckV2ZW50ID0gbmV3IGNyZWF0ZWpzLkV2ZW50KFwiZXJyb3JcIik7XG5cdFx0ZXJyb3JFdmVudC5zcmMgPSBzcmM7XG5cdFx0dGhpcy5kaXNwYXRjaEV2ZW50KGVycm9yRXZlbnQpO1xuXG5cdFx0Ly8gQ29tcGxldGUgaXMgc3RpbGwgZGlzcGF0Y2hlZC5cblx0XHRpZiAoLS10aGlzLl9sb2FkQ291bnQgPT0gMCkge1xuXHRcdFx0dGhpcy5kaXNwYXRjaEV2ZW50KFwiY29tcGxldGVcIik7XG5cdFx0fVxuXHR9O1xuXG5cdC8qKlxuXHQgKiBAbWV0aG9kIF9jYWxjdWxhdGVGcmFtZXNcblx0ICogQHByb3RlY3RlZFxuXHQgKiovXG5cdHAuX2NhbGN1bGF0ZUZyYW1lcyA9IGZ1bmN0aW9uKCkge1xuXHRcdGlmICh0aGlzLl9mcmFtZXMgfHwgdGhpcy5fZnJhbWVXaWR0aCA9PSAwKSB7IHJldHVybjsgfVxuXG5cdFx0dGhpcy5fZnJhbWVzID0gW107XG5cblx0XHR2YXIgbWF4RnJhbWVzID0gdGhpcy5fbnVtRnJhbWVzIHx8IDEwMDAwMDsgLy8gaWYgd2UgZ28gb3ZlciB0aGlzLCBzb21ldGhpbmcgaXMgd3JvbmcuXG5cdFx0dmFyIGZyYW1lQ291bnQgPSAwLCBmcmFtZVdpZHRoID0gdGhpcy5fZnJhbWVXaWR0aCwgZnJhbWVIZWlnaHQgPSB0aGlzLl9mcmFtZUhlaWdodDtcblx0XHR2YXIgc3BhY2luZyA9IHRoaXMuX3NwYWNpbmcsIG1hcmdpbiA9IHRoaXMuX21hcmdpbjtcblx0XHRcblx0XHRpbWdMb29wOlxuXHRcdGZvciAodmFyIGk9MCwgaW1ncz10aGlzLl9pbWFnZXM7IGk8aW1ncy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGltZyA9IGltZ3NbaV0sIGltZ1cgPSAoaW1nLndpZHRofHxpbWcubmF0dXJhbFdpZHRoKSwgaW1nSCA9IChpbWcuaGVpZ2h0fHxpbWcubmF0dXJhbEhlaWdodCk7XG5cblx0XHRcdHZhciB5ID0gbWFyZ2luO1xuXHRcdFx0d2hpbGUgKHkgPD0gaW1nSC1tYXJnaW4tZnJhbWVIZWlnaHQpIHtcblx0XHRcdFx0dmFyIHggPSBtYXJnaW47XG5cdFx0XHRcdHdoaWxlICh4IDw9IGltZ1ctbWFyZ2luLWZyYW1lV2lkdGgpIHtcblx0XHRcdFx0XHRpZiAoZnJhbWVDb3VudCA+PSBtYXhGcmFtZXMpIHsgYnJlYWsgaW1nTG9vcDsgfVxuXHRcdFx0XHRcdGZyYW1lQ291bnQrKztcblx0XHRcdFx0XHR0aGlzLl9mcmFtZXMucHVzaCh7XG5cdFx0XHRcdFx0XHRcdGltYWdlOiBpbWcsXG5cdFx0XHRcdFx0XHRcdHJlY3Q6IG5ldyBjcmVhdGVqcy5SZWN0YW5nbGUoeCwgeSwgZnJhbWVXaWR0aCwgZnJhbWVIZWlnaHQpLFxuXHRcdFx0XHRcdFx0XHRyZWdYOiB0aGlzLl9yZWdYLFxuXHRcdFx0XHRcdFx0XHRyZWdZOiB0aGlzLl9yZWdZXG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR4ICs9IGZyYW1lV2lkdGgrc3BhY2luZztcblx0XHRcdFx0fVxuXHRcdFx0XHR5ICs9IGZyYW1lSGVpZ2h0K3NwYWNpbmc7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHRoaXMuX251bUZyYW1lcyA9IGZyYW1lQ291bnQ7XG5cdH07XG5cblxuXHRjcmVhdGVqcy5TcHJpdGVTaGVldCA9IGNyZWF0ZWpzLnByb21vdGUoU3ByaXRlU2hlZXQsIFwiRXZlbnREaXNwYXRjaGVyXCIpO1xufSgpKTtcblxuLy8jIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyNcbi8vIEdyYXBoaWNzLmpzXG4vLyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI1xuXG4oZnVuY3Rpb24oKSB7XG5cdFwidXNlIHN0cmljdFwiO1xuXG5cbi8vIGNvbnN0cnVjdG9yOlxuXHQvKipcblx0ICogVGhlIEdyYXBoaWNzIGNsYXNzIGV4cG9zZXMgYW4gZWFzeSB0byB1c2UgQVBJIGZvciBnZW5lcmF0aW5nIHZlY3RvciBkcmF3aW5nIGluc3RydWN0aW9ucyBhbmQgZHJhd2luZyB0aGVtIHRvIGFcblx0ICogc3BlY2lmaWVkIGNvbnRleHQuIE5vdGUgdGhhdCB5b3UgY2FuIHVzZSBHcmFwaGljcyB3aXRob3V0IGFueSBkZXBlbmRlbmN5IG9uIHRoZSBFYXNlbEpTIGZyYW1ld29yayBieSBjYWxsaW5nIHt7I2Nyb3NzTGluayBcIkdyYXBoaWNzL2RyYXdcIn19e3svY3Jvc3NMaW5rfX1cblx0ICogZGlyZWN0bHksIG9yIGl0IGNhbiBiZSB1c2VkIHdpdGggdGhlIHt7I2Nyb3NzTGluayBcIlNoYXBlXCJ9fXt7L2Nyb3NzTGlua319IG9iamVjdCB0byBkcmF3IHZlY3RvciBncmFwaGljcyB3aXRoaW4gdGhlXG5cdCAqIGNvbnRleHQgb2YgYW4gRWFzZWxKUyBkaXNwbGF5IGxpc3QuXG5cdCAqXG5cdCAqIFRoZXJlIGFyZSB0d28gYXBwcm9hY2hlcyB0byB3b3JraW5nIHdpdGggR3JhcGhpY3Mgb2JqZWN0OiBjYWxsaW5nIG1ldGhvZHMgb24gYSBHcmFwaGljcyBpbnN0YW5jZSAodGhlIFwiR3JhcGhpY3MgQVBJXCIpLCBvclxuXHQgKiBpbnN0YW50aWF0aW5nIEdyYXBoaWNzIGNvbW1hbmQgb2JqZWN0cyBhbmQgYWRkaW5nIHRoZW0gdG8gdGhlIGdyYXBoaWNzIHF1ZXVlIHZpYSB7eyNjcm9zc0xpbmsgXCJHcmFwaGljcy9hcHBlbmRcIn19e3svY3Jvc3NMaW5rfX0uXG5cdCAqIFRoZSBmb3JtZXIgYWJzdHJhY3RzIHRoZSBsYXR0ZXIsIHNpbXBsaWZ5aW5nIGJlZ2lubmluZyBhbmQgZW5kaW5nIHBhdGhzLCBmaWxscywgYW5kIHN0cm9rZXMuXG5cdCAqXG5cdCAqICAgICAgdmFyIGcgPSBuZXcgY3JlYXRlanMuR3JhcGhpY3MoKTtcblx0ICogICAgICBnLnNldFN0cm9rZVN0eWxlKDEpO1xuXHQgKiAgICAgIGcuYmVnaW5TdHJva2UoXCIjMDAwMDAwXCIpO1xuXHQgKiAgICAgIGcuYmVnaW5GaWxsKFwicmVkXCIpO1xuXHQgKiAgICAgIGcuZHJhd0NpcmNsZSgwLDAsMzApO1xuXHQgKlxuXHQgKiBBbGwgZHJhd2luZyBtZXRob2RzIGluIEdyYXBoaWNzIHJldHVybiB0aGUgR3JhcGhpY3MgaW5zdGFuY2UsIHNvIHRoZXkgY2FuIGJlIGNoYWluZWQgdG9nZXRoZXIuIEZvciBleGFtcGxlLFxuXHQgKiB0aGUgZm9sbG93aW5nIGxpbmUgb2YgY29kZSB3b3VsZCBnZW5lcmF0ZSB0aGUgaW5zdHJ1Y3Rpb25zIHRvIGRyYXcgYSByZWN0YW5nbGUgd2l0aCBhIHJlZCBzdHJva2UgYW5kIGJsdWUgZmlsbDpcblx0ICpcblx0ICogICAgICBteUdyYXBoaWNzLmJlZ2luU3Ryb2tlKFwicmVkXCIpLmJlZ2luRmlsbChcImJsdWVcIikuZHJhd1JlY3QoMjAsIDIwLCAxMDAsIDUwKTtcblx0ICpcblx0ICogRWFjaCBncmFwaGljcyBBUEkgY2FsbCBnZW5lcmF0ZXMgYSBjb21tYW5kIG9iamVjdCAoc2VlIGJlbG93KS4gVGhlIGxhc3QgY29tbWFuZCB0byBiZSBjcmVhdGVkIGNhbiBiZSBhY2Nlc3NlZCB2aWFcblx0ICoge3sjY3Jvc3NMaW5rIFwiR3JhcGhpY3MvY29tbWFuZDpwcm9wZXJ0eVwifX17ey9jcm9zc0xpbmt9fTpcblx0ICpcblx0ICogICAgICB2YXIgZmlsbENvbW1hbmQgPSBteUdyYXBoaWNzLmJlZ2luRmlsbChcInJlZFwiKS5jb21tYW5kO1xuXHQgKiAgICAgIC8vIC4uLiBsYXRlciwgdXBkYXRlIHRoZSBmaWxsIHN0eWxlL2NvbG9yOlxuXHQgKiAgICAgIGZpbGxDb21tYW5kLnN0eWxlID0gXCJibHVlXCI7XG5cdCAqICAgICAgLy8gb3IgY2hhbmdlIGl0IHRvIGEgYml0bWFwIGZpbGw6XG5cdCAqICAgICAgZmlsbENvbW1hbmQuYml0bWFwKG15SW1hZ2UpO1xuXHQgKlxuXHQgKiBGb3IgbW9yZSBkaXJlY3QgY29udHJvbCBvZiByZW5kZXJpbmcsIHlvdSBjYW4gaW5zdGFudGlhdGUgYW5kIGFwcGVuZCBjb21tYW5kIG9iamVjdHMgdG8gdGhlIGdyYXBoaWNzIHF1ZXVlIGRpcmVjdGx5LiBJbiB0aGlzIGNhc2UsIHlvdVxuXHQgKiBuZWVkIHRvIG1hbmFnZSBwYXRoIGNyZWF0aW9uIG1hbnVhbGx5LCBhbmQgZW5zdXJlIHRoYXQgZmlsbC9zdHJva2UgaXMgYXBwbGllZCB0byBhIGRlZmluZWQgcGF0aDpcblx0ICpcblx0ICogICAgICAvLyBzdGFydCBhIG5ldyBwYXRoLiBHcmFwaGljcy5iZWdpbkNtZCBpcyBhIHJldXNhYmxlIEJlZ2luUGF0aCBpbnN0YW5jZTpcblx0ICogICAgICBteUdyYXBoaWNzLmFwcGVuZChjcmVhdGVqcy5HcmFwaGljcy5iZWdpbkNtZCk7XG5cdCAqICAgICAgLy8gd2UgbmVlZCB0byBkZWZpbmUgdGhlIHBhdGggYmVmb3JlIGFwcGx5aW5nIHRoZSBmaWxsOlxuXHQgKiAgICAgIHZhciBjaXJjbGUgPSBuZXcgY3JlYXRlanMuR3JhcGhpY3MuQ2lyY2xlKDAsMCwzMCk7XG5cdCAqICAgICAgbXlHcmFwaGljcy5hcHBlbmQoY2lyY2xlKTtcblx0ICogICAgICAvLyBmaWxsIHRoZSBwYXRoIHdlIGp1c3QgZGVmaW5lZDpcblx0ICogICAgICB2YXIgZmlsbCA9IG5ldyBjcmVhdGVqcy5HcmFwaGljcy5GaWxsKFwicmVkXCIpO1xuXHQgKiAgICAgIG15R3JhcGhpY3MuYXBwZW5kKGZpbGwpO1xuXHQgKlxuXHQgKiBUaGVzZSBhcHByb2FjaGVzIGNhbiBiZSB1c2VkIHRvZ2V0aGVyLCBmb3IgZXhhbXBsZSB0byBpbnNlcnQgYSBjdXN0b20gY29tbWFuZDpcblx0ICpcblx0ICogICAgICBteUdyYXBoaWNzLmJlZ2luRmlsbChcInJlZFwiKTtcblx0ICogICAgICB2YXIgY3VzdG9tQ29tbWFuZCA9IG5ldyBDdXN0b21TcGlyYWxDb21tYW5kKGV0Yyk7XG5cdCAqICAgICAgbXlHcmFwaGljcy5hcHBlbmQoY3VzdG9tQ29tbWFuZCk7XG5cdCAqICAgICAgbXlHcmFwaGljcy5iZWdpbkZpbGwoXCJibHVlXCIpO1xuXHQgKiAgICAgIG15R3JhcGhpY3MuZHJhd0NpcmNsZSgwLCAwLCAzMCk7XG5cdCAqXG5cdCAqIFNlZSB7eyNjcm9zc0xpbmsgXCJHcmFwaGljcy9hcHBlbmRcIn19e3svY3Jvc3NMaW5rfX0gZm9yIG1vcmUgaW5mbyBvbiBjcmVhdGluZyBjdXN0b20gY29tbWFuZHMuXG5cdCAqXG5cdCAqIDxoND5UaW55IEFQSTwvaDQ+XG5cdCAqIFRoZSBHcmFwaGljcyBjbGFzcyBhbHNvIGluY2x1ZGVzIGEgXCJ0aW55IEFQSVwiLCB3aGljaCBpcyBvbmUgb3IgdHdvLWxldHRlciBtZXRob2RzIHRoYXQgYXJlIHNob3J0Y3V0cyBmb3IgYWxsIG9mIHRoZVxuXHQgKiBHcmFwaGljcyBtZXRob2RzLiBUaGVzZSBtZXRob2RzIGFyZSBncmVhdCBmb3IgY3JlYXRpbmcgY29tcGFjdCBpbnN0cnVjdGlvbnMsIGFuZCBpcyB1c2VkIGJ5IHRoZSBUb29sa2l0IGZvciBDcmVhdGVKU1xuXHQgKiB0byBnZW5lcmF0ZSByZWFkYWJsZSBjb2RlLiBBbGwgdGlueSBtZXRob2RzIGFyZSBtYXJrZWQgYXMgcHJvdGVjdGVkLCBzbyB5b3UgY2FuIHZpZXcgdGhlbSBieSBlbmFibGluZyBwcm90ZWN0ZWRcblx0ICogZGVzY3JpcHRpb25zIGluIHRoZSBkb2NzLlxuXHQgKlxuXHQgKiA8dGFibGU+XG5cdCAqICAgICA8dHI+PHRkPjxiPlRpbnk8L2I+PC90ZD48dGQ+PGI+TWV0aG9kPC9iPjwvdGQ+PHRkPjxiPlRpbnk8L2I+PC90ZD48dGQ+PGI+TWV0aG9kPC9iPjwvdGQ+PC90cj5cblx0ICogICAgIDx0cj48dGQ+bXQ8L3RkPjx0ZD57eyNjcm9zc0xpbmsgXCJHcmFwaGljcy9tb3ZlVG9cIn19e3svY3Jvc3NMaW5rfX0gPC90ZD5cblx0ICogICAgIDx0ZD5sdDwvdGQ+IDx0ZD57eyNjcm9zc0xpbmsgXCJHcmFwaGljcy9saW5lVG9cIn19e3svY3Jvc3NMaW5rfX08L3RkPjwvdHI+XG5cdCAqICAgICA8dHI+PHRkPmEvYXQ8L3RkPjx0ZD57eyNjcm9zc0xpbmsgXCJHcmFwaGljcy9hcmNcIn19e3svY3Jvc3NMaW5rfX0gLyB7eyNjcm9zc0xpbmsgXCJHcmFwaGljcy9hcmNUb1wifX17ey9jcm9zc0xpbmt9fSA8L3RkPlxuXHQgKiAgICAgPHRkPmJ0PC90ZD48dGQ+e3sjY3Jvc3NMaW5rIFwiR3JhcGhpY3MvYmV6aWVyQ3VydmVUb1wifX17ey9jcm9zc0xpbmt9fSA8L3RkPjwvdHI+XG5cdCAqICAgICA8dHI+PHRkPnF0PC90ZD48dGQ+e3sjY3Jvc3NMaW5rIFwiR3JhcGhpY3MvcXVhZHJhdGljQ3VydmVUb1wifX17ey9jcm9zc0xpbmt9fSAoYWxzbyBjdXJ2ZVRvKTwvdGQ+XG5cdCAqICAgICA8dGQ+cjwvdGQ+PHRkPnt7I2Nyb3NzTGluayBcIkdyYXBoaWNzL3JlY3RcIn19e3svY3Jvc3NMaW5rfX0gPC90ZD48L3RyPlxuXHQgKiAgICAgPHRyPjx0ZD5jcDwvdGQ+PHRkPnt7I2Nyb3NzTGluayBcIkdyYXBoaWNzL2Nsb3NlUGF0aFwifX17ey9jcm9zc0xpbmt9fSA8L3RkPlxuXHQgKiAgICAgPHRkPmM8L3RkPjx0ZD57eyNjcm9zc0xpbmsgXCJHcmFwaGljcy9jbGVhclwifX17ey9jcm9zc0xpbmt9fSA8L3RkPjwvdHI+XG5cdCAqICAgICA8dHI+PHRkPmY8L3RkPjx0ZD57eyNjcm9zc0xpbmsgXCJHcmFwaGljcy9iZWdpbkZpbGxcIn19e3svY3Jvc3NMaW5rfX0gPC90ZD5cblx0ICogICAgIDx0ZD5sZjwvdGQ+PHRkPnt7I2Nyb3NzTGluayBcIkdyYXBoaWNzL2JlZ2luTGluZWFyR3JhZGllbnRGaWxsXCJ9fXt7L2Nyb3NzTGlua319IDwvdGQ+PC90cj5cblx0ICogICAgIDx0cj48dGQ+cmY8L3RkPjx0ZD57eyNjcm9zc0xpbmsgXCJHcmFwaGljcy9iZWdpblJhZGlhbEdyYWRpZW50RmlsbFwifX17ey9jcm9zc0xpbmt9fSA8L3RkPlxuXHQgKiAgICAgPHRkPmJmPC90ZD48dGQ+e3sjY3Jvc3NMaW5rIFwiR3JhcGhpY3MvYmVnaW5CaXRtYXBGaWxsXCJ9fXt7L2Nyb3NzTGlua319IDwvdGQ+PC90cj5cblx0ICogICAgIDx0cj48dGQ+ZWY8L3RkPjx0ZD57eyNjcm9zc0xpbmsgXCJHcmFwaGljcy9lbmRGaWxsXCJ9fXt7L2Nyb3NzTGlua319IDwvdGQ+XG5cdCAqICAgICA8dGQ+c3MgLyBzZDwvdGQ+PHRkPnt7I2Nyb3NzTGluayBcIkdyYXBoaWNzL3NldFN0cm9rZVN0eWxlXCJ9fXt7L2Nyb3NzTGlua319IC8ge3sjY3Jvc3NMaW5rIFwiR3JhcGhpY3Mvc2V0U3Ryb2tlRGFzaFwifX17ey9jcm9zc0xpbmt9fSA8L3RkPjwvdHI+XG5cdCAqICAgICA8dHI+PHRkPnM8L3RkPjx0ZD57eyNjcm9zc0xpbmsgXCJHcmFwaGljcy9iZWdpblN0cm9rZVwifX17ey9jcm9zc0xpbmt9fSA8L3RkPlxuXHQgKiAgICAgPHRkPmxzPC90ZD48dGQ+e3sjY3Jvc3NMaW5rIFwiR3JhcGhpY3MvYmVnaW5MaW5lYXJHcmFkaWVudFN0cm9rZVwifX17ey9jcm9zc0xpbmt9fSA8L3RkPjwvdHI+XG5cdCAqICAgICA8dHI+PHRkPnJzPC90ZD48dGQ+e3sjY3Jvc3NMaW5rIFwiR3JhcGhpY3MvYmVnaW5SYWRpYWxHcmFkaWVudFN0cm9rZVwifX17ey9jcm9zc0xpbmt9fSA8L3RkPlxuXHQgKiAgICAgPHRkPmJzPC90ZD48dGQ+e3sjY3Jvc3NMaW5rIFwiR3JhcGhpY3MvYmVnaW5CaXRtYXBTdHJva2VcIn19e3svY3Jvc3NMaW5rfX0gPC90ZD48L3RyPlxuXHQgKiAgICAgPHRyPjx0ZD5lczwvdGQ+PHRkPnt7I2Nyb3NzTGluayBcIkdyYXBoaWNzL2VuZFN0cm9rZVwifX17ey9jcm9zc0xpbmt9fSA8L3RkPlxuXHQgKiAgICAgPHRkPmRyPC90ZD48dGQ+e3sjY3Jvc3NMaW5rIFwiR3JhcGhpY3MvZHJhd1JlY3RcIn19e3svY3Jvc3NMaW5rfX0gPC90ZD48L3RyPlxuXHQgKiAgICAgPHRyPjx0ZD5ycjwvdGQ+PHRkPnt7I2Nyb3NzTGluayBcIkdyYXBoaWNzL2RyYXdSb3VuZFJlY3RcIn19e3svY3Jvc3NMaW5rfX0gPC90ZD5cblx0ICogICAgIDx0ZD5yYzwvdGQ+PHRkPnt7I2Nyb3NzTGluayBcIkdyYXBoaWNzL2RyYXdSb3VuZFJlY3RDb21wbGV4XCJ9fXt7L2Nyb3NzTGlua319IDwvdGQ+PC90cj5cblx0ICogICAgIDx0cj48dGQ+ZGM8L3RkPjx0ZD57eyNjcm9zc0xpbmsgXCJHcmFwaGljcy9kcmF3Q2lyY2xlXCJ9fXt7L2Nyb3NzTGlua319IDwvdGQ+XG5cdCAqICAgICA8dGQ+ZGU8L3RkPjx0ZD57eyNjcm9zc0xpbmsgXCJHcmFwaGljcy9kcmF3RWxsaXBzZVwifX17ey9jcm9zc0xpbmt9fSA8L3RkPjwvdHI+XG5cdCAqICAgICA8dHI+PHRkPmRwPC90ZD48dGQ+e3sjY3Jvc3NMaW5rIFwiR3JhcGhpY3MvZHJhd1BvbHlTdGFyXCJ9fXt7L2Nyb3NzTGlua319IDwvdGQ+XG5cdCAqICAgICA8dGQ+cDwvdGQ+PHRkPnt7I2Nyb3NzTGluayBcIkdyYXBoaWNzL2RlY29kZVBhdGhcIn19e3svY3Jvc3NMaW5rfX0gPC90ZD48L3RyPlxuXHQgKiA8L3RhYmxlPlxuXHQgKlxuXHQgKiBIZXJlIGlzIHRoZSBhYm92ZSBleGFtcGxlLCB1c2luZyB0aGUgdGlueSBBUEkgaW5zdGVhZC5cblx0ICpcblx0ICogICAgICBteUdyYXBoaWNzLnMoXCJyZWRcIikuZihcImJsdWVcIikucigyMCwgMjAsIDEwMCwgNTApO1xuXHQgKlxuXHQgKiBAY2xhc3MgR3JhcGhpY3Ncblx0ICogQGNvbnN0cnVjdG9yXG5cdCAqKi9cblx0ZnVuY3Rpb24gR3JhcGhpY3MoKSB7XG5cblxuXHQvLyBwdWJsaWMgcHJvcGVydGllc1xuXHRcdC8qKlxuXHRcdCAqIEhvbGRzIGEgcmVmZXJlbmNlIHRvIHRoZSBsYXN0IGNvbW1hbmQgdGhhdCB3YXMgY3JlYXRlZCBvciBhcHBlbmRlZC4gRm9yIGV4YW1wbGUsIHlvdSBjb3VsZCByZXRhaW4gYSByZWZlcmVuY2Vcblx0XHQgKiB0byBhIEZpbGwgY29tbWFuZCBpbiBvcmRlciB0byBkeW5hbWljYWxseSB1cGRhdGUgdGhlIGNvbG9yIGxhdGVyIGJ5IHVzaW5nOlxuXHRcdCAqXG5cdFx0ICogXHRcdHZhciBteUZpbGwgPSBteUdyYXBoaWNzLmJlZ2luRmlsbChcInJlZFwiKS5jb21tYW5kO1xuXHRcdCAqIFx0XHQvLyB1cGRhdGUgY29sb3IgbGF0ZXI6XG5cdFx0ICogXHRcdG15RmlsbC5zdHlsZSA9IFwieWVsbG93XCI7XG5cdFx0ICpcblx0XHQgKiBAcHJvcGVydHkgY29tbWFuZFxuXHRcdCAqIEB0eXBlIE9iamVjdFxuXHRcdCAqKi9cblx0XHR0aGlzLmNvbW1hbmQgPSBudWxsO1xuXG5cblx0Ly8gcHJpdmF0ZSBwcm9wZXJ0aWVzXG5cdFx0LyoqXG5cdFx0ICogQHByb3BlcnR5IF9zdHJva2Vcblx0XHQgKiBAcHJvdGVjdGVkXG5cdFx0ICogQHR5cGUge1N0cm9rZX1cblx0XHQgKiovXG5cdFx0dGhpcy5fc3Ryb2tlID0gbnVsbDtcblxuXHRcdC8qKlxuXHRcdCAqIEBwcm9wZXJ0eSBfc3Ryb2tlU3R5bGVcblx0XHQgKiBAcHJvdGVjdGVkXG5cdFx0ICogQHR5cGUge1N0cm9rZVN0eWxlfVxuXHRcdCAqKi9cblx0XHR0aGlzLl9zdHJva2VTdHlsZSA9IG51bGw7XG5cdFx0XG5cdFx0LyoqXG5cdFx0ICogQHByb3BlcnR5IF9vbGRTdHJva2VTdHlsZVxuXHRcdCAqIEBwcm90ZWN0ZWRcblx0XHQgKiBAdHlwZSB7U3Ryb2tlU3R5bGV9XG5cdFx0ICoqL1xuXHRcdHRoaXMuX29sZFN0cm9rZVN0eWxlID0gbnVsbDtcblx0XHRcblx0XHQvKipcblx0XHQgKiBAcHJvcGVydHkgX3N0cm9rZURhc2hcblx0XHQgKiBAcHJvdGVjdGVkXG5cdFx0ICogQHR5cGUge1N0cm9rZURhc2h9XG5cdFx0ICoqL1xuXHRcdHRoaXMuX3N0cm9rZURhc2ggPSBudWxsO1xuXHRcdFxuXHRcdC8qKlxuXHRcdCAqIEBwcm9wZXJ0eSBfb2xkU3Ryb2tlRGFzaFxuXHRcdCAqIEBwcm90ZWN0ZWRcblx0XHQgKiBAdHlwZSB7U3Ryb2tlRGFzaH1cblx0XHQgKiovXG5cdFx0dGhpcy5fb2xkU3Ryb2tlRGFzaCA9IG51bGw7XG5cblx0XHQvKipcblx0XHQgKiBAcHJvcGVydHkgX3N0cm9rZUlnbm9yZVNjYWxlXG5cdFx0ICogQHByb3RlY3RlZFxuXHRcdCAqIEB0eXBlIEJvb2xlYW5cblx0XHQgKiovXG5cdFx0dGhpcy5fc3Ryb2tlSWdub3JlU2NhbGUgPSBmYWxzZTtcblxuXHRcdC8qKlxuXHRcdCAqIEBwcm9wZXJ0eSBfZmlsbFxuXHRcdCAqIEBwcm90ZWN0ZWRcblx0XHQgKiBAdHlwZSB7RmlsbH1cblx0XHQgKiovXG5cdFx0dGhpcy5fZmlsbCA9IG51bGw7XG5cblx0XHQvKipcblx0XHQgKiBAcHJvcGVydHkgX2luc3RydWN0aW9uc1xuXHRcdCAqIEBwcm90ZWN0ZWRcblx0XHQgKiBAdHlwZSB7QXJyYXl9XG5cdFx0ICoqL1xuXHRcdHRoaXMuX2luc3RydWN0aW9ucyA9IFtdO1xuXG5cdFx0LyoqXG5cdFx0ICogSW5kaWNhdGVzIHRoZSBsYXN0IGluc3RydWN0aW9uIGluZGV4IHRoYXQgd2FzIGNvbW1pdHRlZC5cblx0XHQgKiBAcHJvcGVydHkgX2NvbW1pdEluZGV4XG5cdFx0ICogQHByb3RlY3RlZFxuXHRcdCAqIEB0eXBlIHtOdW1iZXJ9XG5cdFx0ICoqL1xuXHRcdHRoaXMuX2NvbW1pdEluZGV4ID0gMDtcblxuXHRcdC8qKlxuXHRcdCAqIFVuY29tbWl0dGVkIGluc3RydWN0aW9ucy5cblx0XHQgKiBAcHJvcGVydHkgX2FjdGl2ZUluc3RydWN0aW9uc1xuXHRcdCAqIEBwcm90ZWN0ZWRcblx0XHQgKiBAdHlwZSB7QXJyYXl9XG5cdFx0ICoqL1xuXHRcdHRoaXMuX2FjdGl2ZUluc3RydWN0aW9ucyA9IFtdO1xuXG5cdFx0LyoqXG5cdFx0ICogVGhpcyBpbmRpY2F0ZXMgdGhhdCB0aGVyZSBoYXZlIGJlZW4gY2hhbmdlcyB0byB0aGUgYWN0aXZlSW5zdHJ1Y3Rpb24gbGlzdCBzaW5jZSB0aGUgbGFzdCB1cGRhdGVJbnN0cnVjdGlvbnMgY2FsbC5cblx0XHQgKiBAcHJvcGVydHkgX2RpcnR5XG5cdFx0ICogQHByb3RlY3RlZFxuXHRcdCAqIEB0eXBlIHtCb29sZWFufVxuXHRcdCAqIEBkZWZhdWx0IGZhbHNlXG5cdFx0ICoqL1xuXHRcdHRoaXMuX2RpcnR5ID0gZmFsc2U7XG5cblx0XHQvKipcblx0XHQgKiBJbmRleCB0byBkcmF3IGZyb20gaWYgYSBzdG9yZSBvcGVyYXRpb24gaGFzIGhhcHBlbmVkLlxuXHRcdCAqIEBwcm9wZXJ0eSBfc3RvcmVJbmRleFxuXHRcdCAqIEBwcm90ZWN0ZWRcblx0XHQgKiBAdHlwZSB7TnVtYmVyfVxuXHRcdCAqIEBkZWZhdWx0IDBcblx0XHQgKiovXG5cdFx0dGhpcy5fc3RvcmVJbmRleCA9IDA7XG5cblx0Ly8gc2V0dXA6XG5cdFx0dGhpcy5jbGVhcigpO1xuXHR9XG5cdHZhciBwID0gR3JhcGhpY3MucHJvdG90eXBlO1xuXHR2YXIgRyA9IEdyYXBoaWNzOyAvLyBzaG9ydGN1dFxuXG4vLyBzdGF0aWMgcHVibGljIG1ldGhvZHM6XG5cdC8qKlxuXHQgKiBSZXR1cm5zIGEgQ1NTIGNvbXBhdGlibGUgY29sb3Igc3RyaW5nIGJhc2VkIG9uIHRoZSBzcGVjaWZpZWQgUkdCIG51bWVyaWMgY29sb3IgdmFsdWVzIGluIHRoZSBmb3JtYXRcblx0ICogXCJyZ2JhKDI1NSwyNTUsMjU1LDEuMClcIiwgb3IgaWYgYWxwaGEgaXMgbnVsbCB0aGVuIGluIHRoZSBmb3JtYXQgXCJyZ2IoMjU1LDI1NSwyNTUpXCIuIEZvciBleGFtcGxlLFxuXHQgKlxuXHQgKiAgICAgIGNyZWF0ZWpzLkdyYXBoaWNzLmdldFJHQig1MCwgMTAwLCAxNTAsIDAuNSk7XG5cdCAqICAgICAgLy8gUmV0dXJucyBcInJnYmEoNTAsMTAwLDE1MCwwLjUpXCJcblx0ICpcblx0ICogSXQgYWxzbyBzdXBwb3J0cyBwYXNzaW5nIGEgc2luZ2xlIGhleCBjb2xvciB2YWx1ZSBhcyB0aGUgZmlyc3QgcGFyYW0sIGFuZCBhbiBvcHRpb25hbCBhbHBoYSB2YWx1ZSBhcyB0aGUgc2Vjb25kXG5cdCAqIHBhcmFtLiBGb3IgZXhhbXBsZSxcblx0ICpcblx0ICogICAgICBjcmVhdGVqcy5HcmFwaGljcy5nZXRSR0IoMHhGRjAwRkYsIDAuMik7XG5cdCAqICAgICAgLy8gUmV0dXJucyBcInJnYmEoMjU1LDAsMjU1LDAuMilcIlxuXHQgKlxuXHQgKiBAbWV0aG9kIGdldFJHQlxuXHQgKiBAc3RhdGljXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSByIFRoZSByZWQgY29tcG9uZW50IGZvciB0aGUgY29sb3IsIGJldHdlZW4gMCBhbmQgMHhGRiAoMjU1KS5cblx0ICogQHBhcmFtIHtOdW1iZXJ9IGcgVGhlIGdyZWVuIGNvbXBvbmVudCBmb3IgdGhlIGNvbG9yLCBiZXR3ZWVuIDAgYW5kIDB4RkYgKDI1NSkuXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBiIFRoZSBibHVlIGNvbXBvbmVudCBmb3IgdGhlIGNvbG9yLCBiZXR3ZWVuIDAgYW5kIDB4RkYgKDI1NSkuXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBbYWxwaGFdIFRoZSBhbHBoYSBjb21wb25lbnQgZm9yIHRoZSBjb2xvciB3aGVyZSAwIGlzIGZ1bGx5IHRyYW5zcGFyZW50IGFuZCAxIGlzIGZ1bGx5IG9wYXF1ZS5cblx0ICogQHJldHVybiB7U3RyaW5nfSBBIENTUyBjb21wYXRpYmxlIGNvbG9yIHN0cmluZyBiYXNlZCBvbiB0aGUgc3BlY2lmaWVkIFJHQiBudW1lcmljIGNvbG9yIHZhbHVlcyBpbiB0aGUgZm9ybWF0XG5cdCAqIFwicmdiYSgyNTUsMjU1LDI1NSwxLjApXCIsIG9yIGlmIGFscGhhIGlzIG51bGwgdGhlbiBpbiB0aGUgZm9ybWF0IFwicmdiKDI1NSwyNTUsMjU1KVwiLlxuXHQgKiovXG5cdEdyYXBoaWNzLmdldFJHQiA9IGZ1bmN0aW9uKHIsIGcsIGIsIGFscGhhKSB7XG5cdFx0aWYgKHIgIT0gbnVsbCAmJiBiID09IG51bGwpIHtcblx0XHRcdGFscGhhID0gZztcblx0XHRcdGIgPSByJjB4RkY7XG5cdFx0XHRnID0gcj4+OCYweEZGO1xuXHRcdFx0ciA9IHI+PjE2JjB4RkY7XG5cdFx0fVxuXHRcdGlmIChhbHBoYSA9PSBudWxsKSB7XG5cdFx0XHRyZXR1cm4gXCJyZ2IoXCIrcitcIixcIitnK1wiLFwiK2IrXCIpXCI7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiBcInJnYmEoXCIrcitcIixcIitnK1wiLFwiK2IrXCIsXCIrYWxwaGErXCIpXCI7XG5cdFx0fVxuXHR9O1xuXG5cdC8qKlxuXHQgKiBSZXR1cm5zIGEgQ1NTIGNvbXBhdGlibGUgY29sb3Igc3RyaW5nIGJhc2VkIG9uIHRoZSBzcGVjaWZpZWQgSFNMIG51bWVyaWMgY29sb3IgdmFsdWVzIGluIHRoZSBmb3JtYXQgXCJoc2xhKDM2MCwxMDAsMTAwLDEuMClcIixcblx0ICogb3IgaWYgYWxwaGEgaXMgbnVsbCB0aGVuIGluIHRoZSBmb3JtYXQgXCJoc2woMzYwLDEwMCwxMDApXCIuXG5cdCAqXG5cdCAqICAgICAgY3JlYXRlanMuR3JhcGhpY3MuZ2V0SFNMKDE1MCwgMTAwLCA3MCk7XG5cdCAqICAgICAgLy8gUmV0dXJucyBcImhzbCgxNTAsMTAwLDcwKVwiXG5cdCAqXG5cdCAqIEBtZXRob2QgZ2V0SFNMXG5cdCAqIEBzdGF0aWNcblx0ICogQHBhcmFtIHtOdW1iZXJ9IGh1ZSBUaGUgaHVlIGNvbXBvbmVudCBmb3IgdGhlIGNvbG9yLCBiZXR3ZWVuIDAgYW5kIDM2MC5cblx0ICogQHBhcmFtIHtOdW1iZXJ9IHNhdHVyYXRpb24gVGhlIHNhdHVyYXRpb24gY29tcG9uZW50IGZvciB0aGUgY29sb3IsIGJldHdlZW4gMCBhbmQgMTAwLlxuXHQgKiBAcGFyYW0ge051bWJlcn0gbGlnaHRuZXNzIFRoZSBsaWdodG5lc3MgY29tcG9uZW50IGZvciB0aGUgY29sb3IsIGJldHdlZW4gMCBhbmQgMTAwLlxuXHQgKiBAcGFyYW0ge051bWJlcn0gW2FscGhhXSBUaGUgYWxwaGEgY29tcG9uZW50IGZvciB0aGUgY29sb3Igd2hlcmUgMCBpcyBmdWxseSB0cmFuc3BhcmVudCBhbmQgMSBpcyBmdWxseSBvcGFxdWUuXG5cdCAqIEByZXR1cm4ge1N0cmluZ30gQSBDU1MgY29tcGF0aWJsZSBjb2xvciBzdHJpbmcgYmFzZWQgb24gdGhlIHNwZWNpZmllZCBIU0wgbnVtZXJpYyBjb2xvciB2YWx1ZXMgaW4gdGhlIGZvcm1hdFxuXHQgKiBcImhzbGEoMzYwLDEwMCwxMDAsMS4wKVwiLCBvciBpZiBhbHBoYSBpcyBudWxsIHRoZW4gaW4gdGhlIGZvcm1hdCBcImhzbCgzNjAsMTAwLDEwMClcIi5cblx0ICoqL1xuXHRHcmFwaGljcy5nZXRIU0wgPSBmdW5jdGlvbihodWUsIHNhdHVyYXRpb24sIGxpZ2h0bmVzcywgYWxwaGEpIHtcblx0XHRpZiAoYWxwaGEgPT0gbnVsbCkge1xuXHRcdFx0cmV0dXJuIFwiaHNsKFwiKyhodWUlMzYwKStcIixcIitzYXR1cmF0aW9uK1wiJSxcIitsaWdodG5lc3MrXCIlKVwiO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gXCJoc2xhKFwiKyhodWUlMzYwKStcIixcIitzYXR1cmF0aW9uK1wiJSxcIitsaWdodG5lc3MrXCIlLFwiK2FscGhhK1wiKVwiO1xuXHRcdH1cblx0fTtcblxuXG4vLyBzdGF0aWMgcHJvcGVydGllczpcblx0LyoqXG5cdCAqIEEgcmV1c2FibGUgaW5zdGFuY2Ugb2Yge3sjY3Jvc3NMaW5rIFwiR3JhcGhpY3MvQmVnaW5QYXRoXCJ9fXt7L2Nyb3NzTGlua319IHRvIGF2b2lkXG5cdCAqIHVubmVjZXNzYXJ5IGluc3RhbnRpYXRpb24uXG5cdCAqIEBwcm9wZXJ0eSBiZWdpbkNtZFxuXHQgKiBAdHlwZSB7R3JhcGhpY3MuQmVnaW5QYXRofVxuXHQgKiBAc3RhdGljXG5cdCAqKi9cblx0IC8vIGRlZmluZWQgYXQgdGhlIGJvdHRvbSBvZiB0aGlzIGZpbGUuXG5cblx0LyoqXG5cdCAqIE1hcCBvZiBCYXNlNjQgY2hhcmFjdGVycyB0byB2YWx1ZXMuIFVzZWQgYnkge3sjY3Jvc3NMaW5rIFwiR3JhcGhpY3MvZGVjb2RlUGF0aFwifX17ey9jcm9zc0xpbmt9fS5cblx0ICogQHByb3BlcnR5IEJBU0VfNjRcblx0ICogQHN0YXRpY1xuXHQgKiBAZmluYWxcblx0ICogQHJlYWRvbmx5XG5cdCAqIEB0eXBlIHtPYmplY3R9XG5cdCAqKi9cblx0R3JhcGhpY3MuQkFTRV82NCA9IHtcIkFcIjowLFwiQlwiOjEsXCJDXCI6MixcIkRcIjozLFwiRVwiOjQsXCJGXCI6NSxcIkdcIjo2LFwiSFwiOjcsXCJJXCI6OCxcIkpcIjo5LFwiS1wiOjEwLFwiTFwiOjExLFwiTVwiOjEyLFwiTlwiOjEzLFwiT1wiOjE0LFwiUFwiOjE1LFwiUVwiOjE2LFwiUlwiOjE3LFwiU1wiOjE4LFwiVFwiOjE5LFwiVVwiOjIwLFwiVlwiOjIxLFwiV1wiOjIyLFwiWFwiOjIzLFwiWVwiOjI0LFwiWlwiOjI1LFwiYVwiOjI2LFwiYlwiOjI3LFwiY1wiOjI4LFwiZFwiOjI5LFwiZVwiOjMwLFwiZlwiOjMxLFwiZ1wiOjMyLFwiaFwiOjMzLFwiaVwiOjM0LFwialwiOjM1LFwia1wiOjM2LFwibFwiOjM3LFwibVwiOjM4LFwiblwiOjM5LFwib1wiOjQwLFwicFwiOjQxLFwicVwiOjQyLFwiclwiOjQzLFwic1wiOjQ0LFwidFwiOjQ1LFwidVwiOjQ2LFwidlwiOjQ3LFwid1wiOjQ4LFwieFwiOjQ5LFwieVwiOjUwLFwielwiOjUxLFwiMFwiOjUyLFwiMVwiOjUzLFwiMlwiOjU0LFwiM1wiOjU1LFwiNFwiOjU2LFwiNVwiOjU3LFwiNlwiOjU4LFwiN1wiOjU5LFwiOFwiOjYwLFwiOVwiOjYxLFwiK1wiOjYyLFwiL1wiOjYzfTtcblxuXHQvKipcblx0ICogTWFwcyBudW1lcmljIHZhbHVlcyBmb3IgdGhlIGNhcHMgcGFyYW1ldGVyIG9mIHt7I2Nyb3NzTGluayBcIkdyYXBoaWNzL3NldFN0cm9rZVN0eWxlXCJ9fXt7L2Nyb3NzTGlua319IHRvXG5cdCAqIGNvcnJlc3BvbmRpbmcgc3RyaW5nIHZhbHVlcy4gVGhpcyBpcyBwcmltYXJpbHkgZm9yIHVzZSB3aXRoIHRoZSB0aW55IEFQSS4gVGhlIG1hcHBpbmdzIGFyZSBhcyBmb2xsb3dzOiAwIHRvXG5cdCAqIFwiYnV0dFwiLCAxIHRvIFwicm91bmRcIiwgYW5kIDIgdG8gXCJzcXVhcmVcIi5cblx0ICogRm9yIGV4YW1wbGUsIHRvIHNldCB0aGUgbGluZSBjYXBzIHRvIFwic3F1YXJlXCI6XG5cdCAqXG5cdCAqICAgICAgbXlHcmFwaGljcy5zcygxNiwgMik7XG5cdCAqXG5cdCAqIEBwcm9wZXJ0eSBTVFJPS0VfQ0FQU19NQVBcblx0ICogQHN0YXRpY1xuXHQgKiBAZmluYWxcblx0ICogQHJlYWRvbmx5XG5cdCAqIEB0eXBlIHtBcnJheX1cblx0ICoqL1xuXHRHcmFwaGljcy5TVFJPS0VfQ0FQU19NQVAgPSBbXCJidXR0XCIsIFwicm91bmRcIiwgXCJzcXVhcmVcIl07XG5cblx0LyoqXG5cdCAqIE1hcHMgbnVtZXJpYyB2YWx1ZXMgZm9yIHRoZSBqb2ludHMgcGFyYW1ldGVyIG9mIHt7I2Nyb3NzTGluayBcIkdyYXBoaWNzL3NldFN0cm9rZVN0eWxlXCJ9fXt7L2Nyb3NzTGlua319IHRvXG5cdCAqIGNvcnJlc3BvbmRpbmcgc3RyaW5nIHZhbHVlcy4gVGhpcyBpcyBwcmltYXJpbHkgZm9yIHVzZSB3aXRoIHRoZSB0aW55IEFQSS4gVGhlIG1hcHBpbmdzIGFyZSBhcyBmb2xsb3dzOiAwIHRvXG5cdCAqIFwibWl0ZXJcIiwgMSB0byBcInJvdW5kXCIsIGFuZCAyIHRvIFwiYmV2ZWxcIi5cblx0ICogRm9yIGV4YW1wbGUsIHRvIHNldCB0aGUgbGluZSBqb2ludHMgdG8gXCJiZXZlbFwiOlxuXHQgKlxuXHQgKiAgICAgIG15R3JhcGhpY3Muc3MoMTYsIDAsIDIpO1xuXHQgKlxuXHQgKiBAcHJvcGVydHkgU1RST0tFX0pPSU5UU19NQVBcblx0ICogQHN0YXRpY1xuXHQgKiBAZmluYWxcblx0ICogQHJlYWRvbmx5XG5cdCAqIEB0eXBlIHtBcnJheX1cblx0ICoqL1xuXHRHcmFwaGljcy5TVFJPS0VfSk9JTlRTX01BUCA9IFtcIm1pdGVyXCIsIFwicm91bmRcIiwgXCJiZXZlbFwiXTtcblxuXHQvKipcblx0ICogQHByb3BlcnR5IF9jdHhcblx0ICogQHN0YXRpY1xuXHQgKiBAcHJvdGVjdGVkXG5cdCAqIEB0eXBlIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9XG5cdCAqKi9cblx0dmFyIGNhbnZhcyA9IChjcmVhdGVqcy5jcmVhdGVDYW52YXM/Y3JlYXRlanMuY3JlYXRlQ2FudmFzKCk6ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKSk7XG5cdGlmIChjYW52YXMuZ2V0Q29udGV4dCkge1xuXHRcdEdyYXBoaWNzLl9jdHggPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuXHRcdGNhbnZhcy53aWR0aCA9IGNhbnZhcy5oZWlnaHQgPSAxO1xuXHR9XG5cblxuLy8gZ2V0dGVyIC8gc2V0dGVyczpcblx0LyoqXG5cdCAqIFVzZSB0aGUge3sjY3Jvc3NMaW5rIFwiR3JhcGhpY3MvaW5zdHJ1Y3Rpb25zOnByb3BlcnR5XCJ9fXt7L2Nyb3NzTGlua319IHByb3BlcnR5IGluc3RlYWQuXG5cdCAqIEBtZXRob2QgX2dldEluc3RydWN0aW9uc1xuXHQgKiBAcHJvdGVjdGVkXG5cdCAqIEByZXR1cm4ge0FycmF5fSBUaGUgaW5zdHJ1Y3Rpb25zIGFycmF5LCB1c2VmdWwgZm9yIGNoYWluaW5nXG5cdCAqKi9cblx0cC5fZ2V0SW5zdHJ1Y3Rpb25zID0gZnVuY3Rpb24oKSB7XG5cdFx0dGhpcy5fdXBkYXRlSW5zdHJ1Y3Rpb25zKCk7XG5cdFx0cmV0dXJuIHRoaXMuX2luc3RydWN0aW9ucztcblx0fTtcblx0Ly8gR3JhcGhpY3MuZ2V0SW5zdHJ1Y3Rpb25zIGlzIEBkZXByZWNhdGVkLiBSZW1vdmUgZm9yIDEuMStcblx0cC5nZXRJbnN0cnVjdGlvbnMgPSBjcmVhdGVqcy5kZXByZWNhdGUocC5fZ2V0SW5zdHJ1Y3Rpb25zLCBcIkdyYXBoaWNzLmdldEluc3RydWN0aW9uc1wiKTtcblxuXHQvKipcblx0ICogUmV0dXJucyB0aGUgZ3JhcGhpY3MgaW5zdHJ1Y3Rpb25zIGFycmF5LiBFYWNoIGVudHJ5IGlzIGEgZ3JhcGhpY3MgY29tbWFuZCBvYmplY3QgKGV4LiBHcmFwaGljcy5GaWxsLCBHcmFwaGljcy5SZWN0KVxuXHQgKiBNb2RpZnlpbmcgdGhlIHJldHVybmVkIGFycmF5IGRpcmVjdGx5IGlzIG5vdCByZWNvbW1lbmRlZCwgYW5kIGlzIGxpa2VseSB0byByZXN1bHQgaW4gdW5leHBlY3RlZCBiZWhhdmlvdXIuXG5cdCAqXG5cdCAqIFRoaXMgcHJvcGVydHkgaXMgbWFpbmx5IGludGVuZGVkIGZvciBpbnRyb3NwZWN0aW9uIG9mIHRoZSBpbnN0cnVjdGlvbnMgKGV4LiBmb3IgZ3JhcGhpY3MgZXhwb3J0KS5cblx0ICogQHByb3BlcnR5IGluc3RydWN0aW9uc1xuXHQgKiBAdHlwZSB7QXJyYXl9XG5cdCAqIEByZWFkb25seVxuXHQgKiovXG5cdHRyeSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnRpZXMocCwge1xuXHRcdFx0aW5zdHJ1Y3Rpb25zOiB7IGdldDogcC5fZ2V0SW5zdHJ1Y3Rpb25zIH1cblx0XHR9KTtcblx0fSBjYXRjaCAoZSkge31cblxuXG4vLyBwdWJsaWMgbWV0aG9kczpcblx0LyoqXG5cdCAqIFJldHVybnMgdHJ1ZSBpZiB0aGlzIEdyYXBoaWNzIGluc3RhbmNlIGhhcyBubyBkcmF3aW5nIGNvbW1hbmRzLlxuXHQgKiBAbWV0aG9kIGlzRW1wdHlcblx0ICogQHJldHVybiB7Qm9vbGVhbn0gUmV0dXJucyB0cnVlIGlmIHRoaXMgR3JhcGhpY3MgaW5zdGFuY2UgaGFzIG5vIGRyYXdpbmcgY29tbWFuZHMuXG5cdCAqKi9cblx0cC5pc0VtcHR5ID0gZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuICEodGhpcy5faW5zdHJ1Y3Rpb25zLmxlbmd0aCB8fCB0aGlzLl9hY3RpdmVJbnN0cnVjdGlvbnMubGVuZ3RoKTtcblx0fTtcblxuXHQvKipcblx0ICogRHJhd3MgdGhlIGRpc3BsYXkgb2JqZWN0IGludG8gdGhlIHNwZWNpZmllZCBjb250ZXh0IGlnbm9yaW5nIGl0cyB2aXNpYmxlLCBhbHBoYSwgc2hhZG93LCBhbmQgdHJhbnNmb3JtLlxuXHQgKiBSZXR1cm5zIHRydWUgaWYgdGhlIGRyYXcgd2FzIGhhbmRsZWQgKHVzZWZ1bCBmb3Igb3ZlcnJpZGluZyBmdW5jdGlvbmFsaXR5KS5cblx0ICpcblx0ICogTk9URTogVGhpcyBtZXRob2QgaXMgbWFpbmx5IGZvciBpbnRlcm5hbCB1c2UsIHRob3VnaCBpdCBtYXkgYmUgdXNlZnVsIGZvciBhZHZhbmNlZCB1c2VzLlxuXHQgKiBAbWV0aG9kIGRyYXdcblx0ICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCBUaGUgY2FudmFzIDJEIGNvbnRleHQgb2JqZWN0IHRvIGRyYXcgaW50by5cblx0ICogQHBhcmFtIHtPYmplY3R9IGRhdGEgT3B0aW9uYWwgZGF0YSB0aGF0IGlzIHBhc3NlZCB0byBncmFwaGljcyBjb21tYW5kIGV4ZWMgbWV0aG9kcy4gV2hlbiBjYWxsZWQgZnJvbSBhIFNoYXBlIGluc3RhbmNlLCB0aGUgc2hhcGUgcGFzc2VzIGl0c2VsZiBhcyB0aGUgZGF0YSBwYXJhbWV0ZXIuIFRoaXMgY2FuIGJlIHVzZWQgYnkgY3VzdG9tIGdyYXBoaWMgY29tbWFuZHMgdG8gaW5zZXJ0IGNvbnRleHR1YWwgZGF0YS5cblx0ICoqL1xuXHRwLmRyYXcgPSBmdW5jdGlvbihjdHgsIGRhdGEpIHtcblx0XHR0aGlzLl91cGRhdGVJbnN0cnVjdGlvbnMoKTtcblx0XHR2YXIgaW5zdHIgPSB0aGlzLl9pbnN0cnVjdGlvbnM7XG5cdFx0Zm9yICh2YXIgaT10aGlzLl9zdG9yZUluZGV4LCBsPWluc3RyLmxlbmd0aDsgaTxsOyBpKyspIHtcblx0XHRcdGluc3RyW2ldLmV4ZWMoY3R4LCBkYXRhKTtcblx0XHR9XG5cdH07XG5cblx0LyoqXG5cdCAqIERyYXdzIG9ubHkgdGhlIHBhdGggZGVzY3JpYmVkIGZvciB0aGlzIEdyYXBoaWNzIGluc3RhbmNlLCBza2lwcGluZyBhbnkgbm9uLXBhdGggaW5zdHJ1Y3Rpb25zLCBpbmNsdWRpbmcgZmlsbCBhbmRcblx0ICogc3Ryb2tlIGRlc2NyaXB0aW9ucy4gVXNlZCBmb3IgPGNvZGU+RGlzcGxheU9iamVjdC5tYXNrPC9jb2RlPiB0byBkcmF3IHRoZSBjbGlwcGluZyBwYXRoLCBmb3IgZXhhbXBsZS5cblx0ICpcblx0ICogTk9URTogVGhpcyBtZXRob2QgaXMgbWFpbmx5IGZvciBpbnRlcm5hbCB1c2UsIHRob3VnaCBpdCBtYXkgYmUgdXNlZnVsIGZvciBhZHZhbmNlZCB1c2VzLlxuXHQgKiBAbWV0aG9kIGRyYXdBc1BhdGhcblx0ICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCBUaGUgY2FudmFzIDJEIGNvbnRleHQgb2JqZWN0IHRvIGRyYXcgaW50by5cblx0ICoqL1xuXHRwLmRyYXdBc1BhdGggPSBmdW5jdGlvbihjdHgpIHtcblx0XHR0aGlzLl91cGRhdGVJbnN0cnVjdGlvbnMoKTtcblx0XHR2YXIgaW5zdHIsIGluc3RycyA9IHRoaXMuX2luc3RydWN0aW9ucztcblx0XHRmb3IgKHZhciBpPXRoaXMuX3N0b3JlSW5kZXgsIGw9aW5zdHJzLmxlbmd0aDsgaTxsOyBpKyspIHtcblx0XHRcdC8vIHRoZSBmaXJzdCBjb21tYW5kIGlzIGFsd2F5cyBhIGJlZ2luUGF0aCBjb21tYW5kLlxuXHRcdFx0aWYgKChpbnN0ciA9IGluc3Ryc1tpXSkucGF0aCAhPT0gZmFsc2UpIHsgaW5zdHIuZXhlYyhjdHgpOyB9XG5cdFx0fVxuXHR9O1xuXG5cbi8vIHB1YmxpYyBtZXRob2RzIHRoYXQgbWFwIGRpcmVjdGx5IHRvIGNvbnRleHQgMkQgY2FsbHM6XG5cdC8qKlxuXHQgKiBNb3ZlcyB0aGUgZHJhd2luZyBwb2ludCB0byB0aGUgc3BlY2lmaWVkIHBvc2l0aW9uLiBBIHRpbnkgQVBJIG1ldGhvZCBcIm10XCIgYWxzbyBleGlzdHMuXG5cdCAqIEBtZXRob2QgbW92ZVRvXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB4IFRoZSB4IGNvb3JkaW5hdGUgdGhlIGRyYXdpbmcgcG9pbnQgc2hvdWxkIG1vdmUgdG8uXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB5IFRoZSB5IGNvb3JkaW5hdGUgdGhlIGRyYXdpbmcgcG9pbnQgc2hvdWxkIG1vdmUgdG8uXG5cdCAqIEByZXR1cm4ge0dyYXBoaWNzfSBUaGUgR3JhcGhpY3MgaW5zdGFuY2UgdGhlIG1ldGhvZCBpcyBjYWxsZWQgb24gKHVzZWZ1bCBmb3IgY2hhaW5pbmcgY2FsbHMpLlxuXHQgKiBAY2hhaW5hYmxlXG5cdCAqKi9cblx0cC5tb3ZlVG8gPSBmdW5jdGlvbih4LCB5KSB7XG5cdFx0cmV0dXJuIHRoaXMuYXBwZW5kKG5ldyBHLk1vdmVUbyh4LHkpLCB0cnVlKTtcblx0fTtcblxuXHQvKipcblx0ICogRHJhd3MgYSBsaW5lIGZyb20gdGhlIGN1cnJlbnQgZHJhd2luZyBwb2ludCB0byB0aGUgc3BlY2lmaWVkIHBvc2l0aW9uLCB3aGljaCBiZWNvbWUgdGhlIG5ldyBjdXJyZW50IGRyYXdpbmdcblx0ICogcG9pbnQuIE5vdGUgdGhhdCB5b3UgKm11c3QqIGNhbGwge3sjY3Jvc3NMaW5rIFwiR3JhcGhpY3MvbW92ZVRvXCJ9fXt7L2Nyb3NzTGlua319IGJlZm9yZSB0aGUgZmlyc3QgYGxpbmVUbygpYC5cblx0ICogQSB0aW55IEFQSSBtZXRob2QgXCJsdFwiIGFsc28gZXhpc3RzLlxuXHQgKlxuXHQgKiBGb3IgZGV0YWlsZWQgaW5mb3JtYXRpb24sIHJlYWQgdGhlXG5cdCAqIDxhIGhyZWY9XCJodHRwOi8vd3d3LndoYXR3Zy5vcmcvc3BlY3Mvd2ViLWFwcHMvY3VycmVudC13b3JrL211bHRpcGFnZS90aGUtY2FudmFzLWVsZW1lbnQuaHRtbCNjb21wbGV4LXNoYXBlcy0ocGF0aHMpXCI+XG5cdCAqIHdoYXR3ZyBzcGVjPC9hPi5cblx0ICogQG1ldGhvZCBsaW5lVG9cblx0ICogQHBhcmFtIHtOdW1iZXJ9IHggVGhlIHggY29vcmRpbmF0ZSB0aGUgZHJhd2luZyBwb2ludCBzaG91bGQgZHJhdyB0by5cblx0ICogQHBhcmFtIHtOdW1iZXJ9IHkgVGhlIHkgY29vcmRpbmF0ZSB0aGUgZHJhd2luZyBwb2ludCBzaG91bGQgZHJhdyB0by5cblx0ICogQHJldHVybiB7R3JhcGhpY3N9IFRoZSBHcmFwaGljcyBpbnN0YW5jZSB0aGUgbWV0aG9kIGlzIGNhbGxlZCBvbiAodXNlZnVsIGZvciBjaGFpbmluZyBjYWxscy4pXG5cdCAqIEBjaGFpbmFibGVcblx0ICoqL1xuXHRwLmxpbmVUbyA9IGZ1bmN0aW9uKHgsIHkpIHtcblx0XHRyZXR1cm4gdGhpcy5hcHBlbmQobmV3IEcuTGluZVRvKHgseSkpO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBEcmF3cyBhbiBhcmMgd2l0aCB0aGUgc3BlY2lmaWVkIGNvbnRyb2wgcG9pbnRzIGFuZCByYWRpdXMuICBGb3IgZGV0YWlsZWQgaW5mb3JtYXRpb24sIHJlYWQgdGhlXG5cdCAqIDxhIGhyZWY9XCJodHRwOi8vd3d3LndoYXR3Zy5vcmcvc3BlY3Mvd2ViLWFwcHMvY3VycmVudC13b3JrL211bHRpcGFnZS90aGUtY2FudmFzLWVsZW1lbnQuaHRtbCNkb20tY29udGV4dC0yZC1hcmN0b1wiPlxuXHQgKiB3aGF0d2cgc3BlYzwvYT4uIEEgdGlueSBBUEkgbWV0aG9kIFwiYXRcIiBhbHNvIGV4aXN0cy5cblx0ICogQG1ldGhvZCBhcmNUb1xuXHQgKiBAcGFyYW0ge051bWJlcn0geDFcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHkxXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB4MlxuXHQgKiBAcGFyYW0ge051bWJlcn0geTJcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHJhZGl1c1xuXHQgKiBAcmV0dXJuIHtHcmFwaGljc30gVGhlIEdyYXBoaWNzIGluc3RhbmNlIHRoZSBtZXRob2QgaXMgY2FsbGVkIG9uICh1c2VmdWwgZm9yIGNoYWluaW5nIGNhbGxzLilcblx0ICogQGNoYWluYWJsZVxuXHQgKiovXG5cdHAuYXJjVG8gPSBmdW5jdGlvbih4MSwgeTEsIHgyLCB5MiwgcmFkaXVzKSB7XG5cdFx0cmV0dXJuIHRoaXMuYXBwZW5kKG5ldyBHLkFyY1RvKHgxLCB5MSwgeDIsIHkyLCByYWRpdXMpKTtcblx0fTtcblxuXHQvKipcblx0ICogRHJhd3MgYW4gYXJjIGRlZmluZWQgYnkgdGhlIHJhZGl1cywgc3RhcnRBbmdsZSBhbmQgZW5kQW5nbGUgYXJndW1lbnRzLCBjZW50ZXJlZCBhdCB0aGUgcG9zaXRpb24gKHgsIHkpLiBGb3Jcblx0ICogZXhhbXBsZSwgdG8gZHJhdyBhIGZ1bGwgY2lyY2xlIHdpdGggYSByYWRpdXMgb2YgMjAgY2VudGVyZWQgYXQgKDEwMCwgMTAwKTpcblx0ICpcblx0ICogICAgICBhcmMoMTAwLCAxMDAsIDIwLCAwLCBNYXRoLlBJKjIpO1xuXHQgKlxuXHQgKiBGb3IgZGV0YWlsZWQgaW5mb3JtYXRpb24sIHJlYWQgdGhlXG5cdCAqIDxhIGhyZWY9XCJodHRwOi8vd3d3LndoYXR3Zy5vcmcvc3BlY3Mvd2ViLWFwcHMvY3VycmVudC13b3JrL211bHRpcGFnZS90aGUtY2FudmFzLWVsZW1lbnQuaHRtbCNkb20tY29udGV4dC0yZC1hcmNcIj53aGF0d2cgc3BlYzwvYT4uXG5cdCAqIEEgdGlueSBBUEkgbWV0aG9kIFwiYVwiIGFsc28gZXhpc3RzLlxuXHQgKiBAbWV0aG9kIGFyY1xuXHQgKiBAcGFyYW0ge051bWJlcn0geFxuXHQgKiBAcGFyYW0ge051bWJlcn0geVxuXHQgKiBAcGFyYW0ge051bWJlcn0gcmFkaXVzXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBzdGFydEFuZ2xlIE1lYXN1cmVkIGluIHJhZGlhbnMuXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBlbmRBbmdsZSBNZWFzdXJlZCBpbiByYWRpYW5zLlxuXHQgKiBAcGFyYW0ge0Jvb2xlYW59IGFudGljbG9ja3dpc2Vcblx0ICogQHJldHVybiB7R3JhcGhpY3N9IFRoZSBHcmFwaGljcyBpbnN0YW5jZSB0aGUgbWV0aG9kIGlzIGNhbGxlZCBvbiAodXNlZnVsIGZvciBjaGFpbmluZyBjYWxscy4pXG5cdCAqIEBjaGFpbmFibGVcblx0ICoqL1xuXHRwLmFyYyA9IGZ1bmN0aW9uKHgsIHksIHJhZGl1cywgc3RhcnRBbmdsZSwgZW5kQW5nbGUsIGFudGljbG9ja3dpc2UpIHtcblx0XHRyZXR1cm4gdGhpcy5hcHBlbmQobmV3IEcuQXJjKHgsIHksIHJhZGl1cywgc3RhcnRBbmdsZSwgZW5kQW5nbGUsIGFudGljbG9ja3dpc2UpKTtcblx0fTtcblxuXHQvKipcblx0ICogRHJhd3MgYSBxdWFkcmF0aWMgY3VydmUgZnJvbSB0aGUgY3VycmVudCBkcmF3aW5nIHBvaW50IHRvICh4LCB5KSB1c2luZyB0aGUgY29udHJvbCBwb2ludCAoY3B4LCBjcHkpLiBGb3IgZGV0YWlsZWRcblx0ICogaW5mb3JtYXRpb24sIHJlYWQgdGhlIDxhIGhyZWY9XCJodHRwOi8vd3d3LndoYXR3Zy5vcmcvc3BlY3Mvd2ViLWFwcHMvY3VycmVudC13b3JrL211bHRpcGFnZS90aGUtY2FudmFzLWVsZW1lbnQuaHRtbCNkb20tY29udGV4dC0yZC1xdWFkcmF0aWNjdXJ2ZXRvXCI+XG5cdCAqIHdoYXR3ZyBzcGVjPC9hPi4gQSB0aW55IEFQSSBtZXRob2QgXCJxdFwiIGFsc28gZXhpc3RzLlxuXHQgKiBAbWV0aG9kIHF1YWRyYXRpY0N1cnZlVG9cblx0ICogQHBhcmFtIHtOdW1iZXJ9IGNweFxuXHQgKiBAcGFyYW0ge051bWJlcn0gY3B5XG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB4XG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB5XG5cdCAqIEByZXR1cm4ge0dyYXBoaWNzfSBUaGUgR3JhcGhpY3MgaW5zdGFuY2UgdGhlIG1ldGhvZCBpcyBjYWxsZWQgb24gKHVzZWZ1bCBmb3IgY2hhaW5pbmcgY2FsbHMuKVxuXHQgKiBAY2hhaW5hYmxlXG5cdCAqKi9cblx0cC5xdWFkcmF0aWNDdXJ2ZVRvID0gZnVuY3Rpb24oY3B4LCBjcHksIHgsIHkpIHtcblx0XHRyZXR1cm4gdGhpcy5hcHBlbmQobmV3IEcuUXVhZHJhdGljQ3VydmVUbyhjcHgsIGNweSwgeCwgeSkpO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBEcmF3cyBhIGJlemllciBjdXJ2ZSBmcm9tIHRoZSBjdXJyZW50IGRyYXdpbmcgcG9pbnQgdG8gKHgsIHkpIHVzaW5nIHRoZSBjb250cm9sIHBvaW50cyAoY3AxeCwgY3AxeSkgYW5kIChjcDJ4LFxuXHQgKiBjcDJ5KS4gRm9yIGRldGFpbGVkIGluZm9ybWF0aW9uLCByZWFkIHRoZVxuXHQgKiA8YSBocmVmPVwiaHR0cDovL3d3dy53aGF0d2cub3JnL3NwZWNzL3dlYi1hcHBzL2N1cnJlbnQtd29yay9tdWx0aXBhZ2UvdGhlLWNhbnZhcy1lbGVtZW50Lmh0bWwjZG9tLWNvbnRleHQtMmQtYmV6aWVyY3VydmV0b1wiPlxuXHQgKiB3aGF0d2cgc3BlYzwvYT4uIEEgdGlueSBBUEkgbWV0aG9kIFwiYnRcIiBhbHNvIGV4aXN0cy5cblx0ICogQG1ldGhvZCBiZXppZXJDdXJ2ZVRvXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBjcDF4XG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBjcDF5XG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBjcDJ4XG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBjcDJ5XG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB4XG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB5XG5cdCAqIEByZXR1cm4ge0dyYXBoaWNzfSBUaGUgR3JhcGhpY3MgaW5zdGFuY2UgdGhlIG1ldGhvZCBpcyBjYWxsZWQgb24gKHVzZWZ1bCBmb3IgY2hhaW5pbmcgY2FsbHMuKVxuXHQgKiBAY2hhaW5hYmxlXG5cdCAqKi9cblx0cC5iZXppZXJDdXJ2ZVRvID0gZnVuY3Rpb24oY3AxeCwgY3AxeSwgY3AyeCwgY3AyeSwgeCwgeSkge1xuXHRcdHJldHVybiB0aGlzLmFwcGVuZChuZXcgRy5CZXppZXJDdXJ2ZVRvKGNwMXgsIGNwMXksIGNwMngsIGNwMnksIHgsIHkpKTtcblx0fTtcblxuXHQvKipcblx0ICogRHJhd3MgYSByZWN0YW5nbGUgYXQgKHgsIHkpIHdpdGggdGhlIHNwZWNpZmllZCB3aWR0aCBhbmQgaGVpZ2h0IHVzaW5nIHRoZSBjdXJyZW50IGZpbGwgYW5kL29yIHN0cm9rZS5cblx0ICogRm9yIGRldGFpbGVkIGluZm9ybWF0aW9uLCByZWFkIHRoZVxuXHQgKiA8YSBocmVmPVwiaHR0cDovL3d3dy53aGF0d2cub3JnL3NwZWNzL3dlYi1hcHBzL2N1cnJlbnQtd29yay9tdWx0aXBhZ2UvdGhlLWNhbnZhcy1lbGVtZW50Lmh0bWwjZG9tLWNvbnRleHQtMmQtcmVjdFwiPlxuXHQgKiB3aGF0d2cgc3BlYzwvYT4uIEEgdGlueSBBUEkgbWV0aG9kIFwiclwiIGFsc28gZXhpc3RzLlxuXHQgKiBAbWV0aG9kIHJlY3Rcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHhcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHlcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHcgV2lkdGggb2YgdGhlIHJlY3RhbmdsZVxuXHQgKiBAcGFyYW0ge051bWJlcn0gaCBIZWlnaHQgb2YgdGhlIHJlY3RhbmdsZVxuXHQgKiBAcmV0dXJuIHtHcmFwaGljc30gVGhlIEdyYXBoaWNzIGluc3RhbmNlIHRoZSBtZXRob2QgaXMgY2FsbGVkIG9uICh1c2VmdWwgZm9yIGNoYWluaW5nIGNhbGxzLilcblx0ICogQGNoYWluYWJsZVxuXHQgKiovXG5cdHAucmVjdCA9IGZ1bmN0aW9uKHgsIHksIHcsIGgpIHtcblx0XHRyZXR1cm4gdGhpcy5hcHBlbmQobmV3IEcuUmVjdCh4LCB5LCB3LCBoKSk7XG5cdH07XG5cblx0LyoqXG5cdCAqIENsb3NlcyB0aGUgY3VycmVudCBwYXRoLCBlZmZlY3RpdmVseSBkcmF3aW5nIGEgbGluZSBmcm9tIHRoZSBjdXJyZW50IGRyYXdpbmcgcG9pbnQgdG8gdGhlIGZpcnN0IGRyYXdpbmcgcG9pbnQgc3BlY2lmaWVkXG5cdCAqIHNpbmNlIHRoZSBmaWxsIG9yIHN0cm9rZSB3YXMgbGFzdCBzZXQuIEEgdGlueSBBUEkgbWV0aG9kIFwiY3BcIiBhbHNvIGV4aXN0cy5cblx0ICogQG1ldGhvZCBjbG9zZVBhdGhcblx0ICogQHJldHVybiB7R3JhcGhpY3N9IFRoZSBHcmFwaGljcyBpbnN0YW5jZSB0aGUgbWV0aG9kIGlzIGNhbGxlZCBvbiAodXNlZnVsIGZvciBjaGFpbmluZyBjYWxscy4pXG5cdCAqIEBjaGFpbmFibGVcblx0ICoqL1xuXHRwLmNsb3NlUGF0aCA9IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLl9hY3RpdmVJbnN0cnVjdGlvbnMubGVuZ3RoID8gdGhpcy5hcHBlbmQobmV3IEcuQ2xvc2VQYXRoKCkpIDogdGhpcztcblx0fTtcblxuXG4vLyBwdWJsaWMgbWV0aG9kcyB0aGF0IHJvdWdobHkgbWFwIHRvIEFkb2JlIEZsYXNoL0FuaW1hdGUgZ3JhcGhpY3MgQVBJczpcblx0LyoqXG5cdCAqIENsZWFycyBhbGwgZHJhd2luZyBpbnN0cnVjdGlvbnMsIGVmZmVjdGl2ZWx5IHJlc2V0dGluZyB0aGlzIEdyYXBoaWNzIGluc3RhbmNlLiBBbnkgbGluZSBhbmQgZmlsbCBzdHlsZXMgd2lsbCBuZWVkXG5cdCAqIHRvIGJlIHJlZGVmaW5lZCB0byBkcmF3IHNoYXBlcyBmb2xsb3dpbmcgYSBjbGVhciBjYWxsLiBBIHRpbnkgQVBJIG1ldGhvZCBcImNcIiBhbHNvIGV4aXN0cy5cblx0ICogQG1ldGhvZCBjbGVhclxuXHQgKiBAcmV0dXJuIHtHcmFwaGljc30gVGhlIEdyYXBoaWNzIGluc3RhbmNlIHRoZSBtZXRob2QgaXMgY2FsbGVkIG9uICh1c2VmdWwgZm9yIGNoYWluaW5nIGNhbGxzLilcblx0ICogQGNoYWluYWJsZVxuXHQgKiovXG5cdHAuY2xlYXIgPSBmdW5jdGlvbigpIHtcblx0XHR0aGlzLl9pbnN0cnVjdGlvbnMubGVuZ3RoID0gdGhpcy5fYWN0aXZlSW5zdHJ1Y3Rpb25zLmxlbmd0aCA9IHRoaXMuX2NvbW1pdEluZGV4ID0gMDtcblx0XHR0aGlzLl9zdHJva2VTdHlsZSA9IHRoaXMuX29sZFN0cm9rZVN0eWxlID0gdGhpcy5fc3Ryb2tlID0gdGhpcy5fZmlsbCA9IHRoaXMuX3N0cm9rZURhc2ggPSB0aGlzLl9vbGRTdHJva2VEYXNoID0gbnVsbDtcblx0XHR0aGlzLl9kaXJ0eSA9IHRoaXMuX3N0cm9rZUlnbm9yZVNjYWxlID0gZmFsc2U7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH07XG5cblx0LyoqXG5cdCAqIEJlZ2lucyBhIGZpbGwgd2l0aCB0aGUgc3BlY2lmaWVkIGNvbG9yLiBUaGlzIGVuZHMgdGhlIGN1cnJlbnQgc3ViLXBhdGguIEEgdGlueSBBUEkgbWV0aG9kIFwiZlwiIGFsc28gZXhpc3RzLlxuXHQgKiBAbWV0aG9kIGJlZ2luRmlsbFxuXHQgKiBAcGFyYW0ge1N0cmluZ30gY29sb3IgQSBDU1MgY29tcGF0aWJsZSBjb2xvciB2YWx1ZSAoZXguIFwicmVkXCIsIFwiI0ZGMDAwMFwiLCBvciBcInJnYmEoMjU1LDAsMCwwLjUpXCIpLiBTZXR0aW5nIHRvXG5cdCAqIG51bGwgd2lsbCByZXN1bHQgaW4gbm8gZmlsbC5cblx0ICogQHJldHVybiB7R3JhcGhpY3N9IFRoZSBHcmFwaGljcyBpbnN0YW5jZSB0aGUgbWV0aG9kIGlzIGNhbGxlZCBvbiAodXNlZnVsIGZvciBjaGFpbmluZyBjYWxscy4pXG5cdCAqIEBjaGFpbmFibGVcblx0ICoqL1xuXHRwLmJlZ2luRmlsbCA9IGZ1bmN0aW9uKGNvbG9yKSB7XG5cdFx0cmV0dXJuIHRoaXMuX3NldEZpbGwoY29sb3IgPyBuZXcgRy5GaWxsKGNvbG9yKSA6IG51bGwpO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBCZWdpbnMgYSBsaW5lYXIgZ3JhZGllbnQgZmlsbCBkZWZpbmVkIGJ5IHRoZSBsaW5lICh4MCwgeTApIHRvICh4MSwgeTEpLiBUaGlzIGVuZHMgdGhlIGN1cnJlbnQgc3ViLXBhdGguIEZvclxuXHQgKiBleGFtcGxlLCB0aGUgZm9sbG93aW5nIGNvZGUgZGVmaW5lcyBhIGJsYWNrIHRvIHdoaXRlIHZlcnRpY2FsIGdyYWRpZW50IHJhbmdpbmcgZnJvbSAyMHB4IHRvIDEyMHB4LCBhbmQgZHJhd3MgYVxuXHQgKiBzcXVhcmUgdG8gZGlzcGxheSBpdDpcblx0ICpcblx0ICogICAgICBteUdyYXBoaWNzLmJlZ2luTGluZWFyR3JhZGllbnRGaWxsKFtcIiMwMDBcIixcIiNGRkZcIl0sIFswLCAxXSwgMCwgMjAsIDAsIDEyMCkuZHJhd1JlY3QoMjAsIDIwLCAxMjAsIDEyMCk7XG5cdCAqXG5cdCAqIEEgdGlueSBBUEkgbWV0aG9kIFwibGZcIiBhbHNvIGV4aXN0cy5cblx0ICogQG1ldGhvZCBiZWdpbkxpbmVhckdyYWRpZW50RmlsbFxuXHQgKiBAcGFyYW0ge0FycmF5fSBjb2xvcnMgQW4gYXJyYXkgb2YgQ1NTIGNvbXBhdGlibGUgY29sb3IgdmFsdWVzLiBGb3IgZXhhbXBsZSwgW1wiI0YwMFwiLFwiIzAwRlwiXSB3b3VsZCBkZWZpbmUgYSBncmFkaWVudFxuXHQgKiBkcmF3aW5nIGZyb20gcmVkIHRvIGJsdWUuXG5cdCAqIEBwYXJhbSB7QXJyYXl9IHJhdGlvcyBBbiBhcnJheSBvZiBncmFkaWVudCBwb3NpdGlvbnMgd2hpY2ggY29ycmVzcG9uZCB0byB0aGUgY29sb3JzLiBGb3IgZXhhbXBsZSwgWzAuMSwgMC45XSB3b3VsZCBkcmF3XG5cdCAqIHRoZSBmaXJzdCBjb2xvciB0byAxMCUgdGhlbiBpbnRlcnBvbGF0aW5nIHRvIHRoZSBzZWNvbmQgY29sb3IgYXQgOTAlLlxuXHQgKiBAcGFyYW0ge051bWJlcn0geDAgVGhlIHBvc2l0aW9uIG9mIHRoZSBmaXJzdCBwb2ludCBkZWZpbmluZyB0aGUgbGluZSB0aGF0IGRlZmluZXMgdGhlIGdyYWRpZW50IGRpcmVjdGlvbiBhbmQgc2l6ZS5cblx0ICogQHBhcmFtIHtOdW1iZXJ9IHkwIFRoZSBwb3NpdGlvbiBvZiB0aGUgZmlyc3QgcG9pbnQgZGVmaW5pbmcgdGhlIGxpbmUgdGhhdCBkZWZpbmVzIHRoZSBncmFkaWVudCBkaXJlY3Rpb24gYW5kIHNpemUuXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB4MSBUaGUgcG9zaXRpb24gb2YgdGhlIHNlY29uZCBwb2ludCBkZWZpbmluZyB0aGUgbGluZSB0aGF0IGRlZmluZXMgdGhlIGdyYWRpZW50IGRpcmVjdGlvbiBhbmQgc2l6ZS5cblx0ICogQHBhcmFtIHtOdW1iZXJ9IHkxIFRoZSBwb3NpdGlvbiBvZiB0aGUgc2Vjb25kIHBvaW50IGRlZmluaW5nIHRoZSBsaW5lIHRoYXQgZGVmaW5lcyB0aGUgZ3JhZGllbnQgZGlyZWN0aW9uIGFuZCBzaXplLlxuXHQgKiBAcmV0dXJuIHtHcmFwaGljc30gVGhlIEdyYXBoaWNzIGluc3RhbmNlIHRoZSBtZXRob2QgaXMgY2FsbGVkIG9uICh1c2VmdWwgZm9yIGNoYWluaW5nIGNhbGxzLilcblx0ICogQGNoYWluYWJsZVxuXHQgKiovXG5cdHAuYmVnaW5MaW5lYXJHcmFkaWVudEZpbGwgPSBmdW5jdGlvbihjb2xvcnMsIHJhdGlvcywgeDAsIHkwLCB4MSwgeTEpIHtcblx0XHRyZXR1cm4gdGhpcy5fc2V0RmlsbChuZXcgRy5GaWxsKCkubGluZWFyR3JhZGllbnQoY29sb3JzLCByYXRpb3MsIHgwLCB5MCwgeDEsIHkxKSk7XG5cdH07XG5cblx0LyoqXG5cdCAqIEJlZ2lucyBhIHJhZGlhbCBncmFkaWVudCBmaWxsLiBUaGlzIGVuZHMgdGhlIGN1cnJlbnQgc3ViLXBhdGguIEZvciBleGFtcGxlLCB0aGUgZm9sbG93aW5nIGNvZGUgZGVmaW5lcyBhIHJlZCB0b1xuXHQgKiBibHVlIHJhZGlhbCBncmFkaWVudCBjZW50ZXJlZCBhdCAoMTAwLCAxMDApLCB3aXRoIGEgcmFkaXVzIG9mIDUwLCBhbmQgZHJhd3MgYSBjaXJjbGUgdG8gZGlzcGxheSBpdDpcblx0ICpcblx0ICogICAgICBteUdyYXBoaWNzLmJlZ2luUmFkaWFsR3JhZGllbnRGaWxsKFtcIiNGMDBcIixcIiMwMEZcIl0sIFswLCAxXSwgMTAwLCAxMDAsIDAsIDEwMCwgMTAwLCA1MCkuZHJhd0NpcmNsZSgxMDAsIDEwMCwgNTApO1xuXHQgKlxuXHQgKiBBIHRpbnkgQVBJIG1ldGhvZCBcInJmXCIgYWxzbyBleGlzdHMuXG5cdCAqIEBtZXRob2QgYmVnaW5SYWRpYWxHcmFkaWVudEZpbGxcblx0ICogQHBhcmFtIHtBcnJheX0gY29sb3JzIEFuIGFycmF5IG9mIENTUyBjb21wYXRpYmxlIGNvbG9yIHZhbHVlcy4gRm9yIGV4YW1wbGUsIFtcIiNGMDBcIixcIiMwMEZcIl0gd291bGQgZGVmaW5lXG5cdCAqIGEgZ3JhZGllbnQgZHJhd2luZyBmcm9tIHJlZCB0byBibHVlLlxuXHQgKiBAcGFyYW0ge0FycmF5fSByYXRpb3MgQW4gYXJyYXkgb2YgZ3JhZGllbnQgcG9zaXRpb25zIHdoaWNoIGNvcnJlc3BvbmQgdG8gdGhlIGNvbG9ycy4gRm9yIGV4YW1wbGUsIFswLjEsXG5cdCAqIDAuOV0gd291bGQgZHJhdyB0aGUgZmlyc3QgY29sb3IgdG8gMTAlIHRoZW4gaW50ZXJwb2xhdGluZyB0byB0aGUgc2Vjb25kIGNvbG9yIGF0IDkwJS5cblx0ICogQHBhcmFtIHtOdW1iZXJ9IHgwIENlbnRlciBwb3NpdGlvbiBvZiB0aGUgaW5uZXIgY2lyY2xlIHRoYXQgZGVmaW5lcyB0aGUgZ3JhZGllbnQuXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB5MCBDZW50ZXIgcG9zaXRpb24gb2YgdGhlIGlubmVyIGNpcmNsZSB0aGF0IGRlZmluZXMgdGhlIGdyYWRpZW50LlxuXHQgKiBAcGFyYW0ge051bWJlcn0gcjAgUmFkaXVzIG9mIHRoZSBpbm5lciBjaXJjbGUgdGhhdCBkZWZpbmVzIHRoZSBncmFkaWVudC5cblx0ICogQHBhcmFtIHtOdW1iZXJ9IHgxIENlbnRlciBwb3NpdGlvbiBvZiB0aGUgb3V0ZXIgY2lyY2xlIHRoYXQgZGVmaW5lcyB0aGUgZ3JhZGllbnQuXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB5MSBDZW50ZXIgcG9zaXRpb24gb2YgdGhlIG91dGVyIGNpcmNsZSB0aGF0IGRlZmluZXMgdGhlIGdyYWRpZW50LlxuXHQgKiBAcGFyYW0ge051bWJlcn0gcjEgUmFkaXVzIG9mIHRoZSBvdXRlciBjaXJjbGUgdGhhdCBkZWZpbmVzIHRoZSBncmFkaWVudC5cblx0ICogQHJldHVybiB7R3JhcGhpY3N9IFRoZSBHcmFwaGljcyBpbnN0YW5jZSB0aGUgbWV0aG9kIGlzIGNhbGxlZCBvbiAodXNlZnVsIGZvciBjaGFpbmluZyBjYWxscy4pXG5cdCAqIEBjaGFpbmFibGVcblx0ICoqL1xuXHRwLmJlZ2luUmFkaWFsR3JhZGllbnRGaWxsID0gZnVuY3Rpb24oY29sb3JzLCByYXRpb3MsIHgwLCB5MCwgcjAsIHgxLCB5MSwgcjEpIHtcblx0XHRyZXR1cm4gdGhpcy5fc2V0RmlsbChuZXcgRy5GaWxsKCkucmFkaWFsR3JhZGllbnQoY29sb3JzLCByYXRpb3MsIHgwLCB5MCwgcjAsIHgxLCB5MSwgcjEpKTtcblx0fTtcblxuXHQvKipcblx0ICogQmVnaW5zIGEgcGF0dGVybiBmaWxsIHVzaW5nIHRoZSBzcGVjaWZpZWQgaW1hZ2UuIFRoaXMgZW5kcyB0aGUgY3VycmVudCBzdWItcGF0aC4gQSB0aW55IEFQSSBtZXRob2QgXCJiZlwiIGFsc29cblx0ICogZXhpc3RzLlxuXHQgKiBAbWV0aG9kIGJlZ2luQml0bWFwRmlsbFxuXHQgKiBAcGFyYW0ge0hUTUxJbWFnZUVsZW1lbnQgfCBIVE1MQ2FudmFzRWxlbWVudCB8IEhUTUxWaWRlb0VsZW1lbnR9IGltYWdlIFRoZSBJbWFnZSwgQ2FudmFzLCBvciBWaWRlbyBvYmplY3QgdG8gdXNlXG5cdCAqIGFzIHRoZSBwYXR0ZXJuLiBNdXN0IGJlIGxvYWRlZCBwcmlvciB0byBjcmVhdGluZyBhIGJpdG1hcCBmaWxsLCBvciB0aGUgZmlsbCB3aWxsIGJlIGVtcHR5LlxuXHQgKiBAcGFyYW0ge1N0cmluZ30gcmVwZXRpdGlvbiBPcHRpb25hbC4gSW5kaWNhdGVzIHdoZXRoZXIgdG8gcmVwZWF0IHRoZSBpbWFnZSBpbiB0aGUgZmlsbCBhcmVhLiBPbmUgb2YgXCJyZXBlYXRcIixcblx0ICogXCJyZXBlYXQteFwiLCBcInJlcGVhdC15XCIsIG9yIFwibm8tcmVwZWF0XCIuIERlZmF1bHRzIHRvIFwicmVwZWF0XCIuIE5vdGUgdGhhdCBGaXJlZm94IGRvZXMgbm90IHN1cHBvcnQgXCJyZXBlYXQteFwiIG9yXG5cdCAqIFwicmVwZWF0LXlcIiAobGF0ZXN0IHRlc3RzIHdlcmUgaW4gRkYgMjAuMCksIGFuZCB3aWxsIGRlZmF1bHQgdG8gXCJyZXBlYXRcIi5cblx0ICogQHBhcmFtIHtNYXRyaXgyRH0gbWF0cml4IE9wdGlvbmFsLiBTcGVjaWZpZXMgYSB0cmFuc2Zvcm1hdGlvbiBtYXRyaXggZm9yIHRoZSBiaXRtYXAgZmlsbC4gVGhpcyB0cmFuc2Zvcm1hdGlvblxuXHQgKiB3aWxsIGJlIGFwcGxpZWQgcmVsYXRpdmUgdG8gdGhlIHBhcmVudCB0cmFuc2Zvcm0uXG5cdCAqIEByZXR1cm4ge0dyYXBoaWNzfSBUaGUgR3JhcGhpY3MgaW5zdGFuY2UgdGhlIG1ldGhvZCBpcyBjYWxsZWQgb24gKHVzZWZ1bCBmb3IgY2hhaW5pbmcgY2FsbHMuKVxuXHQgKiBAY2hhaW5hYmxlXG5cdCAqKi9cblx0cC5iZWdpbkJpdG1hcEZpbGwgPSBmdW5jdGlvbihpbWFnZSwgcmVwZXRpdGlvbiwgbWF0cml4KSB7XG5cdFx0cmV0dXJuIHRoaXMuX3NldEZpbGwobmV3IEcuRmlsbChudWxsLG1hdHJpeCkuYml0bWFwKGltYWdlLCByZXBldGl0aW9uKSk7XG5cdH07XG5cblx0LyoqXG5cdCAqIEVuZHMgdGhlIGN1cnJlbnQgc3ViLXBhdGgsIGFuZCBiZWdpbnMgYSBuZXcgb25lIHdpdGggbm8gZmlsbC4gRnVuY3Rpb25hbGx5IGlkZW50aWNhbCB0byA8Y29kZT5iZWdpbkZpbGwobnVsbCk8L2NvZGU+LlxuXHQgKiBBIHRpbnkgQVBJIG1ldGhvZCBcImVmXCIgYWxzbyBleGlzdHMuXG5cdCAqIEBtZXRob2QgZW5kRmlsbFxuXHQgKiBAcmV0dXJuIHtHcmFwaGljc30gVGhlIEdyYXBoaWNzIGluc3RhbmNlIHRoZSBtZXRob2QgaXMgY2FsbGVkIG9uICh1c2VmdWwgZm9yIGNoYWluaW5nIGNhbGxzLilcblx0ICogQGNoYWluYWJsZVxuXHQgKiovXG5cdHAuZW5kRmlsbCA9IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLmJlZ2luRmlsbCgpO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBTZXRzIHRoZSBzdHJva2Ugc3R5bGUuIExpa2UgYWxsIGRyYXdpbmcgbWV0aG9kcywgdGhpcyBjYW4gYmUgY2hhaW5lZCwgc28geW91IGNhbiBkZWZpbmVcblx0ICogdGhlIHN0cm9rZSBzdHlsZSBhbmQgY29sb3IgaW4gYSBzaW5nbGUgbGluZSBvZiBjb2RlIGxpa2Ugc286XG5cdCAqXG5cdCAqIFx0bXlHcmFwaGljcy5zZXRTdHJva2VTdHlsZSg4LFwicm91bmRcIikuYmVnaW5TdHJva2UoXCIjRjAwXCIpO1xuXHQgKlxuXHQgKiBBIHRpbnkgQVBJIG1ldGhvZCBcInNzXCIgYWxzbyBleGlzdHMuXG5cdCAqIEBtZXRob2Qgc2V0U3Ryb2tlU3R5bGVcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHRoaWNrbmVzcyBUaGUgd2lkdGggb2YgdGhlIHN0cm9rZS5cblx0ICogQHBhcmFtIHtTdHJpbmcgfCBOdW1iZXJ9IFtjYXBzPTBdIEluZGljYXRlcyB0aGUgdHlwZSBvZiBjYXBzIHRvIHVzZSBhdCB0aGUgZW5kIG9mIGxpbmVzLiBPbmUgb2YgYnV0dCxcblx0ICogcm91bmQsIG9yIHNxdWFyZS4gRGVmYXVsdHMgdG8gXCJidXR0XCIuIEFsc28gYWNjZXB0cyB0aGUgdmFsdWVzIDAgKGJ1dHQpLCAxIChyb3VuZCksIGFuZCAyIChzcXVhcmUpIGZvciB1c2Ugd2l0aFxuXHQgKiB0aGUgdGlueSBBUEkuXG5cdCAqIEBwYXJhbSB7U3RyaW5nIHwgTnVtYmVyfSBbam9pbnRzPTBdIFNwZWNpZmllcyB0aGUgdHlwZSBvZiBqb2ludHMgdGhhdCBzaG91bGQgYmUgdXNlZCB3aGVyZSB0d28gbGluZXMgbWVldC5cblx0ICogT25lIG9mIGJldmVsLCByb3VuZCwgb3IgbWl0ZXIuIERlZmF1bHRzIHRvIFwibWl0ZXJcIi4gQWxzbyBhY2NlcHRzIHRoZSB2YWx1ZXMgMCAobWl0ZXIpLCAxIChyb3VuZCksIGFuZCAyIChiZXZlbClcblx0ICogZm9yIHVzZSB3aXRoIHRoZSB0aW55IEFQSS5cblx0ICogQHBhcmFtIHtOdW1iZXJ9IFttaXRlckxpbWl0PTEwXSBJZiBqb2ludHMgaXMgc2V0IHRvIFwibWl0ZXJcIiwgdGhlbiB5b3UgY2FuIHNwZWNpZnkgYSBtaXRlciBsaW1pdCByYXRpbyB3aGljaFxuXHQgKiBjb250cm9scyBhdCB3aGF0IHBvaW50IGEgbWl0ZXJlZCBqb2ludCB3aWxsIGJlIGNsaXBwZWQuXG5cdCAqIEBwYXJhbSB7Qm9vbGVhbn0gW2lnbm9yZVNjYWxlPWZhbHNlXSBJZiB0cnVlLCB0aGUgc3Ryb2tlIHdpbGwgYmUgZHJhd24gYXQgdGhlIHNwZWNpZmllZCB0aGlja25lc3MgcmVnYXJkbGVzc1xuXHQgKiBvZiBhY3RpdmUgdHJhbnNmb3JtYXRpb25zLlxuXHQgKiBAcmV0dXJuIHtHcmFwaGljc30gVGhlIEdyYXBoaWNzIGluc3RhbmNlIHRoZSBtZXRob2QgaXMgY2FsbGVkIG9uICh1c2VmdWwgZm9yIGNoYWluaW5nIGNhbGxzLilcblx0ICogQGNoYWluYWJsZVxuXHQgKiovXG5cdHAuc2V0U3Ryb2tlU3R5bGUgPSBmdW5jdGlvbih0aGlja25lc3MsIGNhcHMsIGpvaW50cywgbWl0ZXJMaW1pdCwgaWdub3JlU2NhbGUpIHtcblx0XHR0aGlzLl91cGRhdGVJbnN0cnVjdGlvbnModHJ1ZSk7XG5cdFx0dGhpcy5fc3Ryb2tlU3R5bGUgPSB0aGlzLmNvbW1hbmQgPSBuZXcgRy5TdHJva2VTdHlsZSh0aGlja25lc3MsIGNhcHMsIGpvaW50cywgbWl0ZXJMaW1pdCwgaWdub3JlU2NhbGUpO1xuXG5cdFx0Ly8gaWdub3JlU2NhbGUgbGl2ZXMgb24gU3Ryb2tlLCBub3QgU3Ryb2tlU3R5bGUsIHNvIHdlIGRvIGEgbGl0dGxlIHRyaWNrZXJ5OlxuXHRcdGlmICh0aGlzLl9zdHJva2UpIHsgdGhpcy5fc3Ryb2tlLmlnbm9yZVNjYWxlID0gaWdub3JlU2NhbGU7IH1cblx0XHR0aGlzLl9zdHJva2VJZ25vcmVTY2FsZSA9IGlnbm9yZVNjYWxlO1xuXHRcdHJldHVybiB0aGlzO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIFNldHMgb3IgY2xlYXJzIHRoZSBzdHJva2UgZGFzaCBwYXR0ZXJuLlxuXHQgKlxuXHQgKiBcdG15R3JhcGhpY3Muc2V0U3Ryb2tlRGFzaChbMjAsIDEwXSwgMCk7XG5cdCAqXG5cdCAqIEEgdGlueSBBUEkgbWV0aG9kIGBzZGAgYWxzbyBleGlzdHMuXG5cdCAqIEBtZXRob2Qgc2V0U3Ryb2tlRGFzaFxuXHQgKiBAcGFyYW0ge0FycmF5fSBbc2VnbWVudHNdIEFuIGFycmF5IHNwZWNpZnlpbmcgdGhlIGRhc2ggcGF0dGVybiwgYWx0ZXJuYXRpbmcgYmV0d2VlbiBsaW5lIGFuZCBnYXAuXG5cdCAqIEZvciBleGFtcGxlLCBgWzIwLDEwXWAgd291bGQgY3JlYXRlIGEgcGF0dGVybiBvZiAyMCBwaXhlbCBsaW5lcyB3aXRoIDEwIHBpeGVsIGdhcHMgYmV0d2VlbiB0aGVtLlxuXHQgKiBQYXNzaW5nIG51bGwgb3IgYW4gZW1wdHkgYXJyYXkgd2lsbCBjbGVhciB0aGUgZXhpc3Rpbmcgc3Ryb2tlIGRhc2guXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBbb2Zmc2V0PTBdIFRoZSBvZmZzZXQgb2YgdGhlIGRhc2ggcGF0dGVybi4gRm9yIGV4YW1wbGUsIHlvdSBjb3VsZCBpbmNyZW1lbnQgdGhpcyB2YWx1ZSB0byBjcmVhdGUgYSBcIm1hcmNoaW5nIGFudHNcIiBlZmZlY3QuXG5cdCAqIEByZXR1cm4ge0dyYXBoaWNzfSBUaGUgR3JhcGhpY3MgaW5zdGFuY2UgdGhlIG1ldGhvZCBpcyBjYWxsZWQgb24gKHVzZWZ1bCBmb3IgY2hhaW5pbmcgY2FsbHMuKVxuXHQgKiBAY2hhaW5hYmxlXG5cdCAqKi9cblx0cC5zZXRTdHJva2VEYXNoID0gZnVuY3Rpb24oc2VnbWVudHMsIG9mZnNldCkge1xuXHRcdHRoaXMuX3VwZGF0ZUluc3RydWN0aW9ucyh0cnVlKTtcblx0XHR0aGlzLl9zdHJva2VEYXNoID0gdGhpcy5jb21tYW5kID0gbmV3IEcuU3Ryb2tlRGFzaChzZWdtZW50cywgb2Zmc2V0KTtcblx0XHRyZXR1cm4gdGhpcztcblx0fTtcblxuXHQvKipcblx0ICogQmVnaW5zIGEgc3Ryb2tlIHdpdGggdGhlIHNwZWNpZmllZCBjb2xvci4gVGhpcyBlbmRzIHRoZSBjdXJyZW50IHN1Yi1wYXRoLiBBIHRpbnkgQVBJIG1ldGhvZCBcInNcIiBhbHNvIGV4aXN0cy5cblx0ICogQG1ldGhvZCBiZWdpblN0cm9rZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gY29sb3IgQSBDU1MgY29tcGF0aWJsZSBjb2xvciB2YWx1ZSAoZXguIFwiI0ZGMDAwMFwiLCBcInJlZFwiLCBvciBcInJnYmEoMjU1LDAsMCwwLjUpXCIpLiBTZXR0aW5nIHRvXG5cdCAqIG51bGwgd2lsbCByZXN1bHQgaW4gbm8gc3Ryb2tlLlxuXHQgKiBAcmV0dXJuIHtHcmFwaGljc30gVGhlIEdyYXBoaWNzIGluc3RhbmNlIHRoZSBtZXRob2QgaXMgY2FsbGVkIG9uICh1c2VmdWwgZm9yIGNoYWluaW5nIGNhbGxzLilcblx0ICogQGNoYWluYWJsZVxuXHQgKiovXG5cdHAuYmVnaW5TdHJva2UgPSBmdW5jdGlvbihjb2xvcikge1xuXHRcdHJldHVybiB0aGlzLl9zZXRTdHJva2UoY29sb3IgPyBuZXcgRy5TdHJva2UoY29sb3IpIDogbnVsbCk7XG5cdH07XG5cblx0LyoqXG5cdCAqIEJlZ2lucyBhIGxpbmVhciBncmFkaWVudCBzdHJva2UgZGVmaW5lZCBieSB0aGUgbGluZSAoeDAsIHkwKSB0byAoeDEsIHkxKS4gVGhpcyBlbmRzIHRoZSBjdXJyZW50IHN1Yi1wYXRoLiBGb3Jcblx0ICogZXhhbXBsZSwgdGhlIGZvbGxvd2luZyBjb2RlIGRlZmluZXMgYSBibGFjayB0byB3aGl0ZSB2ZXJ0aWNhbCBncmFkaWVudCByYW5naW5nIGZyb20gMjBweCB0byAxMjBweCwgYW5kIGRyYXdzIGFcblx0ICogc3F1YXJlIHRvIGRpc3BsYXkgaXQ6XG5cdCAqXG5cdCAqICAgICAgbXlHcmFwaGljcy5zZXRTdHJva2VTdHlsZSgxMCkuXG5cdCAqICAgICAgICAgIGJlZ2luTGluZWFyR3JhZGllbnRTdHJva2UoW1wiIzAwMFwiLFwiI0ZGRlwiXSwgWzAsIDFdLCAwLCAyMCwgMCwgMTIwKS5kcmF3UmVjdCgyMCwgMjAsIDEyMCwgMTIwKTtcblx0ICpcblx0ICogQSB0aW55IEFQSSBtZXRob2QgXCJsc1wiIGFsc28gZXhpc3RzLlxuXHQgKiBAbWV0aG9kIGJlZ2luTGluZWFyR3JhZGllbnRTdHJva2Vcblx0ICogQHBhcmFtIHtBcnJheX0gY29sb3JzIEFuIGFycmF5IG9mIENTUyBjb21wYXRpYmxlIGNvbG9yIHZhbHVlcy4gRm9yIGV4YW1wbGUsIFtcIiNGMDBcIixcIiMwMEZcIl0gd291bGQgZGVmaW5lXG5cdCAqIGEgZ3JhZGllbnQgZHJhd2luZyBmcm9tIHJlZCB0byBibHVlLlxuXHQgKiBAcGFyYW0ge0FycmF5fSByYXRpb3MgQW4gYXJyYXkgb2YgZ3JhZGllbnQgcG9zaXRpb25zIHdoaWNoIGNvcnJlc3BvbmQgdG8gdGhlIGNvbG9ycy4gRm9yIGV4YW1wbGUsIFswLjEsXG5cdCAqIDAuOV0gd291bGQgZHJhdyB0aGUgZmlyc3QgY29sb3IgdG8gMTAlIHRoZW4gaW50ZXJwb2xhdGluZyB0byB0aGUgc2Vjb25kIGNvbG9yIGF0IDkwJS5cblx0ICogQHBhcmFtIHtOdW1iZXJ9IHgwIFRoZSBwb3NpdGlvbiBvZiB0aGUgZmlyc3QgcG9pbnQgZGVmaW5pbmcgdGhlIGxpbmUgdGhhdCBkZWZpbmVzIHRoZSBncmFkaWVudCBkaXJlY3Rpb24gYW5kIHNpemUuXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB5MCBUaGUgcG9zaXRpb24gb2YgdGhlIGZpcnN0IHBvaW50IGRlZmluaW5nIHRoZSBsaW5lIHRoYXQgZGVmaW5lcyB0aGUgZ3JhZGllbnQgZGlyZWN0aW9uIGFuZCBzaXplLlxuXHQgKiBAcGFyYW0ge051bWJlcn0geDEgVGhlIHBvc2l0aW9uIG9mIHRoZSBzZWNvbmQgcG9pbnQgZGVmaW5pbmcgdGhlIGxpbmUgdGhhdCBkZWZpbmVzIHRoZSBncmFkaWVudCBkaXJlY3Rpb24gYW5kIHNpemUuXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB5MSBUaGUgcG9zaXRpb24gb2YgdGhlIHNlY29uZCBwb2ludCBkZWZpbmluZyB0aGUgbGluZSB0aGF0IGRlZmluZXMgdGhlIGdyYWRpZW50IGRpcmVjdGlvbiBhbmQgc2l6ZS5cblx0ICogQHJldHVybiB7R3JhcGhpY3N9IFRoZSBHcmFwaGljcyBpbnN0YW5jZSB0aGUgbWV0aG9kIGlzIGNhbGxlZCBvbiAodXNlZnVsIGZvciBjaGFpbmluZyBjYWxscy4pXG5cdCAqIEBjaGFpbmFibGVcblx0ICoqL1xuXHRwLmJlZ2luTGluZWFyR3JhZGllbnRTdHJva2UgPSBmdW5jdGlvbihjb2xvcnMsIHJhdGlvcywgeDAsIHkwLCB4MSwgeTEpIHtcblx0XHRyZXR1cm4gdGhpcy5fc2V0U3Ryb2tlKG5ldyBHLlN0cm9rZSgpLmxpbmVhckdyYWRpZW50KGNvbG9ycywgcmF0aW9zLCB4MCwgeTAsIHgxLCB5MSkpO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBCZWdpbnMgYSByYWRpYWwgZ3JhZGllbnQgc3Ryb2tlLiBUaGlzIGVuZHMgdGhlIGN1cnJlbnQgc3ViLXBhdGguIEZvciBleGFtcGxlLCB0aGUgZm9sbG93aW5nIGNvZGUgZGVmaW5lcyBhIHJlZCB0b1xuXHQgKiBibHVlIHJhZGlhbCBncmFkaWVudCBjZW50ZXJlZCBhdCAoMTAwLCAxMDApLCB3aXRoIGEgcmFkaXVzIG9mIDUwLCBhbmQgZHJhd3MgYSByZWN0YW5nbGUgdG8gZGlzcGxheSBpdDpcblx0ICpcblx0ICogICAgICBteUdyYXBoaWNzLnNldFN0cm9rZVN0eWxlKDEwKVxuXHQgKiAgICAgICAgICAuYmVnaW5SYWRpYWxHcmFkaWVudFN0cm9rZShbXCIjRjAwXCIsXCIjMDBGXCJdLCBbMCwgMV0sIDEwMCwgMTAwLCAwLCAxMDAsIDEwMCwgNTApXG5cdCAqICAgICAgICAgIC5kcmF3UmVjdCg1MCwgOTAsIDE1MCwgMTEwKTtcblx0ICpcblx0ICogQSB0aW55IEFQSSBtZXRob2QgXCJyc1wiIGFsc28gZXhpc3RzLlxuXHQgKiBAbWV0aG9kIGJlZ2luUmFkaWFsR3JhZGllbnRTdHJva2Vcblx0ICogQHBhcmFtIHtBcnJheX0gY29sb3JzIEFuIGFycmF5IG9mIENTUyBjb21wYXRpYmxlIGNvbG9yIHZhbHVlcy4gRm9yIGV4YW1wbGUsIFtcIiNGMDBcIixcIiMwMEZcIl0gd291bGQgZGVmaW5lXG5cdCAqIGEgZ3JhZGllbnQgZHJhd2luZyBmcm9tIHJlZCB0byBibHVlLlxuXHQgKiBAcGFyYW0ge0FycmF5fSByYXRpb3MgQW4gYXJyYXkgb2YgZ3JhZGllbnQgcG9zaXRpb25zIHdoaWNoIGNvcnJlc3BvbmQgdG8gdGhlIGNvbG9ycy4gRm9yIGV4YW1wbGUsIFswLjEsXG5cdCAqIDAuOV0gd291bGQgZHJhdyB0aGUgZmlyc3QgY29sb3IgdG8gMTAlIHRoZW4gaW50ZXJwb2xhdGluZyB0byB0aGUgc2Vjb25kIGNvbG9yIGF0IDkwJSwgdGhlbiBkcmF3IHRoZSBzZWNvbmQgY29sb3Jcblx0ICogdG8gMTAwJS5cblx0ICogQHBhcmFtIHtOdW1iZXJ9IHgwIENlbnRlciBwb3NpdGlvbiBvZiB0aGUgaW5uZXIgY2lyY2xlIHRoYXQgZGVmaW5lcyB0aGUgZ3JhZGllbnQuXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB5MCBDZW50ZXIgcG9zaXRpb24gb2YgdGhlIGlubmVyIGNpcmNsZSB0aGF0IGRlZmluZXMgdGhlIGdyYWRpZW50LlxuXHQgKiBAcGFyYW0ge051bWJlcn0gcjAgUmFkaXVzIG9mIHRoZSBpbm5lciBjaXJjbGUgdGhhdCBkZWZpbmVzIHRoZSBncmFkaWVudC5cblx0ICogQHBhcmFtIHtOdW1iZXJ9IHgxIENlbnRlciBwb3NpdGlvbiBvZiB0aGUgb3V0ZXIgY2lyY2xlIHRoYXQgZGVmaW5lcyB0aGUgZ3JhZGllbnQuXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB5MSBDZW50ZXIgcG9zaXRpb24gb2YgdGhlIG91dGVyIGNpcmNsZSB0aGF0IGRlZmluZXMgdGhlIGdyYWRpZW50LlxuXHQgKiBAcGFyYW0ge051bWJlcn0gcjEgUmFkaXVzIG9mIHRoZSBvdXRlciBjaXJjbGUgdGhhdCBkZWZpbmVzIHRoZSBncmFkaWVudC5cblx0ICogQHJldHVybiB7R3JhcGhpY3N9IFRoZSBHcmFwaGljcyBpbnN0YW5jZSB0aGUgbWV0aG9kIGlzIGNhbGxlZCBvbiAodXNlZnVsIGZvciBjaGFpbmluZyBjYWxscy4pXG5cdCAqIEBjaGFpbmFibGVcblx0ICoqL1xuXHRwLmJlZ2luUmFkaWFsR3JhZGllbnRTdHJva2UgPSBmdW5jdGlvbihjb2xvcnMsIHJhdGlvcywgeDAsIHkwLCByMCwgeDEsIHkxLCByMSkge1xuXHRcdHJldHVybiB0aGlzLl9zZXRTdHJva2UobmV3IEcuU3Ryb2tlKCkucmFkaWFsR3JhZGllbnQoY29sb3JzLCByYXRpb3MsIHgwLCB5MCwgcjAsIHgxLCB5MSwgcjEpKTtcblx0fTtcblxuXHQvKipcblx0ICogQmVnaW5zIGEgcGF0dGVybiBmaWxsIHVzaW5nIHRoZSBzcGVjaWZpZWQgaW1hZ2UuIFRoaXMgZW5kcyB0aGUgY3VycmVudCBzdWItcGF0aC4gTm90ZSB0aGF0IHVubGlrZSBiaXRtYXAgZmlsbHMsXG5cdCAqIHN0cm9rZXMgZG8gbm90IGN1cnJlbnRseSBzdXBwb3J0IGEgbWF0cml4IHBhcmFtZXRlciBkdWUgdG8gbGltaXRhdGlvbnMgaW4gdGhlIGNhbnZhcyBBUEkuIEEgdGlueSBBUEkgbWV0aG9kIFwiYnNcIlxuXHQgKiBhbHNvIGV4aXN0cy5cblx0ICogQG1ldGhvZCBiZWdpbkJpdG1hcFN0cm9rZVxuXHQgKiBAcGFyYW0ge0hUTUxJbWFnZUVsZW1lbnQgfCBIVE1MQ2FudmFzRWxlbWVudCB8IEhUTUxWaWRlb0VsZW1lbnR9IGltYWdlIFRoZSBJbWFnZSwgQ2FudmFzLCBvciBWaWRlbyBvYmplY3QgdG8gdXNlXG5cdCAqIGFzIHRoZSBwYXR0ZXJuLiBNdXN0IGJlIGxvYWRlZCBwcmlvciB0byBjcmVhdGluZyBhIGJpdG1hcCBmaWxsLCBvciB0aGUgZmlsbCB3aWxsIGJlIGVtcHR5LlxuXHQgKiBAcGFyYW0ge1N0cmluZ30gW3JlcGV0aXRpb249cmVwZWF0XSBPcHRpb25hbC4gSW5kaWNhdGVzIHdoZXRoZXIgdG8gcmVwZWF0IHRoZSBpbWFnZSBpbiB0aGUgZmlsbCBhcmVhLiBPbmUgb2Zcblx0ICogXCJyZXBlYXRcIiwgXCJyZXBlYXQteFwiLCBcInJlcGVhdC15XCIsIG9yIFwibm8tcmVwZWF0XCIuIERlZmF1bHRzIHRvIFwicmVwZWF0XCIuXG5cdCAqIEByZXR1cm4ge0dyYXBoaWNzfSBUaGUgR3JhcGhpY3MgaW5zdGFuY2UgdGhlIG1ldGhvZCBpcyBjYWxsZWQgb24gKHVzZWZ1bCBmb3IgY2hhaW5pbmcgY2FsbHMuKVxuXHQgKiBAY2hhaW5hYmxlXG5cdCAqKi9cblx0cC5iZWdpbkJpdG1hcFN0cm9rZSA9IGZ1bmN0aW9uKGltYWdlLCByZXBldGl0aW9uKSB7XG5cdFx0Ly8gTk9URTogbWF0cml4IGlzIG5vdCBzdXBwb3J0ZWQgZm9yIHN0cm9rZSBiZWNhdXNlIHRyYW5zZm9ybXMgb24gc3Ryb2tlcyBhbHNvIGFmZmVjdCB0aGUgZHJhd24gc3Ryb2tlIHdpZHRoLlxuXHRcdHJldHVybiB0aGlzLl9zZXRTdHJva2UobmV3IEcuU3Ryb2tlKCkuYml0bWFwKGltYWdlLCByZXBldGl0aW9uKSk7XG5cdH07XG5cblx0LyoqXG5cdCAqIEVuZHMgdGhlIGN1cnJlbnQgc3ViLXBhdGgsIGFuZCBiZWdpbnMgYSBuZXcgb25lIHdpdGggbm8gc3Ryb2tlLiBGdW5jdGlvbmFsbHkgaWRlbnRpY2FsIHRvIDxjb2RlPmJlZ2luU3Ryb2tlKG51bGwpPC9jb2RlPi5cblx0ICogQSB0aW55IEFQSSBtZXRob2QgXCJlc1wiIGFsc28gZXhpc3RzLlxuXHQgKiBAbWV0aG9kIGVuZFN0cm9rZVxuXHQgKiBAcmV0dXJuIHtHcmFwaGljc30gVGhlIEdyYXBoaWNzIGluc3RhbmNlIHRoZSBtZXRob2QgaXMgY2FsbGVkIG9uICh1c2VmdWwgZm9yIGNoYWluaW5nIGNhbGxzLilcblx0ICogQGNoYWluYWJsZVxuXHQgKiovXG5cdHAuZW5kU3Ryb2tlID0gZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMuYmVnaW5TdHJva2UoKTtcblx0fTtcblxuXHQvKipcblx0ICogTWFwcyB0aGUgZmFtaWxpYXIgQWN0aW9uU2NyaXB0IDxjb2RlPmN1cnZlVG8oKTwvY29kZT4gbWV0aG9kIHRvIHRoZSBmdW5jdGlvbmFsbHkgc2ltaWxhciB7eyNjcm9zc0xpbmsgXCJHcmFwaGljcy9xdWFkcmF0aWNDdXJ2ZVRvXCJ9fXt7L2Nyb3NzTGlua319XG5cdCAqIG1ldGhvZC5cblx0ICogQG1ldGhvZCBjdXJ2ZVRvXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBjcHhcblx0ICogQHBhcmFtIHtOdW1iZXJ9IGNweVxuXHQgKiBAcGFyYW0ge051bWJlcn0geFxuXHQgKiBAcGFyYW0ge051bWJlcn0geVxuXHQgKiBAcmV0dXJuIHtHcmFwaGljc30gVGhlIEdyYXBoaWNzIGluc3RhbmNlIHRoZSBtZXRob2QgaXMgY2FsbGVkIG9uICh1c2VmdWwgZm9yIGNoYWluaW5nIGNhbGxzLilcblx0ICogQGNoYWluYWJsZVxuXHQgKiovXG5cdHAuY3VydmVUbyA9IHAucXVhZHJhdGljQ3VydmVUbztcblxuXHQvKipcblx0ICpcblx0ICogTWFwcyB0aGUgZmFtaWxpYXIgQWN0aW9uU2NyaXB0IDxjb2RlPmRyYXdSZWN0KCk8L2NvZGU+IG1ldGhvZCB0byB0aGUgZnVuY3Rpb25hbGx5IHNpbWlsYXIge3sjY3Jvc3NMaW5rIFwiR3JhcGhpY3MvcmVjdFwifX17ey9jcm9zc0xpbmt9fVxuXHQgKiBtZXRob2QuXG5cdCAqIEBtZXRob2QgZHJhd1JlY3Rcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHhcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHlcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHcgV2lkdGggb2YgdGhlIHJlY3RhbmdsZVxuXHQgKiBAcGFyYW0ge051bWJlcn0gaCBIZWlnaHQgb2YgdGhlIHJlY3RhbmdsZVxuXHQgKiBAcmV0dXJuIHtHcmFwaGljc30gVGhlIEdyYXBoaWNzIGluc3RhbmNlIHRoZSBtZXRob2QgaXMgY2FsbGVkIG9uICh1c2VmdWwgZm9yIGNoYWluaW5nIGNhbGxzLilcblx0ICogQGNoYWluYWJsZVxuXHQgKiovXG5cdHAuZHJhd1JlY3QgPSBwLnJlY3Q7XG5cblx0LyoqXG5cdCAqIERyYXdzIGEgcm91bmRlZCByZWN0YW5nbGUgd2l0aCBhbGwgY29ybmVycyB3aXRoIHRoZSBzcGVjaWZpZWQgcmFkaXVzLlxuXHQgKiBAbWV0aG9kIGRyYXdSb3VuZFJlY3Rcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHhcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHlcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHdcblx0ICogQHBhcmFtIHtOdW1iZXJ9IGhcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHJhZGl1cyBDb3JuZXIgcmFkaXVzLlxuXHQgKiBAcmV0dXJuIHtHcmFwaGljc30gVGhlIEdyYXBoaWNzIGluc3RhbmNlIHRoZSBtZXRob2QgaXMgY2FsbGVkIG9uICh1c2VmdWwgZm9yIGNoYWluaW5nIGNhbGxzLilcblx0ICogQGNoYWluYWJsZVxuXHQgKiovXG5cdHAuZHJhd1JvdW5kUmVjdCA9IGZ1bmN0aW9uKHgsIHksIHcsIGgsIHJhZGl1cykge1xuXHRcdHJldHVybiB0aGlzLmRyYXdSb3VuZFJlY3RDb21wbGV4KHgsIHksIHcsIGgsIHJhZGl1cywgcmFkaXVzLCByYWRpdXMsIHJhZGl1cyk7XG5cdH07XG5cblx0LyoqXG5cdCAqIERyYXdzIGEgcm91bmRlZCByZWN0YW5nbGUgd2l0aCBkaWZmZXJlbnQgY29ybmVyIHJhZGlpLiBTdXBwb3J0cyBwb3NpdGl2ZSBhbmQgbmVnYXRpdmUgY29ybmVyIHJhZGlpLiBBIHRpbnkgQVBJXG5cdCAqIG1ldGhvZCBcInJjXCIgYWxzbyBleGlzdHMuXG5cdCAqIEBtZXRob2QgZHJhd1JvdW5kUmVjdENvbXBsZXhcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHggVGhlIGhvcml6b250YWwgY29vcmRpbmF0ZSB0byBkcmF3IHRoZSByb3VuZCByZWN0LlxuXHQgKiBAcGFyYW0ge051bWJlcn0geSBUaGUgdmVydGljYWwgY29vcmRpbmF0ZSB0byBkcmF3IHRoZSByb3VuZCByZWN0LlxuXHQgKiBAcGFyYW0ge051bWJlcn0gdyBUaGUgd2lkdGggb2YgdGhlIHJvdW5kIHJlY3QuXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBoIFRoZSBoZWlnaHQgb2YgdGhlIHJvdW5kIHJlY3QuXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSByYWRpdXNUTCBUb3AgbGVmdCBjb3JuZXIgcmFkaXVzLlxuXHQgKiBAcGFyYW0ge051bWJlcn0gcmFkaXVzVFIgVG9wIHJpZ2h0IGNvcm5lciByYWRpdXMuXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSByYWRpdXNCUiBCb3R0b20gcmlnaHQgY29ybmVyIHJhZGl1cy5cblx0ICogQHBhcmFtIHtOdW1iZXJ9IHJhZGl1c0JMIEJvdHRvbSBsZWZ0IGNvcm5lciByYWRpdXMuXG5cdCAqIEByZXR1cm4ge0dyYXBoaWNzfSBUaGUgR3JhcGhpY3MgaW5zdGFuY2UgdGhlIG1ldGhvZCBpcyBjYWxsZWQgb24gKHVzZWZ1bCBmb3IgY2hhaW5pbmcgY2FsbHMuKVxuXHQgKiBAY2hhaW5hYmxlXG5cdCAqKi9cblx0cC5kcmF3Um91bmRSZWN0Q29tcGxleCA9IGZ1bmN0aW9uKHgsIHksIHcsIGgsIHJhZGl1c1RMLCByYWRpdXNUUiwgcmFkaXVzQlIsIHJhZGl1c0JMKSB7XG5cdFx0cmV0dXJuIHRoaXMuYXBwZW5kKG5ldyBHLlJvdW5kUmVjdCh4LCB5LCB3LCBoLCByYWRpdXNUTCwgcmFkaXVzVFIsIHJhZGl1c0JSLCByYWRpdXNCTCkpO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBEcmF3cyBhIGNpcmNsZSB3aXRoIHRoZSBzcGVjaWZpZWQgcmFkaXVzIGF0ICh4LCB5KS5cblx0ICpcblx0ICogICAgICB2YXIgZyA9IG5ldyBjcmVhdGVqcy5HcmFwaGljcygpO1xuXHQgKlx0ICAgIGcuc2V0U3Ryb2tlU3R5bGUoMSk7XG5cdCAqXHQgICAgZy5iZWdpblN0cm9rZShjcmVhdGVqcy5HcmFwaGljcy5nZXRSR0IoMCwwLDApKTtcblx0ICpcdCAgICBnLmJlZ2luRmlsbChjcmVhdGVqcy5HcmFwaGljcy5nZXRSR0IoMjU1LDAsMCkpO1xuXHQgKlx0ICAgIGcuZHJhd0NpcmNsZSgwLDAsMyk7XG5cdCAqXG5cdCAqXHQgICAgdmFyIHMgPSBuZXcgY3JlYXRlanMuU2hhcGUoZyk7XG5cdCAqXHRcdHMueCA9IDEwMDtcblx0ICpcdFx0cy55ID0gMTAwO1xuXHQgKlxuXHQgKlx0ICAgIHN0YWdlLmFkZENoaWxkKHMpO1xuXHQgKlx0ICAgIHN0YWdlLnVwZGF0ZSgpO1xuXHQgKlxuXHQgKiBBIHRpbnkgQVBJIG1ldGhvZCBcImRjXCIgYWxzbyBleGlzdHMuXG5cdCAqIEBtZXRob2QgZHJhd0NpcmNsZVxuXHQgKiBAcGFyYW0ge051bWJlcn0geCB4IGNvb3JkaW5hdGUgY2VudGVyIHBvaW50IG9mIGNpcmNsZS5cblx0ICogQHBhcmFtIHtOdW1iZXJ9IHkgeSBjb29yZGluYXRlIGNlbnRlciBwb2ludCBvZiBjaXJjbGUuXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSByYWRpdXMgUmFkaXVzIG9mIGNpcmNsZS5cblx0ICogQHJldHVybiB7R3JhcGhpY3N9IFRoZSBHcmFwaGljcyBpbnN0YW5jZSB0aGUgbWV0aG9kIGlzIGNhbGxlZCBvbiAodXNlZnVsIGZvciBjaGFpbmluZyBjYWxscy4pXG5cdCAqIEBjaGFpbmFibGVcblx0ICoqL1xuXHRwLmRyYXdDaXJjbGUgPSBmdW5jdGlvbih4LCB5LCByYWRpdXMpIHtcblx0XHRyZXR1cm4gdGhpcy5hcHBlbmQobmV3IEcuQ2lyY2xlKHgsIHksIHJhZGl1cykpO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBEcmF3cyBhbiBlbGxpcHNlIChvdmFsKSB3aXRoIGEgc3BlY2lmaWVkIHdpZHRoICh3KSBhbmQgaGVpZ2h0IChoKS4gU2ltaWxhciB0byB7eyNjcm9zc0xpbmsgXCJHcmFwaGljcy9kcmF3Q2lyY2xlXCJ9fXt7L2Nyb3NzTGlua319LFxuXHQgKiBleGNlcHQgdGhlIHdpZHRoIGFuZCBoZWlnaHQgY2FuIGJlIGRpZmZlcmVudC4gQSB0aW55IEFQSSBtZXRob2QgXCJkZVwiIGFsc28gZXhpc3RzLlxuXHQgKiBAbWV0aG9kIGRyYXdFbGxpcHNlXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB4IFRoZSBsZWZ0IGNvb3JkaW5hdGUgcG9pbnQgb2YgdGhlIGVsbGlwc2UuIE5vdGUgdGhhdCB0aGlzIGlzIGRpZmZlcmVudCBmcm9tIHt7I2Nyb3NzTGluayBcIkdyYXBoaWNzL2RyYXdDaXJjbGVcIn19e3svY3Jvc3NMaW5rfX1cblx0ICogd2hpY2ggZHJhd3MgZnJvbSBjZW50ZXIuXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB5IFRoZSB0b3AgY29vcmRpbmF0ZSBwb2ludCBvZiB0aGUgZWxsaXBzZS4gTm90ZSB0aGF0IHRoaXMgaXMgZGlmZmVyZW50IGZyb20ge3sjY3Jvc3NMaW5rIFwiR3JhcGhpY3MvZHJhd0NpcmNsZVwifX17ey9jcm9zc0xpbmt9fVxuXHQgKiB3aGljaCBkcmF3cyBmcm9tIHRoZSBjZW50ZXIuXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB3IFRoZSBoZWlnaHQgKGhvcml6b250YWwgZGlhbWV0ZXIpIG9mIHRoZSBlbGxpcHNlLiBUaGUgaG9yaXpvbnRhbCByYWRpdXMgd2lsbCBiZSBoYWxmIG9mIHRoaXNcblx0ICogbnVtYmVyLlxuXHQgKiBAcGFyYW0ge051bWJlcn0gaCBUaGUgd2lkdGggKHZlcnRpY2FsIGRpYW1ldGVyKSBvZiB0aGUgZWxsaXBzZS4gVGhlIHZlcnRpY2FsIHJhZGl1cyB3aWxsIGJlIGhhbGYgb2YgdGhpcyBudW1iZXIuXG5cdCAqIEByZXR1cm4ge0dyYXBoaWNzfSBUaGUgR3JhcGhpY3MgaW5zdGFuY2UgdGhlIG1ldGhvZCBpcyBjYWxsZWQgb24gKHVzZWZ1bCBmb3IgY2hhaW5pbmcgY2FsbHMuKVxuXHQgKiBAY2hhaW5hYmxlXG5cdCAqKi9cblx0cC5kcmF3RWxsaXBzZSA9IGZ1bmN0aW9uKHgsIHksIHcsIGgpIHtcblx0XHRyZXR1cm4gdGhpcy5hcHBlbmQobmV3IEcuRWxsaXBzZSh4LCB5LCB3LCBoKSk7XG5cdH07XG5cblx0LyoqXG5cdCAqIERyYXdzIGEgc3RhciBpZiBwb2ludFNpemUgaXMgZ3JlYXRlciB0aGFuIDAsIG9yIGEgcmVndWxhciBwb2x5Z29uIGlmIHBvaW50U2l6ZSBpcyAwIHdpdGggdGhlIHNwZWNpZmllZCBudW1iZXIgb2Zcblx0ICogcG9pbnRzLiBGb3IgZXhhbXBsZSwgdGhlIGZvbGxvd2luZyBjb2RlIHdpbGwgZHJhdyBhIGZhbWlsaWFyIDUgcG9pbnRlZCBzdGFyIHNoYXBlIGNlbnRlcmVkIGF0IDEwMCwgMTAwIGFuZCB3aXRoIGFcblx0ICogcmFkaXVzIG9mIDUwOlxuXHQgKlxuXHQgKiAgICAgIG15R3JhcGhpY3MuYmVnaW5GaWxsKFwiI0ZGMFwiKS5kcmF3UG9seVN0YXIoMTAwLCAxMDAsIDUwLCA1LCAwLjYsIC05MCk7XG5cdCAqICAgICAgLy8gTm90ZTogLTkwIG1ha2VzIHRoZSBmaXJzdCBwb2ludCB2ZXJ0aWNhbFxuXHQgKlxuXHQgKiBBIHRpbnkgQVBJIG1ldGhvZCBcImRwXCIgYWxzbyBleGlzdHMuXG5cdCAqXG5cdCAqIEBtZXRob2QgZHJhd1BvbHlTdGFyXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB4IFBvc2l0aW9uIG9mIHRoZSBjZW50ZXIgb2YgdGhlIHNoYXBlLlxuXHQgKiBAcGFyYW0ge051bWJlcn0geSBQb3NpdGlvbiBvZiB0aGUgY2VudGVyIG9mIHRoZSBzaGFwZS5cblx0ICogQHBhcmFtIHtOdW1iZXJ9IHJhZGl1cyBUaGUgb3V0ZXIgcmFkaXVzIG9mIHRoZSBzaGFwZS5cblx0ICogQHBhcmFtIHtOdW1iZXJ9IHNpZGVzIFRoZSBudW1iZXIgb2YgcG9pbnRzIG9uIHRoZSBzdGFyIG9yIHNpZGVzIG9uIHRoZSBwb2x5Z29uLlxuXHQgKiBAcGFyYW0ge051bWJlcn0gcG9pbnRTaXplIFRoZSBkZXB0aCBvciBcInBvaW50eS1uZXNzXCIgb2YgdGhlIHN0YXIgcG9pbnRzLiBBIHBvaW50U2l6ZSBvZiAwIHdpbGwgZHJhdyBhIHJlZ3VsYXJcblx0ICogcG9seWdvbiAobm8gcG9pbnRzKSwgYSBwb2ludFNpemUgb2YgMSB3aWxsIGRyYXcgbm90aGluZyBiZWNhdXNlIHRoZSBwb2ludHMgYXJlIGluZmluaXRlbHkgcG9pbnR5LlxuXHQgKiBAcGFyYW0ge051bWJlcn0gYW5nbGUgVGhlIGFuZ2xlIG9mIHRoZSBmaXJzdCBwb2ludCAvIGNvcm5lci4gRm9yIGV4YW1wbGUgYSB2YWx1ZSBvZiAwIHdpbGwgZHJhdyB0aGUgZmlyc3QgcG9pbnRcblx0ICogZGlyZWN0bHkgdG8gdGhlIHJpZ2h0IG9mIHRoZSBjZW50ZXIuXG5cdCAqIEByZXR1cm4ge0dyYXBoaWNzfSBUaGUgR3JhcGhpY3MgaW5zdGFuY2UgdGhlIG1ldGhvZCBpcyBjYWxsZWQgb24gKHVzZWZ1bCBmb3IgY2hhaW5pbmcgY2FsbHMuKVxuXHQgKiBAY2hhaW5hYmxlXG5cdCAqKi9cblx0cC5kcmF3UG9seVN0YXIgPSBmdW5jdGlvbih4LCB5LCByYWRpdXMsIHNpZGVzLCBwb2ludFNpemUsIGFuZ2xlKSB7XG5cdFx0cmV0dXJuIHRoaXMuYXBwZW5kKG5ldyBHLlBvbHlTdGFyKHgsIHksIHJhZGl1cywgc2lkZXMsIHBvaW50U2l6ZSwgYW5nbGUpKTtcblx0fTtcblxuXHQvKipcblx0ICogQXBwZW5kcyBhIGdyYXBoaWNzIGNvbW1hbmQgb2JqZWN0IHRvIHRoZSBncmFwaGljcyBxdWV1ZS4gQ29tbWFuZCBvYmplY3RzIGV4cG9zZSBhbiBcImV4ZWNcIiBtZXRob2Rcblx0ICogdGhhdCBhY2NlcHRzIHR3byBwYXJhbWV0ZXJzOiB0aGUgQ29udGV4dDJEIHRvIG9wZXJhdGUgb24sIGFuZCBhbiBhcmJpdHJhcnkgZGF0YSBvYmplY3QgcGFzc2VkIGludG9cblx0ICoge3sjY3Jvc3NMaW5rIFwiR3JhcGhpY3MvZHJhd1wifX17ey9jcm9zc0xpbmt9fS4gVGhlIGxhdHRlciB3aWxsIHVzdWFsbHkgYmUgdGhlIFNoYXBlIGluc3RhbmNlIHRoYXQgY2FsbGVkIGRyYXcuXG5cdCAqXG5cdCAqIFRoaXMgbWV0aG9kIGlzIHVzZWQgaW50ZXJuYWxseSBieSBHcmFwaGljcyBtZXRob2RzLCBzdWNoIGFzIGRyYXdDaXJjbGUsIGJ1dCBjYW4gYWxzbyBiZSB1c2VkIGRpcmVjdGx5IHRvIGluc2VydFxuXHQgKiBidWlsdC1pbiBvciBjdXN0b20gZ3JhcGhpY3MgY29tbWFuZHMuIEZvciBleGFtcGxlOlxuXHQgKlxuXHQgKiBcdFx0Ly8gYXR0YWNoIGRhdGEgdG8gb3VyIHNoYXBlLCBzbyB3ZSBjYW4gYWNjZXNzIGl0IGR1cmluZyB0aGUgZHJhdzpcblx0ICogXHRcdG15U2hhcGUuY29sb3IgPSBcInJlZFwiO1xuXHQgKlxuXHQgKiBcdFx0Ly8gYXBwZW5kIGEgQ2lyY2xlIGNvbW1hbmQgb2JqZWN0OlxuXHQgKiBcdFx0bXlTaGFwZS5ncmFwaGljcy5hcHBlbmQobmV3IGNyZWF0ZWpzLkdyYXBoaWNzLkNpcmNsZSg1MCwgNTAsIDMwKSk7XG5cdCAqXG5cdCAqIFx0XHQvLyBhcHBlbmQgYSBjdXN0b20gY29tbWFuZCBvYmplY3Qgd2l0aCBhbiBleGVjIG1ldGhvZCB0aGF0IHNldHMgdGhlIGZpbGwgc3R5bGVcblx0ICogXHRcdC8vIGJhc2VkIG9uIHRoZSBzaGFwZSdzIGRhdGEsIGFuZCB0aGVuIGZpbGxzIHRoZSBjaXJjbGUuXG5cdCAqIFx0XHRteVNoYXBlLmdyYXBoaWNzLmFwcGVuZCh7ZXhlYzpmdW5jdGlvbihjdHgsIHNoYXBlKSB7XG5cdCAqIFx0XHRcdGN0eC5maWxsU3R5bGUgPSBzaGFwZS5jb2xvcjtcblx0ICogXHRcdFx0Y3R4LmZpbGwoKTtcblx0ICogXHRcdH19KTtcblx0ICpcblx0ICogQG1ldGhvZCBhcHBlbmRcblx0ICogQHBhcmFtIHtPYmplY3R9IGNvbW1hbmQgQSBncmFwaGljcyBjb21tYW5kIG9iamVjdCBleHBvc2luZyBhbiBcImV4ZWNcIiBtZXRob2QuXG5cdCAqIEBwYXJhbSB7Ym9vbGVhbn0gY2xlYW4gVGhlIGNsZWFuIHBhcmFtIGlzIHByaW1hcmlseSBmb3IgaW50ZXJuYWwgdXNlLiBBIHZhbHVlIG9mIHRydWUgaW5kaWNhdGVzIHRoYXQgYSBjb21tYW5kIGRvZXMgbm90IGdlbmVyYXRlIGEgcGF0aCB0aGF0IHNob3VsZCBiZSBzdHJva2VkIG9yIGZpbGxlZC5cblx0ICogQHJldHVybiB7R3JhcGhpY3N9IFRoZSBHcmFwaGljcyBpbnN0YW5jZSB0aGUgbWV0aG9kIGlzIGNhbGxlZCBvbiAodXNlZnVsIGZvciBjaGFpbmluZyBjYWxscy4pXG5cdCAqIEBjaGFpbmFibGVcblx0ICoqL1xuXHRwLmFwcGVuZCA9IGZ1bmN0aW9uKGNvbW1hbmQsIGNsZWFuKSB7XG5cdFx0dGhpcy5fYWN0aXZlSW5zdHJ1Y3Rpb25zLnB1c2goY29tbWFuZCk7XG5cdFx0dGhpcy5jb21tYW5kID0gY29tbWFuZDtcblx0XHRpZiAoIWNsZWFuKSB7IHRoaXMuX2RpcnR5ID0gdHJ1ZTsgfVxuXHRcdHJldHVybiB0aGlzO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBEZWNvZGVzIGEgY29tcGFjdCBlbmNvZGVkIHBhdGggc3RyaW5nIGludG8gYSBzZXJpZXMgb2YgZHJhdyBpbnN0cnVjdGlvbnMuXG5cdCAqIFRoaXMgZm9ybWF0IGlzIG5vdCBpbnRlbmRlZCB0byBiZSBodW1hbiByZWFkYWJsZSwgYW5kIGlzIG1lYW50IGZvciB1c2UgYnkgYXV0aG9yaW5nIHRvb2xzLlxuXHQgKiBUaGUgZm9ybWF0IHVzZXMgYSBiYXNlNjQgY2hhcmFjdGVyIHNldCwgd2l0aCBlYWNoIGNoYXJhY3RlciByZXByZXNlbnRpbmcgNiBiaXRzLCB0byBkZWZpbmUgYSBzZXJpZXMgb2YgZHJhd1xuXHQgKiBjb21tYW5kcy5cblx0ICpcblx0ICogRWFjaCBjb21tYW5kIGlzIGNvbXByaXNlZCBvZiBhIHNpbmdsZSBcImhlYWRlclwiIGNoYXJhY3RlciBmb2xsb3dlZCBieSBhIHZhcmlhYmxlIG51bWJlciBvZiBhbHRlcm5hdGluZyB4IGFuZCB5XG5cdCAqIHBvc2l0aW9uIHZhbHVlcy4gUmVhZGluZyB0aGUgaGVhZGVyIGJpdHMgZnJvbSBsZWZ0IHRvIHJpZ2h0IChtb3N0IHRvIGxlYXN0IHNpZ25pZmljYW50KTogYml0cyAxIHRvIDMgc3BlY2lmeSB0aGVcblx0ICogdHlwZSBvZiBvcGVyYXRpb24gKDAtbW92ZVRvLCAxLWxpbmVUbywgMi1xdWFkcmF0aWNDdXJ2ZVRvLCAzLWJlemllckN1cnZlVG8sIDQtY2xvc2VQYXRoLCA1LTcgdW51c2VkKS4gQml0IDRcblx0ICogaW5kaWNhdGVzIHdoZXRoZXIgcG9zaXRpb24gdmFsdWVzIHVzZSAxMiBiaXRzICgyIGNoYXJhY3RlcnMpIG9yIDE4IGJpdHMgKDMgY2hhcmFjdGVycyksIHdpdGggYSBvbmUgaW5kaWNhdGluZyB0aGVcblx0ICogbGF0dGVyLiBCaXRzIDUgYW5kIDYgYXJlIGN1cnJlbnRseSB1bnVzZWQuXG5cdCAqXG5cdCAqIEZvbGxvd2luZyB0aGUgaGVhZGVyIGlzIGEgc2VyaWVzIG9mIDAgKGNsb3NlUGF0aCksIDIgKG1vdmVUbywgbGluZVRvKSwgNCAocXVhZHJhdGljQ3VydmVUbyksIG9yIDYgKGJlemllckN1cnZlVG8pXG5cdCAqIHBhcmFtZXRlcnMuIFRoZXNlIHBhcmFtZXRlcnMgYXJlIGFsdGVybmF0aW5nIHgveSBwb3NpdGlvbnMgcmVwcmVzZW50ZWQgYnkgMiBvciAzIGNoYXJhY3RlcnMgKGFzIGluZGljYXRlZCBieSB0aGVcblx0ICogNHRoIGJpdCBpbiB0aGUgY29tbWFuZCBjaGFyKS4gVGhlc2UgY2hhcmFjdGVycyBjb25zaXN0IG9mIGEgMSBiaXQgc2lnbiAoMSBpcyBuZWdhdGl2ZSwgMCBpcyBwb3NpdGl2ZSksIGZvbGxvd2VkXG5cdCAqIGJ5IGFuIDExICgyIGNoYXIpIG9yIDE3ICgzIGNoYXIpIGJpdCBpbnRlZ2VyIHZhbHVlLiBBbGwgcG9zaXRpb24gdmFsdWVzIGFyZSBpbiB0ZW50aHMgb2YgYSBwaXhlbC4gRXhjZXB0IGluIHRoZVxuXHQgKiBjYXNlIG9mIG1vdmUgb3BlcmF0aW9ucyB3aGljaCBhcmUgYWJzb2x1dGUsIHRoaXMgdmFsdWUgaXMgYSBkZWx0YSBmcm9tIHRoZSBwcmV2aW91cyB4IG9yIHkgcG9zaXRpb24gKGFzXG5cdCAqIGFwcHJvcHJpYXRlKS5cblx0ICpcblx0ICogRm9yIGV4YW1wbGUsIHRoZSBzdHJpbmcgXCJBM2NBQU1BdTRBQUFcIiByZXByZXNlbnRzIGEgbGluZSBzdGFydGluZyBhdCAtMTUwLDAgYW5kIGVuZGluZyBhdCAxNTAsMC5cblx0ICogPGJyIC8+QSAtIGJpdHMgMDAwMDAwLiBGaXJzdCAzIGJpdHMgKDAwMCkgaW5kaWNhdGUgYSBtb3ZlVG8gb3BlcmF0aW9uLiA0dGggYml0ICgwKSBpbmRpY2F0ZXMgMiBjaGFycyBwZXJcblx0ICogcGFyYW1ldGVyLlxuXHQgKiA8YnIgLz5uMCAtIDExMDExMTAxMTEwMC4gQWJzb2x1dGUgeCBwb3NpdGlvbiBvZiAtMTUwLjBweC4gRmlyc3QgYml0IGluZGljYXRlcyBhIG5lZ2F0aXZlIHZhbHVlLCByZW1haW5pbmcgYml0c1xuXHQgKiBpbmRpY2F0ZSAxNTAwIHRlbnRocyBvZiBhIHBpeGVsLlxuXHQgKiA8YnIgLz5BQSAtIDAwMDAwMDAwMDAwMC4gQWJzb2x1dGUgeSBwb3NpdGlvbiBvZiAwLlxuXHQgKiA8YnIgLz5JIC0gMDAxMTAwLiBGaXJzdCAzIGJpdHMgKDAwMSkgaW5kaWNhdGUgYSBsaW5lVG8gb3BlcmF0aW9uLiA0dGggYml0ICgxKSBpbmRpY2F0ZXMgMyBjaGFycyBwZXIgcGFyYW1ldGVyLlxuXHQgKiA8YnIgLz5BdTQgLSAwMDAwMDAxMDExMTAxMTEwMDAuIEFuIHggZGVsdGEgb2YgMzAwLjBweCwgd2hpY2ggaXMgYWRkZWQgdG8gdGhlIHByZXZpb3VzIHggdmFsdWUgb2YgLTE1MC4wcHggdG9cblx0ICogcHJvdmlkZSBhbiBhYnNvbHV0ZSBwb3NpdGlvbiBvZiArMTUwLjBweC5cblx0ICogPGJyIC8+QUFBIC0gMDAwMDAwMDAwMDAwMDAwMDAwLiBBIHkgZGVsdGEgdmFsdWUgb2YgMC5cblx0ICpcblx0ICogQSB0aW55IEFQSSBtZXRob2QgXCJwXCIgYWxzbyBleGlzdHMuXG5cdCAqIEBtZXRob2QgZGVjb2RlUGF0aFxuXHQgKiBAcGFyYW0ge1N0cmluZ30gc3RyIFRoZSBwYXRoIHN0cmluZyB0byBkZWNvZGUuXG5cdCAqIEByZXR1cm4ge0dyYXBoaWNzfSBUaGUgR3JhcGhpY3MgaW5zdGFuY2UgdGhlIG1ldGhvZCBpcyBjYWxsZWQgb24gKHVzZWZ1bCBmb3IgY2hhaW5pbmcgY2FsbHMuKVxuXHQgKiBAY2hhaW5hYmxlXG5cdCAqKi9cblx0cC5kZWNvZGVQYXRoID0gZnVuY3Rpb24oc3RyKSB7XG5cdFx0dmFyIGluc3RydWN0aW9ucyA9IFt0aGlzLm1vdmVUbywgdGhpcy5saW5lVG8sIHRoaXMucXVhZHJhdGljQ3VydmVUbywgdGhpcy5iZXppZXJDdXJ2ZVRvLCB0aGlzLmNsb3NlUGF0aF07XG5cdFx0dmFyIHBhcmFtQ291bnQgPSBbMiwgMiwgNCwgNiwgMF07XG5cdFx0dmFyIGk9MCwgbD1zdHIubGVuZ3RoO1xuXHRcdHZhciBwYXJhbXMgPSBbXTtcblx0XHR2YXIgeD0wLCB5PTA7XG5cdFx0dmFyIGJhc2U2NCA9IEdyYXBoaWNzLkJBU0VfNjQ7XG5cblx0XHR3aGlsZSAoaTxsKSB7XG5cdFx0XHR2YXIgYyA9IHN0ci5jaGFyQXQoaSk7XG5cdFx0XHR2YXIgbiA9IGJhc2U2NFtjXTtcblx0XHRcdHZhciBmaSA9IG4+PjM7IC8vIGhpZ2hlc3Qgb3JkZXIgYml0cyAxLTMgY29kZSBmb3Igb3BlcmF0aW9uLlxuXHRcdFx0dmFyIGYgPSBpbnN0cnVjdGlvbnNbZmldO1xuXHRcdFx0Ly8gY2hlY2sgdGhhdCB3ZSBoYXZlIGEgdmFsaWQgaW5zdHJ1Y3Rpb24gJiB0aGF0IHRoZSB1bnVzZWQgYml0cyBhcmUgZW1wdHk6XG5cdFx0XHRpZiAoIWYgfHwgKG4mMykpIHsgdGhyb3coXCJiYWQgcGF0aCBkYXRhIChAXCIraStcIik6IFwiK2MpOyB9XG5cdFx0XHR2YXIgcGwgPSBwYXJhbUNvdW50W2ZpXTtcblx0XHRcdGlmICghZmkpIHsgeD15PTA7IH0gLy8gbW92ZSBvcGVyYXRpb25zIHJlc2V0IHRoZSBwb3NpdGlvbi5cblx0XHRcdHBhcmFtcy5sZW5ndGggPSAwO1xuXHRcdFx0aSsrO1xuXHRcdFx0dmFyIGNoYXJDb3VudCA9IChuPj4yJjEpKzI7ICAvLyA0dGggaGVhZGVyIGJpdCBpbmRpY2F0ZXMgbnVtYmVyIHNpemUgZm9yIHRoaXMgb3BlcmF0aW9uLlxuXHRcdFx0Zm9yICh2YXIgcD0wOyBwPHBsOyBwKyspIHtcblx0XHRcdFx0dmFyIG51bSA9IGJhc2U2NFtzdHIuY2hhckF0KGkpXTtcblx0XHRcdFx0dmFyIHNpZ24gPSAobnVtPj41KSA/IC0xIDogMTtcblx0XHRcdFx0bnVtID0gKChudW0mMzEpPDw2KXwoYmFzZTY0W3N0ci5jaGFyQXQoaSsxKV0pO1xuXHRcdFx0XHRpZiAoY2hhckNvdW50ID09IDMpIHsgbnVtID0gKG51bTw8Nil8KGJhc2U2NFtzdHIuY2hhckF0KGkrMildKTsgfVxuXHRcdFx0XHRudW0gPSBzaWduKm51bS8xMDtcblx0XHRcdFx0aWYgKHAlMikgeyB4ID0gKG51bSArPSB4KTsgfVxuXHRcdFx0XHRlbHNlIHsgeSA9IChudW0gKz0geSk7IH1cblx0XHRcdFx0cGFyYW1zW3BdID0gbnVtO1xuXHRcdFx0XHRpICs9IGNoYXJDb3VudDtcblx0XHRcdH1cblx0XHRcdGYuYXBwbHkodGhpcyxwYXJhbXMpO1xuXHRcdH1cblx0XHRyZXR1cm4gdGhpcztcblx0fTtcblxuXHQvKipcblx0ICogU3RvcmVzIGFsbCBncmFwaGljcyBjb21tYW5kcyBzbyB0aGV5IHdvbid0IGJlIGV4ZWN1dGVkIGluIGZ1dHVyZSBkcmF3cy4gQ2FsbGluZyBzdG9yZSgpIGEgc2Vjb25kIHRpbWUgYWRkcyB0b1xuXHQgKiB0aGUgZXhpc3Rpbmcgc3RvcmUuIFRoaXMgYWxzbyBhZmZlY3RzIGBkcmF3QXNQYXRoKClgLlxuXHQgKlxuXHQgKiBUaGlzIGlzIHVzZWZ1bCBpbiBjYXNlcyB3aGVyZSB5b3UgYXJlIGNyZWF0aW5nIHZlY3RvciBncmFwaGljcyBpbiBhbiBpdGVyYXRpdmUgbWFubmVyIChleC4gZ2VuZXJhdGl2ZSBhcnQpLCBzb1xuXHQgKiB0aGF0IG9ubHkgbmV3IGdyYXBoaWNzIG5lZWQgdG8gYmUgZHJhd24gKHdoaWNoIGNhbiBwcm92aWRlIGh1Z2UgcGVyZm9ybWFuY2UgYmVuZWZpdHMpLCBidXQgeW91IHdpc2ggdG8gcmV0YWluIGFsbFxuXHQgKiBvZiB0aGUgdmVjdG9yIGluc3RydWN0aW9ucyBmb3IgbGF0ZXIgdXNlIChleC4gc2NhbGluZywgbW9kaWZ5aW5nLCBvciBleHBvcnRpbmcpLlxuXHQgKlxuXHQgKiBOb3RlIHRoYXQgY2FsbGluZyBzdG9yZSgpIHdpbGwgZm9yY2UgdGhlIGFjdGl2ZSBwYXRoIChpZiBhbnkpIHRvIGJlIGVuZGVkIGluIGEgbWFubmVyIHNpbWlsYXIgdG8gY2hhbmdpbmdcblx0ICogdGhlIGZpbGwgb3Igc3Ryb2tlLlxuXHQgKlxuXHQgKiBGb3IgZXhhbXBsZSwgY29uc2lkZXIgYSBhcHBsaWNhdGlvbiB3aGVyZSB0aGUgdXNlciBkcmF3cyBsaW5lcyB3aXRoIHRoZSBtb3VzZS4gQXMgZWFjaCBsaW5lIHNlZ21lbnQgKG9yIGNvbGxlY3Rpb24gb2Zcblx0ICogc2VnbWVudHMpIGFyZSBhZGRlZCB0byBhIFNoYXBlLCBpdCBjYW4gYmUgcmFzdGVyaXplZCB1c2luZyB7eyNjcm9zc0xpbmsgXCJEaXNwbGF5T2JqZWN0L3VwZGF0ZUNhY2hlXCJ9fXt7L2Nyb3NzTGlua319LFxuXHQgKiBhbmQgdGhlbiBzdG9yZWQsIHNvIHRoYXQgaXQgY2FuIGJlIHJlZHJhd24gYXQgYSBkaWZmZXJlbnQgc2NhbGUgd2hlbiB0aGUgYXBwbGljYXRpb24gaXMgcmVzaXplZCwgb3IgZXhwb3J0ZWQgdG8gU1ZHLlxuXHQgKlxuXHQgKiBcdC8vIHNldCB1cCBjYWNoZTpcblx0ICogXHRteVNoYXBlLmNhY2hlKDAsMCw1MDAsNTAwLHNjYWxlKTtcblx0ICpcblx0ICogXHQvLyB3aGVuIHRoZSB1c2VyIGRyYWdzLCBkcmF3IGEgbmV3IGxpbmU6XG5cdCAqIFx0bXlTaGFwZS5ncmFwaGljcy5tb3ZlVG8ob2xkWCxvbGRZKS5saW5lVG8obmV3WCxuZXdZKTtcblx0ICogXHQvLyB0aGVuIGRyYXcgaXQgaW50byB0aGUgZXhpc3RpbmcgY2FjaGU6XG5cdCAqIFx0bXlTaGFwZS51cGRhdGVDYWNoZShcInNvdXJjZS1vdmVyXCIpO1xuXHQgKiBcdC8vIHN0b3JlIHRoZSBuZXcgbGluZSwgc28gaXQgaXNuJ3QgcmVkcmF3biBuZXh0IHRpbWU6XG5cdCAqIFx0bXlTaGFwZS5zdG9yZSgpO1xuXHQgKlxuXHQgKiBcdC8vIHRoZW4sIHdoZW4gdGhlIHdpbmRvdyByZXNpemVzLCB3ZSBjYW4gcmUtcmVuZGVyIGF0IGEgZGlmZmVyZW50IHNjYWxlOlxuXHQgKiBcdC8vIGZpcnN0LCB1bnN0b3JlIGFsbCBvdXIgbGluZXM6XG5cdCAqIFx0bXlTaGFwZS51bnN0b3JlKCk7XG5cdCAqIFx0Ly8gdGhlbiBjYWNoZSB1c2luZyB0aGUgbmV3IHNjYWxlOlxuXHQgKiBcdG15U2hhcGUuY2FjaGUoMCwwLDUwMCw1MDAsbmV3U2NhbGUpO1xuXHQgKiBcdC8vIGZpbmFsbHksIHN0b3JlIHRoZSBleGlzdGluZyBjb21tYW5kcyBhZ2Fpbjpcblx0ICogXHRteVNoYXBlLnN0b3JlKCk7XG5cdCAqXG5cdCAqIEBtZXRob2Qgc3RvcmVcblx0ICogQHJldHVybiB7R3JhcGhpY3N9IFRoZSBHcmFwaGljcyBpbnN0YW5jZSB0aGUgbWV0aG9kIGlzIGNhbGxlZCBvbiAodXNlZnVsIGZvciBjaGFpbmluZyBjYWxscy4pXG5cdCAqIEBjaGFpbmFibGVcblx0ICoqL1xuXHRwLnN0b3JlID0gZnVuY3Rpb24oKSB7XG5cdFx0dGhpcy5fdXBkYXRlSW5zdHJ1Y3Rpb25zKHRydWUpO1xuXHRcdHRoaXMuX3N0b3JlSW5kZXggPSB0aGlzLl9pbnN0cnVjdGlvbnMubGVuZ3RoO1xuXHRcdHJldHVybiB0aGlzO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBVbnN0b3JlcyBhbnkgZ3JhcGhpY3MgY29tbWFuZHMgdGhhdCB3ZXJlIHByZXZpb3VzbHkgc3RvcmVkIHVzaW5nIHt7I2Nyb3NzTGluayBcIkdyYXBoaWNzL3N0b3JlXCJ9fXt7L2Nyb3NzTGlua319XG5cdCAqIHNvIHRoYXQgdGhleSB3aWxsIGJlIGV4ZWN1dGVkIGluIHN1YnNlcXVlbnQgZHJhdyBjYWxscy5cblx0ICpcblx0ICogQG1ldGhvZCB1bnN0b3JlXG5cdCAqIEByZXR1cm4ge0dyYXBoaWNzfSBUaGUgR3JhcGhpY3MgaW5zdGFuY2UgdGhlIG1ldGhvZCBpcyBjYWxsZWQgb24gKHVzZWZ1bCBmb3IgY2hhaW5pbmcgY2FsbHMuKVxuXHQgKiBAY2hhaW5hYmxlXG5cdCAqKi9cblx0cC51bnN0b3JlID0gZnVuY3Rpb24oKSB7XG5cdFx0dGhpcy5fc3RvcmVJbmRleCA9IDA7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH07XG5cblx0LyoqXG5cdCAqIFJldHVybnMgYSBjbG9uZSBvZiB0aGlzIEdyYXBoaWNzIGluc3RhbmNlLiBOb3RlIHRoYXQgdGhlIGluZGl2aWR1YWwgY29tbWFuZCBvYmplY3RzIGFyZSBub3QgY2xvbmVkLlxuXHQgKiBAbWV0aG9kIGNsb25lXG5cdCAqIEByZXR1cm4ge0dyYXBoaWNzfSBBIGNsb25lIG9mIHRoZSBjdXJyZW50IEdyYXBoaWNzIGluc3RhbmNlLlxuXHQgKiovXG5cdHAuY2xvbmUgPSBmdW5jdGlvbigpIHtcblx0XHR2YXIgbyA9IG5ldyBHcmFwaGljcygpO1xuXHRcdG8uY29tbWFuZCA9IHRoaXMuY29tbWFuZDtcblx0XHRvLl9zdHJva2UgPSB0aGlzLl9zdHJva2U7XG5cdFx0by5fc3Ryb2tlU3R5bGUgPSB0aGlzLl9zdHJva2VTdHlsZTtcblx0XHRvLl9zdHJva2VEYXNoID0gdGhpcy5fc3Ryb2tlRGFzaDtcblx0XHRvLl9zdHJva2VJZ25vcmVTY2FsZSA9IHRoaXMuX3N0cm9rZUlnbm9yZVNjYWxlO1xuXHRcdG8uX2ZpbGwgPSB0aGlzLl9maWxsO1xuXHRcdG8uX2luc3RydWN0aW9ucyA9IHRoaXMuX2luc3RydWN0aW9ucy5zbGljZSgpO1xuXHRcdG8uX2NvbW1pdEluZGV4ID0gdGhpcy5fY29tbWl0SW5kZXg7XG5cdFx0by5fYWN0aXZlSW5zdHJ1Y3Rpb25zID0gdGhpcy5fYWN0aXZlSW5zdHJ1Y3Rpb25zLnNsaWNlKCk7XG5cdFx0by5fZGlydHkgPSB0aGlzLl9kaXJ0eTtcblx0XHRvLl9zdG9yZUluZGV4ID0gdGhpcy5fc3RvcmVJbmRleDtcblx0XHRyZXR1cm4gbztcblx0fTtcblxuXHQvKipcblx0ICogUmV0dXJucyBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGlzIG9iamVjdC5cblx0ICogQG1ldGhvZCB0b1N0cmluZ1xuXHQgKiBAcmV0dXJuIHtTdHJpbmd9IGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBpbnN0YW5jZS5cblx0ICoqL1xuXHRwLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIFwiW0dyYXBoaWNzXVwiO1xuXHR9O1xuXG5cbi8vIHRpbnkgQVBJOlxuXHQvKipcblx0ICogU2hvcnRjdXQgdG8gbW92ZVRvLlxuXHQgKiBAbWV0aG9kIG10XG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB4IFRoZSB4IGNvb3JkaW5hdGUgdGhlIGRyYXdpbmcgcG9pbnQgc2hvdWxkIG1vdmUgdG8uXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB5IFRoZSB5IGNvb3JkaW5hdGUgdGhlIGRyYXdpbmcgcG9pbnQgc2hvdWxkIG1vdmUgdG8uXG5cdCAqIEByZXR1cm4ge0dyYXBoaWNzfSBUaGUgR3JhcGhpY3MgaW5zdGFuY2UgdGhlIG1ldGhvZCBpcyBjYWxsZWQgb24gKHVzZWZ1bCBmb3IgY2hhaW5pbmcgY2FsbHMpLlxuXHQgKiBAY2hhaW5hYmxlXG5cdCAqIEBwcm90ZWN0ZWRcblx0ICoqL1xuXHRwLm10ID0gcC5tb3ZlVG87XG5cblx0LyoqXG5cdCAqIFNob3J0Y3V0IHRvIGxpbmVUby5cblx0ICogQG1ldGhvZCBsdFxuXHQgKiBAcGFyYW0ge051bWJlcn0geCBUaGUgeCBjb29yZGluYXRlIHRoZSBkcmF3aW5nIHBvaW50IHNob3VsZCBkcmF3IHRvLlxuXHQgKiBAcGFyYW0ge051bWJlcn0geSBUaGUgeSBjb29yZGluYXRlIHRoZSBkcmF3aW5nIHBvaW50IHNob3VsZCBkcmF3IHRvLlxuXHQgKiBAcmV0dXJuIHtHcmFwaGljc30gVGhlIEdyYXBoaWNzIGluc3RhbmNlIHRoZSBtZXRob2QgaXMgY2FsbGVkIG9uICh1c2VmdWwgZm9yIGNoYWluaW5nIGNhbGxzLilcblx0ICogQGNoYWluYWJsZVxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqKi9cblx0cC5sdCA9IHAubGluZVRvO1xuXG5cdC8qKlxuXHQgKiBTaG9ydGN1dCB0byBhcmNUby5cblx0ICogQG1ldGhvZCBhdFxuXHQgKiBAcGFyYW0ge051bWJlcn0geDFcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHkxXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB4MlxuXHQgKiBAcGFyYW0ge051bWJlcn0geTJcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHJhZGl1c1xuXHQgKiBAcmV0dXJuIHtHcmFwaGljc30gVGhlIEdyYXBoaWNzIGluc3RhbmNlIHRoZSBtZXRob2QgaXMgY2FsbGVkIG9uICh1c2VmdWwgZm9yIGNoYWluaW5nIGNhbGxzLilcblx0ICogQGNoYWluYWJsZVxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqKi9cblx0cC5hdCA9IHAuYXJjVG87XG5cblx0LyoqXG5cdCAqIFNob3J0Y3V0IHRvIGJlemllckN1cnZlVG8uXG5cdCAqIEBtZXRob2QgYnRcblx0ICogQHBhcmFtIHtOdW1iZXJ9IGNwMXhcblx0ICogQHBhcmFtIHtOdW1iZXJ9IGNwMXlcblx0ICogQHBhcmFtIHtOdW1iZXJ9IGNwMnhcblx0ICogQHBhcmFtIHtOdW1iZXJ9IGNwMnlcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHhcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHlcblx0ICogQHJldHVybiB7R3JhcGhpY3N9IFRoZSBHcmFwaGljcyBpbnN0YW5jZSB0aGUgbWV0aG9kIGlzIGNhbGxlZCBvbiAodXNlZnVsIGZvciBjaGFpbmluZyBjYWxscy4pXG5cdCAqIEBjaGFpbmFibGVcblx0ICogQHByb3RlY3RlZFxuXHQgKiovXG5cdHAuYnQgPSBwLmJlemllckN1cnZlVG87XG5cblx0LyoqXG5cdCAqIFNob3J0Y3V0IHRvIHF1YWRyYXRpY0N1cnZlVG8gLyBjdXJ2ZVRvLlxuXHQgKiBAbWV0aG9kIHF0XG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBjcHhcblx0ICogQHBhcmFtIHtOdW1iZXJ9IGNweVxuXHQgKiBAcGFyYW0ge051bWJlcn0geFxuXHQgKiBAcGFyYW0ge051bWJlcn0geVxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqIEBjaGFpbmFibGVcblx0ICoqL1xuXHRwLnF0ID0gcC5xdWFkcmF0aWNDdXJ2ZVRvO1xuXG5cdC8qKlxuXHQgKiBTaG9ydGN1dCB0byBhcmMuXG5cdCAqIEBtZXRob2QgYVxuXHQgKiBAcGFyYW0ge051bWJlcn0geFxuXHQgKiBAcGFyYW0ge051bWJlcn0geVxuXHQgKiBAcGFyYW0ge051bWJlcn0gcmFkaXVzXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBzdGFydEFuZ2xlIE1lYXN1cmVkIGluIHJhZGlhbnMuXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBlbmRBbmdsZSBNZWFzdXJlZCBpbiByYWRpYW5zLlxuXHQgKiBAcGFyYW0ge0Jvb2xlYW59IGFudGljbG9ja3dpc2Vcblx0ICogQHJldHVybiB7R3JhcGhpY3N9IFRoZSBHcmFwaGljcyBpbnN0YW5jZSB0aGUgbWV0aG9kIGlzIGNhbGxlZCBvbiAodXNlZnVsIGZvciBjaGFpbmluZyBjYWxscy4pXG5cdCAqIEBwcm90ZWN0ZWRcblx0ICogQGNoYWluYWJsZVxuXHQgKiovXG5cdHAuYSA9IHAuYXJjO1xuXG5cdC8qKlxuXHQgKiBTaG9ydGN1dCB0byByZWN0LlxuXHQgKiBAbWV0aG9kIHJcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHhcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHlcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHcgV2lkdGggb2YgdGhlIHJlY3RhbmdsZVxuXHQgKiBAcGFyYW0ge051bWJlcn0gaCBIZWlnaHQgb2YgdGhlIHJlY3RhbmdsZVxuXHQgKiBAcmV0dXJuIHtHcmFwaGljc30gVGhlIEdyYXBoaWNzIGluc3RhbmNlIHRoZSBtZXRob2QgaXMgY2FsbGVkIG9uICh1c2VmdWwgZm9yIGNoYWluaW5nIGNhbGxzLilcblx0ICogQGNoYWluYWJsZVxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqKi9cblx0cC5yID0gcC5yZWN0O1xuXG5cdC8qKlxuXHQgKiBTaG9ydGN1dCB0byBjbG9zZVBhdGguXG5cdCAqIEBtZXRob2QgY3Bcblx0ICogQHJldHVybiB7R3JhcGhpY3N9IFRoZSBHcmFwaGljcyBpbnN0YW5jZSB0aGUgbWV0aG9kIGlzIGNhbGxlZCBvbiAodXNlZnVsIGZvciBjaGFpbmluZyBjYWxscy4pXG5cdCAqIEBjaGFpbmFibGVcblx0ICogQHByb3RlY3RlZFxuXHQgKiovXG5cdHAuY3AgPSBwLmNsb3NlUGF0aDtcblxuXHQvKipcblx0ICogU2hvcnRjdXQgdG8gY2xlYXIuXG5cdCAqIEBtZXRob2QgY1xuXHQgKiBAcmV0dXJuIHtHcmFwaGljc30gVGhlIEdyYXBoaWNzIGluc3RhbmNlIHRoZSBtZXRob2QgaXMgY2FsbGVkIG9uICh1c2VmdWwgZm9yIGNoYWluaW5nIGNhbGxzLilcblx0ICogQGNoYWluYWJsZVxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqKi9cblx0cC5jID0gcC5jbGVhcjtcblxuXHQvKipcblx0ICogU2hvcnRjdXQgdG8gYmVnaW5GaWxsLlxuXHQgKiBAbWV0aG9kIGZcblx0ICogQHBhcmFtIHtTdHJpbmd9IGNvbG9yIEEgQ1NTIGNvbXBhdGlibGUgY29sb3IgdmFsdWUgKGV4LiBcInJlZFwiLCBcIiNGRjAwMDBcIiwgb3IgXCJyZ2JhKDI1NSwwLDAsMC41KVwiKS4gU2V0dGluZyB0b1xuXHQgKiBudWxsIHdpbGwgcmVzdWx0IGluIG5vIGZpbGwuXG5cdCAqIEByZXR1cm4ge0dyYXBoaWNzfSBUaGUgR3JhcGhpY3MgaW5zdGFuY2UgdGhlIG1ldGhvZCBpcyBjYWxsZWQgb24gKHVzZWZ1bCBmb3IgY2hhaW5pbmcgY2FsbHMuKVxuXHQgKiBAY2hhaW5hYmxlXG5cdCAqIEBwcm90ZWN0ZWRcblx0ICoqL1xuXHRwLmYgPSBwLmJlZ2luRmlsbDtcblxuXHQvKipcblx0ICogU2hvcnRjdXQgdG8gYmVnaW5MaW5lYXJHcmFkaWVudEZpbGwuXG5cdCAqIEBtZXRob2QgbGZcblx0ICogQHBhcmFtIHtBcnJheX0gY29sb3JzIEFuIGFycmF5IG9mIENTUyBjb21wYXRpYmxlIGNvbG9yIHZhbHVlcy4gRm9yIGV4YW1wbGUsIFtcIiNGMDBcIixcIiMwMEZcIl0gd291bGQgZGVmaW5lIGEgZ3JhZGllbnRcblx0ICogZHJhd2luZyBmcm9tIHJlZCB0byBibHVlLlxuXHQgKiBAcGFyYW0ge0FycmF5fSByYXRpb3MgQW4gYXJyYXkgb2YgZ3JhZGllbnQgcG9zaXRpb25zIHdoaWNoIGNvcnJlc3BvbmQgdG8gdGhlIGNvbG9ycy4gRm9yIGV4YW1wbGUsIFswLjEsIDAuOV0gd291bGQgZHJhd1xuXHQgKiB0aGUgZmlyc3QgY29sb3IgdG8gMTAlIHRoZW4gaW50ZXJwb2xhdGluZyB0byB0aGUgc2Vjb25kIGNvbG9yIGF0IDkwJS5cblx0ICogQHBhcmFtIHtOdW1iZXJ9IHgwIFRoZSBwb3NpdGlvbiBvZiB0aGUgZmlyc3QgcG9pbnQgZGVmaW5pbmcgdGhlIGxpbmUgdGhhdCBkZWZpbmVzIHRoZSBncmFkaWVudCBkaXJlY3Rpb24gYW5kIHNpemUuXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB5MCBUaGUgcG9zaXRpb24gb2YgdGhlIGZpcnN0IHBvaW50IGRlZmluaW5nIHRoZSBsaW5lIHRoYXQgZGVmaW5lcyB0aGUgZ3JhZGllbnQgZGlyZWN0aW9uIGFuZCBzaXplLlxuXHQgKiBAcGFyYW0ge051bWJlcn0geDEgVGhlIHBvc2l0aW9uIG9mIHRoZSBzZWNvbmQgcG9pbnQgZGVmaW5pbmcgdGhlIGxpbmUgdGhhdCBkZWZpbmVzIHRoZSBncmFkaWVudCBkaXJlY3Rpb24gYW5kIHNpemUuXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB5MSBUaGUgcG9zaXRpb24gb2YgdGhlIHNlY29uZCBwb2ludCBkZWZpbmluZyB0aGUgbGluZSB0aGF0IGRlZmluZXMgdGhlIGdyYWRpZW50IGRpcmVjdGlvbiBhbmQgc2l6ZS5cblx0ICogQHJldHVybiB7R3JhcGhpY3N9IFRoZSBHcmFwaGljcyBpbnN0YW5jZSB0aGUgbWV0aG9kIGlzIGNhbGxlZCBvbiAodXNlZnVsIGZvciBjaGFpbmluZyBjYWxscy4pXG5cdCAqIEBjaGFpbmFibGVcblx0ICogQHByb3RlY3RlZFxuXHQgKiovXG5cdHAubGYgPSBwLmJlZ2luTGluZWFyR3JhZGllbnRGaWxsO1xuXG5cdC8qKlxuXHQgKiBTaG9ydGN1dCB0byBiZWdpblJhZGlhbEdyYWRpZW50RmlsbC5cblx0ICogQG1ldGhvZCByZlxuXHQgKiBAcGFyYW0ge0FycmF5fSBjb2xvcnMgQW4gYXJyYXkgb2YgQ1NTIGNvbXBhdGlibGUgY29sb3IgdmFsdWVzLiBGb3IgZXhhbXBsZSwgW1wiI0YwMFwiLFwiIzAwRlwiXSB3b3VsZCBkZWZpbmVcblx0ICogYSBncmFkaWVudCBkcmF3aW5nIGZyb20gcmVkIHRvIGJsdWUuXG5cdCAqIEBwYXJhbSB7QXJyYXl9IHJhdGlvcyBBbiBhcnJheSBvZiBncmFkaWVudCBwb3NpdGlvbnMgd2hpY2ggY29ycmVzcG9uZCB0byB0aGUgY29sb3JzLiBGb3IgZXhhbXBsZSwgWzAuMSxcblx0ICogMC45XSB3b3VsZCBkcmF3IHRoZSBmaXJzdCBjb2xvciB0byAxMCUgdGhlbiBpbnRlcnBvbGF0aW5nIHRvIHRoZSBzZWNvbmQgY29sb3IgYXQgOTAlLlxuXHQgKiBAcGFyYW0ge051bWJlcn0geDAgQ2VudGVyIHBvc2l0aW9uIG9mIHRoZSBpbm5lciBjaXJjbGUgdGhhdCBkZWZpbmVzIHRoZSBncmFkaWVudC5cblx0ICogQHBhcmFtIHtOdW1iZXJ9IHkwIENlbnRlciBwb3NpdGlvbiBvZiB0aGUgaW5uZXIgY2lyY2xlIHRoYXQgZGVmaW5lcyB0aGUgZ3JhZGllbnQuXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSByMCBSYWRpdXMgb2YgdGhlIGlubmVyIGNpcmNsZSB0aGF0IGRlZmluZXMgdGhlIGdyYWRpZW50LlxuXHQgKiBAcGFyYW0ge051bWJlcn0geDEgQ2VudGVyIHBvc2l0aW9uIG9mIHRoZSBvdXRlciBjaXJjbGUgdGhhdCBkZWZpbmVzIHRoZSBncmFkaWVudC5cblx0ICogQHBhcmFtIHtOdW1iZXJ9IHkxIENlbnRlciBwb3NpdGlvbiBvZiB0aGUgb3V0ZXIgY2lyY2xlIHRoYXQgZGVmaW5lcyB0aGUgZ3JhZGllbnQuXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSByMSBSYWRpdXMgb2YgdGhlIG91dGVyIGNpcmNsZSB0aGF0IGRlZmluZXMgdGhlIGdyYWRpZW50LlxuXHQgKiBAcmV0dXJuIHtHcmFwaGljc30gVGhlIEdyYXBoaWNzIGluc3RhbmNlIHRoZSBtZXRob2QgaXMgY2FsbGVkIG9uICh1c2VmdWwgZm9yIGNoYWluaW5nIGNhbGxzLilcblx0ICogQGNoYWluYWJsZVxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqKi9cblx0cC5yZiA9IHAuYmVnaW5SYWRpYWxHcmFkaWVudEZpbGw7XG5cblx0LyoqXG5cdCAqIFNob3J0Y3V0IHRvIGJlZ2luQml0bWFwRmlsbC5cblx0ICogQG1ldGhvZCBiZlxuXHQgKiBAcGFyYW0ge0hUTUxJbWFnZUVsZW1lbnQgfCBIVE1MQ2FudmFzRWxlbWVudCB8IEhUTUxWaWRlb0VsZW1lbnR9IGltYWdlIFRoZSBJbWFnZSwgQ2FudmFzLCBvciBWaWRlbyBvYmplY3QgdG8gdXNlXG5cdCAqIGFzIHRoZSBwYXR0ZXJuLlxuXHQgKiBAcGFyYW0ge1N0cmluZ30gcmVwZXRpdGlvbiBPcHRpb25hbC4gSW5kaWNhdGVzIHdoZXRoZXIgdG8gcmVwZWF0IHRoZSBpbWFnZSBpbiB0aGUgZmlsbCBhcmVhLiBPbmUgb2YgXCJyZXBlYXRcIixcblx0ICogXCJyZXBlYXQteFwiLCBcInJlcGVhdC15XCIsIG9yIFwibm8tcmVwZWF0XCIuIERlZmF1bHRzIHRvIFwicmVwZWF0XCIuIE5vdGUgdGhhdCBGaXJlZm94IGRvZXMgbm90IHN1cHBvcnQgXCJyZXBlYXQteFwiIG9yXG5cdCAqIFwicmVwZWF0LXlcIiAobGF0ZXN0IHRlc3RzIHdlcmUgaW4gRkYgMjAuMCksIGFuZCB3aWxsIGRlZmF1bHQgdG8gXCJyZXBlYXRcIi5cblx0ICogQHBhcmFtIHtNYXRyaXgyRH0gbWF0cml4IE9wdGlvbmFsLiBTcGVjaWZpZXMgYSB0cmFuc2Zvcm1hdGlvbiBtYXRyaXggZm9yIHRoZSBiaXRtYXAgZmlsbC4gVGhpcyB0cmFuc2Zvcm1hdGlvblxuXHQgKiB3aWxsIGJlIGFwcGxpZWQgcmVsYXRpdmUgdG8gdGhlIHBhcmVudCB0cmFuc2Zvcm0uXG5cdCAqIEByZXR1cm4ge0dyYXBoaWNzfSBUaGUgR3JhcGhpY3MgaW5zdGFuY2UgdGhlIG1ldGhvZCBpcyBjYWxsZWQgb24gKHVzZWZ1bCBmb3IgY2hhaW5pbmcgY2FsbHMuKVxuXHQgKiBAY2hhaW5hYmxlXG5cdCAqIEBwcm90ZWN0ZWRcblx0ICoqL1xuXHRwLmJmID0gcC5iZWdpbkJpdG1hcEZpbGw7XG5cblx0LyoqXG5cdCAqIFNob3J0Y3V0IHRvIGVuZEZpbGwuXG5cdCAqIEBtZXRob2QgZWZcblx0ICogQHJldHVybiB7R3JhcGhpY3N9IFRoZSBHcmFwaGljcyBpbnN0YW5jZSB0aGUgbWV0aG9kIGlzIGNhbGxlZCBvbiAodXNlZnVsIGZvciBjaGFpbmluZyBjYWxscy4pXG5cdCAqIEBjaGFpbmFibGVcblx0ICogQHByb3RlY3RlZFxuXHQgKiovXG5cdHAuZWYgPSBwLmVuZEZpbGw7XG5cblx0LyoqXG5cdCAqIFNob3J0Y3V0IHRvIHNldFN0cm9rZVN0eWxlLlxuXHQgKiBAbWV0aG9kIHNzXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB0aGlja25lc3MgVGhlIHdpZHRoIG9mIHRoZSBzdHJva2UuXG5cdCAqIEBwYXJhbSB7U3RyaW5nIHwgTnVtYmVyfSBbY2Fwcz0wXSBJbmRpY2F0ZXMgdGhlIHR5cGUgb2YgY2FwcyB0byB1c2UgYXQgdGhlIGVuZCBvZiBsaW5lcy4gT25lIG9mIGJ1dHQsXG5cdCAqIHJvdW5kLCBvciBzcXVhcmUuIERlZmF1bHRzIHRvIFwiYnV0dFwiLiBBbHNvIGFjY2VwdHMgdGhlIHZhbHVlcyAwIChidXR0KSwgMSAocm91bmQpLCBhbmQgMiAoc3F1YXJlKSBmb3IgdXNlIHdpdGhcblx0ICogdGhlIHRpbnkgQVBJLlxuXHQgKiBAcGFyYW0ge1N0cmluZyB8IE51bWJlcn0gW2pvaW50cz0wXSBTcGVjaWZpZXMgdGhlIHR5cGUgb2Ygam9pbnRzIHRoYXQgc2hvdWxkIGJlIHVzZWQgd2hlcmUgdHdvIGxpbmVzIG1lZXQuXG5cdCAqIE9uZSBvZiBiZXZlbCwgcm91bmQsIG9yIG1pdGVyLiBEZWZhdWx0cyB0byBcIm1pdGVyXCIuIEFsc28gYWNjZXB0cyB0aGUgdmFsdWVzIDAgKG1pdGVyKSwgMSAocm91bmQpLCBhbmQgMiAoYmV2ZWwpXG5cdCAqIGZvciB1c2Ugd2l0aCB0aGUgdGlueSBBUEkuXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBbbWl0ZXJMaW1pdD0xMF0gSWYgam9pbnRzIGlzIHNldCB0byBcIm1pdGVyXCIsIHRoZW4geW91IGNhbiBzcGVjaWZ5IGEgbWl0ZXIgbGltaXQgcmF0aW8gd2hpY2hcblx0ICogY29udHJvbHMgYXQgd2hhdCBwb2ludCBhIG1pdGVyZWQgam9pbnQgd2lsbCBiZSBjbGlwcGVkLlxuXHQgKiBAcGFyYW0ge0Jvb2xlYW59IFtpZ25vcmVTY2FsZT1mYWxzZV0gSWYgdHJ1ZSwgdGhlIHN0cm9rZSB3aWxsIGJlIGRyYXduIGF0IHRoZSBzcGVjaWZpZWQgdGhpY2tuZXNzIHJlZ2FyZGxlc3Ncblx0ICogb2YgYWN0aXZlIHRyYW5zZm9ybWF0aW9ucy5cblx0ICogQHJldHVybiB7R3JhcGhpY3N9IFRoZSBHcmFwaGljcyBpbnN0YW5jZSB0aGUgbWV0aG9kIGlzIGNhbGxlZCBvbiAodXNlZnVsIGZvciBjaGFpbmluZyBjYWxscy4pXG5cdCAqIEBjaGFpbmFibGVcblx0ICogQHByb3RlY3RlZFxuXHQgKiovXG5cdHAuc3MgPSBwLnNldFN0cm9rZVN0eWxlO1xuXHRcblx0LyoqXG5cdCAqIFNob3J0Y3V0IHRvIHNldFN0cm9rZURhc2guXG5cdCAqIEBtZXRob2Qgc2Rcblx0ICogQHBhcmFtIHtBcnJheX0gW3NlZ21lbnRzXSBBbiBhcnJheSBzcGVjaWZ5aW5nIHRoZSBkYXNoIHBhdHRlcm4sIGFsdGVybmF0aW5nIGJldHdlZW4gbGluZSBhbmQgZ2FwLlxuXHQgKiBGb3IgZXhhbXBsZSwgWzIwLDEwXSB3b3VsZCBjcmVhdGUgYSBwYXR0ZXJuIG9mIDIwIHBpeGVsIGxpbmVzIHdpdGggMTAgcGl4ZWwgZ2FwcyBiZXR3ZWVuIHRoZW0uXG5cdCAqIFBhc3NpbmcgbnVsbCBvciBhbiBlbXB0eSBhcnJheSB3aWxsIGNsZWFyIGFueSBleGlzdGluZyBkYXNoLlxuXHQgKiBAcGFyYW0ge051bWJlcn0gW29mZnNldD0wXSBUaGUgb2Zmc2V0IG9mIHRoZSBkYXNoIHBhdHRlcm4uIEZvciBleGFtcGxlLCB5b3UgY291bGQgaW5jcmVtZW50IHRoaXMgdmFsdWUgdG8gY3JlYXRlIGEgXCJtYXJjaGluZyBhbnRzXCIgZWZmZWN0LlxuXHQgKiBAcmV0dXJuIHtHcmFwaGljc30gVGhlIEdyYXBoaWNzIGluc3RhbmNlIHRoZSBtZXRob2QgaXMgY2FsbGVkIG9uICh1c2VmdWwgZm9yIGNoYWluaW5nIGNhbGxzLilcblx0ICogQGNoYWluYWJsZVxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqKi9cblx0cC5zZCA9IHAuc2V0U3Ryb2tlRGFzaDtcblxuXHQvKipcblx0ICogU2hvcnRjdXQgdG8gYmVnaW5TdHJva2UuXG5cdCAqIEBtZXRob2Qgc1xuXHQgKiBAcGFyYW0ge1N0cmluZ30gY29sb3IgQSBDU1MgY29tcGF0aWJsZSBjb2xvciB2YWx1ZSAoZXguIFwiI0ZGMDAwMFwiLCBcInJlZFwiLCBvciBcInJnYmEoMjU1LDAsMCwwLjUpXCIpLiBTZXR0aW5nIHRvXG5cdCAqIG51bGwgd2lsbCByZXN1bHQgaW4gbm8gc3Ryb2tlLlxuXHQgKiBAcmV0dXJuIHtHcmFwaGljc30gVGhlIEdyYXBoaWNzIGluc3RhbmNlIHRoZSBtZXRob2QgaXMgY2FsbGVkIG9uICh1c2VmdWwgZm9yIGNoYWluaW5nIGNhbGxzLilcblx0ICogQGNoYWluYWJsZVxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqKi9cblx0cC5zID0gcC5iZWdpblN0cm9rZTtcblxuXHQvKipcblx0ICogU2hvcnRjdXQgdG8gYmVnaW5MaW5lYXJHcmFkaWVudFN0cm9rZS5cblx0ICogQG1ldGhvZCBsc1xuXHQgKiBAcGFyYW0ge0FycmF5fSBjb2xvcnMgQW4gYXJyYXkgb2YgQ1NTIGNvbXBhdGlibGUgY29sb3IgdmFsdWVzLiBGb3IgZXhhbXBsZSwgW1wiI0YwMFwiLFwiIzAwRlwiXSB3b3VsZCBkZWZpbmVcblx0ICogYSBncmFkaWVudCBkcmF3aW5nIGZyb20gcmVkIHRvIGJsdWUuXG5cdCAqIEBwYXJhbSB7QXJyYXl9IHJhdGlvcyBBbiBhcnJheSBvZiBncmFkaWVudCBwb3NpdGlvbnMgd2hpY2ggY29ycmVzcG9uZCB0byB0aGUgY29sb3JzLiBGb3IgZXhhbXBsZSwgWzAuMSxcblx0ICogMC45XSB3b3VsZCBkcmF3IHRoZSBmaXJzdCBjb2xvciB0byAxMCUgdGhlbiBpbnRlcnBvbGF0aW5nIHRvIHRoZSBzZWNvbmQgY29sb3IgYXQgOTAlLlxuXHQgKiBAcGFyYW0ge051bWJlcn0geDAgVGhlIHBvc2l0aW9uIG9mIHRoZSBmaXJzdCBwb2ludCBkZWZpbmluZyB0aGUgbGluZSB0aGF0IGRlZmluZXMgdGhlIGdyYWRpZW50IGRpcmVjdGlvbiBhbmQgc2l6ZS5cblx0ICogQHBhcmFtIHtOdW1iZXJ9IHkwIFRoZSBwb3NpdGlvbiBvZiB0aGUgZmlyc3QgcG9pbnQgZGVmaW5pbmcgdGhlIGxpbmUgdGhhdCBkZWZpbmVzIHRoZSBncmFkaWVudCBkaXJlY3Rpb24gYW5kIHNpemUuXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB4MSBUaGUgcG9zaXRpb24gb2YgdGhlIHNlY29uZCBwb2ludCBkZWZpbmluZyB0aGUgbGluZSB0aGF0IGRlZmluZXMgdGhlIGdyYWRpZW50IGRpcmVjdGlvbiBhbmQgc2l6ZS5cblx0ICogQHBhcmFtIHtOdW1iZXJ9IHkxIFRoZSBwb3NpdGlvbiBvZiB0aGUgc2Vjb25kIHBvaW50IGRlZmluaW5nIHRoZSBsaW5lIHRoYXQgZGVmaW5lcyB0aGUgZ3JhZGllbnQgZGlyZWN0aW9uIGFuZCBzaXplLlxuXHQgKiBAcmV0dXJuIHtHcmFwaGljc30gVGhlIEdyYXBoaWNzIGluc3RhbmNlIHRoZSBtZXRob2QgaXMgY2FsbGVkIG9uICh1c2VmdWwgZm9yIGNoYWluaW5nIGNhbGxzLilcblx0ICogQGNoYWluYWJsZVxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqKi9cblx0cC5scyA9IHAuYmVnaW5MaW5lYXJHcmFkaWVudFN0cm9rZTtcblxuXHQvKipcblx0ICogU2hvcnRjdXQgdG8gYmVnaW5SYWRpYWxHcmFkaWVudFN0cm9rZS5cblx0ICogQG1ldGhvZCByc1xuXHQgKiBAcGFyYW0ge0FycmF5fSBjb2xvcnMgQW4gYXJyYXkgb2YgQ1NTIGNvbXBhdGlibGUgY29sb3IgdmFsdWVzLiBGb3IgZXhhbXBsZSwgW1wiI0YwMFwiLFwiIzAwRlwiXSB3b3VsZCBkZWZpbmVcblx0ICogYSBncmFkaWVudCBkcmF3aW5nIGZyb20gcmVkIHRvIGJsdWUuXG5cdCAqIEBwYXJhbSB7QXJyYXl9IHJhdGlvcyBBbiBhcnJheSBvZiBncmFkaWVudCBwb3NpdGlvbnMgd2hpY2ggY29ycmVzcG9uZCB0byB0aGUgY29sb3JzLiBGb3IgZXhhbXBsZSwgWzAuMSxcblx0ICogMC45XSB3b3VsZCBkcmF3IHRoZSBmaXJzdCBjb2xvciB0byAxMCUgdGhlbiBpbnRlcnBvbGF0aW5nIHRvIHRoZSBzZWNvbmQgY29sb3IgYXQgOTAlLCB0aGVuIGRyYXcgdGhlIHNlY29uZCBjb2xvclxuXHQgKiB0byAxMDAlLlxuXHQgKiBAcGFyYW0ge051bWJlcn0geDAgQ2VudGVyIHBvc2l0aW9uIG9mIHRoZSBpbm5lciBjaXJjbGUgdGhhdCBkZWZpbmVzIHRoZSBncmFkaWVudC5cblx0ICogQHBhcmFtIHtOdW1iZXJ9IHkwIENlbnRlciBwb3NpdGlvbiBvZiB0aGUgaW5uZXIgY2lyY2xlIHRoYXQgZGVmaW5lcyB0aGUgZ3JhZGllbnQuXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSByMCBSYWRpdXMgb2YgdGhlIGlubmVyIGNpcmNsZSB0aGF0IGRlZmluZXMgdGhlIGdyYWRpZW50LlxuXHQgKiBAcGFyYW0ge051bWJlcn0geDEgQ2VudGVyIHBvc2l0aW9uIG9mIHRoZSBvdXRlciBjaXJjbGUgdGhhdCBkZWZpbmVzIHRoZSBncmFkaWVudC5cblx0ICogQHBhcmFtIHtOdW1iZXJ9IHkxIENlbnRlciBwb3NpdGlvbiBvZiB0aGUgb3V0ZXIgY2lyY2xlIHRoYXQgZGVmaW5lcyB0aGUgZ3JhZGllbnQuXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSByMSBSYWRpdXMgb2YgdGhlIG91dGVyIGNpcmNsZSB0aGF0IGRlZmluZXMgdGhlIGdyYWRpZW50LlxuXHQgKiBAcmV0dXJuIHtHcmFwaGljc30gVGhlIEdyYXBoaWNzIGluc3RhbmNlIHRoZSBtZXRob2QgaXMgY2FsbGVkIG9uICh1c2VmdWwgZm9yIGNoYWluaW5nIGNhbGxzLilcblx0ICogQGNoYWluYWJsZVxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqKi9cblx0cC5ycyA9IHAuYmVnaW5SYWRpYWxHcmFkaWVudFN0cm9rZTtcblxuXHQvKipcblx0ICogU2hvcnRjdXQgdG8gYmVnaW5CaXRtYXBTdHJva2UuXG5cdCAqIEBtZXRob2QgYnNcblx0ICogQHBhcmFtIHtIVE1MSW1hZ2VFbGVtZW50IHwgSFRNTENhbnZhc0VsZW1lbnQgfCBIVE1MVmlkZW9FbGVtZW50fSBpbWFnZSBUaGUgSW1hZ2UsIENhbnZhcywgb3IgVmlkZW8gb2JqZWN0IHRvIHVzZVxuXHQgKiBhcyB0aGUgcGF0dGVybi5cblx0ICogQHBhcmFtIHtTdHJpbmd9IFtyZXBldGl0aW9uPXJlcGVhdF0gT3B0aW9uYWwuIEluZGljYXRlcyB3aGV0aGVyIHRvIHJlcGVhdCB0aGUgaW1hZ2UgaW4gdGhlIGZpbGwgYXJlYS4gT25lIG9mXG5cdCAqIFwicmVwZWF0XCIsIFwicmVwZWF0LXhcIiwgXCJyZXBlYXQteVwiLCBvciBcIm5vLXJlcGVhdFwiLiBEZWZhdWx0cyB0byBcInJlcGVhdFwiLlxuXHQgKiBAcmV0dXJuIHtHcmFwaGljc30gVGhlIEdyYXBoaWNzIGluc3RhbmNlIHRoZSBtZXRob2QgaXMgY2FsbGVkIG9uICh1c2VmdWwgZm9yIGNoYWluaW5nIGNhbGxzLilcblx0ICogQGNoYWluYWJsZVxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqKi9cblx0cC5icyA9IHAuYmVnaW5CaXRtYXBTdHJva2U7XG5cblx0LyoqXG5cdCAqIFNob3J0Y3V0IHRvIGVuZFN0cm9rZS5cblx0ICogQG1ldGhvZCBlc1xuXHQgKiBAcmV0dXJuIHtHcmFwaGljc30gVGhlIEdyYXBoaWNzIGluc3RhbmNlIHRoZSBtZXRob2QgaXMgY2FsbGVkIG9uICh1c2VmdWwgZm9yIGNoYWluaW5nIGNhbGxzLilcblx0ICogQGNoYWluYWJsZVxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqKi9cblx0cC5lcyA9IHAuZW5kU3Ryb2tlO1xuXG5cdC8qKlxuXHQgKiBTaG9ydGN1dCB0byBkcmF3UmVjdC5cblx0ICogQG1ldGhvZCBkclxuXHQgKiBAcGFyYW0ge051bWJlcn0geFxuXHQgKiBAcGFyYW0ge051bWJlcn0geVxuXHQgKiBAcGFyYW0ge051bWJlcn0gdyBXaWR0aCBvZiB0aGUgcmVjdGFuZ2xlXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBoIEhlaWdodCBvZiB0aGUgcmVjdGFuZ2xlXG5cdCAqIEByZXR1cm4ge0dyYXBoaWNzfSBUaGUgR3JhcGhpY3MgaW5zdGFuY2UgdGhlIG1ldGhvZCBpcyBjYWxsZWQgb24gKHVzZWZ1bCBmb3IgY2hhaW5pbmcgY2FsbHMuKVxuXHQgKiBAY2hhaW5hYmxlXG5cdCAqIEBwcm90ZWN0ZWRcblx0ICoqL1xuXHRwLmRyID0gcC5kcmF3UmVjdDtcblxuXHQvKipcblx0ICogU2hvcnRjdXQgdG8gZHJhd1JvdW5kUmVjdC5cblx0ICogQG1ldGhvZCByclxuXHQgKiBAcGFyYW0ge051bWJlcn0geFxuXHQgKiBAcGFyYW0ge051bWJlcn0geVxuXHQgKiBAcGFyYW0ge051bWJlcn0gd1xuXHQgKiBAcGFyYW0ge051bWJlcn0gaFxuXHQgKiBAcGFyYW0ge051bWJlcn0gcmFkaXVzIENvcm5lciByYWRpdXMuXG5cdCAqIEByZXR1cm4ge0dyYXBoaWNzfSBUaGUgR3JhcGhpY3MgaW5zdGFuY2UgdGhlIG1ldGhvZCBpcyBjYWxsZWQgb24gKHVzZWZ1bCBmb3IgY2hhaW5pbmcgY2FsbHMuKVxuXHQgKiBAY2hhaW5hYmxlXG5cdCAqIEBwcm90ZWN0ZWRcblx0ICoqL1xuXHRwLnJyID0gcC5kcmF3Um91bmRSZWN0O1xuXG5cdC8qKlxuXHQgKiBTaG9ydGN1dCB0byBkcmF3Um91bmRSZWN0Q29tcGxleC5cblx0ICogQG1ldGhvZCByY1xuXHQgKiBAcGFyYW0ge051bWJlcn0geCBUaGUgaG9yaXpvbnRhbCBjb29yZGluYXRlIHRvIGRyYXcgdGhlIHJvdW5kIHJlY3QuXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB5IFRoZSB2ZXJ0aWNhbCBjb29yZGluYXRlIHRvIGRyYXcgdGhlIHJvdW5kIHJlY3QuXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB3IFRoZSB3aWR0aCBvZiB0aGUgcm91bmQgcmVjdC5cblx0ICogQHBhcmFtIHtOdW1iZXJ9IGggVGhlIGhlaWdodCBvZiB0aGUgcm91bmQgcmVjdC5cblx0ICogQHBhcmFtIHtOdW1iZXJ9IHJhZGl1c1RMIFRvcCBsZWZ0IGNvcm5lciByYWRpdXMuXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSByYWRpdXNUUiBUb3AgcmlnaHQgY29ybmVyIHJhZGl1cy5cblx0ICogQHBhcmFtIHtOdW1iZXJ9IHJhZGl1c0JSIEJvdHRvbSByaWdodCBjb3JuZXIgcmFkaXVzLlxuXHQgKiBAcGFyYW0ge051bWJlcn0gcmFkaXVzQkwgQm90dG9tIGxlZnQgY29ybmVyIHJhZGl1cy5cblx0ICogQHJldHVybiB7R3JhcGhpY3N9IFRoZSBHcmFwaGljcyBpbnN0YW5jZSB0aGUgbWV0aG9kIGlzIGNhbGxlZCBvbiAodXNlZnVsIGZvciBjaGFpbmluZyBjYWxscy4pXG5cdCAqIEBjaGFpbmFibGVcblx0ICogQHByb3RlY3RlZFxuXHQgKiovXG5cdHAucmMgPSBwLmRyYXdSb3VuZFJlY3RDb21wbGV4O1xuXG5cdC8qKlxuXHQgKiBTaG9ydGN1dCB0byBkcmF3Q2lyY2xlLlxuXHQgKiBAbWV0aG9kIGRjXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB4IHggY29vcmRpbmF0ZSBjZW50ZXIgcG9pbnQgb2YgY2lyY2xlLlxuXHQgKiBAcGFyYW0ge051bWJlcn0geSB5IGNvb3JkaW5hdGUgY2VudGVyIHBvaW50IG9mIGNpcmNsZS5cblx0ICogQHBhcmFtIHtOdW1iZXJ9IHJhZGl1cyBSYWRpdXMgb2YgY2lyY2xlLlxuXHQgKiBAcmV0dXJuIHtHcmFwaGljc30gVGhlIEdyYXBoaWNzIGluc3RhbmNlIHRoZSBtZXRob2QgaXMgY2FsbGVkIG9uICh1c2VmdWwgZm9yIGNoYWluaW5nIGNhbGxzLilcblx0ICogQGNoYWluYWJsZVxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqKi9cblx0cC5kYyA9IHAuZHJhd0NpcmNsZTtcblxuXHQvKipcblx0ICogU2hvcnRjdXQgdG8gZHJhd0VsbGlwc2UuXG5cdCAqIEBtZXRob2QgZGVcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHggVGhlIGxlZnQgY29vcmRpbmF0ZSBwb2ludCBvZiB0aGUgZWxsaXBzZS4gTm90ZSB0aGF0IHRoaXMgaXMgZGlmZmVyZW50IGZyb20ge3sjY3Jvc3NMaW5rIFwiR3JhcGhpY3MvZHJhd0NpcmNsZVwifX17ey9jcm9zc0xpbmt9fVxuXHQgKiB3aGljaCBkcmF3cyBmcm9tIGNlbnRlci5cblx0ICogQHBhcmFtIHtOdW1iZXJ9IHkgVGhlIHRvcCBjb29yZGluYXRlIHBvaW50IG9mIHRoZSBlbGxpcHNlLiBOb3RlIHRoYXQgdGhpcyBpcyBkaWZmZXJlbnQgZnJvbSB7eyNjcm9zc0xpbmsgXCJHcmFwaGljcy9kcmF3Q2lyY2xlXCJ9fXt7L2Nyb3NzTGlua319XG5cdCAqIHdoaWNoIGRyYXdzIGZyb20gdGhlIGNlbnRlci5cblx0ICogQHBhcmFtIHtOdW1iZXJ9IHcgVGhlIGhlaWdodCAoaG9yaXpvbnRhbCBkaWFtZXRlcikgb2YgdGhlIGVsbGlwc2UuIFRoZSBob3Jpem9udGFsIHJhZGl1cyB3aWxsIGJlIGhhbGYgb2YgdGhpc1xuXHQgKiBudW1iZXIuXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBoIFRoZSB3aWR0aCAodmVydGljYWwgZGlhbWV0ZXIpIG9mIHRoZSBlbGxpcHNlLiBUaGUgdmVydGljYWwgcmFkaXVzIHdpbGwgYmUgaGFsZiBvZiB0aGlzIG51bWJlci5cblx0ICogQHJldHVybiB7R3JhcGhpY3N9IFRoZSBHcmFwaGljcyBpbnN0YW5jZSB0aGUgbWV0aG9kIGlzIGNhbGxlZCBvbiAodXNlZnVsIGZvciBjaGFpbmluZyBjYWxscy4pXG5cdCAqIEBjaGFpbmFibGVcblx0ICogQHByb3RlY3RlZFxuXHQgKiovXG5cdHAuZGUgPSBwLmRyYXdFbGxpcHNlO1xuXG5cdC8qKlxuXHQgKiBTaG9ydGN1dCB0byBkcmF3UG9seVN0YXIuXG5cdCAqIEBtZXRob2QgZHBcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHggUG9zaXRpb24gb2YgdGhlIGNlbnRlciBvZiB0aGUgc2hhcGUuXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB5IFBvc2l0aW9uIG9mIHRoZSBjZW50ZXIgb2YgdGhlIHNoYXBlLlxuXHQgKiBAcGFyYW0ge051bWJlcn0gcmFkaXVzIFRoZSBvdXRlciByYWRpdXMgb2YgdGhlIHNoYXBlLlxuXHQgKiBAcGFyYW0ge051bWJlcn0gc2lkZXMgVGhlIG51bWJlciBvZiBwb2ludHMgb24gdGhlIHN0YXIgb3Igc2lkZXMgb24gdGhlIHBvbHlnb24uXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBwb2ludFNpemUgVGhlIGRlcHRoIG9yIFwicG9pbnR5LW5lc3NcIiBvZiB0aGUgc3RhciBwb2ludHMuIEEgcG9pbnRTaXplIG9mIDAgd2lsbCBkcmF3IGEgcmVndWxhclxuXHQgKiBwb2x5Z29uIChubyBwb2ludHMpLCBhIHBvaW50U2l6ZSBvZiAxIHdpbGwgZHJhdyBub3RoaW5nIGJlY2F1c2UgdGhlIHBvaW50cyBhcmUgaW5maW5pdGVseSBwb2ludHkuXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBhbmdsZSBUaGUgYW5nbGUgb2YgdGhlIGZpcnN0IHBvaW50IC8gY29ybmVyLiBGb3IgZXhhbXBsZSBhIHZhbHVlIG9mIDAgd2lsbCBkcmF3IHRoZSBmaXJzdCBwb2ludFxuXHQgKiBkaXJlY3RseSB0byB0aGUgcmlnaHQgb2YgdGhlIGNlbnRlci5cblx0ICogQHJldHVybiB7R3JhcGhpY3N9IFRoZSBHcmFwaGljcyBpbnN0YW5jZSB0aGUgbWV0aG9kIGlzIGNhbGxlZCBvbiAodXNlZnVsIGZvciBjaGFpbmluZyBjYWxscy4pXG5cdCAqIEBjaGFpbmFibGVcblx0ICogQHByb3RlY3RlZFxuXHQgKiovXG5cdHAuZHAgPSBwLmRyYXdQb2x5U3RhcjtcblxuXHQvKipcblx0ICogU2hvcnRjdXQgdG8gZGVjb2RlUGF0aC5cblx0ICogQG1ldGhvZCBwXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBzdHIgVGhlIHBhdGggc3RyaW5nIHRvIGRlY29kZS5cblx0ICogQHJldHVybiB7R3JhcGhpY3N9IFRoZSBHcmFwaGljcyBpbnN0YW5jZSB0aGUgbWV0aG9kIGlzIGNhbGxlZCBvbiAodXNlZnVsIGZvciBjaGFpbmluZyBjYWxscy4pXG5cdCAqIEBjaGFpbmFibGVcblx0ICogQHByb3RlY3RlZFxuXHQgKiovXG5cdHAucCA9IHAuZGVjb2RlUGF0aDtcblxuXG4vLyBwcml2YXRlIG1ldGhvZHM6XG5cdC8qKlxuXHQgKiBAbWV0aG9kIF91cGRhdGVJbnN0cnVjdGlvbnNcblx0ICogQHBhcmFtIGNvbW1pdFxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqKi9cblx0cC5fdXBkYXRlSW5zdHJ1Y3Rpb25zID0gZnVuY3Rpb24oY29tbWl0KSB7XG5cdFx0dmFyIGluc3RyID0gdGhpcy5faW5zdHJ1Y3Rpb25zLCBhY3RpdmUgPSB0aGlzLl9hY3RpdmVJbnN0cnVjdGlvbnMsIGNvbW1pdEluZGV4ID0gdGhpcy5fY29tbWl0SW5kZXg7XG5cblx0XHRpZiAodGhpcy5fZGlydHkgJiYgYWN0aXZlLmxlbmd0aCkge1xuXHRcdFx0aW5zdHIubGVuZ3RoID0gY29tbWl0SW5kZXg7IC8vIHJlbW92ZSBvbGQsIHVuY29tbWl0dGVkIGNvbW1hbmRzXG5cdFx0XHRpbnN0ci5wdXNoKEdyYXBoaWNzLmJlZ2luQ21kKTtcblxuXHRcdFx0dmFyIGwgPSBhY3RpdmUubGVuZ3RoLCBsbCA9IGluc3RyLmxlbmd0aDtcblx0XHRcdGluc3RyLmxlbmd0aCA9IGxsK2w7XG5cdFx0XHRmb3IgKHZhciBpPTA7IGk8bDsgaSsrKSB7IGluc3RyW2krbGxdID0gYWN0aXZlW2ldOyB9XG5cblx0XHRcdGlmICh0aGlzLl9maWxsKSB7IGluc3RyLnB1c2godGhpcy5fZmlsbCk7IH1cblx0XHRcdGlmICh0aGlzLl9zdHJva2UpIHtcblx0XHRcdFx0Ly8gZG9lc24ndCBuZWVkIHRvIGJlIHJlLWFwcGxpZWQgaWYgaXQgaGFzbid0IGNoYW5nZWQuXG5cdFx0XHRcdGlmICh0aGlzLl9zdHJva2VEYXNoICE9PSB0aGlzLl9vbGRTdHJva2VEYXNoKSB7XG5cdFx0XHRcdFx0aW5zdHIucHVzaCh0aGlzLl9zdHJva2VEYXNoKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAodGhpcy5fc3Ryb2tlU3R5bGUgIT09IHRoaXMuX29sZFN0cm9rZVN0eWxlKSB7XG5cdFx0XHRcdFx0aW5zdHIucHVzaCh0aGlzLl9zdHJva2VTdHlsZSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKGNvbW1pdCkge1xuXHRcdFx0XHRcdHRoaXMuX29sZFN0cm9rZVN0eWxlID0gdGhpcy5fc3Ryb2tlU3R5bGU7XG5cdFx0XHRcdFx0dGhpcy5fb2xkU3Ryb2tlRGFzaCA9IHRoaXMuX3N0cm9rZURhc2g7XG5cdFx0XHRcdH1cblx0XHRcdFx0aW5zdHIucHVzaCh0aGlzLl9zdHJva2UpO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLl9kaXJ0eSA9IGZhbHNlO1xuXHRcdH1cblxuXHRcdGlmIChjb21taXQpIHtcblx0XHRcdGFjdGl2ZS5sZW5ndGggPSAwO1xuXHRcdFx0dGhpcy5fY29tbWl0SW5kZXggPSBpbnN0ci5sZW5ndGg7XG5cdFx0fVxuXHR9O1xuXG5cdC8qKlxuXHQgKiBAbWV0aG9kIF9zZXRGaWxsXG5cdCAqIEBwYXJhbSBmaWxsXG5cdCAqIEBwcm90ZWN0ZWRcblx0ICoqL1xuXHRwLl9zZXRGaWxsID0gZnVuY3Rpb24oZmlsbCkge1xuXHRcdHRoaXMuX3VwZGF0ZUluc3RydWN0aW9ucyh0cnVlKTtcblx0XHR0aGlzLmNvbW1hbmQgPSB0aGlzLl9maWxsID0gZmlsbDtcblx0XHRyZXR1cm4gdGhpcztcblx0fTtcblxuXHQvKipcblx0ICogQG1ldGhvZCBfc2V0U3Ryb2tlXG5cdCAqIEBwYXJhbSBzdHJva2Vcblx0ICogQHByb3RlY3RlZFxuXHQgKiovXG5cdHAuX3NldFN0cm9rZSA9IGZ1bmN0aW9uKHN0cm9rZSkge1xuXHRcdHRoaXMuX3VwZGF0ZUluc3RydWN0aW9ucyh0cnVlKTtcblx0XHRpZiAodGhpcy5jb21tYW5kID0gdGhpcy5fc3Ryb2tlID0gc3Ryb2tlKSB7XG5cdFx0XHRzdHJva2UuaWdub3JlU2NhbGUgPSB0aGlzLl9zdHJva2VJZ25vcmVTY2FsZTtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH07XG5cbi8vIENvbW1hbmQgT2JqZWN0czpcblx0LyoqXG5cdCAqIEBuYW1lc3BhY2UgR3JhcGhpY3Ncblx0ICovXG5cdC8qKlxuXHQgKiBHcmFwaGljcyBjb21tYW5kIG9iamVjdC4gU2VlIHt7I2Nyb3NzTGluayBcIkdyYXBoaWNzL2xpbmVUb1wifX17ey9jcm9zc0xpbmt9fSBhbmQge3sjY3Jvc3NMaW5rIFwiR3JhcGhpY3MvYXBwZW5kXCJ9fXt7L2Nyb3NzTGlua319IGZvciBtb3JlIGluZm9ybWF0aW9uLiBTZWUge3sjY3Jvc3NMaW5rIFwiR3JhcGhpY3NcIn19e3svY3Jvc3NMaW5rfX0gYW5kIHt7I2Nyb3NzTGluayBcIkdyYXBoaWNzL2FwcGVuZFwifX17ey9jcm9zc0xpbmt9fSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cblx0ICogQGNsYXNzIExpbmVUb1xuXHQgKiBAY29uc3RydWN0b3Jcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHhcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHlcblx0ICoqL1xuXHQvKipcblx0ICogQHByb3BlcnR5IHhcblx0ICogQHR5cGUgTnVtYmVyXG5cdCAqL1xuXHQvKipcblx0ICogQHByb3BlcnR5IHlcblx0ICogQHR5cGUgTnVtYmVyXG5cdCAqL1xuXHQvKipcblx0ICogRXhlY3V0ZSB0aGUgR3JhcGhpY3MgY29tbWFuZCBpbiB0aGUgcHJvdmlkZWQgQ2FudmFzIGNvbnRleHQuXG5cdCAqIEBtZXRob2QgZXhlY1xuXHQgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY3R4IFRoZSBjYW52YXMgcmVuZGVyaW5nIGNvbnRleHRcblx0ICovXG5cdChHLkxpbmVUbyA9IGZ1bmN0aW9uKHgsIHkpIHtcblx0XHR0aGlzLnggPSB4OyB0aGlzLnkgPSB5O1xuXHR9KS5wcm90b3R5cGUuZXhlYyA9IGZ1bmN0aW9uKGN0eCkgeyBjdHgubGluZVRvKHRoaXMueCx0aGlzLnkpOyB9O1xuXG5cdC8qKlxuXHQgKiBHcmFwaGljcyBjb21tYW5kIG9iamVjdC4gU2VlIHt7I2Nyb3NzTGluayBcIkdyYXBoaWNzL21vdmVUb1wifX17ey9jcm9zc0xpbmt9fSBhbmQge3sjY3Jvc3NMaW5rIFwiR3JhcGhpY3MvYXBwZW5kXCJ9fXt7L2Nyb3NzTGlua319IGZvciBtb3JlIGluZm9ybWF0aW9uLlxuXHQgKiBAY2xhc3MgTW92ZVRvXG5cdCAqIEBjb25zdHJ1Y3RvclxuXHQgKiBAcGFyYW0ge051bWJlcn0geFxuXHQgKiBAcGFyYW0ge051bWJlcn0geVxuXHQgKiovXG5cdC8qKlxuXHQgKiBAcHJvcGVydHkgeFxuXHQgKiBAdHlwZSBOdW1iZXJcblx0ICovXG5cdC8qKlxuXHQgKiBAcHJvcGVydHkgeVxuXHQgKiBAdHlwZSBOdW1iZXJcblx0ICovXG5cdC8qKlxuXHQgKiBAbWV0aG9kIGV4ZWNcblx0ICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eFxuXHQgKi9cblx0KEcuTW92ZVRvID0gZnVuY3Rpb24oeCwgeSkge1xuXHRcdHRoaXMueCA9IHg7IHRoaXMueSA9IHk7XG5cdH0pLnByb3RvdHlwZS5leGVjID0gZnVuY3Rpb24oY3R4KSB7IGN0eC5tb3ZlVG8odGhpcy54LCB0aGlzLnkpOyB9O1xuXG5cblx0LyoqXG5cdCAqIEdyYXBoaWNzIGNvbW1hbmQgb2JqZWN0LiBTZWUge3sjY3Jvc3NMaW5rIFwiR3JhcGhpY3MvYXJjVG9cIn19e3svY3Jvc3NMaW5rfX0gYW5kIHt7I2Nyb3NzTGluayBcIkdyYXBoaWNzL2FwcGVuZFwifX17ey9jcm9zc0xpbmt9fSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cblx0ICogQGNsYXNzIEFyY1RvXG5cdCAqIEBjb25zdHJ1Y3RvclxuXHQgKiBAcGFyYW0ge051bWJlcn0geDFcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHkxXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB4MlxuXHQgKiBAcGFyYW0ge051bWJlcn0geTJcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHJhZGl1c1xuXHQgKiovXG5cdC8qKlxuXHQgKiBAcHJvcGVydHkgeDFcblx0ICogQHR5cGUgTnVtYmVyXG5cdCAqL1xuXHQvKipcblx0ICogQHByb3BlcnR5IHkxXG5cdCAqIEB0eXBlIE51bWJlclxuXHQgKi9cblx0LyoqXG5cdCAqIEBwcm9wZXJ0eSB4MlxuXHQgKiBAdHlwZSBOdW1iZXJcblx0ICovXG5cdC8qKlxuXHQgKiBAcHJvcGVydHkgeTJcblx0ICogQHR5cGUgTnVtYmVyXG5cdCAqL1xuXHQvKipcblx0ICogQHByb3BlcnR5IHJhZGl1c1xuXHQgKiBAdHlwZSBOdW1iZXJcblx0ICovXG5cdC8qKlxuXHQgKiBFeGVjdXRlIHRoZSBHcmFwaGljcyBjb21tYW5kIGluIHRoZSBwcm92aWRlZCBDYW52YXMgY29udGV4dC5cblx0ICogQG1ldGhvZCBleGVjXG5cdCAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggVGhlIGNhbnZhcyByZW5kZXJpbmcgY29udGV4dFxuXHQgKi9cblx0KEcuQXJjVG8gPSBmdW5jdGlvbih4MSwgeTEsIHgyLCB5MiwgcmFkaXVzKSB7XG5cdFx0dGhpcy54MSA9IHgxOyB0aGlzLnkxID0geTE7XG5cdFx0dGhpcy54MiA9IHgyOyB0aGlzLnkyID0geTI7XG5cdFx0dGhpcy5yYWRpdXMgPSByYWRpdXM7XG5cdH0pLnByb3RvdHlwZS5leGVjID0gZnVuY3Rpb24oY3R4KSB7IGN0eC5hcmNUbyh0aGlzLngxLCB0aGlzLnkxLCB0aGlzLngyLCB0aGlzLnkyLCB0aGlzLnJhZGl1cyk7IH07XG5cblx0LyoqXG5cdCAqIEdyYXBoaWNzIGNvbW1hbmQgb2JqZWN0LiBTZWUge3sjY3Jvc3NMaW5rIFwiR3JhcGhpY3MvYXJjXCJ9fXt7L2Nyb3NzTGlua319IGFuZCB7eyNjcm9zc0xpbmsgXCJHcmFwaGljcy9hcHBlbmRcIn19e3svY3Jvc3NMaW5rfX0gZm9yIG1vcmUgaW5mb3JtYXRpb24uXG5cdCAqIEBjbGFzcyBBcmNcblx0ICogQGNvbnN0cnVjdG9yXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB4XG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB5XG5cdCAqIEBwYXJhbSB7TnVtYmVyfSByYWRpdXNcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHN0YXJ0QW5nbGVcblx0ICogQHBhcmFtIHtOdW1iZXJ9IGVuZEFuZ2xlXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBhbnRpY2xvY2t3aXNlXG5cdCAqKi9cblx0LyoqXG5cdCAqIEBwcm9wZXJ0eSB4XG5cdCAqIEB0eXBlIE51bWJlclxuXHQgKi9cblx0LyoqXG5cdCAqIEBwcm9wZXJ0eSB5XG5cdCAqIEB0eXBlIE51bWJlclxuXHQgKi9cblx0LyoqXG5cdCAqIEBwcm9wZXJ0eSByYWRpdXNcblx0ICogQHR5cGUgTnVtYmVyXG5cdCAqL1xuXHQvKipcblx0ICogQHByb3BlcnR5IHN0YXJ0QW5nbGVcblx0ICogQHR5cGUgTnVtYmVyXG5cdCAqL1xuXHQvKipcblx0ICogQHByb3BlcnR5IGVuZEFuZ2xlXG5cdCAqIEB0eXBlIE51bWJlclxuXHQgKi9cblx0LyoqXG5cdCAqIEBwcm9wZXJ0eSBhbnRpY2xvY2t3aXNlXG5cdCAqIEB0eXBlIE51bWJlclxuXHQgKi9cblx0LyoqXG5cdCAqIEV4ZWN1dGUgdGhlIEdyYXBoaWNzIGNvbW1hbmQgaW4gdGhlIHByb3ZpZGVkIENhbnZhcyBjb250ZXh0LlxuXHQgKiBAbWV0aG9kIGV4ZWNcblx0ICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCBUaGUgY2FudmFzIHJlbmRlcmluZyBjb250ZXh0XG5cdCAqL1xuXHQoRy5BcmMgPSBmdW5jdGlvbih4LCB5LCByYWRpdXMsIHN0YXJ0QW5nbGUsIGVuZEFuZ2xlLCBhbnRpY2xvY2t3aXNlKSB7XG5cdFx0dGhpcy54ID0geDsgdGhpcy55ID0geTtcblx0XHR0aGlzLnJhZGl1cyA9IHJhZGl1cztcblx0XHR0aGlzLnN0YXJ0QW5nbGUgPSBzdGFydEFuZ2xlOyB0aGlzLmVuZEFuZ2xlID0gZW5kQW5nbGU7XG5cdFx0dGhpcy5hbnRpY2xvY2t3aXNlID0gISFhbnRpY2xvY2t3aXNlO1xuXHR9KS5wcm90b3R5cGUuZXhlYyA9IGZ1bmN0aW9uKGN0eCkgeyBjdHguYXJjKHRoaXMueCwgdGhpcy55LCB0aGlzLnJhZGl1cywgdGhpcy5zdGFydEFuZ2xlLCB0aGlzLmVuZEFuZ2xlLCB0aGlzLmFudGljbG9ja3dpc2UpOyB9O1xuXG5cdC8qKlxuXHQgKiBHcmFwaGljcyBjb21tYW5kIG9iamVjdC4gU2VlIHt7I2Nyb3NzTGluayBcIkdyYXBoaWNzL3F1YWRyYXRpY0N1cnZlVG9cIn19e3svY3Jvc3NMaW5rfX0gYW5kIHt7I2Nyb3NzTGluayBcIkdyYXBoaWNzL2FwcGVuZFwifX17ey9jcm9zc0xpbmt9fSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cblx0ICogQGNsYXNzIFF1YWRyYXRpY0N1cnZlVG9cblx0ICogQGNvbnN0cnVjdG9yXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBjcHhcblx0ICogQHBhcmFtIHtOdW1iZXJ9IGNweVxuXHQgKiBAcGFyYW0ge051bWJlcn0geFxuXHQgKiBAcGFyYW0ge051bWJlcn0geVxuXHQgKiovXG5cdC8qKlxuXHQgKiBAcHJvcGVydHkgY3B4XG5cdCAqIEB0eXBlIE51bWJlclxuXHQgKi9cblx0LyoqXG5cdCAqIEBwcm9wZXJ0eSBjcHlcblx0ICogQHR5cGUgTnVtYmVyXG5cdCAqL1xuXHQvKipcblx0ICogQHByb3BlcnR5IHhcblx0ICogQHR5cGUgTnVtYmVyXG5cdCAqL1xuXHQvKipcblx0ICogQHByb3BlcnR5IHlcblx0ICogQHR5cGUgTnVtYmVyXG5cdCAqL1xuXHQvKipcblx0ICogRXhlY3V0ZSB0aGUgR3JhcGhpY3MgY29tbWFuZCBpbiB0aGUgcHJvdmlkZWQgQ2FudmFzIGNvbnRleHQuXG5cdCAqIEBtZXRob2QgZXhlY1xuXHQgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY3R4IFRoZSBjYW52YXMgcmVuZGVyaW5nIGNvbnRleHRcblx0ICovXG5cdChHLlF1YWRyYXRpY0N1cnZlVG8gPSBmdW5jdGlvbihjcHgsIGNweSwgeCwgeSkge1xuXHRcdHRoaXMuY3B4ID0gY3B4OyB0aGlzLmNweSA9IGNweTtcblx0XHR0aGlzLnggPSB4OyB0aGlzLnkgPSB5O1xuXHR9KS5wcm90b3R5cGUuZXhlYyA9IGZ1bmN0aW9uKGN0eCkgeyBjdHgucXVhZHJhdGljQ3VydmVUbyh0aGlzLmNweCwgdGhpcy5jcHksIHRoaXMueCwgdGhpcy55KTsgfTtcblxuXHQvKipcblx0ICogR3JhcGhpY3MgY29tbWFuZCBvYmplY3QuIFNlZSB7eyNjcm9zc0xpbmsgXCJHcmFwaGljcy9iZXppZXJDdXJ2ZVRvXCJ9fXt7L2Nyb3NzTGlua319IGFuZCB7eyNjcm9zc0xpbmsgXCJHcmFwaGljcy9hcHBlbmRcIn19e3svY3Jvc3NMaW5rfX0gZm9yIG1vcmUgaW5mb3JtYXRpb24uXG5cdCAqIEBjbGFzcyBCZXppZXJDdXJ2ZVRvXG5cdCAqIEBjb25zdHJ1Y3RvclxuXHQgKiBAcGFyYW0ge051bWJlcn0gY3AxeFxuXHQgKiBAcGFyYW0ge051bWJlcn0gY3AxeVxuXHQgKiBAcGFyYW0ge051bWJlcn0gY3AyeFxuXHQgKiBAcGFyYW0ge051bWJlcn0gY3AyeVxuXHQgKiBAcGFyYW0ge051bWJlcn0geFxuXHQgKiBAcGFyYW0ge051bWJlcn0geVxuXHQgKiovXG5cdC8qKlxuXHQgKiBAcHJvcGVydHkgY3AxeFxuXHQgKiBAdHlwZSBOdW1iZXJcblx0ICovXG5cdC8qKlxuXHQgKiBAcHJvcGVydHkgY3AxeVxuXHQgKiBAdHlwZSBOdW1iZXJcblx0ICovXG5cdC8qKlxuXHQgKiBAcHJvcGVydHkgY3AyeFxuXHQgKiBAdHlwZSBOdW1iZXJcblx0ICovXG5cdC8qKlxuXHQgKiBAcHJvcGVydHkgY3AyeVxuXHQgKiBAdHlwZSBOdW1iZXJcblx0ICovXG5cdC8qKlxuXHQgKiBAcHJvcGVydHkgeFxuXHQgKiBAdHlwZSBOdW1iZXJcblx0ICovXG5cdC8qKlxuXHQgKiBAcHJvcGVydHkgeVxuXHQgKiBAdHlwZSBOdW1iZXJcblx0ICovXG5cdC8qKlxuXHQgKiBFeGVjdXRlIHRoZSBHcmFwaGljcyBjb21tYW5kIGluIHRoZSBwcm92aWRlZCBDYW52YXMgY29udGV4dC5cblx0ICogQG1ldGhvZCBleGVjXG5cdCAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggVGhlIGNhbnZhcyByZW5kZXJpbmcgY29udGV4dFxuXHQgKi9cblx0KEcuQmV6aWVyQ3VydmVUbyA9IGZ1bmN0aW9uKGNwMXgsIGNwMXksIGNwMngsIGNwMnksIHgsIHkpIHtcblx0XHR0aGlzLmNwMXggPSBjcDF4OyB0aGlzLmNwMXkgPSBjcDF5O1xuXHRcdHRoaXMuY3AyeCA9IGNwMng7IHRoaXMuY3AyeSA9IGNwMnk7XG5cdFx0dGhpcy54ID0geDsgdGhpcy55ID0geTtcblx0fSkucHJvdG90eXBlLmV4ZWMgPSBmdW5jdGlvbihjdHgpIHsgY3R4LmJlemllckN1cnZlVG8odGhpcy5jcDF4LCB0aGlzLmNwMXksIHRoaXMuY3AyeCwgdGhpcy5jcDJ5LCB0aGlzLngsIHRoaXMueSk7IH07XG5cblx0LyoqXG5cdCAqIEdyYXBoaWNzIGNvbW1hbmQgb2JqZWN0LiBTZWUge3sjY3Jvc3NMaW5rIFwiR3JhcGhpY3MvcmVjdFwifX17ey9jcm9zc0xpbmt9fSBhbmQge3sjY3Jvc3NMaW5rIFwiR3JhcGhpY3MvYXBwZW5kXCJ9fXt7L2Nyb3NzTGlua319IGZvciBtb3JlIGluZm9ybWF0aW9uLlxuXHQgKiBAY2xhc3MgUmVjdFxuXHQgKiBAY29uc3RydWN0b3Jcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHhcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHlcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHdcblx0ICogQHBhcmFtIHtOdW1iZXJ9IGhcblx0ICoqL1xuXHQvKipcblx0ICogQHByb3BlcnR5IHhcblx0ICogQHR5cGUgTnVtYmVyXG5cdCAqL1xuXHQvKipcblx0ICogQHByb3BlcnR5IHlcblx0ICogQHR5cGUgTnVtYmVyXG5cdCAqL1xuXHQvKipcblx0ICogQHByb3BlcnR5IHdcblx0ICogQHR5cGUgTnVtYmVyXG5cdCAqL1xuXHQvKipcblx0ICogQHByb3BlcnR5IGhcblx0ICogQHR5cGUgTnVtYmVyXG5cdCAqL1xuXHQvKipcblx0ICogRXhlY3V0ZSB0aGUgR3JhcGhpY3MgY29tbWFuZCBpbiB0aGUgcHJvdmlkZWQgQ2FudmFzIGNvbnRleHQuXG5cdCAqIEBtZXRob2QgZXhlY1xuXHQgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY3R4IFRoZSBjYW52YXMgcmVuZGVyaW5nIGNvbnRleHRcblx0ICovXG5cdChHLlJlY3QgPSBmdW5jdGlvbih4LCB5LCB3LCBoKSB7XG5cdFx0dGhpcy54ID0geDsgdGhpcy55ID0geTtcblx0XHR0aGlzLncgPSB3OyB0aGlzLmggPSBoO1xuXHR9KS5wcm90b3R5cGUuZXhlYyA9IGZ1bmN0aW9uKGN0eCkgeyBjdHgucmVjdCh0aGlzLngsIHRoaXMueSwgdGhpcy53LCB0aGlzLmgpOyB9O1xuXG5cdC8qKlxuXHQgKiBHcmFwaGljcyBjb21tYW5kIG9iamVjdC4gU2VlIHt7I2Nyb3NzTGluayBcIkdyYXBoaWNzL2Nsb3NlUGF0aFwifX17ey9jcm9zc0xpbmt9fSBhbmQge3sjY3Jvc3NMaW5rIFwiR3JhcGhpY3MvYXBwZW5kXCJ9fXt7L2Nyb3NzTGlua319IGZvciBtb3JlIGluZm9ybWF0aW9uLlxuXHQgKiBAY2xhc3MgQ2xvc2VQYXRoXG5cdCAqIEBjb25zdHJ1Y3RvclxuXHQgKiovXG5cdC8qKlxuXHQgKiBFeGVjdXRlIHRoZSBHcmFwaGljcyBjb21tYW5kIGluIHRoZSBwcm92aWRlZCBDYW52YXMgY29udGV4dC5cblx0ICogQG1ldGhvZCBleGVjXG5cdCAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggVGhlIGNhbnZhcyByZW5kZXJpbmcgY29udGV4dFxuXHQgKi9cblx0KEcuQ2xvc2VQYXRoID0gZnVuY3Rpb24oKSB7XG5cdH0pLnByb3RvdHlwZS5leGVjID0gZnVuY3Rpb24oY3R4KSB7IGN0eC5jbG9zZVBhdGgoKTsgfTtcblxuXHQvKipcblx0ICogR3JhcGhpY3MgY29tbWFuZCBvYmplY3QgdG8gYmVnaW4gYSBuZXcgcGF0aC4gU2VlIHt7I2Nyb3NzTGluayBcIkdyYXBoaWNzXCJ9fXt7L2Nyb3NzTGlua319IGFuZCB7eyNjcm9zc0xpbmsgXCJHcmFwaGljcy9hcHBlbmRcIn19e3svY3Jvc3NMaW5rfX0gZm9yIG1vcmUgaW5mb3JtYXRpb24uXG5cdCAqIEBjbGFzcyBCZWdpblBhdGhcblx0ICogQGNvbnN0cnVjdG9yXG5cdCAqKi9cblx0LyoqXG5cdCAqIEV4ZWN1dGUgdGhlIEdyYXBoaWNzIGNvbW1hbmQgaW4gdGhlIHByb3ZpZGVkIENhbnZhcyBjb250ZXh0LlxuXHQgKiBAbWV0aG9kIGV4ZWNcblx0ICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCBUaGUgY2FudmFzIHJlbmRlcmluZyBjb250ZXh0XG5cdCAqL1xuXHQoRy5CZWdpblBhdGggPSBmdW5jdGlvbigpIHtcblx0fSkucHJvdG90eXBlLmV4ZWMgPSBmdW5jdGlvbihjdHgpIHsgY3R4LmJlZ2luUGF0aCgpOyB9O1xuXG5cdC8qKlxuXHQgKiBHcmFwaGljcyBjb21tYW5kIG9iamVjdC4gU2VlIHt7I2Nyb3NzTGluayBcIkdyYXBoaWNzL2JlZ2luRmlsbFwifX17ey9jcm9zc0xpbmt9fSBhbmQge3sjY3Jvc3NMaW5rIFwiR3JhcGhpY3MvYXBwZW5kXCJ9fXt7L2Nyb3NzTGlua319IGZvciBtb3JlIGluZm9ybWF0aW9uLlxuXHQgKiBAY2xhc3MgRmlsbFxuXHQgKiBAY29uc3RydWN0b3Jcblx0ICogQHBhcmFtIHtPYmplY3R9IHN0eWxlIEEgdmFsaWQgQ29udGV4dDJEIGZpbGxTdHlsZS5cblx0ICogQHBhcmFtIHtNYXRyaXgyRH0gbWF0cml4XG5cdCAqKi9cblx0LyoqXG5cdCAqIEEgdmFsaWQgQ29udGV4dDJEIGZpbGxTdHlsZS5cblx0ICogQHByb3BlcnR5IHN0eWxlXG5cdCAqIEB0eXBlIE9iamVjdFxuXHQgKi9cblx0LyoqXG5cdCAqIEBwcm9wZXJ0eSBtYXRyaXhcblx0ICogQHR5cGUgTWF0cml4MkRcblx0ICovXG5cdC8qKlxuXHQgKiBFeGVjdXRlIHRoZSBHcmFwaGljcyBjb21tYW5kIGluIHRoZSBwcm92aWRlZCBDYW52YXMgY29udGV4dC5cblx0ICogQG1ldGhvZCBleGVjXG5cdCAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggVGhlIGNhbnZhcyByZW5kZXJpbmcgY29udGV4dFxuXHQgKi9cblx0cCA9IChHLkZpbGwgPSBmdW5jdGlvbihzdHlsZSwgbWF0cml4KSB7XG5cdFx0dGhpcy5zdHlsZSA9IHN0eWxlO1xuXHRcdHRoaXMubWF0cml4ID0gbWF0cml4O1xuXHR9KS5wcm90b3R5cGU7XG5cdHAuZXhlYyA9IGZ1bmN0aW9uKGN0eCkge1xuXHRcdGlmICghdGhpcy5zdHlsZSkgeyByZXR1cm47IH1cblx0XHRjdHguZmlsbFN0eWxlID0gdGhpcy5zdHlsZTtcblx0XHR2YXIgbXR4ID0gdGhpcy5tYXRyaXg7XG5cdFx0aWYgKG10eCkgeyBjdHguc2F2ZSgpOyBjdHgudHJhbnNmb3JtKG10eC5hLCBtdHguYiwgbXR4LmMsIG10eC5kLCBtdHgudHgsIG10eC50eSk7IH1cblx0XHRjdHguZmlsbCgpO1xuXHRcdGlmIChtdHgpIHsgY3R4LnJlc3RvcmUoKTsgfVxuXHR9O1xuXHQvKipcblx0ICogQ3JlYXRlcyBhIGxpbmVhciBncmFkaWVudCBzdHlsZSBhbmQgYXNzaWducyBpdCB0byB7eyNjcm9zc0xpbmsgXCJGaWxsL3N0eWxlOnByb3BlcnR5XCJ9fXt7L2Nyb3NzTGlua319LlxuXHQgKiBTZWUge3sjY3Jvc3NMaW5rIFwiR3JhcGhpY3MvYmVnaW5MaW5lYXJHcmFkaWVudEZpbGxcIn19e3svY3Jvc3NMaW5rfX0gZm9yIG1vcmUgaW5mb3JtYXRpb24uXG5cdCAqIEBtZXRob2QgbGluZWFyR3JhZGllbnRcblx0ICogQHBhcmFtIHtBcnJheX0gY29sb3JzXG5cdCAqXG5cdCAqIEBwYXJhbSB7QXJyYXl9IHJhdGlvc1xuXHQgKiBAcGFyYW0ge051bWJlcn0geDBcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHkwXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB4MVxuXHQgKiBAcGFyYW0ge051bWJlcn0geTFcblx0ICogQHJldHVybiB7RmlsbH0gUmV0dXJucyB0aGlzIEZpbGwgb2JqZWN0IGZvciBjaGFpbmluZyBvciBhc3NpZ25tZW50LlxuXHQgKi9cblx0cC5saW5lYXJHcmFkaWVudCA9IGZ1bmN0aW9uKGNvbG9ycywgcmF0aW9zLCB4MCwgeTAsIHgxLCB5MSkge1xuXHRcdHZhciBvID0gdGhpcy5zdHlsZSA9ICBHcmFwaGljcy5fY3R4LmNyZWF0ZUxpbmVhckdyYWRpZW50KHgwLCB5MCwgeDEsIHkxKTtcblx0XHRmb3IgKHZhciBpPTAsIGw9Y29sb3JzLmxlbmd0aDsgaTxsOyBpKyspIHsgby5hZGRDb2xvclN0b3AocmF0aW9zW2ldLCBjb2xvcnNbaV0pOyB9XG5cdFx0by5wcm9wcyA9IHtjb2xvcnM6Y29sb3JzLCByYXRpb3M6cmF0aW9zLCB4MDp4MCwgeTA6eTAsIHgxOngxLCB5MTp5MSwgdHlwZTpcImxpbmVhclwifTtcblx0XHRyZXR1cm4gdGhpcztcblx0fTtcblx0LyoqXG5cdCAqIENyZWF0ZXMgYSByYWRpYWwgZ3JhZGllbnQgc3R5bGUgYW5kIGFzc2lnbnMgaXQgdG8ge3sjY3Jvc3NMaW5rIFwiRmlsbC9zdHlsZTpwcm9wZXJ0eVwifX17ey9jcm9zc0xpbmt9fS5cblx0ICogU2VlIHt7I2Nyb3NzTGluayBcIkdyYXBoaWNzL2JlZ2luUmFkaWFsR3JhZGllbnRGaWxsXCJ9fXt7L2Nyb3NzTGlua319IGZvciBtb3JlIGluZm9ybWF0aW9uLlxuXHQgKiBAbWV0aG9kIHJhZGlhbEdyYWRpZW50XG5cdCAqIEBwYXJhbSB7QXJyYXl9IGNvbG9yc1xuXHQgKiBAcGFyYW0ge0FycmF5fSByYXRpb3Ncblx0ICogQHBhcmFtIHtOdW1iZXJ9IHgwXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB5MFxuXHQgKiBAcGFyYW0ge051bWJlcn0gcjBcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHgxXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB5MVxuXHQgKiBAcGFyYW0ge051bWJlcn0gcjFcblx0ICogQHJldHVybiB7RmlsbH0gUmV0dXJucyB0aGlzIEZpbGwgb2JqZWN0IGZvciBjaGFpbmluZyBvciBhc3NpZ25tZW50LlxuXHQgKi9cblx0cC5yYWRpYWxHcmFkaWVudCA9IGZ1bmN0aW9uKGNvbG9ycywgcmF0aW9zLCB4MCwgeTAsIHIwLCB4MSwgeTEsIHIxKSB7XG5cdFx0dmFyIG8gPSB0aGlzLnN0eWxlID0gIEdyYXBoaWNzLl9jdHguY3JlYXRlUmFkaWFsR3JhZGllbnQoeDAsIHkwLCByMCwgeDEsIHkxLCByMSk7XG5cdFx0Zm9yICh2YXIgaT0wLCBsPWNvbG9ycy5sZW5ndGg7IGk8bDsgaSsrKSB7IG8uYWRkQ29sb3JTdG9wKHJhdGlvc1tpXSwgY29sb3JzW2ldKTsgfVxuXHRcdG8ucHJvcHMgPSB7Y29sb3JzOmNvbG9ycywgcmF0aW9zOnJhdGlvcywgeDA6eDAsIHkwOnkwLCByMDpyMCwgeDE6eDEsIHkxOnkxLCByMTpyMSwgdHlwZTpcInJhZGlhbFwifTtcblx0XHRyZXR1cm4gdGhpcztcblx0fTtcblx0LyoqXG5cdCAqIENyZWF0ZXMgYSBiaXRtYXAgZmlsbCBzdHlsZSBhbmQgYXNzaWducyBpdCB0byB0aGUge3sjY3Jvc3NMaW5rIFwiRmlsbC9zdHlsZTpwcm9wZXJ0eVwifX17ey9jcm9zc0xpbmt9fS5cblx0ICogU2VlIHt7I2Nyb3NzTGluayBcIkdyYXBoaWNzL2JlZ2luQml0bWFwRmlsbFwifX17ey9jcm9zc0xpbmt9fSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cblx0ICogQG1ldGhvZCBiaXRtYXBcblx0ICogQHBhcmFtIHtIVE1MSW1hZ2VFbGVtZW50IHwgSFRNTENhbnZhc0VsZW1lbnQgfCBIVE1MVmlkZW9FbGVtZW50fSBpbWFnZSAgTXVzdCBiZSBsb2FkZWQgcHJpb3IgdG8gY3JlYXRpbmcgYSBiaXRtYXAgZmlsbCwgb3IgdGhlIGZpbGwgd2lsbCBiZSBlbXB0eS5cblx0ICogQHBhcmFtIHtTdHJpbmd9IFtyZXBldGl0aW9uXSBPbmUgb2Y6IHJlcGVhdCwgcmVwZWF0LXgsIHJlcGVhdC15LCBvciBuby1yZXBlYXQuXG5cdCAqIEByZXR1cm4ge0ZpbGx9IFJldHVybnMgdGhpcyBGaWxsIG9iamVjdCBmb3IgY2hhaW5pbmcgb3IgYXNzaWdubWVudC5cblx0ICovXG5cdHAuYml0bWFwID0gZnVuY3Rpb24oaW1hZ2UsIHJlcGV0aXRpb24pIHtcblx0XHRpZiAoaW1hZ2UubmF0dXJhbFdpZHRoIHx8IGltYWdlLmdldENvbnRleHQgfHwgaW1hZ2UucmVhZHlTdGF0ZSA+PSAyKSB7XG5cdFx0XHR2YXIgbyA9IHRoaXMuc3R5bGUgPSBHcmFwaGljcy5fY3R4LmNyZWF0ZVBhdHRlcm4oaW1hZ2UsIHJlcGV0aXRpb24gfHwgXCJcIik7XG5cdFx0XHRvLnByb3BzID0ge2ltYWdlOiBpbWFnZSwgcmVwZXRpdGlvbjogcmVwZXRpdGlvbiwgdHlwZTogXCJiaXRtYXBcIn07XG5cdFx0fVxuXHRcdHJldHVybiB0aGlzO1xuXHR9O1xuXHRwLnBhdGggPSBmYWxzZTtcblxuXHQvKipcblx0ICogR3JhcGhpY3MgY29tbWFuZCBvYmplY3QuIFNlZSB7eyNjcm9zc0xpbmsgXCJHcmFwaGljcy9iZWdpblN0cm9rZVwifX17ey9jcm9zc0xpbmt9fSBhbmQge3sjY3Jvc3NMaW5rIFwiR3JhcGhpY3MvYXBwZW5kXCJ9fXt7L2Nyb3NzTGlua319IGZvciBtb3JlIGluZm9ybWF0aW9uLlxuXHQgKiBAY2xhc3MgU3Ryb2tlXG5cdCAqIEBjb25zdHJ1Y3RvclxuXHQgKiBAcGFyYW0ge09iamVjdH0gc3R5bGUgQSB2YWxpZCBDb250ZXh0MkQgZmlsbFN0eWxlLlxuXHQgKiBAcGFyYW0ge0Jvb2xlYW59IGlnbm9yZVNjYWxlXG5cdCAqKi9cblx0LyoqXG5cdCAqIEEgdmFsaWQgQ29udGV4dDJEIHN0cm9rZVN0eWxlLlxuXHQgKiBAcHJvcGVydHkgc3R5bGVcblx0ICogQHR5cGUgT2JqZWN0XG5cdCAqL1xuXHQvKipcblx0ICogQHByb3BlcnR5IGlnbm9yZVNjYWxlXG5cdCAqIEB0eXBlIEJvb2xlYW5cblx0ICovXG5cdC8qKlxuXHQgKiBFeGVjdXRlIHRoZSBHcmFwaGljcyBjb21tYW5kIGluIHRoZSBwcm92aWRlZCBDYW52YXMgY29udGV4dC5cblx0ICogQG1ldGhvZCBleGVjXG5cdCAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggVGhlIGNhbnZhcyByZW5kZXJpbmcgY29udGV4dFxuXHQgKi9cblx0cCA9IChHLlN0cm9rZSA9IGZ1bmN0aW9uKHN0eWxlLCBpZ25vcmVTY2FsZSkge1xuXHRcdHRoaXMuc3R5bGUgPSBzdHlsZTtcblx0XHR0aGlzLmlnbm9yZVNjYWxlID0gaWdub3JlU2NhbGU7XG5cdH0pLnByb3RvdHlwZTtcblx0cC5leGVjID0gZnVuY3Rpb24oY3R4KSB7XG5cdFx0aWYgKCF0aGlzLnN0eWxlKSB7IHJldHVybjsgfVxuXHRcdGN0eC5zdHJva2VTdHlsZSA9IHRoaXMuc3R5bGU7XG5cdFx0aWYgKHRoaXMuaWdub3JlU2NhbGUpIHsgY3R4LnNhdmUoKTsgY3R4LnNldFRyYW5zZm9ybSgxLDAsMCwxLDAsMCk7IH1cblx0XHRjdHguc3Ryb2tlKCk7XG5cdFx0aWYgKHRoaXMuaWdub3JlU2NhbGUpIHsgY3R4LnJlc3RvcmUoKTsgfVxuXHR9O1xuXHQvKipcblx0ICogQ3JlYXRlcyBhIGxpbmVhciBncmFkaWVudCBzdHlsZSBhbmQgYXNzaWducyBpdCB0byB7eyNjcm9zc0xpbmsgXCJTdHJva2Uvc3R5bGU6cHJvcGVydHlcIn19e3svY3Jvc3NMaW5rfX0uXG5cdCAqIFNlZSB7eyNjcm9zc0xpbmsgXCJHcmFwaGljcy9iZWdpbkxpbmVhckdyYWRpZW50U3Ryb2tlXCJ9fXt7L2Nyb3NzTGlua319IGZvciBtb3JlIGluZm9ybWF0aW9uLlxuXHQgKiBAbWV0aG9kIGxpbmVhckdyYWRpZW50XG5cdCAqIEBwYXJhbSB7QXJyYXl9IGNvbG9yc1xuXHQgKiBAcGFyYW0ge0FycmF5fSByYXRpb3Ncblx0ICogQHBhcmFtIHtOdW1iZXJ9IHgwXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB5MFxuXHQgKiBAcGFyYW0ge051bWJlcn0geDFcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHkxXG5cdCAqIEByZXR1cm4ge0ZpbGx9IFJldHVybnMgdGhpcyBTdHJva2Ugb2JqZWN0IGZvciBjaGFpbmluZyBvciBhc3NpZ25tZW50LlxuXHQgKi9cblx0cC5saW5lYXJHcmFkaWVudCA9IEcuRmlsbC5wcm90b3R5cGUubGluZWFyR3JhZGllbnQ7XG5cdC8qKlxuXHQgKiBDcmVhdGVzIGEgcmFkaWFsIGdyYWRpZW50IHN0eWxlIGFuZCBhc3NpZ25zIGl0IHRvIHt7I2Nyb3NzTGluayBcIlN0cm9rZS9zdHlsZTpwcm9wZXJ0eVwifX17ey9jcm9zc0xpbmt9fS5cblx0ICogU2VlIHt7I2Nyb3NzTGluayBcIkdyYXBoaWNzL2JlZ2luUmFkaWFsR3JhZGllbnRTdHJva2VcIn19e3svY3Jvc3NMaW5rfX0gZm9yIG1vcmUgaW5mb3JtYXRpb24uXG5cdCAqIEBtZXRob2QgcmFkaWFsR3JhZGllbnRcblx0ICogQHBhcmFtIHtBcnJheX0gY29sb3JzXG5cdCAqIEBwYXJhbSB7QXJyYXl9IHJhdGlvc1xuXHQgKiBAcGFyYW0ge051bWJlcn0geDBcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHkwXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSByMFxuXHQgKiBAcGFyYW0ge051bWJlcn0geDFcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHkxXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSByMVxuXHQgKiBAcmV0dXJuIHtGaWxsfSBSZXR1cm5zIHRoaXMgU3Ryb2tlIG9iamVjdCBmb3IgY2hhaW5pbmcgb3IgYXNzaWdubWVudC5cblx0ICovXG5cdHAucmFkaWFsR3JhZGllbnQgPSBHLkZpbGwucHJvdG90eXBlLnJhZGlhbEdyYWRpZW50O1xuXHQvKipcblx0ICogQ3JlYXRlcyBhIGJpdG1hcCBmaWxsIHN0eWxlIGFuZCBhc3NpZ25zIGl0IHRvIHt7I2Nyb3NzTGluayBcIlN0cm9rZS9zdHlsZTpwcm9wZXJ0eVwifX17ey9jcm9zc0xpbmt9fS5cblx0ICogU2VlIHt7I2Nyb3NzTGluayBcIkdyYXBoaWNzL2JlZ2luQml0bWFwU3Ryb2tlXCJ9fXt7L2Nyb3NzTGlua319IGZvciBtb3JlIGluZm9ybWF0aW9uLlxuXHQgKiBAbWV0aG9kIGJpdG1hcFxuXHQgKiBAcGFyYW0ge0hUTUxJbWFnZUVsZW1lbnR9IGltYWdlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBbcmVwZXRpdGlvbl0gT25lIG9mOiByZXBlYXQsIHJlcGVhdC14LCByZXBlYXQteSwgb3Igbm8tcmVwZWF0LlxuXHQgKiBAcmV0dXJuIHtGaWxsfSBSZXR1cm5zIHRoaXMgU3Ryb2tlIG9iamVjdCBmb3IgY2hhaW5pbmcgb3IgYXNzaWdubWVudC5cblx0ICovXG5cdHAuYml0bWFwID0gRy5GaWxsLnByb3RvdHlwZS5iaXRtYXA7XG5cdHAucGF0aCA9IGZhbHNlO1xuXG5cdC8qKlxuXHQgKiBHcmFwaGljcyBjb21tYW5kIG9iamVjdC4gU2VlIHt7I2Nyb3NzTGluayBcIkdyYXBoaWNzL3NldFN0cm9rZVN0eWxlXCJ9fXt7L2Nyb3NzTGlua319IGFuZCB7eyNjcm9zc0xpbmsgXCJHcmFwaGljcy9hcHBlbmRcIn19e3svY3Jvc3NMaW5rfX0gZm9yIG1vcmUgaW5mb3JtYXRpb24uXG5cdCAqIEBjbGFzcyBTdHJva2VTdHlsZVxuXHQgKiBAY29uc3RydWN0b3Jcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHdpZHRoXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBbY2Fwcz1idXR0XVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gW2pvaW50cz1taXRlcl1cblx0ICogQHBhcmFtIHtOdW1iZXJ9IFttaXRlckxpbWl0PTEwXVxuXHQgKiBAcGFyYW0ge0Jvb2xlYW59IFtpZ25vcmVTY2FsZT1mYWxzZV1cblx0ICoqL1xuXHQvKipcblx0ICogQHByb3BlcnR5IHdpZHRoXG5cdCAqIEB0eXBlIE51bWJlclxuXHQgKi9cblx0LyoqXG5cdCAqIE9uZSBvZjogYnV0dCwgcm91bmQsIHNxdWFyZVxuXHQgKiBAcHJvcGVydHkgY2Fwc1xuXHQgKiBAdHlwZSBTdHJpbmdcblx0ICovXG5cdC8qKlxuXHQgKiBPbmUgb2Y6IHJvdW5kLCBiZXZlbCwgbWl0ZXJcblx0ICogQHByb3BlcnR5IGpvaW50c1xuXHQgKiBAdHlwZSBTdHJpbmdcblx0ICovXG5cdC8qKlxuXHQgKiBAcHJvcGVydHkgbWl0ZXJMaW1pdFxuXHQgKiBAdHlwZSBOdW1iZXJcblx0ICovXG5cdC8qKlxuXHQgKiBFeGVjdXRlIHRoZSBHcmFwaGljcyBjb21tYW5kIGluIHRoZSBwcm92aWRlZCBDYW52YXMgY29udGV4dC5cblx0ICogQG1ldGhvZCBleGVjXG5cdCAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggVGhlIGNhbnZhcyByZW5kZXJpbmcgY29udGV4dFxuXHQgKi9cblx0cCA9IChHLlN0cm9rZVN0eWxlID0gZnVuY3Rpb24od2lkdGgsIGNhcHMsIGpvaW50cywgbWl0ZXJMaW1pdCwgaWdub3JlU2NhbGUpIHtcblx0XHR0aGlzLndpZHRoID0gd2lkdGg7XG5cdFx0dGhpcy5jYXBzID0gY2Fwcztcblx0XHR0aGlzLmpvaW50cyA9IGpvaW50cztcblx0XHR0aGlzLm1pdGVyTGltaXQgPSBtaXRlckxpbWl0O1xuXHRcdHRoaXMuaWdub3JlU2NhbGUgPSBpZ25vcmVTY2FsZTtcblx0fSkucHJvdG90eXBlO1xuXHRwLmV4ZWMgPSBmdW5jdGlvbihjdHgpIHtcblx0XHRjdHgubGluZVdpZHRoID0gKHRoaXMud2lkdGggPT0gbnVsbCA/IFwiMVwiIDogdGhpcy53aWR0aCk7XG5cdFx0Y3R4LmxpbmVDYXAgPSAodGhpcy5jYXBzID09IG51bGwgPyBcImJ1dHRcIiA6IChpc05hTih0aGlzLmNhcHMpID8gdGhpcy5jYXBzIDogR3JhcGhpY3MuU1RST0tFX0NBUFNfTUFQW3RoaXMuY2Fwc10pKTtcblx0XHRjdHgubGluZUpvaW4gPSAodGhpcy5qb2ludHMgPT0gbnVsbCA/IFwibWl0ZXJcIiA6IChpc05hTih0aGlzLmpvaW50cykgPyB0aGlzLmpvaW50cyA6IEdyYXBoaWNzLlNUUk9LRV9KT0lOVFNfTUFQW3RoaXMuam9pbnRzXSkpO1xuXHRcdGN0eC5taXRlckxpbWl0ID0gKHRoaXMubWl0ZXJMaW1pdCA9PSBudWxsID8gXCIxMFwiIDogdGhpcy5taXRlckxpbWl0KTtcblx0XHRjdHguaWdub3JlU2NhbGUgPSAodGhpcy5pZ25vcmVTY2FsZSA9PSBudWxsID8gZmFsc2UgOiB0aGlzLmlnbm9yZVNjYWxlKTtcblx0fTtcblx0cC5wYXRoID0gZmFsc2U7XG5cdFxuXHQvKipcblx0ICogR3JhcGhpY3MgY29tbWFuZCBvYmplY3QuIFNlZSB7eyNjcm9zc0xpbmsgXCJHcmFwaGljcy9zZXRTdHJva2VEYXNoXCJ9fXt7L2Nyb3NzTGlua319IGFuZCB7eyNjcm9zc0xpbmsgXCJHcmFwaGljcy9hcHBlbmRcIn19e3svY3Jvc3NMaW5rfX0gZm9yIG1vcmUgaW5mb3JtYXRpb24uXG5cdCAqIEBjbGFzcyBTdHJva2VEYXNoXG5cdCAqIEBjb25zdHJ1Y3RvclxuXHQgKiBAcGFyYW0ge0FycmF5fSBbc2VnbWVudHNdXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBbb2Zmc2V0PTBdXG5cdCAqKi9cblx0LyoqXG5cdCAqIEBwcm9wZXJ0eSBzZWdtZW50c1xuXHQgKiBAdHlwZSBBcnJheVxuXHQgKi9cblx0LyoqXG5cdCAqIEBwcm9wZXJ0eSBvZmZzZXRcblx0ICogQHR5cGUgTnVtYmVyXG5cdCAqL1xuXHQvKipcblx0ICogRXhlY3V0ZSB0aGUgR3JhcGhpY3MgY29tbWFuZCBpbiB0aGUgcHJvdmlkZWQgQ2FudmFzIGNvbnRleHQuXG5cdCAqIEBtZXRob2QgZXhlY1xuXHQgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY3R4IFRoZSBjYW52YXMgcmVuZGVyaW5nIGNvbnRleHRcblx0ICovXG5cdChHLlN0cm9rZURhc2ggPSBmdW5jdGlvbihzZWdtZW50cywgb2Zmc2V0KSB7XG5cdFx0dGhpcy5zZWdtZW50cyA9IHNlZ21lbnRzO1xuXHRcdHRoaXMub2Zmc2V0ID0gb2Zmc2V0fHwwO1xuXHR9KS5wcm90b3R5cGUuZXhlYyA9IGZ1bmN0aW9uKGN0eCkge1xuXHRcdGlmIChjdHguc2V0TGluZURhc2gpIHsgLy8gZmVhdHVyZSBkZXRlY3Rpb24uXG5cdFx0XHRjdHguc2V0TGluZURhc2godGhpcy5zZWdtZW50c3x8IEcuU3Ryb2tlRGFzaC5FTVBUWV9TRUdNRU5UUyk7IC8vIGluc3RlYWQgb2YgW10gdG8gcmVkdWNlIGNodXJuLlxuXHRcdFx0Y3R4LmxpbmVEYXNoT2Zmc2V0ID0gdGhpcy5vZmZzZXR8fDA7XG5cdFx0fVxuXHR9O1xuXHQvKipcblx0ICogVGhlIGRlZmF1bHQgdmFsdWUgZm9yIHNlZ21lbnRzIChpZS4gbm8gZGFzaCkuXG5cdCAqIEBwcm9wZXJ0eSBFTVBUWV9TRUdNRU5UU1xuXHQgKiBAc3RhdGljXG5cdCAqIEBmaW5hbFxuXHQgKiBAcmVhZG9ubHlcblx0ICogQHByb3RlY3RlZFxuXHQgKiBAdHlwZSB7QXJyYXl9XG5cdCAqKi9cblx0Ry5TdHJva2VEYXNoLkVNUFRZX1NFR01FTlRTID0gW107XG5cblx0LyoqXG5cdCAqIEdyYXBoaWNzIGNvbW1hbmQgb2JqZWN0LiBTZWUge3sjY3Jvc3NMaW5rIFwiR3JhcGhpY3MvZHJhd1JvdW5kUmVjdENvbXBsZXhcIn19e3svY3Jvc3NMaW5rfX0gYW5kIHt7I2Nyb3NzTGluayBcIkdyYXBoaWNzL2FwcGVuZFwifX17ey9jcm9zc0xpbmt9fSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cblx0ICogQGNsYXNzIFJvdW5kUmVjdFxuXHQgKiBAY29uc3RydWN0b3Jcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHhcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHlcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHdcblx0ICogQHBhcmFtIHtOdW1iZXJ9IGhcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHJhZGl1c1RMXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSByYWRpdXNUUlxuXHQgKiBAcGFyYW0ge051bWJlcn0gcmFkaXVzQlJcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHJhZGl1c0JMXG5cdCAqKi9cblx0LyoqXG5cdCAqIEBwcm9wZXJ0eSB4XG5cdCAqIEB0eXBlIE51bWJlclxuXHQgKi9cblx0LyoqXG5cdCAqIEBwcm9wZXJ0eSB5XG5cdCAqIEB0eXBlIE51bWJlclxuXHQgKi9cblx0LyoqXG5cdCAqIEBwcm9wZXJ0eSB3XG5cdCAqIEB0eXBlIE51bWJlclxuXHQgKi9cblx0LyoqXG5cdCAqIEBwcm9wZXJ0eSBoXG5cdCAqIEB0eXBlIE51bWJlclxuXHQgKi9cblx0LyoqXG5cdCAqIEBwcm9wZXJ0eSByYWRpdXNUTFxuXHQgKiBAdHlwZSBOdW1iZXJcblx0ICovXG5cdC8qKlxuXHQgKiBAcHJvcGVydHkgcmFkaXVzVFJcblx0ICogQHR5cGUgTnVtYmVyXG5cdCAqL1xuXHQvKipcblx0ICogQHByb3BlcnR5IHJhZGl1c0JSXG5cdCAqIEB0eXBlIE51bWJlclxuXHQgKi9cblx0LyoqXG5cdCAqIEBwcm9wZXJ0eSByYWRpdXNCTFxuXHQgKiBAdHlwZSBOdW1iZXJcblx0ICovXG5cdC8qKlxuXHQgKiBFeGVjdXRlIHRoZSBHcmFwaGljcyBjb21tYW5kIGluIHRoZSBwcm92aWRlZCBDYW52YXMgY29udGV4dC5cblx0ICogQG1ldGhvZCBleGVjXG5cdCAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggVGhlIGNhbnZhcyByZW5kZXJpbmcgY29udGV4dFxuXHQgKi9cblx0KEcuUm91bmRSZWN0ID0gZnVuY3Rpb24oeCwgeSwgdywgaCwgcmFkaXVzVEwsIHJhZGl1c1RSLCByYWRpdXNCUiwgcmFkaXVzQkwpIHtcblx0XHR0aGlzLnggPSB4OyB0aGlzLnkgPSB5O1xuXHRcdHRoaXMudyA9IHc7IHRoaXMuaCA9IGg7XG5cdFx0dGhpcy5yYWRpdXNUTCA9IHJhZGl1c1RMOyB0aGlzLnJhZGl1c1RSID0gcmFkaXVzVFI7XG5cdFx0dGhpcy5yYWRpdXNCUiA9IHJhZGl1c0JSOyB0aGlzLnJhZGl1c0JMID0gcmFkaXVzQkw7XG5cdH0pLnByb3RvdHlwZS5leGVjID0gZnVuY3Rpb24oY3R4KSB7XG5cdFx0dmFyIG1heCA9ICh3PGg/dzpoKS8yO1xuXHRcdHZhciBtVEw9MCwgbVRSPTAsIG1CUj0wLCBtQkw9MDtcblx0XHR2YXIgeCA9IHRoaXMueCwgeSA9IHRoaXMueSwgdyA9IHRoaXMudywgaCA9IHRoaXMuaDtcblx0XHR2YXIgclRMID0gdGhpcy5yYWRpdXNUTCwgclRSID0gdGhpcy5yYWRpdXNUUiwgckJSID0gdGhpcy5yYWRpdXNCUiwgckJMID0gdGhpcy5yYWRpdXNCTDtcblxuXHRcdGlmIChyVEwgPCAwKSB7IHJUTCAqPSAobVRMPS0xKTsgfVxuXHRcdGlmIChyVEwgPiBtYXgpIHsgclRMID0gbWF4OyB9XG5cdFx0aWYgKHJUUiA8IDApIHsgclRSICo9IChtVFI9LTEpOyB9XG5cdFx0aWYgKHJUUiA+IG1heCkgeyByVFIgPSBtYXg7IH1cblx0XHRpZiAockJSIDwgMCkgeyByQlIgKj0gKG1CUj0tMSk7IH1cblx0XHRpZiAockJSID4gbWF4KSB7IHJCUiA9IG1heDsgfVxuXHRcdGlmIChyQkwgPCAwKSB7IHJCTCAqPSAobUJMPS0xKTsgfVxuXHRcdGlmIChyQkwgPiBtYXgpIHsgckJMID0gbWF4OyB9XG5cblx0XHRjdHgubW92ZVRvKHgrdy1yVFIsIHkpO1xuXHRcdGN0eC5hcmNUbyh4K3crclRSKm1UUiwgeS1yVFIqbVRSLCB4K3csIHkrclRSLCByVFIpO1xuXHRcdGN0eC5saW5lVG8oeCt3LCB5K2gtckJSKTtcblx0XHRjdHguYXJjVG8oeCt3K3JCUiptQlIsIHkraCtyQlIqbUJSLCB4K3ctckJSLCB5K2gsIHJCUik7XG5cdFx0Y3R4LmxpbmVUbyh4K3JCTCwgeStoKTtcblx0XHRjdHguYXJjVG8oeC1yQkwqbUJMLCB5K2grckJMKm1CTCwgeCwgeStoLXJCTCwgckJMKTtcblx0XHRjdHgubGluZVRvKHgsIHkrclRMKTtcblx0XHRjdHguYXJjVG8oeC1yVEwqbVRMLCB5LXJUTCptVEwsIHgrclRMLCB5LCByVEwpO1xuXHRcdGN0eC5jbG9zZVBhdGgoKTtcblx0fTtcblxuXHQvKipcblx0ICogR3JhcGhpY3MgY29tbWFuZCBvYmplY3QuIFNlZSB7eyNjcm9zc0xpbmsgXCJHcmFwaGljcy9kcmF3Q2lyY2xlXCJ9fXt7L2Nyb3NzTGlua319IGFuZCB7eyNjcm9zc0xpbmsgXCJHcmFwaGljcy9hcHBlbmRcIn19e3svY3Jvc3NMaW5rfX0gZm9yIG1vcmUgaW5mb3JtYXRpb24uXG5cdCAqIEBjbGFzcyBDaXJjbGVcblx0ICogQGNvbnN0cnVjdG9yXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB4XG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB5XG5cdCAqIEBwYXJhbSB7TnVtYmVyfSByYWRpdXNcblx0ICoqL1xuXHQvKipcblx0ICogQHByb3BlcnR5IHhcblx0ICogQHR5cGUgTnVtYmVyXG5cdCAqL1xuXHQvKipcblx0ICogQHByb3BlcnR5IHlcblx0ICogQHR5cGUgTnVtYmVyXG5cdCAqL1xuXHQvKipcblx0ICogQHByb3BlcnR5IHJhZGl1c1xuXHQgKiBAdHlwZSBOdW1iZXJcblx0ICovXG5cdC8qKlxuXHQgKiBFeGVjdXRlIHRoZSBHcmFwaGljcyBjb21tYW5kIGluIHRoZSBwcm92aWRlZCBDYW52YXMgY29udGV4dC5cblx0ICogQG1ldGhvZCBleGVjXG5cdCAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggVGhlIGNhbnZhcyByZW5kZXJpbmcgY29udGV4dFxuXHQgKi9cblx0KEcuQ2lyY2xlID0gZnVuY3Rpb24oeCwgeSwgcmFkaXVzKSB7XG5cdFx0dGhpcy54ID0geDsgdGhpcy55ID0geTtcblx0XHR0aGlzLnJhZGl1cyA9IHJhZGl1cztcblx0fSkucHJvdG90eXBlLmV4ZWMgPSBmdW5jdGlvbihjdHgpIHsgY3R4LmFyYyh0aGlzLngsIHRoaXMueSwgdGhpcy5yYWRpdXMsIDAsIE1hdGguUEkqMik7IH07XG5cblx0LyoqXG5cdCAqIEdyYXBoaWNzIGNvbW1hbmQgb2JqZWN0LiBTZWUge3sjY3Jvc3NMaW5rIFwiR3JhcGhpY3MvZHJhd0VsbGlwc2VcIn19e3svY3Jvc3NMaW5rfX0gYW5kIHt7I2Nyb3NzTGluayBcIkdyYXBoaWNzL2FwcGVuZFwifX17ey9jcm9zc0xpbmt9fSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cblx0ICogQGNsYXNzIEVsbGlwc2Vcblx0ICogQGNvbnN0cnVjdG9yXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB4XG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB5XG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB3XG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBoXG5cdCAqKi9cblx0LyoqXG5cdCAqIEBwcm9wZXJ0eSB4XG5cdCAqIEB0eXBlIE51bWJlclxuXHQgKi9cblx0LyoqXG5cdCAqIEBwcm9wZXJ0eSB5XG5cdCAqIEB0eXBlIE51bWJlclxuXHQgKi9cblx0LyoqXG5cdCAqIEBwcm9wZXJ0eSB3XG5cdCAqIEB0eXBlIE51bWJlclxuXHQgKi9cblx0LyoqXG5cdCAqIEBwcm9wZXJ0eSBoXG5cdCAqIEB0eXBlIE51bWJlclxuXHQgKi9cblx0LyoqXG5cdCAqIEV4ZWN1dGUgdGhlIEdyYXBoaWNzIGNvbW1hbmQgaW4gdGhlIHByb3ZpZGVkIENhbnZhcyBjb250ZXh0LlxuXHQgKiBAbWV0aG9kIGV4ZWNcblx0ICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCBUaGUgY2FudmFzIHJlbmRlcmluZyBjb250ZXh0XG5cdCAqL1xuXHQoRy5FbGxpcHNlID0gZnVuY3Rpb24oeCwgeSwgdywgaCkge1xuXHRcdHRoaXMueCA9IHg7IHRoaXMueSA9IHk7XG5cdFx0dGhpcy53ID0gdzsgdGhpcy5oID0gaDtcblx0fSkucHJvdG90eXBlLmV4ZWMgPSBmdW5jdGlvbihjdHgpIHtcblx0XHR2YXIgeCA9IHRoaXMueCwgeSA9IHRoaXMueTtcblx0XHR2YXIgdyA9IHRoaXMudywgaCA9IHRoaXMuaDtcblxuXHRcdHZhciBrID0gMC41NTIyODQ4O1xuXHRcdHZhciBveCA9ICh3IC8gMikgKiBrO1xuXHRcdHZhciBveSA9IChoIC8gMikgKiBrO1xuXHRcdHZhciB4ZSA9IHggKyB3O1xuXHRcdHZhciB5ZSA9IHkgKyBoO1xuXHRcdHZhciB4bSA9IHggKyB3IC8gMjtcblx0XHR2YXIgeW0gPSB5ICsgaCAvIDI7XG5cblx0XHRjdHgubW92ZVRvKHgsIHltKTtcblx0XHRjdHguYmV6aWVyQ3VydmVUbyh4LCB5bS1veSwgeG0tb3gsIHksIHhtLCB5KTtcblx0XHRjdHguYmV6aWVyQ3VydmVUbyh4bStveCwgeSwgeGUsIHltLW95LCB4ZSwgeW0pO1xuXHRcdGN0eC5iZXppZXJDdXJ2ZVRvKHhlLCB5bStveSwgeG0rb3gsIHllLCB4bSwgeWUpO1xuXHRcdGN0eC5iZXppZXJDdXJ2ZVRvKHhtLW94LCB5ZSwgeCwgeW0rb3ksIHgsIHltKTtcblx0fTtcblxuXHQvKipcblx0ICogR3JhcGhpY3MgY29tbWFuZCBvYmplY3QuIFNlZSB7eyNjcm9zc0xpbmsgXCJHcmFwaGljcy9kcmF3UG9seVN0YXJcIn19e3svY3Jvc3NMaW5rfX0gYW5kIHt7I2Nyb3NzTGluayBcIkdyYXBoaWNzL2FwcGVuZFwifX17ey9jcm9zc0xpbmt9fSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cblx0ICogQGNsYXNzIFBvbHlTdGFyXG5cdCAqIEBjb25zdHJ1Y3RvclxuXHQgKiBAcGFyYW0ge051bWJlcn0geFxuXHQgKiBAcGFyYW0ge051bWJlcn0geVxuXHQgKiBAcGFyYW0ge051bWJlcn0gcmFkaXVzXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBzaWRlc1xuXHQgKiBAcGFyYW0ge051bWJlcn0gcG9pbnRTaXplXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBhbmdsZVxuXHQgKiovXG5cdC8qKlxuXHQgKiBAcHJvcGVydHkgeFxuXHQgKiBAdHlwZSBOdW1iZXJcblx0ICovXG5cdC8qKlxuXHQgKiBAcHJvcGVydHkgeVxuXHQgKiBAdHlwZSBOdW1iZXJcblx0ICovXG5cdC8qKlxuXHQgKiBAcHJvcGVydHkgcmFkaXVzXG5cdCAqIEB0eXBlIE51bWJlclxuXHQgKi9cblx0LyoqXG5cdCAqIEBwcm9wZXJ0eSBzaWRlc1xuXHQgKiBAdHlwZSBOdW1iZXJcblx0ICovXG5cdC8qKlxuXHQgKiBAcHJvcGVydHkgcG9pbnRTaXplXG5cdCAqIEB0eXBlIE51bWJlclxuXHQgKi9cblx0LyoqXG5cdCAqIEBwcm9wZXJ0eSBhbmdsZVxuXHQgKiBAdHlwZSBOdW1iZXJcblx0ICovXG5cdC8qKlxuXHQgKiBFeGVjdXRlIHRoZSBHcmFwaGljcyBjb21tYW5kIGluIHRoZSBwcm92aWRlZCBDYW52YXMgY29udGV4dC5cblx0ICogQG1ldGhvZCBleGVjXG5cdCAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggVGhlIGNhbnZhcyByZW5kZXJpbmcgY29udGV4dFxuXHQgKi9cblx0KEcuUG9seVN0YXIgPSBmdW5jdGlvbih4LCB5LCByYWRpdXMsIHNpZGVzLCBwb2ludFNpemUsIGFuZ2xlKSB7XG5cdFx0dGhpcy54ID0geDsgdGhpcy55ID0geTtcblx0XHR0aGlzLnJhZGl1cyA9IHJhZGl1cztcblx0XHR0aGlzLnNpZGVzID0gc2lkZXM7XG5cdFx0dGhpcy5wb2ludFNpemUgPSBwb2ludFNpemU7XG5cdFx0dGhpcy5hbmdsZSA9IGFuZ2xlO1xuXHR9KS5wcm90b3R5cGUuZXhlYyA9IGZ1bmN0aW9uKGN0eCkge1xuXHRcdHZhciB4ID0gdGhpcy54LCB5ID0gdGhpcy55O1xuXHRcdHZhciByYWRpdXMgPSB0aGlzLnJhZGl1cztcblx0XHR2YXIgYW5nbGUgPSAodGhpcy5hbmdsZXx8MCkvMTgwKk1hdGguUEk7XG5cdFx0dmFyIHNpZGVzID0gdGhpcy5zaWRlcztcblx0XHR2YXIgcHMgPSAxLSh0aGlzLnBvaW50U2l6ZXx8MCk7XG5cdFx0dmFyIGEgPSBNYXRoLlBJL3NpZGVzO1xuXG5cdFx0Y3R4Lm1vdmVUbyh4K01hdGguY29zKGFuZ2xlKSpyYWRpdXMsIHkrTWF0aC5zaW4oYW5nbGUpKnJhZGl1cyk7XG5cdFx0Zm9yICh2YXIgaT0wOyBpPHNpZGVzOyBpKyspIHtcblx0XHRcdGFuZ2xlICs9IGE7XG5cdFx0XHRpZiAocHMgIT0gMSkge1xuXHRcdFx0XHRjdHgubGluZVRvKHgrTWF0aC5jb3MoYW5nbGUpKnJhZGl1cypwcywgeStNYXRoLnNpbihhbmdsZSkqcmFkaXVzKnBzKTtcblx0XHRcdH1cblx0XHRcdGFuZ2xlICs9IGE7XG5cdFx0XHRjdHgubGluZVRvKHgrTWF0aC5jb3MoYW5nbGUpKnJhZGl1cywgeStNYXRoLnNpbihhbmdsZSkqcmFkaXVzKTtcblx0XHR9XG5cdFx0Y3R4LmNsb3NlUGF0aCgpO1xuXHR9O1xuXG5cdC8vIGRvY2NlZCBhYm92ZS5cblx0R3JhcGhpY3MuYmVnaW5DbWQgPSBuZXcgRy5CZWdpblBhdGgoKTsgLy8gc28gd2UgZG9uJ3QgaGF2ZSB0byBpbnN0YW50aWF0ZSBtdWx0aXBsZSBpbnN0YW5jZXMuXG5cblxuXHRjcmVhdGVqcy5HcmFwaGljcyA9IEdyYXBoaWNzO1xufSgpKTtcblxuLy8jIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyNcbi8vIERpc3BsYXlPYmplY3QuanNcbi8vIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXG5cbihmdW5jdGlvbigpIHtcclxuXHRcInVzZSBzdHJpY3RcIjtcclxuXHJcblxyXG4vLyBjb25zdHJ1Y3RvcjpcclxuXHQvKipcclxuXHQgKiBEaXNwbGF5T2JqZWN0IGlzIGFuIGFic3RyYWN0IGNsYXNzIHRoYXQgc2hvdWxkIG5vdCBiZSBjb25zdHJ1Y3RlZCBkaXJlY3RseS4gSW5zdGVhZCBjb25zdHJ1Y3Qgc3ViY2xhc3NlcyBzdWNoIGFzXHJcblx0ICoge3sjY3Jvc3NMaW5rIFwiQ29udGFpbmVyXCJ9fXt7L2Nyb3NzTGlua319LCB7eyNjcm9zc0xpbmsgXCJCaXRtYXBcIn19e3svY3Jvc3NMaW5rfX0sIGFuZCB7eyNjcm9zc0xpbmsgXCJTaGFwZVwifX17ey9jcm9zc0xpbmt9fS5cclxuXHQgKiBEaXNwbGF5T2JqZWN0IGlzIHRoZSBiYXNlIGNsYXNzIGZvciBhbGwgZGlzcGxheSBjbGFzc2VzIGluIHRoZSBFYXNlbEpTIGxpYnJhcnkuIEl0IGRlZmluZXMgdGhlIGNvcmUgcHJvcGVydGllcyBhbmRcclxuXHQgKiBtZXRob2RzIHRoYXQgYXJlIHNoYXJlZCBiZXR3ZWVuIGFsbCBkaXNwbGF5IG9iamVjdHMsIHN1Y2ggYXMgdHJhbnNmb3JtYXRpb24gcHJvcGVydGllcyAoeCwgeSwgc2NhbGVYLCBzY2FsZVksIGV0YyksXHJcblx0ICogY2FjaGluZywgYW5kIG1vdXNlIGhhbmRsZXJzLlxyXG5cdCAqIEBjbGFzcyBEaXNwbGF5T2JqZWN0XHJcblx0ICogQGV4dGVuZHMgRXZlbnREaXNwYXRjaGVyXHJcblx0ICogQGNvbnN0cnVjdG9yXHJcblx0ICoqL1xyXG5cdGZ1bmN0aW9uIERpc3BsYXlPYmplY3QoKSB7XHJcblx0XHR0aGlzLkV2ZW50RGlzcGF0Y2hlcl9jb25zdHJ1Y3RvcigpO1xyXG5cclxuXHJcblx0Ly8gcHVibGljIHByb3BlcnRpZXM6XHJcblx0XHQvKipcclxuXHRcdCAqIFRoZSBhbHBoYSAodHJhbnNwYXJlbmN5KSBmb3IgdGhpcyBkaXNwbGF5IG9iamVjdC4gMCBpcyBmdWxseSB0cmFuc3BhcmVudCwgMSBpcyBmdWxseSBvcGFxdWUuXHJcblx0XHQgKiBAcHJvcGVydHkgYWxwaGFcclxuXHRcdCAqIEB0eXBlIHtOdW1iZXJ9XHJcblx0XHQgKiBAZGVmYXVsdCAxXHJcblx0XHQgKiovXHJcblx0XHR0aGlzLmFscGhhID0gMTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIElmIGEgY2FjaGUgaXMgYWN0aXZlLCB0aGlzIHJldHVybnMgdGhlIGNhbnZhcyB0aGF0IGhvbGRzIHRoZSBpbWFnZSBvZiB0aGlzIGRpc3BsYXkgb2JqZWN0LiBTZWUge3sjY3Jvc3NMaW5rIFwiRGlzcGxheU9iamVjdC9jYWNoZTptZXRob2RcIn19e3svY3Jvc3NMaW5rfX1cclxuXHRcdCAqIGZvciBtb3JlIGluZm9ybWF0aW9uLiBVc2UgdGhpcyB0byBkaXNwbGF5IHRoZSByZXN1bHQgb2YgYSBjYWNoZS4gVGhpcyB3aWxsIGJlIGEgSFRNTENhbnZhc0VsZW1lbnQgdW5sZXNzIHNwZWNpYWwgY2FjaGUgcnVsZXMgaGF2ZSBiZWVuIGRlbGliZXJhdGVseSBlbmFibGVkIGZvciB0aGlzIGNhY2hlLlxyXG5cdFx0ICogQHByb3BlcnR5IGNhY2hlQ2FudmFzXHJcblx0XHQgKiBAdHlwZSB7SFRNTENhbnZhc0VsZW1lbnQgfCBPYmplY3R9XHJcblx0XHQgKiBAZGVmYXVsdCBudWxsXHJcblx0XHQgKiBAcmVhZG9ubHlcclxuXHRcdCAqKi9cclxuXHRcdHRoaXMuY2FjaGVDYW52YXMgPSBudWxsO1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogSWYgYSBjYWNoZSBoYXMgYmVlbiBtYWRlLCB0aGlzIHJldHVybnMgdGhlIGNsYXNzIHRoYXQgaXMgbWFuYWdpbmcgdGhlIGNhY2hlQ2FudmFzIGFuZCBpdHMgcHJvcGVydGllcy4gU2VlIHt7I2Nyb3NzTGluayBcIkJpdG1hcENhY2hlXCJ9fXt7L2Nyb3NzTGlua319XHJcblx0XHQgKiBmb3IgbW9yZSBpbmZvcm1hdGlvbi4gVXNlIHRoaXMgdG8gY29udHJvbCwgaW5zcGVjdCwgYW5kIGNoYW5nZSB0aGUgY2FjaGUuIEluIHNwZWNpYWwgY2lyY3Vtc3RhbmNlcyB0aGlzIG1heSBiZSBhIG1vZGlmaWVkIG9yIHN1YmNsYXNzZWQgQml0bWFwQ2FjaGUuXHJcblx0XHQgKiBAcHJvcGVydHkgYml0bWFwQ2FjaGVcclxuXHRcdCAqIEB0eXBlIHtCaXRtYXBDYWNoZX1cclxuXHRcdCAqIEBkZWZhdWx0IG51bGxcclxuXHRcdCAqIEByZWFkb25seVxyXG5cdFx0ICoqL1xyXG5cdFx0dGhpcy5iaXRtYXBDYWNoZSA9IG51bGw7XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBVbmlxdWUgSUQgZm9yIHRoaXMgZGlzcGxheSBvYmplY3QuIE1ha2VzIGRpc3BsYXkgb2JqZWN0cyBlYXNpZXIgZm9yIHNvbWUgdXNlcy5cclxuXHRcdCAqIEBwcm9wZXJ0eSBpZFxyXG5cdFx0ICogQHR5cGUge051bWJlcn1cclxuXHRcdCAqIEBkZWZhdWx0IC0xXHJcblx0XHQgKiovXHJcblx0XHR0aGlzLmlkID0gY3JlYXRlanMuVUlELmdldCgpO1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogSW5kaWNhdGVzIHdoZXRoZXIgdG8gaW5jbHVkZSB0aGlzIG9iamVjdCB3aGVuIHJ1bm5pbmcgbW91c2UgaW50ZXJhY3Rpb25zLiBTZXR0aW5nIHRoaXMgdG8gYGZhbHNlYCBmb3IgY2hpbGRyZW5cclxuXHRcdCAqIG9mIGEge3sjY3Jvc3NMaW5rIFwiQ29udGFpbmVyXCJ9fXt7L2Nyb3NzTGlua319IHdpbGwgY2F1c2UgZXZlbnRzIG9uIHRoZSBDb250YWluZXIgdG8gbm90IGZpcmUgd2hlbiB0aGF0IGNoaWxkIGlzXHJcblx0XHQgKiBjbGlja2VkLiBTZXR0aW5nIHRoaXMgcHJvcGVydHkgdG8gYGZhbHNlYCBkb2VzIG5vdCBwcmV2ZW50IHRoZSB7eyNjcm9zc0xpbmsgXCJDb250YWluZXIvZ2V0T2JqZWN0c1VuZGVyUG9pbnRcIn19e3svY3Jvc3NMaW5rfX1cclxuXHRcdCAqIG1ldGhvZCBmcm9tIHJldHVybmluZyB0aGUgY2hpbGQuXHJcblx0XHQgKlxyXG5cdFx0ICogPHN0cm9uZz5Ob3RlOjwvc3Ryb25nPiBJbiBFYXNlbEpTIDAuNy4wLCB0aGUgbW91c2VFbmFibGVkIHByb3BlcnR5IHdpbGwgbm90IHdvcmsgcHJvcGVybHkgd2l0aCBuZXN0ZWQgQ29udGFpbmVycy4gUGxlYXNlXHJcblx0XHQgKiBjaGVjayBvdXQgdGhlIGxhdGVzdCBORVhUIHZlcnNpb24gaW4gPGEgaHJlZj1cImh0dHBzOi8vZ2l0aHViLmNvbS9DcmVhdGVKUy9FYXNlbEpTL3RyZWUvbWFzdGVyL2xpYlwiPkdpdEh1YjwvYT4gZm9yIGFuIHVwZGF0ZWQgdmVyc2lvbiB3aXRoIHRoaXMgaXNzdWUgcmVzb2x2ZWQuIFRoZSBmaXggd2lsbCBiZVxyXG5cdFx0ICogcHJvdmlkZWQgaW4gdGhlIG5leHQgcmVsZWFzZSBvZiBFYXNlbEpTLlxyXG5cdFx0ICogQHByb3BlcnR5IG1vdXNlRW5hYmxlZFxyXG5cdFx0ICogQHR5cGUge0Jvb2xlYW59XHJcblx0XHQgKiBAZGVmYXVsdCB0cnVlXHJcblx0XHQgKiovXHJcblx0XHR0aGlzLm1vdXNlRW5hYmxlZCA9IHRydWU7XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBJZiBmYWxzZSwgdGhlIHRpY2sgd2lsbCBub3QgcnVuIG9uIHRoaXMgZGlzcGxheSBvYmplY3QgKG9yIGl0cyBjaGlsZHJlbikuIFRoaXMgY2FuIHByb3ZpZGUgc29tZSBwZXJmb3JtYW5jZSBiZW5lZml0cy5cclxuXHRcdCAqIEluIGFkZGl0aW9uIHRvIHByZXZlbnRpbmcgdGhlIFwidGlja1wiIGV2ZW50IGZyb20gYmVpbmcgZGlzcGF0Y2hlZCwgaXQgd2lsbCBhbHNvIHByZXZlbnQgdGljayByZWxhdGVkIHVwZGF0ZXNcclxuXHRcdCAqIG9uIHNvbWUgZGlzcGxheSBvYmplY3RzIChleC4gU3ByaXRlICYgTW92aWVDbGlwIGZyYW1lIGFkdmFuY2luZywgYW5kIERPTUVsZW1lbnQgZGlzcGxheSBwcm9wZXJ0aWVzKS5cclxuXHRcdCAqIEBwcm9wZXJ0eSB0aWNrRW5hYmxlZFxyXG5cdFx0ICogQHR5cGUgQm9vbGVhblxyXG5cdFx0ICogQGRlZmF1bHQgdHJ1ZVxyXG5cdFx0ICoqL1xyXG5cdFx0dGhpcy50aWNrRW5hYmxlZCA9IHRydWU7XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBBbiBvcHRpb25hbCBuYW1lIGZvciB0aGlzIGRpc3BsYXkgb2JqZWN0LiBJbmNsdWRlZCBpbiB7eyNjcm9zc0xpbmsgXCJEaXNwbGF5T2JqZWN0L3RvU3RyaW5nXCJ9fXt7L2Nyb3NzTGlua319IC4gVXNlZnVsIGZvclxyXG5cdFx0ICogZGVidWdnaW5nLlxyXG5cdFx0ICogQHByb3BlcnR5IG5hbWVcclxuXHRcdCAqIEB0eXBlIHtTdHJpbmd9XHJcblx0XHQgKiBAZGVmYXVsdCBudWxsXHJcblx0XHQgKiovXHJcblx0XHR0aGlzLm5hbWUgPSBudWxsO1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogQSByZWZlcmVuY2UgdG8gdGhlIHt7I2Nyb3NzTGluayBcIkNvbnRhaW5lclwifX17ey9jcm9zc0xpbmt9fSBvciB7eyNjcm9zc0xpbmsgXCJTdGFnZVwifX17ey9jcm9zc0xpbmt9fSBvYmplY3QgdGhhdFxyXG5cdFx0ICogY29udGFpbnMgdGhpcyBkaXNwbGF5IG9iamVjdCwgb3IgbnVsbCBpZiBpdCBoYXMgbm90IGJlZW4gYWRkZWRcclxuXHRcdCAqIHRvIG9uZS5cclxuXHRcdCAqIEBwcm9wZXJ0eSBwYXJlbnRcclxuXHRcdCAqIEBmaW5hbFxyXG5cdFx0ICogQHR5cGUge0NvbnRhaW5lcn1cclxuXHRcdCAqIEBkZWZhdWx0IG51bGxcclxuXHRcdCAqIEByZWFkb25seVxyXG5cdFx0ICoqL1xyXG5cdFx0dGhpcy5wYXJlbnQgPSBudWxsO1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogVGhlIGxlZnQgb2Zmc2V0IGZvciB0aGlzIGRpc3BsYXkgb2JqZWN0J3MgcmVnaXN0cmF0aW9uIHBvaW50LiBGb3IgZXhhbXBsZSwgdG8gbWFrZSBhIDEwMHgxMDBweCBCaXRtYXAgcm90YXRlXHJcblx0XHQgKiBhcm91bmQgaXRzIGNlbnRlciwgeW91IHdvdWxkIHNldCByZWdYIGFuZCB7eyNjcm9zc0xpbmsgXCJEaXNwbGF5T2JqZWN0L3JlZ1k6cHJvcGVydHlcIn19e3svY3Jvc3NMaW5rfX0gdG8gNTAuXHJcblx0XHQgKiBDYWNoZWQgb2JqZWN0J3MgcmVnaXN0cmF0aW9uIHBvaW50cyBzaG91bGQgYmUgc2V0IGJhc2VkIG9uIHByZS1jYWNoZSBjb25kaXRpb25zLCBub3QgY2FjaGVkIHNpemUuXHJcblx0XHQgKiBAcHJvcGVydHkgcmVnWFxyXG5cdFx0ICogQHR5cGUge051bWJlcn1cclxuXHRcdCAqIEBkZWZhdWx0IDBcclxuXHRcdCAqKi9cclxuXHRcdHRoaXMucmVnWCA9IDA7XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBUaGUgeSBvZmZzZXQgZm9yIHRoaXMgZGlzcGxheSBvYmplY3QncyByZWdpc3RyYXRpb24gcG9pbnQuIEZvciBleGFtcGxlLCB0byBtYWtlIGEgMTAweDEwMHB4IEJpdG1hcCByb3RhdGUgYXJvdW5kXHJcblx0XHQgKiBpdHMgY2VudGVyLCB5b3Ugd291bGQgc2V0IHt7I2Nyb3NzTGluayBcIkRpc3BsYXlPYmplY3QvcmVnWDpwcm9wZXJ0eVwifX17ey9jcm9zc0xpbmt9fSBhbmQgcmVnWSB0byA1MC5cclxuXHRcdCAqIENhY2hlZCBvYmplY3QncyByZWdpc3RyYXRpb24gcG9pbnRzIHNob3VsZCBiZSBzZXQgYmFzZWQgb24gcHJlLWNhY2hlIGNvbmRpdGlvbnMsIG5vdCBjYWNoZWQgc2l6ZS5cclxuXHRcdCAqIEBwcm9wZXJ0eSByZWdZXHJcblx0XHQgKiBAdHlwZSB7TnVtYmVyfVxyXG5cdFx0ICogQGRlZmF1bHQgMFxyXG5cdFx0ICoqL1xyXG5cdFx0dGhpcy5yZWdZID0gMDtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFRoZSByb3RhdGlvbiBpbiBkZWdyZWVzIGZvciB0aGlzIGRpc3BsYXkgb2JqZWN0LlxyXG5cdFx0ICogQHByb3BlcnR5IHJvdGF0aW9uXHJcblx0XHQgKiBAdHlwZSB7TnVtYmVyfVxyXG5cdFx0ICogQGRlZmF1bHQgMFxyXG5cdFx0ICoqL1xyXG5cdFx0dGhpcy5yb3RhdGlvbiA9IDA7XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBUaGUgZmFjdG9yIHRvIHN0cmV0Y2ggdGhpcyBkaXNwbGF5IG9iamVjdCBob3Jpem9udGFsbHkuIEZvciBleGFtcGxlLCBzZXR0aW5nIHNjYWxlWCB0byAyIHdpbGwgc3RyZXRjaCB0aGUgZGlzcGxheVxyXG5cdFx0ICogb2JqZWN0IHRvIHR3aWNlIGl0cyBub21pbmFsIHdpZHRoLiBUbyBob3Jpem9udGFsbHkgZmxpcCBhbiBvYmplY3QsIHNldCB0aGUgc2NhbGUgdG8gYSBuZWdhdGl2ZSBudW1iZXIuXHJcblx0XHQgKiBAcHJvcGVydHkgc2NhbGVYXHJcblx0XHQgKiBAdHlwZSB7TnVtYmVyfVxyXG5cdFx0ICogQGRlZmF1bHQgMVxyXG5cdFx0ICoqL1xyXG5cdFx0dGhpcy5zY2FsZVggPSAxO1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogVGhlIGZhY3RvciB0byBzdHJldGNoIHRoaXMgZGlzcGxheSBvYmplY3QgdmVydGljYWxseS4gRm9yIGV4YW1wbGUsIHNldHRpbmcgc2NhbGVZIHRvIDAuNSB3aWxsIHN0cmV0Y2ggdGhlIGRpc3BsYXlcclxuXHRcdCAqIG9iamVjdCB0byBoYWxmIGl0cyBub21pbmFsIGhlaWdodC4gVG8gdmVydGljYWxseSBmbGlwIGFuIG9iamVjdCwgc2V0IHRoZSBzY2FsZSB0byBhIG5lZ2F0aXZlIG51bWJlci5cclxuXHRcdCAqIEBwcm9wZXJ0eSBzY2FsZVlcclxuXHRcdCAqIEB0eXBlIHtOdW1iZXJ9XHJcblx0XHQgKiBAZGVmYXVsdCAxXHJcblx0XHQgKiovXHJcblx0XHR0aGlzLnNjYWxlWSA9IDE7XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBUaGUgZmFjdG9yIHRvIHNrZXcgdGhpcyBkaXNwbGF5IG9iamVjdCBob3Jpem9udGFsbHkuXHJcblx0XHQgKiBAcHJvcGVydHkgc2tld1hcclxuXHRcdCAqIEB0eXBlIHtOdW1iZXJ9XHJcblx0XHQgKiBAZGVmYXVsdCAwXHJcblx0XHQgKiovXHJcblx0XHR0aGlzLnNrZXdYID0gMDtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFRoZSBmYWN0b3IgdG8gc2tldyB0aGlzIGRpc3BsYXkgb2JqZWN0IHZlcnRpY2FsbHkuXHJcblx0XHQgKiBAcHJvcGVydHkgc2tld1lcclxuXHRcdCAqIEB0eXBlIHtOdW1iZXJ9XHJcblx0XHQgKiBAZGVmYXVsdCAwXHJcblx0XHQgKiovXHJcblx0XHR0aGlzLnNrZXdZID0gMDtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEEgc2hhZG93IG9iamVjdCB0aGF0IGRlZmluZXMgdGhlIHNoYWRvdyB0byByZW5kZXIgb24gdGhpcyBkaXNwbGF5IG9iamVjdC4gU2V0IHRvIGBudWxsYCB0byByZW1vdmUgYSBzaGFkb3cuIElmXHJcblx0XHQgKiBudWxsLCB0aGlzIHByb3BlcnR5IGlzIGluaGVyaXRlZCBmcm9tIHRoZSBwYXJlbnQgY29udGFpbmVyLlxyXG5cdFx0ICogQHByb3BlcnR5IHNoYWRvd1xyXG5cdFx0ICogQHR5cGUge1NoYWRvd31cclxuXHRcdCAqIEBkZWZhdWx0IG51bGxcclxuXHRcdCAqKi9cclxuXHRcdHRoaXMuc2hhZG93ID0gbnVsbDtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEluZGljYXRlcyB3aGV0aGVyIHRoaXMgZGlzcGxheSBvYmplY3Qgc2hvdWxkIGJlIHJlbmRlcmVkIHRvIHRoZSBjYW52YXMgYW5kIGluY2x1ZGVkIHdoZW4gcnVubmluZyB0aGUgU3RhZ2VcclxuXHRcdCAqIHt7I2Nyb3NzTGluayBcIlN0YWdlL2dldE9iamVjdHNVbmRlclBvaW50XCJ9fXt7L2Nyb3NzTGlua319IG1ldGhvZC5cclxuXHRcdCAqIEBwcm9wZXJ0eSB2aXNpYmxlXHJcblx0XHQgKiBAdHlwZSB7Qm9vbGVhbn1cclxuXHRcdCAqIEBkZWZhdWx0IHRydWVcclxuXHRcdCAqKi9cclxuXHRcdHRoaXMudmlzaWJsZSA9IHRydWU7XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBUaGUgeCAoaG9yaXpvbnRhbCkgcG9zaXRpb24gb2YgdGhlIGRpc3BsYXkgb2JqZWN0LCByZWxhdGl2ZSB0byBpdHMgcGFyZW50LlxyXG5cdFx0ICogQHByb3BlcnR5IHhcclxuXHRcdCAqIEB0eXBlIHtOdW1iZXJ9XHJcblx0XHQgKiBAZGVmYXVsdCAwXHJcblx0XHQgKiovXHJcblx0XHR0aGlzLnggPSAwO1xyXG5cclxuXHRcdC8qKiBUaGUgeSAodmVydGljYWwpIHBvc2l0aW9uIG9mIHRoZSBkaXNwbGF5IG9iamVjdCwgcmVsYXRpdmUgdG8gaXRzIHBhcmVudC5cclxuXHRcdCAqIEBwcm9wZXJ0eSB5XHJcblx0XHQgKiBAdHlwZSB7TnVtYmVyfVxyXG5cdFx0ICogQGRlZmF1bHQgMFxyXG5cdFx0ICoqL1xyXG5cdFx0dGhpcy55ID0gMDtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIElmIHNldCwgZGVmaW5lcyB0aGUgdHJhbnNmb3JtYXRpb24gZm9yIHRoaXMgZGlzcGxheSBvYmplY3QsIG92ZXJyaWRpbmcgYWxsIG90aGVyIHRyYW5zZm9ybWF0aW9uIHByb3BlcnRpZXNcclxuXHRcdCAqICh4LCB5LCByb3RhdGlvbiwgc2NhbGUsIHNrZXcpLlxyXG5cdFx0ICogQHByb3BlcnR5IHRyYW5zZm9ybU1hdHJpeFxyXG5cdFx0ICogQHR5cGUge01hdHJpeDJEfVxyXG5cdFx0ICogQGRlZmF1bHQgbnVsbFxyXG5cdFx0ICoqL1xyXG5cdFx0dGhpcy50cmFuc2Zvcm1NYXRyaXggPSBudWxsO1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogVGhlIGNvbXBvc2l0ZSBvcGVyYXRpb24gaW5kaWNhdGVzIGhvdyB0aGUgcGl4ZWxzIG9mIHRoaXMgZGlzcGxheSBvYmplY3Qgd2lsbCBiZSBjb21wb3NpdGVkIHdpdGggdGhlIGVsZW1lbnRzXHJcblx0XHQgKiBiZWhpbmQgaXQuIElmIGBudWxsYCwgdGhpcyBwcm9wZXJ0eSBpcyBpbmhlcml0ZWQgZnJvbSB0aGUgcGFyZW50IGNvbnRhaW5lci4gRm9yIG1vcmUgaW5mb3JtYXRpb24sIHJlYWQgdGhlXHJcblx0XHQgKiA8YSBocmVmPVwiaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2Uvc2NyaXB0aW5nLmh0bWwjZG9tLWNvbnRleHQtMmQtZ2xvYmFsY29tcG9zaXRlb3BlcmF0aW9uXCI+XHJcblx0XHQgKiB3aGF0d2cgc3BlYyBvbiBjb21wb3NpdGluZzwvYT4uIEZvciBhIGxpc3Qgb2Ygc3VwcG9ydGVkIGNvbXBvc2l0ZU9wZXJhdGlvbiB2YWx1ZSwgdmlzaXRcclxuXHRcdCAqIDxhIGhyZWY9XCJodHRwczovL2RyYWZ0cy5meHRmLm9yZy9jb21wb3NpdGluZy9cIj50aGUgVzNDIGRyYWZ0IG9uIENvbXBvc2l0aW5nIGFuZCBCbGVuZGluZzwvYT4uXHJcblx0XHQgKiBAcHJvcGVydHkgY29tcG9zaXRlT3BlcmF0aW9uXHJcblx0XHQgKiBAdHlwZSB7U3RyaW5nfVxyXG5cdFx0ICogQGRlZmF1bHQgbnVsbFxyXG5cdFx0ICoqL1xyXG5cdFx0dGhpcy5jb21wb3NpdGVPcGVyYXRpb24gPSBudWxsO1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogSW5kaWNhdGVzIHdoZXRoZXIgdGhlIGRpc3BsYXkgb2JqZWN0IHNob3VsZCBiZSBkcmF3biB0byBhIHdob2xlIHBpeGVsIHdoZW5cclxuXHRcdCAqIHt7I2Nyb3NzTGluayBcIlN0YWdlL3NuYXBUb1BpeGVsRW5hYmxlZFwifX17ey9jcm9zc0xpbmt9fSBpcyB0cnVlLiBUbyBlbmFibGUvZGlzYWJsZSBzbmFwcGluZyBvbiB3aG9sZVxyXG5cdFx0ICogY2F0ZWdvcmllcyBvZiBkaXNwbGF5IG9iamVjdHMsIHNldCB0aGlzIHZhbHVlIG9uIHRoZSBwcm90b3R5cGUgKEV4LiBUZXh0LnByb3RvdHlwZS5zbmFwVG9QaXhlbCA9IHRydWUpLlxyXG5cdFx0ICogQHByb3BlcnR5IHNuYXBUb1BpeGVsXHJcblx0XHQgKiBAdHlwZSB7Qm9vbGVhbn1cclxuXHRcdCAqIEBkZWZhdWx0IHRydWVcclxuXHRcdCAqKi9cclxuXHRcdHRoaXMuc25hcFRvUGl4ZWwgPSB0cnVlO1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogQW4gYXJyYXkgb2YgRmlsdGVyIG9iamVjdHMgdG8gYXBwbHkgdG8gdGhpcyBkaXNwbGF5IG9iamVjdC4gRmlsdGVycyBhcmUgb25seSBhcHBsaWVkIC8gdXBkYXRlZCB3aGVuIHt7I2Nyb3NzTGluayBcImNhY2hlXCJ9fXt7L2Nyb3NzTGlua319XHJcblx0XHQgKiBvciB7eyNjcm9zc0xpbmsgXCJ1cGRhdGVDYWNoZVwifX17ey9jcm9zc0xpbmt9fSBpcyBjYWxsZWQgb24gdGhlIGRpc3BsYXkgb2JqZWN0LCBhbmQgb25seSBhcHBseSB0byB0aGUgYXJlYSB0aGF0IGlzXHJcblx0XHQgKiBjYWNoZWQuXHJcblx0XHQgKiBAcHJvcGVydHkgZmlsdGVyc1xyXG5cdFx0ICogQHR5cGUge0FycmF5fVxyXG5cdFx0ICogQGRlZmF1bHQgbnVsbFxyXG5cdFx0ICoqL1xyXG5cdFx0dGhpcy5maWx0ZXJzID0gbnVsbDtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEEgU2hhcGUgaW5zdGFuY2UgdGhhdCBkZWZpbmVzIGEgdmVjdG9yIG1hc2sgKGNsaXBwaW5nIHBhdGgpIGZvciB0aGlzIGRpc3BsYXkgb2JqZWN0LiAgVGhlIHNoYXBlJ3MgdHJhbnNmb3JtYXRpb25cclxuXHRcdCAqIHdpbGwgYmUgYXBwbGllZCByZWxhdGl2ZSB0byB0aGUgZGlzcGxheSBvYmplY3QncyBwYXJlbnQgY29vcmRpbmF0ZXMgKGFzIGlmIGl0IHdlcmUgYSBjaGlsZCBvZiB0aGUgcGFyZW50KS5cclxuXHRcdCAqIEBwcm9wZXJ0eSBtYXNrXHJcblx0XHQgKiBAdHlwZSB7U2hhcGV9XHJcblx0XHQgKiBAZGVmYXVsdCBudWxsXHJcblx0XHQgKi9cclxuXHRcdHRoaXMubWFzayA9IG51bGw7XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBBIGRpc3BsYXkgb2JqZWN0IHRoYXQgd2lsbCBiZSB0ZXN0ZWQgd2hlbiBjaGVja2luZyBtb3VzZSBpbnRlcmFjdGlvbnMgb3IgdGVzdGluZyB7eyNjcm9zc0xpbmsgXCJDb250YWluZXIvZ2V0T2JqZWN0c1VuZGVyUG9pbnRcIn19e3svY3Jvc3NMaW5rfX0uXHJcblx0XHQgKiBUaGUgaGl0IGFyZWEgd2lsbCBoYXZlIGl0cyB0cmFuc2Zvcm1hdGlvbiBhcHBsaWVkIHJlbGF0aXZlIHRvIHRoaXMgZGlzcGxheSBvYmplY3QncyBjb29yZGluYXRlIHNwYWNlIChhcyB0aG91Z2hcclxuXHRcdCAqIHRoZSBoaXQgdGVzdCBvYmplY3Qgd2VyZSBhIGNoaWxkIG9mIHRoaXMgZGlzcGxheSBvYmplY3QgYW5kIHJlbGF0aXZlIHRvIGl0cyByZWdYL1kpLiBUaGUgaGl0QXJlYSB3aWxsIGJlIHRlc3RlZFxyXG5cdFx0ICogdXNpbmcgb25seSBpdHMgb3duIGBhbHBoYWAgdmFsdWUgcmVnYXJkbGVzcyBvZiB0aGUgYWxwaGEgdmFsdWUgb24gdGhlIHRhcmdldCBkaXNwbGF5IG9iamVjdCwgb3IgdGhlIHRhcmdldCdzXHJcblx0XHQgKiBhbmNlc3RvcnMgKHBhcmVudHMpLlxyXG5cdFx0ICogXHJcblx0XHQgKiBJZiBzZXQgb24gYSB7eyNjcm9zc0xpbmsgXCJDb250YWluZXJcIn19e3svY3Jvc3NMaW5rfX0sIGNoaWxkcmVuIG9mIHRoZSBDb250YWluZXIgd2lsbCBub3QgcmVjZWl2ZSBtb3VzZSBldmVudHMuXHJcblx0XHQgKiBUaGlzIGlzIHNpbWlsYXIgdG8gc2V0dGluZyB7eyNjcm9zc0xpbmsgXCJtb3VzZUNoaWxkcmVuXCJ9fXt7L2Nyb3NzTGlua319IHRvIGZhbHNlLlxyXG5cdFx0ICpcclxuXHRcdCAqIE5vdGUgdGhhdCBoaXRBcmVhIGlzIE5PVCBjdXJyZW50bHkgdXNlZCBieSB0aGUgYGhpdFRlc3QoKWAgbWV0aG9kLCBub3IgaXMgaXQgc3VwcG9ydGVkIGZvciB7eyNjcm9zc0xpbmsgXCJTdGFnZVwifX17ey9jcm9zc0xpbmt9fS5cclxuXHRcdCAqIEBwcm9wZXJ0eSBoaXRBcmVhXHJcblx0XHQgKiBAdHlwZSB7RGlzcGxheU9iamVjdH1cclxuXHRcdCAqIEBkZWZhdWx0IG51bGxcclxuXHRcdCAqL1xyXG5cdFx0dGhpcy5oaXRBcmVhID0gbnVsbDtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEEgQ1NTIGN1cnNvciAoZXguIFwicG9pbnRlclwiLCBcImhlbHBcIiwgXCJ0ZXh0XCIsIGV0YykgdGhhdCB3aWxsIGJlIGRpc3BsYXllZCB3aGVuIHRoZSB1c2VyIGhvdmVycyBvdmVyIHRoaXMgZGlzcGxheVxyXG5cdFx0ICogb2JqZWN0LiBZb3UgbXVzdCBlbmFibGUgbW91c2VvdmVyIGV2ZW50cyB1c2luZyB0aGUge3sjY3Jvc3NMaW5rIFwiU3RhZ2UvZW5hYmxlTW91c2VPdmVyXCJ9fXt7L2Nyb3NzTGlua319IG1ldGhvZCB0b1xyXG5cdFx0ICogdXNlIHRoaXMgcHJvcGVydHkuIFNldHRpbmcgYSBub24tbnVsbCBjdXJzb3Igb24gYSBDb250YWluZXIgd2lsbCBvdmVycmlkZSB0aGUgY3Vyc29yIHNldCBvbiBpdHMgZGVzY2VuZGFudHMuXHJcblx0XHQgKiBAcHJvcGVydHkgY3Vyc29yXHJcblx0XHQgKiBAdHlwZSB7U3RyaW5nfVxyXG5cdFx0ICogQGRlZmF1bHQgbnVsbFxyXG5cdFx0ICovXHJcblx0XHR0aGlzLmN1cnNvciA9IG51bGw7XHJcblxyXG5cclxuXHQvLyBwcml2YXRlIHByb3BlcnRpZXM6XHJcblx0XHQvKipcclxuXHRcdCAqIE1vdmVkIHRvIHt7I2Nyb3NzTGluayBcIkJpdG1hcENhY2hlXCJ9fXt7L2Nyb3NzTGlua319XHJcblx0XHQgKiBAcHJvcGVydHkgX2NhY2hlU2NhbGVcclxuXHRcdCAqIEBwcm90ZWN0ZWRcclxuXHRcdCAqIEB0eXBlIHtOdW1iZXJ9XHJcblx0XHQgKiBAZGVmYXVsdCAxXHJcblx0XHQgKiBAZGVwcmVjYXRlZFxyXG5cdFx0ICoqL1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogTW92ZWQgdG8ge3sjY3Jvc3NMaW5rIFwiQml0bWFwQ2FjaGVcIn19e3svY3Jvc3NMaW5rfX1cclxuXHRcdCAqIEBwcm9wZXJ0eSBfY2FjaGVEYXRhVVJMSURcclxuXHRcdCAqIEBwcm90ZWN0ZWRcclxuXHRcdCAqIEB0eXBlIHtOdW1iZXJ9XHJcblx0XHQgKiBAZGVmYXVsdCAwXHJcblx0XHQgKiBAZGVwcmVjYXRlZFxyXG5cdFx0ICovXHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBNb3ZlZCB0byB7eyNjcm9zc0xpbmsgXCJCaXRtYXBDYWNoZVwifX17ey9jcm9zc0xpbmt9fVxyXG5cdFx0ICogQHByb3BlcnR5IF9jYWNoZURhdGFVUkxcclxuXHRcdCAqIEBwcm90ZWN0ZWRcclxuXHRcdCAqIEB0eXBlIHtTdHJpbmd9XHJcblx0XHQgKiBAZGVmYXVsdCBudWxsXHJcblx0XHQgKiBAZGVwcmVjYXRlZFxyXG5cdFx0ICovXHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBAcHJvcGVydHkgX3Byb3BzXHJcblx0XHQgKiBAcHJvdGVjdGVkXHJcblx0XHQgKiBAdHlwZSB7RGlzcGxheU9iamVjdH1cclxuXHRcdCAqIEBkZWZhdWx0IG51bGxcclxuXHRcdCAqKi9cclxuXHRcdHRoaXMuX3Byb3BzID0gbmV3IGNyZWF0ZWpzLkRpc3BsYXlQcm9wcygpO1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogQHByb3BlcnR5IF9yZWN0YW5nbGVcclxuXHRcdCAqIEBwcm90ZWN0ZWRcclxuXHRcdCAqIEB0eXBlIHtSZWN0YW5nbGV9XHJcblx0XHQgKiBAZGVmYXVsdCBudWxsXHJcblx0XHQgKiovXHJcblx0XHR0aGlzLl9yZWN0YW5nbGUgPSBuZXcgY3JlYXRlanMuUmVjdGFuZ2xlKCk7XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBAcHJvcGVydHkgX2JvdW5kc1xyXG5cdFx0ICogQHByb3RlY3RlZFxyXG5cdFx0ICogQHR5cGUge1JlY3RhbmdsZX1cclxuXHRcdCAqIEBkZWZhdWx0IG51bGxcclxuXHRcdCAqKi9cclxuXHRcdHRoaXMuX2JvdW5kcyA9IG51bGw7XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBXaGVyZSBTdGFnZUdMIHNob3VsZCBsb29rIGZvciByZXF1aXJlZCBkaXNwbGF5IHByb3BlcnRpZXMsIG1hdHRlcnMgb25seSBmb3IgbGVhZiBkaXNwbGF5IG9iamVjdHMuIENvbnRhaW5lcnNcclxuXHRcdCAqIG9yIGNhY2hlZCBvYmplY3RzIHdvbid0IHVzZSB0aGlzIHByb3BlcnR5LCBpdCdzIGZvciBuYXRpdmUgZGlzcGxheSBvZiB0ZXJtaW5hbCBlbGVtZW50cy5cclxuXHRcdCAqIEBwcm9wZXJ0eSBfd2ViR0xSZW5kZXJTdHlsZVxyXG5cdFx0ICogQHByb3RlY3RlZFxyXG5cdFx0ICogQHR5cGUge251bWJlcn1cclxuXHRcdCAqIEBkZWZhdWx0IDBcclxuXHRcdCAqL1xyXG5cdFx0dGhpcy5fd2ViR0xSZW5kZXJTdHlsZSA9IERpc3BsYXlPYmplY3QuX1N0YWdlR0xfTk9ORTtcclxuXHR9XHJcblx0dmFyIHAgPSBjcmVhdGVqcy5leHRlbmQoRGlzcGxheU9iamVjdCwgY3JlYXRlanMuRXZlbnREaXNwYXRjaGVyKTtcclxuXHJcbi8vIHN0YXRpYyBwcm9wZXJ0aWVzOlxyXG5cdC8qKlxyXG5cdCAqIExpc3Rpbmcgb2YgbW91c2UgZXZlbnQgbmFtZXMuIFVzZWQgaW4gX2hhc01vdXNlRXZlbnRMaXN0ZW5lci5cclxuXHQgKiBAcHJvcGVydHkgX01PVVNFX0VWRU5UU1xyXG5cdCAqIEBwcm90ZWN0ZWRcclxuXHQgKiBAc3RhdGljXHJcblx0ICogQHR5cGUge0FycmF5fVxyXG5cdCAqKi9cclxuXHREaXNwbGF5T2JqZWN0Ll9NT1VTRV9FVkVOVFMgPSBbXCJjbGlja1wiLFwiZGJsY2xpY2tcIixcIm1vdXNlZG93blwiLFwibW91c2VvdXRcIixcIm1vdXNlb3ZlclwiLFwicHJlc3Ntb3ZlXCIsXCJwcmVzc3VwXCIsXCJyb2xsb3V0XCIsXCJyb2xsb3ZlclwiXTtcclxuXHJcblx0LyoqXHJcblx0ICogU3VwcHJlc3NlcyBlcnJvcnMgZ2VuZXJhdGVkIHdoZW4gdXNpbmcgZmVhdHVyZXMgbGlrZSBoaXRUZXN0LCBtb3VzZSBldmVudHMsIGFuZCB7eyNjcm9zc0xpbmsgXCJnZXRPYmplY3RzVW5kZXJQb2ludFwifX17ey9jcm9zc0xpbmt9fVxyXG5cdCAqIHdpdGggY3Jvc3MgZG9tYWluIGNvbnRlbnQuXHJcblx0ICogQHByb3BlcnR5IHN1cHByZXNzQ3Jvc3NEb21haW5FcnJvcnNcclxuXHQgKiBAc3RhdGljXHJcblx0ICogQHR5cGUge0Jvb2xlYW59XHJcblx0ICogQGRlZmF1bHQgZmFsc2VcclxuXHQgKiovXHJcblx0RGlzcGxheU9iamVjdC5zdXBwcmVzc0Nyb3NzRG9tYWluRXJyb3JzID0gZmFsc2U7XHJcblxyXG5cdC8qKlxyXG5cdCAqIEBwcm9wZXJ0eSBfc25hcFRvUGl4ZWxFbmFibGVkXHJcblx0ICogQHByb3RlY3RlZFxyXG5cdCAqIEBzdGF0aWNcclxuXHQgKiBAdHlwZSB7Qm9vbGVhbn1cclxuXHQgKiBAZGVmYXVsdCBmYWxzZVxyXG5cdCAqKi9cclxuXHREaXNwbGF5T2JqZWN0Ll9zbmFwVG9QaXhlbEVuYWJsZWQgPSBmYWxzZTsgLy8gc3RhZ2Uuc25hcFRvUGl4ZWxFbmFibGVkIGlzIHRlbXBvcmFyaWx5IGNvcGllZCBoZXJlIGR1cmluZyBhIGRyYXcgdG8gcHJvdmlkZSBnbG9iYWwgYWNjZXNzLlxyXG5cclxuXHQvKipcclxuXHQgKiBFbnVtIGxpa2UgcHJvcGVydHkgZm9yIGRldGVybWluaW5nIFN0YWdlR0wgcmVuZGVyIGxvb2t1cCwgaS5lLiB3aGVyZSB0byBleHBlY3QgcHJvcGVydGllcy5cclxuXHQgKiBAcHJvcGVydHkgX1N0YWdlR0xfTk9ORVxyXG5cdCAqIEBwcm90ZWN0ZWRcclxuXHQgKiBAc3RhdGljXHJcblx0ICogQHR5cGUge251bWJlcn1cclxuXHQgKi9cclxuXHREaXNwbGF5T2JqZWN0Ll9TdGFnZUdMX05PTkUgPSAwO1xyXG5cclxuXHQvKipcclxuXHQgKiBFbnVtIGxpa2UgcHJvcGVydHkgZm9yIGRldGVybWluaW5nIFN0YWdlR0wgcmVuZGVyIGxvb2t1cCwgaS5lLiB3aGVyZSB0byBleHBlY3QgcHJvcGVydGllcy5cclxuXHQgKiBAcHJvcGVydHkgX1N0YWdlR0xfU1BSSVRFXHJcblx0ICogQHByb3RlY3RlZFxyXG5cdCAqIEBzdGF0aWNcclxuXHQgKiBAdHlwZSB7bnVtYmVyfVxyXG5cdCAqL1xyXG5cdERpc3BsYXlPYmplY3QuX1N0YWdlR0xfU1BSSVRFID0gMTtcclxuXHJcblx0LyoqXHJcblx0ICogRW51bSBsaWtlIHByb3BlcnR5IGZvciBkZXRlcm1pbmluZyBTdGFnZUdMIHJlbmRlciBsb29rdXAsIGkuZS4gd2hlcmUgdG8gZXhwZWN0IHByb3BlcnRpZXMuXHJcblx0ICogQHByb3BlcnR5IF9TdGFnZUdMX0JJVE1BUFxyXG5cdCAqIEBwcm90ZWN0ZWRcclxuXHQgKiBAc3RhdGljXHJcblx0ICogQHR5cGUge251bWJlcn1cclxuXHQgKi9cclxuXHREaXNwbGF5T2JqZWN0Ll9TdGFnZUdMX0JJVE1BUCA9IDI7XHJcblxyXG5cdC8qKlxyXG5cdCAqIEBwcm9wZXJ0eSBfaGl0VGVzdENhbnZhc1xyXG5cdCAqIEB0eXBlIHtIVE1MQ2FudmFzRWxlbWVudCB8IE9iamVjdH1cclxuXHQgKiBAc3RhdGljXHJcblx0ICogQHByb3RlY3RlZFxyXG5cdCAqKi9cclxuXHQvKipcclxuXHQgKiBAcHJvcGVydHkgX2hpdFRlc3RDb250ZXh0XHJcblx0ICogQHR5cGUge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH1cclxuXHQgKiBAc3RhdGljXHJcblx0ICogQHByb3RlY3RlZFxyXG5cdCAqKi9cclxuXHR2YXIgY2FudmFzID0gY3JlYXRlanMuY3JlYXRlQ2FudmFzP2NyZWF0ZWpzLmNyZWF0ZUNhbnZhcygpOmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7IC8vIHByZXZlbnQgZXJyb3JzIG9uIGxvYWQgaW4gYnJvd3NlcnMgd2l0aG91dCBjYW52YXMuXHJcblx0aWYgKGNhbnZhcy5nZXRDb250ZXh0KSB7XHJcblx0XHREaXNwbGF5T2JqZWN0Ll9oaXRUZXN0Q2FudmFzID0gY2FudmFzO1xyXG5cdFx0RGlzcGxheU9iamVjdC5faGl0VGVzdENvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xyXG5cdFx0Y2FudmFzLndpZHRoID0gY2FudmFzLmhlaWdodCA9IDE7XHJcblx0fVxyXG5cclxuLy8gZXZlbnRzOlxyXG5cdC8qKlxyXG5cdCAqIERpc3BhdGNoZWQgd2hlbiB0aGUgdXNlciBwcmVzc2VzIHRoZWlyIGxlZnQgbW91c2UgYnV0dG9uIG92ZXIgdGhlIGRpc3BsYXkgb2JqZWN0LiBTZWUgdGhlIFxyXG5cdCAqIHt7I2Nyb3NzTGluayBcIk1vdXNlRXZlbnRcIn19e3svY3Jvc3NMaW5rfX0gY2xhc3MgZm9yIGEgbGlzdGluZyBvZiBldmVudCBwcm9wZXJ0aWVzLlxyXG5cdCAqIEBldmVudCBtb3VzZWRvd25cclxuXHQgKiBAc2luY2UgMC42LjBcclxuXHQgKi9cclxuXHJcblx0LyoqXHJcblx0ICogRGlzcGF0Y2hlZCB3aGVuIHRoZSB1c2VyIHByZXNzZXMgdGhlaXIgbGVmdCBtb3VzZSBidXR0b24gYW5kIHRoZW4gcmVsZWFzZXMgaXQgd2hpbGUgb3ZlciB0aGUgZGlzcGxheSBvYmplY3QuXHJcblx0ICogU2VlIHRoZSB7eyNjcm9zc0xpbmsgXCJNb3VzZUV2ZW50XCJ9fXt7L2Nyb3NzTGlua319IGNsYXNzIGZvciBhIGxpc3Rpbmcgb2YgZXZlbnQgcHJvcGVydGllcy5cclxuXHQgKiBAZXZlbnQgY2xpY2tcclxuXHQgKiBAc2luY2UgMC42LjBcclxuXHQgKi9cclxuXHJcblx0LyoqXHJcblx0ICogRGlzcGF0Y2hlZCB3aGVuIHRoZSB1c2VyIGRvdWJsZSBjbGlja3MgdGhlaXIgbGVmdCBtb3VzZSBidXR0b24gb3ZlciB0aGlzIGRpc3BsYXkgb2JqZWN0LlxyXG5cdCAqIFNlZSB0aGUge3sjY3Jvc3NMaW5rIFwiTW91c2VFdmVudFwifX17ey9jcm9zc0xpbmt9fSBjbGFzcyBmb3IgYSBsaXN0aW5nIG9mIGV2ZW50IHByb3BlcnRpZXMuXHJcblx0ICogQGV2ZW50IGRibGNsaWNrXHJcblx0ICogQHNpbmNlIDAuNi4wXHJcblx0ICovXHJcblxyXG5cdC8qKlxyXG5cdCAqIERpc3BhdGNoZWQgd2hlbiB0aGUgdXNlcidzIG1vdXNlIGVudGVycyB0aGlzIGRpc3BsYXkgb2JqZWN0LiBUaGlzIGV2ZW50IG11c3QgYmUgZW5hYmxlZCB1c2luZyBcclxuXHQgKiB7eyNjcm9zc0xpbmsgXCJTdGFnZS9lbmFibGVNb3VzZU92ZXJcIn19e3svY3Jvc3NMaW5rfX0uIFNlZSBhbHNvIHt7I2Nyb3NzTGluayBcIkRpc3BsYXlPYmplY3Qvcm9sbG92ZXI6ZXZlbnRcIn19e3svY3Jvc3NMaW5rfX0uXHJcblx0ICogU2VlIHRoZSB7eyNjcm9zc0xpbmsgXCJNb3VzZUV2ZW50XCJ9fXt7L2Nyb3NzTGlua319IGNsYXNzIGZvciBhIGxpc3Rpbmcgb2YgZXZlbnQgcHJvcGVydGllcy5cclxuXHQgKiBAZXZlbnQgbW91c2VvdmVyXHJcblx0ICogQHNpbmNlIDAuNi4wXHJcblx0ICovXHJcblxyXG5cdC8qKlxyXG5cdCAqIERpc3BhdGNoZWQgd2hlbiB0aGUgdXNlcidzIG1vdXNlIGxlYXZlcyB0aGlzIGRpc3BsYXkgb2JqZWN0LiBUaGlzIGV2ZW50IG11c3QgYmUgZW5hYmxlZCB1c2luZyBcclxuXHQgKiB7eyNjcm9zc0xpbmsgXCJTdGFnZS9lbmFibGVNb3VzZU92ZXJcIn19e3svY3Jvc3NMaW5rfX0uIFNlZSBhbHNvIHt7I2Nyb3NzTGluayBcIkRpc3BsYXlPYmplY3Qvcm9sbG91dDpldmVudFwifX17ey9jcm9zc0xpbmt9fS5cclxuXHQgKiBTZWUgdGhlIHt7I2Nyb3NzTGluayBcIk1vdXNlRXZlbnRcIn19e3svY3Jvc3NMaW5rfX0gY2xhc3MgZm9yIGEgbGlzdGluZyBvZiBldmVudCBwcm9wZXJ0aWVzLlxyXG5cdCAqIEBldmVudCBtb3VzZW91dFxyXG5cdCAqIEBzaW5jZSAwLjYuMFxyXG5cdCAqL1xyXG5cclxuXHQvKipcclxuXHQgKiBUaGlzIGV2ZW50IGlzIHNpbWlsYXIgdG8ge3sjY3Jvc3NMaW5rIFwiRGlzcGxheU9iamVjdC9tb3VzZW92ZXI6ZXZlbnRcIn19e3svY3Jvc3NMaW5rfX0sIHdpdGggdGhlIGZvbGxvd2luZ1xyXG5cdCAqIGRpZmZlcmVuY2VzOiBpdCBkb2VzIG5vdCBidWJibGUsIGFuZCBpdCBjb25zaWRlcnMge3sjY3Jvc3NMaW5rIFwiQ29udGFpbmVyXCJ9fXt7L2Nyb3NzTGlua319IGluc3RhbmNlcyBhcyBhblxyXG5cdCAqIGFnZ3JlZ2F0ZSBvZiB0aGVpciBjb250ZW50LlxyXG5cdCAqIFxyXG5cdCAqIEZvciBleGFtcGxlLCBteUNvbnRhaW5lciBjb250YWlucyB0d28gb3ZlcmxhcHBpbmcgY2hpbGRyZW46IHNoYXBlQSBhbmQgc2hhcGVCLiBUaGUgdXNlciBtb3ZlcyB0aGVpciBtb3VzZSBvdmVyXHJcblx0ICogc2hhcGVBIGFuZCB0aGVuIGRpcmVjdGx5IG9uIHRvIHNoYXBlQi4gV2l0aCBhIGxpc3RlbmVyIGZvciB7eyNjcm9zc0xpbmsgXCJtb3VzZW92ZXI6ZXZlbnRcIn19e3svY3Jvc3NMaW5rfX0gb25cclxuXHQgKiBteUNvbnRhaW5lciwgdHdvIGV2ZW50cyB3b3VsZCBiZSByZWNlaXZlZCwgZWFjaCB0YXJnZXRpbmcgYSBjaGlsZCBlbGVtZW50OjxPTD5cclxuXHQgKiA8TEk+d2hlbiB0aGUgbW91c2UgZW50ZXJzIHNoYXBlQSAodGFyZ2V0PXNoYXBlQSk8L0xJPlxyXG5cdCAqIDxMST53aGVuIHRoZSBtb3VzZSBlbnRlcnMgc2hhcGVCICh0YXJnZXQ9c2hhcGVCKTwvTEk+XHJcblx0ICogPC9PTD5cclxuXHQgKiBIb3dldmVyLCB3aXRoIGEgbGlzdGVuZXIgZm9yIFwicm9sbG92ZXJcIiBpbnN0ZWFkLCBvbmx5IGEgc2luZ2xlIGV2ZW50IGlzIHJlY2VpdmVkIHdoZW4gdGhlIG1vdXNlIGZpcnN0IGVudGVyc1xyXG5cdCAqIHRoZSBhZ2dyZWdhdGUgbXlDb250YWluZXIgY29udGVudCAodGFyZ2V0PW15Q29udGFpbmVyKS5cclxuXHQgKiBcclxuXHQgKiBUaGlzIGV2ZW50IG11c3QgYmUgZW5hYmxlZCB1c2luZyB7eyNjcm9zc0xpbmsgXCJTdGFnZS9lbmFibGVNb3VzZU92ZXJcIn19e3svY3Jvc3NMaW5rfX0uXHJcblx0ICogU2VlIHRoZSB7eyNjcm9zc0xpbmsgXCJNb3VzZUV2ZW50XCJ9fXt7L2Nyb3NzTGlua319IGNsYXNzIGZvciBhIGxpc3Rpbmcgb2YgZXZlbnQgcHJvcGVydGllcy5cclxuXHQgKiBAZXZlbnQgcm9sbG92ZXJcclxuXHQgKiBAc2luY2UgMC43LjBcclxuXHQgKi9cclxuXHJcblx0LyoqXHJcblx0ICogVGhpcyBldmVudCBpcyBzaW1pbGFyIHRvIHt7I2Nyb3NzTGluayBcIkRpc3BsYXlPYmplY3QvbW91c2VvdXQ6ZXZlbnRcIn19e3svY3Jvc3NMaW5rfX0sIHdpdGggdGhlIGZvbGxvd2luZ1xyXG5cdCAqIGRpZmZlcmVuY2VzOiBpdCBkb2VzIG5vdCBidWJibGUsIGFuZCBpdCBjb25zaWRlcnMge3sjY3Jvc3NMaW5rIFwiQ29udGFpbmVyXCJ9fXt7L2Nyb3NzTGlua319IGluc3RhbmNlcyBhcyBhblxyXG5cdCAqIGFnZ3JlZ2F0ZSBvZiB0aGVpciBjb250ZW50LlxyXG5cdCAqIFxyXG5cdCAqIEZvciBleGFtcGxlLCBteUNvbnRhaW5lciBjb250YWlucyB0d28gb3ZlcmxhcHBpbmcgY2hpbGRyZW46IHNoYXBlQSBhbmQgc2hhcGVCLiBUaGUgdXNlciBtb3ZlcyB0aGVpciBtb3VzZSBvdmVyXHJcblx0ICogc2hhcGVBLCB0aGVuIGRpcmVjdGx5IG9uIHRvIHNoYXBlQiwgdGhlbiBvZmYgYm90aC4gV2l0aCBhIGxpc3RlbmVyIGZvciB7eyNjcm9zc0xpbmsgXCJtb3VzZW91dDpldmVudFwifX17ey9jcm9zc0xpbmt9fVxyXG5cdCAqIG9uIG15Q29udGFpbmVyLCB0d28gZXZlbnRzIHdvdWxkIGJlIHJlY2VpdmVkLCBlYWNoIHRhcmdldGluZyBhIGNoaWxkIGVsZW1lbnQ6PE9MPlxyXG5cdCAqIDxMST53aGVuIHRoZSBtb3VzZSBsZWF2ZXMgc2hhcGVBICh0YXJnZXQ9c2hhcGVBKTwvTEk+XHJcblx0ICogPExJPndoZW4gdGhlIG1vdXNlIGxlYXZlcyBzaGFwZUIgKHRhcmdldD1zaGFwZUIpPC9MST5cclxuXHQgKiA8L09MPlxyXG5cdCAqIEhvd2V2ZXIsIHdpdGggYSBsaXN0ZW5lciBmb3IgXCJyb2xsb3V0XCIgaW5zdGVhZCwgb25seSBhIHNpbmdsZSBldmVudCBpcyByZWNlaXZlZCB3aGVuIHRoZSBtb3VzZSBsZWF2ZXNcclxuXHQgKiB0aGUgYWdncmVnYXRlIG15Q29udGFpbmVyIGNvbnRlbnQgKHRhcmdldD1teUNvbnRhaW5lcikuXHJcblx0ICogXHJcblx0ICogVGhpcyBldmVudCBtdXN0IGJlIGVuYWJsZWQgdXNpbmcge3sjY3Jvc3NMaW5rIFwiU3RhZ2UvZW5hYmxlTW91c2VPdmVyXCJ9fXt7L2Nyb3NzTGlua319LlxyXG5cdCAqIFNlZSB0aGUge3sjY3Jvc3NMaW5rIFwiTW91c2VFdmVudFwifX17ey9jcm9zc0xpbmt9fSBjbGFzcyBmb3IgYSBsaXN0aW5nIG9mIGV2ZW50IHByb3BlcnRpZXMuXHJcblx0ICogQGV2ZW50IHJvbGxvdXRcclxuXHQgKiBAc2luY2UgMC43LjBcclxuXHQgKi9cclxuXHJcblx0LyoqXHJcblx0ICogQWZ0ZXIgYSB7eyNjcm9zc0xpbmsgXCJEaXNwbGF5T2JqZWN0L21vdXNlZG93bjpldmVudFwifX17ey9jcm9zc0xpbmt9fSBvY2N1cnMgb24gYSBkaXNwbGF5IG9iamVjdCwgYSBwcmVzc21vdmVcclxuXHQgKiBldmVudCB3aWxsIGJlIGdlbmVyYXRlZCBvbiB0aGF0IG9iamVjdCB3aGVuZXZlciB0aGUgbW91c2UgbW92ZXMgdW50aWwgdGhlIG1vdXNlIHByZXNzIGlzIHJlbGVhc2VkLiBUaGlzIGNhbiBiZVxyXG5cdCAqIHVzZWZ1bCBmb3IgZHJhZ2dpbmcgYW5kIHNpbWlsYXIgb3BlcmF0aW9ucy5cclxuXHQgKlxyXG5cdCAqICoqUGxlYXNlIG5vdGUqKiB0aGF0IGlmIHRoZSBpbml0aWFsIG1vdXNlIHRhcmdldCBmcm9tIGEgYG1vdXNlZG93bmAgZXZlbnQgaXMgcmVtb3ZlZCBmcm9tIHRoZSBzdGFnZSBhZnRlciBiZWluZyBwcmVzc2VkXHJcblx0ICogKGUuZy4gZHVyaW5nIGEgYHByZXNzbW92ZWAgZXZlbnQpLCBhIGBwcmVzc21vdmVgIGV2ZW50IGlzIHN0aWxsIGdlbmVyYXRlZC4gSG93ZXZlciBzaW5jZSBpdCBpcyBubyBsb25nZXIgaW4gdGhlXHJcblx0ICogZGlzcGxheSBsaXN0LCB0aGUgZXZlbnQgY2FuIG5vdCBidWJibGUuIFRoaXMgbWVhbnMgdGhhdCBwcmV2aW91cyBhbmNlc3RvcnMgKHBhcmVudCBjb250YWluZXJzKSB3aWxsIG5vdCByZWNlaXZlXHJcblx0ICogdGhlIGV2ZW50LCBhbmQgdGhlcmVmb3JlIGNhbiBub3QgcmUtZGlzcGF0Y2ggaXQuIElmIHlvdSBpbnRlbmQgdG8gbGlzdGVuIGZvciBge3sjY3Jvc3NMaW5rIFwiRGlzcGxheU9iamVjdC9wcmVzc3VwOmV2ZW50XCJ9fXt7L2Nyb3NzTGlua319YFxyXG5cdCAqIG9yIGBwcmVzc21vdmVgIG9uIGEgZHluYW1pYyBvYmplY3QgKHN1Y2ggYXMgYSB7eyNjcm9zc0xpbmsgXCJNb3ZpZUNsaXBcIn19e3svY3Jvc3NMaW5rfX0gb3Ige3sjY3Jvc3NMaW5rIFwiQ29udGFpbmVyXCJ9fXt7L2Nyb3NzTGlua319KSxcclxuXHQgKiB0aGVuIGVuc3VyZSB5b3Ugc2V0IHt7I2Nyb3NzTGluayBcIkNvbnRhaW5lci9tb3VzZUNoaWxkcmVuOnByb3BlcnR5XCJ9fXt7L2Nyb3NzTGlua319IHRvIGBmYWxzZWAuXHJcblx0ICogQGV2ZW50IHByZXNzbW92ZVxyXG5cdCAqIEBzaW5jZSAwLjcuMFxyXG5cdCAqL1xyXG5cclxuXHQvKipcclxuXHQgKiBBZnRlciBhIHt7I2Nyb3NzTGluayBcIkRpc3BsYXlPYmplY3QvbW91c2Vkb3duOmV2ZW50XCJ9fXt7L2Nyb3NzTGlua319IG9jY3VycyBvbiBhIGRpc3BsYXkgb2JqZWN0LCBhIHByZXNzdXAgZXZlbnRcclxuXHQgKiB3aWxsIGJlIGdlbmVyYXRlZCBvbiB0aGF0IG9iamVjdCB3aGVuIHRoYXQgbW91c2UgcHJlc3MgaXMgcmVsZWFzZWQuIFRoaXMgY2FuIGJlIHVzZWZ1bCBmb3IgZHJhZ2dpbmcgYW5kIHNpbWlsYXJcclxuXHQgKiBvcGVyYXRpb25zLlxyXG5cdCAqXHJcblx0ICogKipQbGVhc2Ugbm90ZSoqIHRoYXQgaWYgdGhlIGluaXRpYWwgbW91c2UgdGFyZ2V0IGZyb20gYSBgbW91c2Vkb3duYCBldmVudCBpcyByZW1vdmVkIGZyb20gdGhlIHN0YWdlIGFmdGVyIGJlaW5nIHByZXNzZWRcclxuXHQgKiAoZS5nLiBkdXJpbmcgYSBgcHJlc3Ntb3ZlYCBldmVudCksIGEgYHByZXNzdXBgIGV2ZW50IGlzIHN0aWxsIGdlbmVyYXRlZC4gSG93ZXZlciBzaW5jZSBpdCBpcyBubyBsb25nZXIgaW4gdGhlXHJcblx0ICogZGlzcGxheSBsaXN0LCB0aGUgZXZlbnQgY2FuIG5vdCBidWJibGUuIFRoaXMgbWVhbnMgdGhhdCBwcmV2aW91cyBhbmNlc3RvcnMgKHBhcmVudCBjb250YWluZXJzKSB3aWxsIG5vdCByZWNlaXZlXHJcblx0ICogdGhlIGV2ZW50LCBhbmQgdGhlcmVmb3JlIGNhbiBub3QgcmUtZGlzcGF0Y2ggaXQuIElmIHlvdSBpbnRlbmQgdG8gbGlzdGVuIGZvciBge3sjY3Jvc3NMaW5rIFwiRGlzcGxheU9iamVjdC9wcmVzc21vdmU6ZXZlbnRcIn19e3svY3Jvc3NMaW5rfX1gXHJcblx0ICogb3IgYHByZXNzdXBgIG9uIGEgZHluYW1pYyBvYmplY3QgKHN1Y2ggYXMgYSB7eyNjcm9zc0xpbmsgXCJNb3ZpZUNsaXBcIn19e3svY3Jvc3NMaW5rfX0gb3Ige3sjY3Jvc3NMaW5rIFwiQ29udGFpbmVyXCJ9fXt7L2Nyb3NzTGlua319KSxcclxuXHQgKiB0aGVuIGVuc3VyZSB5b3Ugc2V0IHt7I2Nyb3NzTGluayBcIkNvbnRhaW5lci9tb3VzZUNoaWxkcmVuOnByb3BlcnR5XCJ9fXt7L2Nyb3NzTGlua319IHRvIGBmYWxzZWAuXHJcblx0ICogQGV2ZW50IHByZXNzdXBcclxuXHQgKiBAc2luY2UgMC43LjBcclxuXHQgKi9cclxuXHJcblx0LyoqXHJcblx0ICogRGlzcGF0Y2hlZCB3aGVuIHRoZSBkaXNwbGF5IG9iamVjdCBpcyBhZGRlZCB0byBhIHBhcmVudCBjb250YWluZXIuXHJcblx0ICogQGV2ZW50IGFkZGVkXHJcblx0ICovXHJcblxyXG5cdC8qKlxyXG5cdCAqIERpc3BhdGNoZWQgd2hlbiB0aGUgZGlzcGxheSBvYmplY3QgaXMgcmVtb3ZlZCBmcm9tIGl0cyBwYXJlbnQgY29udGFpbmVyLlxyXG5cdCAqIEBldmVudCByZW1vdmVkXHJcblx0ICovXHJcblxyXG5cdC8qKlxyXG5cdCAqIERpc3BhdGNoZWQgb24gZWFjaCBkaXNwbGF5IG9iamVjdCBvbiBhIHN0YWdlIHdoZW5ldmVyIHRoZSBzdGFnZSB1cGRhdGVzLiBUaGlzIG9jY3VycyBpbW1lZGlhdGVseSBiZWZvcmUgdGhlXHJcblx0ICogcmVuZGVyaW5nIChkcmF3KSBwYXNzLiBXaGVuIHt7I2Nyb3NzTGluayBcIlN0YWdlL3VwZGF0ZVwifX17ey9jcm9zc0xpbmt9fSBpcyBjYWxsZWQsIGZpcnN0IGFsbCBkaXNwbGF5IG9iamVjdHMgb25cclxuXHQgKiB0aGUgc3RhZ2UgZGlzcGF0Y2ggdGhlIHRpY2sgZXZlbnQsIHRoZW4gYWxsIG9mIHRoZSBkaXNwbGF5IG9iamVjdHMgYXJlIGRyYXduIHRvIHN0YWdlLiBDaGlsZHJlbiB3aWxsIGhhdmUgdGhlaXJcclxuXHQgKiB7eyNjcm9zc0xpbmsgXCJ0aWNrOmV2ZW50XCJ9fXt7L2Nyb3NzTGlua319IGV2ZW50IGRpc3BhdGNoZWQgaW4gb3JkZXIgb2YgdGhlaXIgZGVwdGggcHJpb3IgdG8gdGhlIGV2ZW50IGJlaW5nXHJcblx0ICogZGlzcGF0Y2hlZCBvbiB0aGVpciBwYXJlbnQuXHJcblx0ICogQGV2ZW50IHRpY2tcclxuXHQgKiBAcGFyYW0ge09iamVjdH0gdGFyZ2V0IFRoZSBvYmplY3QgdGhhdCBkaXNwYXRjaGVkIHRoZSBldmVudC5cclxuXHQgKiBAcGFyYW0ge1N0cmluZ30gdHlwZSBUaGUgZXZlbnQgdHlwZS5cclxuXHQgKiBAcGFyYW0ge0FycmF5fSBwYXJhbXMgQW4gYXJyYXkgY29udGFpbmluZyBhbnkgYXJndW1lbnRzIHRoYXQgd2VyZSBwYXNzZWQgdG8gdGhlIFN0YWdlLnVwZGF0ZSgpIG1ldGhvZC4gRm9yXHJcblx0ICogICAgICBleGFtcGxlIGlmIHlvdSBjYWxsZWQgc3RhZ2UudXBkYXRlKFwiaGVsbG9cIiksIHRoZW4gdGhlIHBhcmFtcyB3b3VsZCBiZSBbXCJoZWxsb1wiXS5cclxuXHQgKiBAc2luY2UgMC42LjBcclxuXHQgKi9cclxuXHJcblxyXG4vLyBnZXR0ZXIgLyBzZXR0ZXJzOlxyXG5cdC8qKlxyXG5cdCAqIFVzZSB0aGUge3sjY3Jvc3NMaW5rIFwiRGlzcGxheU9iamVjdC9zdGFnZTpwcm9wZXJ0eVwifX17ey9jcm9zc0xpbmt9fSBwcm9wZXJ0eSBpbnN0ZWFkLlxyXG5cdCAqIEBtZXRob2QgX2dldFN0YWdlXHJcblx0ICogQHByb3RlY3RlZFxyXG5cdCAqIEByZXR1cm4ge1N0YWdlfVxyXG5cdCAqKi9cclxuXHRwLl9nZXRTdGFnZSA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0Ly8gdXNlcyBkeW5hbWljIGFjY2VzcyB0byBhdm9pZCBjaXJjdWxhciBkZXBlbmRlbmNpZXM7XHJcblx0XHR2YXIgbyA9IHRoaXMsIF9TdGFnZSA9IGNyZWF0ZWpzW1wiU3RhZ2VcIl07XHJcblx0XHR3aGlsZSAoby5wYXJlbnQpIHsgbyA9IG8ucGFyZW50OyB9XHJcblx0XHRpZiAobyBpbnN0YW5jZW9mIF9TdGFnZSkgeyByZXR1cm4gbzsgfVxyXG5cdFx0cmV0dXJuIG51bGw7XHJcblx0fTtcclxuXHQvLyBEaXNwbGF5T2JqZWN0LmdldFN0YWdlIGlzIEBkZXByZWNhdGVkLiBSZW1vdmUgZm9yIDEuMStcclxuXHRwLmdldFN0YWdlID0gY3JlYXRlanMuZGVwcmVjYXRlKHAuX2dldFN0YWdlLCBcIkRpc3BsYXlPYmplY3QuZ2V0U3RhZ2VcIik7XHJcblxyXG5cdC8qKlxyXG5cdCAqIFJldHVybnMgdGhlIFN0YWdlIGluc3RhbmNlIHRoYXQgdGhpcyBkaXNwbGF5IG9iamVjdCB3aWxsIGJlIHJlbmRlcmVkIG9uLCBvciBudWxsIGlmIGl0IGhhcyBub3QgYmVlbiBhZGRlZCB0byBvbmUuXHJcblx0ICogQHByb3BlcnR5IHN0YWdlXHJcblx0ICogQHR5cGUge1N0YWdlfVxyXG5cdCAqIEByZWFkb25seVxyXG5cdCAqKi9cclxuXHJcblx0LyoqXHJcblx0ICogUmV0dXJucyBhbiBJRCBudW1iZXIgdGhhdCB1bmlxdWVseSBpZGVudGlmaWVzIHRoZSBjdXJyZW50IGNhY2hlIGZvciB0aGlzIGRpc3BsYXkgb2JqZWN0LiBUaGlzIGNhbiBiZSB1c2VkIHRvXHJcblx0ICogZGV0ZXJtaW5lIGlmIHRoZSBjYWNoZSBoYXMgY2hhbmdlZCBzaW5jZSBhIHByZXZpb3VzIGNoZWNrLlxyXG5cdCAqIE1vdmVkIHRvIHt7I2Nyb3NzTGluayBcIkJpdG1hcENhY2hlXCJ9fXt7L2Nyb3NzTGlua319XHJcblx0ICogQHByb3BlcnR5IGNhY2hlSURcclxuXHQgKiBAZGVwcmVjYXRlZFxyXG5cdCAqIEB0eXBlIHtOdW1iZXJ9XHJcblx0ICogQGRlZmF1bHQgMFxyXG5cdCAqL1xyXG5cclxuXHQvKipcclxuXHQgKiBTZXQgYm90aCB0aGUge3sjY3Jvc3NMaW5rIFwiRGlzcGxheU9iamVjdC9zY2FsZVg6cHJvcGVydHlcIn19e3svY3Jvc3NMaW5rfX0gYW5kIHRoZSB7eyNjcm9zc0xpbmsgXCJEaXNwbGF5T2JqZWN0L3NjYWxlWVwifX17ey9jcm9zc0xpbmt9fVxyXG5cdCAqIHByb3BlcnR5IHRvIHRoZSBzYW1lIHZhbHVlLiBOb3RlIHRoYXQgd2hlbiB5b3UgZ2V0IHRoZSB2YWx1ZSwgaWYgdGhlIGBzY2FsZVhgIGFuZCBgc2NhbGVZYCBhcmUgZGlmZmVyZW50IHZhbHVlcyxcclxuXHQgKiBpdCB3aWxsIHJldHVybiBvbmx5IHRoZSBgc2NhbGVYYC5cclxuXHQgKiBAcHJvcGVydHkgc2NhbGVYXHJcblx0ICogQHR5cGUge051bWJlcn1cclxuXHQgKiBAZGVmYXVsdCAxXHJcblx0ICovXHJcblx0dHJ5IHtcclxuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHAsIHtcclxuXHRcdFx0c3RhZ2U6IHsgZ2V0OiBwLl9nZXRTdGFnZSB9LFxyXG5cdFx0XHRjYWNoZUlEOiB7XHJcblx0XHRcdFx0Z2V0OiBmdW5jdGlvbigpeyByZXR1cm4gdGhpcy5iaXRtYXBDYWNoZSAmJiB0aGlzLmJpdG1hcENhY2hlLmNhY2hlSUQgfSxcclxuXHRcdFx0XHRzZXQ6IGZ1bmN0aW9uKGEpeyB0aGlzLmJpdG1hcENhY2hlICYmICh0aGlzLmJpdG1hcENhY2hlLmNhY2hlSUQgPSBhKSB9XHJcblx0XHRcdH0sXHJcblx0XHRcdHNjYWxlOiB7XHJcblx0XHRcdFx0Z2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXMuc2NhbGVYOyB9LFxyXG5cdFx0XHRcdHNldDogZnVuY3Rpb24oc2NhbGUpIHsgdGhpcy5zY2FsZVggPSB0aGlzLnNjYWxlWSA9IHNjYWxlOyB9LFxyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHR9IGNhdGNoIChlKSB7fVxyXG5cclxuXHJcbi8vIHB1YmxpYyBtZXRob2RzOlxyXG5cdC8qKlxyXG5cdCAqIFJldHVybnMgdHJ1ZSBvciBmYWxzZSBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIGRpc3BsYXkgb2JqZWN0IHdvdWxkIGJlIHZpc2libGUgaWYgZHJhd24gdG8gYSBjYW52YXMuXHJcblx0ICogVGhpcyBkb2VzIG5vdCBhY2NvdW50IGZvciB3aGV0aGVyIGl0IHdvdWxkIGJlIHZpc2libGUgd2l0aGluIHRoZSBib3VuZGFyaWVzIG9mIHRoZSBzdGFnZS5cclxuXHQgKlxyXG5cdCAqIE5PVEU6IFRoaXMgbWV0aG9kIGlzIG1haW5seSBmb3IgaW50ZXJuYWwgdXNlLCB0aG91Z2ggaXQgbWF5IGJlIHVzZWZ1bCBmb3IgYWR2YW5jZWQgdXNlcy5cclxuXHQgKiBAbWV0aG9kIGlzVmlzaWJsZVxyXG5cdCAqIEByZXR1cm4ge0Jvb2xlYW59IEJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIHRoZSBkaXNwbGF5IG9iamVjdCB3b3VsZCBiZSB2aXNpYmxlIGlmIGRyYXduIHRvIGEgY2FudmFzXHJcblx0ICoqL1xyXG5cdHAuaXNWaXNpYmxlID0gZnVuY3Rpb24oKSB7XHJcblx0XHRyZXR1cm4gISEodGhpcy52aXNpYmxlICYmIHRoaXMuYWxwaGEgPiAwICYmIHRoaXMuc2NhbGVYICE9IDAgJiYgdGhpcy5zY2FsZVkgIT0gMCk7XHJcblx0fTtcclxuXHJcblx0LyoqXHJcblx0ICogRHJhd3MgdGhlIGRpc3BsYXkgb2JqZWN0IGludG8gdGhlIHNwZWNpZmllZCBjb250ZXh0IGlnbm9yaW5nIGl0cyB2aXNpYmxlLCBhbHBoYSwgc2hhZG93LCBhbmQgdHJhbnNmb3JtLlxyXG5cdCAqIFJldHVybnMgPGNvZGU+dHJ1ZTwvY29kZT4gaWYgdGhlIGRyYXcgd2FzIGhhbmRsZWQgKHVzZWZ1bCBmb3Igb3ZlcnJpZGluZyBmdW5jdGlvbmFsaXR5KS5cclxuXHQgKlxyXG5cdCAqIE5PVEU6IFRoaXMgbWV0aG9kIGlzIG1haW5seSBmb3IgaW50ZXJuYWwgdXNlLCB0aG91Z2ggaXQgbWF5IGJlIHVzZWZ1bCBmb3IgYWR2YW5jZWQgdXNlcy5cclxuXHQgKiBAbWV0aG9kIGRyYXdcclxuXHQgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY3R4IFRoZSBjYW52YXMgMkQgY29udGV4dCBvYmplY3QgdG8gZHJhdyBpbnRvLlxyXG5cdCAqIEBwYXJhbSB7Qm9vbGVhbn0gW2lnbm9yZUNhY2hlPWZhbHNlXSBJbmRpY2F0ZXMgd2hldGhlciB0aGUgZHJhdyBvcGVyYXRpb24gc2hvdWxkIGlnbm9yZSBhbnkgY3VycmVudCBjYWNoZS4gRm9yIGV4YW1wbGUsXHJcblx0ICogdXNlZCBmb3IgZHJhd2luZyB0aGUgY2FjaGUgKHRvIHByZXZlbnQgaXQgZnJvbSBzaW1wbHkgZHJhd2luZyBhbiBleGlzdGluZyBjYWNoZSBiYWNrIGludG8gaXRzZWxmKS5cclxuXHQgKiBAcmV0dXJuIHtCb29sZWFufVxyXG5cdCAqKi9cclxuXHRwLmRyYXcgPSBmdW5jdGlvbihjdHgsIGlnbm9yZUNhY2hlKSB7XHJcblx0XHR2YXIgY2FjaGUgPSB0aGlzLmJpdG1hcENhY2hlO1xyXG5cdFx0aWYoY2FjaGUgJiYgIWlnbm9yZUNhY2hlKSB7XHJcblx0XHRcdHJldHVybiBjYWNoZS5kcmF3KGN0eCk7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gZmFsc2U7XHJcblx0fTtcclxuXHJcblx0LyoqXHJcblx0ICogQXBwbGllcyB0aGlzIGRpc3BsYXkgb2JqZWN0J3MgdHJhbnNmb3JtYXRpb24sIGFscGhhLCBnbG9iYWxDb21wb3NpdGVPcGVyYXRpb24sIGNsaXBwaW5nIHBhdGggKG1hc2spLCBhbmQgc2hhZG93XHJcblx0ICogdG8gdGhlIHNwZWNpZmllZCBjb250ZXh0LiBUaGlzIGlzIHR5cGljYWxseSBjYWxsZWQgcHJpb3IgdG8ge3sjY3Jvc3NMaW5rIFwiRGlzcGxheU9iamVjdC9kcmF3XCJ9fXt7L2Nyb3NzTGlua319LlxyXG5cdCAqIEBtZXRob2QgdXBkYXRlQ29udGV4dFxyXG5cdCAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggVGhlIGNhbnZhcyAyRCB0byB1cGRhdGUuXHJcblx0ICoqL1xyXG5cdHAudXBkYXRlQ29udGV4dCA9IGZ1bmN0aW9uKGN0eCkge1xyXG5cdFx0dmFyIG89dGhpcywgbWFzaz1vLm1hc2ssIG10eD0gby5fcHJvcHMubWF0cml4O1xyXG5cdFx0XHJcblx0XHRpZiAobWFzayAmJiBtYXNrLmdyYXBoaWNzICYmICFtYXNrLmdyYXBoaWNzLmlzRW1wdHkoKSkge1xyXG5cdFx0XHRtYXNrLmdldE1hdHJpeChtdHgpO1xyXG5cdFx0XHRjdHgudHJhbnNmb3JtKG10eC5hLCAgbXR4LmIsIG10eC5jLCBtdHguZCwgbXR4LnR4LCBtdHgudHkpO1xyXG5cdFx0XHRcclxuXHRcdFx0bWFzay5ncmFwaGljcy5kcmF3QXNQYXRoKGN0eCk7XHJcblx0XHRcdGN0eC5jbGlwKCk7XHJcblx0XHRcdFxyXG5cdFx0XHRtdHguaW52ZXJ0KCk7XHJcblx0XHRcdGN0eC50cmFuc2Zvcm0obXR4LmEsICBtdHguYiwgbXR4LmMsIG10eC5kLCBtdHgudHgsIG10eC50eSk7XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdHRoaXMuZ2V0TWF0cml4KG10eCk7XHJcblx0XHR2YXIgdHggPSBtdHgudHgsIHR5ID0gbXR4LnR5O1xyXG5cdFx0aWYgKERpc3BsYXlPYmplY3QuX3NuYXBUb1BpeGVsRW5hYmxlZCAmJiBvLnNuYXBUb1BpeGVsKSB7XHJcblx0XHRcdHR4ID0gdHggKyAodHggPCAwID8gLTAuNSA6IDAuNSkgfCAwO1xyXG5cdFx0XHR0eSA9IHR5ICsgKHR5IDwgMCA/IC0wLjUgOiAwLjUpIHwgMDtcclxuXHRcdH1cclxuXHRcdGN0eC50cmFuc2Zvcm0obXR4LmEsICBtdHguYiwgbXR4LmMsIG10eC5kLCB0eCwgdHkpO1xyXG5cdFx0Y3R4Lmdsb2JhbEFscGhhICo9IG8uYWxwaGE7XHJcblx0XHRpZiAoby5jb21wb3NpdGVPcGVyYXRpb24pIHsgY3R4Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9IG8uY29tcG9zaXRlT3BlcmF0aW9uOyB9XHJcblx0XHRpZiAoby5zaGFkb3cpIHsgdGhpcy5fYXBwbHlTaGFkb3coY3R4LCBvLnNoYWRvdyk7IH1cclxuXHR9O1xyXG5cclxuXHQvKipcclxuXHQgKiBEcmF3cyB0aGUgZGlzcGxheSBvYmplY3QgaW50byBhIG5ldyBlbGVtZW50LCB3aGljaCBpcyB0aGVuIHVzZWQgZm9yIHN1YnNlcXVlbnQgZHJhd3MuIEludGVuZGVkIGZvciBjb21wbGV4IGNvbnRlbnRcclxuXHQgKiB0aGF0IGRvZXMgbm90IGNoYW5nZSBmcmVxdWVudGx5IChleC4gYSBDb250YWluZXIgd2l0aCBtYW55IGNoaWxkcmVuIHRoYXQgZG8gbm90IG1vdmUsIG9yIGEgY29tcGxleCB2ZWN0b3IgU2hhcGUpLFxyXG5cdCAqIHRoaXMgY2FuIHByb3ZpZGUgZm9yIG11Y2ggZmFzdGVyIHJlbmRlcmluZyBiZWNhdXNlIHRoZSBjb250ZW50IGRvZXMgbm90IG5lZWQgdG8gYmUgcmUtcmVuZGVyZWQgZWFjaCB0aWNrLiBUaGVcclxuXHQgKiBjYWNoZWQgZGlzcGxheSBvYmplY3QgY2FuIGJlIG1vdmVkLCByb3RhdGVkLCBmYWRlZCwgZXRjIGZyZWVseSwgaG93ZXZlciBpZiBpdHMgY29udGVudCBjaGFuZ2VzLCB5b3UgbXVzdCBtYW51YWxseVxyXG5cdCAqIHVwZGF0ZSB0aGUgY2FjaGUgYnkgY2FsbGluZyA8Y29kZT51cGRhdGVDYWNoZSgpPC9jb2RlPiBhZ2Fpbi4gWW91IG11c3Qgc3BlY2lmeSB0aGUgY2FjaGVkIGFyZWEgdmlhIHRoZSB4LCB5LCB3LFxyXG5cdCAqIGFuZCBoIHBhcmFtZXRlcnMuIFRoaXMgZGVmaW5lcyB0aGUgcmVjdGFuZ2xlIHRoYXQgd2lsbCBiZSByZW5kZXJlZCBhbmQgY2FjaGVkIHVzaW5nIHRoaXMgZGlzcGxheSBvYmplY3QncyBjb29yZGluYXRlcy5cclxuXHQgKlxyXG5cdCAqIDxoND5FeGFtcGxlPC9oND5cclxuXHQgKiBGb3IgZXhhbXBsZSBpZiB5b3UgZGVmaW5lZCBhIFNoYXBlIHRoYXQgZHJldyBhIGNpcmNsZSBhdCAwLCAwIHdpdGggYSByYWRpdXMgb2YgMjU6XHJcblx0ICpcclxuXHQgKiAgICAgIHZhciBzaGFwZSA9IG5ldyBjcmVhdGVqcy5TaGFwZSgpO1xyXG5cdCAqICAgICAgc2hhcGUuZ3JhcGhpY3MuYmVnaW5GaWxsKFwiI2ZmMDAwMFwiKS5kcmF3Q2lyY2xlKDAsIDAsIDI1KTtcclxuXHQgKiAgICAgIHNoYXBlLmNhY2hlKC0yNSwgLTI1LCA1MCwgNTApO1xyXG5cdCAqXHJcblx0ICogTm90ZSB0aGF0IGZpbHRlcnMgbmVlZCB0byBiZSBkZWZpbmVkIDxlbT5iZWZvcmU8L2VtPiB0aGUgY2FjaGUgaXMgYXBwbGllZCBvciB5b3Ugd2lsbCBoYXZlIHRvIGNhbGwgdXBkYXRlQ2FjaGUgYWZ0ZXJcclxuXHQgKiBhcHBsaWNhdGlvbi4gQ2hlY2sgb3V0IHRoZSB7eyNjcm9zc0xpbmsgXCJGaWx0ZXJcIn19e3svY3Jvc3NMaW5rfX0gY2xhc3MgZm9yIG1vcmUgaW5mb3JtYXRpb24uIFNvbWUgZmlsdGVyc1xyXG5cdCAqIChleC4gQmx1ckZpbHRlcikgbWF5IG5vdCB3b3JrIGFzIGV4cGVjdGVkIGluIGNvbmp1bmN0aW9uIHdpdGggdGhlIHNjYWxlIHBhcmFtLlxyXG5cdCAqIFxyXG5cdCAqIFVzdWFsbHksIHRoZSByZXN1bHRpbmcgY2FjaGVDYW52YXMgd2lsbCBoYXZlIHRoZSBkaW1lbnNpb25zIHdpZHRoICogc2NhbGUsIGhlaWdodCAqIHNjYWxlLCBob3dldmVyIHNvbWUgZmlsdGVycyAoZXguIEJsdXJGaWx0ZXIpXHJcblx0ICogd2lsbCBhZGQgcGFkZGluZyB0byB0aGUgY2FudmFzIGRpbWVuc2lvbnMuXHJcblx0ICpcclxuXHQgKiBJbiBwcmV2aW91cyB2ZXJzaW9ucyBjYWNoaW5nIHdhcyBoYW5kbGVkIG9uIERpc3BsYXlPYmplY3QgYnV0IGhhcyBzaW5jZSBiZWVuIG1vdmVkIHRvIHt7I2Nyb3NzTGluayBcIkJpdG1hcENhY2hlXCJ9fXt7L2Nyb3NzTGlua319LlxyXG5cdCAqIFRoaXMgYWxsb3dzIGZvciBlYXNpZXIgaW50ZXJhY3Rpb24gYW5kIGFsdGVybmF0ZSBjYWNoZSBtZXRob2RzIGxpa2UgV2ViR0wgd2l0aCB7eyNjcm9zc0xpbmsgXCJTdGFnZUdMXCJ9fXt7L2Nyb3NzTGlua319LlxyXG5cdCAqIEZvciBtb3JlIGluZm9ybWF0aW9uIG9uIHRoZSBvcHRpb25zIG9iamVjdCwgc2VlIHRoZSBCaXRtYXBDYWNoZSB7eyNjcm9zc0xpbmsgXCJCaXRtYXBDYWNoZS9kZWZpbmVcIn19e3svY3Jvc3NMaW5rfX0uXHJcblx0ICpcclxuXHQgKiBAbWV0aG9kIGNhY2hlXHJcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHggVGhlIHggY29vcmRpbmF0ZSBvcmlnaW4gZm9yIHRoZSBjYWNoZSByZWdpb24uXHJcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHkgVGhlIHkgY29vcmRpbmF0ZSBvcmlnaW4gZm9yIHRoZSBjYWNoZSByZWdpb24uXHJcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHdpZHRoIFRoZSB3aWR0aCBvZiB0aGUgY2FjaGUgcmVnaW9uLlxyXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBoZWlnaHQgVGhlIGhlaWdodCBvZiB0aGUgY2FjaGUgcmVnaW9uLlxyXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBbc2NhbGU9MV0gVGhlIHNjYWxlIGF0IHdoaWNoIHRoZSBjYWNoZSB3aWxsIGJlIGNyZWF0ZWQuIEZvciBleGFtcGxlLCBpZiB5b3UgY2FjaGUgYSB2ZWN0b3Igc2hhcGUgdXNpbmdcclxuXHQgKiBcdG15U2hhcGUuY2FjaGUoMCwwLDEwMCwxMDAsMikgdGhlbiB0aGUgcmVzdWx0aW5nIGNhY2hlQ2FudmFzIHdpbGwgYmUgMjAweDIwMCBweC4gVGhpcyBsZXRzIHlvdSBzY2FsZSBhbmQgcm90YXRlXHJcblx0ICogXHRjYWNoZWQgZWxlbWVudHMgd2l0aCBncmVhdGVyIGZpZGVsaXR5LiBEZWZhdWx0IGlzIDEuXHJcblx0ICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXVuZGVmaW5lZF0gU3BlY2lmeSBhZGRpdGlvbmFsIHBhcmFtZXRlcnMgZm9yIHRoZSBjYWNoZSBsb2dpY1xyXG5cdCAqKi9cclxuXHRwLmNhY2hlID0gZnVuY3Rpb24oeCwgeSwgd2lkdGgsIGhlaWdodCwgc2NhbGUsIG9wdGlvbnMpIHtcclxuXHRcdGlmKCF0aGlzLmJpdG1hcENhY2hlKXtcclxuXHRcdFx0dGhpcy5iaXRtYXBDYWNoZSA9IG5ldyBjcmVhdGVqcy5CaXRtYXBDYWNoZSgpO1xyXG5cdFx0fVxyXG5cdFx0dGhpcy5iaXRtYXBDYWNoZS5kZWZpbmUodGhpcywgeCwgeSwgd2lkdGgsIGhlaWdodCwgc2NhbGUsIG9wdGlvbnMpO1xyXG5cdH07XHJcblxyXG5cdC8qKlxyXG5cdCAqIFJlZHJhd3MgdGhlIGRpc3BsYXkgb2JqZWN0IHRvIGl0cyBjYWNoZS4gQ2FsbGluZyB1cGRhdGVDYWNoZSB3aXRob3V0IGFuIGFjdGl2ZSBjYWNoZSB3aWxsIHRocm93IGFuIGVycm9yLlxyXG5cdCAqIElmIGNvbXBvc2l0ZU9wZXJhdGlvbiBpcyBudWxsIHRoZSBjdXJyZW50IGNhY2hlIHdpbGwgYmUgY2xlYXJlZCBwcmlvciB0byBkcmF3aW5nLiBPdGhlcndpc2UgdGhlIGRpc3BsYXkgb2JqZWN0XHJcblx0ICogd2lsbCBiZSBkcmF3biBvdmVyIHRoZSBleGlzdGluZyBjYWNoZSB1c2luZyB0aGUgc3BlY2lmaWVkIGNvbXBvc2l0ZU9wZXJhdGlvbi5cclxuXHQgKlxyXG5cdCAqIDxoND5FeGFtcGxlPC9oND5cclxuXHQgKiBDbGVhciB0aGUgY3VycmVudCBncmFwaGljcyBvZiBhIGNhY2hlZCBzaGFwZSwgZHJhdyBzb21lIG5ldyBpbnN0cnVjdGlvbnMsIGFuZCB0aGVuIHVwZGF0ZSB0aGUgY2FjaGUuIFRoZSBuZXcgbGluZVxyXG5cdCAqIHdpbGwgYmUgZHJhd24gb24gdG9wIG9mIHRoZSBvbGQgb25lLlxyXG5cdCAqXHJcblx0ICogICAgICAvLyBOb3Qgc2hvd246IENyZWF0aW5nIHRoZSBzaGFwZSwgYW5kIGNhY2hpbmcgaXQuXHJcblx0ICogICAgICBzaGFwZUluc3RhbmNlLmNsZWFyKCk7XHJcblx0ICogICAgICBzaGFwZUluc3RhbmNlLnNldFN0cm9rZVN0eWxlKDMpLmJlZ2luU3Ryb2tlKFwiI2ZmMDAwMFwiKS5tb3ZlVG8oMTAwLCAxMDApLmxpbmVUbygyMDAsMjAwKTtcclxuXHQgKiAgICAgIHNoYXBlSW5zdGFuY2UudXBkYXRlQ2FjaGUoKTtcclxuXHQgKlxyXG5cdCAqIEluIHByZXZpb3VzIHZlcnNpb25zIGNhY2hpbmcgd2FzIGhhbmRsZWQgb24gRGlzcGxheU9iamVjdCBidXQgaGFzIHNpbmNlIGJlZW4gbW92ZWQgdG8ge3sjY3Jvc3NMaW5rIFwiQml0bWFwQ2FjaGVcIn19e3svY3Jvc3NMaW5rfX0uXHJcblx0ICogVGhpcyBhbGxvd3MgZm9yIGVhc2llciBpbnRlcmFjdGlvbiBhbmQgYWx0ZXJuYXRlIGNhY2hlIG1ldGhvZHMgbGlrZSBXZWJHTCBhbmQge3sjY3Jvc3NMaW5rIFwiU3RhZ2VHTFwifX17ey9jcm9zc0xpbmt9fS5cclxuXHQgKlxyXG5cdCAqIEBtZXRob2QgdXBkYXRlQ2FjaGVcclxuXHQgKiBAcGFyYW0ge1N0cmluZ30gY29tcG9zaXRlT3BlcmF0aW9uIFRoZSBjb21wb3NpdGVPcGVyYXRpb24gdG8gdXNlLCBvciBudWxsIHRvIGNsZWFyIHRoZSBjYWNoZSBhbmQgcmVkcmF3IGl0LlxyXG5cdCAqIDxhIGhyZWY9XCJodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9zY3JpcHRpbmcuaHRtbCNkb20tY29udGV4dC0yZC1nbG9iYWxjb21wb3NpdGVvcGVyYXRpb25cIj5cclxuXHQgKiB3aGF0d2cgc3BlYyBvbiBjb21wb3NpdGluZzwvYT4uXHJcblx0ICoqL1xyXG5cdHAudXBkYXRlQ2FjaGUgPSBmdW5jdGlvbihjb21wb3NpdGVPcGVyYXRpb24pIHtcclxuXHRcdGlmKCF0aGlzLmJpdG1hcENhY2hlKSB7XHJcblx0XHRcdHRocm93IFwiY2FjaGUoKSBtdXN0IGJlIGNhbGxlZCBiZWZvcmUgdXBkYXRlQ2FjaGUoKVwiO1xyXG5cdFx0fVxyXG5cdFx0dGhpcy5iaXRtYXBDYWNoZS51cGRhdGUoY29tcG9zaXRlT3BlcmF0aW9uKTtcclxuXHR9O1xyXG5cclxuXHQvKipcclxuXHQgKiBDbGVhcnMgdGhlIGN1cnJlbnQgY2FjaGUuIFNlZSB7eyNjcm9zc0xpbmsgXCJEaXNwbGF5T2JqZWN0L2NhY2hlXCJ9fXt7L2Nyb3NzTGlua319IGZvciBtb3JlIGluZm9ybWF0aW9uLlxyXG5cdCAqIEBtZXRob2QgdW5jYWNoZVxyXG5cdCAqKi9cclxuXHRwLnVuY2FjaGUgPSBmdW5jdGlvbigpIHtcclxuXHRcdGlmKHRoaXMuYml0bWFwQ2FjaGUpIHtcclxuXHRcdFx0dGhpcy5iaXRtYXBDYWNoZS5yZWxlYXNlKCk7XHJcblx0XHRcdHRoaXMuYml0bWFwQ2FjaGUgPSB1bmRlZmluZWQ7XHJcblx0XHR9XHJcblx0fTtcclxuXHJcblx0LyoqXHJcblx0ICogUmV0dXJucyBhIGRhdGEgVVJMIGZvciB0aGUgY2FjaGUsIG9yIG51bGwgaWYgdGhpcyBkaXNwbGF5IG9iamVjdCBpcyBub3QgY2FjaGVkLlxyXG5cdCAqIE9ubHkgZ2VuZXJhdGVkIGlmIHRoZSBjYWNoZSBoYXMgY2hhbmdlZCwgb3RoZXJ3aXNlIHJldHVybnMgbGFzdCByZXN1bHQuXHJcblx0ICogQG1ldGhvZCBnZXRDYWNoZURhdGFVUkxcclxuXHQgKiBAcmV0dXJuIHtTdHJpbmd9IFRoZSBpbWFnZSBkYXRhIHVybCBmb3IgdGhlIGNhY2hlLlxyXG5cdCAqKi9cclxuXHRwLmdldENhY2hlRGF0YVVSTCA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuYml0bWFwQ2FjaGU/dGhpcy5iaXRtYXBDYWNoZS5nZXREYXRhVVJMKCk6bnVsbDtcclxuXHR9O1xyXG5cclxuXHQvKipcclxuXHQgKiBUcmFuc2Zvcm1zIHRoZSBzcGVjaWZpZWQgeCBhbmQgeSBwb3NpdGlvbiBmcm9tIHRoZSBjb29yZGluYXRlIHNwYWNlIG9mIHRoZSBkaXNwbGF5IG9iamVjdFxyXG5cdCAqIHRvIHRoZSBnbG9iYWwgKHN0YWdlKSBjb29yZGluYXRlIHNwYWNlLiBGb3IgZXhhbXBsZSwgdGhpcyBjb3VsZCBiZSB1c2VkIHRvIHBvc2l0aW9uIGFuIEhUTUwgbGFiZWxcclxuXHQgKiBvdmVyIGEgc3BlY2lmaWMgcG9pbnQgb24gYSBuZXN0ZWQgZGlzcGxheSBvYmplY3QuIFJldHVybnMgYSBQb2ludCBpbnN0YW5jZSB3aXRoIHggYW5kIHkgcHJvcGVydGllc1xyXG5cdCAqIGNvcnJlbGF0aW5nIHRvIHRoZSB0cmFuc2Zvcm1lZCBjb29yZGluYXRlcyBvbiB0aGUgc3RhZ2UuXHJcblx0ICpcclxuXHQgKiA8aDQ+RXhhbXBsZTwvaDQ+XHJcblx0ICpcclxuXHQgKiAgICAgIGRpc3BsYXlPYmplY3QueCA9IDMwMDtcclxuXHQgKiAgICAgIGRpc3BsYXlPYmplY3QueSA9IDIwMDtcclxuXHQgKiAgICAgIHN0YWdlLmFkZENoaWxkKGRpc3BsYXlPYmplY3QpO1xyXG5cdCAqICAgICAgdmFyIHBvaW50ID0gZGlzcGxheU9iamVjdC5sb2NhbFRvR2xvYmFsKDEwMCwgMTAwKTtcclxuXHQgKiAgICAgIC8vIFJlc3VsdHMgaW4geD00MDAsIHk9MzAwXHJcblx0ICpcclxuXHQgKiBAbWV0aG9kIGxvY2FsVG9HbG9iYWxcclxuXHQgKiBAcGFyYW0ge051bWJlcn0geCBUaGUgeCBwb3NpdGlvbiBpbiB0aGUgc291cmNlIGRpc3BsYXkgb2JqZWN0IHRvIHRyYW5zZm9ybS5cclxuXHQgKiBAcGFyYW0ge051bWJlcn0geSBUaGUgeSBwb3NpdGlvbiBpbiB0aGUgc291cmNlIGRpc3BsYXkgb2JqZWN0IHRvIHRyYW5zZm9ybS5cclxuXHQgKiBAcGFyYW0ge1BvaW50IHwgT2JqZWN0fSBbcHRdIEFuIG9iamVjdCB0byBjb3B5IHRoZSByZXN1bHQgaW50by4gSWYgb21pdHRlZCBhIG5ldyBQb2ludCBvYmplY3Qgd2l0aCB4L3kgcHJvcGVydGllcyB3aWxsIGJlIHJldHVybmVkLiBcclxuXHQgKiBAcmV0dXJuIHtQb2ludH0gQSBQb2ludCBpbnN0YW5jZSB3aXRoIHggYW5kIHkgcHJvcGVydGllcyBjb3JyZWxhdGluZyB0byB0aGUgdHJhbnNmb3JtZWQgY29vcmRpbmF0ZXNcclxuXHQgKiBvbiB0aGUgc3RhZ2UuXHJcblx0ICoqL1xyXG5cdHAubG9jYWxUb0dsb2JhbCA9IGZ1bmN0aW9uKHgsIHksIHB0KSB7XHJcblx0XHRyZXR1cm4gdGhpcy5nZXRDb25jYXRlbmF0ZWRNYXRyaXgodGhpcy5fcHJvcHMubWF0cml4KS50cmFuc2Zvcm1Qb2ludCh4LHksIHB0fHxuZXcgY3JlYXRlanMuUG9pbnQoKSk7XHJcblx0fTtcclxuXHJcblx0LyoqXHJcblx0ICogVHJhbnNmb3JtcyB0aGUgc3BlY2lmaWVkIHggYW5kIHkgcG9zaXRpb24gZnJvbSB0aGUgZ2xvYmFsIChzdGFnZSkgY29vcmRpbmF0ZSBzcGFjZSB0byB0aGVcclxuXHQgKiBjb29yZGluYXRlIHNwYWNlIG9mIHRoZSBkaXNwbGF5IG9iamVjdC4gRm9yIGV4YW1wbGUsIHRoaXMgY291bGQgYmUgdXNlZCB0byBkZXRlcm1pbmVcclxuXHQgKiB0aGUgY3VycmVudCBtb3VzZSBwb3NpdGlvbiB3aXRoaW4gdGhlIGRpc3BsYXkgb2JqZWN0LiBSZXR1cm5zIGEgUG9pbnQgaW5zdGFuY2Ugd2l0aCB4IGFuZCB5IHByb3BlcnRpZXNcclxuXHQgKiBjb3JyZWxhdGluZyB0byB0aGUgdHJhbnNmb3JtZWQgcG9zaXRpb24gaW4gdGhlIGRpc3BsYXkgb2JqZWN0J3MgY29vcmRpbmF0ZSBzcGFjZS5cclxuXHQgKlxyXG5cdCAqIDxoND5FeGFtcGxlPC9oND5cclxuXHQgKlxyXG5cdCAqICAgICAgZGlzcGxheU9iamVjdC54ID0gMzAwO1xyXG5cdCAqICAgICAgZGlzcGxheU9iamVjdC55ID0gMjAwO1xyXG5cdCAqICAgICAgc3RhZ2UuYWRkQ2hpbGQoZGlzcGxheU9iamVjdCk7XHJcblx0ICogICAgICB2YXIgcG9pbnQgPSBkaXNwbGF5T2JqZWN0Lmdsb2JhbFRvTG9jYWwoMTAwLCAxMDApO1xyXG5cdCAqICAgICAgLy8gUmVzdWx0cyBpbiB4PS0yMDAsIHk9LTEwMFxyXG5cdCAqXHJcblx0ICogQG1ldGhvZCBnbG9iYWxUb0xvY2FsXHJcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHggVGhlIHggcG9zaXRpb24gb24gdGhlIHN0YWdlIHRvIHRyYW5zZm9ybS5cclxuXHQgKiBAcGFyYW0ge051bWJlcn0geSBUaGUgeSBwb3NpdGlvbiBvbiB0aGUgc3RhZ2UgdG8gdHJhbnNmb3JtLlxyXG5cdCAqIEBwYXJhbSB7UG9pbnQgfCBPYmplY3R9IFtwdF0gQW4gb2JqZWN0IHRvIGNvcHkgdGhlIHJlc3VsdCBpbnRvLiBJZiBvbWl0dGVkIGEgbmV3IFBvaW50IG9iamVjdCB3aXRoIHgveSBwcm9wZXJ0aWVzIHdpbGwgYmUgcmV0dXJuZWQuIFxyXG5cdCAqIEByZXR1cm4ge1BvaW50fSBBIFBvaW50IGluc3RhbmNlIHdpdGggeCBhbmQgeSBwcm9wZXJ0aWVzIGNvcnJlbGF0aW5nIHRvIHRoZSB0cmFuc2Zvcm1lZCBwb3NpdGlvbiBpbiB0aGVcclxuXHQgKiBkaXNwbGF5IG9iamVjdCdzIGNvb3JkaW5hdGUgc3BhY2UuXHJcblx0ICoqL1xyXG5cdHAuZ2xvYmFsVG9Mb2NhbCA9IGZ1bmN0aW9uKHgsIHksIHB0KSB7XHJcblx0XHRyZXR1cm4gdGhpcy5nZXRDb25jYXRlbmF0ZWRNYXRyaXgodGhpcy5fcHJvcHMubWF0cml4KS5pbnZlcnQoKS50cmFuc2Zvcm1Qb2ludCh4LHksIHB0fHxuZXcgY3JlYXRlanMuUG9pbnQoKSk7XHJcblx0fTtcclxuXHJcblx0LyoqXHJcblx0ICogVHJhbnNmb3JtcyB0aGUgc3BlY2lmaWVkIHggYW5kIHkgcG9zaXRpb24gZnJvbSB0aGUgY29vcmRpbmF0ZSBzcGFjZSBvZiB0aGlzIGRpc3BsYXkgb2JqZWN0IHRvIHRoZSBjb29yZGluYXRlXHJcblx0ICogc3BhY2Ugb2YgdGhlIHRhcmdldCBkaXNwbGF5IG9iamVjdC4gUmV0dXJucyBhIFBvaW50IGluc3RhbmNlIHdpdGggeCBhbmQgeSBwcm9wZXJ0aWVzIGNvcnJlbGF0aW5nIHRvIHRoZVxyXG5cdCAqIHRyYW5zZm9ybWVkIHBvc2l0aW9uIGluIHRoZSB0YXJnZXQncyBjb29yZGluYXRlIHNwYWNlLiBFZmZlY3RpdmVseSB0aGUgc2FtZSBhcyB1c2luZyB0aGUgZm9sbG93aW5nIGNvZGUgd2l0aFxyXG5cdCAqIHt7I2Nyb3NzTGluayBcIkRpc3BsYXlPYmplY3QvbG9jYWxUb0dsb2JhbFwifX17ey9jcm9zc0xpbmt9fSBhbmQge3sjY3Jvc3NMaW5rIFwiRGlzcGxheU9iamVjdC9nbG9iYWxUb0xvY2FsXCJ9fXt7L2Nyb3NzTGlua319LlxyXG5cdCAqXHJcblx0ICogICAgICB2YXIgcHQgPSB0aGlzLmxvY2FsVG9HbG9iYWwoeCwgeSk7XHJcblx0ICogICAgICBwdCA9IHRhcmdldC5nbG9iYWxUb0xvY2FsKHB0LngsIHB0LnkpO1xyXG5cdCAqXHJcblx0ICogQG1ldGhvZCBsb2NhbFRvTG9jYWxcclxuXHQgKiBAcGFyYW0ge051bWJlcn0geCBUaGUgeCBwb3NpdGlvbiBpbiB0aGUgc291cmNlIGRpc3BsYXkgb2JqZWN0IHRvIHRyYW5zZm9ybS5cclxuXHQgKiBAcGFyYW0ge051bWJlcn0geSBUaGUgeSBwb3NpdGlvbiBvbiB0aGUgc291cmNlIGRpc3BsYXkgb2JqZWN0IHRvIHRyYW5zZm9ybS5cclxuXHQgKiBAcGFyYW0ge0Rpc3BsYXlPYmplY3R9IHRhcmdldCBUaGUgdGFyZ2V0IGRpc3BsYXkgb2JqZWN0IHRvIHdoaWNoIHRoZSBjb29yZGluYXRlcyB3aWxsIGJlIHRyYW5zZm9ybWVkLlxyXG5cdCAqIEBwYXJhbSB7UG9pbnQgfCBPYmplY3R9IFtwdF0gQW4gb2JqZWN0IHRvIGNvcHkgdGhlIHJlc3VsdCBpbnRvLiBJZiBvbWl0dGVkIGEgbmV3IFBvaW50IG9iamVjdCB3aXRoIHgveSBwcm9wZXJ0aWVzIHdpbGwgYmUgcmV0dXJuZWQuIFxyXG5cdCAqIEByZXR1cm4ge1BvaW50fSBSZXR1cm5zIGEgUG9pbnQgaW5zdGFuY2Ugd2l0aCB4IGFuZCB5IHByb3BlcnRpZXMgY29ycmVsYXRpbmcgdG8gdGhlIHRyYW5zZm9ybWVkIHBvc2l0aW9uXHJcblx0ICogaW4gdGhlIHRhcmdldCdzIGNvb3JkaW5hdGUgc3BhY2UuXHJcblx0ICoqL1xyXG5cdHAubG9jYWxUb0xvY2FsID0gZnVuY3Rpb24oeCwgeSwgdGFyZ2V0LCBwdCkge1xyXG5cdFx0cHQgPSB0aGlzLmxvY2FsVG9HbG9iYWwoeCwgeSwgcHQpO1xyXG5cdFx0cmV0dXJuIHRhcmdldC5nbG9iYWxUb0xvY2FsKHB0LngsIHB0LnksIHB0KTtcclxuXHR9O1xyXG5cclxuXHQvKipcclxuXHQgKiBTaG9ydGN1dCBtZXRob2QgdG8gcXVpY2tseSBzZXQgdGhlIHRyYW5zZm9ybSBwcm9wZXJ0aWVzIG9uIHRoZSBkaXNwbGF5IG9iamVjdC4gQWxsIHBhcmFtZXRlcnMgYXJlIG9wdGlvbmFsLlxyXG5cdCAqIE9taXR0ZWQgcGFyYW1ldGVycyB3aWxsIGhhdmUgdGhlIGRlZmF1bHQgdmFsdWUgc2V0LlxyXG5cdCAqXHJcblx0ICogPGg0PkV4YW1wbGU8L2g0PlxyXG5cdCAqXHJcblx0ICogICAgICBkaXNwbGF5T2JqZWN0LnNldFRyYW5zZm9ybSgxMDAsIDEwMCwgMiwgMik7XHJcblx0ICpcclxuXHQgKiBAbWV0aG9kIHNldFRyYW5zZm9ybVxyXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBbeD0wXSBUaGUgaG9yaXpvbnRhbCB0cmFuc2xhdGlvbiAoeCBwb3NpdGlvbikgaW4gcGl4ZWxzXHJcblx0ICogQHBhcmFtIHtOdW1iZXJ9IFt5PTBdIFRoZSB2ZXJ0aWNhbCB0cmFuc2xhdGlvbiAoeSBwb3NpdGlvbikgaW4gcGl4ZWxzXHJcblx0ICogQHBhcmFtIHtOdW1iZXJ9IFtzY2FsZVg9MV0gVGhlIGhvcml6b250YWwgc2NhbGUsIGFzIGEgcGVyY2VudGFnZSBvZiAxXHJcblx0ICogQHBhcmFtIHtOdW1iZXJ9IFtzY2FsZVk9MV0gdGhlIHZlcnRpY2FsIHNjYWxlLCBhcyBhIHBlcmNlbnRhZ2Ugb2YgMVxyXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBbcm90YXRpb249MF0gVGhlIHJvdGF0aW9uLCBpbiBkZWdyZWVzXHJcblx0ICogQHBhcmFtIHtOdW1iZXJ9IFtza2V3WD0wXSBUaGUgaG9yaXpvbnRhbCBza2V3IGZhY3RvclxyXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBbc2tld1k9MF0gVGhlIHZlcnRpY2FsIHNrZXcgZmFjdG9yXHJcblx0ICogQHBhcmFtIHtOdW1iZXJ9IFtyZWdYPTBdIFRoZSBob3Jpem9udGFsIHJlZ2lzdHJhdGlvbiBwb2ludCBpbiBwaXhlbHNcclxuXHQgKiBAcGFyYW0ge051bWJlcn0gW3JlZ1k9MF0gVGhlIHZlcnRpY2FsIHJlZ2lzdHJhdGlvbiBwb2ludCBpbiBwaXhlbHNcclxuXHQgKiBAcmV0dXJuIHtEaXNwbGF5T2JqZWN0fSBSZXR1cm5zIHRoaXMgaW5zdGFuY2UuIFVzZWZ1bCBmb3IgY2hhaW5pbmcgY29tbWFuZHMuXHJcblx0ICogQGNoYWluYWJsZVxyXG5cdCovXHJcblx0cC5zZXRUcmFuc2Zvcm0gPSBmdW5jdGlvbih4LCB5LCBzY2FsZVgsIHNjYWxlWSwgcm90YXRpb24sIHNrZXdYLCBza2V3WSwgcmVnWCwgcmVnWSkge1xyXG5cdFx0dGhpcy54ID0geCB8fCAwO1xyXG5cdFx0dGhpcy55ID0geSB8fCAwO1xyXG5cdFx0dGhpcy5zY2FsZVggPSBzY2FsZVggPT0gbnVsbCA/IDEgOiBzY2FsZVg7XHJcblx0XHR0aGlzLnNjYWxlWSA9IHNjYWxlWSA9PSBudWxsID8gMSA6IHNjYWxlWTtcclxuXHRcdHRoaXMucm90YXRpb24gPSByb3RhdGlvbiB8fCAwO1xyXG5cdFx0dGhpcy5za2V3WCA9IHNrZXdYIHx8IDA7XHJcblx0XHR0aGlzLnNrZXdZID0gc2tld1kgfHwgMDtcclxuXHRcdHRoaXMucmVnWCA9IHJlZ1ggfHwgMDtcclxuXHRcdHRoaXMucmVnWSA9IHJlZ1kgfHwgMDtcclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH07XHJcblxyXG5cdC8qKlxyXG5cdCAqIFJldHVybnMgYSBtYXRyaXggYmFzZWQgb24gdGhpcyBvYmplY3QncyBjdXJyZW50IHRyYW5zZm9ybS5cclxuXHQgKiBAbWV0aG9kIGdldE1hdHJpeFxyXG5cdCAqIEBwYXJhbSB7TWF0cml4MkR9IG1hdHJpeCBPcHRpb25hbC4gQSBNYXRyaXgyRCBvYmplY3QgdG8gcG9wdWxhdGUgd2l0aCB0aGUgY2FsY3VsYXRlZCB2YWx1ZXMuIElmIG51bGwsIGEgbmV3XHJcblx0ICogTWF0cml4IG9iamVjdCBpcyByZXR1cm5lZC5cclxuXHQgKiBAcmV0dXJuIHtNYXRyaXgyRH0gQSBtYXRyaXggcmVwcmVzZW50aW5nIHRoaXMgZGlzcGxheSBvYmplY3QncyB0cmFuc2Zvcm0uXHJcblx0ICoqL1xyXG5cdHAuZ2V0TWF0cml4ID0gZnVuY3Rpb24obWF0cml4KSB7XHJcblx0XHR2YXIgbyA9IHRoaXMsIG10eCA9IG1hdHJpeCYmbWF0cml4LmlkZW50aXR5KCkgfHwgbmV3IGNyZWF0ZWpzLk1hdHJpeDJEKCk7XHJcblx0XHRyZXR1cm4gby50cmFuc2Zvcm1NYXRyaXggPyAgbXR4LmNvcHkoby50cmFuc2Zvcm1NYXRyaXgpIDogbXR4LmFwcGVuZFRyYW5zZm9ybShvLngsIG8ueSwgby5zY2FsZVgsIG8uc2NhbGVZLCBvLnJvdGF0aW9uLCBvLnNrZXdYLCBvLnNrZXdZLCBvLnJlZ1gsIG8ucmVnWSk7XHJcblx0fTtcclxuXHJcblx0LyoqXHJcblx0ICogR2VuZXJhdGVzIGEgTWF0cml4MkQgb2JqZWN0IHJlcHJlc2VudGluZyB0aGUgY29tYmluZWQgdHJhbnNmb3JtIG9mIHRoZSBkaXNwbGF5IG9iamVjdCBhbmQgYWxsIG9mIGl0c1xyXG5cdCAqIHBhcmVudCBDb250YWluZXJzIHVwIHRvIHRoZSBoaWdoZXN0IGxldmVsIGFuY2VzdG9yICh1c3VhbGx5IHRoZSB7eyNjcm9zc0xpbmsgXCJTdGFnZVwifX17ey9jcm9zc0xpbmt9fSkuIFRoaXMgY2FuXHJcblx0ICogYmUgdXNlZCB0byB0cmFuc2Zvcm0gcG9zaXRpb25zIGJldHdlZW4gY29vcmRpbmF0ZSBzcGFjZXMsIHN1Y2ggYXMgd2l0aCB7eyNjcm9zc0xpbmsgXCJEaXNwbGF5T2JqZWN0L2xvY2FsVG9HbG9iYWxcIn19e3svY3Jvc3NMaW5rfX1cclxuXHQgKiBhbmQge3sjY3Jvc3NMaW5rIFwiRGlzcGxheU9iamVjdC9nbG9iYWxUb0xvY2FsXCJ9fXt7L2Nyb3NzTGlua319LlxyXG5cdCAqIEBtZXRob2QgZ2V0Q29uY2F0ZW5hdGVkTWF0cml4XHJcblx0ICogQHBhcmFtIHtNYXRyaXgyRH0gW21hdHJpeF0gQSB7eyNjcm9zc0xpbmsgXCJNYXRyaXgyRFwifX17ey9jcm9zc0xpbmt9fSBvYmplY3QgdG8gcG9wdWxhdGUgd2l0aCB0aGUgY2FsY3VsYXRlZCB2YWx1ZXMuXHJcblx0ICogSWYgbnVsbCwgYSBuZXcgTWF0cml4MkQgb2JqZWN0IGlzIHJldHVybmVkLlxyXG5cdCAqIEByZXR1cm4ge01hdHJpeDJEfSBUaGUgY29tYmluZWQgbWF0cml4LlxyXG5cdCAqKi9cclxuXHRwLmdldENvbmNhdGVuYXRlZE1hdHJpeCA9IGZ1bmN0aW9uKG1hdHJpeCkge1xyXG5cdFx0dmFyIG8gPSB0aGlzLCBtdHggPSB0aGlzLmdldE1hdHJpeChtYXRyaXgpO1xyXG5cdFx0d2hpbGUgKG8gPSBvLnBhcmVudCkge1xyXG5cdFx0XHRtdHgucHJlcGVuZE1hdHJpeChvLmdldE1hdHJpeChvLl9wcm9wcy5tYXRyaXgpKTtcclxuXHRcdH1cclxuXHRcdHJldHVybiBtdHg7XHJcblx0fTtcclxuXHJcblx0LyoqXHJcblx0ICogR2VuZXJhdGVzIGEgRGlzcGxheVByb3BzIG9iamVjdCByZXByZXNlbnRpbmcgdGhlIGNvbWJpbmVkIGRpc3BsYXkgcHJvcGVydGllcyBvZiB0aGUgIG9iamVjdCBhbmQgYWxsIG9mIGl0c1xyXG5cdCAqIHBhcmVudCBDb250YWluZXJzIHVwIHRvIHRoZSBoaWdoZXN0IGxldmVsIGFuY2VzdG9yICh1c3VhbGx5IHRoZSB7eyNjcm9zc0xpbmsgXCJTdGFnZVwifX17ey9jcm9zc0xpbmt9fSkuXHJcblx0ICogQG1ldGhvZCBnZXRDb25jYXRlbmF0ZWREaXNwbGF5UHJvcHNcclxuXHQgKiBAcGFyYW0ge0Rpc3BsYXlQcm9wc30gW3Byb3BzXSBBIHt7I2Nyb3NzTGluayBcIkRpc3BsYXlQcm9wc1wifX17ey9jcm9zc0xpbmt9fSBvYmplY3QgdG8gcG9wdWxhdGUgd2l0aCB0aGUgY2FsY3VsYXRlZCB2YWx1ZXMuXHJcblx0ICogSWYgbnVsbCwgYSBuZXcgRGlzcGxheVByb3BzIG9iamVjdCBpcyByZXR1cm5lZC5cclxuXHQgKiBAcmV0dXJuIHtEaXNwbGF5UHJvcHN9IFRoZSBjb21iaW5lZCBkaXNwbGF5IHByb3BlcnRpZXMuXHJcblx0ICoqL1xyXG5cdHAuZ2V0Q29uY2F0ZW5hdGVkRGlzcGxheVByb3BzID0gZnVuY3Rpb24ocHJvcHMpIHtcclxuXHRcdHByb3BzID0gcHJvcHMgPyBwcm9wcy5pZGVudGl0eSgpIDogbmV3IGNyZWF0ZWpzLkRpc3BsYXlQcm9wcygpO1xyXG5cdFx0dmFyIG8gPSB0aGlzLCBtdHggPSBvLmdldE1hdHJpeChwcm9wcy5tYXRyaXgpOyBcclxuXHRcdGRvIHtcclxuXHRcdFx0cHJvcHMucHJlcGVuZChvLnZpc2libGUsIG8uYWxwaGEsIG8uc2hhZG93LCBvLmNvbXBvc2l0ZU9wZXJhdGlvbik7XHJcblx0XHRcdFxyXG5cdFx0XHQvLyB3ZSBkbyB0aGlzIHRvIGF2b2lkIHByb2JsZW1zIHdpdGggdGhlIG1hdHJpeCBiZWluZyB1c2VkIGZvciBib3RoIG9wZXJhdGlvbnMgd2hlbiBvLl9wcm9wcy5tYXRyaXggaXMgcGFzc2VkIGluIGFzIHRoZSBwcm9wcyBwYXJhbS5cclxuXHRcdFx0Ly8gdGhpcyBjb3VsZCBiZSBzaW1wbGlmaWVkIChpZS4ganVzdCBkb25lIGFzIHBhcnQgb2YgdGhlIHByZXBlbmQgYWJvdmUpIGlmIHdlIHN3aXRjaGVkIHRvIHVzaW5nIGEgcG9vbC5cclxuXHRcdFx0aWYgKG8gIT0gdGhpcykgeyBtdHgucHJlcGVuZE1hdHJpeChvLmdldE1hdHJpeChvLl9wcm9wcy5tYXRyaXgpKTsgfVxyXG5cdFx0fSB3aGlsZSAobyA9IG8ucGFyZW50KTtcclxuXHRcdHJldHVybiBwcm9wcztcclxuXHR9O1xyXG5cclxuXHQvKipcclxuXHQgKiBUZXN0cyB3aGV0aGVyIHRoZSBkaXNwbGF5IG9iamVjdCBpbnRlcnNlY3RzIHRoZSBzcGVjaWZpZWQgcG9pbnQgaW4gbG9jYWwgY29vcmRpbmF0ZXMgKGllLiBkcmF3cyBhIHBpeGVsIHdpdGggYWxwaGEgPiAwIGF0XHJcblx0ICogdGhlIHNwZWNpZmllZCBwb3NpdGlvbikuIFRoaXMgaWdub3JlcyB0aGUgYWxwaGEsIHNoYWRvdywgaGl0QXJlYSwgbWFzaywgYW5kIGNvbXBvc2l0ZU9wZXJhdGlvbiBvZiB0aGUgZGlzcGxheSBvYmplY3QuXHJcblx0ICpcclxuXHQgKiA8aDQ+RXhhbXBsZTwvaDQ+XHJcblx0ICpcclxuXHQgKiAgICAgIHN0YWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJzdGFnZW1vdXNlZG93blwiLCBoYW5kbGVNb3VzZURvd24pO1xyXG5cdCAqICAgICAgZnVuY3Rpb24gaGFuZGxlTW91c2VEb3duKGV2ZW50KSB7XHJcblx0ICogICAgICAgICAgdmFyIGhpdCA9IG15U2hhcGUuaGl0VGVzdChldmVudC5zdGFnZVgsIGV2ZW50LnN0YWdlWSk7XHJcblx0ICogICAgICB9XHJcblx0ICpcclxuXHQgKiBQbGVhc2Ugbm90ZSB0aGF0IHNoYXBlLXRvLXNoYXBlIGNvbGxpc2lvbiBpcyBub3QgY3VycmVudGx5IHN1cHBvcnRlZCBieSBFYXNlbEpTLlxyXG5cdCAqIEBtZXRob2QgaGl0VGVzdFxyXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB4IFRoZSB4IHBvc2l0aW9uIHRvIGNoZWNrIGluIHRoZSBkaXNwbGF5IG9iamVjdCdzIGxvY2FsIGNvb3JkaW5hdGVzLlxyXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB5IFRoZSB5IHBvc2l0aW9uIHRvIGNoZWNrIGluIHRoZSBkaXNwbGF5IG9iamVjdCdzIGxvY2FsIGNvb3JkaW5hdGVzLlxyXG5cdCAqIEByZXR1cm4ge0Jvb2xlYW59IEEgQm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgYSB2aXNpYmxlIHBvcnRpb24gb2YgdGhlIERpc3BsYXlPYmplY3QgaW50ZXJzZWN0IHRoZSBzcGVjaWZpZWRcclxuXHQgKiBsb2NhbCBQb2ludC5cclxuXHQqL1xyXG5cdHAuaGl0VGVzdCA9IGZ1bmN0aW9uKHgsIHkpIHtcclxuXHRcdHZhciBjdHggPSBEaXNwbGF5T2JqZWN0Ll9oaXRUZXN0Q29udGV4dDtcclxuXHRcdGN0eC5zZXRUcmFuc2Zvcm0oMSwgMCwgMCwgMSwgLXgsIC15KTtcclxuXHRcdHRoaXMuZHJhdyhjdHgpO1xyXG5cclxuXHRcdHZhciBoaXQgPSB0aGlzLl90ZXN0SGl0KGN0eCk7XHJcblx0XHRjdHguc2V0VHJhbnNmb3JtKDEsIDAsIDAsIDEsIDAsIDApO1xyXG5cdFx0Y3R4LmNsZWFyUmVjdCgwLCAwLCAyLCAyKTtcclxuXHRcdHJldHVybiBoaXQ7XHJcblx0fTtcclxuXHJcblx0LyoqXHJcblx0ICogUHJvdmlkZXMgYSBjaGFpbmFibGUgc2hvcnRjdXQgbWV0aG9kIGZvciBzZXR0aW5nIGEgbnVtYmVyIG9mIHByb3BlcnRpZXMgb24gdGhlIGluc3RhbmNlLlxyXG5cdCAqXHJcblx0ICogPGg0PkV4YW1wbGU8L2g0PlxyXG5cdCAqXHJcblx0ICogICAgICB2YXIgbXlHcmFwaGljcyA9IG5ldyBjcmVhdGVqcy5HcmFwaGljcygpLmJlZ2luRmlsbChcIiNmZjAwMDBcIikuZHJhd0NpcmNsZSgwLCAwLCAyNSk7XHJcblx0ICogICAgICB2YXIgc2hhcGUgPSBzdGFnZS5hZGRDaGlsZChuZXcgU2hhcGUoKSkuc2V0KHtncmFwaGljczpteUdyYXBoaWNzLCB4OjEwMCwgeToxMDAsIGFscGhhOjAuNX0pO1xyXG5cdCAqXHJcblx0ICogQG1ldGhvZCBzZXRcclxuXHQgKiBAcGFyYW0ge09iamVjdH0gcHJvcHMgQSBnZW5lcmljIG9iamVjdCBjb250YWluaW5nIHByb3BlcnRpZXMgdG8gY29weSB0byB0aGUgRGlzcGxheU9iamVjdCBpbnN0YW5jZS5cclxuXHQgKiBAcmV0dXJuIHtEaXNwbGF5T2JqZWN0fSBSZXR1cm5zIHRoZSBpbnN0YW5jZSB0aGUgbWV0aG9kIGlzIGNhbGxlZCBvbiAodXNlZnVsIGZvciBjaGFpbmluZyBjYWxscy4pXHJcblx0ICogQGNoYWluYWJsZVxyXG5cdCovXHJcblx0cC5zZXQgPSBmdW5jdGlvbihwcm9wcykge1xyXG5cdFx0Zm9yICh2YXIgbiBpbiBwcm9wcykgeyB0aGlzW25dID0gcHJvcHNbbl07IH1cclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH07XHJcblxyXG5cdC8qKlxyXG5cdCAqIFJldHVybnMgYSByZWN0YW5nbGUgcmVwcmVzZW50aW5nIHRoaXMgb2JqZWN0J3MgYm91bmRzIGluIGl0cyBsb2NhbCBjb29yZGluYXRlIHN5c3RlbSAoaWUuIHdpdGggbm8gdHJhbnNmb3JtYXRpb24pLlxyXG5cdCAqIE9iamVjdHMgdGhhdCBoYXZlIGJlZW4gY2FjaGVkIHdpbGwgcmV0dXJuIHRoZSBib3VuZHMgb2YgdGhlIGNhY2hlLlxyXG5cdCAqIFxyXG5cdCAqIE5vdCBhbGwgZGlzcGxheSBvYmplY3RzIGNhbiBjYWxjdWxhdGUgdGhlaXIgb3duIGJvdW5kcyAoZXguIFNoYXBlKS4gRm9yIHRoZXNlIG9iamVjdHMsIHlvdSBjYW4gdXNlIFxyXG5cdCAqIHt7I2Nyb3NzTGluayBcIkRpc3BsYXlPYmplY3Qvc2V0Qm91bmRzXCJ9fXt7L2Nyb3NzTGlua319IHNvIHRoYXQgdGhleSBhcmUgaW5jbHVkZWQgd2hlbiBjYWxjdWxhdGluZyBDb250YWluZXJcclxuXHQgKiBib3VuZHMuXHJcblx0ICogXHJcblx0ICogPHRhYmxlPlxyXG5cdCAqIFx0PHRyPjx0ZD48Yj5BbGw8L2I+PC90ZD48dGQ+XHJcblx0ICogXHRcdEFsbCBkaXNwbGF5IG9iamVjdHMgc3VwcG9ydCBzZXR0aW5nIGJvdW5kcyBtYW51YWxseSB1c2luZyBzZXRCb3VuZHMoKS4gTGlrZXdpc2UsIGRpc3BsYXkgb2JqZWN0cyB0aGF0XHJcblx0ICogXHRcdGhhdmUgYmVlbiBjYWNoZWQgdXNpbmcgY2FjaGUoKSB3aWxsIHJldHVybiB0aGUgYm91bmRzIG9mIHRoZWlyIGNhY2hlLiBNYW51YWwgYW5kIGNhY2hlIGJvdW5kcyB3aWxsIG92ZXJyaWRlXHJcblx0ICogXHRcdHRoZSBhdXRvbWF0aWMgY2FsY3VsYXRpb25zIGxpc3RlZCBiZWxvdy5cclxuXHQgKiBcdDwvdGQ+PC90cj5cclxuXHQgKiBcdDx0cj48dGQ+PGI+Qml0bWFwPC9iPjwvdGQ+PHRkPlxyXG5cdCAqIFx0XHRSZXR1cm5zIHRoZSB3aWR0aCBhbmQgaGVpZ2h0IG9mIHRoZSBzb3VyY2VSZWN0IChpZiBzcGVjaWZpZWQpIG9yIGltYWdlLCBleHRlbmRpbmcgZnJvbSAoeD0wLHk9MCkuXHJcblx0ICogXHQ8L3RkPjwvdHI+XHJcblx0ICogXHQ8dHI+PHRkPjxiPlNwcml0ZTwvYj48L3RkPjx0ZD5cclxuXHQgKiBcdFx0UmV0dXJucyB0aGUgYm91bmRzIG9mIHRoZSBjdXJyZW50IGZyYW1lLiBNYXkgaGF2ZSBub24temVybyB4L3kgaWYgYSBmcmFtZSByZWdpc3RyYXRpb24gcG9pbnQgd2FzIHNwZWNpZmllZFxyXG5cdCAqIFx0XHRpbiB0aGUgc3ByaXRlc2hlZXQgZGF0YS4gU2VlIGFsc28ge3sjY3Jvc3NMaW5rIFwiU3ByaXRlU2hlZXQvZ2V0RnJhbWVCb3VuZHNcIn19e3svY3Jvc3NMaW5rfX1cclxuXHQgKiBcdDwvdGQ+PC90cj5cclxuXHQgKiBcdDx0cj48dGQ+PGI+Q29udGFpbmVyPC9iPjwvdGQ+PHRkPlxyXG5cdCAqIFx0XHRSZXR1cm5zIHRoZSBhZ2dyZWdhdGUgKGNvbWJpbmVkKSBib3VuZHMgb2YgYWxsIGNoaWxkcmVuIHRoYXQgcmV0dXJuIGEgbm9uLW51bGwgdmFsdWUgZnJvbSBnZXRCb3VuZHMoKS5cclxuXHQgKiBcdDwvdGQ+PC90cj5cclxuXHQgKiBcdDx0cj48dGQ+PGI+U2hhcGU8L2I+PC90ZD48dGQ+XHJcblx0ICogXHRcdERvZXMgbm90IGN1cnJlbnRseSBzdXBwb3J0IGF1dG9tYXRpYyBib3VuZHMgY2FsY3VsYXRpb25zLiBVc2Ugc2V0Qm91bmRzKCkgdG8gbWFudWFsbHkgZGVmaW5lIGJvdW5kcy5cclxuXHQgKiBcdDwvdGQ+PC90cj5cclxuXHQgKiBcdDx0cj48dGQ+PGI+VGV4dDwvYj48L3RkPjx0ZD5cclxuXHQgKiBcdFx0UmV0dXJucyBhcHByb3hpbWF0ZSBib3VuZHMuIEhvcml6b250YWwgdmFsdWVzICh4L3dpZHRoKSBhcmUgcXVpdGUgYWNjdXJhdGUsIGJ1dCB2ZXJ0aWNhbCB2YWx1ZXMgKHkvaGVpZ2h0KSBhcmVcclxuXHQgKiBcdFx0bm90LCBlc3BlY2lhbGx5IHdoZW4gdXNpbmcgdGV4dEJhc2VsaW5lIHZhbHVlcyBvdGhlciB0aGFuIFwidG9wXCIuXHJcblx0ICogXHQ8L3RkPjwvdHI+XHJcblx0ICogXHQ8dHI+PHRkPjxiPkJpdG1hcFRleHQ8L2I+PC90ZD48dGQ+XHJcblx0ICogXHRcdFJldHVybnMgYXBwcm94aW1hdGUgYm91bmRzLiBWYWx1ZXMgd2lsbCBiZSBtb3JlIGFjY3VyYXRlIGlmIHNwcml0ZXNoZWV0IGZyYW1lIHJlZ2lzdHJhdGlvbiBwb2ludHMgYXJlIGNsb3NlXHJcblx0ICogXHRcdHRvICh4PTAseT0wKS5cclxuXHQgKiBcdDwvdGQ+PC90cj5cclxuXHQqIDwvdGFibGU+XHJcblx0ICogXHJcblx0ICogQm91bmRzIGNhbiBiZSBleHBlbnNpdmUgdG8gY2FsY3VsYXRlIGZvciBzb21lIG9iamVjdHMgKGV4LiB0ZXh0LCBvciBjb250YWluZXJzIHdpdGggbWFueSBjaGlsZHJlbiksIGFuZFxyXG5cdCAqIGFyZSByZWNhbGN1bGF0ZWQgZWFjaCB0aW1lIHlvdSBjYWxsIGdldEJvdW5kcygpLiBZb3UgY2FuIHByZXZlbnQgcmVjYWxjdWxhdGlvbiBvbiBzdGF0aWMgb2JqZWN0cyBieSBzZXR0aW5nIHRoZVxyXG5cdCAqIGJvdW5kcyBleHBsaWNpdGx5OlxyXG5cdCAqIFxyXG5cdCAqIFx0dmFyIGJvdW5kcyA9IG9iai5nZXRCb3VuZHMoKTtcclxuXHQgKiBcdG9iai5zZXRCb3VuZHMoYm91bmRzLngsIGJvdW5kcy55LCBib3VuZHMud2lkdGgsIGJvdW5kcy5oZWlnaHQpO1xyXG5cdCAqIFx0Ly8gZ2V0Qm91bmRzIHdpbGwgbm93IHVzZSB0aGUgc2V0IHZhbHVlcywgaW5zdGVhZCBvZiByZWNhbGN1bGF0aW5nXHJcblx0ICogXHJcblx0ICogVG8gcmVkdWNlIG1lbW9yeSBpbXBhY3QsIHRoZSByZXR1cm5lZCBSZWN0YW5nbGUgaW5zdGFuY2UgbWF5IGJlIHJldXNlZCBpbnRlcm5hbGx5OyBjbG9uZSB0aGUgaW5zdGFuY2Ugb3IgY29weSBpdHNcclxuXHQgKiB2YWx1ZXMgaWYgeW91IG5lZWQgdG8gcmV0YWluIGl0LlxyXG5cdCAqIFxyXG5cdCAqIFx0dmFyIG15Qm91bmRzID0gb2JqLmdldEJvdW5kcygpLmNsb25lKCk7XHJcblx0ICogXHQvLyBPUjpcclxuXHQgKiBcdG15UmVjdC5jb3B5KG9iai5nZXRCb3VuZHMoKSk7XHJcblx0ICogXHJcblx0ICogQG1ldGhvZCBnZXRCb3VuZHNcclxuXHQgKiBAcmV0dXJuIHtSZWN0YW5nbGV9IEEgUmVjdGFuZ2xlIGluc3RhbmNlIHJlcHJlc2VudGluZyB0aGUgYm91bmRzLCBvciBudWxsIGlmIGJvdW5kcyBhcmUgbm90IGF2YWlsYWJsZSBmb3IgdGhpc1xyXG5cdCAqIG9iamVjdC5cclxuXHQgKiovXHJcblx0cC5nZXRCb3VuZHMgPSBmdW5jdGlvbigpIHtcclxuXHRcdGlmICh0aGlzLl9ib3VuZHMpIHsgcmV0dXJuIHRoaXMuX3JlY3RhbmdsZS5jb3B5KHRoaXMuX2JvdW5kcyk7IH1cclxuXHRcdHZhciBjYWNoZUNhbnZhcyA9IHRoaXMuY2FjaGVDYW52YXM7XHJcblx0XHRpZiAoY2FjaGVDYW52YXMpIHtcclxuXHRcdFx0dmFyIHNjYWxlID0gdGhpcy5fY2FjaGVTY2FsZTtcclxuXHRcdFx0cmV0dXJuIHRoaXMuX3JlY3RhbmdsZS5zZXRWYWx1ZXModGhpcy5fY2FjaGVPZmZzZXRYLCB0aGlzLl9jYWNoZU9mZnNldFksIGNhY2hlQ2FudmFzLndpZHRoL3NjYWxlLCBjYWNoZUNhbnZhcy5oZWlnaHQvc2NhbGUpO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIG51bGw7XHJcblx0fTtcclxuXHJcblx0LyoqXHJcblx0ICogUmV0dXJucyBhIHJlY3RhbmdsZSByZXByZXNlbnRpbmcgdGhpcyBvYmplY3QncyBib3VuZHMgaW4gaXRzIHBhcmVudCdzIGNvb3JkaW5hdGUgc3lzdGVtIChpZS4gd2l0aCB0cmFuc2Zvcm1hdGlvbnMgYXBwbGllZCkuXHJcblx0ICogT2JqZWN0cyB0aGF0IGhhdmUgYmVlbiBjYWNoZWQgd2lsbCByZXR1cm4gdGhlIHRyYW5zZm9ybWVkIGJvdW5kcyBvZiB0aGUgY2FjaGUuXHJcblx0ICogXHJcblx0ICogTm90IGFsbCBkaXNwbGF5IG9iamVjdHMgY2FuIGNhbGN1bGF0ZSB0aGVpciBvd24gYm91bmRzIChleC4gU2hhcGUpLiBGb3IgdGhlc2Ugb2JqZWN0cywgeW91IGNhbiB1c2UgXHJcblx0ICoge3sjY3Jvc3NMaW5rIFwiRGlzcGxheU9iamVjdC9zZXRCb3VuZHNcIn19e3svY3Jvc3NMaW5rfX0gc28gdGhhdCB0aGV5IGFyZSBpbmNsdWRlZCB3aGVuIGNhbGN1bGF0aW5nIENvbnRhaW5lclxyXG5cdCAqIGJvdW5kcy5cclxuXHQgKiBcclxuXHQgKiBUbyByZWR1Y2UgbWVtb3J5IGltcGFjdCwgdGhlIHJldHVybmVkIFJlY3RhbmdsZSBpbnN0YW5jZSBtYXkgYmUgcmV1c2VkIGludGVybmFsbHk7IGNsb25lIHRoZSBpbnN0YW5jZSBvciBjb3B5IGl0c1xyXG5cdCAqIHZhbHVlcyBpZiB5b3UgbmVlZCB0byByZXRhaW4gaXQuXHJcblx0ICogXHJcblx0ICogQ29udGFpbmVyIGluc3RhbmNlcyBjYWxjdWxhdGUgYWdncmVnYXRlIGJvdW5kcyBmb3IgYWxsIGNoaWxkcmVuIHRoYXQgcmV0dXJuIGJvdW5kcyB2aWEgZ2V0Qm91bmRzLlxyXG5cdCAqIEBtZXRob2QgZ2V0VHJhbnNmb3JtZWRCb3VuZHNcclxuXHQgKiBAcmV0dXJuIHtSZWN0YW5nbGV9IEEgUmVjdGFuZ2xlIGluc3RhbmNlIHJlcHJlc2VudGluZyB0aGUgYm91bmRzLCBvciBudWxsIGlmIGJvdW5kcyBhcmUgbm90IGF2YWlsYWJsZSBmb3IgdGhpcyBvYmplY3QuXHJcblx0ICoqL1xyXG5cdHAuZ2V0VHJhbnNmb3JtZWRCb3VuZHMgPSBmdW5jdGlvbigpIHtcclxuXHRcdHJldHVybiB0aGlzLl9nZXRCb3VuZHMoKTtcclxuXHR9O1xyXG5cclxuXHQvKipcclxuXHQgKiBBbGxvd3MgeW91IHRvIG1hbnVhbGx5IHNwZWNpZnkgdGhlIGJvdW5kcyBvZiBhbiBvYmplY3QgdGhhdCBlaXRoZXIgY2Fubm90IGNhbGN1bGF0ZSB0aGVpciBvd24gYm91bmRzIChleC4gU2hhcGUgJlxyXG5cdCAqIFRleHQpIGZvciBmdXR1cmUgcmVmZXJlbmNlLCBvciBzbyB0aGUgb2JqZWN0IGNhbiBiZSBpbmNsdWRlZCBpbiBDb250YWluZXIgYm91bmRzLiBNYW51YWxseSBzZXQgYm91bmRzIHdpbGwgYWx3YXlzXHJcblx0ICogb3ZlcnJpZGUgY2FsY3VsYXRlZCBib3VuZHMuXHJcblx0ICogXHJcblx0ICogVGhlIGJvdW5kcyBzaG91bGQgYmUgc3BlY2lmaWVkIGluIHRoZSBvYmplY3QncyBsb2NhbCAodW50cmFuc2Zvcm1lZCkgY29vcmRpbmF0ZXMuIEZvciBleGFtcGxlLCBhIFNoYXBlIGluc3RhbmNlXHJcblx0ICogd2l0aCBhIDI1cHggcmFkaXVzIGNpcmNsZSBjZW50ZXJlZCBhdCAwLDAgd291bGQgaGF2ZSBib3VuZHMgb2YgKC0yNSwgLTI1LCA1MCwgNTApLlxyXG5cdCAqIEBtZXRob2Qgc2V0Qm91bmRzXHJcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHggVGhlIHggb3JpZ2luIG9mIHRoZSBib3VuZHMuIFBhc3MgbnVsbCB0byByZW1vdmUgdGhlIG1hbnVhbCBib3VuZHMuXHJcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHkgVGhlIHkgb3JpZ2luIG9mIHRoZSBib3VuZHMuXHJcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHdpZHRoIFRoZSB3aWR0aCBvZiB0aGUgYm91bmRzLlxyXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBoZWlnaHQgVGhlIGhlaWdodCBvZiB0aGUgYm91bmRzLlxyXG5cdCAqKi9cclxuXHRwLnNldEJvdW5kcyA9IGZ1bmN0aW9uKHgsIHksIHdpZHRoLCBoZWlnaHQpIHtcclxuXHRcdGlmICh4ID09IG51bGwpIHsgdGhpcy5fYm91bmRzID0geDsgcmV0dXJuOyB9XHJcblx0XHR0aGlzLl9ib3VuZHMgPSAodGhpcy5fYm91bmRzIHx8IG5ldyBjcmVhdGVqcy5SZWN0YW5nbGUoKSkuc2V0VmFsdWVzKHgsIHksIHdpZHRoLCBoZWlnaHQpO1xyXG5cdH07XHJcblxyXG5cdC8qKlxyXG5cdCAqIFJldHVybnMgYSBjbG9uZSBvZiB0aGlzIERpc3BsYXlPYmplY3QuIFNvbWUgcHJvcGVydGllcyB0aGF0IGFyZSBzcGVjaWZpYyB0byB0aGlzIGluc3RhbmNlJ3MgY3VycmVudCBjb250ZXh0IGFyZVxyXG5cdCAqIHJldmVydGVkIHRvIHRoZWlyIGRlZmF1bHRzIChmb3IgZXhhbXBsZSAucGFyZW50KS4gQ2FjaGVzIGFyZSBub3QgbWFpbnRhaW5lZCBhY3Jvc3MgY2xvbmVzLCBhbmQgc29tZSBlbGVtZW50c1xyXG5cdCAqIGFyZSBjb3BpZWQgYnkgcmVmZXJlbmNlIChtYXNrcywgaW5kaXZpZHVhbCBmaWx0ZXIgaW5zdGFuY2VzLCBoaXQgYXJlYSlcclxuXHQgKiBAbWV0aG9kIGNsb25lXHJcblx0ICogQHJldHVybiB7RGlzcGxheU9iamVjdH0gQSBjbG9uZSBvZiB0aGUgY3VycmVudCBEaXNwbGF5T2JqZWN0IGluc3RhbmNlLlxyXG5cdCAqKi9cclxuXHRwLmNsb25lID0gZnVuY3Rpb24oKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5fY2xvbmVQcm9wcyhuZXcgRGlzcGxheU9iamVjdCgpKTtcclxuXHR9O1xyXG5cclxuXHQvKipcclxuXHQgKiBSZXR1cm5zIGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoaXMgb2JqZWN0LlxyXG5cdCAqIEBtZXRob2QgdG9TdHJpbmdcclxuXHQgKiBAcmV0dXJuIHtTdHJpbmd9IGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBpbnN0YW5jZS5cclxuXHQgKiovXHJcblx0cC50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0cmV0dXJuIFwiW0Rpc3BsYXlPYmplY3QgKG5hbWU9XCIrICB0aGlzLm5hbWUgK1wiKV1cIjtcclxuXHR9O1xyXG5cclxuXHJcbi8vIHByaXZhdGUgbWV0aG9kczpcclxuXHQvKipcclxuXHQgKiBDYWxsZWQgYmVmb3JlIHRoZSBvYmplY3QgZ2V0cyBkcmF3biBhbmQgaXMgYSBjaGFuY2UgdG8gZW5zdXJlIHRoZSBkaXNwbGF5IHN0YXRlIG9mIHRoZSBvYmplY3QgaXMgY29ycmVjdC5cclxuXHQgKiBNb3N0bHkgdXNlZCBieSB7eyNjcm9zc0xpbmsgXCJNb3ZpZUNsaXBcIn19e3svY3Jvc3NMaW5rfX0gYW5kIHt7I2Nyb3NzTGluayBcIkJpdG1hcFRleHRcIn19e3svY3Jvc3NMaW5rfX0gdG9cclxuXHQgKiBjb3JyZWN0IHRoZWlyIGludGVybmFsIHN0YXRlIGFuZCBjaGlsZHJlbiBwcmlvciB0byBiZWluZyBkcmF3bi5cclxuXHQgKlxyXG5cdCAqIElzIG1hbnVhbGx5IGNhbGxlZCB2aWEgZHJhdyBpbiBhIHt7I2Nyb3NzTGluayBcIlN0YWdlXCJ9fXt7L2Nyb3NzTGlua319IGJ1dCBpcyBhdXRvbWF0aWNhbGx5IGNhbGxlZCB3aGVuXHJcblx0ICogcHJlc2VudCBpbiBhIHt7I2Nyb3NzTGluayBcIlN0YWdlR0xcIn19e3svY3Jvc3NMaW5rfX0gaW5zdGFuY2UuXHJcblx0ICpcclxuXHQgKiBAbWV0aG9kIF91cGRhdGVTdGF0ZVxyXG5cdCAqIEBkZWZhdWx0IG51bGxcclxuXHQgKi9cclxuXHRwLl91cGRhdGVTdGF0ZSA9IG51bGw7XHJcblxyXG5cdC8vIHNlcGFyYXRlZCBzbyBpdCBjYW4gYmUgdXNlZCBtb3JlIGVhc2lseSBpbiBzdWJjbGFzc2VzOlxyXG5cdC8qKlxyXG5cdCAqIEBtZXRob2QgX2Nsb25lUHJvcHNcclxuXHQgKiBAcGFyYW0ge0Rpc3BsYXlPYmplY3R9IG8gVGhlIERpc3BsYXlPYmplY3QgaW5zdGFuY2Ugd2hpY2ggd2lsbCBoYXZlIHByb3BlcnRpZXMgZnJvbSB0aGUgY3VycmVudCBEaXNwbGF5T2JqZWN0XHJcblx0ICogaW5zdGFuY2UgY29waWVkIGludG8uXHJcblx0ICogQHJldHVybiB7RGlzcGxheU9iamVjdH0gb1xyXG5cdCAqIEBwcm90ZWN0ZWRcclxuXHQgKiovXHJcblx0cC5fY2xvbmVQcm9wcyA9IGZ1bmN0aW9uKG8pIHtcclxuXHRcdG8uYWxwaGEgPSB0aGlzLmFscGhhO1xyXG5cdFx0by5tb3VzZUVuYWJsZWQgPSB0aGlzLm1vdXNlRW5hYmxlZDtcclxuXHRcdG8udGlja0VuYWJsZWQgPSB0aGlzLnRpY2tFbmFibGVkO1xyXG5cdFx0by5uYW1lID0gdGhpcy5uYW1lO1xyXG5cdFx0by5yZWdYID0gdGhpcy5yZWdYO1xyXG5cdFx0by5yZWdZID0gdGhpcy5yZWdZO1xyXG5cdFx0by5yb3RhdGlvbiA9IHRoaXMucm90YXRpb247XHJcblx0XHRvLnNjYWxlWCA9IHRoaXMuc2NhbGVYO1xyXG5cdFx0by5zY2FsZVkgPSB0aGlzLnNjYWxlWTtcclxuXHRcdG8uc2hhZG93ID0gdGhpcy5zaGFkb3c7XHJcblx0XHRvLnNrZXdYID0gdGhpcy5za2V3WDtcclxuXHRcdG8uc2tld1kgPSB0aGlzLnNrZXdZO1xyXG5cdFx0by52aXNpYmxlID0gdGhpcy52aXNpYmxlO1xyXG5cdFx0by54ICA9IHRoaXMueDtcclxuXHRcdG8ueSA9IHRoaXMueTtcclxuXHRcdG8uY29tcG9zaXRlT3BlcmF0aW9uID0gdGhpcy5jb21wb3NpdGVPcGVyYXRpb247XHJcblx0XHRvLnNuYXBUb1BpeGVsID0gdGhpcy5zbmFwVG9QaXhlbDtcclxuXHRcdG8uZmlsdGVycyA9IHRoaXMuZmlsdGVycz09bnVsbD9udWxsOnRoaXMuZmlsdGVycy5zbGljZSgwKTtcclxuXHRcdG8ubWFzayA9IHRoaXMubWFzaztcclxuXHRcdG8uaGl0QXJlYSA9IHRoaXMuaGl0QXJlYTtcclxuXHRcdG8uY3Vyc29yID0gdGhpcy5jdXJzb3I7XHJcblx0XHRvLl9ib3VuZHMgPSB0aGlzLl9ib3VuZHM7XHJcblx0XHRyZXR1cm4gbztcclxuXHR9O1xyXG5cclxuXHQvKipcclxuXHQgKiBAbWV0aG9kIF9hcHBseVNoYWRvd1xyXG5cdCAqIEBwcm90ZWN0ZWRcclxuXHQgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY3R4XHJcblx0ICogQHBhcmFtIHtTaGFkb3d9IHNoYWRvd1xyXG5cdCAqKi9cclxuXHRwLl9hcHBseVNoYWRvdyA9IGZ1bmN0aW9uKGN0eCwgc2hhZG93KSB7XHJcblx0XHRzaGFkb3cgPSBzaGFkb3cgfHwgU2hhZG93LmlkZW50aXR5O1xyXG5cdFx0Y3R4LnNoYWRvd0NvbG9yID0gc2hhZG93LmNvbG9yO1xyXG5cdFx0Y3R4LnNoYWRvd09mZnNldFggPSBzaGFkb3cub2Zmc2V0WDtcclxuXHRcdGN0eC5zaGFkb3dPZmZzZXRZID0gc2hhZG93Lm9mZnNldFk7XHJcblx0XHRjdHguc2hhZG93Qmx1ciA9IHNoYWRvdy5ibHVyO1xyXG5cdH07XHJcblxyXG5cdC8qKlxyXG5cdCAqIEBtZXRob2QgX3RpY2tcclxuXHQgKiBAcGFyYW0ge09iamVjdH0gZXZ0T2JqIEFuIGV2ZW50IG9iamVjdCB0aGF0IHdpbGwgYmUgZGlzcGF0Y2hlZCB0byBhbGwgdGljayBsaXN0ZW5lcnMuIFRoaXMgb2JqZWN0IGlzIHJldXNlZCBiZXR3ZWVuIGRpc3BhdGNoZXJzIHRvIHJlZHVjZSBjb25zdHJ1Y3Rpb24gJiBHQyBjb3N0cy5cclxuXHQgKiBAcHJvdGVjdGVkXHJcblx0ICoqL1xyXG5cdHAuX3RpY2sgPSBmdW5jdGlvbihldnRPYmopIHtcclxuXHRcdC8vIGJlY2F1c2UgdGljayBjYW4gYmUgcmVhbGx5IHBlcmZvcm1hbmNlIHNlbnNpdGl2ZSwgY2hlY2sgZm9yIGxpc3RlbmVycyBiZWZvcmUgY2FsbGluZyBkaXNwYXRjaEV2ZW50LlxyXG5cdFx0dmFyIGxzID0gdGhpcy5fbGlzdGVuZXJzO1xyXG5cdFx0aWYgKGxzICYmIGxzW1widGlja1wiXSkge1xyXG5cdFx0XHQvLyByZXNldCAmIHJldXNlIHRoZSBldmVudCBvYmplY3QgdG8gYXZvaWQgY29uc3RydWN0aW9uIC8gR0MgY29zdHM6XHJcblx0XHRcdGV2dE9iai50YXJnZXQgPSBudWxsO1xyXG5cdFx0XHRldnRPYmoucHJvcGFnYXRpb25TdG9wcGVkID0gZXZ0T2JqLmltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCA9IGZhbHNlO1xyXG5cdFx0XHR0aGlzLmRpc3BhdGNoRXZlbnQoZXZ0T2JqKTtcclxuXHRcdH1cclxuXHR9O1xyXG5cclxuXHQvKipcclxuXHQgKiBAbWV0aG9kIF90ZXN0SGl0XHJcblx0ICogQHByb3RlY3RlZFxyXG5cdCAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHhcclxuXHQgKiBAcmV0dXJuIHtCb29sZWFufVxyXG5cdCAqKi9cclxuXHRwLl90ZXN0SGl0ID0gZnVuY3Rpb24oY3R4KSB7XHJcblx0XHR0cnkge1xyXG5cdFx0XHR2YXIgaGl0ID0gY3R4LmdldEltYWdlRGF0YSgwLCAwLCAxLCAxKS5kYXRhWzNdID4gMTtcclxuXHRcdH0gY2F0Y2ggKGUpIHtcclxuXHRcdFx0aWYgKCFEaXNwbGF5T2JqZWN0LnN1cHByZXNzQ3Jvc3NEb21haW5FcnJvcnMpIHtcclxuXHRcdFx0XHR0aHJvdyBcIkFuIGVycm9yIGhhcyBvY2N1cnJlZC4gVGhpcyBpcyBtb3N0IGxpa2VseSBkdWUgdG8gc2VjdXJpdHkgcmVzdHJpY3Rpb25zIG9uIHJlYWRpbmcgY2FudmFzIHBpeGVsIGRhdGEgd2l0aCBsb2NhbCBvciBjcm9zcy1kb21haW4gaW1hZ2VzLlwiO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gaGl0O1xyXG5cdH07XHJcblxyXG5cdC8qKlxyXG5cdCAqIEBtZXRob2QgX2dldEJvdW5kc1xyXG5cdCAqIEBwYXJhbSB7TWF0cml4MkR9IG1hdHJpeFxyXG5cdCAqIEBwYXJhbSB7Qm9vbGVhbn0gaWdub3JlVHJhbnNmb3JtIElmIHRydWUsIGRvZXMgbm90IGFwcGx5IHRoaXMgb2JqZWN0J3MgdHJhbnNmb3JtLlxyXG5cdCAqIEByZXR1cm4ge1JlY3RhbmdsZX1cclxuXHQgKiBAcHJvdGVjdGVkXHJcblx0ICoqL1xyXG5cdHAuX2dldEJvdW5kcyA9IGZ1bmN0aW9uKG1hdHJpeCwgaWdub3JlVHJhbnNmb3JtKXtcclxuXHRcdHJldHVybiB0aGlzLl90cmFuc2Zvcm1Cb3VuZHModGhpcy5nZXRCb3VuZHMoKSwgbWF0cml4LCBpZ25vcmVUcmFuc2Zvcm0pO1xyXG5cdH07XHJcblxyXG5cdC8qKlxyXG5cdCAqIEBtZXRob2QgX3RyYW5zZm9ybUJvdW5kc1xyXG5cdCAqIEBwYXJhbSB7UmVjdGFuZ2xlfSBib3VuZHNcclxuXHQgKiBAcGFyYW0ge01hdHJpeDJEfSBtYXRyaXhcclxuXHQgKiBAcGFyYW0ge0Jvb2xlYW59IGlnbm9yZVRyYW5zZm9ybVxyXG5cdCAqIEByZXR1cm4ge1JlY3RhbmdsZX1cclxuXHQgKiBAcHJvdGVjdGVkXHJcblx0ICoqL1xyXG5cdHAuX3RyYW5zZm9ybUJvdW5kcyA9IGZ1bmN0aW9uKGJvdW5kcywgbWF0cml4LCBpZ25vcmVUcmFuc2Zvcm0pIHtcclxuXHRcdGlmICghYm91bmRzKSB7IHJldHVybiBib3VuZHM7IH1cclxuXHRcdHZhciB4ID0gYm91bmRzLngsIHkgPSBib3VuZHMueSwgd2lkdGggPSBib3VuZHMud2lkdGgsIGhlaWdodCA9IGJvdW5kcy5oZWlnaHQsIG10eCA9IHRoaXMuX3Byb3BzLm1hdHJpeDtcclxuXHRcdG10eCA9IGlnbm9yZVRyYW5zZm9ybSA/IG10eC5pZGVudGl0eSgpIDogdGhpcy5nZXRNYXRyaXgobXR4KTtcclxuXHRcdFxyXG5cdFx0aWYgKHggfHwgeSkgeyBtdHguYXBwZW5kVHJhbnNmb3JtKDAsMCwxLDEsMCwwLDAsLXgsLXkpOyB9IC8vIFRPRE86IHNpbXBsaWZ5IHRoaXMuXHJcblx0XHRpZiAobWF0cml4KSB7IG10eC5wcmVwZW5kTWF0cml4KG1hdHJpeCk7IH1cclxuXHRcdFxyXG5cdFx0dmFyIHhfYSA9IHdpZHRoKm10eC5hLCB4X2IgPSB3aWR0aCptdHguYjtcclxuXHRcdHZhciB5X2MgPSBoZWlnaHQqbXR4LmMsIHlfZCA9IGhlaWdodCptdHguZDtcclxuXHRcdHZhciB0eCA9IG10eC50eCwgdHkgPSBtdHgudHk7XHJcblx0XHRcclxuXHRcdHZhciBtaW5YID0gdHgsIG1heFggPSB0eCwgbWluWSA9IHR5LCBtYXhZID0gdHk7XHJcblxyXG5cdFx0aWYgKCh4ID0geF9hICsgdHgpIDwgbWluWCkgeyBtaW5YID0geDsgfSBlbHNlIGlmICh4ID4gbWF4WCkgeyBtYXhYID0geDsgfVxyXG5cdFx0aWYgKCh4ID0geF9hICsgeV9jICsgdHgpIDwgbWluWCkgeyBtaW5YID0geDsgfSBlbHNlIGlmICh4ID4gbWF4WCkgeyBtYXhYID0geDsgfVxyXG5cdFx0aWYgKCh4ID0geV9jICsgdHgpIDwgbWluWCkgeyBtaW5YID0geDsgfSBlbHNlIGlmICh4ID4gbWF4WCkgeyBtYXhYID0geDsgfVxyXG5cclxuXHRcdGlmICgoeSA9IHhfYiArIHR5KSA8IG1pblkpIHsgbWluWSA9IHk7IH0gZWxzZSBpZiAoeSA+IG1heFkpIHsgbWF4WSA9IHk7IH1cclxuXHRcdGlmICgoeSA9IHhfYiArIHlfZCArIHR5KSA8IG1pblkpIHsgbWluWSA9IHk7IH0gZWxzZSBpZiAoeSA+IG1heFkpIHsgbWF4WSA9IHk7IH1cclxuXHRcdGlmICgoeSA9IHlfZCArIHR5KSA8IG1pblkpIHsgbWluWSA9IHk7IH0gZWxzZSBpZiAoeSA+IG1heFkpIHsgbWF4WSA9IHk7IH1cclxuXHJcblx0XHRyZXR1cm4gYm91bmRzLnNldFZhbHVlcyhtaW5YLCBtaW5ZLCBtYXhYLW1pblgsIG1heFktbWluWSk7XHJcblx0fTtcclxuXHJcblx0LyoqXHJcblx0ICogSW5kaWNhdGVzIHdoZXRoZXIgdGhlIGRpc3BsYXkgb2JqZWN0IGhhcyBhbnkgbW91c2UgZXZlbnQgbGlzdGVuZXJzIG9yIGEgY3Vyc29yLlxyXG5cdCAqIEBtZXRob2QgX2lzTW91c2VPcGFxdWVcclxuXHQgKiBAcmV0dXJuIHtCb29sZWFufVxyXG5cdCAqIEBwcm90ZWN0ZWRcclxuXHQgKiovXHJcblx0cC5faGFzTW91c2VFdmVudExpc3RlbmVyID0gZnVuY3Rpb24oKSB7XHJcblx0XHR2YXIgZXZ0cyA9IERpc3BsYXlPYmplY3QuX01PVVNFX0VWRU5UUztcclxuXHRcdGZvciAodmFyIGk9IDAsIGw9ZXZ0cy5sZW5ndGg7IGk8bDsgaSsrKSB7XHJcblx0XHRcdGlmICh0aGlzLmhhc0V2ZW50TGlzdGVuZXIoZXZ0c1tpXSkpIHsgcmV0dXJuIHRydWU7IH1cclxuXHRcdH1cclxuXHRcdHJldHVybiAhIXRoaXMuY3Vyc29yO1xyXG5cdH07XHJcblxyXG5cdGNyZWF0ZWpzLkRpc3BsYXlPYmplY3QgPSBjcmVhdGVqcy5wcm9tb3RlKERpc3BsYXlPYmplY3QsIFwiRXZlbnREaXNwYXRjaGVyXCIpO1xyXG59KCkpO1xuXG4vLyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI1xuLy8gQ29udGFpbmVyLmpzXG4vLyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI1xuXG4oZnVuY3Rpb24oKSB7XHJcblx0XCJ1c2Ugc3RyaWN0XCI7XHJcblx0XHJcblxyXG4vLyBjb25zdHJ1Y3RvcjpcclxuLyoqXHJcbiAqIEEgQ29udGFpbmVyIGlzIGEgbmVzdGFibGUgZGlzcGxheSBsaXN0IHRoYXQgYWxsb3dzIHlvdSB0byB3b3JrIHdpdGggY29tcG91bmQgZGlzcGxheSBlbGVtZW50cy4gRm9yICBleGFtcGxlIHlvdSBjb3VsZFxyXG4gKiBncm91cCBhcm0sIGxlZywgdG9yc28gYW5kIGhlYWQge3sjY3Jvc3NMaW5rIFwiQml0bWFwXCJ9fXt7L2Nyb3NzTGlua319IGluc3RhbmNlcyB0b2dldGhlciBpbnRvIGEgUGVyc29uIENvbnRhaW5lciwgYW5kXHJcbiAqIHRyYW5zZm9ybSB0aGVtIGFzIGEgZ3JvdXAsIHdoaWxlIHN0aWxsIGJlaW5nIGFibGUgdG8gbW92ZSB0aGUgaW5kaXZpZHVhbCBwYXJ0cyByZWxhdGl2ZSB0byBlYWNoIG90aGVyLiBDaGlsZHJlbiBvZlxyXG4gKiBjb250YWluZXJzIGhhdmUgdGhlaXIgPGNvZGU+dHJhbnNmb3JtPC9jb2RlPiBhbmQgPGNvZGU+YWxwaGE8L2NvZGU+IHByb3BlcnRpZXMgY29uY2F0ZW5hdGVkIHdpdGggdGhlaXIgcGFyZW50XHJcbiAqIENvbnRhaW5lci5cclxuICpcclxuICogRm9yIGV4YW1wbGUsIGEge3sjY3Jvc3NMaW5rIFwiU2hhcGVcIn19e3svY3Jvc3NMaW5rfX0gd2l0aCB4PTEwMCBhbmQgYWxwaGE9MC41LCBwbGFjZWQgaW4gYSBDb250YWluZXIgd2l0aCA8Y29kZT54PTUwPC9jb2RlPlxyXG4gKiBhbmQgPGNvZGU+YWxwaGE9MC43PC9jb2RlPiB3aWxsIGJlIHJlbmRlcmVkIHRvIHRoZSBjYW52YXMgYXQgPGNvZGU+eD0xNTA8L2NvZGU+IGFuZCA8Y29kZT5hbHBoYT0wLjM1PC9jb2RlPi5cclxuICogQ29udGFpbmVycyBoYXZlIHNvbWUgb3ZlcmhlYWQsIHNvIHlvdSBnZW5lcmFsbHkgc2hvdWxkbid0IGNyZWF0ZSBhIENvbnRhaW5lciB0byBob2xkIGEgc2luZ2xlIGNoaWxkLlxyXG4gKlxyXG4gKiA8aDQ+RXhhbXBsZTwvaDQ+XHJcbiAqXHJcbiAqICAgICAgdmFyIGNvbnRhaW5lciA9IG5ldyBjcmVhdGVqcy5Db250YWluZXIoKTtcclxuICogICAgICBjb250YWluZXIuYWRkQ2hpbGQoYml0bWFwSW5zdGFuY2UsIHNoYXBlSW5zdGFuY2UpO1xyXG4gKiAgICAgIGNvbnRhaW5lci54ID0gMTAwO1xyXG4gKlxyXG4gKiBAY2xhc3MgQ29udGFpbmVyXHJcbiAqIEBleHRlbmRzIERpc3BsYXlPYmplY3RcclxuICogQGNvbnN0cnVjdG9yXHJcbiAqKi9cclxuXHRmdW5jdGlvbiBDb250YWluZXIoKSB7XHJcblx0XHR0aGlzLkRpc3BsYXlPYmplY3RfY29uc3RydWN0b3IoKTtcclxuXHRcdFxyXG5cdC8vIHB1YmxpYyBwcm9wZXJ0aWVzOlxyXG5cdFx0LyoqXHJcblx0XHQgKiBUaGUgYXJyYXkgb2YgY2hpbGRyZW4gaW4gdGhlIGRpc3BsYXkgbGlzdC4gWW91IHNob3VsZCB1c3VhbGx5IHVzZSB0aGUgY2hpbGQgbWFuYWdlbWVudCBtZXRob2RzIHN1Y2ggYXNcclxuXHRcdCAqIHt7I2Nyb3NzTGluayBcIkNvbnRhaW5lci9hZGRDaGlsZFwifX17ey9jcm9zc0xpbmt9fSwge3sjY3Jvc3NMaW5rIFwiQ29udGFpbmVyL3JlbW92ZUNoaWxkXCJ9fXt7L2Nyb3NzTGlua319LFxyXG5cdFx0ICoge3sjY3Jvc3NMaW5rIFwiQ29udGFpbmVyL3N3YXBDaGlsZHJlblwifX17ey9jcm9zc0xpbmt9fSwgZXRjLCByYXRoZXIgdGhhbiBhY2Nlc3NpbmcgdGhpcyBkaXJlY3RseSwgYnV0IGl0IGlzXHJcblx0XHQgKiBpbmNsdWRlZCBmb3IgYWR2YW5jZWQgdXNlcy5cclxuXHRcdCAqIEBwcm9wZXJ0eSBjaGlsZHJlblxyXG5cdFx0ICogQHR5cGUgQXJyYXlcclxuXHRcdCAqIEBkZWZhdWx0IG51bGxcclxuXHRcdCAqKi9cclxuXHRcdHRoaXMuY2hpbGRyZW4gPSBbXTtcclxuXHRcdFxyXG5cdFx0LyoqXHJcblx0XHQgKiBJbmRpY2F0ZXMgd2hldGhlciB0aGUgY2hpbGRyZW4gb2YgdGhpcyBjb250YWluZXIgYXJlIGluZGVwZW5kZW50bHkgZW5hYmxlZCBmb3IgbW91c2UvcG9pbnRlciBpbnRlcmFjdGlvbi5cclxuXHRcdCAqIElmIGZhbHNlLCB0aGUgY2hpbGRyZW4gd2lsbCBiZSBhZ2dyZWdhdGVkIHVuZGVyIHRoZSBjb250YWluZXIgLSBmb3IgZXhhbXBsZSwgYSBjbGljayBvbiBhIGNoaWxkIHNoYXBlIHdvdWxkXHJcblx0XHQgKiB0cmlnZ2VyIGEgY2xpY2sgZXZlbnQgb24gdGhlIGNvbnRhaW5lci5cclxuXHRcdCAqIEBwcm9wZXJ0eSBtb3VzZUNoaWxkcmVuXHJcblx0XHQgKiBAdHlwZSBCb29sZWFuXHJcblx0XHQgKiBAZGVmYXVsdCB0cnVlXHJcblx0XHQgKiovXHJcblx0XHR0aGlzLm1vdXNlQ2hpbGRyZW4gPSB0cnVlO1xyXG5cdFx0XHJcblx0XHQvKipcclxuXHRcdCAqIElmIGZhbHNlLCB0aGUgdGljayB3aWxsIG5vdCBiZSBwcm9wYWdhdGVkIHRvIGNoaWxkcmVuIG9mIHRoaXMgQ29udGFpbmVyLiBUaGlzIGNhbiBwcm92aWRlIHNvbWUgcGVyZm9ybWFuY2UgYmVuZWZpdHMuXHJcblx0XHQgKiBJbiBhZGRpdGlvbiB0byBwcmV2ZW50aW5nIHRoZSBcInRpY2tcIiBldmVudCBmcm9tIGJlaW5nIGRpc3BhdGNoZWQsIGl0IHdpbGwgYWxzbyBwcmV2ZW50IHRpY2sgcmVsYXRlZCB1cGRhdGVzXHJcblx0XHQgKiBvbiBzb21lIGRpc3BsYXkgb2JqZWN0cyAoZXguIFNwcml0ZSAmIE1vdmllQ2xpcCBmcmFtZSBhZHZhbmNpbmcsIERPTUVsZW1lbnQgdmlzaWJpbGl0eSBoYW5kbGluZykuXHJcblx0XHQgKiBAcHJvcGVydHkgdGlja0NoaWxkcmVuXHJcblx0XHQgKiBAdHlwZSBCb29sZWFuXHJcblx0XHQgKiBAZGVmYXVsdCB0cnVlXHJcblx0XHQgKiovXHJcblx0XHR0aGlzLnRpY2tDaGlsZHJlbiA9IHRydWU7XHJcblx0fVxyXG5cdHZhciBwID0gY3JlYXRlanMuZXh0ZW5kKENvbnRhaW5lciwgY3JlYXRlanMuRGlzcGxheU9iamVjdCk7XHJcblx0XHJcblx0XHJcbi8vIGdldHRlciAvIHNldHRlcnM6XHJcblx0LyoqXHJcblx0ICogVXNlIHRoZSB7eyNjcm9zc0xpbmsgXCJDb250YWluZXIvbnVtQ2hpbGRyZW46cHJvcGVydHlcIn19e3svY3Jvc3NMaW5rfX0gcHJvcGVydHkgaW5zdGVhZC5cclxuXHQgKiBAbWV0aG9kIF9nZXROdW1DaGlsZHJlblxyXG5cdCAqIEBwcm90ZWN0ZWRcclxuXHQgKiBAcmV0dXJuIHtOdW1iZXJ9XHJcblx0ICoqL1xyXG5cdHAuX2dldE51bUNoaWxkcmVuID0gZnVuY3Rpb24oKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5jaGlsZHJlbi5sZW5ndGg7XHJcblx0fTtcclxuXHQvLyBDb250YWluZXIuZ2V0TnVtQ2hpbGRyZW4gaXMgQGRlcHJlY2F0ZWQuIFJlbW92ZSBmb3IgMS4xK1xyXG5cdHAuZ2V0TnVtQ2hpbGRyZW4gPSBjcmVhdGVqcy5kZXByZWNhdGUocC5fZ2V0TnVtQ2hpbGRyZW4sIFwiQ29udGFpbmVyLmdldE51bUNoaWxkcmVuXCIpO1xyXG5cclxuXHQvKipcclxuXHQgKiBSZXR1cm5zIHRoZSBudW1iZXIgb2YgY2hpbGRyZW4gaW4gdGhlIGNvbnRhaW5lci5cclxuXHQgKiBAcHJvcGVydHkgbnVtQ2hpbGRyZW5cclxuXHQgKiBAdHlwZSB7TnVtYmVyfVxyXG5cdCAqIEByZWFkb25seVxyXG5cdCAqKi9cclxuXHR0cnkge1xyXG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnRpZXMocCwge1xyXG5cdFx0XHRudW1DaGlsZHJlbjogeyBnZXQ6IHAuX2dldE51bUNoaWxkcmVuIH1cclxuXHRcdH0pO1xyXG5cdH0gY2F0Y2ggKGUpIHt9XHJcblx0XHJcblxyXG4vLyBwdWJsaWMgbWV0aG9kczpcclxuXHQvKipcclxuXHQgKiBDb25zdHJ1Y3RvciBhbGlhcyBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHkuIFRoaXMgbWV0aG9kIHdpbGwgYmUgcmVtb3ZlZCBpbiBmdXR1cmUgdmVyc2lvbnMuXHJcblx0ICogU3ViY2xhc3NlcyBzaG91bGQgYmUgdXBkYXRlZCB0byB1c2Uge3sjY3Jvc3NMaW5rIFwiVXRpbGl0eSBNZXRob2RzL2V4dGVuZHNcIn19e3svY3Jvc3NMaW5rfX0uXHJcblx0ICogQG1ldGhvZCBpbml0aWFsaXplXHJcblx0ICogQGRlcHJlY2F0ZWQgaW4gZmF2b3VyIG9mIGBjcmVhdGVqcy5wcm9tb3RlKClgXHJcblx0ICoqL1xyXG5cdHAuaW5pdGlhbGl6ZSA9IENvbnRhaW5lcjsgLy8gVE9ETzogZGVwcmVjYXRlZC5cclxuXHRcclxuXHQvKipcclxuXHQgKiBSZXR1cm5zIHRydWUgb3IgZmFsc2UgaW5kaWNhdGluZyB3aGV0aGVyIHRoZSBkaXNwbGF5IG9iamVjdCB3b3VsZCBiZSB2aXNpYmxlIGlmIGRyYXduIHRvIGEgY2FudmFzLlxyXG5cdCAqIFRoaXMgZG9lcyBub3QgYWNjb3VudCBmb3Igd2hldGhlciBpdCB3b3VsZCBiZSB2aXNpYmxlIHdpdGhpbiB0aGUgYm91bmRhcmllcyBvZiB0aGUgc3RhZ2UuXHJcblx0ICpcclxuXHQgKiBOT1RFOiBUaGlzIG1ldGhvZCBpcyBtYWlubHkgZm9yIGludGVybmFsIHVzZSwgdGhvdWdoIGl0IG1heSBiZSB1c2VmdWwgZm9yIGFkdmFuY2VkIHVzZXMuXHJcblx0ICogQG1ldGhvZCBpc1Zpc2libGVcclxuXHQgKiBAcmV0dXJuIHtCb29sZWFufSBCb29sZWFuIGluZGljYXRpbmcgd2hldGhlciB0aGUgZGlzcGxheSBvYmplY3Qgd291bGQgYmUgdmlzaWJsZSBpZiBkcmF3biB0byBhIGNhbnZhc1xyXG5cdCAqKi9cclxuXHRwLmlzVmlzaWJsZSA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0dmFyIGhhc0NvbnRlbnQgPSB0aGlzLmNhY2hlQ2FudmFzIHx8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoO1xyXG5cdFx0cmV0dXJuICEhKHRoaXMudmlzaWJsZSAmJiB0aGlzLmFscGhhID4gMCAmJiB0aGlzLnNjYWxlWCAhPSAwICYmIHRoaXMuc2NhbGVZICE9IDAgJiYgaGFzQ29udGVudCk7XHJcblx0fTtcclxuXHJcblx0LyoqXHJcblx0ICogRHJhd3MgdGhlIGRpc3BsYXkgb2JqZWN0IGludG8gdGhlIHNwZWNpZmllZCBjb250ZXh0IGlnbm9yaW5nIGl0cyB2aXNpYmxlLCBhbHBoYSwgc2hhZG93LCBhbmQgdHJhbnNmb3JtLlxyXG5cdCAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZHJhdyB3YXMgaGFuZGxlZCAodXNlZnVsIGZvciBvdmVycmlkaW5nIGZ1bmN0aW9uYWxpdHkpLlxyXG5cdCAqXHJcblx0ICogTk9URTogVGhpcyBtZXRob2QgaXMgbWFpbmx5IGZvciBpbnRlcm5hbCB1c2UsIHRob3VnaCBpdCBtYXkgYmUgdXNlZnVsIGZvciBhZHZhbmNlZCB1c2VzLlxyXG5cdCAqIEBtZXRob2QgZHJhd1xyXG5cdCAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggVGhlIGNhbnZhcyAyRCBjb250ZXh0IG9iamVjdCB0byBkcmF3IGludG8uXHJcblx0ICogQHBhcmFtIHtCb29sZWFufSBbaWdub3JlQ2FjaGU9ZmFsc2VdIEluZGljYXRlcyB3aGV0aGVyIHRoZSBkcmF3IG9wZXJhdGlvbiBzaG91bGQgaWdub3JlIGFueSBjdXJyZW50IGNhY2hlLlxyXG5cdCAqIEZvciBleGFtcGxlLCB1c2VkIGZvciBkcmF3aW5nIHRoZSBjYWNoZSAodG8gcHJldmVudCBpdCBmcm9tIHNpbXBseSBkcmF3aW5nIGFuIGV4aXN0aW5nIGNhY2hlIGJhY2tcclxuXHQgKiBpbnRvIGl0c2VsZikuXHJcblx0ICoqL1xyXG5cdHAuZHJhdyA9IGZ1bmN0aW9uKGN0eCwgaWdub3JlQ2FjaGUpIHtcclxuXHRcdGlmICh0aGlzLkRpc3BsYXlPYmplY3RfZHJhdyhjdHgsIGlnbm9yZUNhY2hlKSkgeyByZXR1cm4gdHJ1ZTsgfVxyXG5cdFx0XHJcblx0XHQvLyB0aGlzIGVuc3VyZXMgd2UgZG9uJ3QgaGF2ZSBpc3N1ZXMgd2l0aCBkaXNwbGF5IGxpc3QgY2hhbmdlcyB0aGF0IG9jY3VyIGR1cmluZyBhIGRyYXc6XHJcblx0XHR2YXIgbGlzdCA9IHRoaXMuY2hpbGRyZW4uc2xpY2UoKTtcclxuXHRcdGZvciAodmFyIGk9MCxsPWxpc3QubGVuZ3RoOyBpPGw7IGkrKykge1xyXG5cdFx0XHR2YXIgY2hpbGQgPSBsaXN0W2ldO1xyXG5cdFx0XHRpZiAoIWNoaWxkLmlzVmlzaWJsZSgpKSB7IGNvbnRpbnVlOyB9XHJcblx0XHRcdFxyXG5cdFx0XHQvLyBkcmF3IHRoZSBjaGlsZDpcclxuXHRcdFx0Y3R4LnNhdmUoKTtcclxuXHRcdFx0Y2hpbGQudXBkYXRlQ29udGV4dChjdHgpO1xyXG5cdFx0XHRjaGlsZC5kcmF3KGN0eCk7XHJcblx0XHRcdGN0eC5yZXN0b3JlKCk7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gdHJ1ZTtcclxuXHR9O1xyXG5cdFxyXG5cdC8qKlxyXG5cdCAqIEFkZHMgYSBjaGlsZCB0byB0aGUgdG9wIG9mIHRoZSBkaXNwbGF5IGxpc3QuXHJcblx0ICpcclxuXHQgKiA8aDQ+RXhhbXBsZTwvaDQ+XHJcblx0ICpcclxuXHQgKiBcdFx0Y29udGFpbmVyLmFkZENoaWxkKGJpdG1hcEluc3RhbmNlKTtcclxuXHQgKlxyXG5cdCAqIFlvdSBjYW4gYWxzbyBhZGQgbXVsdGlwbGUgY2hpbGRyZW4gYXQgb25jZTpcclxuXHQgKlxyXG5cdCAqIFx0XHRjb250YWluZXIuYWRkQ2hpbGQoYml0bWFwSW5zdGFuY2UsIHNoYXBlSW5zdGFuY2UsIHRleHRJbnN0YW5jZSk7XHJcblx0ICpcclxuXHQgKiBAbWV0aG9kIGFkZENoaWxkXHJcblx0ICogQHBhcmFtIHtEaXNwbGF5T2JqZWN0fSBjaGlsZCBUaGUgZGlzcGxheSBvYmplY3QgdG8gYWRkLlxyXG5cdCAqIEByZXR1cm4ge0Rpc3BsYXlPYmplY3R9IFRoZSBjaGlsZCB0aGF0IHdhcyBhZGRlZCwgb3IgdGhlIGxhc3QgY2hpbGQgaWYgbXVsdGlwbGUgY2hpbGRyZW4gd2VyZSBhZGRlZC5cclxuXHQgKiovXHJcblx0cC5hZGRDaGlsZCA9IGZ1bmN0aW9uKGNoaWxkKSB7XHJcblx0XHRpZiAoY2hpbGQgPT0gbnVsbCkgeyByZXR1cm4gY2hpbGQ7IH1cclxuXHRcdHZhciBsID0gYXJndW1lbnRzLmxlbmd0aDtcclxuXHRcdGlmIChsID4gMSkge1xyXG5cdFx0XHRmb3IgKHZhciBpPTA7IGk8bDsgaSsrKSB7IHRoaXMuYWRkQ2hpbGQoYXJndW1lbnRzW2ldKTsgfVxyXG5cdFx0XHRyZXR1cm4gYXJndW1lbnRzW2wtMV07XHJcblx0XHR9XHJcblx0XHQvLyBOb3RlOiBhIGxvdCBvZiBkdXBsaWNhdGlvbiB3aXRoIGFkZENoaWxkQXQsIGJ1dCBwdXNoIGlzIFdBWSBmYXN0ZXIgdGhhbiBzcGxpY2UuXHJcblx0XHR2YXIgcGFyPWNoaWxkLnBhcmVudCwgc2lsZW50ID0gcGFyID09PSB0aGlzO1xyXG5cdFx0cGFyJiZwYXIuX3JlbW92ZUNoaWxkQXQoY3JlYXRlanMuaW5kZXhPZihwYXIuY2hpbGRyZW4sIGNoaWxkKSwgc2lsZW50KTtcclxuXHRcdGNoaWxkLnBhcmVudCA9IHRoaXM7XHJcblx0XHR0aGlzLmNoaWxkcmVuLnB1c2goY2hpbGQpO1xyXG5cdFx0aWYgKCFzaWxlbnQpIHsgY2hpbGQuZGlzcGF0Y2hFdmVudChcImFkZGVkXCIpOyB9XHJcblx0XHRyZXR1cm4gY2hpbGQ7XHJcblx0fTtcclxuXHJcblx0LyoqXHJcblx0ICogQWRkcyBhIGNoaWxkIHRvIHRoZSBkaXNwbGF5IGxpc3QgYXQgdGhlIHNwZWNpZmllZCBpbmRleCwgYnVtcGluZyBjaGlsZHJlbiBhdCBlcXVhbCBvciBncmVhdGVyIGluZGV4ZXMgdXAgb25lLCBhbmRcclxuXHQgKiBzZXR0aW5nIGl0cyBwYXJlbnQgdG8gdGhpcyBDb250YWluZXIuXHJcblx0ICpcclxuXHQgKiA8aDQ+RXhhbXBsZTwvaDQ+XHJcblx0ICpcclxuXHQgKiAgICAgIGFkZENoaWxkQXQoY2hpbGQxLCBpbmRleCk7XHJcblx0ICpcclxuXHQgKiBZb3UgY2FuIGFsc28gYWRkIG11bHRpcGxlIGNoaWxkcmVuLCBzdWNoIGFzOlxyXG5cdCAqXHJcblx0ICogICAgICBhZGRDaGlsZEF0KGNoaWxkMSwgY2hpbGQyLCAuLi4sIGluZGV4KTtcclxuXHQgKlxyXG5cdCAqIFRoZSBpbmRleCBtdXN0IGJlIGJldHdlZW4gMCBhbmQgbnVtQ2hpbGRyZW4uIEZvciBleGFtcGxlLCB0byBhZGQgbXlTaGFwZSB1bmRlciBvdGhlclNoYXBlIGluIHRoZSBkaXNwbGF5IGxpc3QsXHJcblx0ICogeW91IGNvdWxkIHVzZTpcclxuXHQgKlxyXG5cdCAqICAgICAgY29udGFpbmVyLmFkZENoaWxkQXQobXlTaGFwZSwgY29udGFpbmVyLmdldENoaWxkSW5kZXgob3RoZXJTaGFwZSkpO1xyXG5cdCAqXHJcblx0ICogVGhpcyB3b3VsZCBhbHNvIGJ1bXAgb3RoZXJTaGFwZSdzIGluZGV4IHVwIGJ5IG9uZS4gRmFpbHMgc2lsZW50bHkgaWYgdGhlIGluZGV4IGlzIG91dCBvZiByYW5nZS5cclxuXHQgKlxyXG5cdCAqIEBtZXRob2QgYWRkQ2hpbGRBdFxyXG5cdCAqIEBwYXJhbSB7RGlzcGxheU9iamVjdH0gY2hpbGQgVGhlIGRpc3BsYXkgb2JqZWN0IHRvIGFkZC5cclxuXHQgKiBAcGFyYW0ge051bWJlcn0gaW5kZXggVGhlIGluZGV4IHRvIGFkZCB0aGUgY2hpbGQgYXQuXHJcblx0ICogQHJldHVybiB7RGlzcGxheU9iamVjdH0gUmV0dXJucyB0aGUgbGFzdCBjaGlsZCB0aGF0IHdhcyBhZGRlZCwgb3IgdGhlIGxhc3QgY2hpbGQgaWYgbXVsdGlwbGUgY2hpbGRyZW4gd2VyZSBhZGRlZC5cclxuXHQgKiovXHJcblx0cC5hZGRDaGlsZEF0ID0gZnVuY3Rpb24oY2hpbGQsIGluZGV4KSB7XHJcblx0XHR2YXIgbCA9IGFyZ3VtZW50cy5sZW5ndGg7XHJcblx0XHR2YXIgaW5keCA9IGFyZ3VtZW50c1tsLTFdOyAvLyBjYW4ndCB1c2UgdGhlIHNhbWUgbmFtZSBhcyB0aGUgaW5kZXggcGFyYW0gb3IgaXQgcmVwbGFjZXMgYXJndW1lbnRzWzFdXHJcblx0XHRpZiAoaW5keCA8IDAgfHwgaW5keCA+IHRoaXMuY2hpbGRyZW4ubGVuZ3RoKSB7IHJldHVybiBhcmd1bWVudHNbbC0yXTsgfVxyXG5cdFx0aWYgKGwgPiAyKSB7XHJcblx0XHRcdGZvciAodmFyIGk9MDsgaTxsLTE7IGkrKykgeyB0aGlzLmFkZENoaWxkQXQoYXJndW1lbnRzW2ldLCBpbmR4K2kpOyB9XHJcblx0XHRcdHJldHVybiBhcmd1bWVudHNbbC0yXTtcclxuXHRcdH1cclxuXHRcdHZhciBwYXI9Y2hpbGQucGFyZW50LCBzaWxlbnQgPSBwYXIgPT09IHRoaXM7XHJcblx0XHRwYXImJnBhci5fcmVtb3ZlQ2hpbGRBdChjcmVhdGVqcy5pbmRleE9mKHBhci5jaGlsZHJlbiwgY2hpbGQpLCBzaWxlbnQpO1xyXG5cdFx0Y2hpbGQucGFyZW50ID0gdGhpcztcclxuXHRcdHRoaXMuY2hpbGRyZW4uc3BsaWNlKGluZGV4LCAwLCBjaGlsZCk7XHJcblx0XHRpZiAoIXNpbGVudCkgeyBjaGlsZC5kaXNwYXRjaEV2ZW50KFwiYWRkZWRcIik7IH1cclxuXHRcdHJldHVybiBjaGlsZDtcclxuXHR9O1xyXG5cclxuXHQvKipcclxuXHQgKiBSZW1vdmVzIHRoZSBzcGVjaWZpZWQgY2hpbGQgZnJvbSB0aGUgZGlzcGxheSBsaXN0LiBOb3RlIHRoYXQgaXQgaXMgZmFzdGVyIHRvIHVzZSByZW1vdmVDaGlsZEF0KCkgaWYgdGhlIGluZGV4IGlzXHJcblx0ICogYWxyZWFkeSBrbm93bi5cclxuXHQgKlxyXG5cdCAqIDxoND5FeGFtcGxlPC9oND5cclxuXHQgKlxyXG5cdCAqICAgICAgY29udGFpbmVyLnJlbW92ZUNoaWxkKGNoaWxkKTtcclxuXHQgKlxyXG5cdCAqIFlvdSBjYW4gYWxzbyByZW1vdmUgbXVsdGlwbGUgY2hpbGRyZW46XHJcblx0ICpcclxuXHQgKiAgICAgIHJlbW92ZUNoaWxkKGNoaWxkMSwgY2hpbGQyLCAuLi4pO1xyXG5cdCAqXHJcblx0ICogUmV0dXJucyB0cnVlIGlmIHRoZSBjaGlsZCAob3IgY2hpbGRyZW4pIHdhcyByZW1vdmVkLCBvciBmYWxzZSBpZiBpdCB3YXMgbm90IGluIHRoZSBkaXNwbGF5IGxpc3QuXHJcblx0ICogQG1ldGhvZCByZW1vdmVDaGlsZFxyXG5cdCAqIEBwYXJhbSB7RGlzcGxheU9iamVjdH0gY2hpbGQgVGhlIGNoaWxkIHRvIHJlbW92ZS5cclxuXHQgKiBAcmV0dXJuIHtCb29sZWFufSB0cnVlIGlmIHRoZSBjaGlsZCAob3IgY2hpbGRyZW4pIHdhcyByZW1vdmVkLCBvciBmYWxzZSBpZiBpdCB3YXMgbm90IGluIHRoZSBkaXNwbGF5IGxpc3QuXHJcblx0ICoqL1xyXG5cdHAucmVtb3ZlQ2hpbGQgPSBmdW5jdGlvbihjaGlsZCkge1xyXG5cdFx0dmFyIGwgPSBhcmd1bWVudHMubGVuZ3RoO1xyXG5cdFx0aWYgKGwgPiAxKSB7XHJcblx0XHRcdHZhciBnb29kID0gdHJ1ZTtcclxuXHRcdFx0Zm9yICh2YXIgaT0wOyBpPGw7IGkrKykgeyBnb29kID0gZ29vZCAmJiB0aGlzLnJlbW92ZUNoaWxkKGFyZ3VtZW50c1tpXSk7IH1cclxuXHRcdFx0cmV0dXJuIGdvb2Q7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gdGhpcy5fcmVtb3ZlQ2hpbGRBdChjcmVhdGVqcy5pbmRleE9mKHRoaXMuY2hpbGRyZW4sIGNoaWxkKSk7XHJcblx0fTtcclxuXHJcblx0LyoqXHJcblx0ICogUmVtb3ZlcyB0aGUgY2hpbGQgYXQgdGhlIHNwZWNpZmllZCBpbmRleCBmcm9tIHRoZSBkaXNwbGF5IGxpc3QsIGFuZCBzZXRzIGl0cyBwYXJlbnQgdG8gbnVsbC5cclxuXHQgKlxyXG5cdCAqIDxoND5FeGFtcGxlPC9oND5cclxuXHQgKlxyXG5cdCAqICAgICAgY29udGFpbmVyLnJlbW92ZUNoaWxkQXQoMik7XHJcblx0ICpcclxuXHQgKiBZb3UgY2FuIGFsc28gcmVtb3ZlIG11bHRpcGxlIGNoaWxkcmVuOlxyXG5cdCAqXHJcblx0ICogICAgICBjb250YWluZXIucmVtb3ZlQ2hpbGQoMiwgNywgLi4uKVxyXG5cdCAqXHJcblx0ICogUmV0dXJucyB0cnVlIGlmIHRoZSBjaGlsZCAob3IgY2hpbGRyZW4pIHdhcyByZW1vdmVkLCBvciBmYWxzZSBpZiBhbnkgaW5kZXggd2FzIG91dCBvZiByYW5nZS5cclxuXHQgKiBAbWV0aG9kIHJlbW92ZUNoaWxkQXRcclxuXHQgKiBAcGFyYW0ge051bWJlcn0gaW5kZXggVGhlIGluZGV4IG9mIHRoZSBjaGlsZCB0byByZW1vdmUuXHJcblx0ICogQHJldHVybiB7Qm9vbGVhbn0gdHJ1ZSBpZiB0aGUgY2hpbGQgKG9yIGNoaWxkcmVuKSB3YXMgcmVtb3ZlZCwgb3IgZmFsc2UgaWYgYW55IGluZGV4IHdhcyBvdXQgb2YgcmFuZ2UuXHJcblx0ICoqL1xyXG5cdHAucmVtb3ZlQ2hpbGRBdCA9IGZ1bmN0aW9uKGluZGV4KSB7XHJcblx0XHR2YXIgbCA9IGFyZ3VtZW50cy5sZW5ndGg7XHJcblx0XHRpZiAobCA+IDEpIHtcclxuXHRcdFx0dmFyIGEgPSBbXTtcclxuXHRcdFx0Zm9yICh2YXIgaT0wOyBpPGw7IGkrKykgeyBhW2ldID0gYXJndW1lbnRzW2ldOyB9XHJcblx0XHRcdGEuc29ydChmdW5jdGlvbihhLCBiKSB7IHJldHVybiBiLWE7IH0pO1xyXG5cdFx0XHR2YXIgZ29vZCA9IHRydWU7XHJcblx0XHRcdGZvciAodmFyIGk9MDsgaTxsOyBpKyspIHsgZ29vZCA9IGdvb2QgJiYgdGhpcy5fcmVtb3ZlQ2hpbGRBdChhW2ldKTsgfVxyXG5cdFx0XHRyZXR1cm4gZ29vZDtcclxuXHRcdH1cclxuXHRcdHJldHVybiB0aGlzLl9yZW1vdmVDaGlsZEF0KGluZGV4KTtcclxuXHR9O1xyXG5cclxuXHQvKipcclxuXHQgKiBSZW1vdmVzIGFsbCBjaGlsZHJlbiBmcm9tIHRoZSBkaXNwbGF5IGxpc3QuXHJcblx0ICpcclxuXHQgKiA8aDQ+RXhhbXBsZTwvaDQ+XHJcblx0ICpcclxuXHQgKiBcdGNvbnRhaW5lci5yZW1vdmVBbGxDaGlsZHJlbigpO1xyXG5cdCAqXHJcblx0ICogQG1ldGhvZCByZW1vdmVBbGxDaGlsZHJlblxyXG5cdCAqKi9cclxuXHRwLnJlbW92ZUFsbENoaWxkcmVuID0gZnVuY3Rpb24oKSB7XHJcblx0XHR2YXIga2lkcyA9IHRoaXMuY2hpbGRyZW47XHJcblx0XHR3aGlsZSAoa2lkcy5sZW5ndGgpIHsgdGhpcy5fcmVtb3ZlQ2hpbGRBdCgwKTsgfVxyXG5cdH07XHJcblxyXG5cdC8qKlxyXG5cdCAqIFJldHVybnMgdGhlIGNoaWxkIGF0IHRoZSBzcGVjaWZpZWQgaW5kZXguXHJcblx0ICpcclxuXHQgKiA8aDQ+RXhhbXBsZTwvaDQ+XHJcblx0ICpcclxuXHQgKiAgICAgIGNvbnRhaW5lci5nZXRDaGlsZEF0KDIpO1xyXG5cdCAqXHJcblx0ICogQG1ldGhvZCBnZXRDaGlsZEF0XHJcblx0ICogQHBhcmFtIHtOdW1iZXJ9IGluZGV4IFRoZSBpbmRleCBvZiB0aGUgY2hpbGQgdG8gcmV0dXJuLlxyXG5cdCAqIEByZXR1cm4ge0Rpc3BsYXlPYmplY3R9IFRoZSBjaGlsZCBhdCB0aGUgc3BlY2lmaWVkIGluZGV4LiBSZXR1cm5zIG51bGwgaWYgdGhlcmUgaXMgbm8gY2hpbGQgYXQgdGhlIGluZGV4LlxyXG5cdCAqKi9cclxuXHRwLmdldENoaWxkQXQgPSBmdW5jdGlvbihpbmRleCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuY2hpbGRyZW5baW5kZXhdO1xyXG5cdH07XHJcblx0XHJcblx0LyoqXHJcblx0ICogUmV0dXJucyB0aGUgY2hpbGQgd2l0aCB0aGUgc3BlY2lmaWVkIG5hbWUuXHJcblx0ICogQG1ldGhvZCBnZXRDaGlsZEJ5TmFtZVxyXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIFRoZSBuYW1lIG9mIHRoZSBjaGlsZCB0byByZXR1cm4uXHJcblx0ICogQHJldHVybiB7RGlzcGxheU9iamVjdH0gVGhlIGNoaWxkIHdpdGggdGhlIHNwZWNpZmllZCBuYW1lLlxyXG5cdCAqKi9cclxuXHRwLmdldENoaWxkQnlOYW1lID0gZnVuY3Rpb24obmFtZSkge1xyXG5cdFx0dmFyIGtpZHMgPSB0aGlzLmNoaWxkcmVuO1xyXG5cdFx0Zm9yICh2YXIgaT0wLGw9a2lkcy5sZW5ndGg7aTxsO2krKykge1xyXG5cdFx0XHRpZihraWRzW2ldLm5hbWUgPT0gbmFtZSkgeyByZXR1cm4ga2lkc1tpXTsgfVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIG51bGw7XHJcblx0fTtcclxuXHJcblx0LyoqXHJcblx0ICogUGVyZm9ybXMgYW4gYXJyYXkgc29ydCBvcGVyYXRpb24gb24gdGhlIGNoaWxkIGxpc3QuXHJcblx0ICpcclxuXHQgKiA8aDQ+RXhhbXBsZTogRGlzcGxheSBjaGlsZHJlbiB3aXRoIGEgaGlnaGVyIHkgaW4gZnJvbnQuPC9oND5cclxuXHQgKiBcclxuXHQgKiAgICAgIHZhciBzb3J0RnVuY3Rpb24gPSBmdW5jdGlvbihvYmoxLCBvYmoyLCBvcHRpb25zKSB7XHJcblx0ICogICAgICAgICAgaWYgKG9iajEueSA+IG9iajIueSkgeyByZXR1cm4gMTsgfVxyXG5cdCAqICAgICAgICAgIGlmIChvYmoxLnkgPCBvYmoyLnkpIHsgcmV0dXJuIC0xOyB9XHJcblx0ICogICAgICAgICAgcmV0dXJuIDA7XHJcblx0ICogICAgICB9XHJcblx0ICogICAgICBjb250YWluZXIuc29ydENoaWxkcmVuKHNvcnRGdW5jdGlvbik7XHJcblx0ICpcclxuXHQgKiBAbWV0aG9kIHNvcnRDaGlsZHJlblxyXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IHNvcnRGdW5jdGlvbiB0aGUgZnVuY3Rpb24gdG8gdXNlIHRvIHNvcnQgdGhlIGNoaWxkIGxpc3QuIFNlZSBKYXZhU2NyaXB0J3MgPGNvZGU+QXJyYXkuc29ydDwvY29kZT5cclxuXHQgKiBkb2N1bWVudGF0aW9uIGZvciBkZXRhaWxzLlxyXG5cdCAqKi9cclxuXHRwLnNvcnRDaGlsZHJlbiA9IGZ1bmN0aW9uKHNvcnRGdW5jdGlvbikge1xyXG5cdFx0dGhpcy5jaGlsZHJlbi5zb3J0KHNvcnRGdW5jdGlvbik7XHJcblx0fTtcclxuXHJcblx0LyoqXHJcblx0ICogUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIHNwZWNpZmllZCBjaGlsZCBpbiB0aGUgZGlzcGxheSBsaXN0LCBvciAtMSBpZiBpdCBpcyBub3QgaW4gdGhlIGRpc3BsYXkgbGlzdC5cclxuXHQgKlxyXG5cdCAqIDxoND5FeGFtcGxlPC9oND5cclxuXHQgKlxyXG5cdCAqICAgICAgdmFyIGluZGV4ID0gY29udGFpbmVyLmdldENoaWxkSW5kZXgoY2hpbGQpO1xyXG5cdCAqXHJcblx0ICogQG1ldGhvZCBnZXRDaGlsZEluZGV4XHJcblx0ICogQHBhcmFtIHtEaXNwbGF5T2JqZWN0fSBjaGlsZCBUaGUgY2hpbGQgdG8gcmV0dXJuIHRoZSBpbmRleCBvZi5cclxuXHQgKiBAcmV0dXJuIHtOdW1iZXJ9IFRoZSBpbmRleCBvZiB0aGUgc3BlY2lmaWVkIGNoaWxkLiAtMSBpZiB0aGUgY2hpbGQgaXMgbm90IGZvdW5kLlxyXG5cdCAqKi9cclxuXHRwLmdldENoaWxkSW5kZXggPSBmdW5jdGlvbihjaGlsZCkge1xyXG5cdFx0cmV0dXJuIGNyZWF0ZWpzLmluZGV4T2YodGhpcy5jaGlsZHJlbiwgY2hpbGQpO1xyXG5cdH07XHJcblx0XHJcblx0LyoqXHJcblx0ICogU3dhcHMgdGhlIGNoaWxkcmVuIGF0IHRoZSBzcGVjaWZpZWQgaW5kZXhlcy4gRmFpbHMgc2lsZW50bHkgaWYgZWl0aGVyIGluZGV4IGlzIG91dCBvZiByYW5nZS5cclxuXHQgKiBAbWV0aG9kIHN3YXBDaGlsZHJlbkF0XHJcblx0ICogQHBhcmFtIHtOdW1iZXJ9IGluZGV4MVxyXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBpbmRleDJcclxuXHQgKiovXHJcblx0cC5zd2FwQ2hpbGRyZW5BdCA9IGZ1bmN0aW9uKGluZGV4MSwgaW5kZXgyKSB7XHJcblx0XHR2YXIga2lkcyA9IHRoaXMuY2hpbGRyZW47XHJcblx0XHR2YXIgbzEgPSBraWRzW2luZGV4MV07XHJcblx0XHR2YXIgbzIgPSBraWRzW2luZGV4Ml07XHJcblx0XHRpZiAoIW8xIHx8ICFvMikgeyByZXR1cm47IH1cclxuXHRcdGtpZHNbaW5kZXgxXSA9IG8yO1xyXG5cdFx0a2lkc1tpbmRleDJdID0gbzE7XHJcblx0fTtcclxuXHRcclxuXHQvKipcclxuXHQgKiBTd2FwcyB0aGUgc3BlY2lmaWVkIGNoaWxkcmVuJ3MgZGVwdGggaW4gdGhlIGRpc3BsYXkgbGlzdC4gRmFpbHMgc2lsZW50bHkgaWYgZWl0aGVyIGNoaWxkIGlzIG5vdCBhIGNoaWxkIG9mIHRoaXNcclxuXHQgKiBDb250YWluZXIuXHJcblx0ICogQG1ldGhvZCBzd2FwQ2hpbGRyZW5cclxuXHQgKiBAcGFyYW0ge0Rpc3BsYXlPYmplY3R9IGNoaWxkMVxyXG5cdCAqIEBwYXJhbSB7RGlzcGxheU9iamVjdH0gY2hpbGQyXHJcblx0ICoqL1xyXG5cdHAuc3dhcENoaWxkcmVuID0gZnVuY3Rpb24oY2hpbGQxLCBjaGlsZDIpIHtcclxuXHRcdHZhciBraWRzID0gdGhpcy5jaGlsZHJlbjtcclxuXHRcdHZhciBpbmRleDEsaW5kZXgyO1xyXG5cdFx0Zm9yICh2YXIgaT0wLGw9a2lkcy5sZW5ndGg7aTxsO2krKykge1xyXG5cdFx0XHRpZiAoa2lkc1tpXSA9PSBjaGlsZDEpIHsgaW5kZXgxID0gaTsgfVxyXG5cdFx0XHRpZiAoa2lkc1tpXSA9PSBjaGlsZDIpIHsgaW5kZXgyID0gaTsgfVxyXG5cdFx0XHRpZiAoaW5kZXgxICE9IG51bGwgJiYgaW5kZXgyICE9IG51bGwpIHsgYnJlYWs7IH1cclxuXHRcdH1cclxuXHRcdGlmIChpPT1sKSB7IHJldHVybjsgfSAvLyBUT0RPOiB0aHJvdyBlcnJvcj9cclxuXHRcdGtpZHNbaW5kZXgxXSA9IGNoaWxkMjtcclxuXHRcdGtpZHNbaW5kZXgyXSA9IGNoaWxkMTtcclxuXHR9O1xyXG5cdFxyXG5cdC8qKlxyXG5cdCAqIENoYW5nZXMgdGhlIGRlcHRoIG9mIHRoZSBzcGVjaWZpZWQgY2hpbGQuIEZhaWxzIHNpbGVudGx5IGlmIHRoZSBjaGlsZCBpcyBub3QgYSBjaGlsZCBvZiB0aGlzIGNvbnRhaW5lciwgb3IgdGhlIGluZGV4IGlzIG91dCBvZiByYW5nZS5cclxuXHQgKiBAcGFyYW0ge0Rpc3BsYXlPYmplY3R9IGNoaWxkXHJcblx0ICogQHBhcmFtIHtOdW1iZXJ9IGluZGV4ICBcclxuXHQgKiBAbWV0aG9kIHNldENoaWxkSW5kZXhcclxuXHQgKiovXHJcblx0cC5zZXRDaGlsZEluZGV4ID0gZnVuY3Rpb24oY2hpbGQsIGluZGV4KSB7XHJcblx0XHR2YXIga2lkcyA9IHRoaXMuY2hpbGRyZW4sIGw9a2lkcy5sZW5ndGg7XHJcblx0XHRpZiAoY2hpbGQucGFyZW50ICE9IHRoaXMgfHwgaW5kZXggPCAwIHx8IGluZGV4ID49IGwpIHsgcmV0dXJuOyB9XHJcblx0XHRmb3IgKHZhciBpPTA7aTxsO2krKykge1xyXG5cdFx0XHRpZiAoa2lkc1tpXSA9PSBjaGlsZCkgeyBicmVhazsgfVxyXG5cdFx0fVxyXG5cdFx0aWYgKGk9PWwgfHwgaSA9PSBpbmRleCkgeyByZXR1cm47IH1cclxuXHRcdGtpZHMuc3BsaWNlKGksMSk7XHJcblx0XHRraWRzLnNwbGljZShpbmRleCwwLGNoaWxkKTtcclxuXHR9O1xyXG5cclxuXHQvKipcclxuXHQgKiBSZXR1cm5zIHRydWUgaWYgdGhlIHNwZWNpZmllZCBkaXNwbGF5IG9iamVjdCBlaXRoZXIgaXMgdGhpcyBjb250YWluZXIgb3IgaXMgYSBkZXNjZW5kZW50IChjaGlsZCwgZ3JhbmRjaGlsZCwgZXRjKVxyXG5cdCAqIG9mIHRoaXMgY29udGFpbmVyLlxyXG5cdCAqIEBtZXRob2QgY29udGFpbnNcclxuXHQgKiBAcGFyYW0ge0Rpc3BsYXlPYmplY3R9IGNoaWxkIFRoZSBEaXNwbGF5T2JqZWN0IHRvIGJlIGNoZWNrZWQuXHJcblx0ICogQHJldHVybiB7Qm9vbGVhbn0gdHJ1ZSBpZiB0aGUgc3BlY2lmaWVkIGRpc3BsYXkgb2JqZWN0IGVpdGhlciBpcyB0aGlzIGNvbnRhaW5lciBvciBpcyBhIGRlc2NlbmRlbnQuXHJcblx0ICoqL1xyXG5cdHAuY29udGFpbnMgPSBmdW5jdGlvbihjaGlsZCkge1xyXG5cdFx0d2hpbGUgKGNoaWxkKSB7XHJcblx0XHRcdGlmIChjaGlsZCA9PSB0aGlzKSB7IHJldHVybiB0cnVlOyB9XHJcblx0XHRcdGNoaWxkID0gY2hpbGQucGFyZW50O1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIGZhbHNlO1xyXG5cdH07XHJcblxyXG5cdC8qKlxyXG5cdCAqIFRlc3RzIHdoZXRoZXIgdGhlIGRpc3BsYXkgb2JqZWN0IGludGVyc2VjdHMgdGhlIHNwZWNpZmllZCBsb2NhbCBwb2ludCAoaWUuIGRyYXdzIGEgcGl4ZWwgd2l0aCBhbHBoYSA+IDAgYXQgdGhlXHJcblx0ICogc3BlY2lmaWVkIHBvc2l0aW9uKS4gVGhpcyBpZ25vcmVzIHRoZSBhbHBoYSwgc2hhZG93IGFuZCBjb21wb3NpdGVPcGVyYXRpb24gb2YgdGhlIGRpc3BsYXkgb2JqZWN0LCBhbmQgYWxsXHJcblx0ICogdHJhbnNmb3JtIHByb3BlcnRpZXMgaW5jbHVkaW5nIHJlZ1gvWS5cclxuXHQgKiBAbWV0aG9kIGhpdFRlc3RcclxuXHQgKiBAcGFyYW0ge051bWJlcn0geCBUaGUgeCBwb3NpdGlvbiB0byBjaGVjayBpbiB0aGUgZGlzcGxheSBvYmplY3QncyBsb2NhbCBjb29yZGluYXRlcy5cclxuXHQgKiBAcGFyYW0ge051bWJlcn0geSBUaGUgeSBwb3NpdGlvbiB0byBjaGVjayBpbiB0aGUgZGlzcGxheSBvYmplY3QncyBsb2NhbCBjb29yZGluYXRlcy5cclxuXHQgKiBAcmV0dXJuIHtCb29sZWFufSBBIEJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIHRoZXJlIGlzIGEgdmlzaWJsZSBzZWN0aW9uIG9mIGEgRGlzcGxheU9iamVjdCB0aGF0IG92ZXJsYXBzIHRoZSBzcGVjaWZpZWRcclxuXHQgKiBjb29yZGluYXRlcy5cclxuXHQgKiovXHJcblx0cC5oaXRUZXN0ID0gZnVuY3Rpb24oeCwgeSkge1xyXG5cdFx0Ly8gVE9ETzogb3B0aW1pemUgdG8gdXNlIHRoZSBmYXN0IGNhY2hlIGNoZWNrIHdoZXJlIHBvc3NpYmxlLlxyXG5cdFx0cmV0dXJuICh0aGlzLmdldE9iamVjdFVuZGVyUG9pbnQoeCwgeSkgIT0gbnVsbCk7XHJcblx0fTtcclxuXHJcblx0LyoqXHJcblx0ICogUmV0dXJucyBhbiBhcnJheSBvZiBhbGwgZGlzcGxheSBvYmplY3RzIHVuZGVyIHRoZSBzcGVjaWZpZWQgY29vcmRpbmF0ZXMgdGhhdCBhcmUgaW4gdGhpcyBjb250YWluZXIncyBkaXNwbGF5XHJcblx0ICogbGlzdC4gVGhpcyByb3V0aW5lIGlnbm9yZXMgYW55IGRpc3BsYXkgb2JqZWN0cyB3aXRoIHt7I2Nyb3NzTGluayBcIkRpc3BsYXlPYmplY3QvbW91c2VFbmFibGVkOnByb3BlcnR5XCJ9fXt7L2Nyb3NzTGlua319XHJcblx0ICogc2V0IHRvIGBmYWxzZWAuIFRoZSBhcnJheSB3aWxsIGJlIHNvcnRlZCBpbiBvcmRlciBvZiB2aXN1YWwgZGVwdGgsIHdpdGggdGhlIHRvcC1tb3N0IGRpc3BsYXkgb2JqZWN0IGF0IGluZGV4IDAuXHJcblx0ICogVGhpcyB1c2VzIHNoYXBlIGJhc2VkIGhpdCBkZXRlY3Rpb24sIGFuZCBjYW4gYmUgYW4gZXhwZW5zaXZlIG9wZXJhdGlvbiB0byBydW4sIHNvIGl0IGlzIGJlc3QgdG8gdXNlIGl0IGNhcmVmdWxseS5cclxuXHQgKiBGb3IgZXhhbXBsZSwgaWYgdGVzdGluZyBmb3Igb2JqZWN0cyB1bmRlciB0aGUgbW91c2UsIHRlc3Qgb24gdGljayAoaW5zdGVhZCBvZiBvbiB7eyNjcm9zc0xpbmsgXCJEaXNwbGF5T2JqZWN0L21vdXNlbW92ZTpldmVudFwifX17ey9jcm9zc0xpbmt9fSksXHJcblx0ICogYW5kIG9ubHkgaWYgdGhlIG1vdXNlJ3MgcG9zaXRpb24gaGFzIGNoYW5nZWQuXHJcblx0ICogXHJcblx0ICogPHVsPlxyXG5cdCAqICAgICA8bGk+QnkgZGVmYXVsdCAobW9kZT0wKSB0aGlzIG1ldGhvZCBldmFsdWF0ZXMgYWxsIGRpc3BsYXkgb2JqZWN0cy48L2xpPlxyXG5cdCAqICAgICA8bGk+Qnkgc2V0dGluZyB0aGUgYG1vZGVgIHBhcmFtZXRlciB0byBgMWAsIHRoZSB7eyNjcm9zc0xpbmsgXCJEaXNwbGF5T2JqZWN0L21vdXNlRW5hYmxlZDpwcm9wZXJ0eVwifX17ey9jcm9zc0xpbmt9fVxyXG5cdCAqIFx0XHRhbmQge3sjY3Jvc3NMaW5rIFwibW91c2VDaGlsZHJlbjpwcm9wZXJ0eVwifX17ey9jcm9zc0xpbmt9fSBwcm9wZXJ0aWVzIHdpbGwgYmUgcmVzcGVjdGVkLjwvbGk+XHJcblx0ICogXHQgICA8bGk+U2V0dGluZyB0aGUgYG1vZGVgIHRvIGAyYCBhZGRpdGlvbmFsbHkgZXhjbHVkZXMgZGlzcGxheSBvYmplY3RzIHRoYXQgZG8gbm90IGhhdmUgYWN0aXZlIG1vdXNlIGV2ZW50XHJcblx0ICogXHQgICBcdGxpc3RlbmVycyBvciBhIHt7I2Nyb3NzTGluayBcIkRpc3BsYXlPYmplY3Q6Y3Vyc29yOnByb3BlcnR5XCJ9fXt7L2Nyb3NzTGlua319IHByb3BlcnR5LiBUaGF0IGlzLCBvbmx5IG9iamVjdHNcclxuXHQgKiBcdCAgIFx0dGhhdCB3b3VsZCBub3JtYWxseSBpbnRlcmNlcHQgbW91c2UgaW50ZXJhY3Rpb24gd2lsbCBiZSBpbmNsdWRlZC4gVGhpcyBjYW4gc2lnbmlmaWNhbnRseSBpbXByb3ZlIHBlcmZvcm1hbmNlXHJcblx0ICogXHQgICBcdGluIHNvbWUgY2FzZXMgYnkgcmVkdWNpbmcgdGhlIG51bWJlciBvZiBkaXNwbGF5IG9iamVjdHMgdGhhdCBuZWVkIHRvIGJlIHRlc3RlZC48L2xpPlxyXG5cdCAqIDwvbGk+XHJcblx0ICogXHJcblx0ICogVGhpcyBtZXRob2QgYWNjb3VudHMgZm9yIGJvdGgge3sjY3Jvc3NMaW5rIFwiRGlzcGxheU9iamVjdC9oaXRBcmVhOnByb3BlcnR5XCJ9fXt7L2Nyb3NzTGlua319IGFuZCB7eyNjcm9zc0xpbmsgXCJEaXNwbGF5T2JqZWN0L21hc2s6cHJvcGVydHlcIn19e3svY3Jvc3NMaW5rfX0uXHJcblx0ICogQG1ldGhvZCBnZXRPYmplY3RzVW5kZXJQb2ludFxyXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB4IFRoZSB4IHBvc2l0aW9uIGluIHRoZSBjb250YWluZXIgdG8gdGVzdC5cclxuXHQgKiBAcGFyYW0ge051bWJlcn0geSBUaGUgeSBwb3NpdGlvbiBpbiB0aGUgY29udGFpbmVyIHRvIHRlc3QuXHJcblx0ICogQHBhcmFtIHtOdW1iZXJ9IFttb2RlPTBdIFRoZSBtb2RlIHRvIHVzZSB0byBkZXRlcm1pbmUgd2hpY2ggZGlzcGxheSBvYmplY3RzIHRvIGluY2x1ZGUuIDAtYWxsLCAxLXJlc3BlY3QgbW91c2VFbmFibGVkL21vdXNlQ2hpbGRyZW4sIDItb25seSBtb3VzZSBvcGFxdWUgb2JqZWN0cy5cclxuXHQgKiBAcmV0dXJuIHtBcnJheX0gQW4gQXJyYXkgb2YgRGlzcGxheU9iamVjdHMgdW5kZXIgdGhlIHNwZWNpZmllZCBjb29yZGluYXRlcy5cclxuXHQgKiovXHJcblx0cC5nZXRPYmplY3RzVW5kZXJQb2ludCA9IGZ1bmN0aW9uKHgsIHksIG1vZGUpIHtcclxuXHRcdHZhciBhcnIgPSBbXTtcclxuXHRcdHZhciBwdCA9IHRoaXMubG9jYWxUb0dsb2JhbCh4LCB5KTtcclxuXHRcdHRoaXMuX2dldE9iamVjdHNVbmRlclBvaW50KHB0LngsIHB0LnksIGFyciwgbW9kZT4wLCBtb2RlPT0xKTtcclxuXHRcdHJldHVybiBhcnI7XHJcblx0fTtcclxuXHJcblx0LyoqXHJcblx0ICogU2ltaWxhciB0byB7eyNjcm9zc0xpbmsgXCJDb250YWluZXIvZ2V0T2JqZWN0c1VuZGVyUG9pbnRcIn19e3svY3Jvc3NMaW5rfX0sIGJ1dCByZXR1cm5zIG9ubHkgdGhlIHRvcC1tb3N0IGRpc3BsYXlcclxuXHQgKiBvYmplY3QuIFRoaXMgcnVucyBzaWduaWZpY2FudGx5IGZhc3RlciB0aGFuIDxjb2RlPmdldE9iamVjdHNVbmRlclBvaW50KCk8L2NvZGU+LCBidXQgaXMgc3RpbGwgcG90ZW50aWFsbHkgYW4gZXhwZW5zaXZlXHJcblx0ICogb3BlcmF0aW9uLiBTZWUge3sjY3Jvc3NMaW5rIFwiQ29udGFpbmVyL2dldE9iamVjdHNVbmRlclBvaW50XCJ9fXt7L2Nyb3NzTGlua319IGZvciBtb3JlIGluZm9ybWF0aW9uLlxyXG5cdCAqIEBtZXRob2QgZ2V0T2JqZWN0VW5kZXJQb2ludFxyXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB4IFRoZSB4IHBvc2l0aW9uIGluIHRoZSBjb250YWluZXIgdG8gdGVzdC5cclxuXHQgKiBAcGFyYW0ge051bWJlcn0geSBUaGUgeSBwb3NpdGlvbiBpbiB0aGUgY29udGFpbmVyIHRvIHRlc3QuXHJcblx0ICogQHBhcmFtIHtOdW1iZXJ9IG1vZGUgVGhlIG1vZGUgdG8gdXNlIHRvIGRldGVybWluZSB3aGljaCBkaXNwbGF5IG9iamVjdHMgdG8gaW5jbHVkZS4gIDAtYWxsLCAxLXJlc3BlY3QgbW91c2VFbmFibGVkL21vdXNlQ2hpbGRyZW4sIDItb25seSBtb3VzZSBvcGFxdWUgb2JqZWN0cy5cclxuXHQgKiBAcmV0dXJuIHtEaXNwbGF5T2JqZWN0fSBUaGUgdG9wLW1vc3QgZGlzcGxheSBvYmplY3QgdW5kZXIgdGhlIHNwZWNpZmllZCBjb29yZGluYXRlcy5cclxuXHQgKiovXHJcblx0cC5nZXRPYmplY3RVbmRlclBvaW50ID0gZnVuY3Rpb24oeCwgeSwgbW9kZSkge1xyXG5cdFx0dmFyIHB0ID0gdGhpcy5sb2NhbFRvR2xvYmFsKHgsIHkpO1xyXG5cdFx0cmV0dXJuIHRoaXMuX2dldE9iamVjdHNVbmRlclBvaW50KHB0LngsIHB0LnksIG51bGwsIG1vZGU+MCwgbW9kZT09MSk7XHJcblx0fTtcclxuXHRcclxuXHQvKipcclxuXHQgKiBEb2NjZWQgaW4gc3VwZXJjbGFzcy5cclxuXHQgKi9cclxuXHRwLmdldEJvdW5kcyA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuX2dldEJvdW5kcyhudWxsLCB0cnVlKTtcclxuXHR9O1xyXG5cdFxyXG5cdFxyXG5cdC8qKlxyXG5cdCAqIERvY2NlZCBpbiBzdXBlcmNsYXNzLlxyXG5cdCAqL1xyXG5cdHAuZ2V0VHJhbnNmb3JtZWRCb3VuZHMgPSBmdW5jdGlvbigpIHtcclxuXHRcdHJldHVybiB0aGlzLl9nZXRCb3VuZHMoKTtcclxuXHR9O1xyXG5cclxuXHQvKipcclxuXHQgKiBSZXR1cm5zIGEgY2xvbmUgb2YgdGhpcyBDb250YWluZXIuIFNvbWUgcHJvcGVydGllcyB0aGF0IGFyZSBzcGVjaWZpYyB0byB0aGlzIGluc3RhbmNlJ3MgY3VycmVudCBjb250ZXh0IGFyZVxyXG5cdCAqIHJldmVydGVkIHRvIHRoZWlyIGRlZmF1bHRzIChmb3IgZXhhbXBsZSAucGFyZW50KS5cclxuXHQgKiBAbWV0aG9kIGNsb25lXHJcblx0ICogQHBhcmFtIHtCb29sZWFufSBbcmVjdXJzaXZlPWZhbHNlXSBJZiB0cnVlLCBhbGwgb2YgdGhlIGRlc2NlbmRhbnRzIG9mIHRoaXMgY29udGFpbmVyIHdpbGwgYmUgY2xvbmVkIHJlY3Vyc2l2ZWx5LiBJZiBmYWxzZSwgdGhlXHJcblx0ICogcHJvcGVydGllcyBvZiB0aGUgY29udGFpbmVyIHdpbGwgYmUgY2xvbmVkLCBidXQgdGhlIG5ldyBpbnN0YW5jZSB3aWxsIG5vdCBoYXZlIGFueSBjaGlsZHJlbi5cclxuXHQgKiBAcmV0dXJuIHtDb250YWluZXJ9IEEgY2xvbmUgb2YgdGhlIGN1cnJlbnQgQ29udGFpbmVyIGluc3RhbmNlLlxyXG5cdCAqKi9cclxuXHRwLmNsb25lID0gZnVuY3Rpb24ocmVjdXJzaXZlKSB7XHJcblx0XHR2YXIgbyA9IHRoaXMuX2Nsb25lUHJvcHMobmV3IENvbnRhaW5lcigpKTtcclxuXHRcdGlmIChyZWN1cnNpdmUpIHsgdGhpcy5fY2xvbmVDaGlsZHJlbihvKTsgfVxyXG5cdFx0cmV0dXJuIG87XHJcblx0fTtcclxuXHJcblx0LyoqXHJcblx0ICogUmV0dXJucyBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGlzIG9iamVjdC5cclxuXHQgKiBAbWV0aG9kIHRvU3RyaW5nXHJcblx0ICogQHJldHVybiB7U3RyaW5nfSBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgaW5zdGFuY2UuXHJcblx0ICoqL1xyXG5cdHAudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcclxuXHRcdHJldHVybiBcIltDb250YWluZXIgKG5hbWU9XCIrICB0aGlzLm5hbWUgK1wiKV1cIjtcclxuXHR9O1xyXG5cclxuXHJcbi8vIHByaXZhdGUgbWV0aG9kczpcclxuXHQvKipcclxuXHQgKiBAbWV0aG9kIF90aWNrXHJcblx0ICogQHBhcmFtIHtPYmplY3R9IGV2dE9iaiBBbiBldmVudCBvYmplY3QgdGhhdCB3aWxsIGJlIGRpc3BhdGNoZWQgdG8gYWxsIHRpY2sgbGlzdGVuZXJzLiBUaGlzIG9iamVjdCBpcyByZXVzZWQgYmV0d2VlbiBkaXNwYXRjaGVycyB0byByZWR1Y2UgY29uc3RydWN0aW9uICYgR0MgY29zdHMuXHJcblx0ICogQHByb3RlY3RlZFxyXG5cdCAqKi9cclxuXHRwLl90aWNrID0gZnVuY3Rpb24oZXZ0T2JqKSB7XHJcblx0XHRpZiAodGhpcy50aWNrQ2hpbGRyZW4pIHtcclxuXHRcdFx0Zm9yICh2YXIgaT10aGlzLmNoaWxkcmVuLmxlbmd0aC0xOyBpPj0wOyBpLS0pIHtcclxuXHRcdFx0XHR2YXIgY2hpbGQgPSB0aGlzLmNoaWxkcmVuW2ldO1xyXG5cdFx0XHRcdGlmIChjaGlsZC50aWNrRW5hYmxlZCAmJiBjaGlsZC5fdGljaykgeyBjaGlsZC5fdGljayhldnRPYmopOyB9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdHRoaXMuRGlzcGxheU9iamVjdF9fdGljayhldnRPYmopO1xyXG5cdH07XHJcblx0XHJcblx0LyoqXHJcblx0ICogUmVjdXJzaXZlbHkgY2xvbmVzIGFsbCBjaGlsZHJlbiBvZiB0aGlzIGNvbnRhaW5lciwgYW5kIGFkZHMgdGhlbSB0byB0aGUgdGFyZ2V0IGNvbnRhaW5lci5cclxuXHQgKiBAbWV0aG9kIGNsb25lQ2hpbGRyZW5cclxuXHQgKiBAcHJvdGVjdGVkXHJcblx0ICogQHBhcmFtIHtDb250YWluZXJ9IG8gVGhlIHRhcmdldCBjb250YWluZXIuXHJcblx0ICoqL1xyXG5cdHAuX2Nsb25lQ2hpbGRyZW4gPSBmdW5jdGlvbihvKSB7XHJcblx0XHRpZiAoby5jaGlsZHJlbi5sZW5ndGgpIHsgby5yZW1vdmVBbGxDaGlsZHJlbigpOyB9XHJcblx0XHR2YXIgYXJyID0gby5jaGlsZHJlbjtcclxuXHRcdGZvciAodmFyIGk9MCwgbD10aGlzLmNoaWxkcmVuLmxlbmd0aDsgaTxsOyBpKyspIHtcclxuXHRcdFx0dmFyIGNsb25lID0gdGhpcy5jaGlsZHJlbltpXS5jbG9uZSh0cnVlKTtcclxuXHRcdFx0Y2xvbmUucGFyZW50ID0gbztcclxuXHRcdFx0YXJyLnB1c2goY2xvbmUpO1xyXG5cdFx0fVxyXG5cdH07XHJcblx0XHJcblx0LyoqXHJcblx0ICogUmVtb3ZlcyB0aGUgY2hpbGQgYXQgdGhlIHNwZWNpZmllZCBpbmRleCBmcm9tIHRoZSBkaXNwbGF5IGxpc3QsIGFuZCBzZXRzIGl0cyBwYXJlbnQgdG8gbnVsbC5cclxuXHQgKiBVc2VkIGJ5IGByZW1vdmVDaGlsZEF0YCwgYGFkZENoaWxkYCwgYW5kIGBhZGRDaGlsZEF0YC5cclxuXHQgKiBAbWV0aG9kIHJlbW92ZUNoaWxkQXRcclxuXHQgKiBAcHJvdGVjdGVkXHJcblx0ICogQHBhcmFtIHtOdW1iZXJ9IGluZGV4IFRoZSBpbmRleCBvZiB0aGUgY2hpbGQgdG8gcmVtb3ZlLlxyXG5cdCAqIEBwYXJhbSB7Qm9vbGVhbn0gW3NpbGVudF0gUHJldmVudHMgZGlzcGF0Y2ggb2YgYHJlbW92ZWRgIGV2ZW50IGlmIHRydWUuXHJcblx0ICogQHJldHVybiB7Qm9vbGVhbn0gdHJ1ZSBpZiB0aGUgY2hpbGQgKG9yIGNoaWxkcmVuKSB3YXMgcmVtb3ZlZCwgb3IgZmFsc2UgaWYgYW55IGluZGV4IHdhcyBvdXQgb2YgcmFuZ2UuXHJcblx0ICoqL1xyXG5cdHAuX3JlbW92ZUNoaWxkQXQgPSBmdW5jdGlvbihpbmRleCwgc2lsZW50KSB7XHJcblx0XHRpZiAoaW5kZXggPCAwIHx8IGluZGV4ID4gdGhpcy5jaGlsZHJlbi5sZW5ndGgtMSkgeyByZXR1cm4gZmFsc2U7IH1cclxuXHRcdHZhciBjaGlsZCA9IHRoaXMuY2hpbGRyZW5baW5kZXhdO1xyXG5cdFx0aWYgKGNoaWxkKSB7IGNoaWxkLnBhcmVudCA9IG51bGw7IH1cclxuXHRcdHRoaXMuY2hpbGRyZW4uc3BsaWNlKGluZGV4LCAxKTtcclxuXHRcdGlmICghc2lsZW50KSB7IGNoaWxkLmRpc3BhdGNoRXZlbnQoXCJyZW1vdmVkXCIpOyB9XHJcblx0XHRyZXR1cm4gdHJ1ZTtcclxuXHR9O1xyXG5cclxuXHQvKipcclxuXHQgKiBAbWV0aG9kIF9nZXRPYmplY3RzVW5kZXJQb2ludFxyXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB4XHJcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHlcclxuXHQgKiBAcGFyYW0ge0FycmF5fSBhcnJcclxuXHQgKiBAcGFyYW0ge0Jvb2xlYW59IG1vdXNlIElmIHRydWUsIGl0IHdpbGwgcmVzcGVjdCBtb3VzZSBpbnRlcmFjdGlvbiBwcm9wZXJ0aWVzIGxpa2UgbW91c2VFbmFibGVkLCBtb3VzZUNoaWxkcmVuLCBhbmQgYWN0aXZlIGxpc3RlbmVycy5cclxuXHQgKiBAcGFyYW0ge0Jvb2xlYW59IGFjdGl2ZUxpc3RlbmVyIElmIHRydWUsIHRoZXJlIGlzIGFuIGFjdGl2ZSBtb3VzZSBldmVudCBsaXN0ZW5lciBvbiBhIHBhcmVudCBvYmplY3QuXHJcblx0ICogQHBhcmFtIHtOdW1iZXJ9IGN1cnJlbnREZXB0aCBJbmRpY2F0ZXMgdGhlIGN1cnJlbnQgZGVwdGggb2YgdGhlIHNlYXJjaC5cclxuXHQgKiBAcmV0dXJuIHtEaXNwbGF5T2JqZWN0fVxyXG5cdCAqIEBwcm90ZWN0ZWRcclxuXHQgKiovXHJcblx0cC5fZ2V0T2JqZWN0c1VuZGVyUG9pbnQgPSBmdW5jdGlvbih4LCB5LCBhcnIsIG1vdXNlLCBhY3RpdmVMaXN0ZW5lciwgY3VycmVudERlcHRoKSB7XHJcblx0XHRjdXJyZW50RGVwdGggPSBjdXJyZW50RGVwdGggfHwgMDtcclxuXHRcdGlmICghY3VycmVudERlcHRoICYmICF0aGlzLl90ZXN0TWFzayh0aGlzLCB4LCB5KSkgeyByZXR1cm4gbnVsbDsgfVxyXG5cdFx0dmFyIG10eCwgY3R4ID0gY3JlYXRlanMuRGlzcGxheU9iamVjdC5faGl0VGVzdENvbnRleHQ7XHJcblx0XHRhY3RpdmVMaXN0ZW5lciA9IGFjdGl2ZUxpc3RlbmVyIHx8IChtb3VzZSYmdGhpcy5faGFzTW91c2VFdmVudExpc3RlbmVyKCkpO1xyXG5cclxuXHRcdC8vIGRyYXcgY2hpbGRyZW4gb25lIGF0IGEgdGltZSwgYW5kIGNoZWNrIGlmIHdlIGdldCBhIGhpdDpcclxuXHRcdHZhciBjaGlsZHJlbiA9IHRoaXMuY2hpbGRyZW4sIGwgPSBjaGlsZHJlbi5sZW5ndGg7XHJcblx0XHRmb3IgKHZhciBpPWwtMTsgaT49MDsgaS0tKSB7XHJcblx0XHRcdHZhciBjaGlsZCA9IGNoaWxkcmVuW2ldO1xyXG5cdFx0XHR2YXIgaGl0QXJlYSA9IGNoaWxkLmhpdEFyZWE7XHJcblx0XHRcdGlmICghY2hpbGQudmlzaWJsZSB8fCAoIWhpdEFyZWEgJiYgIWNoaWxkLmlzVmlzaWJsZSgpKSB8fCAobW91c2UgJiYgIWNoaWxkLm1vdXNlRW5hYmxlZCkpIHsgY29udGludWU7IH1cclxuXHRcdFx0aWYgKCFoaXRBcmVhICYmICF0aGlzLl90ZXN0TWFzayhjaGlsZCwgeCwgeSkpIHsgY29udGludWU7IH1cclxuXHRcdFx0XHJcblx0XHRcdC8vIGlmIGEgY2hpbGQgY29udGFpbmVyIGhhcyBhIGhpdEFyZWEgdGhlbiB3ZSBvbmx5IG5lZWQgdG8gY2hlY2sgaXRzIGhpdEFyZTJhLCBzbyB3ZSBjYW4gdHJlYXQgaXQgYXMgYSBub3JtYWwgRE86XHJcblx0XHRcdGlmICghaGl0QXJlYSAmJiBjaGlsZCBpbnN0YW5jZW9mIENvbnRhaW5lcikge1xyXG5cdFx0XHRcdHZhciByZXN1bHQgPSBjaGlsZC5fZ2V0T2JqZWN0c1VuZGVyUG9pbnQoeCwgeSwgYXJyLCBtb3VzZSwgYWN0aXZlTGlzdGVuZXIsIGN1cnJlbnREZXB0aCsxKTtcclxuXHRcdFx0XHRpZiAoIWFyciAmJiByZXN1bHQpIHsgcmV0dXJuIChtb3VzZSAmJiAhdGhpcy5tb3VzZUNoaWxkcmVuKSA/IHRoaXMgOiByZXN1bHQ7IH1cclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRpZiAobW91c2UgJiYgIWFjdGl2ZUxpc3RlbmVyICYmICFjaGlsZC5faGFzTW91c2VFdmVudExpc3RlbmVyKCkpIHsgY29udGludWU7IH1cclxuXHRcdFx0XHRcclxuXHRcdFx0XHQvLyBUT0RPOiBjYW4gd2UgcGFzcyBkaXNwbGF5UHJvcHMgZm9yd2FyZCwgdG8gYXZvaWQgaGF2aW5nIHRvIGNhbGN1bGF0ZSB0aGlzIGJhY2t3YXJkcyBldmVyeSB0aW1lPyBJdCdzIGtpbmQgb2YgYSBtaXhlZCBiYWcuIFdoZW4gd2UncmUgb25seSBodW50aW5nIGZvciBET3Mgd2l0aCBldmVudCBsaXN0ZW5lcnMsIGl0IG1heSBub3QgbWFrZSBzZW5zZS5cclxuXHRcdFx0XHR2YXIgcHJvcHMgPSBjaGlsZC5nZXRDb25jYXRlbmF0ZWREaXNwbGF5UHJvcHMoY2hpbGQuX3Byb3BzKTtcclxuXHRcdFx0XHRtdHggPSBwcm9wcy5tYXRyaXg7XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0aWYgKGhpdEFyZWEpIHtcclxuXHRcdFx0XHRcdG10eC5hcHBlbmRNYXRyaXgoaGl0QXJlYS5nZXRNYXRyaXgoaGl0QXJlYS5fcHJvcHMubWF0cml4KSk7XHJcblx0XHRcdFx0XHRwcm9wcy5hbHBoYSA9IGhpdEFyZWEuYWxwaGE7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdGN0eC5nbG9iYWxBbHBoYSA9IHByb3BzLmFscGhhO1xyXG5cdFx0XHRcdGN0eC5zZXRUcmFuc2Zvcm0obXR4LmEsICBtdHguYiwgbXR4LmMsIG10eC5kLCBtdHgudHgteCwgbXR4LnR5LXkpO1xyXG5cdFx0XHRcdChoaXRBcmVhfHxjaGlsZCkuZHJhdyhjdHgpO1xyXG5cdFx0XHRcdGlmICghdGhpcy5fdGVzdEhpdChjdHgpKSB7IGNvbnRpbnVlOyB9XHJcblx0XHRcdFx0Y3R4LnNldFRyYW5zZm9ybSgxLCAwLCAwLCAxLCAwLCAwKTtcclxuXHRcdFx0XHRjdHguY2xlYXJSZWN0KDAsIDAsIDIsIDIpO1xyXG5cdFx0XHRcdGlmIChhcnIpIHsgYXJyLnB1c2goY2hpbGQpOyB9XHJcblx0XHRcdFx0ZWxzZSB7IHJldHVybiAobW91c2UgJiYgIXRoaXMubW91c2VDaGlsZHJlbikgPyB0aGlzIDogY2hpbGQ7IH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIG51bGw7XHJcblx0fTtcclxuXHRcclxuXHQvKipcclxuXHQgKiBAbWV0aG9kIF90ZXN0TWFza1xyXG5cdCAqIEBwYXJhbSB7RGlzcGxheU9iamVjdH0gdGFyZ2V0XHJcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHhcclxuXHQgKiBAcGFyYW0ge051bWJlcn0geVxyXG5cdCAqIEByZXR1cm4ge0Jvb2xlYW59IEluZGljYXRlcyB3aGV0aGVyIHRoZSB4L3kgaXMgd2l0aGluIHRoZSBtYXNrZWQgcmVnaW9uLlxyXG5cdCAqIEBwcm90ZWN0ZWRcclxuXHQgKiovXHJcblx0cC5fdGVzdE1hc2sgPSBmdW5jdGlvbih0YXJnZXQsIHgsIHkpIHtcclxuXHRcdHZhciBtYXNrID0gdGFyZ2V0Lm1hc2s7XHJcblx0XHRpZiAoIW1hc2sgfHwgIW1hc2suZ3JhcGhpY3MgfHwgbWFzay5ncmFwaGljcy5pc0VtcHR5KCkpIHsgcmV0dXJuIHRydWU7IH1cclxuXHRcdFxyXG5cdFx0dmFyIG10eCA9IHRoaXMuX3Byb3BzLm1hdHJpeCwgcGFyZW50ID0gdGFyZ2V0LnBhcmVudDtcclxuXHRcdG10eCA9IHBhcmVudCA/IHBhcmVudC5nZXRDb25jYXRlbmF0ZWRNYXRyaXgobXR4KSA6IG10eC5pZGVudGl0eSgpO1xyXG5cdFx0bXR4ID0gbWFzay5nZXRNYXRyaXgobWFzay5fcHJvcHMubWF0cml4KS5wcmVwZW5kTWF0cml4KG10eCk7XHJcblx0XHRcclxuXHRcdHZhciBjdHggPSBjcmVhdGVqcy5EaXNwbGF5T2JqZWN0Ll9oaXRUZXN0Q29udGV4dDtcclxuXHRcdGN0eC5zZXRUcmFuc2Zvcm0obXR4LmEsICBtdHguYiwgbXR4LmMsIG10eC5kLCBtdHgudHgteCwgbXR4LnR5LXkpO1xyXG5cdFx0XHJcblx0XHQvLyBkcmF3IHRoZSBtYXNrIGFzIGEgc29saWQgZmlsbDpcclxuXHRcdG1hc2suZ3JhcGhpY3MuZHJhd0FzUGF0aChjdHgpO1xyXG5cdFx0Y3R4LmZpbGxTdHlsZSA9IFwiIzAwMFwiO1xyXG5cdFx0Y3R4LmZpbGwoKTtcclxuXHRcdFxyXG5cdFx0aWYgKCF0aGlzLl90ZXN0SGl0KGN0eCkpIHsgcmV0dXJuIGZhbHNlOyB9XHJcblx0XHRjdHguc2V0VHJhbnNmb3JtKDEsIDAsIDAsIDEsIDAsIDApO1xyXG5cdFx0Y3R4LmNsZWFyUmVjdCgwLCAwLCAyLCAyKTtcclxuXHRcdFxyXG5cdFx0cmV0dXJuIHRydWU7XHJcblx0fTtcclxuXHRcclxuXHQvKipcclxuXHQgKiBAbWV0aG9kIF9nZXRCb3VuZHNcclxuXHQgKiBAcGFyYW0ge01hdHJpeDJEfSBtYXRyaXhcclxuXHQgKiBAcGFyYW0ge0Jvb2xlYW59IGlnbm9yZVRyYW5zZm9ybSBJZiB0cnVlLCBkb2VzIG5vdCBhcHBseSB0aGlzIG9iamVjdCdzIHRyYW5zZm9ybS5cclxuXHQgKiBAcmV0dXJuIHtSZWN0YW5nbGV9XHJcblx0ICogQHByb3RlY3RlZFxyXG5cdCAqKi9cclxuXHRwLl9nZXRCb3VuZHMgPSBmdW5jdGlvbihtYXRyaXgsIGlnbm9yZVRyYW5zZm9ybSkge1xyXG5cdFx0dmFyIGJvdW5kcyA9IHRoaXMuRGlzcGxheU9iamVjdF9nZXRCb3VuZHMoKTtcclxuXHRcdGlmIChib3VuZHMpIHsgcmV0dXJuIHRoaXMuX3RyYW5zZm9ybUJvdW5kcyhib3VuZHMsIG1hdHJpeCwgaWdub3JlVHJhbnNmb3JtKTsgfVxyXG5cdFx0XHJcblx0XHR2YXIgbXR4ID0gdGhpcy5fcHJvcHMubWF0cml4O1xyXG5cdFx0bXR4ID0gaWdub3JlVHJhbnNmb3JtID8gbXR4LmlkZW50aXR5KCkgOiB0aGlzLmdldE1hdHJpeChtdHgpO1xyXG5cdFx0aWYgKG1hdHJpeCkgeyBtdHgucHJlcGVuZE1hdHJpeChtYXRyaXgpOyB9XHJcblx0XHRcclxuXHRcdHZhciBsID0gdGhpcy5jaGlsZHJlbi5sZW5ndGgsIHJlY3Q9bnVsbDtcclxuXHRcdGZvciAodmFyIGk9MDsgaTxsOyBpKyspIHtcclxuXHRcdFx0dmFyIGNoaWxkID0gdGhpcy5jaGlsZHJlbltpXTtcclxuXHRcdFx0aWYgKCFjaGlsZC52aXNpYmxlIHx8ICEoYm91bmRzID0gY2hpbGQuX2dldEJvdW5kcyhtdHgpKSkgeyBjb250aW51ZTsgfVxyXG5cdFx0XHRpZiAocmVjdCkgeyByZWN0LmV4dGVuZChib3VuZHMueCwgYm91bmRzLnksIGJvdW5kcy53aWR0aCwgYm91bmRzLmhlaWdodCk7IH1cclxuXHRcdFx0ZWxzZSB7IHJlY3QgPSBib3VuZHMuY2xvbmUoKTsgfVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHJlY3Q7XHJcblx0fTtcclxuXHJcblxyXG5cdGNyZWF0ZWpzLkNvbnRhaW5lciA9IGNyZWF0ZWpzLnByb21vdGUoQ29udGFpbmVyLCBcIkRpc3BsYXlPYmplY3RcIik7XHJcbn0oKSk7XG5cbi8vIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXG4vLyBTdGFnZS5qc1xuLy8jIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyNcblxuKGZ1bmN0aW9uKCkge1xuXHRcInVzZSBzdHJpY3RcIjtcblxuXG4vLyBjb25zdHJ1Y3Rvcjpcblx0LyoqXG5cdCAqIEEgc3RhZ2UgaXMgdGhlIHJvb3QgbGV2ZWwge3sjY3Jvc3NMaW5rIFwiQ29udGFpbmVyXCJ9fXt7L2Nyb3NzTGlua319IGZvciBhIGRpc3BsYXkgbGlzdC4gRWFjaCB0aW1lIGl0cyB7eyNjcm9zc0xpbmsgXCJTdGFnZS90aWNrXCJ9fXt7L2Nyb3NzTGlua319XG5cdCAqIG1ldGhvZCBpcyBjYWxsZWQsIGl0IHdpbGwgcmVuZGVyIGl0cyBkaXNwbGF5IGxpc3QgdG8gaXRzIHRhcmdldCBjYW52YXMuXG5cdCAqXG5cdCAqIDxoND5FeGFtcGxlPC9oND5cblx0ICogVGhpcyBleGFtcGxlIGNyZWF0ZXMgYSBzdGFnZSwgYWRkcyBhIGNoaWxkIHRvIGl0LCB0aGVuIHVzZXMge3sjY3Jvc3NMaW5rIFwiVGlja2VyXCJ9fXt7L2Nyb3NzTGlua319IHRvIHVwZGF0ZSB0aGUgY2hpbGRcblx0ICogYW5kIHJlZHJhdyB0aGUgc3RhZ2UgdXNpbmcge3sjY3Jvc3NMaW5rIFwiU3RhZ2UvdXBkYXRlXCJ9fXt7L2Nyb3NzTGlua319LlxuXHQgKlxuXHQgKiAgICAgIHZhciBzdGFnZSA9IG5ldyBjcmVhdGVqcy5TdGFnZShcImNhbnZhc0VsZW1lbnRJZFwiKTtcblx0ICogICAgICB2YXIgaW1hZ2UgPSBuZXcgY3JlYXRlanMuQml0bWFwKFwiaW1hZ2VQYXRoLnBuZ1wiKTtcblx0ICogICAgICBzdGFnZS5hZGRDaGlsZChpbWFnZSk7XG5cdCAqICAgICAgY3JlYXRlanMuVGlja2VyLmFkZEV2ZW50TGlzdGVuZXIoXCJ0aWNrXCIsIGhhbmRsZVRpY2spO1xuXHQgKiAgICAgIGZ1bmN0aW9uIGhhbmRsZVRpY2soZXZlbnQpIHtcblx0ICogICAgICAgICAgaW1hZ2UueCArPSAxMDtcblx0ICogICAgICAgICAgc3RhZ2UudXBkYXRlKCk7XG5cdCAqICAgICAgfVxuXHQgKlxuXHQgKiBAY2xhc3MgU3RhZ2Vcblx0ICogQGV4dGVuZHMgQ29udGFpbmVyXG5cdCAqIEBjb25zdHJ1Y3RvclxuXHQgKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50IHwgU3RyaW5nIHwgT2JqZWN0fSBjYW52YXMgQSBjYW52YXMgb2JqZWN0IHRoYXQgdGhlIFN0YWdlIHdpbGwgcmVuZGVyIHRvLCBvciB0aGUgc3RyaW5nIGlkXG5cdCAqIG9mIGEgY2FudmFzIG9iamVjdCBpbiB0aGUgY3VycmVudCBkb2N1bWVudC5cblx0ICoqL1xuXHRmdW5jdGlvbiBTdGFnZShjYW52YXMpIHtcblx0XHR0aGlzLkNvbnRhaW5lcl9jb25zdHJ1Y3RvcigpO1xuXHRcblx0XG5cdC8vIHB1YmxpYyBwcm9wZXJ0aWVzOlxuXHRcdC8qKlxuXHRcdCAqIEluZGljYXRlcyB3aGV0aGVyIHRoZSBzdGFnZSBzaG91bGQgYXV0b21hdGljYWxseSBjbGVhciB0aGUgY2FudmFzIGJlZm9yZSBlYWNoIHJlbmRlci4gWW91IGNhbiBzZXQgdGhpcyB0byA8Y29kZT5mYWxzZTwvY29kZT5cblx0XHQgKiB0byBtYW51YWxseSBjb250cm9sIGNsZWFyaW5nIChmb3IgZ2VuZXJhdGl2ZSBhcnQsIG9yIHdoZW4gcG9pbnRpbmcgbXVsdGlwbGUgc3RhZ2VzIGF0IHRoZSBzYW1lIGNhbnZhcyBmb3Jcblx0XHQgKiBleGFtcGxlKS5cblx0XHQgKlxuXHRcdCAqIDxoND5FeGFtcGxlPC9oND5cblx0XHQgKlxuXHRcdCAqICAgICAgdmFyIHN0YWdlID0gbmV3IGNyZWF0ZWpzLlN0YWdlKFwiY2FudmFzSWRcIik7XG5cdFx0ICogICAgICBzdGFnZS5hdXRvQ2xlYXIgPSBmYWxzZTtcblx0XHQgKlxuXHRcdCAqIEBwcm9wZXJ0eSBhdXRvQ2xlYXJcblx0XHQgKiBAdHlwZSBCb29sZWFuXG5cdFx0ICogQGRlZmF1bHQgdHJ1ZVxuXHRcdCAqKi9cblx0XHR0aGlzLmF1dG9DbGVhciA9IHRydWU7XG5cdFxuXHRcdC8qKlxuXHRcdCAqIFRoZSBjYW52YXMgdGhlIHN0YWdlIHdpbGwgcmVuZGVyIHRvLiBNdWx0aXBsZSBzdGFnZXMgY2FuIHNoYXJlIGEgc2luZ2xlIGNhbnZhcywgYnV0IHlvdSBtdXN0IGRpc2FibGUgYXV0b0NsZWFyIGZvciBhbGwgYnV0IHRoZVxuXHRcdCAqIGZpcnN0IHN0YWdlIHRoYXQgd2lsbCBiZSB0aWNrZWQgKG9yIHRoZXkgd2lsbCBjbGVhciBlYWNoIG90aGVyJ3MgcmVuZGVyKS5cblx0XHQgKlxuXHRcdCAqIFdoZW4gY2hhbmdpbmcgdGhlIGNhbnZhcyBwcm9wZXJ0eSB5b3UgbXVzdCBkaXNhYmxlIHRoZSBldmVudHMgb24gdGhlIG9sZCBjYW52YXMsIGFuZCBlbmFibGUgZXZlbnRzIG9uIHRoZVxuXHRcdCAqIG5ldyBjYW52YXMgb3IgbW91c2UgZXZlbnRzIHdpbGwgbm90IHdvcmsgYXMgZXhwZWN0ZWQuIEZvciBleGFtcGxlOlxuXHRcdCAqXG5cdFx0ICogICAgICBteVN0YWdlLmVuYWJsZURPTUV2ZW50cyhmYWxzZSk7XG5cdFx0ICogICAgICBteVN0YWdlLmNhbnZhcyA9IGFub3RoZXJDYW52YXM7XG5cdFx0ICogICAgICBteVN0YWdlLmVuYWJsZURPTUV2ZW50cyh0cnVlKTtcblx0XHQgKlxuXHRcdCAqIEBwcm9wZXJ0eSBjYW52YXNcblx0XHQgKiBAdHlwZSBIVE1MQ2FudmFzRWxlbWVudCB8IE9iamVjdFxuXHRcdCAqKi9cblx0XHR0aGlzLmNhbnZhcyA9ICh0eXBlb2YgY2FudmFzID09IFwic3RyaW5nXCIpID8gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY2FudmFzKSA6IGNhbnZhcztcblx0XG5cdFx0LyoqXG5cdFx0ICogVGhlIGN1cnJlbnQgbW91c2UgWCBwb3NpdGlvbiBvbiB0aGUgY2FudmFzLiBJZiB0aGUgbW91c2UgbGVhdmVzIHRoZSBjYW52YXMsIHRoaXMgd2lsbCBpbmRpY2F0ZSB0aGUgbW9zdCByZWNlbnRcblx0XHQgKiBwb3NpdGlvbiBvdmVyIHRoZSBjYW52YXMsIGFuZCBtb3VzZUluQm91bmRzIHdpbGwgYmUgc2V0IHRvIGZhbHNlLlxuXHRcdCAqIEBwcm9wZXJ0eSBtb3VzZVhcblx0XHQgKiBAdHlwZSBOdW1iZXJcblx0XHQgKiBAcmVhZG9ubHlcblx0XHQgKiovXG5cdFx0dGhpcy5tb3VzZVggPSAwO1xuXHRcblx0XHQvKipcblx0XHQgKiBUaGUgY3VycmVudCBtb3VzZSBZIHBvc2l0aW9uIG9uIHRoZSBjYW52YXMuIElmIHRoZSBtb3VzZSBsZWF2ZXMgdGhlIGNhbnZhcywgdGhpcyB3aWxsIGluZGljYXRlIHRoZSBtb3N0IHJlY2VudFxuXHRcdCAqIHBvc2l0aW9uIG92ZXIgdGhlIGNhbnZhcywgYW5kIG1vdXNlSW5Cb3VuZHMgd2lsbCBiZSBzZXQgdG8gZmFsc2UuXG5cdFx0ICogQHByb3BlcnR5IG1vdXNlWVxuXHRcdCAqIEB0eXBlIE51bWJlclxuXHRcdCAqIEByZWFkb25seVxuXHRcdCAqKi9cblx0XHR0aGlzLm1vdXNlWSA9IDA7XG5cdFxuXHRcdC8qKlxuXHRcdCAqIFNwZWNpZmllcyB0aGUgYXJlYSBvZiB0aGUgc3RhZ2UgdG8gYWZmZWN0IHdoZW4gY2FsbGluZyB1cGRhdGUuIFRoaXMgY2FuIGJlIHVzZSB0byBzZWxlY3RpdmVseVxuXHRcdCAqIHJlLWRyYXcgc3BlY2lmaWMgcmVnaW9ucyBvZiB0aGUgY2FudmFzLiBJZiBudWxsLCB0aGUgd2hvbGUgY2FudmFzIGFyZWEgaXMgZHJhd24uXG5cdFx0ICogQHByb3BlcnR5IGRyYXdSZWN0XG5cdFx0ICogQHR5cGUge1JlY3RhbmdsZX1cblx0XHQgKi9cblx0XHR0aGlzLmRyYXdSZWN0ID0gbnVsbDtcblx0XG5cdFx0LyoqXG5cdFx0ICogSW5kaWNhdGVzIHdoZXRoZXIgZGlzcGxheSBvYmplY3RzIHNob3VsZCBiZSByZW5kZXJlZCBvbiB3aG9sZSBwaXhlbHMuIFlvdSBjYW4gc2V0IHRoZVxuXHRcdCAqIHt7I2Nyb3NzTGluayBcIkRpc3BsYXlPYmplY3Qvc25hcFRvUGl4ZWxcIn19e3svY3Jvc3NMaW5rfX0gcHJvcGVydHkgb2Zcblx0XHQgKiBkaXNwbGF5IG9iamVjdHMgdG8gZmFsc2UgdG8gZW5hYmxlL2Rpc2FibGUgdGhpcyBiZWhhdmlvdXIgb24gYSBwZXIgaW5zdGFuY2UgYmFzaXMuXG5cdFx0ICogQHByb3BlcnR5IHNuYXBUb1BpeGVsRW5hYmxlZFxuXHRcdCAqIEB0eXBlIEJvb2xlYW5cblx0XHQgKiBAZGVmYXVsdCBmYWxzZVxuXHRcdCAqKi9cblx0XHR0aGlzLnNuYXBUb1BpeGVsRW5hYmxlZCA9IGZhbHNlO1xuXHRcblx0XHQvKipcblx0XHQgKiBJbmRpY2F0ZXMgd2hldGhlciB0aGUgbW91c2UgaXMgY3VycmVudGx5IHdpdGhpbiB0aGUgYm91bmRzIG9mIHRoZSBjYW52YXMuXG5cdFx0ICogQHByb3BlcnR5IG1vdXNlSW5Cb3VuZHNcblx0XHQgKiBAdHlwZSBCb29sZWFuXG5cdFx0ICogQGRlZmF1bHQgZmFsc2Vcblx0XHQgKiovXG5cdFx0dGhpcy5tb3VzZUluQm91bmRzID0gZmFsc2U7XG5cdFxuXHRcdC8qKlxuXHRcdCAqIElmIHRydWUsIHRpY2sgY2FsbGJhY2tzIHdpbGwgYmUgY2FsbGVkIG9uIGFsbCBkaXNwbGF5IG9iamVjdHMgb24gdGhlIHN0YWdlIHByaW9yIHRvIHJlbmRlcmluZyB0byB0aGUgY2FudmFzLlxuXHRcdCAqIEBwcm9wZXJ0eSB0aWNrT25VcGRhdGVcblx0XHQgKiBAdHlwZSBCb29sZWFuXG5cdFx0ICogQGRlZmF1bHQgdHJ1ZVxuXHRcdCAqKi9cblx0XHR0aGlzLnRpY2tPblVwZGF0ZSA9IHRydWU7XG5cdFxuXHRcdC8qKlxuXHRcdCAqIElmIHRydWUsIG1vdXNlIG1vdmUgZXZlbnRzIHdpbGwgY29udGludWUgdG8gYmUgY2FsbGVkIHdoZW4gdGhlIG1vdXNlIGxlYXZlcyB0aGUgdGFyZ2V0IGNhbnZhcy4gU2VlXG5cdFx0ICoge3sjY3Jvc3NMaW5rIFwiU3RhZ2UvbW91c2VJbkJvdW5kczpwcm9wZXJ0eVwifX17ey9jcm9zc0xpbmt9fSwgYW5kIHt7I2Nyb3NzTGluayBcIk1vdXNlRXZlbnRcIn19e3svY3Jvc3NMaW5rfX1cblx0XHQgKiB4L3kvcmF3WC9yYXdZLlxuXHRcdCAqIEBwcm9wZXJ0eSBtb3VzZU1vdmVPdXRzaWRlXG5cdFx0ICogQHR5cGUgQm9vbGVhblxuXHRcdCAqIEBkZWZhdWx0IGZhbHNlXG5cdFx0ICoqL1xuXHRcdHRoaXMubW91c2VNb3ZlT3V0c2lkZSA9IGZhbHNlO1xuXHRcdFxuXHRcdFxuXHRcdC8qKlxuXHRcdCAqIFByZXZlbnRzIHNlbGVjdGlvbiBvZiBvdGhlciBlbGVtZW50cyBpbiB0aGUgaHRtbCBwYWdlIGlmIHRoZSB1c2VyIGNsaWNrcyBhbmQgZHJhZ3MsIG9yIGRvdWJsZSBjbGlja3Mgb24gdGhlIGNhbnZhcy5cblx0XHQgKiBUaGlzIHdvcmtzIGJ5IGNhbGxpbmcgYHByZXZlbnREZWZhdWx0KClgIG9uIGFueSBtb3VzZWRvd24gZXZlbnRzIChvciB0b3VjaCBlcXVpdmFsZW50KSBvcmlnaW5hdGluZyBvbiB0aGUgY2FudmFzLlxuXHRcdCAqIEBwcm9wZXJ0eSBwcmV2ZW50U2VsZWN0aW9uXG5cdFx0ICogQHR5cGUgQm9vbGVhblxuXHRcdCAqIEBkZWZhdWx0IHRydWVcblx0XHQgKiovXG5cdFx0dGhpcy5wcmV2ZW50U2VsZWN0aW9uID0gdHJ1ZTtcblx0XG5cdFx0LyoqXG5cdFx0ICogVGhlIGhpdEFyZWEgcHJvcGVydHkgaXMgbm90IHN1cHBvcnRlZCBmb3IgU3RhZ2UuXG5cdFx0ICogQHByb3BlcnR5IGhpdEFyZWFcblx0XHQgKiBAdHlwZSB7RGlzcGxheU9iamVjdH1cblx0XHQgKiBAZGVmYXVsdCBudWxsXG5cdFx0ICovXG5cdFx0IFxuXHRcdCBcblx0Ly8gcHJpdmF0ZSBwcm9wZXJ0aWVzOlxuXHRcdC8qKlxuXHRcdCAqIEhvbGRzIG9iamVjdHMgd2l0aCBkYXRhIGZvciBlYWNoIGFjdGl2ZSBwb2ludGVyIGlkLiBFYWNoIG9iamVjdCBoYXMgdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxuXHRcdCAqIHgsIHksIGV2ZW50LCB0YXJnZXQsIG92ZXJUYXJnZXQsIG92ZXJYLCBvdmVyWSwgaW5Cb3VuZHMsIHBvc0V2dE9iaiAobmF0aXZlIGV2ZW50IHRoYXQgbGFzdCB1cGRhdGVkIHBvc2l0aW9uKVxuXHRcdCAqIEBwcm9wZXJ0eSBfcG9pbnRlckRhdGFcblx0XHQgKiBAdHlwZSB7T2JqZWN0fVxuXHRcdCAqIEBwcml2YXRlXG5cdFx0ICovXG5cdFx0dGhpcy5fcG9pbnRlckRhdGEgPSB7fTtcblx0XG5cdFx0LyoqXG5cdFx0ICogTnVtYmVyIG9mIGFjdGl2ZSBwb2ludGVycy5cblx0XHQgKiBAcHJvcGVydHkgX3BvaW50ZXJDb3VudFxuXHRcdCAqIEB0eXBlIHtPYmplY3R9XG5cdFx0ICogQHByaXZhdGVcblx0XHQgKi9cblx0XHR0aGlzLl9wb2ludGVyQ291bnQgPSAwO1xuXHRcblx0XHQvKipcblx0XHQgKiBUaGUgSUQgb2YgdGhlIHByaW1hcnkgcG9pbnRlci5cblx0XHQgKiBAcHJvcGVydHkgX3ByaW1hcnlQb2ludGVySURcblx0XHQgKiBAdHlwZSB7T2JqZWN0fVxuXHRcdCAqIEBwcml2YXRlXG5cdFx0ICovXG5cdFx0dGhpcy5fcHJpbWFyeVBvaW50ZXJJRCA9IG51bGw7XG5cdFxuXHRcdC8qKlxuXHRcdCAqIEBwcm9wZXJ0eSBfbW91c2VPdmVySW50ZXJ2YWxJRFxuXHRcdCAqIEBwcm90ZWN0ZWRcblx0XHQgKiBAdHlwZSBOdW1iZXJcblx0XHQgKiovXG5cdFx0dGhpcy5fbW91c2VPdmVySW50ZXJ2YWxJRCA9IG51bGw7XG5cdFx0XG5cdFx0LyoqXG5cdFx0ICogQHByb3BlcnR5IF9uZXh0U3RhZ2Vcblx0XHQgKiBAcHJvdGVjdGVkXG5cdFx0ICogQHR5cGUgU3RhZ2Vcblx0XHQgKiovXG5cdFx0dGhpcy5fbmV4dFN0YWdlID0gbnVsbDtcblx0XHRcblx0XHQvKipcblx0XHQgKiBAcHJvcGVydHkgX3ByZXZTdGFnZVxuXHRcdCAqIEBwcm90ZWN0ZWRcblx0XHQgKiBAdHlwZSBTdGFnZVxuXHRcdCAqKi9cblx0XHR0aGlzLl9wcmV2U3RhZ2UgPSBudWxsO1xuXHRcdFxuXHRcdFxuXHQvLyBpbml0aWFsaXplOlxuXHRcdHRoaXMuZW5hYmxlRE9NRXZlbnRzKHRydWUpO1xuXHR9XG5cdHZhciBwID0gY3JlYXRlanMuZXh0ZW5kKFN0YWdlLCBjcmVhdGVqcy5Db250YWluZXIpO1xuXG4vLyBldmVudHM6XG5cdC8qKlxuXHQgKiBEaXNwYXRjaGVkIHdoZW4gdGhlIHVzZXIgbW92ZXMgdGhlIG1vdXNlIG92ZXIgdGhlIGNhbnZhcy5cblx0ICogU2VlIHRoZSB7eyNjcm9zc0xpbmsgXCJNb3VzZUV2ZW50XCJ9fXt7L2Nyb3NzTGlua319IGNsYXNzIGZvciBhIGxpc3Rpbmcgb2YgZXZlbnQgcHJvcGVydGllcy5cblx0ICogQGV2ZW50IHN0YWdlbW91c2Vtb3ZlXG5cdCAqIEBzaW5jZSAwLjYuMFxuXHQgKi9cblxuXHQvKipcblx0ICogRGlzcGF0Y2hlZCB3aGVuIHRoZSB1c2VyIHByZXNzZXMgdGhlaXIgbGVmdCBtb3VzZSBidXR0b24gb24gdGhlIGNhbnZhcy4gU2VlIHRoZSB7eyNjcm9zc0xpbmsgXCJNb3VzZUV2ZW50XCJ9fXt7L2Nyb3NzTGlua319XG5cdCAqIGNsYXNzIGZvciBhIGxpc3Rpbmcgb2YgZXZlbnQgcHJvcGVydGllcy5cblx0ICogQGV2ZW50IHN0YWdlbW91c2Vkb3duXG5cdCAqIEBzaW5jZSAwLjYuMFxuXHQgKi9cblxuXHQvKipcblx0ICogRGlzcGF0Y2hlZCB3aGVuIHRoZSB1c2VyIHRoZSB1c2VyIHByZXNzZXMgc29tZXdoZXJlIG9uIHRoZSBzdGFnZSwgdGhlbiByZWxlYXNlcyB0aGUgbW91c2UgYnV0dG9uIGFueXdoZXJlIHRoYXQgdGhlIHBhZ2UgY2FuIGRldGVjdCBpdCAodGhpcyB2YXJpZXMgc2xpZ2h0bHkgYmV0d2VlbiBicm93c2VycykuXG5cdCAqIFlvdSBjYW4gdXNlIHt7I2Nyb3NzTGluayBcIlN0YWdlL21vdXNlSW5Cb3VuZHM6cHJvcGVydHlcIn19e3svY3Jvc3NMaW5rfX0gdG8gY2hlY2sgd2hldGhlciB0aGUgbW91c2UgaXMgY3VycmVudGx5IHdpdGhpbiB0aGUgc3RhZ2UgYm91bmRzLlxuXHQgKiBTZWUgdGhlIHt7I2Nyb3NzTGluayBcIk1vdXNlRXZlbnRcIn19e3svY3Jvc3NMaW5rfX0gY2xhc3MgZm9yIGEgbGlzdGluZyBvZiBldmVudCBwcm9wZXJ0aWVzLlxuXHQgKiBAZXZlbnQgc3RhZ2Vtb3VzZXVwXG5cdCAqIEBzaW5jZSAwLjYuMFxuXHQgKi9cblxuXHQvKipcblx0ICogRGlzcGF0Y2hlZCB3aGVuIHRoZSBtb3VzZSBtb3ZlcyBmcm9tIHdpdGhpbiB0aGUgY2FudmFzIGFyZWEgKG1vdXNlSW5Cb3VuZHMgPT0gdHJ1ZSkgdG8gb3V0c2lkZSBpdCAobW91c2VJbkJvdW5kcyA9PSBmYWxzZSkuXG5cdCAqIFRoaXMgaXMgY3VycmVudGx5IG9ubHkgZGlzcGF0Y2hlZCBmb3IgbW91c2UgaW5wdXQgKG5vdCB0b3VjaCkuIFNlZSB0aGUge3sjY3Jvc3NMaW5rIFwiTW91c2VFdmVudFwifX17ey9jcm9zc0xpbmt9fVxuXHQgKiBjbGFzcyBmb3IgYSBsaXN0aW5nIG9mIGV2ZW50IHByb3BlcnRpZXMuXG5cdCAqIEBldmVudCBtb3VzZWxlYXZlXG5cdCAqIEBzaW5jZSAwLjcuMFxuXHQgKi9cblxuXHQvKipcblx0ICogRGlzcGF0Y2hlZCB3aGVuIHRoZSBtb3VzZSBtb3ZlcyBpbnRvIHRoZSBjYW52YXMgYXJlYSAobW91c2VJbkJvdW5kcyA9PSBmYWxzZSkgZnJvbSBvdXRzaWRlIGl0IChtb3VzZUluQm91bmRzID09IHRydWUpLlxuXHQgKiBUaGlzIGlzIGN1cnJlbnRseSBvbmx5IGRpc3BhdGNoZWQgZm9yIG1vdXNlIGlucHV0IChub3QgdG91Y2gpLiBTZWUgdGhlIHt7I2Nyb3NzTGluayBcIk1vdXNlRXZlbnRcIn19e3svY3Jvc3NMaW5rfX1cblx0ICogY2xhc3MgZm9yIGEgbGlzdGluZyBvZiBldmVudCBwcm9wZXJ0aWVzLlxuXHQgKiBAZXZlbnQgbW91c2VlbnRlclxuXHQgKiBAc2luY2UgMC43LjBcblx0ICovXG5cdCBcblx0LyoqXG5cdCAqIERpc3BhdGNoZWQgZWFjaCB1cGRhdGUgaW1tZWRpYXRlbHkgYmVmb3JlIHRoZSB0aWNrIGV2ZW50IGlzIHByb3BhZ2F0ZWQgdGhyb3VnaCB0aGUgZGlzcGxheSBsaXN0LlxuXHQgKiBZb3UgY2FuIGNhbGwgcHJldmVudERlZmF1bHQgb24gdGhlIGV2ZW50IG9iamVjdCB0byBjYW5jZWwgcHJvcGFnYXRpbmcgdGhlIHRpY2sgZXZlbnQuXG5cdCAqIEBldmVudCB0aWNrc3RhcnRcblx0ICogQHNpbmNlIDAuNy4wXG5cdCAqL1xuXHQgXG5cdC8qKlxuXHQgKiBEaXNwYXRjaGVkIGVhY2ggdXBkYXRlIGltbWVkaWF0ZWx5IGFmdGVyIHRoZSB0aWNrIGV2ZW50IGlzIHByb3BhZ2F0ZWQgdGhyb3VnaCB0aGUgZGlzcGxheSBsaXN0LiBEb2VzIG5vdCBmaXJlIGlmXG5cdCAqIHRpY2tPblVwZGF0ZSBpcyBmYWxzZS4gUHJlY2VkZXMgdGhlIFwiZHJhd3N0YXJ0XCIgZXZlbnQuXG5cdCAqIEBldmVudCB0aWNrZW5kXG5cdCAqIEBzaW5jZSAwLjcuMFxuXHQgKi9cblx0IFxuXHQvKipcblx0ICogRGlzcGF0Y2hlZCBlYWNoIHVwZGF0ZSBpbW1lZGlhdGVseSBiZWZvcmUgdGhlIGNhbnZhcyBpcyBjbGVhcmVkIGFuZCB0aGUgZGlzcGxheSBsaXN0IGlzIGRyYXduIHRvIGl0LlxuXHQgKiBZb3UgY2FuIGNhbGwgcHJldmVudERlZmF1bHQgb24gdGhlIGV2ZW50IG9iamVjdCB0byBjYW5jZWwgdGhlIGRyYXcuXG5cdCAqIEBldmVudCBkcmF3c3RhcnRcblx0ICogQHNpbmNlIDAuNy4wXG5cdCAqL1xuXHQgXG5cdC8qKlxuXHQgKiBEaXNwYXRjaGVkIGVhY2ggdXBkYXRlIGltbWVkaWF0ZWx5IGFmdGVyIHRoZSBkaXNwbGF5IGxpc3QgaXMgZHJhd24gdG8gdGhlIGNhbnZhcyBhbmQgdGhlIGNhbnZhcyBjb250ZXh0IGlzIHJlc3RvcmVkLlxuXHQgKiBAZXZlbnQgZHJhd2VuZFxuXHQgKiBAc2luY2UgMC43LjBcblx0ICovXG5cblx0IFxuLy8gZ2V0dGVyIC8gc2V0dGVyczpcblx0LyoqXG5cdCAqIFNwZWNpZmllcyBhIHRhcmdldCBzdGFnZSB0aGF0IHdpbGwgaGF2ZSBtb3VzZSAvIHRvdWNoIGludGVyYWN0aW9ucyByZWxheWVkIHRvIGl0IGFmdGVyIHRoaXMgc3RhZ2UgaGFuZGxlcyB0aGVtLlxuXHQgKiBUaGlzIGNhbiBiZSB1c2VmdWwgaW4gY2FzZXMgd2hlcmUgeW91IGhhdmUgbXVsdGlwbGUgbGF5ZXJlZCBjYW52YXNlcyBhbmQgd2FudCB1c2VyIGludGVyYWN0aW9uc1xuXHQgKiBldmVudHMgdG8gcGFzcyB0aHJvdWdoLiBGb3IgZXhhbXBsZSwgdGhpcyB3b3VsZCByZWxheSBtb3VzZSBldmVudHMgZnJvbSB0b3BTdGFnZSB0byBib3R0b21TdGFnZTpcblx0ICpcblx0ICogICAgICB0b3BTdGFnZS5uZXh0U3RhZ2UgPSBib3R0b21TdGFnZTtcblx0ICpcblx0ICogVG8gZGlzYWJsZSByZWxheWluZywgc2V0IG5leHRTdGFnZSB0byBudWxsLlxuXHQgKiBcblx0ICogTW91c2VPdmVyLCBNb3VzZU91dCwgUm9sbE92ZXIsIGFuZCBSb2xsT3V0IGludGVyYWN0aW9ucyBhcmUgYWxzbyBwYXNzZWQgdGhyb3VnaCB1c2luZyB0aGUgbW91c2Ugb3ZlciBzZXR0aW5nc1xuXHQgKiBvZiB0aGUgdG9wLW1vc3Qgc3RhZ2UsIGJ1dCBhcmUgb25seSBwcm9jZXNzZWQgaWYgdGhlIHRhcmdldCBzdGFnZSBoYXMgbW91c2Ugb3ZlciBpbnRlcmFjdGlvbnMgZW5hYmxlZC5cblx0ICogQ29uc2lkZXJhdGlvbnMgd2hlbiB1c2luZyByb2xsIG92ZXIgaW4gcmVsYXkgdGFyZ2V0czo8T0w+XG5cdCAqIDxMST4gVGhlIHRvcC1tb3N0IChmaXJzdCkgc3RhZ2UgbXVzdCBoYXZlIG1vdXNlIG92ZXIgaW50ZXJhY3Rpb25zIGVuYWJsZWQgKHZpYSBlbmFibGVNb3VzZU92ZXIpPC9MST5cblx0ICogPExJPiBBbGwgc3RhZ2VzIHRoYXQgd2lzaCB0byBwYXJ0aWNpcGF0ZSBpbiBtb3VzZSBvdmVyIGludGVyYWN0aW9uIG11c3QgZW5hYmxlIHRoZW0gdmlhIGVuYWJsZU1vdXNlT3ZlcjwvTEk+XG5cdCAqIDxMST4gQWxsIHJlbGF5IHRhcmdldHMgd2lsbCBzaGFyZSB0aGUgZnJlcXVlbmN5IHZhbHVlIG9mIHRoZSB0b3AtbW9zdCBzdGFnZTwvTEk+XG5cdCAqIDwvT0w+XG5cdCAqIFRvIGlsbHVzdHJhdGUsIGluIHRoaXMgZXhhbXBsZSB0aGUgdGFyZ2V0U3RhZ2Ugd291bGQgcHJvY2VzcyBtb3VzZSBvdmVyIGludGVyYWN0aW9ucyBhdCAxMGh6IChkZXNwaXRlIHBhc3Npbmdcblx0ICogMzAgYXMgaXQncyBkZXNpcmVkIGZyZXF1ZW5jeSk6XG5cdCAqIFx0dG9wU3RhZ2UubmV4dFN0YWdlID0gdGFyZ2V0U3RhZ2U7XG5cdCAqIFx0dG9wU3RhZ2UuZW5hYmxlTW91c2VPdmVyKDEwKTtcblx0ICogXHR0YXJnZXRTdGFnZS5lbmFibGVNb3VzZU92ZXIoMzApO1xuXHQgKiBcblx0ICogSWYgdGhlIHRhcmdldCBzdGFnZSdzIGNhbnZhcyBpcyBjb21wbGV0ZWx5IGNvdmVyZWQgYnkgdGhpcyBzdGFnZSdzIGNhbnZhcywgeW91IG1heSBhbHNvIHdhbnQgdG8gZGlzYWJsZSBpdHNcblx0ICogRE9NIGV2ZW50cyB1c2luZzpcblx0ICogXG5cdCAqXHR0YXJnZXRTdGFnZS5lbmFibGVET01FdmVudHMoZmFsc2UpO1xuXHQgKiBcblx0ICogQHByb3BlcnR5IG5leHRTdGFnZVxuXHQgKiBAdHlwZSB7U3RhZ2V9XG5cdCAqKi9cblx0cC5fZ2V0X25leHRTdGFnZSA9IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLl9uZXh0U3RhZ2U7XG5cdH07XG5cdHAuX3NldF9uZXh0U3RhZ2UgPSBmdW5jdGlvbih2YWx1ZSkge1xuXHRcdGlmICh0aGlzLl9uZXh0U3RhZ2UpIHsgdGhpcy5fbmV4dFN0YWdlLl9wcmV2U3RhZ2UgPSBudWxsOyB9XG5cdFx0aWYgKHZhbHVlKSB7IHZhbHVlLl9wcmV2U3RhZ2UgPSB0aGlzOyB9XG5cdFx0dGhpcy5fbmV4dFN0YWdlID0gdmFsdWU7XG5cdH07XG5cdFxuXHR0cnkge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHAsIHtcblx0XHRcdG5leHRTdGFnZTogeyBnZXQ6IHAuX2dldF9uZXh0U3RhZ2UsIHNldDogcC5fc2V0X25leHRTdGFnZSB9XG5cdFx0fSk7XG5cdH0gY2F0Y2ggKGUpIHt9IC8vIFRPRE86IHVzZSBMb2dcblxuXG4vLyBwdWJsaWMgbWV0aG9kczpcblx0LyoqXG5cdCAqIEVhY2ggdGltZSB0aGUgdXBkYXRlIG1ldGhvZCBpcyBjYWxsZWQsIHRoZSBzdGFnZSB3aWxsIGNhbGwge3sjY3Jvc3NMaW5rIFwiU3RhZ2UvdGlja1wifX17ey9jcm9zc0xpbmt9fVxuXHQgKiB1bmxlc3Mge3sjY3Jvc3NMaW5rIFwiU3RhZ2UvdGlja09uVXBkYXRlOnByb3BlcnR5XCJ9fXt7L2Nyb3NzTGlua319IGlzIHNldCB0byBmYWxzZSxcblx0ICogYW5kIHRoZW4gcmVuZGVyIHRoZSBkaXNwbGF5IGxpc3QgdG8gdGhlIGNhbnZhcy5cblx0ICpcblx0ICogQG1ldGhvZCB1cGRhdGVcblx0ICogQHBhcmFtIHtPYmplY3R9IFtwcm9wc10gUHJvcHMgb2JqZWN0IHRvIHBhc3MgdG8gYHRpY2soKWAuIFNob3VsZCB1c3VhbGx5IGJlIGEge3sjY3Jvc3NMaW5rIFwiVGlja2VyXCJ9fXt7L2Nyb3NzTGlua319IGV2ZW50IG9iamVjdCwgb3Igc2ltaWxhciBvYmplY3Qgd2l0aCBhIGRlbHRhIHByb3BlcnR5LlxuXHQgKiovXG5cdHAudXBkYXRlID0gZnVuY3Rpb24ocHJvcHMpIHtcblx0XHRpZiAoIXRoaXMuY2FudmFzKSB7IHJldHVybjsgfVxuXHRcdGlmICh0aGlzLnRpY2tPblVwZGF0ZSkgeyB0aGlzLnRpY2socHJvcHMpOyB9XG5cdFx0aWYgKHRoaXMuZGlzcGF0Y2hFdmVudChcImRyYXdzdGFydFwiLCBmYWxzZSwgdHJ1ZSkgPT09IGZhbHNlKSB7IHJldHVybjsgfVxuXHRcdGNyZWF0ZWpzLkRpc3BsYXlPYmplY3QuX3NuYXBUb1BpeGVsRW5hYmxlZCA9IHRoaXMuc25hcFRvUGl4ZWxFbmFibGVkO1xuXHRcdHZhciByID0gdGhpcy5kcmF3UmVjdCwgY3R4ID0gdGhpcy5jYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuXHRcdGN0eC5zZXRUcmFuc2Zvcm0oMSwgMCwgMCwgMSwgMCwgMCk7XG5cdFx0aWYgKHRoaXMuYXV0b0NsZWFyKSB7XG5cdFx0XHRpZiAocikgeyBjdHguY2xlYXJSZWN0KHIueCwgci55LCByLndpZHRoLCByLmhlaWdodCk7IH1cblx0XHRcdGVsc2UgeyBjdHguY2xlYXJSZWN0KDAsIDAsIHRoaXMuY2FudmFzLndpZHRoKzEsIHRoaXMuY2FudmFzLmhlaWdodCsxKTsgfVxuXHRcdH1cblx0XHRjdHguc2F2ZSgpO1xuXHRcdGlmICh0aGlzLmRyYXdSZWN0KSB7XG5cdFx0XHRjdHguYmVnaW5QYXRoKCk7XG5cdFx0XHRjdHgucmVjdChyLngsIHIueSwgci53aWR0aCwgci5oZWlnaHQpO1xuXHRcdFx0Y3R4LmNsaXAoKTtcblx0XHR9XG5cdFx0dGhpcy51cGRhdGVDb250ZXh0KGN0eCk7XG5cdFx0dGhpcy5kcmF3KGN0eCwgZmFsc2UpO1xuXHRcdGN0eC5yZXN0b3JlKCk7XG5cdFx0dGhpcy5kaXNwYXRjaEV2ZW50KFwiZHJhd2VuZFwiKTtcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBQcm9wYWdhdGVzIGEgdGljayBldmVudCB0aHJvdWdoIHRoZSBkaXNwbGF5IGxpc3QuIFRoaXMgaXMgYXV0b21hdGljYWxseSBjYWxsZWQgYnkge3sjY3Jvc3NMaW5rIFwiU3RhZ2UvdXBkYXRlXCJ9fXt7L2Nyb3NzTGlua319XG5cdCAqIHVubGVzcyB7eyNjcm9zc0xpbmsgXCJTdGFnZS90aWNrT25VcGRhdGU6cHJvcGVydHlcIn19e3svY3Jvc3NMaW5rfX0gaXMgc2V0IHRvIGZhbHNlLlxuXHQgKlxuXHQgKiBJZiBhIHByb3BzIG9iamVjdCBpcyBwYXNzZWQgdG8gYHRpY2soKWAsIHRoZW4gYWxsIG9mIGl0cyBwcm9wZXJ0aWVzIHdpbGwgYmUgY29waWVkIHRvIHRoZSBldmVudCBvYmplY3QgdGhhdCBpc1xuXHQgKiBwcm9wYWdhdGVkIHRvIGxpc3RlbmVycy5cblx0ICpcblx0ICogU29tZSB0aW1lLWJhc2VkIGZlYXR1cmVzIGluIEVhc2VsSlMgKGZvciBleGFtcGxlIHt7I2Nyb3NzTGluayBcIlNwcml0ZS9mcmFtZXJhdGVcIn19e3svY3Jvc3NMaW5rfX0gcmVxdWlyZSB0aGF0XG5cdCAqIGEge3sjY3Jvc3NMaW5rIFwiVGlja2VyL3RpY2s6ZXZlbnRcIn19e3svY3Jvc3NMaW5rfX0gZXZlbnQgb2JqZWN0IChvciBlcXVpdmFsZW50IG9iamVjdCB3aXRoIGEgZGVsdGEgcHJvcGVydHkpIGJlXG5cdCAqIHBhc3NlZCBhcyB0aGUgYHByb3BzYCBwYXJhbWV0ZXIgdG8gYHRpY2soKWAuIEZvciBleGFtcGxlOlxuXHQgKlxuXHQgKiBcdFRpY2tlci5vbihcInRpY2tcIiwgaGFuZGxlVGljayk7XG5cdCAqIFx0ZnVuY3Rpb24gaGFuZGxlVGljayhldnRPYmopIHtcblx0ICogXHRcdC8vIGNsb25lIHRoZSBldmVudCBvYmplY3QgZnJvbSBUaWNrZXIsIGFuZCBhZGQgc29tZSBjdXN0b20gZGF0YSB0byBpdDpcblx0ICogXHRcdHZhciBldnQgPSBldnRPYmouY2xvbmUoKS5zZXQoe2dyZWV0aW5nOlwiaGVsbG9cIiwgbmFtZTpcIndvcmxkXCJ9KTtcblx0ICogXHRcdFxuXHQgKiBcdFx0Ly8gcGFzcyBpdCB0byBzdGFnZS51cGRhdGUoKTpcblx0ICogXHRcdG15U3RhZ2UudXBkYXRlKGV2dCk7IC8vIHN1YnNlcXVlbnRseSBjYWxscyB0aWNrKCkgd2l0aCB0aGUgc2FtZSBwYXJhbVxuXHQgKiBcdH1cblx0ICogXHRcblx0ICogXHQvLyAuLi5cblx0ICogXHRteURpc3BsYXlPYmplY3Qub24oXCJ0aWNrXCIsIGhhbmRsZURpc3BsYXlPYmplY3RUaWNrKTtcblx0ICogXHRmdW5jdGlvbiBoYW5kbGVEaXNwbGF5T2JqZWN0VGljayhldnQpIHtcblx0ICogXHRcdGNvbnNvbGUubG9nKGV2dC5kZWx0YSk7IC8vIHRoZSBkZWx0YSBwcm9wZXJ0eSBmcm9tIHRoZSBUaWNrZXIgdGljayBldmVudCBvYmplY3Rcblx0ICogXHRcdGNvbnNvbGUubG9nKGV2dC5ncmVldGluZywgZXZ0Lm5hbWUpOyAvLyBjdXN0b20gZGF0YTogXCJoZWxsbyB3b3JsZFwiXG5cdCAqIFx0fVxuXHQgKiBcblx0ICogQG1ldGhvZCB0aWNrXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBbcHJvcHNdIEFuIG9iamVjdCB3aXRoIHByb3BlcnRpZXMgdGhhdCBzaG91bGQgYmUgY29waWVkIHRvIHRoZSBldmVudCBvYmplY3QuIFNob3VsZCB1c3VhbGx5IGJlIGEgVGlja2VyIGV2ZW50IG9iamVjdCwgb3Igc2ltaWxhciBvYmplY3Qgd2l0aCBhIGRlbHRhIHByb3BlcnR5LlxuXHQgKiovXG5cdHAudGljayA9IGZ1bmN0aW9uKHByb3BzKSB7XG5cdFx0aWYgKCF0aGlzLnRpY2tFbmFibGVkIHx8IHRoaXMuZGlzcGF0Y2hFdmVudChcInRpY2tzdGFydFwiLCBmYWxzZSwgdHJ1ZSkgPT09IGZhbHNlKSB7IHJldHVybjsgfVxuXHRcdHZhciBldnRPYmogPSBuZXcgY3JlYXRlanMuRXZlbnQoXCJ0aWNrXCIpO1xuXHRcdGlmIChwcm9wcykge1xuXHRcdFx0Zm9yICh2YXIgbiBpbiBwcm9wcykge1xuXHRcdFx0XHRpZiAocHJvcHMuaGFzT3duUHJvcGVydHkobikpIHsgZXZ0T2JqW25dID0gcHJvcHNbbl07IH1cblx0XHRcdH1cblx0XHR9XG5cdFx0dGhpcy5fdGljayhldnRPYmopO1xuXHRcdHRoaXMuZGlzcGF0Y2hFdmVudChcInRpY2tlbmRcIik7XG5cdH07XG5cblx0LyoqXG5cdCAqIERlZmF1bHQgZXZlbnQgaGFuZGxlciB0aGF0IGNhbGxzIHRoZSBTdGFnZSB7eyNjcm9zc0xpbmsgXCJTdGFnZS91cGRhdGVcIn19e3svY3Jvc3NMaW5rfX0gbWV0aG9kIHdoZW4gYSB7eyNjcm9zc0xpbmsgXCJEaXNwbGF5T2JqZWN0L3RpY2s6ZXZlbnRcIn19e3svY3Jvc3NMaW5rfX1cblx0ICogZXZlbnQgaXMgcmVjZWl2ZWQuIFRoaXMgYWxsb3dzIHlvdSB0byByZWdpc3RlciBhIFN0YWdlIGluc3RhbmNlIGFzIGEgZXZlbnQgbGlzdGVuZXIgb24ge3sjY3Jvc3NMaW5rIFwiVGlja2VyXCJ9fXt7L2Nyb3NzTGlua319XG5cdCAqIGRpcmVjdGx5LCB1c2luZzpcblx0ICpcblx0ICogICAgICBUaWNrZXIuYWRkRXZlbnRMaXN0ZW5lcihcInRpY2tcIiwgbXlTdGFnZSk7XG5cdCAqXG5cdCAqIE5vdGUgdGhhdCBpZiB5b3Ugc3Vic2NyaWJlIHRvIHRpY2tzIHVzaW5nIHRoaXMgcGF0dGVybiwgdGhlbiB0aGUgdGljayBldmVudCBvYmplY3Qgd2lsbCBiZSBwYXNzZWQgdGhyb3VnaCB0b1xuXHQgKiBkaXNwbGF5IG9iamVjdCB0aWNrIGhhbmRsZXJzLCBpbnN0ZWFkIG9mIDxjb2RlPmRlbHRhPC9jb2RlPiBhbmQgPGNvZGU+cGF1c2VkPC9jb2RlPiBwYXJhbWV0ZXJzLlxuXHQgKiBAcHJvcGVydHkgaGFuZGxlRXZlbnRcblx0ICogQHR5cGUgRnVuY3Rpb25cblx0ICoqL1xuXHRwLmhhbmRsZUV2ZW50ID0gZnVuY3Rpb24oZXZ0KSB7XG5cdFx0aWYgKGV2dC50eXBlID09IFwidGlja1wiKSB7IHRoaXMudXBkYXRlKGV2dCk7IH1cblx0fTtcblxuXHQvKipcblx0ICogQ2xlYXJzIHRoZSB0YXJnZXQgY2FudmFzLiBVc2VmdWwgaWYge3sjY3Jvc3NMaW5rIFwiU3RhZ2UvYXV0b0NsZWFyOnByb3BlcnR5XCJ9fXt7L2Nyb3NzTGlua319IGlzIHNldCB0byBgZmFsc2VgLlxuXHQgKiBAbWV0aG9kIGNsZWFyXG5cdCAqKi9cblx0cC5jbGVhciA9IGZ1bmN0aW9uKCkge1xuXHRcdGlmICghdGhpcy5jYW52YXMpIHsgcmV0dXJuOyB9XG5cdFx0dmFyIGN0eCA9IHRoaXMuY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcblx0XHRjdHguc2V0VHJhbnNmb3JtKDEsIDAsIDAsIDEsIDAsIDApO1xuXHRcdGN0eC5jbGVhclJlY3QoMCwgMCwgdGhpcy5jYW52YXMud2lkdGgrMSwgdGhpcy5jYW52YXMuaGVpZ2h0KzEpO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBSZXR1cm5zIGEgZGF0YSB1cmwgdGhhdCBjb250YWlucyBhIEJhc2U2NC1lbmNvZGVkIGltYWdlIG9mIHRoZSBjb250ZW50cyBvZiB0aGUgc3RhZ2UuIFRoZSByZXR1cm5lZCBkYXRhIHVybCBjYW5cblx0ICogYmUgc3BlY2lmaWVkIGFzIHRoZSBzcmMgdmFsdWUgb2YgYW4gaW1hZ2UgZWxlbWVudC5cblx0ICogQG1ldGhvZCB0b0RhdGFVUkxcblx0ICogQHBhcmFtIHtTdHJpbmd9IFtiYWNrZ3JvdW5kQ29sb3JdIFRoZSBiYWNrZ3JvdW5kIGNvbG9yIHRvIGJlIHVzZWQgZm9yIHRoZSBnZW5lcmF0ZWQgaW1hZ2UuIEFueSB2YWxpZCBDU1MgY29sb3Jcblx0ICogdmFsdWUgaXMgYWxsb3dlZC4gVGhlIGRlZmF1bHQgdmFsdWUgaXMgYSB0cmFuc3BhcmVudCBiYWNrZ3JvdW5kLlxuXHQgKiBAcGFyYW0ge1N0cmluZ30gW21pbWVUeXBlPVwiaW1hZ2UvcG5nXCJdIFRoZSBNSU1FIHR5cGUgb2YgdGhlIGltYWdlIGZvcm1hdCB0byBiZSBjcmVhdGUuIFRoZSBkZWZhdWx0IGlzIFwiaW1hZ2UvcG5nXCIuIElmIGFuIHVua25vd24gTUlNRSB0eXBlXG5cdCAqIGlzIHBhc3NlZCBpbiwgb3IgaWYgdGhlIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCB0aGUgc3BlY2lmaWVkIE1JTUUgdHlwZSwgdGhlIGRlZmF1bHQgdmFsdWUgd2lsbCBiZSB1c2VkLlxuXHQgKiBAcmV0dXJuIHtTdHJpbmd9IGEgQmFzZTY0IGVuY29kZWQgaW1hZ2UuXG5cdCAqKi9cblx0cC50b0RhdGFVUkwgPSBmdW5jdGlvbihiYWNrZ3JvdW5kQ29sb3IsIG1pbWVUeXBlKSB7XG5cdFx0dmFyIGRhdGEsIGN0eCA9IHRoaXMuY2FudmFzLmdldENvbnRleHQoJzJkJyksIHcgPSB0aGlzLmNhbnZhcy53aWR0aCwgaCA9IHRoaXMuY2FudmFzLmhlaWdodDtcblxuXHRcdGlmIChiYWNrZ3JvdW5kQ29sb3IpIHtcblx0XHRcdGRhdGEgPSBjdHguZ2V0SW1hZ2VEYXRhKDAsIDAsIHcsIGgpO1xuXHRcdFx0dmFyIGNvbXBvc2l0ZU9wZXJhdGlvbiA9IGN0eC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb247XG5cdFx0XHRjdHguZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gXCJkZXN0aW5hdGlvbi1vdmVyXCI7XG5cdFx0XHRcblx0XHRcdGN0eC5maWxsU3R5bGUgPSBiYWNrZ3JvdW5kQ29sb3I7XG5cdFx0XHRjdHguZmlsbFJlY3QoMCwgMCwgdywgaCk7XG5cdFx0fVxuXG5cdFx0dmFyIGRhdGFVUkwgPSB0aGlzLmNhbnZhcy50b0RhdGFVUkwobWltZVR5cGV8fFwiaW1hZ2UvcG5nXCIpO1xuXG5cdFx0aWYoYmFja2dyb3VuZENvbG9yKSB7XG5cdFx0XHRjdHgucHV0SW1hZ2VEYXRhKGRhdGEsIDAsIDApO1xuXHRcdFx0Y3R4Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9IGNvbXBvc2l0ZU9wZXJhdGlvbjtcblx0XHR9XG5cblx0XHRyZXR1cm4gZGF0YVVSTDtcblx0fTtcblxuXHQvKipcblx0ICogRW5hYmxlcyBvciBkaXNhYmxlcyAoYnkgcGFzc2luZyBhIGZyZXF1ZW5jeSBvZiAwKSBtb3VzZSBvdmVyICh7eyNjcm9zc0xpbmsgXCJEaXNwbGF5T2JqZWN0L21vdXNlb3ZlcjpldmVudFwifX17ey9jcm9zc0xpbmt9fVxuXHQgKiBhbmQge3sjY3Jvc3NMaW5rIFwiRGlzcGxheU9iamVjdC9tb3VzZW91dDpldmVudFwifX17ey9jcm9zc0xpbmt9fSkgYW5kIHJvbGwgb3ZlciBldmVudHMgKHt7I2Nyb3NzTGluayBcIkRpc3BsYXlPYmplY3Qvcm9sbG92ZXI6ZXZlbnRcIn19e3svY3Jvc3NMaW5rfX1cblx0ICogYW5kIHt7I2Nyb3NzTGluayBcIkRpc3BsYXlPYmplY3Qvcm9sbG91dDpldmVudFwifX17ey9jcm9zc0xpbmt9fSkgZm9yIHRoaXMgc3RhZ2UncyBkaXNwbGF5IGxpc3QuIFRoZXNlIGV2ZW50cyBjYW5cblx0ICogYmUgZXhwZW5zaXZlIHRvIGdlbmVyYXRlLCBzbyB0aGV5IGFyZSBkaXNhYmxlZCBieSBkZWZhdWx0LiBUaGUgZnJlcXVlbmN5IG9mIHRoZSBldmVudHMgY2FuIGJlIGNvbnRyb2xsZWRcblx0ICogaW5kZXBlbmRlbnRseSBvZiBtb3VzZSBtb3ZlIGV2ZW50cyB2aWEgdGhlIG9wdGlvbmFsIGBmcmVxdWVuY3lgIHBhcmFtZXRlci5cblx0ICpcblx0ICogPGg0PkV4YW1wbGU8L2g0PlxuXHQgKlxuXHQgKiAgICAgIHZhciBzdGFnZSA9IG5ldyBjcmVhdGVqcy5TdGFnZShcImNhbnZhc0lkXCIpO1xuXHQgKiAgICAgIHN0YWdlLmVuYWJsZU1vdXNlT3ZlcigxMCk7IC8vIDEwIHVwZGF0ZXMgcGVyIHNlY29uZFxuXHQgKlxuXHQgKiBAbWV0aG9kIGVuYWJsZU1vdXNlT3ZlclxuXHQgKiBAcGFyYW0ge051bWJlcn0gW2ZyZXF1ZW5jeT0yMF0gT3B0aW9uYWwgcGFyYW0gc3BlY2lmeWluZyB0aGUgbWF4aW11bSBudW1iZXIgb2YgdGltZXMgcGVyIHNlY29uZCB0byBicm9hZGNhc3Rcblx0ICogbW91c2Ugb3Zlci9vdXQgZXZlbnRzLiBTZXQgdG8gMCB0byBkaXNhYmxlIG1vdXNlIG92ZXIgZXZlbnRzIGNvbXBsZXRlbHkuIE1heGltdW0gaXMgNTAuIEEgbG93ZXIgZnJlcXVlbmN5IGlzIGxlc3Ncblx0ICogcmVzcG9uc2l2ZSwgYnV0IHVzZXMgbGVzcyBDUFUuXG5cdCAqKi9cblx0cC5lbmFibGVNb3VzZU92ZXIgPSBmdW5jdGlvbihmcmVxdWVuY3kpIHtcblx0XHRpZiAodGhpcy5fbW91c2VPdmVySW50ZXJ2YWxJRCkge1xuXHRcdFx0Y2xlYXJJbnRlcnZhbCh0aGlzLl9tb3VzZU92ZXJJbnRlcnZhbElEKTtcblx0XHRcdHRoaXMuX21vdXNlT3ZlckludGVydmFsSUQgPSBudWxsO1xuXHRcdFx0aWYgKGZyZXF1ZW5jeSA9PSAwKSB7XG5cdFx0XHRcdHRoaXMuX3Rlc3RNb3VzZU92ZXIodHJ1ZSk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGlmIChmcmVxdWVuY3kgPT0gbnVsbCkgeyBmcmVxdWVuY3kgPSAyMDsgfVxuXHRcdGVsc2UgaWYgKGZyZXF1ZW5jeSA8PSAwKSB7IHJldHVybjsgfVxuXHRcdHZhciBvID0gdGhpcztcblx0XHR0aGlzLl9tb3VzZU92ZXJJbnRlcnZhbElEID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXsgby5fdGVzdE1vdXNlT3ZlcigpOyB9LCAxMDAwL01hdGgubWluKDUwLGZyZXF1ZW5jeSkpO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBFbmFibGVzIG9yIGRpc2FibGVzIHRoZSBldmVudCBsaXN0ZW5lcnMgdGhhdCBzdGFnZSBhZGRzIHRvIERPTSBlbGVtZW50cyAod2luZG93LCBkb2N1bWVudCBhbmQgY2FudmFzKS4gSXQgaXMgZ29vZFxuXHQgKiBwcmFjdGljZSB0byBkaXNhYmxlIGV2ZW50cyB3aGVuIGRpc3Bvc2luZyBvZiBhIFN0YWdlIGluc3RhbmNlLCBvdGhlcndpc2UgdGhlIHN0YWdlIHdpbGwgY29udGludWUgdG8gcmVjZWl2ZVxuXHQgKiBldmVudHMgZnJvbSB0aGUgcGFnZS5cblx0ICpcblx0ICogV2hlbiBjaGFuZ2luZyB0aGUgY2FudmFzIHByb3BlcnR5IHlvdSBtdXN0IGRpc2FibGUgdGhlIGV2ZW50cyBvbiB0aGUgb2xkIGNhbnZhcywgYW5kIGVuYWJsZSBldmVudHMgb24gdGhlXG5cdCAqIG5ldyBjYW52YXMgb3IgbW91c2UgZXZlbnRzIHdpbGwgbm90IHdvcmsgYXMgZXhwZWN0ZWQuIEZvciBleGFtcGxlOlxuXHQgKlxuXHQgKiAgICAgIG15U3RhZ2UuZW5hYmxlRE9NRXZlbnRzKGZhbHNlKTtcblx0ICogICAgICBteVN0YWdlLmNhbnZhcyA9IGFub3RoZXJDYW52YXM7XG5cdCAqICAgICAgbXlTdGFnZS5lbmFibGVET01FdmVudHModHJ1ZSk7XG5cdCAqXG5cdCAqIEBtZXRob2QgZW5hYmxlRE9NRXZlbnRzXG5cdCAqIEBwYXJhbSB7Qm9vbGVhbn0gW2VuYWJsZT10cnVlXSBJbmRpY2F0ZXMgd2hldGhlciB0byBlbmFibGUgb3IgZGlzYWJsZSB0aGUgZXZlbnRzLiBEZWZhdWx0IGlzIHRydWUuXG5cdCAqKi9cblx0cC5lbmFibGVET01FdmVudHMgPSBmdW5jdGlvbihlbmFibGUpIHtcblx0XHRpZiAoZW5hYmxlID09IG51bGwpIHsgZW5hYmxlID0gdHJ1ZTsgfVxuXHRcdHZhciBuLCBvLCBscyA9IHRoaXMuX2V2ZW50TGlzdGVuZXJzO1xuXHRcdGlmICghZW5hYmxlICYmIGxzKSB7XG5cdFx0XHRmb3IgKG4gaW4gbHMpIHtcblx0XHRcdFx0byA9IGxzW25dO1xuXHRcdFx0XHRvLnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihuLCBvLmYsIGZhbHNlKTtcblx0XHRcdH1cblx0XHRcdHRoaXMuX2V2ZW50TGlzdGVuZXJzID0gbnVsbDtcblx0XHR9IGVsc2UgaWYgKGVuYWJsZSAmJiAhbHMgJiYgdGhpcy5jYW52YXMpIHtcblx0XHRcdHZhciB0ID0gd2luZG93LmFkZEV2ZW50TGlzdGVuZXIgPyB3aW5kb3cgOiBkb2N1bWVudDtcblx0XHRcdHZhciBfdGhpcyA9IHRoaXM7XG5cdFx0XHRscyA9IHRoaXMuX2V2ZW50TGlzdGVuZXJzID0ge307XG5cdFx0XHRsc1tcIm1vdXNldXBcIl0gPSB7dDp0LCBmOmZ1bmN0aW9uKGUpIHsgX3RoaXMuX2hhbmRsZU1vdXNlVXAoZSl9IH07XG5cdFx0XHRsc1tcIm1vdXNlbW92ZVwiXSA9IHt0OnQsIGY6ZnVuY3Rpb24oZSkgeyBfdGhpcy5faGFuZGxlTW91c2VNb3ZlKGUpfSB9O1xuXHRcdFx0bHNbXCJkYmxjbGlja1wiXSA9IHt0OnRoaXMuY2FudmFzLCBmOmZ1bmN0aW9uKGUpIHsgX3RoaXMuX2hhbmRsZURvdWJsZUNsaWNrKGUpfSB9O1xuXHRcdFx0bHNbXCJtb3VzZWRvd25cIl0gPSB7dDp0aGlzLmNhbnZhcywgZjpmdW5jdGlvbihlKSB7IF90aGlzLl9oYW5kbGVNb3VzZURvd24oZSl9IH07XG5cblx0XHRcdGZvciAobiBpbiBscykge1xuXHRcdFx0XHRvID0gbHNbbl07XG5cdFx0XHRcdG8udC5hZGRFdmVudExpc3RlbmVyKG4sIG8uZiwgZmFsc2UpO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcblxuXHQvKipcblx0ICogU3RhZ2UgaW5zdGFuY2VzIGNhbm5vdCBiZSBjbG9uZWQuXG5cdCAqIEBtZXRob2QgY2xvbmVcblx0ICoqL1xuXHRwLmNsb25lID0gZnVuY3Rpb24oKSB7XG5cdFx0dGhyb3coXCJTdGFnZSBjYW5ub3QgYmUgY2xvbmVkLlwiKTtcblx0fTtcblxuXHQvKipcblx0ICogUmV0dXJucyBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGlzIG9iamVjdC5cblx0ICogQG1ldGhvZCB0b1N0cmluZ1xuXHQgKiBAcmV0dXJuIHtTdHJpbmd9IGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBpbnN0YW5jZS5cblx0ICoqL1xuXHRwLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIFwiW1N0YWdlIChuYW1lPVwiKyAgdGhpcy5uYW1lICtcIildXCI7XG5cdH07XG5cblxuLy8gcHJpdmF0ZSBtZXRob2RzOlxuXHQvKipcblx0ICogQG1ldGhvZCBfZ2V0RWxlbWVudFJlY3Rcblx0ICogQHByb3RlY3RlZFxuXHQgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlXG5cdCAqKi9cblx0cC5fZ2V0RWxlbWVudFJlY3QgPSBmdW5jdGlvbihlKSB7XG5cdFx0dmFyIGJvdW5kcztcblx0XHR0cnkgeyBib3VuZHMgPSBlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOyB9IC8vIHRoaXMgY2FuIGZhaWwgb24gZGlzY29ubmVjdGVkIERPTSBlbGVtZW50cyBpbiBJRTlcblx0XHRjYXRjaCAoZXJyKSB7IGJvdW5kcyA9IHt0b3A6IGUub2Zmc2V0VG9wLCBsZWZ0OiBlLm9mZnNldExlZnQsIHdpZHRoOmUub2Zmc2V0V2lkdGgsIGhlaWdodDplLm9mZnNldEhlaWdodH07IH1cblxuXHRcdHZhciBvZmZYID0gKHdpbmRvdy5wYWdlWE9mZnNldCB8fCBkb2N1bWVudC5zY3JvbGxMZWZ0IHx8IDApIC0gKGRvY3VtZW50LmNsaWVudExlZnQgfHwgZG9jdW1lbnQuYm9keS5jbGllbnRMZWZ0IHx8IDApO1xuXHRcdHZhciBvZmZZID0gKHdpbmRvdy5wYWdlWU9mZnNldCB8fCBkb2N1bWVudC5zY3JvbGxUb3AgfHwgMCkgLSAoZG9jdW1lbnQuY2xpZW50VG9wICB8fCBkb2N1bWVudC5ib2R5LmNsaWVudFRvcCAgfHwgMCk7XG5cblx0XHR2YXIgc3R5bGVzID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUgPyBnZXRDb21wdXRlZFN0eWxlKGUsbnVsbCkgOiBlLmN1cnJlbnRTdHlsZTsgLy8gSUUgPDkgY29tcGF0aWJpbGl0eS5cblx0XHR2YXIgcGFkTCA9IHBhcnNlSW50KHN0eWxlcy5wYWRkaW5nTGVmdCkrcGFyc2VJbnQoc3R5bGVzLmJvcmRlckxlZnRXaWR0aCk7XG5cdFx0dmFyIHBhZFQgPSBwYXJzZUludChzdHlsZXMucGFkZGluZ1RvcCkrcGFyc2VJbnQoc3R5bGVzLmJvcmRlclRvcFdpZHRoKTtcblx0XHR2YXIgcGFkUiA9IHBhcnNlSW50KHN0eWxlcy5wYWRkaW5nUmlnaHQpK3BhcnNlSW50KHN0eWxlcy5ib3JkZXJSaWdodFdpZHRoKTtcblx0XHR2YXIgcGFkQiA9IHBhcnNlSW50KHN0eWxlcy5wYWRkaW5nQm90dG9tKStwYXJzZUludChzdHlsZXMuYm9yZGVyQm90dG9tV2lkdGgpO1xuXG5cdFx0Ly8gbm90ZTogaW4gc29tZSBicm93c2VycyBib3VuZHMgcHJvcGVydGllcyBhcmUgcmVhZCBvbmx5LlxuXHRcdHJldHVybiB7XG5cdFx0XHRsZWZ0OiBib3VuZHMubGVmdCtvZmZYK3BhZEwsXG5cdFx0XHRyaWdodDogYm91bmRzLnJpZ2h0K29mZlgtcGFkUixcblx0XHRcdHRvcDogYm91bmRzLnRvcCtvZmZZK3BhZFQsXG5cdFx0XHRib3R0b206IGJvdW5kcy5ib3R0b20rb2ZmWS1wYWRCXG5cdFx0fVxuXHR9O1xuXG5cdC8qKlxuXHQgKiBAbWV0aG9kIF9nZXRQb2ludGVyRGF0YVxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBpZFxuXHQgKiovXG5cdHAuX2dldFBvaW50ZXJEYXRhID0gZnVuY3Rpb24oaWQpIHtcblx0XHR2YXIgZGF0YSA9IHRoaXMuX3BvaW50ZXJEYXRhW2lkXTtcblx0XHRpZiAoIWRhdGEpIHsgZGF0YSA9IHRoaXMuX3BvaW50ZXJEYXRhW2lkXSA9IHt4OjAseTowfTsgfVxuXHRcdHJldHVybiBkYXRhO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBAbWV0aG9kIF9oYW5kbGVNb3VzZU1vdmVcblx0ICogQHByb3RlY3RlZFxuXHQgKiBAcGFyYW0ge01vdXNlRXZlbnR9IGVcblx0ICoqL1xuXHRwLl9oYW5kbGVNb3VzZU1vdmUgPSBmdW5jdGlvbihlKSB7XG5cdFx0aWYoIWUpeyBlID0gd2luZG93LmV2ZW50OyB9XG5cdFx0dGhpcy5faGFuZGxlUG9pbnRlck1vdmUoLTEsIGUsIGUucGFnZVgsIGUucGFnZVkpO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBAbWV0aG9kIF9oYW5kbGVQb2ludGVyTW92ZVxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBpZFxuXHQgKiBAcGFyYW0ge0V2ZW50fSBlXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBwYWdlWFxuXHQgKiBAcGFyYW0ge051bWJlcn0gcGFnZVlcblx0ICogQHBhcmFtIHtTdGFnZX0gb3duZXIgSW5kaWNhdGVzIHRoYXQgdGhlIGV2ZW50IGhhcyBhbHJlYWR5IGJlZW4gY2FwdHVyZWQgJiBoYW5kbGVkIGJ5IHRoZSBpbmRpY2F0ZWQgc3RhZ2UuXG5cdCAqKi9cblx0cC5faGFuZGxlUG9pbnRlck1vdmUgPSBmdW5jdGlvbihpZCwgZSwgcGFnZVgsIHBhZ2VZLCBvd25lcikge1xuXHRcdGlmICh0aGlzLl9wcmV2U3RhZ2UgJiYgb3duZXIgPT09IHVuZGVmaW5lZCkgeyByZXR1cm47IH0gLy8gcmVkdW5kYW50IGxpc3RlbmVyLlxuXHRcdGlmICghdGhpcy5jYW52YXMpIHsgcmV0dXJuOyB9XG5cdFx0dmFyIG5leHRTdGFnZT10aGlzLl9uZXh0U3RhZ2UsIG89dGhpcy5fZ2V0UG9pbnRlckRhdGEoaWQpO1xuXG5cdFx0dmFyIGluQm91bmRzID0gby5pbkJvdW5kcztcblx0XHR0aGlzLl91cGRhdGVQb2ludGVyUG9zaXRpb24oaWQsIGUsIHBhZ2VYLCBwYWdlWSk7XG5cdFx0aWYgKGluQm91bmRzIHx8IG8uaW5Cb3VuZHMgfHwgdGhpcy5tb3VzZU1vdmVPdXRzaWRlKSB7XG5cdFx0XHRpZiAoaWQgPT09IC0xICYmIG8uaW5Cb3VuZHMgPT0gIWluQm91bmRzKSB7XG5cdFx0XHRcdHRoaXMuX2Rpc3BhdGNoTW91c2VFdmVudCh0aGlzLCAoaW5Cb3VuZHMgPyBcIm1vdXNlbGVhdmVcIiA6IFwibW91c2VlbnRlclwiKSwgZmFsc2UsIGlkLCBvLCBlKTtcblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0dGhpcy5fZGlzcGF0Y2hNb3VzZUV2ZW50KHRoaXMsIFwic3RhZ2Vtb3VzZW1vdmVcIiwgZmFsc2UsIGlkLCBvLCBlKTtcblx0XHRcdHRoaXMuX2Rpc3BhdGNoTW91c2VFdmVudChvLnRhcmdldCwgXCJwcmVzc21vdmVcIiwgdHJ1ZSwgaWQsIG8sIGUpO1xuXHRcdH1cblx0XHRcblx0XHRuZXh0U3RhZ2UmJm5leHRTdGFnZS5faGFuZGxlUG9pbnRlck1vdmUoaWQsIGUsIHBhZ2VYLCBwYWdlWSwgbnVsbCk7XG5cdH07XG5cblx0LyoqXG5cdCAqIEBtZXRob2QgX3VwZGF0ZVBvaW50ZXJQb3NpdGlvblxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBpZFxuXHQgKiBAcGFyYW0ge0V2ZW50fSBlXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBwYWdlWFxuXHQgKiBAcGFyYW0ge051bWJlcn0gcGFnZVlcblx0ICoqL1xuXHRwLl91cGRhdGVQb2ludGVyUG9zaXRpb24gPSBmdW5jdGlvbihpZCwgZSwgcGFnZVgsIHBhZ2VZKSB7XG5cdFx0dmFyIHJlY3QgPSB0aGlzLl9nZXRFbGVtZW50UmVjdCh0aGlzLmNhbnZhcyk7XG5cdFx0cGFnZVggLT0gcmVjdC5sZWZ0O1xuXHRcdHBhZ2VZIC09IHJlY3QudG9wO1xuXG5cdFx0dmFyIHcgPSB0aGlzLmNhbnZhcy53aWR0aDtcblx0XHR2YXIgaCA9IHRoaXMuY2FudmFzLmhlaWdodDtcblx0XHRwYWdlWCAvPSAocmVjdC5yaWdodC1yZWN0LmxlZnQpL3c7XG5cdFx0cGFnZVkgLz0gKHJlY3QuYm90dG9tLXJlY3QudG9wKS9oO1xuXHRcdHZhciBvID0gdGhpcy5fZ2V0UG9pbnRlckRhdGEoaWQpO1xuXHRcdGlmIChvLmluQm91bmRzID0gKHBhZ2VYID49IDAgJiYgcGFnZVkgPj0gMCAmJiBwYWdlWCA8PSB3LTEgJiYgcGFnZVkgPD0gaC0xKSkge1xuXHRcdFx0by54ID0gcGFnZVg7XG5cdFx0XHRvLnkgPSBwYWdlWTtcblx0XHR9IGVsc2UgaWYgKHRoaXMubW91c2VNb3ZlT3V0c2lkZSkge1xuXHRcdFx0by54ID0gcGFnZVggPCAwID8gMCA6IChwYWdlWCA+IHctMSA/IHctMSA6IHBhZ2VYKTtcblx0XHRcdG8ueSA9IHBhZ2VZIDwgMCA/IDAgOiAocGFnZVkgPiBoLTEgPyBoLTEgOiBwYWdlWSk7XG5cdFx0fVxuXG5cdFx0by5wb3NFdnRPYmogPSBlO1xuXHRcdG8ucmF3WCA9IHBhZ2VYO1xuXHRcdG8ucmF3WSA9IHBhZ2VZO1xuXG5cdFx0aWYgKGlkID09PSB0aGlzLl9wcmltYXJ5UG9pbnRlcklEIHx8IGlkID09PSAtMSkge1xuXHRcdFx0dGhpcy5tb3VzZVggPSBvLng7XG5cdFx0XHR0aGlzLm1vdXNlWSA9IG8ueTtcblx0XHRcdHRoaXMubW91c2VJbkJvdW5kcyA9IG8uaW5Cb3VuZHM7XG5cdFx0fVxuXHR9O1xuXG5cdC8qKlxuXHQgKiBAbWV0aG9kIF9oYW5kbGVNb3VzZVVwXG5cdCAqIEBwcm90ZWN0ZWRcblx0ICogQHBhcmFtIHtNb3VzZUV2ZW50fSBlXG5cdCAqKi9cblx0cC5faGFuZGxlTW91c2VVcCA9IGZ1bmN0aW9uKGUpIHtcblx0XHR0aGlzLl9oYW5kbGVQb2ludGVyVXAoLTEsIGUsIGZhbHNlKTtcblx0fTtcblxuXHQvKipcblx0ICogQG1ldGhvZCBfaGFuZGxlUG9pbnRlclVwXG5cdCAqIEBwcm90ZWN0ZWRcblx0ICogQHBhcmFtIHtOdW1iZXJ9IGlkXG5cdCAqIEBwYXJhbSB7RXZlbnR9IGVcblx0ICogQHBhcmFtIHtCb29sZWFufSBjbGVhclxuXHQgKiBAcGFyYW0ge1N0YWdlfSBvd25lciBJbmRpY2F0ZXMgdGhhdCB0aGUgZXZlbnQgaGFzIGFscmVhZHkgYmVlbiBjYXB0dXJlZCAmIGhhbmRsZWQgYnkgdGhlIGluZGljYXRlZCBzdGFnZS5cblx0ICoqL1xuXHRwLl9oYW5kbGVQb2ludGVyVXAgPSBmdW5jdGlvbihpZCwgZSwgY2xlYXIsIG93bmVyKSB7XG5cdFx0dmFyIG5leHRTdGFnZSA9IHRoaXMuX25leHRTdGFnZSwgbyA9IHRoaXMuX2dldFBvaW50ZXJEYXRhKGlkKTtcblx0XHRpZiAodGhpcy5fcHJldlN0YWdlICYmIG93bmVyID09PSB1bmRlZmluZWQpIHsgcmV0dXJuOyB9IC8vIHJlZHVuZGFudCBsaXN0ZW5lci5cblx0XHRcblx0XHR2YXIgdGFyZ2V0PW51bGwsIG9UYXJnZXQgPSBvLnRhcmdldDtcblx0XHRpZiAoIW93bmVyICYmIChvVGFyZ2V0IHx8IG5leHRTdGFnZSkpIHsgdGFyZ2V0ID0gdGhpcy5fZ2V0T2JqZWN0c1VuZGVyUG9pbnQoby54LCBvLnksIG51bGwsIHRydWUpOyB9XG5cdFx0XG5cdFx0aWYgKG8uZG93bikgeyB0aGlzLl9kaXNwYXRjaE1vdXNlRXZlbnQodGhpcywgXCJzdGFnZW1vdXNldXBcIiwgZmFsc2UsIGlkLCBvLCBlLCB0YXJnZXQpOyBvLmRvd24gPSBmYWxzZTsgfVxuXHRcdFxuXHRcdGlmICh0YXJnZXQgPT0gb1RhcmdldCkgeyB0aGlzLl9kaXNwYXRjaE1vdXNlRXZlbnQob1RhcmdldCwgXCJjbGlja1wiLCB0cnVlLCBpZCwgbywgZSk7IH1cblx0XHR0aGlzLl9kaXNwYXRjaE1vdXNlRXZlbnQob1RhcmdldCwgXCJwcmVzc3VwXCIsIHRydWUsIGlkLCBvLCBlKTtcblx0XHRcblx0XHRpZiAoY2xlYXIpIHtcblx0XHRcdGlmIChpZD09dGhpcy5fcHJpbWFyeVBvaW50ZXJJRCkgeyB0aGlzLl9wcmltYXJ5UG9pbnRlcklEID0gbnVsbDsgfVxuXHRcdFx0ZGVsZXRlKHRoaXMuX3BvaW50ZXJEYXRhW2lkXSk7XG5cdFx0fSBlbHNlIHsgby50YXJnZXQgPSBudWxsOyB9XG5cdFx0XG5cdFx0bmV4dFN0YWdlJiZuZXh0U3RhZ2UuX2hhbmRsZVBvaW50ZXJVcChpZCwgZSwgY2xlYXIsIG93bmVyIHx8IHRhcmdldCAmJiB0aGlzKTtcblx0fTtcblxuXHQvKipcblx0ICogQG1ldGhvZCBfaGFuZGxlTW91c2VEb3duXG5cdCAqIEBwcm90ZWN0ZWRcblx0ICogQHBhcmFtIHtNb3VzZUV2ZW50fSBlXG5cdCAqKi9cblx0cC5faGFuZGxlTW91c2VEb3duID0gZnVuY3Rpb24oZSkge1xuXHRcdHRoaXMuX2hhbmRsZVBvaW50ZXJEb3duKC0xLCBlLCBlLnBhZ2VYLCBlLnBhZ2VZKTtcblx0fTtcblxuXHQvKipcblx0ICogQG1ldGhvZCBfaGFuZGxlUG9pbnRlckRvd25cblx0ICogQHByb3RlY3RlZFxuXHQgKiBAcGFyYW0ge051bWJlcn0gaWRcblx0ICogQHBhcmFtIHtFdmVudH0gZVxuXHQgKiBAcGFyYW0ge051bWJlcn0gcGFnZVhcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHBhZ2VZXG5cdCAqIEBwYXJhbSB7U3RhZ2V9IG93bmVyIEluZGljYXRlcyB0aGF0IHRoZSBldmVudCBoYXMgYWxyZWFkeSBiZWVuIGNhcHR1cmVkICYgaGFuZGxlZCBieSB0aGUgaW5kaWNhdGVkIHN0YWdlLlxuXHQgKiovXG5cdHAuX2hhbmRsZVBvaW50ZXJEb3duID0gZnVuY3Rpb24oaWQsIGUsIHBhZ2VYLCBwYWdlWSwgb3duZXIpIHtcblx0XHRpZiAodGhpcy5wcmV2ZW50U2VsZWN0aW9uKSB7IGUucHJldmVudERlZmF1bHQoKTsgfVxuXHRcdGlmICh0aGlzLl9wcmltYXJ5UG9pbnRlcklEID09IG51bGwgfHwgaWQgPT09IC0xKSB7IHRoaXMuX3ByaW1hcnlQb2ludGVySUQgPSBpZDsgfSAvLyBtb3VzZSBhbHdheXMgdGFrZXMgb3Zlci5cblx0XHRcblx0XHRpZiAocGFnZVkgIT0gbnVsbCkgeyB0aGlzLl91cGRhdGVQb2ludGVyUG9zaXRpb24oaWQsIGUsIHBhZ2VYLCBwYWdlWSk7IH1cblx0XHR2YXIgdGFyZ2V0ID0gbnVsbCwgbmV4dFN0YWdlID0gdGhpcy5fbmV4dFN0YWdlLCBvID0gdGhpcy5fZ2V0UG9pbnRlckRhdGEoaWQpO1xuXHRcdGlmICghb3duZXIpIHsgdGFyZ2V0ID0gby50YXJnZXQgPSB0aGlzLl9nZXRPYmplY3RzVW5kZXJQb2ludChvLngsIG8ueSwgbnVsbCwgdHJ1ZSk7IH1cblxuXHRcdGlmIChvLmluQm91bmRzKSB7IHRoaXMuX2Rpc3BhdGNoTW91c2VFdmVudCh0aGlzLCBcInN0YWdlbW91c2Vkb3duXCIsIGZhbHNlLCBpZCwgbywgZSwgdGFyZ2V0KTsgby5kb3duID0gdHJ1ZTsgfVxuXHRcdHRoaXMuX2Rpc3BhdGNoTW91c2VFdmVudCh0YXJnZXQsIFwibW91c2Vkb3duXCIsIHRydWUsIGlkLCBvLCBlKTtcblx0XHRcblx0XHRuZXh0U3RhZ2UmJm5leHRTdGFnZS5faGFuZGxlUG9pbnRlckRvd24oaWQsIGUsIHBhZ2VYLCBwYWdlWSwgb3duZXIgfHwgdGFyZ2V0ICYmIHRoaXMpO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBAbWV0aG9kIF90ZXN0TW91c2VPdmVyXG5cdCAqIEBwYXJhbSB7Qm9vbGVhbn0gY2xlYXIgSWYgdHJ1ZSwgY2xlYXJzIHRoZSBtb3VzZW92ZXIgLyByb2xsb3ZlciAoaWUuIG5vIHRhcmdldClcblx0ICogQHBhcmFtIHtTdGFnZX0gb3duZXIgSW5kaWNhdGVzIHRoYXQgdGhlIGV2ZW50IGhhcyBhbHJlYWR5IGJlZW4gY2FwdHVyZWQgJiBoYW5kbGVkIGJ5IHRoZSBpbmRpY2F0ZWQgc3RhZ2UuXG5cdCAqIEBwYXJhbSB7U3RhZ2V9IGV2ZW50VGFyZ2V0IFRoZSBzdGFnZSB0aGF0IHRoZSBjdXJzb3IgaXMgYWN0aXZlbHkgb3Zlci5cblx0ICogQHByb3RlY3RlZFxuXHQgKiovXG5cdHAuX3Rlc3RNb3VzZU92ZXIgPSBmdW5jdGlvbihjbGVhciwgb3duZXIsIGV2ZW50VGFyZ2V0KSB7XG5cdFx0aWYgKHRoaXMuX3ByZXZTdGFnZSAmJiBvd25lciA9PT0gdW5kZWZpbmVkKSB7IHJldHVybjsgfSAvLyByZWR1bmRhbnQgbGlzdGVuZXIuXG5cdFx0XG5cdFx0dmFyIG5leHRTdGFnZSA9IHRoaXMuX25leHRTdGFnZTtcblx0XHRpZiAoIXRoaXMuX21vdXNlT3ZlckludGVydmFsSUQpIHtcblx0XHRcdC8vIG5vdCBlbmFibGVkIGZvciBtb3VzZW92ZXIsIGJ1dCBzaG91bGQgc3RpbGwgcmVsYXkgdGhlIGV2ZW50LlxuXHRcdFx0bmV4dFN0YWdlJiZuZXh0U3RhZ2UuX3Rlc3RNb3VzZU92ZXIoY2xlYXIsIG93bmVyLCBldmVudFRhcmdldCk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdHZhciBvID0gdGhpcy5fZ2V0UG9pbnRlckRhdGEoLTEpO1xuXHRcdC8vIG9ubHkgdXBkYXRlIGlmIHRoZSBtb3VzZSBwb3NpdGlvbiBoYXMgY2hhbmdlZC4gVGhpcyBwcm92aWRlcyBhIGxvdCBvZiBvcHRpbWl6YXRpb24sIGJ1dCBoYXMgc29tZSB0cmFkZS1vZmZzLlxuXHRcdGlmICghbyB8fCAoIWNsZWFyICYmIHRoaXMubW91c2VYID09IHRoaXMuX21vdXNlT3ZlclggJiYgdGhpcy5tb3VzZVkgPT0gdGhpcy5fbW91c2VPdmVyWSAmJiB0aGlzLm1vdXNlSW5Cb3VuZHMpKSB7IHJldHVybjsgfVxuXHRcdFxuXHRcdHZhciBlID0gby5wb3NFdnRPYmo7XG5cdFx0dmFyIGlzRXZlbnRUYXJnZXQgPSBldmVudFRhcmdldCB8fCBlJiYoZS50YXJnZXQgPT0gdGhpcy5jYW52YXMpO1xuXHRcdHZhciB0YXJnZXQ9bnVsbCwgY29tbW9uID0gLTEsIGN1cnNvcj1cIlwiLCB0LCBpLCBsO1xuXHRcdFxuXHRcdGlmICghb3duZXIgJiYgKGNsZWFyIHx8IHRoaXMubW91c2VJbkJvdW5kcyAmJiBpc0V2ZW50VGFyZ2V0KSkge1xuXHRcdFx0dGFyZ2V0ID0gdGhpcy5fZ2V0T2JqZWN0c1VuZGVyUG9pbnQodGhpcy5tb3VzZVgsIHRoaXMubW91c2VZLCBudWxsLCB0cnVlKTtcblx0XHRcdHRoaXMuX21vdXNlT3ZlclggPSB0aGlzLm1vdXNlWDtcblx0XHRcdHRoaXMuX21vdXNlT3ZlclkgPSB0aGlzLm1vdXNlWTtcblx0XHR9XG5cblx0XHR2YXIgb2xkTGlzdCA9IHRoaXMuX21vdXNlT3ZlclRhcmdldHx8W107XG5cdFx0dmFyIG9sZFRhcmdldCA9IG9sZExpc3Rbb2xkTGlzdC5sZW5ndGgtMV07XG5cdFx0dmFyIGxpc3QgPSB0aGlzLl9tb3VzZU92ZXJUYXJnZXQgPSBbXTtcblxuXHRcdC8vIGdlbmVyYXRlIGFuY2VzdG9yIGxpc3QgYW5kIGNoZWNrIGZvciBjdXJzb3I6XG5cdFx0dCA9IHRhcmdldDtcblx0XHR3aGlsZSAodCkge1xuXHRcdFx0bGlzdC51bnNoaWZ0KHQpO1xuXHRcdFx0aWYgKCFjdXJzb3IpIHsgY3Vyc29yID0gdC5jdXJzb3I7IH1cblx0XHRcdHQgPSB0LnBhcmVudDtcblx0XHR9XG5cdFx0dGhpcy5jYW52YXMuc3R5bGUuY3Vyc29yID0gY3Vyc29yO1xuXHRcdGlmICghb3duZXIgJiYgZXZlbnRUYXJnZXQpIHsgZXZlbnRUYXJnZXQuY2FudmFzLnN0eWxlLmN1cnNvciA9IGN1cnNvcjsgfVxuXG5cdFx0Ly8gZmluZCBjb21tb24gYW5jZXN0b3I6XG5cdFx0Zm9yIChpPTAsbD1saXN0Lmxlbmd0aDsgaTxsOyBpKyspIHtcblx0XHRcdGlmIChsaXN0W2ldICE9IG9sZExpc3RbaV0pIHsgYnJlYWs7IH1cblx0XHRcdGNvbW1vbiA9IGk7XG5cdFx0fVxuXG5cdFx0aWYgKG9sZFRhcmdldCAhPSB0YXJnZXQpIHtcblx0XHRcdHRoaXMuX2Rpc3BhdGNoTW91c2VFdmVudChvbGRUYXJnZXQsIFwibW91c2VvdXRcIiwgdHJ1ZSwgLTEsIG8sIGUsIHRhcmdldCk7XG5cdFx0fVxuXG5cdFx0Zm9yIChpPW9sZExpc3QubGVuZ3RoLTE7IGk+Y29tbW9uOyBpLS0pIHtcblx0XHRcdHRoaXMuX2Rpc3BhdGNoTW91c2VFdmVudChvbGRMaXN0W2ldLCBcInJvbGxvdXRcIiwgZmFsc2UsIC0xLCBvLCBlLCB0YXJnZXQpO1xuXHRcdH1cblxuXHRcdGZvciAoaT1saXN0Lmxlbmd0aC0xOyBpPmNvbW1vbjsgaS0tKSB7XG5cdFx0XHR0aGlzLl9kaXNwYXRjaE1vdXNlRXZlbnQobGlzdFtpXSwgXCJyb2xsb3ZlclwiLCBmYWxzZSwgLTEsIG8sIGUsIG9sZFRhcmdldCk7XG5cdFx0fVxuXG5cdFx0aWYgKG9sZFRhcmdldCAhPSB0YXJnZXQpIHtcblx0XHRcdHRoaXMuX2Rpc3BhdGNoTW91c2VFdmVudCh0YXJnZXQsIFwibW91c2VvdmVyXCIsIHRydWUsIC0xLCBvLCBlLCBvbGRUYXJnZXQpO1xuXHRcdH1cblx0XHRcblx0XHRuZXh0U3RhZ2UmJm5leHRTdGFnZS5fdGVzdE1vdXNlT3ZlcihjbGVhciwgb3duZXIgfHwgdGFyZ2V0ICYmIHRoaXMsIGV2ZW50VGFyZ2V0IHx8IGlzRXZlbnRUYXJnZXQgJiYgdGhpcyk7XG5cdH07XG5cblx0LyoqXG5cdCAqIEBtZXRob2QgX2hhbmRsZURvdWJsZUNsaWNrXG5cdCAqIEBwcm90ZWN0ZWRcblx0ICogQHBhcmFtIHtNb3VzZUV2ZW50fSBlXG5cdCAqIEBwYXJhbSB7U3RhZ2V9IG93bmVyIEluZGljYXRlcyB0aGF0IHRoZSBldmVudCBoYXMgYWxyZWFkeSBiZWVuIGNhcHR1cmVkICYgaGFuZGxlZCBieSB0aGUgaW5kaWNhdGVkIHN0YWdlLlxuXHQgKiovXG5cdHAuX2hhbmRsZURvdWJsZUNsaWNrID0gZnVuY3Rpb24oZSwgb3duZXIpIHtcblx0XHR2YXIgdGFyZ2V0PW51bGwsIG5leHRTdGFnZT10aGlzLl9uZXh0U3RhZ2UsIG89dGhpcy5fZ2V0UG9pbnRlckRhdGEoLTEpO1xuXHRcdGlmICghb3duZXIpIHtcblx0XHRcdHRhcmdldCA9IHRoaXMuX2dldE9iamVjdHNVbmRlclBvaW50KG8ueCwgby55LCBudWxsLCB0cnVlKTtcblx0XHRcdHRoaXMuX2Rpc3BhdGNoTW91c2VFdmVudCh0YXJnZXQsIFwiZGJsY2xpY2tcIiwgdHJ1ZSwgLTEsIG8sIGUpO1xuXHRcdH1cblx0XHRuZXh0U3RhZ2UmJm5leHRTdGFnZS5faGFuZGxlRG91YmxlQ2xpY2soZSwgb3duZXIgfHwgdGFyZ2V0ICYmIHRoaXMpO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBAbWV0aG9kIF9kaXNwYXRjaE1vdXNlRXZlbnRcblx0ICogQHByb3RlY3RlZFxuXHQgKiBAcGFyYW0ge0Rpc3BsYXlPYmplY3R9IHRhcmdldFxuXHQgKiBAcGFyYW0ge1N0cmluZ30gdHlwZVxuXHQgKiBAcGFyYW0ge0Jvb2xlYW59IGJ1YmJsZXNcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHBvaW50ZXJJZFxuXHQgKiBAcGFyYW0ge09iamVjdH0gb1xuXHQgKiBAcGFyYW0ge01vdXNlRXZlbnR9IFtuYXRpdmVFdmVudF1cblx0ICogQHBhcmFtIHtEaXNwbGF5T2JqZWN0fSBbcmVsYXRlZFRhcmdldF1cblx0ICoqL1xuXHRwLl9kaXNwYXRjaE1vdXNlRXZlbnQgPSBmdW5jdGlvbih0YXJnZXQsIHR5cGUsIGJ1YmJsZXMsIHBvaW50ZXJJZCwgbywgbmF0aXZlRXZlbnQsIHJlbGF0ZWRUYXJnZXQpIHtcblx0XHQvLyBUT0RPOiBtaWdodCBiZSB3b3J0aCBlaXRoZXIgcmV1c2luZyBNb3VzZUV2ZW50IGluc3RhbmNlcywgb3IgYWRkaW5nIGEgd2lsbFRyaWdnZXIgbWV0aG9kIHRvIGF2b2lkIEdDLlxuXHRcdGlmICghdGFyZ2V0IHx8ICghYnViYmxlcyAmJiAhdGFyZ2V0Lmhhc0V2ZW50TGlzdGVuZXIodHlwZSkpKSB7IHJldHVybjsgfVxuXHRcdC8qXG5cdFx0Ly8gVE9ETzogYWNjb3VudCBmb3Igc3RhZ2UgdHJhbnNmb3JtYXRpb25zP1xuXHRcdHRoaXMuX210eCA9IHRoaXMuZ2V0Q29uY2F0ZW5hdGVkTWF0cml4KHRoaXMuX210eCkuaW52ZXJ0KCk7XG5cdFx0dmFyIHB0ID0gdGhpcy5fbXR4LnRyYW5zZm9ybVBvaW50KG8ueCwgby55KTtcblx0XHR2YXIgZXZ0ID0gbmV3IGNyZWF0ZWpzLk1vdXNlRXZlbnQodHlwZSwgYnViYmxlcywgZmFsc2UsIHB0LngsIHB0LnksIG5hdGl2ZUV2ZW50LCBwb2ludGVySWQsIHBvaW50ZXJJZD09dGhpcy5fcHJpbWFyeVBvaW50ZXJJRCB8fCBwb2ludGVySWQ9PS0xLCBvLnJhd1gsIG8ucmF3WSk7XG5cdFx0Ki9cblx0XHR2YXIgZXZ0ID0gbmV3IGNyZWF0ZWpzLk1vdXNlRXZlbnQodHlwZSwgYnViYmxlcywgZmFsc2UsIG8ueCwgby55LCBuYXRpdmVFdmVudCwgcG9pbnRlcklkLCBwb2ludGVySWQgPT09IHRoaXMuX3ByaW1hcnlQb2ludGVySUQgfHwgcG9pbnRlcklkID09PSAtMSwgby5yYXdYLCBvLnJhd1ksIHJlbGF0ZWRUYXJnZXQpO1xuXHRcdHRhcmdldC5kaXNwYXRjaEV2ZW50KGV2dCk7XG5cdH07XG5cblxuXHRjcmVhdGVqcy5TdGFnZSA9IGNyZWF0ZWpzLnByb21vdGUoU3RhZ2UsIFwiQ29udGFpbmVyXCIpO1xufSgpKTtcblxuLy8jIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyNcbi8vIFN0YWdlR0wuanNcbi8vIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXG5cbi8qXG4gKiBSRUFETUUgSUYgRURJVElORzpcbiAqIFRlcm1pbm9sb2d5IGZvciBkZXZlbG9wZXJzOlxuICpcbiAqIFZlcnRleDogYSBwb2ludCB0aGF0IGhlbHAgZGVmaW5lcyBhIHNoYXBlLCAzIHBlciB0cmlhbmdsZS4gVXN1YWxseSBoYXMgYW4geCx5LHogYnV0IGNhbiBoYXZlIG1vcmUvbGVzcyBpbmZvLlxuICogVmVydGV4IFByb3BlcnR5OiBhIHBpZWNlIG9mIGluZm9ybWF0aW9uIGF0dGFjaGVkIHRvIHRoZSB2ZXJ0ZXggbGlrZSBhIHZlY3RvcjMgY29udGFpbmluZyB4LHkselxuICogSW5kZXgvSW5kaWNlczogdXNlZCBpbiBncm91cHMgb2YgMyB0byBkZWZpbmUgYSB0cmlhbmdsZSwgcG9pbnRzIHRvIHZlcnRpY2VzIGJ5IHRoZWlyIGluZGV4IGluIGFuIGFycmF5IChzb21lIHJlbmRlclxuICogXHRcdG1vZGVzIGRvIG5vdCB1c2UgdGhlc2UpXG4gKiBDYXJkOiBhIGdyb3VwIG9mIDIgdHJpYW5nbGVzIHVzZWQgdG8gZGlzcGxheSBhIHJlY3Rhbmd1bGFyIGltYWdlXG4gKiBVL1Y6IGNvbW1vbiBuYW1lcyBmb3IgdGhlIFswLTFdIHRleHR1cmUgY28tb3JkaW5hdGVzIG9uIGFuIGltYWdlXG4gKiBCYXRjaDogYSBzaW5nbGUgY2FsbCB0byB0aGUgcmVuZGVyZXIsIGJlc3QgZG9uZSBhcyBsaXR0bGUgYXMgcG9zc2libGUgc28gbXVsdGlwbGUgY2FyZHMgYXJlIHB1dCBpbnRvIGEgc2luZ2xlIGJhdGNoXG4gKiBCdWZmZXI6IFdlYkdMIGFycmF5IGRhdGFcbiAqIFByb2dyYW0vU2hhZGVyOiBGb3IgZXZlcnkgdmVydGV4IHdlIHJ1biB0aGUgVmVydGV4IHNoYWRlci4gVGhlIHJlc3VsdHMgYXJlIHVzZWQgcGVyIHBpeGVsIGJ5IHRoZSBGcmFnbWVudCBzaGFkZXIuIFdoZW5cbiAqIFx0XHRjb21iaW5lZCBhbmQgcGFpcmVkIHRoZXNlIGFyZSBhIHNoYWRlciBcInByb2dyYW1cIlxuICogVGV4dHVyZTogV2ViR0wgcmVwcmVzZW50YXRpb24gb2YgaW1hZ2UgZGF0YSBhbmQgYXNzb2NpYXRlZCBleHRyYSBpbmZvcm1hdGlvblxuICogU2xvdDogQSBzcGFjZSBvbiB0aGUgR1BVIGludG8gd2hpY2ggdGV4dHVyZXMgY2FuIGJlIGxvYWRlZCBmb3IgdXNlIGluIGEgYmF0Y2gsIHVzaW5nIFwiQWN0aXZlVGV4dHVyZVwiIHN3aXRjaGVzIHRleHR1cmUgc2xvdC5cbiAqL1xuXG4oZnVuY3Rpb24gKCkge1xuXHRcInVzZSBzdHJpY3RcIjtcblxuXHQvKipcblx0ICogQSBTdGFnZUdMIGluc3RhbmNlIGlzIHRoZSByb290IGxldmVsIHt7I2Nyb3NzTGluayBcIkNvbnRhaW5lclwifX17ey9jcm9zc0xpbmt9fSBmb3IgYW4gV2ViR0wtb3B0aW1pemVkIGRpc3BsYXkgbGlzdCxcblx0ICogd2hpY2ggaXMgdXNlZCBpbiBwbGFjZSBvZiB0aGUgdXN1YWwge3sjY3Jvc3NMaW5rIFwiU3RhZ2VcIn19e3svY3Jvc3NMaW5rfX0uIFRoaXMgY2xhc3Mgc2hvdWxkIGJlaGF2ZSBpZGVudGljYWxseSB0b1xuXHQgKiBhIHt7I2Nyb3NzTGluayBcIlN0YWdlXCJ9fXt7L2Nyb3NzTGlua319IGV4Y2VwdCBmb3IgV2ViR0wtc3BlY2lmaWMgZnVuY3Rpb25hbGl0eS5cblx0ICpcblx0ICogRWFjaCB0aW1lIHRoZSB7eyNjcm9zc0xpbmsgXCJTdGFnZS90aWNrXCJ9fXt7L2Nyb3NzTGlua319IG1ldGhvZCBpcyBjYWxsZWQsIHRoZSBkaXNwbGF5IGxpc3QgaXMgcmVuZGVyZWQgdG8gdGhlXG5cdCAqIHRhcmdldCAmbHQ7Y2FudmFzLyZndDsgaW5zdGFuY2UsIGlnbm9yaW5nIG5vbi1XZWJHTC1jb21wYXRpYmxlIGRpc3BsYXkgb2JqZWN0cy4gT24gZGV2aWNlcyBhbmQgYnJvd3NlcnMgdGhhdCBkb24ndFxuXHQgKiBzdXBwb3J0IFdlYkdMLCBjb250ZW50IHdpbGwgYXV0b21hdGljYWxseSBiZSByZW5kZXJlZCB0byBjYW52YXMgMkQgY29udGV4dCBpbnN0ZWFkLlxuXHQgKlxuXHQgKiA8aDQ+TGltaXRhdGlvbnM8L2g0PlxuXHQgKiAtIHt7I2Nyb3NzTGluayBcIlNoYXBlXCJ9fXt7L2Nyb3NzTGlua319LCB7eyNjcm9zc0xpbmsgXCJTaGFkb3dcIn19e3svY3Jvc3NMaW5rfX0sIGFuZCB7eyNjcm9zc0xpbmsgXCJUZXh0XCJ9fXt7L2Nyb3NzTGlua319XG5cdCAqIFx0YXJlIG5vdCByZW5kZXJlZCB3aGVuIGFkZGVkIHRvIHRoZSBkaXNwbGF5IGxpc3QuXG5cdCAqIC0gVG8gZGlzcGxheSBzb21ldGhpbmcgU3RhZ2VHTCBjYW5ub3QgcmVuZGVyLCB7eyNjcm9zc0xpbmsgXCJkaXNwbGF5T2JqZWN0L2NhY2hlXCJ9fXt7L2Nyb3NzTGlua319IHRoZSBvYmplY3QuXG5cdCAqXHRDYWNoZXMgY2FuIGJlIHJlbmRlcmVkIHJlZ2FyZGxlc3Mgb2Ygc291cmNlLlxuXHQgKiAtIEltYWdlcyBhcmUgd3JhcHBlZCBhcyBhIHdlYkdMIFwiVGV4dHVyZVwiLiBFYWNoIGdyYXBoaWNzIGNhcmQgaGFzIGEgbGltaXQgdG8gaXRzIGNvbmN1cnJlbnQgVGV4dHVyZXMsIHRvbyBtYW55IFxuXHQgKiBUZXh0dXJlcyB3aWxsIG5vdGljZWFibHkgc2xvdyBwZXJmb3JtYW5jZS5cblx0ICogLSBFYWNoIGNhY2hlIGNvdW50cyBhcyBhbiBpbmRpdmlkdWFsIFRleHR1cmUuIEFzIHN1Y2gge3sjY3Jvc3NMaW5rIFwiU3ByaXRlU2hlZXRcIn19e3svY3Jvc3NMaW5rfX0gYW5kIFxuXHQgKiB7eyNjcm9zc0xpbmsgXCJTcHJpdGVTaGVldEJ1aWxkZXJcIn19e3svY3Jvc3NMaW5rfX0gYXJlIHJlY29tbWVuZGVkIHByYWN0aWNlcyB0byBoZWxwIGtlZXAgdGV4dHVyZSBjb3VudHMgbG93LlxuXHQgKiAtIFRvIHVzZSBhbnkgaW1hZ2Ugbm9kZSAoRE9NIEltYWdlL0NhbnZhcyBFbGVtZW50KSBiZXR3ZWVuIG11bHRpcGxlIFN0YWdlR0wgaW5zdGFuY2VzIGl0IG11c3QgYmUgYSBcblx0ICoge3sjY3Jvc3NMaW5rIFwiQml0bWFwL2Nsb25lXCJ9fXt7L2Nyb3NzTGlua319LCBvdGhlcndpc2UgdGhlIEdQVSB0ZXh0dXJlIGxvYWRpbmcgYW5kIHRyYWNraW5nIHdpbGwgZ2V0IGNvbmZ1c2VkLlxuXHQgKiAtIHRvIGF2b2lkIGFuIHVwL2Rvd24gc2NhbGVkIHJlbmRlciB5b3UgbXVzdCBjYWxsIHt7I2Nyb3NzTGluayBcIlN0YWdlR0wvdXBkYXRlVmlld3BvcnRcIn19e3svY3Jvc3NMaW5rfX0gaWYgeW91XG5cdCAqIHJlc2l6ZSB5b3VyIGNhbnZhcyBhZnRlciBtYWtpbmcgYSBTdGFnZUdMIGluc3RhbmNlLCB0aGlzIHdpbGwgcHJvcGVybHkgc2l6ZSB0aGUgV2ViR0wgY29udGV4dCBzdG9yZWQgaW4gbWVtb3J5LlxuXHQgKiAtIEJlc3QgcGVyZm9ybWFuY2UgaW4gZGVtYW5kaW5nIHNjZW5hcmlvcyB3aWxsIGNvbWUgZnJvbSBtYW51YWwgbWFuYWdlbWVudCBvZiB0ZXh0dXJlIG1lbW9yeSwgYnV0IGl0IGlzIGhhbmRsZWRcblx0ICogYXV0b21hdGljYWxseSBieSBkZWZhdWx0LiBTZWUge3sjY3Jvc3NMaW5rIFwiU3RhZ2VHTC9yZWxlYXNlVGV4dHVyZVwifX17ey9jcm9zc0xpbmt9fSBmb3IgZGV0YWlscy5cblx0ICpcblx0ICogPGg0PkV4YW1wbGU8L2g0PlxuXHQgKiBUaGlzIGV4YW1wbGUgY3JlYXRlcyBhIFN0YWdlR0wgaW5zdGFuY2UsIGFkZHMgYSBjaGlsZCB0byBpdCwgdGhlbiB1c2VzIHRoZSBFYXNlbEpTIHt7I2Nyb3NzTGluayBcIlRpY2tlclwifX17ey9jcm9zc0xpbmt9fVxuXHQgKiB0byB1cGRhdGUgdGhlIGNoaWxkIGFuZCByZWRyYXcgdGhlIHN0YWdlLlxuXHQgKlxuXHQgKiAgICAgIHZhciBzdGFnZSA9IG5ldyBjcmVhdGVqcy5TdGFnZUdMKFwiY2FudmFzRWxlbWVudElkXCIpO1xuXHQgKlxuXHQgKiAgICAgIHZhciBpbWFnZSA9IG5ldyBjcmVhdGVqcy5CaXRtYXAoXCJpbWFnZVBhdGgucG5nXCIpO1xuXHQgKiAgICAgIHN0YWdlLmFkZENoaWxkKGltYWdlKTtcblx0ICpcblx0ICogICAgICBjcmVhdGVqcy5UaWNrZXIub24oXCJ0aWNrXCIsIGhhbmRsZVRpY2spO1xuXHQgKlxuXHQgKiAgICAgIGZ1bmN0aW9uIGhhbmRsZVRpY2soZXZlbnQpIHtcblx0ICogICAgICAgICAgaW1hZ2UueCArPSAxMDtcblx0ICogICAgICAgICAgc3RhZ2UudXBkYXRlKCk7XG5cdCAqICAgICAgfVxuXHQgKlxuXHQgKiA8aDQ+Tm90ZXM8L2g0PlxuXHQgKiAtIFN0YWdlR0wgaXMgbm90IGN1cnJlbnRseSBpbmNsdWRlZCBpbiB0aGUgbWluaWZpZWQgdmVyc2lvbiBvZiBFYXNlbEpTLlxuXHQgKiAtIHt7I2Nyb3NzTGluayBcIlNwcml0ZUNvbnRhaW5lclwifX17ey9jcm9zc0xpbmt9fSAodGhlIHByZXZpb3VzIGFwcHJvYWNoIHRvIFdlYkdMIHdpdGggRWFzZWxKUykgaGFzIGJlZW4gZGVwcmVjYXRlZC5cblx0ICogLSBFYXJsaWVyIHZlcnNpb25zIG9mIFdlYkdMIHN1cHBvcnQgaW4gRWFzZWxKUyAoU3ByaXRlU3RhZ2UgYW5kIFNwcml0ZUNvbnRhaW5lcikgaGFkIGhhcmQgbGltaXRhdGlvbnMgb24gaW1hZ2VzXG5cdCAqIFx0cGVyIGNvbnRhaW5lciwgd2hpY2ggaGF2ZSBiZWVuIHNvbHZlZC5cblx0ICpcblx0ICogQGNsYXNzIFN0YWdlR0xcblx0ICogQGV4dGVuZHMgU3RhZ2Vcblx0ICogQGNvbnN0cnVjdG9yXG5cdCAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnQgfCBTdHJpbmcgfCBPYmplY3R9IGNhbnZhcyBBIGNhbnZhcyBvYmplY3QgdGhhdCBTdGFnZUdMIHdpbGwgcmVuZGVyIHRvLCBvciB0aGUgc3RyaW5nIGlkXG5cdCAqICBvZiBhIGNhbnZhcyBvYmplY3QgaW4gdGhlIGN1cnJlbnQgRE9NLlxuXHQgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyBBbGwgdGhlIG9wdGlvbiBwYXJhbWV0ZXJzIGluIGEgcmVmZXJlbmNlIG9iamVjdCwgc29tZSBhcmUgbm90IHN1cHBvcnRlZCBieSBzb21lIGJyb3dzZXJzLlxuXHQgKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLnByZXNlcnZlQnVmZmVyPWZhbHNlXSBJZiBgdHJ1ZWAsIHRoZSBjYW52YXMgaXMgTk9UIGF1dG8tY2xlYXJlZCBieSBXZWJHTCAodGhlIHNwZWNcblx0ICogIGRpc2NvdXJhZ2VzIHNldHRpbmcgdGhpcyB0byBgdHJ1ZWApLiBUaGlzIGlzIHVzZWZ1bCBpZiB5b3Ugd2FudCBwZXJzaXN0ZW50IGRyYXcgZWZmZWN0cy5cblx0ICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5hbnRpYWxpYXM9ZmFsc2VdIFNwZWNpZmllcyB3aGV0aGVyIG9yIG5vdCB0aGUgYnJvd3NlcidzIFdlYkdMIGltcGxlbWVudGF0aW9uIHNob3VsZCB0cnlcblx0ICogIHRvIHBlcmZvcm0gYW50aS1hbGlhc2luZy4gVGhpcyB3aWxsIGFsc28gZW5hYmxlIGxpbmVhciBwaXhlbCBzYW1wbGluZyBvbiBwb3dlci1vZi10d28gdGV4dHVyZXMgKHNtb290aGVyIGltYWdlcykuXG5cdCAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMudHJhbnNwYXJlbnQ9ZmFsc2VdIElmIGB0cnVlYCwgdGhlIGNhbnZhcyBpcyB0cmFuc3BhcmVudC4gVGhpcyBpcyA8c3Ryb25nPnZlcnk8L3N0cm9uZz5cblx0ICogZXhwZW5zaXZlLCBhbmQgc2hvdWxkIGJlIHVzZWQgd2l0aCBjYXV0aW9uLlxuXHQgKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLnByZW11bHRpcGx5PWZhbHNlXSBBbHRlcnMgY29sb3IgaGFuZGxpbmcuIElmIGB0cnVlYCwgdGhpcyBhc3N1bWVzIHRoZSBzaGFkZXIgbXVzdFxuXHQgKiBhY2NvdW50IGZvciBwcmUtbXVsdGlwbGllZCBhbHBoYS4gVGhpcyBjYW4gaGVscCBhdm9pZCB2aXN1YWwgaGFsbyBlZmZlY3RzIHdpdGggc29tZSBhc3NldHMsIGJ1dCBtYXkgYWxzbyBjYXVzZVxuXHQgKiBwcm9ibGVtcyB3aXRoIG90aGVyIGFzc2V0cy5cblx0ICogQHBhcmFtIHtJbnRlZ2VyfSBbb3B0aW9ucy5hdXRvUHVyZ2U9MTIwMF0gSG93IG9mdGVuIHRoZSBzeXN0ZW0gc2hvdWxkIGF1dG9tYXRpY2FsbHkgZHVtcCB1bnVzZWQgdGV4dHVyZXMgd2l0aFxuXHQgKiBgcHVyZ2VUZXh0dXJlcyhhdXRvUHVyZ2UpYCBldmVyeSBgYXV0b1B1cmdlLzJgIGRyYXdzLiBTZWUge3sjY3Jvc3NMaW5rIFwiU3RhZ2VHTC9wdXJnZVRleHR1cmVzXCJ9fXt7L2Nyb3NzTGlua319IGZvciBtb3JlXG5cdCAqIGluZm9ybWF0aW9uLlxuXHQgKi9cblx0ZnVuY3Rpb24gU3RhZ2VHTChjYW52YXMsIG9wdGlvbnMpIHtcblx0XHR0aGlzLlN0YWdlX2NvbnN0cnVjdG9yKGNhbnZhcyk7XG5cblx0XHRpZiAob3B0aW9ucyAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRpZiAodHlwZW9mIG9wdGlvbnMgIT09IFwib2JqZWN0XCIpeyB0aHJvdyhcIkludmFsaWQgb3B0aW9ucyBvYmplY3RcIik7IH1cblx0XHRcdHZhciBwcmVtdWx0aXBseSA9IG9wdGlvbnMucHJlbXVsdGlwbHk7XG5cdFx0XHR2YXIgdHJhbnNwYXJlbnQgPSBvcHRpb25zLnRyYW5zcGFyZW50O1xuXHRcdFx0dmFyIGFudGlhbGlhcyA9IG9wdGlvbnMuYW50aWFsaWFzO1xuXHRcdFx0dmFyIHByZXNlcnZlQnVmZmVyID0gb3B0aW9ucy5wcmVzZXJ2ZUJ1ZmZlcjtcblx0XHRcdHZhciBhdXRvUHVyZ2UgPSBvcHRpb25zLmF1dG9QdXJnZTtcblx0XHR9XG5cbi8vIHB1YmxpYyBwcm9wZXJ0aWVzOlxuXHRcdC8qKlxuXHRcdCAqIENvbnNvbGUgbG9nIHBvdGVudGlhbCBpc3N1ZXMgYW5kIHByb2JsZW1zLiBUaGlzIGlzIGRlc2lnbmVkIHRvIGhhdmUgPGVtPm1pbmltYWw8L2VtPiBwZXJmb3JtYW5jZSBpbXBhY3QsIHNvXG5cdFx0ICogaWYgZXh0ZW5zaXZlIGRlYnVnZ2luZyBpbmZvcm1hdGlvbiBpcyByZXF1aXJlZCwgdGhpcyBtYXkgYmUgaW5hZGVxdWF0ZS4gU2VlIHt7I2Nyb3NzTGluayBcIldlYkdMSW5zcGVjdG9yXCJ9fXt7L2Nyb3NzTGlua319XG5cdFx0ICogQHByb3BlcnR5IHZvY2FsRGVidWdcblx0XHQgKiBAdHlwZSB7Qm9vbGVhbn1cblx0XHQgKiBAZGVmYXVsdCBmYWxzZVxuXHRcdCAqL1xuXHRcdHRoaXMudm9jYWxEZWJ1ZyA9IGZhbHNlO1xuXG4vLyBwcml2YXRlIHByb3BlcnRpZXM6XG5cdFx0LyoqXG5cdFx0ICogU3BlY2lmaWVzIHdoZXRoZXIgb3Igbm90IHRoZSBjYW52YXMgaXMgYXV0by1jbGVhcmVkIGJ5IFdlYkdMLiBUaGUgV2ViR0wgc3BlYyBkaXNjb3VyYWdlcyBgdHJ1ZWAuXG5cdFx0ICogSWYgdHJ1ZSwgdGhlIGNhbnZhcyBpcyBOT1QgYXV0by1jbGVhcmVkIGJ5IFdlYkdMLiBVc2VkIHdoZW4gdGhlIGNhbnZhcyBjb250ZXh0IGlzIGNyZWF0ZWQgYW5kIHJlcXVpcmVzXG5cdFx0ICogY29udGV4dCByZS1jcmVhdGlvbiB0byB1cGRhdGUuXG5cdFx0ICogQHByb3BlcnR5IF9wcmVzZXJ2ZUJ1ZmZlclxuXHRcdCAqIEBwcm90ZWN0ZWRcblx0XHQgKiBAdHlwZSB7Qm9vbGVhbn1cblx0XHQgKiBAZGVmYXVsdCBmYWxzZVxuXHRcdCAqL1xuXHRcdHRoaXMuX3ByZXNlcnZlQnVmZmVyID0gcHJlc2VydmVCdWZmZXJ8fGZhbHNlO1xuXG5cdFx0LyoqXG5cdFx0ICogU3BlY2lmaWVzIHdoZXRoZXIgb3Igbm90IHRoZSBicm93c2VyJ3MgV2ViR0wgaW1wbGVtZW50YXRpb24gc2hvdWxkIHRyeSB0byBwZXJmb3JtIGFudGktYWxpYXNpbmcuXG5cdFx0ICogQHByb3BlcnR5IF9hbnRpYWxpYXNcblx0XHQgKiBAcHJvdGVjdGVkXG5cdFx0ICogQHR5cGUge0Jvb2xlYW59XG5cdFx0ICogQGRlZmF1bHQgZmFsc2Vcblx0XHQgKi9cblx0XHR0aGlzLl9hbnRpYWxpYXMgPSBhbnRpYWxpYXN8fGZhbHNlO1xuXG5cdFx0LyoqXG5cdFx0ICogU3BlY2lmaWVzIHdoZXRoZXIgb3Igbm90IHRoZSBicm93c2VyJ3MgV2ViR0wgaW1wbGVtZW50YXRpb24gc2hvdWxkIGJlIHRyYW5zcGFyZW50LlxuXHRcdCAqIEBwcm9wZXJ0eSBfdHJhbnNwYXJlbnRcblx0XHQgKiBAcHJvdGVjdGVkXG5cdFx0ICogQHR5cGUge0Jvb2xlYW59XG5cdFx0ICogQGRlZmF1bHQgZmFsc2Vcblx0XHQgKi9cblx0XHR0aGlzLl90cmFuc3BhcmVudCA9IHRyYW5zcGFyZW50fHxmYWxzZTtcblxuXHRcdC8qKlxuXHRcdCAqIFNwZWNpZmllcyB3aGV0aGVyIG9yIG5vdCBTdGFnZUdMIGlzIGhhbmRsaW5nIGNvbG91cnMgYXMgcHJlbXVsdGlwbGllZCBhbHBoYS5cblx0XHQgKiBAcHJvcGVydHkgX3ByZW11bHRpcGx5XG5cdFx0ICogQHByb3RlY3RlZFxuXHRcdCAqIEB0eXBlIHtCb29sZWFufVxuXHRcdCAqIEBkZWZhdWx0IGZhbHNlXG5cdFx0ICovXG5cdFx0dGhpcy5fcHJlbXVsdGlwbHkgPSBwcmVtdWx0aXBseXx8ZmFsc2U7XG5cblx0XHQvKipcblx0XHQgKiBJbnRlcm5hbCB2YWx1ZSBvZiB7eyNjcm9zc0xpbmsgXCJTdGFnZUdML2F1dG9QdXJnZVwifX17ey9jcm9zc0xpbmt9fVxuXHRcdCAqIEBwcm9wZXJ0eSBfYXV0b1B1cmdlXG5cdFx0ICogQHByb3RlY3RlZFxuXHRcdCAqIEB0eXBlIHtJbnRlZ2VyfVxuXHRcdCAqIEBkZWZhdWx0IG51bGxcblx0XHQgKi9cblx0XHR0aGlzLl9hdXRvUHVyZ2UgPSB1bmRlZmluZWQ7XG5cdFx0dGhpcy5hdXRvUHVyZ2UgPSBhdXRvUHVyZ2U7XHQvL2dldHRlci9zZXR0ZXIgaGFuZGxlcyBzZXR0aW5nIHRoZSByZWFsIHZhbHVlIGFuZCB2YWxpZGF0aW5nXG5cblx0XHQvKipcblx0XHQgKiBUaGUgd2lkdGggaW4gcHggb2YgdGhlIGRyYXdpbmcgc3VyZmFjZSBzYXZlZCBpbiBtZW1vcnkuXG5cdFx0ICogQHByb3BlcnR5IF92aWV3cG9ydFdpZHRoXG5cdFx0ICogQHByb3RlY3RlZFxuXHRcdCAqIEB0eXBlIHtOdW1iZXJ9XG5cdFx0ICogQGRlZmF1bHQgMFxuXHRcdCAqL1xuXHRcdHRoaXMuX3ZpZXdwb3J0V2lkdGggPSAwO1xuXG5cdFx0LyoqXG5cdFx0ICogVGhlIGhlaWdodCBpbiBweCBvZiB0aGUgZHJhd2luZyBzdXJmYWNlIHNhdmVkIGluIG1lbW9yeS5cblx0XHQgKiBAcHJvcGVydHkgX3ZpZXdwb3J0SGVpZ2h0XG5cdFx0ICogQHByb3RlY3RlZFxuXHRcdCAqIEB0eXBlIHtOdW1iZXJ9XG5cdFx0ICogQGRlZmF1bHQgMFxuXHRcdCAqL1xuXHRcdHRoaXMuX3ZpZXdwb3J0SGVpZ2h0ID0gMDtcblxuXHRcdC8qKlxuXHRcdCAqIEEgMkQgcHJvamVjdGlvbiBtYXRyaXggdXNlZCB0byBjb252ZXJ0IFdlYkdMJ3Mgdmlld3NwYWNlIGludG8gY2FudmFzIGNvLW9yZGluYXRlcy4gUmVndWxhciBjYW52YXMgZGlzcGxheVxuXHRcdCAqIHVzZXMgVG9wLUxlZnQgdmFsdWVzIG9mIFswLDBdIHdoZXJlIFdlYkdMIHVzZXMgYSBDZW50ZXIgWzAsMF0gVG9wLVJpZ2h0IFsxLDFdIChldWNsaWRlYW4pIHN5c3RlbS5cblx0XHQgKiBAcHJvcGVydHkgX3Byb2plY3Rpb25NYXRyaXhcblx0XHQgKiBAcHJvdGVjdGVkXG5cdFx0ICogQHR5cGUge0Zsb2F0MzJBcnJheX1cblx0XHQgKiBAZGVmYXVsdCBudWxsXG5cdFx0ICovXG5cdFx0dGhpcy5fcHJvamVjdGlvbk1hdHJpeCA9IG51bGw7XG5cblx0XHQvKipcblx0XHQgKiBUaGUgY3VycmVudCBXZWJHTCBjYW52YXMgY29udGV4dC4gT2Z0ZW4gc2hvcnRoYW5kZWQgdG8ganVzdCBcImdsXCIgaW4gbWFueSBwYXJ0cyBvZiB0aGUgY29kZS5cblx0XHQgKiBAcHJvcGVydHkgX3dlYkdMQ29udGV4dFxuXHRcdCAqIEBwcm90ZWN0ZWRcblx0XHQgKiBAdHlwZSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fVxuXHRcdCAqIEBkZWZhdWx0IG51bGxcblx0XHQgKi9cblx0XHR0aGlzLl93ZWJHTENvbnRleHQgPSBudWxsO1xuXG5cdFx0LyoqXG5cdFx0ICogVGhlIGNvbG9yIHRvIHVzZSB3aGVuIHRoZSBXZWJHTCBjYW52YXMgaGFzIGJlZW4gY2xlYXJlZC4gTWF5IGFwcGVhciBhcyBhIGJhY2tncm91bmQgY29sb3IuIERlZmF1bHRzIHRvIGdyZXkuXG5cdFx0ICogQHByb3BlcnR5IF9jbGVhckNvbG9yXG5cdFx0ICogQHByb3RlY3RlZFxuXHRcdCAqIEB0eXBlIHtPYmplY3R9XG5cdFx0ICogQGRlZmF1bHQge3I6IDAuNTAsIGc6IDAuNTAsIGI6IDAuNTAsIGE6IDAuMDB9XG5cdFx0ICovXG5cdFx0dGhpcy5fY2xlYXJDb2xvciA9IHtyOiAwLjUwLCBnOiAwLjUwLCBiOiAwLjUwLCBhOiAwLjAwfTtcblxuXHRcdC8qKlxuXHRcdCAqIFRoZSBtYXhpbXVtIG51bWJlciBvZiBjYXJkcyAoYWthIGEgc2luZ2xlIHNwcml0ZSkgdGhhdCBjYW4gYmUgZHJhd24gaW4gb25lIGRyYXcgY2FsbC4gVXNlIGdldHRlci9zZXR0ZXJzIHRvXG5cdFx0ICogbW9kaWZ5IG90aGVyd2lzZSBpbnRlcm5hbCBidWZmZXJzIG1heSBiZSBpbmNvcnJlY3Qgc2l6ZXMuXG5cdFx0ICogQHByb3BlcnR5IF9tYXhDYXJkc1BlckJhdGNoXG5cdFx0ICogQHByb3RlY3RlZFxuXHRcdCAqIEB0eXBlIHtOdW1iZXJ9XG5cdFx0ICogQGRlZmF1bHQgU3RhZ2VHTC5ERUZBVUxUX01BWF9CQVRDSF9TSVpFICgxMDAwMClcblx0XHQgKi9cblx0XHR0aGlzLl9tYXhDYXJkc1BlckJhdGNoID0gU3RhZ2VHTC5ERUZBVUxUX01BWF9CQVRDSF9TSVpFO1x0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvL1RPRE86IHdyaXRlIGdldHRlci9zZXR0ZXJzIGZvciB0aGlzXG5cblx0XHQvKipcblx0XHQgKiBUaGUgc2hhZGVyIHByb2dyYW0gdXNlZCB0byBkcmF3IHRoZSBjdXJyZW50IGJhdGNoLlxuXHRcdCAqIEBwcm9wZXJ0eSBfYWN0aXZlU2hhZGVyXG5cdFx0ICogQHByb3RlY3RlZFxuXHRcdCAqIEB0eXBlIHtXZWJHTFByb2dyYW19XG5cdFx0ICogQGRlZmF1bHQgbnVsbFxuXHRcdCAqL1xuXHRcdHRoaXMuX2FjdGl2ZVNoYWRlciA9IG51bGw7XG5cblx0XHQvKipcblx0XHQgKiBUaGUgdmVydGV4IHBvc2l0aW9uIGRhdGEgZm9yIHRoZSBjdXJyZW50IGRyYXcgY2FsbC5cblx0XHQgKiBAcHJvcGVydHkgX3ZlcnRpY2VzXG5cdFx0ICogQHByb3RlY3RlZFxuXHRcdCAqIEB0eXBlIHtGbG9hdDMyQXJyYXl9XG5cdFx0ICogQGRlZmF1bHQgbnVsbFxuXHRcdCAqL1xuXHRcdHRoaXMuX3ZlcnRpY2VzID0gbnVsbDtcblxuXHRcdC8qKlxuXHRcdCAqIFRoZSBXZWJHTCBidWZmZXIgYXR0YWNoZWQgdG8ge3sjY3Jvc3NMaW5rIFwiU3RhZ2VHTC9fdmVydGljZXM6cHJvcGVydHlcIn19e3svY3Jvc3NMaW5rfX0uXG5cdFx0ICogQHByb3BlcnR5IF92ZXJ0ZXhQb3NpdGlvbkJ1ZmZlclxuXHRcdCAqIEBwcm90ZWN0ZWRcblx0XHQgKiBAdHlwZSB7V2ViR0xCdWZmZXJ9XG5cdFx0ICogQGRlZmF1bHQgbnVsbFxuXHRcdCAqL1xuXHRcdHRoaXMuX3ZlcnRleFBvc2l0aW9uQnVmZmVyID0gbnVsbDtcblxuXHRcdC8qKlxuXHRcdCAqIFRoZSB2ZXJ0ZXggVS9WIGRhdGEgZm9yIHRoZSBjdXJyZW50IGRyYXcgY2FsbC5cblx0XHQgKiBAcHJvcGVydHkgX3V2c1xuXHRcdCAqIEBwcm90ZWN0ZWRcblx0XHQgKiBAdHlwZSB7RmxvYXQzMkFycmF5fVxuXHRcdCAqIEBkZWZhdWx0IG51bGxcblx0XHQgKi9cblx0XHR0aGlzLl91dnMgPSBudWxsO1xuXG5cdFx0LyoqXG5cdFx0ICogVGhlIFdlYkdMIGJ1ZmZlciBhdHRhY2hlZCB0byB7eyNjcm9zc0xpbmsgXCJTdGFnZUdML191dnM6cHJvcGVydHlcIn19e3svY3Jvc3NMaW5rfX0uXG5cdFx0ICogQHByb3BlcnR5IF91dlBvc2l0aW9uQnVmZmVyXG5cdFx0ICogQHByb3RlY3RlZFxuXHRcdCAqIEB0eXBlIHtXZWJHTEJ1ZmZlcn1cblx0XHQgKiBAZGVmYXVsdCBudWxsXG5cdFx0ICovXG5cdFx0dGhpcy5fdXZQb3NpdGlvbkJ1ZmZlciA9IG51bGw7XG5cblx0XHQvKipcblx0XHQgKiBUaGUgdmVydGV4IGluZGljZXMgZGF0YSBmb3IgdGhlIGN1cnJlbnQgZHJhdyBjYWxsLlxuXHRcdCAqIEBwcm9wZXJ0eSBfaW5kaWNlc1xuXHRcdCAqIEBwcm90ZWN0ZWRcblx0XHQgKiBAdHlwZSB7RmxvYXQzMkFycmF5fVxuXHRcdCAqIEBkZWZhdWx0IG51bGxcblx0XHQgKi9cblx0XHR0aGlzLl9pbmRpY2VzID0gbnVsbDtcblxuXHRcdC8qKlxuXHRcdCAqIFRoZSBXZWJHTCBidWZmZXIgYXR0YWNoZWQgdG8ge3sjY3Jvc3NMaW5rIFwiU3RhZ2VHTC9faW5kaWNlczpwcm9wZXJ0eVwifX17ey9jcm9zc0xpbmt9fS5cblx0XHQgKiBAcHJvcGVydHkgX3RleHR1cmVJbmRleEJ1ZmZlclxuXHRcdCAqIEBwcm90ZWN0ZWRcblx0XHQgKiBAdHlwZSB7V2ViR0xCdWZmZXJ9XG5cdFx0ICogQGRlZmF1bHQgbnVsbFxuXHRcdCAqL1xuXHRcdHRoaXMuX3RleHR1cmVJbmRleEJ1ZmZlciA9IG51bGw7XG5cblx0XHQvKipcblx0XHQgKiBUaGUgdmVydGljZXMgZGF0YSBmb3IgdGhlIGN1cnJlbnQgZHJhdyBjYWxsLlxuXHRcdCAqIEBwcm9wZXJ0eSBfYWxwaGFzXG5cdFx0ICogQHByb3RlY3RlZFxuXHRcdCAqIEB0eXBlIHtGbG9hdDMyQXJyYXl9XG5cdFx0ICogQGRlZmF1bHQgbnVsbFxuXHRcdCAqL1xuXHRcdHRoaXMuX2FscGhhcyA9IG51bGw7XG5cblx0XHQvKipcblx0XHQgKiBUaGUgV2ViR0wgYnVmZmVyIGF0dGFjaGVkIHRvIHt7I2Nyb3NzTGluayBcIlN0YWdlR0wvX2FscGhhczpwcm9wZXJ0eVwifX17ey9jcm9zc0xpbmt9fS5cblx0XHQgKiBAcHJvcGVydHkgX2FscGhhQnVmZmVyXG5cdFx0ICogQHByb3RlY3RlZFxuXHRcdCAqIEB0eXBlIHtXZWJHTEJ1ZmZlcn1cblx0XHQgKiBAZGVmYXVsdCBudWxsXG5cdFx0ICovXG5cdFx0dGhpcy5fYWxwaGFCdWZmZXIgPSBudWxsO1xuXG5cdFx0LyoqXG5cdFx0ICogQW4gaW5kZXggYmFzZWQgbG9va3VwIG9mIGV2ZXJ5IFdlYkdMIFRleHR1cmUgY3VycmVudGx5IGluIHVzZS5cblx0XHQgKiBAcHJvcGVydHkgX2RyYXdUZXh0dXJlXG5cdFx0ICogQHByb3RlY3RlZFxuXHRcdCAqIEB0eXBlIHtBcnJheX1cblx0XHQgKi9cblx0XHR0aGlzLl90ZXh0dXJlRGljdGlvbmFyeSA9IFtdO1xuXG5cdFx0LyoqXG5cdFx0ICogQSBzdHJpbmcgYmFzZWQgbG9va3VwIGhhc2ggb2Ygd2hpY2ggaW5kZXggYSB0ZXh0dXJlIGlzIHN0b3JlZCBhdCBpbiB0aGUgZGljdGlvbmFyeS4gVGhlIGxvb2t1cCBzdHJpbmcgaXNcblx0XHQgKiBvZnRlbiB0aGUgc3JjIHVybC5cblx0XHQgKiBAcHJvcGVydHkgX3RleHR1cmVJRHNcblx0XHQgKiBAcHJvdGVjdGVkXG5cdFx0ICogQHR5cGUge09iamVjdH1cblx0XHQgKi9cblx0XHR0aGlzLl90ZXh0dXJlSURzID0ge307XG5cblx0XHQvKipcblx0XHQgKiBBbiBhcnJheSBvZiBhbGwgdGhlIHRleHR1cmVzIGN1cnJlbnRseSBsb2FkZWQgaW50byB0aGUgR1BVLiBUaGUgaW5kZXggaW4gdGhlIGFycmF5IG1hdGNoZXMgdGhlIEdQVSBpbmRleC5cblx0XHQgKiBAcHJvcGVydHkgX2JhdGNoVGV4dHVyZXNcblx0XHQgKiBAcHJvdGVjdGVkXG5cdFx0ICogQHR5cGUge0FycmF5fVxuXHRcdCAqL1xuXHRcdHRoaXMuX2JhdGNoVGV4dHVyZXMgPSBbXTtcblxuXHRcdC8qKlxuXHRcdCAqIEFuIGFycmF5IG9mIGFsbCB0aGUgc2ltcGxlIGZpbGxlciB0ZXh0dXJlcyB1c2VkIHRvIHByZXZlbnQgaXNzdWVzIHdpdGggbWlzc2luZyB0ZXh0dXJlcyBpbiBhIGJhdGNoLlxuXHRcdCAqIEBwcm9wZXJ0eSBfYmFzZVRleHR1cmVzXG5cdFx0ICogQHByb3RlY3RlZFxuXHRcdCAqIEB0eXBlIHtBcnJheX1cblx0XHQgKi9cblx0XHR0aGlzLl9iYXNlVGV4dHVyZXMgPSBbXTtcblxuXHRcdC8qKlxuXHRcdCAqIFRoZSBudW1iZXIgb2YgY29uY3VycmVudCB0ZXh0dXJlcyB0aGUgR1BVIGNhbiBoYW5kbGUuIFRoaXMgdmFsdWUgaXMgZHluYW1pY2FsbHkgc2V0IGZyb20gV2ViR0wgZHVyaW5nIGluaXRpYWxpemF0aW9uXG5cdFx0ICogdmlhIGBnbC5nZXRQYXJhbWV0ZXIoZ2wuTUFYX1RFWFRVUkVfSU1BR0VfVU5JVFMpYC4gVGhlIFdlYkdMIHNwZWMgc3RhdGVzIHRoYXQgdGhlIGxvd2VzdCBndWFyYW50ZWVkIHZhbHVlIGlzIDgsXG5cdFx0ICogYnV0IGl0IGNvdWxkIGJlIGhpZ2hlci4gRG8gbm90IHNldCB0aGlzIHZhbHVlIGhpZ2hlciB0aGFuIHRoZSB2YWx1ZSByZXR1cm5lZCBieSB0aGUgR1BVLiBTZXR0aW5nIGl0IGxvd2VyIHdpbGxcblx0XHQgKiBwcm9iYWJseSByZWR1Y2UgcGVyZm9ybWFuY2UsIGJ1dCBtYXkgYmUgYWR2aXNhYmxlIHRvIHJlc2VydmUgc2xvdHMgZm9yIGN1c3RvbSBmaWx0ZXIgd29yay5cblx0XHQgKiBOT1RFOiBDYW4gYWxzbyBhY3QgYXMgYSBsZW5ndGggZm9yIHt7I2Nyb3NzTGluayBcIlN0YWdlR0wvX2JhdGNoVGV4dHVyZXM6cHJvcGVydHlcIn19LlxuXHRcdCAqIEBwcm9wZXJ0eSBfYmF0Y2hUZXh0dXJlQ291bnRcblx0XHQgKiBAcHJvdGVjdGVkXG5cdFx0ICogQHR5cGUge051bWJlcn1cblx0XHQgKiBAZGVmYXVsdCA4XG5cdFx0ICovXG5cdFx0dGhpcy5fYmF0Y2hUZXh0dXJlQ291bnQgPSA4O1xuXG5cdFx0LyoqXG5cdFx0ICogVGhlIGxvY2F0aW9uIGF0IHdoaWNoIHRoZSBsYXN0IHRleHR1cmUgd2FzIGluc2VydGVkIGludG8gYSBHUFUgc2xvdCBpbiB7eyNjcm9zc0xpbmsgXCJTdGFnZUdML19iYXRjaFRleHR1cmVzOnByb3BlcnR5XCJ9fXt7L2Nyb3NzTGlua319LlxuXHRcdCAqIE1hbnVhbCBjb250cm9sIG9mIHRoaXMgdmFyaWFibGUgY2FuIHlpZWxkIGltcHJvdmVtZW50cyBpbiBwZXJmb3JtYW5jZSBieSBpbnRlbGxpZ2VudGx5IHJlcGxhY2luZyB0ZXh0dXJlc1xuXHRcdCAqIGluc2lkZSBhIGJhdGNoIHRvIHJlZHVjZSB0ZXh0dXJlIHJlLWxvYWQuIEl0IGlzIGltcG9zc2libGUgdG8gd3JpdGUgYXV0b21hdGVkIGdlbmVyYWwgdXNlIGNvZGUsIGFzIGl0IHJlcXVpcmVzXG5cdFx0ICogZGlzcGxheSBsaXN0IGxvb2sgYWhlYWQgaW5zcGVjdGlvbiBhbmQvb3IgcmVuZGVyIGZvcmVrbm93bGVkZ2UuXG5cdFx0ICogQHByb3BlcnR5IF9sYXN0VGV4dHVyZUluc2VydFxuXHRcdCAqIEBwcm90ZWN0ZWRcblx0XHQgKiBAdHlwZSB7TnVtYmVyfVxuXHRcdCAqIEBkZWZhdWx0IC0xXG5cdFx0ICovXG5cdFx0dGhpcy5fbGFzdFRleHR1cmVJbnNlcnQgPSAtMTtcblxuXHRcdC8qKlxuXHRcdCAqIFRoZSBjdXJyZW50IGJhdGNoIGJlaW5nIGRyYXduLCBBIGJhdGNoIGNvbnNpc3RzIG9mIGEgY2FsbCB0byBgZHJhd0VsZW1lbnRzYCBvbiB0aGUgR1BVLiBNYW55IG9mIHRoZXNlIGNhbGxzXG5cdFx0ICogY2FuIG9jY3VyIHBlciBkcmF3LlxuXHRcdCAqIEBwcm9wZXJ0eSBfYmF0Y2hJZFxuXHRcdCAqIEBwcm90ZWN0ZWRcblx0XHQgKiBAdHlwZSB7TnVtYmVyfVxuXHRcdCAqIEBkZWZhdWx0IDBcblx0XHQgKi9cblx0XHR0aGlzLl9iYXRjaElEID0gMDtcblxuXHRcdC8qKlxuXHRcdCAqIFRoZSBjdXJyZW50IGRyYXcgYmVpbmcgcGVyZm9ybWVkLCBtYXkgY29udGFpbiBtdWx0aXBsZSBiYXRjaGVzLiBDb21wYXJpbmcgdG8ge3sjY3Jvc3NMaW5rIFwiU3RhZ2VHTC9fYmF0Y2hJRDpwcm9wZXJ0eVwifX17ey9jcm9zc0xpbmt9fVxuXHRcdCAqIGNhbiByZXZlYWwgYmF0Y2hpbmcgZWZmaWNpZW5jeS5cblx0XHQgKiBAcHJvcGVydHkgX2RyYXdJRFxuXHRcdCAqIEBwcm90ZWN0ZWRcblx0XHQgKiBAdHlwZSB7TnVtYmVyfVxuXHRcdCAqIEBkZWZhdWx0IDBcblx0XHQgKi9cblx0XHR0aGlzLl9kcmF3SUQgPSAwO1xuXG5cdFx0LyoqXG5cdFx0ICogVXNlZCB0byBwcmV2ZW50IHRleHR1cmVzIGluIGNlcnRhaW4gR1BVIHNsb3RzIGZyb20gYmVpbmcgcmVwbGFjZWQgYnkgYW4gaW5zZXJ0LlxuXHRcdCAqIEBwcm9wZXJ0eSBfc2xvdEJsYWNrTGlzdFxuXHRcdCAqIEBwcm90ZWN0ZWRcblx0XHQgKiBAdHlwZSB7QXJyYXl9XG5cdFx0ICovXG5cdFx0dGhpcy5fc2xvdEJsYWNrbGlzdCA9IFtdO1xuXG5cdFx0LyoqXG5cdFx0ICogVXNlZCB0byBwcmV2ZW50IG5lc3RlZCBkcmF3IGNhbGxzIGZyb20gYWNjaWRlbnRhbGx5IG92ZXJ3cml0aW5nIGRyYXdpbmcgaW5mb3JtYXRpb24gYnkgdHJhY2tpbmcgZGVwdGguXG5cdFx0ICogQHByb3BlcnR5IF9pc0RyYXdpbmdcblx0XHQgKiBAcHJvdGVjdGVkXG5cdFx0ICogQHR5cGUge051bWJlcn1cblx0XHQgKiBAZGVmYXVsdCAwXG5cdFx0ICovXG5cdFx0dGhpcy5faXNEcmF3aW5nID0gMDtcblxuXHRcdC8qKlxuXHRcdCAqIFVzZWQgdG8gZW5zdXJlIGV2ZXJ5IGNhbnZhcyB1c2VkIGFzIGEgdGV4dHVyZSBzb3VyY2UgaGFzIGEgdW5pcXVlIElELlxuXHRcdCAqIEBwcm9wZXJ0eSBfbGFzdFRyYWNrZWRDYW52YXNcblx0XHQgKiBAcHJvdGVjdGVkXG5cdFx0ICogQHR5cGUge051bWJlcn1cblx0XHQgKiBAZGVmYXVsdCAwXG5cdFx0ICovXG5cdFx0dGhpcy5fbGFzdFRyYWNrZWRDYW52YXMgPSAwO1xuXG5cdFx0LyoqXG5cdFx0ICogQ29udHJvbHMgd2hldGhlciBmaW5hbCByZW5kZXJpbmcgb3V0cHV0IG9mIGEge3sjY3Jvc3NMaW5rIFwiY2FjaGVEcmF3XCJ9fXt7L2Nyb3NzTGlua319IGlzIHRoZSBjYW52YXMgb3IgYSByZW5kZXJcblx0XHQgKiB0ZXh0dXJlLiBTZWUgdGhlIHt7I2Nyb3NzTGluayBcImNhY2hlXCJ9fXt7L2Nyb3NzTGlua319IGZ1bmN0aW9uIG1vZGlmaWNhdGlvbnMgZm9yIGZ1bGwgaW1wbGljYXRpb25zIGFuZCBkaXNjdXNzaW9uLlxuXHRcdCAqIEBwcm9wZXJ0eSBpc0NhY2hlQ29udHJvbGxlZFxuXHRcdCAqIEBwcm90ZWN0ZWRcblx0XHQgKiBAdHlwZSB7Qm9vbGVhbn1cblx0XHQgKiBAZGVmYXVsdCBmYWxzZVxuXHRcdCAqIEB0b2RvIExNOiBpcyB0aGlzIHN1cHBvc2VkIHRvIGJlIF9pc0NhY2hlQ29udHJvbGxlZCBzaW5jZSBpdHMgcHJpdmF0ZT9cblx0XHQgKi9cblx0XHR0aGlzLmlzQ2FjaGVDb250cm9sbGVkID0gZmFsc2U7XG5cblx0XHQvKipcblx0XHQgKiBVc2VkIHRvIGNvdW50ZXItcG9zaXRpb24gdGhlIG9iamVjdCBiZWluZyBjYWNoZWQgc28gaXQgYWxpZ25zIHdpdGggdGhlIGNhY2hlIHN1cmZhY2UuIEFkZGl0aW9uYWxseSBlbnN1cmVzXG5cdFx0ICogdGhhdCBhbGwgcmVuZGVyaW5nIHN0YXJ0cyB3aXRoIGEgdG9wIGxldmVsIGNvbnRhaW5lci5cblx0XHQgKiBAcHJvcGVydHkgX2NhY2hlQ29udGFpbmVyXG5cdFx0ICogQHByb3RlY3RlZFxuXHRcdCAqIEB0eXBlIHtDb250YWluZXJ9XG5cdFx0ICogQGRlZmF1bHQgQW4gaW5zdGFuY2Ugb2YgYW4gRWFzZWxKUyBDb250YWluZXIuXG5cdFx0ICovXG5cdFx0dGhpcy5fY2FjaGVDb250YWluZXIgPSBuZXcgY3JlYXRlanMuQ29udGFpbmVyKCk7XG5cblx0XHQvLyBhbmQgYmVnaW5cblx0XHR0aGlzLl9pbml0aWFsaXplV2ViR0woKTtcblx0fVxuXHR2YXIgcCA9IGNyZWF0ZWpzLmV4dGVuZChTdGFnZUdMLCBjcmVhdGVqcy5TdGFnZSk7XG5cbi8vIHN0YXRpYyBtZXRob2RzOlxuXHQvKipcblx0ICogQ2FsY3VsYXRlIHRoZSBVL1YgY28tb3JkaW5hdGUgYmFzZWQgaW5mbyBmb3Igc3ByaXRlIGZyYW1lcy4gSW5zdGVhZCBvZiBwaXhlbCBjb3VudCBpdCB1c2VzIGEgMC0xIHNwYWNlLiBBbHNvIGluY2x1ZGVzXG5cdCAqIHRoZSBhYmlsaXR5IHRvIGdldCBpbmZvIGJhY2sgZm9yIGEgc3BlY2lmaWMgZnJhbWUsIG9yIG9ubHkgY2FsY3VsYXRlIHRoYXQgb25lIGZyYW1lLlxuXHQgKlxuXHQgKiAgICAgLy9nZW5lcmF0ZSBVViByZWN0cyBmb3IgYWxsIGVudHJpZXNcblx0ICogICAgIFN0YWdlR0wuYnVpbGRVVlJlY3RzKCBzcHJpdGVTaGVldEEgKTtcblx0ICogICAgIC8vZ2VuZXJhdGUgYWxsLCBmZXRjaCB0aGUgZmlyc3Rcblx0ICogICAgIHZhciBmaXJzdEZyYW1lID0gU3RhZ2VHTC5idWlsZFVWUmVjdHMoIHNwcml0ZVNoZWV0QiwgMCApO1xuXHQgKiAgICAgLy9nZW5lcmF0ZSB0aGUgcmVjdCBmb3IganVzdCBhIHNpbmdsZSBmcmFtZSBmb3IgcGVyZm9ybWFuY2UncyBzYWtlXG5cdCAqICAgICB2YXIgbmV3RnJhbWUgPSBTdGFnZUdMLmJ1aWxkVVZSZWN0cyggZHluYW1pY1Nwcml0ZVNoZWV0LCBuZXdGcmFtZUluZGV4LCB0cnVlICk7XG5cdCAqXG5cdCAqIE5PVEU6IFRoaXMgbWV0aG9kIGlzIG1haW5seSBmb3IgaW50ZXJuYWwgdXNlLCB0aG91Z2ggaXQgbWF5IGJlIHVzZWZ1bCBmb3IgYWR2YW5jZWQgdXNlcy5cblx0ICogQG1ldGhvZCBidWlsZFVWUmVjdHNcblx0ICogQHBhcmFtICB7U3ByaXRlU2hlZXR9IHNwcml0ZXNoZWV0IFRoZSBzcHJpdGVzaGVldCB0byBmaW5kIHRoZSBmcmFtZXMgb25cblx0ICogQHBhcmFtICB7aW50fSBbdGFyZ2V0PS0xXSBUaGUgaW5kZXggb2YgdGhlIGZyYW1lIHRvIHJldHVyblxuXHQgKiBAcGFyYW0gIHtCb29sZWFufSBbb25seVRhcmdldD1mYWxzZV0gV2hldGhlciBcInRhcmdldFwiIGlzIHRoZSBvbmx5IGZyYW1lIHRoYXQgZ2V0cyBjYWxjdWxhdGVkXG5cdCAqIEBzdGF0aWNcblx0ICogQHJldHVybiB7T2JqZWN0fSB0aGUgdGFyZ2V0IGZyYW1lIGlmIHN1cHBsaWVkIGFuZCBwcmVzZW50IG9yIGEgZ2VuZXJpYyBmcmFtZSB7dCwgbCwgYiwgcn1cblx0ICovXG5cdFN0YWdlR0wuYnVpbGRVVlJlY3RzID0gZnVuY3Rpb24gKHNwcml0ZXNoZWV0LCB0YXJnZXQsIG9ubHlUYXJnZXQpIHtcblx0XHRpZiAoIXNwcml0ZXNoZWV0IHx8ICFzcHJpdGVzaGVldC5fZnJhbWVzKSB7IHJldHVybiBudWxsOyB9XG5cdFx0aWYgKHRhcmdldCA9PT0gdW5kZWZpbmVkKSB7IHRhcmdldCA9IC0xOyB9XG5cdFx0aWYgKG9ubHlUYXJnZXQgPT09IHVuZGVmaW5lZCkgeyBvbmx5VGFyZ2V0ID0gZmFsc2U7IH1cblxuXHRcdHZhciBzdGFydCA9ICh0YXJnZXQgIT0gLTEgJiYgb25seVRhcmdldCk/KHRhcmdldCk6KDApO1xuXHRcdHZhciBlbmQgPSAodGFyZ2V0ICE9IC0xICYmIG9ubHlUYXJnZXQpPyh0YXJnZXQrMSk6KHNwcml0ZXNoZWV0Ll9mcmFtZXMubGVuZ3RoKTtcblx0XHRmb3IgKHZhciBpPXN0YXJ0OyBpPGVuZDsgaSsrKSB7XG5cdFx0XHR2YXIgZiA9IHNwcml0ZXNoZWV0Ll9mcmFtZXNbaV07XG5cdFx0XHRpZiAoZi51dlJlY3QgfHwgZi5pbWFnZS53aWR0aCA8PSAwIHx8IGYuaW1hZ2UuaGVpZ2h0IDw9IDApIHsgY29udGludWU7IH1cblxuXHRcdFx0dmFyIHIgPSBmLnJlY3Q7XG5cdFx0XHRmLnV2UmVjdCA9IHtcblx0XHRcdFx0dDogci55IC8gZi5pbWFnZS5oZWlnaHQsXG5cdFx0XHRcdGw6IHIueCAvIGYuaW1hZ2Uud2lkdGgsXG5cdFx0XHRcdGI6IChyLnkgKyByLmhlaWdodCkgLyBmLmltYWdlLmhlaWdodCxcblx0XHRcdFx0cjogKHIueCArIHIud2lkdGgpIC8gZi5pbWFnZS53aWR0aFxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHRyZXR1cm4gc3ByaXRlc2hlZXQuX2ZyYW1lc1sodGFyZ2V0ICE9IC0xKSA/IHRhcmdldCA6IDBdLnV2UmVjdCB8fCB7dDowLCBsOjAsIGI6MSwgcjoxfTtcblx0fTtcblxuXHQvKipcblx0ICogVGVzdCBhIGNvbnRleHQgdG8gc2VlIGlmIGl0IGhhcyBXZWJHTCBlbmFibGVkIG9uIGl0LlxuXHQgKiBAbWV0aG9kIGlzV2ViR0xBY3RpdmVcblx0ICogQHBhcmFtIHtDYW52YXNDb250ZXh0fSBjdHggVGhlIGNvbnRleHQgdG8gdGVzdFxuXHQgKiBAc3RhdGljXG5cdCAqIEByZXR1cm4ge0Jvb2xlYW59IFdoZXRoZXIgV2ViR0wgaXMgZW5hYmxlZFxuXHQgKi9cblx0U3RhZ2VHTC5pc1dlYkdMQWN0aXZlID0gZnVuY3Rpb24gKGN0eCkge1xuXHRcdHJldHVybiBjdHggJiZcblx0XHRcdGN0eCBpbnN0YW5jZW9mIFdlYkdMUmVuZGVyaW5nQ29udGV4dCAmJlxuXHRcdFx0dHlwZW9mIFdlYkdMUmVuZGVyaW5nQ29udGV4dCAhPT0gJ3VuZGVmaW5lZCc7XG5cdH07XG5cbi8vIHN0YXRpYyBwcm9wZXJ0aWVzOlxuXHQvKipcblx0ICogVGhlIG51bWJlciBvZiBwcm9wZXJ0aWVzIGRlZmluZWQgcGVyIHZlcnRleCAoeCwgeSwgdGV4dHVyZVUsIHRleHR1cmVWLCB0ZXh0dXJlSW5kZXgsIGFscGhhKVxuXHQgKiBAcHJvcGVydHkgVkVSVEVYX1BST1BFUlRZX0NPVU5UXG5cdCAqIEBzdGF0aWNcblx0ICogQGZpbmFsXG5cdCAqIEB0eXBlIHtOdW1iZXJ9XG5cdCAqIEBkZWZhdWx0IDZcblx0ICogQHJlYWRvbmx5XG5cdCAqL1xuXHRTdGFnZUdMLlZFUlRFWF9QUk9QRVJUWV9DT1VOVCA9IDY7XG5cblx0LyoqXG5cdCAqIFRoZSBudW1iZXIgb2YgdHJpYW5nbGUgaW5kaWNlcyBpdCB0YWtlcyB0byBmb3JtIGEgQ2FyZC4gMyBwZXIgdHJpYW5nbGUsIDIgdHJpYW5nbGVzLlxuXHQgKiBAcHJvcGVydHkgSU5ESUNJRVNfUEVSX0NBUkRcblx0ICogQHN0YXRpY1xuXHQgKiBAZmluYWxcblx0ICogQHR5cGUge051bWJlcn1cblx0ICogQGRlZmF1bHQgNlxuXHQgKiBAcmVhZG9ubHlcblx0ICovXG5cdFN0YWdlR0wuSU5ESUNJRVNfUEVSX0NBUkQgPSA2O1xuXG5cdC8qKlxuXHQgKiBUaGUgZGVmYXVsdCB2YWx1ZSBmb3IgdGhlIG1heGltdW0gbnVtYmVyIG9mIGNhcmRzIHdlIHdhbnQgdG8gcHJvY2VzcyBpbiBhIGJhdGNoLiBTZWVcblx0ICoge3sjY3Jvc3NMaW5rIFwiU3RhZ2VHTC9XRUJHTF9NQVhfSU5ERVhfTlVNOnByb3BlcnR5XCJ9fXt7L2Nyb3NzTGlua319IGZvciBhIGhhcmQgbGltaXQuXG5cdCAqIEBwcm9wZXJ0eSBERUZBVUxUX01BWF9CQVRDSF9TSVpFXG5cdCAqIEBzdGF0aWNcblx0ICogQGZpbmFsXG5cdCAqIEB0eXBlIHtOdW1iZXJ9XG5cdCAqIEBkZWZhdWx0IDEwMDAwXG5cdCAqIEByZWFkb25seVxuXHQgKi9cblx0U3RhZ2VHTC5ERUZBVUxUX01BWF9CQVRDSF9TSVpFID0gMTAwMDA7XG5cblx0LyoqXG5cdCAqIFRoZSBtYXhpbXVtIHNpemUgV2ViR0wgYWxsb3dzIGZvciBlbGVtZW50IGluZGV4IG51bWJlcnMuIFVzZXMgYSAxNiBiaXQgdW5zaWduZWQgaW50ZWdlci4gSXQgdGFrZXMgNiBpbmRpY2VzIHRvXG5cdCAqIG1ha2UgYSB1bmlxdWUgY2FyZC5cblx0ICogQHByb3BlcnR5IFdFQkdMX01BWF9JTkRFWF9OVU1cblx0ICogQHN0YXRpY1xuXHQgKiBAZmluYWxcblx0ICogQHR5cGUge051bWJlcn1cblx0ICogQGRlZmF1bHQgNjU1MzZcblx0ICogQHJlYWRvbmx5XG5cdCAqL1xuXHRTdGFnZUdMLldFQkdMX01BWF9JTkRFWF9OVU0gPSBNYXRoLnBvdygyLCAxNik7XG5cblx0LyoqXG5cdCAqIERlZmF1bHQgVS9WIHJlY3QgZm9yIGRlYWxpbmcgd2l0aCBmdWxsIGNvdmVyYWdlIGZyb20gYW4gaW1hZ2Ugc291cmNlLlxuXHQgKiBAcHJvcGVydHkgVVZfUkVDVFxuXHQgKiBAc3RhdGljXG5cdCAqIEBmaW5hbFxuXHQgKiBAdHlwZSB7T2JqZWN0fVxuXHQgKiBAZGVmYXVsdCB7dDowLCBsOjAsIGI6MSwgcjoxfVxuXHQgKiBAcmVhZG9ubHlcblx0ICovXG5cdFN0YWdlR0wuVVZfUkVDVCA9IHt0OjAsIGw6MCwgYjoxLCByOjF9O1xuXG5cdHRyeSB7XG5cdFx0LyoqXG5cdFx0ICogVmVydGV4IHBvc2l0aW9ucyBmb3IgYSBjYXJkIHRoYXQgY292ZXJzIHRoZSBlbnRpcmUgcmVuZGVyLiBVc2VkIHdpdGggcmVuZGVyIHRhcmdldHMgcHJpbWFyaWx5LlxuXHRcdCAqIEBwcm9wZXJ0eSBDT1ZFUl9WRVJUXG5cdFx0ICogQHN0YXRpY1xuXHRcdCAqIEBmaW5hbFxuXHRcdCAqIEB0eXBlIHtGbG9hdDMyQXJyYXl9XG5cdFx0ICogQHJlYWRvbmx5XG5cdFx0ICovXG5cdFx0U3RhZ2VHTC5DT1ZFUl9WRVJUID0gbmV3IEZsb2F0MzJBcnJheShbXG5cdFx0XHQtMSxcdFx0IDEsXHRcdC8vVExcblx0XHRcdDEsXHRcdCAxLFx0XHQvL1RSXG5cdFx0XHQtMSxcdFx0LTEsXHRcdC8vQkxcblx0XHRcdDEsXHRcdCAxLFx0XHQvL1RSXG5cdFx0XHQxLFx0XHQtMSxcdFx0Ly9CUlxuXHRcdFx0LTEsXHRcdC0xXHRcdC8vQkxcblx0XHRdKTtcblxuXHRcdC8qKlxuXHRcdCAqIFUvViBmb3Ige3sjY3Jvc3NMaW5rIFwiU3RhZ2VHTC9DT1ZFUl9WRVJUOnByb3BlcnR5XCJ9fXt7L2Nyb3NzTGlua319LlxuXHRcdCAqIEBwcm9wZXJ0eSBDT1ZFUl9VVlxuXHRcdCAqIEBzdGF0aWNcblx0XHQgKiBAZmluYWxcblx0XHQgKiBAdHlwZSB7RmxvYXQzMkFycmF5fVxuXHRcdCAqIEByZWFkb25seVxuXHRcdCAqL1xuXHRcdFN0YWdlR0wuQ09WRVJfVVYgPSBuZXcgRmxvYXQzMkFycmF5KFtcblx0XHRcdCAwLFx0XHQgMCxcdFx0Ly9UTFxuXHRcdFx0IDEsXHRcdCAwLFx0XHQvL1RSXG5cdFx0XHQgMCxcdFx0IDEsXHRcdC8vQkxcblx0XHRcdCAxLFx0XHQgMCxcdFx0Ly9UUlxuXHRcdFx0IDEsXHRcdCAxLFx0XHQvL0JSXG5cdFx0XHQgMCxcdFx0IDFcdFx0Ly9CTFxuXHRcdF0pO1xuXG5cdFx0LyoqXG5cdFx0ICogRmxpcHBlZCBVL1YgZm9yIHt7I2Nyb3NzTGluayBcIlN0YWdlR0w6Q09WRVJfVkVSVDpwcm9wZXJ0eVwifX17ey9jcm9zc0xpbmt9fS5cblx0XHQgKiBAcHJvcGVydHkgQ09WRVJfVVZfRkxJUFxuXHRcdCAqIEBzdGF0aWNcblx0XHQgKiBAZmluYWxcblx0XHQgKiBAdHlwZSB7RmxvYXQzMkFycmF5fVxuXHRcdCAqIEByZWFkb25seVxuXHRcdCAqL1xuXHRcdFN0YWdlR0wuQ09WRVJfVVZfRkxJUCA9IG5ldyBGbG9hdDMyQXJyYXkoW1xuXHRcdFx0IDAsXHRcdCAxLFx0XHQvL1RMXG5cdFx0XHQgMSxcdFx0IDEsXHRcdC8vVFJcblx0XHRcdCAwLFx0XHQgMCxcdFx0Ly9CTFxuXHRcdFx0IDEsXHRcdCAxLFx0XHQvL1RSXG5cdFx0XHQgMSxcdFx0IDAsXHRcdC8vQlJcblx0XHRcdCAwLFx0XHQgMFx0XHQvL0JMXG5cdFx0XSk7XG5cdH0gY2F0Y2goZSkgeyAvKiBCcmVha2luZyBpbiBvbGRlciBicm93c2VycywgYnV0IHRob3NlIGJyb3dzZXJzIHdvbnQgcnVuIFN0YWdlR0wgc28gbm8gcmVjb3Zlcnkgb3Igd2FybmluZyBuZWVkZWQgKi8gfVxuXG5cdC8qKlxuXHQgKiBQb3J0aW9uIG9mIHRoZSBzaGFkZXIgdGhhdCBjb250YWlucyB0aGUgXCJ2YXJ5aW5nXCIgcHJvcGVydGllcyByZXF1aXJlZCBpbiBib3RoIHZlcnRleCBhbmQgZnJhZ21lbnQgc2hhZGVycy4gVGhlXG5cdCAqIHJlZ3VsYXIgc2hhZGVyIGlzIGRlc2lnbmVkIHRvIHJlbmRlciBhbGwgZXhwZWN0ZWQgb2JqZWN0cy4gU2hhZGVyIGNvZGUgbWF5IGNvbnRhaW4gdGVtcGxhdGVzIHRoYXQgYXJlIHJlcGxhY2VkXG5cdCAqIHByZS1jb21waWxlLlxuXHQgKiBAcHJvcGVydHkgUkVHVUxBUl9WQVJZSU5HX0hFQURFUlxuXHQgKiBAc3RhdGljXG5cdCAqIEBmaW5hbFxuXHQgKiBAdHlwZSB7U3RyaW5nfVxuXHQgKiBAcmVhZG9ubHlcblx0ICovXG5cdFN0YWdlR0wuUkVHVUxBUl9WQVJZSU5HX0hFQURFUiA9IChcblx0XHRcInByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1wiICtcblx0XHRcInZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1wiICtcblx0XHRcInZhcnlpbmcgbG93cCBmbG9hdCBpbmRleFBpY2tlcjtcIiArXG5cdFx0XCJ2YXJ5aW5nIGxvd3AgZmxvYXQgYWxwaGFWYWx1ZTtcIlxuXHQpO1xuXG5cdC8qKlxuXHQgKiBBY3R1YWwgZnVsbCBoZWFkZXIgZm9yIHRoZSB2ZXJ0ZXggc2hhZGVyLiBJbmNsdWRlcyB0aGUgdmFyeWluZyBoZWFkZXIuIFRoZSByZWd1bGFyIHNoYWRlciBpcyBkZXNpZ25lZCB0byByZW5kZXJcblx0ICogYWxsIGV4cGVjdGVkIG9iamVjdHMuIFNoYWRlciBjb2RlIG1heSBjb250YWluIHRlbXBsYXRlcyB0aGF0IGFyZSByZXBsYWNlZCBwcmUtY29tcGlsZS5cblx0ICogQHByb3BlcnR5IFJFR1VMQVJfVkVSVEVYX0hFQURFUlxuXHQgKiBAc3RhdGljXG5cdCAqIEBmaW5hbFxuXHQgKiBAdHlwZSB7U3RyaW5nfVxuXHQgKiBAcmVhZG9ubHlcblx0ICovXG5cdFN0YWdlR0wuUkVHVUxBUl9WRVJURVhfSEVBREVSID0gKFxuXHRcdFN0YWdlR0wuUkVHVUxBUl9WQVJZSU5HX0hFQURFUiArXG5cdFx0XCJhdHRyaWJ1dGUgdmVjMiB2ZXJ0ZXhQb3NpdGlvbjtcIiArXG5cdFx0XCJhdHRyaWJ1dGUgdmVjMiB1dlBvc2l0aW9uO1wiICtcblx0XHRcImF0dHJpYnV0ZSBsb3dwIGZsb2F0IHRleHR1cmVJbmRleDtcIiArXG5cdFx0XCJhdHRyaWJ1dGUgbG93cCBmbG9hdCBvYmplY3RBbHBoYTtcIiArXG5cdFx0XCJ1bmlmb3JtIG1hdDQgcE1hdHJpeDtcIlxuXHQpO1xuXG5cdC8qKlxuXHQgKiBBY3R1YWwgZnVsbCBoZWFkZXIgZm9yIHRoZSBmcmFnbWVudCBzaGFkZXIuIEluY2x1ZGVzIHRoZSB2YXJ5aW5nIGhlYWRlci4gVGhlIHJlZ3VsYXIgc2hhZGVyIGlzIGRlc2lnbmVkIHRvIHJlbmRlclxuXHQgKiBhbGwgZXhwZWN0ZWQgb2JqZWN0cy4gU2hhZGVyIGNvZGUgbWF5IGNvbnRhaW4gdGVtcGxhdGVzIHRoYXQgYXJlIHJlcGxhY2VkIHByZS1jb21waWxlLlxuXHQgKiBAcHJvcGVydHkgUkVHVUxBUl9GUkFHTUVOVF9IRUFERVJcblx0ICogQHN0YXRpY1xuXHQgKiBAZmluYWxcblx0ICogQHR5cGUge1N0cmluZ31cblx0ICogQHJlYWRvbmx5XG5cdCAqL1xuXHRTdGFnZUdMLlJFR1VMQVJfRlJBR01FTlRfSEVBREVSID0gKFxuXHRcdFN0YWdlR0wuUkVHVUxBUl9WQVJZSU5HX0hFQURFUiArXG5cdFx0XCJ1bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlclt7e2NvdW50fX1dO1wiXG5cdCk7XG5cblx0LyoqXG5cdCAqIEJvZHkgb2YgdGhlIHZlcnRleCBzaGFkZXIuIFRoZSByZWd1bGFyIHNoYWRlciBpcyBkZXNpZ25lZCB0byByZW5kZXIgYWxsIGV4cGVjdGVkIG9iamVjdHMuIFNoYWRlciBjb2RlIG1heSBjb250YWluXG5cdCAqIHRlbXBsYXRlcyB0aGF0IGFyZSByZXBsYWNlZCBwcmUtY29tcGlsZS5cblx0ICogQHByb3BlcnR5IFJFR1VMQVJfVkVSVEVYX0JPRFlcblx0ICogQHN0YXRpY1xuXHQgKiBAZmluYWxcblx0ICogQHR5cGUge1N0cmluZ31cblx0ICogQHJlYWRvbmx5XG5cdCAqL1xuXHRTdGFnZUdMLlJFR1VMQVJfVkVSVEVYX0JPRFkgID0gKFxuXHRcdFwidm9pZCBtYWluKHZvaWQpIHtcIiArXG5cdFx0XHQvL0RIRyBUT0RPOiBUaGlzIGRvZXNuJ3Qgd29yay4gTXVzdCBiZSBzb21ldGhpbmcgd3Jvbmcgd2l0aCB0aGUgaGFuZCBidWlsdCBtYXRyaXggc2VlIGpzLi4uIGJ5cGFzcyBmb3Igbm93XG5cdFx0XHQvL3ZlcnRleFBvc2l0aW9uLCByb3VuZCBpZiBmbGFnXG5cdFx0XHQvL1wiZ2xfUG9zaXRpb24gPSBwTWF0cml4ICogdmVjNCh2ZXJ0ZXhQb3NpdGlvbi54LCB2ZXJ0ZXhQb3NpdGlvbi55LCAwLjAsIDEuMCk7XCIgK1xuXHRcdFx0XCJnbF9Qb3NpdGlvbiA9IHZlYzQoXCIrXG5cdFx0XHRcdFwiKHZlcnRleFBvc2l0aW9uLnggKiBwTWF0cml4WzBdWzBdKSArIHBNYXRyaXhbM11bMF0sXCIgK1xuXHRcdFx0XHRcIih2ZXJ0ZXhQb3NpdGlvbi55ICogcE1hdHJpeFsxXVsxXSkgKyBwTWF0cml4WzNdWzFdLFwiICtcblx0XHRcdFx0XCJwTWF0cml4WzNdWzJdLFwiICtcblx0XHRcdFx0XCIxLjBcIiArXG5cdFx0XHRcIik7XCIgK1xuXHRcdFx0XCJhbHBoYVZhbHVlID0gb2JqZWN0QWxwaGE7XCIgK1xuXHRcdFx0XCJpbmRleFBpY2tlciA9IHRleHR1cmVJbmRleDtcIiArXG5cdFx0XHRcInZUZXh0dXJlQ29vcmQgPSB1dlBvc2l0aW9uO1wiICtcblx0XHRcIn1cIlxuXHQpO1xuXG5cdC8qKlxuXHQgKiBCb2R5IG9mIHRoZSBmcmFnbWVudCBzaGFkZXIuIFRoZSByZWd1bGFyIHNoYWRlciBpcyBkZXNpZ25lZCB0byByZW5kZXIgYWxsIGV4cGVjdGVkIG9iamVjdHMuIFNoYWRlciBjb2RlIG1heVxuXHQgKiBjb250YWluIHRlbXBsYXRlcyB0aGF0IGFyZSByZXBsYWNlZCBwcmUtY29tcGlsZS5cblx0ICogQHByb3BlcnR5IFJFR1VMQVJfRlJBR01FTlRfQk9EWVxuXHQgKiBAc3RhdGljXG5cdCAqIEBmaW5hbFxuXHQgKiBAdHlwZSB7U3RyaW5nfVxuXHQgKiBAcmVhZG9ubHlcblx0ICovXG5cdFN0YWdlR0wuUkVHVUxBUl9GUkFHTUVOVF9CT0RZID0gKFxuXHRcdFwidm9pZCBtYWluKHZvaWQpIHtcIiArXG5cdFx0XHRcInZlYzQgY29sb3IgPSB2ZWM0KDEuMCwgMC4wLCAwLjAsIDEuMCk7XCIgK1xuXG5cdFx0XHRcImlmIChpbmRleFBpY2tlciA8PSAwLjUpIHtcIiArXG5cdFx0XHRcdFwiY29sb3IgPSB0ZXh0dXJlMkQodVNhbXBsZXJbMF0sIHZUZXh0dXJlQ29vcmQpO1wiICtcblx0XHRcdFx0XCJ7e2FsdGVybmF0ZXN9fVwiICtcblx0XHRcdFwifVwiICtcblxuXHRcdFx0XCJ7e2ZyYWdDb2xvcn19XCIgK1xuXHRcdFwifVwiXG5cdCk7XG5cdFN0YWdlR0wuUkVHVUxBUl9GUkFHX0NPTE9SX05PUk1BTCA9IChcblx0XHRcImdsX0ZyYWdDb2xvciA9IHZlYzQoY29sb3IucmdiLCBjb2xvci5hICogYWxwaGFWYWx1ZSk7XCJcblx0KTtcblx0U3RhZ2VHTC5SRUdVTEFSX0ZSQUdfQ09MT1JfUFJFTVVMVElQTFkgPSAoXG5cdFx0XCJpZihjb2xvci5hID4gMC4wMDM1KSB7XCIgK1x0XHQvLyAxLzI1NSA9IDAuMDAzOSwgc28gaWdub3JlIGFueSB2YWx1ZSBiZWxvdyAxIGJlY2F1c2UgaXQncyBwcm9iYWJseSBub2lzZVxuXHRcdFx0XCJnbF9GcmFnQ29sb3IgPSB2ZWM0KGNvbG9yLnJnYi9jb2xvci5hLCBjb2xvci5hICogYWxwaGFWYWx1ZSk7XCIgK1xuXHRcdFwifSBlbHNlIHtcIiArXG5cdFx0XHRcImdsX0ZyYWdDb2xvciA9IHZlYzQoMC4wLCAwLjAsIDAuMCwgMC4wKTtcIiArXG5cdFx0XCJ9XCJcblx0KTtcblxuXHQvL1RPRE86IERIRzogYSByZWFsIHBhcnRpY2xlIHNoYWRlclxuXHQvKipcblx0ICogQHByb3BlcnR5IFBBUlRJQ0xFX1ZFUlRFWF9CT0RZXG5cdCAqIEB0b2RvXG5cdCAqIEBmaW5hbFxuXHQgKiBAc3RhdGljXG5cdCAqIEB0eXBlIHtTdHJpbmd9XG5cdCAqIEByZWFkb25seVxuXHQgKi9cblx0U3RhZ2VHTC5QQVJUSUNMRV9WRVJURVhfQk9EWSA9IChcblx0XHRTdGFnZUdMLlJFR1VMQVJfVkVSVEVYX0JPRFlcblx0KTtcblx0LyoqXG5cdCAqIEBwcm9wZXJ0eSBQQVJUSUNMRV9GUkFHTUVOVF9CT0RZXG5cdCAqIEB0b2RvXG5cdCAqIEBmaW5hbFxuXHQgKiBAc3RhdGljXG5cdCAqIEB0eXBlIHtTdHJpbmd9XG5cdCAqIEByZWFkb25seVxuXHQgKi9cblx0U3RhZ2VHTC5QQVJUSUNMRV9GUkFHTUVOVF9CT0RZID0gKFxuXHRcdFN0YWdlR0wuUkVHVUxBUl9GUkFHTUVOVF9CT0RZXG5cdCk7XG5cblx0LyoqXG5cdCAqIFBvcnRpb24gb2YgdGhlIHNoYWRlciB0aGF0IGNvbnRhaW5zIHRoZSBcInZhcnlpbmdcIiBwcm9wZXJ0aWVzIHJlcXVpcmVkIGluIGJvdGggdmVydGV4IGFuZCBmcmFnbWVudCBzaGFkZXJzLiBUaGVcblx0ICogY292ZXIgc2hhZGVyIGlzIGRlc2lnbmVkIHRvIGJlIGEgc2ltcGxlIHZlcnRleC91diBvbmx5IHRleHR1cmUgcmVuZGVyIHRoYXQgY292ZXJzIHRoZSByZW5kZXIgc3VyZmFjZS4gU2hhZGVyXG5cdCAqIGNvZGUgbWF5IGNvbnRhaW4gdGVtcGxhdGVzIHRoYXQgYXJlIHJlcGxhY2VkIHByZS1jb21waWxlLlxuXHQgKiBAcHJvcGVydHkgQ09WRVJfVkFSWUlOR19IRUFERVJcblx0ICogQHN0YXRpY1xuXHQgKiBAZmluYWxcblx0ICogQHR5cGUge1N0cmluZ31cblx0ICogQHJlYWRvbmx5XG5cdCAqL1xuXHRTdGFnZUdMLkNPVkVSX1ZBUllJTkdfSEVBREVSID0gKFxuXHRcdFwicHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XCIgK1xuXG5cdFx0XCJ2YXJ5aW5nIGhpZ2hwIHZlYzIgdlJlbmRlckNvb3JkO1wiICtcblx0XHRcInZhcnlpbmcgaGlnaHAgdmVjMiB2VGV4dHVyZUNvb3JkO1wiXG5cdCk7XG5cblx0LyoqXG5cdCAqIEFjdHVhbCBmdWxsIGhlYWRlciBmb3IgdGhlIHZlcnRleCBzaGFkZXIuIEluY2x1ZGVzIHRoZSB2YXJ5aW5nIGhlYWRlci4gVGhlIGNvdmVyIHNoYWRlciBpcyBkZXNpZ25lZCB0byBiZSBhXG5cdCAqIHNpbXBsZSB2ZXJ0ZXgvdXYgb25seSB0ZXh0dXJlIHJlbmRlciB0aGF0IGNvdmVycyB0aGUgcmVuZGVyIHN1cmZhY2UuIFNoYWRlciBjb2RlIG1heSBjb250YWluIHRlbXBsYXRlcyB0aGF0IGFyZVxuXHQgKiByZXBsYWNlZCBwcmUtY29tcGlsZS5cblx0ICogQHByb3BlcnR5IENPVkVSX1ZFUlRFWF9IRUFERVJcblx0ICogQHN0YXRpY1xuXHQgKiBAZmluYWxcblx0ICogQHR5cGUge1N0cmluZ31cblx0ICogQHJlYWRvbmx5XG5cdCAqL1xuXHRTdGFnZUdMLkNPVkVSX1ZFUlRFWF9IRUFERVIgPSAoXG5cdFx0U3RhZ2VHTC5DT1ZFUl9WQVJZSU5HX0hFQURFUiArXG5cdFx0XCJhdHRyaWJ1dGUgdmVjMiB2ZXJ0ZXhQb3NpdGlvbjtcIiArXG5cdFx0XCJhdHRyaWJ1dGUgdmVjMiB1dlBvc2l0aW9uO1wiICtcblx0XHRcInVuaWZvcm0gZmxvYXQgdVVwcmlnaHQ7XCJcblx0KTtcblxuXHQvKipcblx0ICogQWN0dWFsIGZ1bGwgaGVhZGVyIGZvciB0aGUgZnJhZ21lbnQgc2hhZGVyLiBJbmNsdWRlcyB0aGUgdmFyeWluZyBoZWFkZXIuIFRoZSBjb3ZlciBzaGFkZXIgaXMgZGVzaWduZWQgdG8gYmUgYVxuXHQgKiBzaW1wbGUgdmVydGV4L3V2IG9ubHkgdGV4dHVyZSByZW5kZXIgdGhhdCBjb3ZlcnMgdGhlIHJlbmRlciBzdXJmYWNlLiBTaGFkZXIgY29kZSBtYXkgY29udGFpbiB0ZW1wbGF0ZXMgdGhhdCBhcmVcblx0ICogcmVwbGFjZWQgcHJlLWNvbXBpbGUuXG5cdCAqIEBwcm9wZXJ0eSBDT1ZFUl9GUkFHTUVOVF9IRUFERVJcblx0ICogQHN0YXRpY1xuXHQgKiBAZmluYWxcblx0ICogQHR5cGUge1N0cmluZ31cblx0ICogQHJlYWRvbmx5XG5cdCAqL1xuXHRTdGFnZUdMLkNPVkVSX0ZSQUdNRU5UX0hFQURFUiA9IChcblx0XHRTdGFnZUdMLkNPVkVSX1ZBUllJTkdfSEVBREVSICtcblx0XHRcInVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1wiXG5cdCk7XG5cblx0LyoqXG5cdCAqIEJvZHkgb2YgdGhlIHZlcnRleCBzaGFkZXIuIFRoZSBjb3ZlciBzaGFkZXIgaXMgZGVzaWduZWQgdG8gYmUgYSBzaW1wbGUgdmVydGV4L3V2IG9ubHkgdGV4dHVyZSByZW5kZXIgdGhhdCBjb3ZlcnNcblx0ICogdGhlIHJlbmRlciBzdXJmYWNlLiBTaGFkZXIgY29kZSBtYXkgY29udGFpbiB0ZW1wbGF0ZXMgdGhhdCBhcmUgcmVwbGFjZWQgcHJlLWNvbXBpbGUuXG5cdCAqIEBwcm9wZXJ0eSBDT1ZFUl9WRVJURVhfQk9EWVxuXHQgKiBAc3RhdGljXG5cdCAqIEBmaW5hbFxuXHQgKiBAdHlwZSB7U3RyaW5nfVxuXHQgKiBAcmVhZG9ubHlcblx0ICovXG5cdFN0YWdlR0wuQ09WRVJfVkVSVEVYX0JPRFkgID0gKFxuXHRcdFwidm9pZCBtYWluKHZvaWQpIHtcIiArXG5cdFx0XHRcImdsX1Bvc2l0aW9uID0gdmVjNCh2ZXJ0ZXhQb3NpdGlvbi54LCB2ZXJ0ZXhQb3NpdGlvbi55LCAwLjAsIDEuMCk7XCIgK1xuXHRcdFx0XCJ2UmVuZGVyQ29vcmQgPSB1dlBvc2l0aW9uO1wiICtcblx0XHRcdFwidlRleHR1cmVDb29yZCA9IHZlYzIodXZQb3NpdGlvbi54LCBhYnModVVwcmlnaHQgLSB1dlBvc2l0aW9uLnkpKTtcIiArXG5cdFx0XCJ9XCJcblx0KTtcblxuXHQvKipcblx0ICogQm9keSBvZiB0aGUgZnJhZ21lbnQgc2hhZGVyLiBUaGUgY292ZXIgc2hhZGVyIGlzIGRlc2lnbmVkIHRvIGJlIGEgc2ltcGxlIHZlcnRleC91diBvbmx5IHRleHR1cmUgcmVuZGVyIHRoYXRcblx0ICogY292ZXJzIHRoZSByZW5kZXIgc3VyZmFjZS4gU2hhZGVyIGNvZGUgbWF5IGNvbnRhaW4gdGVtcGxhdGVzIHRoYXQgYXJlIHJlcGxhY2VkIHByZS1jb21waWxlLlxuXHQgKiBAcHJvcGVydHkgQ09WRVJfRlJBR01FTlRfQk9EWVxuXHQgKiBAc3RhdGljXG5cdCAqIEBmaW5hbFxuXHQgKiBAdHlwZSB7U3RyaW5nfVxuXHQgKiBAcmVhZG9ubHlcblx0ICovXG5cdFN0YWdlR0wuQ09WRVJfRlJBR01FTlRfQk9EWSA9IChcblx0XHRcInZvaWQgbWFpbih2b2lkKSB7XCIgK1xuXHRcdFx0XCJ2ZWM0IGNvbG9yID0gdGV4dHVyZTJEKHVTYW1wbGVyLCB2UmVuZGVyQ29vcmQpO1wiICtcblx0XHRcdFwiZ2xfRnJhZ0NvbG9yID0gY29sb3I7XCIgK1xuXHRcdFwifVwiXG5cdCk7XG5cbi8vIGV2ZW50czpcblx0LyoqXG5cdCAqIERpc3BhdGNoZWQgZWFjaCB1cGRhdGUgaW1tZWRpYXRlbHkgYmVmb3JlIHRoZSBjYW52YXMgaXMgY2xlYXJlZCBhbmQgdGhlIGRpc3BsYXkgbGlzdCBpcyBkcmF3biB0byBpdC4gWW91IGNhbiBjYWxsXG5cdCAqIHt7I2Nyb3NzTGluayBcIkV2ZW50L3ByZXZlbnREZWZhdWx0XCJ9fXt7L2Nyb3NzTGlua319IG9uIHRoZSBldmVudCB0byBjYW5jZWwgdGhlIGRyYXcuXG5cdCAqIEBldmVudCBkcmF3c3RhcnRcblx0ICovXG5cblx0LyoqXG5cdCAqIERpc3BhdGNoZWQgZWFjaCB1cGRhdGUgaW1tZWRpYXRlbHkgYWZ0ZXIgdGhlIGRpc3BsYXkgbGlzdCBpcyBkcmF3biB0byB0aGUgY2FudmFzIGFuZCB0aGUgY2FudmFzIGNvbnRleHQgaXMgcmVzdG9yZWQuXG5cdCAqIEBldmVudCBkcmF3ZW5kXG5cdCAqL1xuXG4vLyBnZXR0ZXIgLyBzZXR0ZXJzOlxuXHRwLl9nZXRfaXNXZWJHTCA9IGZ1bmN0aW9uICgpIHtcblx0XHRyZXR1cm4gISF0aGlzLl93ZWJHTENvbnRleHQ7XG5cdH07XG5cblx0cC5fc2V0X2F1dG9QdXJnZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuXHRcdHZhbHVlID0gaXNOYU4odmFsdWUpPzEyMDA6dmFsdWU7XG5cdFx0aWYgKHZhbHVlICE9IC0xKSB7XG5cdFx0XHR2YWx1ZSA9IHZhbHVlPDEwPzEwOnZhbHVlO1xuXHRcdH1cblx0XHR0aGlzLl9hdXRvUHVyZ2UgPSB2YWx1ZTtcblx0fTtcblx0cC5fZ2V0X2F1dG9QdXJnZSA9IGZ1bmN0aW9uICgpIHtcblx0XHRyZXR1cm4gTnVtYmVyKHRoaXMuX2F1dG9QdXJnZSk7XG5cdH07XG5cblx0dHJ5IHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydGllcyhwLCB7XG5cdFx0XHQvKipcblx0XHRcdCAqIEluZGljYXRlcyB3aGV0aGVyIFdlYkdMIGlzIGJlaW5nIHVzZWQgZm9yIHJlbmRlcmluZy4gRm9yIGV4YW1wbGUsIHRoaXMgd291bGQgYmUgYGZhbHNlYCBpZiBXZWJHTCBpcyBub3Rcblx0XHRcdCAqIHN1cHBvcnRlZCBpbiB0aGUgYnJvd3Nlci5cblx0XHRcdCAqIEBwcm9wZXJ0eSBpc1dlYkdMXG5cdFx0XHQgKiBAdHlwZSB7Qm9vbGVhbn1cblx0XHRcdCAqIEByZWFkb25seVxuXHRcdFx0ICovXG5cdFx0XHRpc1dlYkdMOiB7IGdldDogcC5fZ2V0X2lzV2ViR0wgfSxcblxuXHRcdFx0LyoqXG5cdFx0XHQgKiBTcGVjaWZpZXMgd2hldGhlciBvciBub3QgU3RhZ2VHTCBpcyBhdXRvbWF0aWNhbGx5IHB1cmdpbmcgdW51c2VkIHRleHR1cmVzLiBIaWdoZXIgbnVtYmVycyBwdXJnZSBsZXNzXG5cdFx0XHQgKiBvZnRlbi4gVmFsdWVzIGJlbG93IDEwIGFyZSB1cGdyYWRlZCB0byAxMCwgYW5kIC0xIGRpc2FibGVzIHRoaXMgZmVhdHVyZS5cblx0XHRcdCAqIEBwcm9wZXJ0eSBhdXRvUHVyZ2Vcblx0XHRcdCAqIEBwcm90ZWN0ZWRcblx0XHRcdCAqIEB0eXBlIHtJbnRlZ2VyfVxuXHRcdFx0ICogQGRlZmF1bHQgMTAwMFxuXHRcdFx0ICovXG5cdFx0XHRhdXRvUHVyZ2U6IHsgZ2V0OiBwLl9nZXRfYXV0b1B1cmdlLCBzZXQ6IHAuX3NldF9hdXRvUHVyZ2UgfVxuXHRcdH0pO1xuXHR9IGNhdGNoIChlKSB7fSAvLyBUT0RPOiB1c2UgTG9nXG5cblxuLy8gY29uc3RydWN0b3IgbWV0aG9kczpcblx0LyoqXG5cdCAqIENyZWF0ZSBhbmQgcHJvcGVybHkgaW5pdGlhbGl6ZSB0aGUgV2ViR0wgaW5zdGFuY2UuXG5cdCAqIEBtZXRob2QgX2luaXRpYWxpemVXZWJHTFxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqIEByZXR1cm4ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH1cblx0ICovXG5cdHAuX2luaXRpYWxpemVXZWJHTCA9IGZ1bmN0aW9uICgpIHtcblx0XHRpZiAodGhpcy5jYW52YXMpIHtcblx0XHRcdGlmICghdGhpcy5fd2ViR0xDb250ZXh0IHx8IHRoaXMuX3dlYkdMQ29udGV4dC5jYW52YXMgIT09IHRoaXMuY2FudmFzKSB7XG5cdFx0XHRcdC8vIEEgY29udGV4dCBoYXNuJ3QgYmVlbiBkZWZpbmVkIHlldCxcblx0XHRcdFx0Ly8gT1IgdGhlIGRlZmluZWQgY29udGV4dCBiZWxvbmdzIHRvIGEgZGlmZmVyZW50IGNhbnZhcywgc28gcmVpbml0aWFsaXplLlxuXG5cdFx0XHRcdC8vIGRlZmF1bHRzIGFuZCBvcHRpb25zXG5cdFx0XHRcdHZhciBvcHRpb25zID0ge1xuXHRcdFx0XHRcdGRlcHRoOiBmYWxzZSwgLy8gRGlzYWJsZSB0aGUgZGVwdGggYnVmZmVyIGFzIGl0IGlzbid0IHVzZWQuXG5cdFx0XHRcdFx0YWxwaGE6IHRoaXMuX3RyYW5zcGFyZW50LCAvLyBNYWtlIHRoZSBjYW52YXMgYmFja2dyb3VuZCB0cmFuc3BhcmVudC5cblx0XHRcdFx0XHRzdGVuY2lsOiB0cnVlLFxuXHRcdFx0XHRcdGFudGlhbGlhczogdGhpcy5fYW50aWFsaWFzLFxuXHRcdFx0XHRcdHByZW11bHRpcGxpZWRBbHBoYTogdGhpcy5fcHJlbXVsdGlwbHksIC8vIEFzc3VtZSB0aGUgZHJhd2luZyBidWZmZXIgY29udGFpbnMgY29sb3JzIHdpdGggcHJlbXVsdGlwbGllZCBhbHBoYS5cblx0XHRcdFx0XHRwcmVzZXJ2ZURyYXdpbmdCdWZmZXI6IHRoaXMuX3ByZXNlcnZlQnVmZmVyXG5cdFx0XHRcdH07XG5cblx0XHRcdFx0dmFyIGdsID0gdGhpcy5fd2ViR0xDb250ZXh0ID0gdGhpcy5fZmV0Y2hXZWJHTENvbnRleHQodGhpcy5jYW52YXMsIG9wdGlvbnMpO1xuXHRcdFx0XHRpZiAoIWdsKSB7IHJldHVybiBudWxsOyB9XG5cblx0XHRcdFx0dGhpcy51cGRhdGVTaW11bHRhbmVvdXNUZXh0dXJlQ291bnQoZ2wuZ2V0UGFyYW1ldGVyKGdsLk1BWF9URVhUVVJFX0lNQUdFX1VOSVRTKSk7XG5cdFx0XHRcdHRoaXMuX21heFRleHR1cmVTbG90cyA9IGdsLmdldFBhcmFtZXRlcihnbC5NQVhfQ09NQklORURfVEVYVFVSRV9JTUFHRV9VTklUUyk7XG5cdFx0XHRcdHRoaXMuX2NyZWF0ZUJ1ZmZlcnMoZ2wpO1xuXHRcdFx0XHR0aGlzLl9pbml0VGV4dHVyZXMoZ2wpO1xuXG5cdFx0XHRcdGdsLmRpc2FibGUoZ2wuREVQVEhfVEVTVCk7XG5cdFx0XHRcdGdsLmVuYWJsZShnbC5CTEVORCk7XG5cdFx0XHRcdGdsLmJsZW5kRnVuY1NlcGFyYXRlKGdsLlNSQ19BTFBIQSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQSwgZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBKTtcblx0XHRcdFx0Z2wucGl4ZWxTdG9yZWkoZ2wuVU5QQUNLX1BSRU1VTFRJUExZX0FMUEhBX1dFQkdMLCB0aGlzLl9wcmVtdWx0aXBseSk7XG5cdFx0XHRcdC8vZ2wucGl4ZWxTdG9yZWkoZ2wuVU5QQUNLX0NPTE9SU1BBQ0VfQ09OVkVSU0lPTl9XRUJHTCwgZ2wuTk9ORSk7XG5cblx0XHRcdFx0dGhpcy5fd2ViR0xDb250ZXh0LmNsZWFyQ29sb3IodGhpcy5fY2xlYXJDb2xvci5yLCB0aGlzLl9jbGVhckNvbG9yLmcsIHRoaXMuX2NsZWFyQ29sb3IuYiwgdGhpcy5fY2xlYXJDb2xvci5hKTtcblx0XHRcdFx0dGhpcy51cGRhdGVWaWV3cG9ydCh0aGlzLl92aWV3cG9ydFdpZHRoIHx8IHRoaXMuY2FudmFzLndpZHRoLCB0aGlzLl92aWV3cG9ydEhlaWdodCB8fCB0aGlzLmNhbnZhcy5oZWlnaHQpO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLl93ZWJHTENvbnRleHQgPSBudWxsO1xuXHRcdH1cblx0XHRyZXR1cm4gdGhpcy5fd2ViR0xDb250ZXh0O1xuXHR9O1xuXG4vLyBwdWJsaWMgbWV0aG9kczpcblx0LyoqXG5cdCAqIERvY2NlZCBpbiBzdXBlcmNsYXNzXG5cdCAqL1xuXHRwLnVwZGF0ZSA9IGZ1bmN0aW9uIChwcm9wcykge1xuXHRcdGlmICghdGhpcy5jYW52YXMpIHsgcmV0dXJuOyB9XG5cdFx0aWYgKHRoaXMudGlja09uVXBkYXRlKSB7IHRoaXMudGljayhwcm9wcyk7IH1cblx0XHR0aGlzLmRpc3BhdGNoRXZlbnQoXCJkcmF3c3RhcnRcIik7XG5cdFx0aWYgKHRoaXMuYXV0b0NsZWFyKSB7IHRoaXMuY2xlYXIoKTsgfVxuXG5cdFx0aWYgKHRoaXMuX3dlYkdMQ29udGV4dCkge1xuXHRcdFx0Ly8gVXNlIFdlYkdMLlxuXHRcdFx0dGhpcy5fYmF0Y2hEcmF3KHRoaXMsIHRoaXMuX3dlYkdMQ29udGV4dCk7XG5cdFx0XHRpZiAodGhpcy5fYXV0b1B1cmdlICE9IC0xICYmICEodGhpcy5fZHJhd0lEJSgodGhpcy5fYXV0b1B1cmdlLzIpfDApKSkge1xuXHRcdFx0XHR0aGlzLnB1cmdlVGV4dHVyZXModGhpcy5fYXV0b1B1cmdlKTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gVXNlIDJELlxuXHRcdFx0dmFyIGN0eCA9IHRoaXMuY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcblx0XHRcdGN0eC5zYXZlKCk7XG5cdFx0XHR0aGlzLnVwZGF0ZUNvbnRleHQoY3R4KTtcblx0XHRcdHRoaXMuZHJhdyhjdHgsIGZhbHNlKTtcblx0XHRcdGN0eC5yZXN0b3JlKCk7XG5cdFx0fVxuXHRcdHRoaXMuZGlzcGF0Y2hFdmVudChcImRyYXdlbmRcIik7XG5cdH07XG5cblx0LyoqXG5cdCAqIERvY2NlZCBpbiBzdXBlcmNsYXNzXG5cdCAqL1xuXHRwLmNsZWFyID0gZnVuY3Rpb24gKCkge1xuXHRcdGlmICghdGhpcy5jYW52YXMpIHsgcmV0dXJuOyB9XG5cdFx0aWYgKFN0YWdlR0wuaXNXZWJHTEFjdGl2ZSh0aGlzLl93ZWJHTENvbnRleHQpKSB7XG5cdFx0XHR2YXIgZ2wgPSB0aGlzLl93ZWJHTENvbnRleHQ7XG5cdFx0XHR2YXIgY2MgPSB0aGlzLl9jbGVhckNvbG9yO1xuXHRcdFx0dmFyIGFkanVzdCA9IHRoaXMuX3RyYW5zcGFyZW50ID8gY2MuYSA6IDEuMDtcblx0XHRcdC8vIFVzZSBXZWJHTCBzZXR0aW5nczsgYWRqdXN0IGZvciBwcmUgbXVsdGlwbGllZCBhbHBoYSBhcHByb3ByaWF0ZSB0byBzY2VuYXJpb1xuXHRcdFx0dGhpcy5fd2ViR0xDb250ZXh0LmNsZWFyQ29sb3IoY2MuciAqIGFkanVzdCwgY2MuZyAqIGFkanVzdCwgY2MuYiAqIGFkanVzdCwgYWRqdXN0KTtcblx0XHRcdGdsLmNsZWFyKGdsLkNPTE9SX0JVRkZFUl9CSVQpO1xuXHRcdFx0dGhpcy5fd2ViR0xDb250ZXh0LmNsZWFyQ29sb3IoY2MuciwgY2MuZywgY2MuYiwgY2MuYSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIFVzZSAyRC5cblx0XHRcdHRoaXMuU3RhZ2VfY2xlYXIoKTtcblx0XHR9XG5cdH07XG5cblx0LyoqXG5cdCAqIERyYXdzIHRoZSBzdGFnZSBpbnRvIHRoZSBzdXBwbGllZCBjb250ZXh0IGlmIHBvc3NpYmxlLiBNYW55IFdlYkdMIHByb3BlcnRpZXMgb25seSBleGlzdCBvbiB0aGVpciBjb250ZXh0LiBBcyBzdWNoXG5cdCAqIHlvdSBjYW5ub3Qgc2hhcmUgY29udGV4dHMgYW1vbmcgbWFueSBTdGFnZUdMcyBhbmQgZWFjaCBjb250ZXh0IHJlcXVpcmVzIGEgdW5pcXVlIFN0YWdlR0wgaW5zdGFuY2UuIENvbnRleHRzIHRoYXRcblx0ICogZG9uJ3QgbWF0Y2ggdGhlIGNvbnRleHQgbWFuYWdlZCBieSB0aGlzIFN0YWdlR0wgd2lsbCBiZSB0cmVhdGVkIGFzIGEgMkQgY29udGV4dC5cblx0ICpcblx0ICogTk9URTogVGhpcyBtZXRob2QgaXMgbWFpbmx5IGZvciBpbnRlcm5hbCB1c2UsIHRob3VnaCBpdCBtYXkgYmUgdXNlZnVsIGZvciBhZHZhbmNlZCB1c2VzLlxuXHQgKiBAbWV0aG9kIGRyYXdcblx0ICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQgfCBXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGNvbnRleHQgVGhlIGNvbnRleHQgb2JqZWN0IHRvIGRyYXcgaW50by5cblx0ICogQHBhcmFtIHtCb29sZWFufSBbaWdub3JlQ2FjaGU9ZmFsc2VdIEluZGljYXRlcyB3aGV0aGVyIHRoZSBkcmF3IG9wZXJhdGlvbiBzaG91bGQgaWdub3JlIGFueSBjdXJyZW50IGNhY2hlLiBGb3Jcblx0ICogIGV4YW1wbGUsIHVzZWQgZm9yIGRyYXdpbmcgdGhlIGNhY2hlICh0byBwcmV2ZW50IGl0IGZyb20gc2ltcGx5IGRyYXdpbmcgYW4gZXhpc3RpbmcgY2FjaGUgYmFjayBpbnRvIGl0c2VsZikuXG5cdCAqIEByZXR1cm4ge0Jvb2xlYW59IElmIHRoZSBkcmF3IHdhcyBoYW5kbGVkIGJ5IHRoaXMgZnVuY3Rpb25cblx0ICovXG5cdHAuZHJhdyA9IGZ1bmN0aW9uIChjb250ZXh0LCBpZ25vcmVDYWNoZSkge1xuXHRcdGlmIChjb250ZXh0ID09PSB0aGlzLl93ZWJHTENvbnRleHQgJiYgU3RhZ2VHTC5pc1dlYkdMQWN0aXZlKHRoaXMuX3dlYkdMQ29udGV4dCkpIHtcblx0XHRcdHZhciBnbCA9IHRoaXMuX3dlYkdMQ29udGV4dDtcblx0XHRcdHRoaXMuX2JhdGNoRHJhdyh0aGlzLCBnbCwgaWdub3JlQ2FjaGUpO1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiB0aGlzLlN0YWdlX2RyYXcoY29udGV4dCwgaWdub3JlQ2FjaGUpO1xuXHRcdH1cblx0fTtcblxuXHQvKipcblx0ICogRHJhd3MgdGhlIHRhcmdldCBpbnRvIHRoZSBjb3JyZWN0IGNvbnRleHQsIGJlIGl0IGEgY2FudmFzIG9yIFJlbmRlciBUZXh0dXJlIHVzaW5nIFdlYkdMLlxuXHQgKlxuXHQgKiBOT1RFOiBUaGlzIG1ldGhvZCBpcyBtYWlubHkgZm9yIGludGVybmFsIHVzZSwgdGhvdWdoIGl0IG1heSBiZSB1c2VmdWwgZm9yIGFkdmFuY2VkIHVzZXMuXG5cdCAqIEBtZXRob2QgY2FjaGVEcmF3XG5cdCAqIEBwYXJhbSB7RGlzcGxheU9iamVjdH0gdGFyZ2V0IFRoZSBvYmplY3Qgd2UncmUgZHJhd2luZyBpbnRvIGNhY2hlLlxuXHQgKiBGb3IgZXhhbXBsZSwgdXNlZCBmb3IgZHJhd2luZyB0aGUgY2FjaGUgKHRvIHByZXZlbnQgaXQgZnJvbSBzaW1wbHkgZHJhd2luZyBhbiBleGlzdGluZyBjYWNoZSBiYWNrIGludG8gaXRzZWxmKS5cblx0ICogQHBhcmFtIHtBcnJheX0gZmlsdGVycyBUaGUgZmlsdGVycyB3ZSdyZSBkcmF3aW5nIGludG8gY2FjaGUuXG5cdCAqIEBwYXJhbSB7Qml0bWFwQ2FjaGV9IG1hbmFnZXIgVGhlIEJpdG1hcENhY2hlIGluc3RhbmNlIGxvb2tpbmcgYWZ0ZXIgdGhlIGNhY2hlXG5cdCAqIEByZXR1cm4ge0Jvb2xlYW59IElmIHRoZSBkcmF3IHdhcyBoYW5kbGVkIGJ5IHRoaXMgZnVuY3Rpb25cblx0ICovXG5cdHAuY2FjaGVEcmF3ID0gZnVuY3Rpb24gKHRhcmdldCwgZmlsdGVycywgbWFuYWdlcikge1xuXHRcdGlmIChTdGFnZUdMLmlzV2ViR0xBY3RpdmUodGhpcy5fd2ViR0xDb250ZXh0KSkge1xuXHRcdFx0dmFyIGdsID0gdGhpcy5fd2ViR0xDb250ZXh0O1xuXHRcdFx0dGhpcy5fY2FjaGVEcmF3KGdsLCB0YXJnZXQsIGZpbHRlcnMsIG1hbmFnZXIpO1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cdH07XG5cblx0LyoqXG5cdCAqIEJsb2Nrcywgb3IgZnJlZXMgYSB0ZXh0dXJlIFwic2xvdFwiIG9uIHRoZSBHUFUuIENhbiBiZSB1c2VmdWwgaWYgeW91IGFyZSBvdmVyZmxvd2luZyB0ZXh0dXJlcy4gV2hlbiBvdmVyZmxvd2luZ1xuXHQgKiB0ZXh0dXJlcyB0aGV5IGFyZSByZS11cGxvYWRlZCB0byB0aGUgR1BVIGV2ZXJ5IHRpbWUgdGhleSdyZSBlbmNvdW50ZXJlZCwgdGhpcyBjYW4gYmUgZXhwZW5zaXZlIHdpdGggbGFyZ2UgdGV4dHVyZXMuXG5cdCAqIEJ5IGJsb2NraW5nIHRoZSBzbG90IHlvdSByZWR1Y2UgYXZhaWxhYmxlIHNsb3RzLCBwb3RlbnRpYWxseSBpbmNyZWFzaW5nIGRyYXcgY2FsbHMsIGJ1dCBtb3N0bHkgeW91IHByZXZlbnQgYVxuXHQgKiB0ZXh0dXJlIGJlaW5nIHJlLXVwbG9hZGVkIGlmIGl0IHdvdWxkIGhhdmUgbW92ZWQgc2xvdHMgZHVlIHRvIG92ZXJmbG93LlxuXHQgKlxuXHQgKiBOT1RFOiBUaGlzIG1ldGhvZCBpcyBtYWlubHkgZm9yIGludGVybmFsIHVzZSwgdGhvdWdoIGl0IG1heSBiZSB1c2VmdWwgZm9yIGFkdmFuY2VkIHVzZXMuXG5cdCAqIEZvciBleGFtcGxlLCBibG9jayB0aGUgc2xvdCBhIGJhY2tncm91bmQgaW1hZ2UgaXMgc3RvcmVkIGluIHNvIHRoZXJlIGlzIGxlc3MgcmUtbG9hZGluZyBvZiB0aGF0IGltYWdlLlxuXHQgKiBAbWV0aG9kIHByb3RlY3RUZXh0dXJlU2xvdFxuXHQgKiBAcGFyYW0gIHtOdW1iZXJ9IGlkIFRoZSBzbG90IHRvIGJlIGFmZmVjdGVkXG5cdCAqIEBwYXJhbSAge0Jvb2xlYW59IFtsb2NrPWZhbHNlXSBXaGV0aGVyIHRoaXMgc2xvdCBpcyB0aGUgb25lIGJlaW5nIGxvY2tlZC5cblx0ICovXG5cdHAucHJvdGVjdFRleHR1cmVTbG90ID0gZnVuY3Rpb24gKGlkLCBsb2NrKSB7XG5cdFx0aWYgKGlkID4gdGhpcy5fbWF4VGV4dHVyZVNsb3RzIHx8IGlkIDwgMCkge1xuXHRcdFx0dGhyb3cgXCJTbG90IG91dHNpZGUgb2YgYWNjZXB0YWJsZSByYW5nZVwiO1xuXHRcdH1cblx0XHR0aGlzLl9zbG90QmxhY2tsaXN0W2lkXSA9ICEhbG9jaztcblx0fTtcblxuXHQvKipcblx0ICogUmVuZGVyIHRleHR1cmVzIGNhbid0IGRyYXcgaW50byB0aGVtc2VsdmVzIHNvIGFueSBpdGVtIGJlaW5nIHVzZWQgZm9yIHJlbmRlclRleHR1cmVzIG5lZWRzIHR3byB0byBhbHRlcm5hdGUgYmV0d2Vlbi5cblx0ICogVGhpcyBmdW5jdGlvbiBjcmVhdGVzLCBnZXRzLCBhbmQgdG9nZ2xlcyB0aGUgcmVuZGVyIHN1cmZhY2UgYmV0d2VlbiB0aGUgdHdvLlxuXHQgKlxuXHQgKiBOT1RFOiBUaGlzIG1ldGhvZCBpcyBtYWlubHkgZm9yIGludGVybmFsIHVzZSwgdGhvdWdoIGl0IG1heSBiZSB1c2VmdWwgZm9yIGFkdmFuY2VkIHVzZXMuXG5cdCAqIEBtZXRob2QgZ2V0VGFyZ2V0UmVuZGVyVGV4dHVyZVxuXHQgKiBAcGFyYW0gIHtEaXNwbGF5T2JqZWN0fSB0YXJnZXQgVGhlIG9iamVjdCBhc3NvY2lhdGVkIHdpdGggdGhlIHJlbmRlciB0ZXh0dXJlcywgdXN1YWxseSBhIGNhY2hlZCBvYmplY3QuXG5cdCAqIEBwYXJhbSAge051bWJlcn0gdyBUaGUgd2lkdGggdG8gY3JlYXRlIHRoZSB0ZXh0dXJlIGF0LlxuXHQgKiBAcGFyYW0gIHtOdW1iZXJ9IGggVGhlIGhlaWdodCB0byBjcmVhdGUgdGhlIHRleHR1cmUgYXQuXG5cdCAqIEByZXR1cm4ge09iamV0fVxuXHQgKiBAdG9kbyBmaWxsIGluIHJldHVybiB0eXBlXG5cdCAqL1xuXHRwLmdldFRhcmdldFJlbmRlclRleHR1cmUgPSBmdW5jdGlvbiAodGFyZ2V0LCB3LCBoKSB7XG5cdFx0dmFyIHJlc3VsdCwgdG9nZ2xlID0gZmFsc2U7XG5cdFx0dmFyIGdsID0gdGhpcy5fd2ViR0xDb250ZXh0O1xuXHRcdGlmICh0YXJnZXQuX19sYXN0UlQgIT09IHVuZGVmaW5lZCAmJiB0YXJnZXQuX19sYXN0UlQgPT09IHRhcmdldC5fX3J0QSkgeyB0b2dnbGUgPSB0cnVlOyB9XG5cdFx0aWYgKCF0b2dnbGUpIHtcblx0XHRcdGlmICh0YXJnZXQuX19ydEEgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHR0YXJnZXQuX19ydEEgPSB0aGlzLmdldFJlbmRlckJ1ZmZlclRleHR1cmUodywgaCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRpZiAodyAhPSB0YXJnZXQuX19ydEEuX3dpZHRoIHx8IGggIT0gdGFyZ2V0Ll9fcnRBLl9oZWlnaHQpIHtcblx0XHRcdFx0XHR0aGlzLnJlc2l6ZVRleHR1cmUodGFyZ2V0Ll9fcnRBLCB3LCBoKTtcblx0XHRcdFx0fVxuXHRcdFx0XHR0aGlzLnNldFRleHR1cmVQYXJhbXMoZ2wpO1xuXHRcdFx0fVxuXHRcdFx0cmVzdWx0ID0gdGFyZ2V0Ll9fcnRBO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRpZiAodGFyZ2V0Ll9fcnRCID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0dGFyZ2V0Ll9fcnRCID0gdGhpcy5nZXRSZW5kZXJCdWZmZXJUZXh0dXJlKHcsIGgpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aWYgKHcgIT0gdGFyZ2V0Ll9fcnRCLl93aWR0aCB8fCBoICE9IHRhcmdldC5fX3J0Qi5faGVpZ2h0KSB7XG5cdFx0XHRcdFx0dGhpcy5yZXNpemVUZXh0dXJlKHRhcmdldC5fX3J0QiwgdywgaCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0dGhpcy5zZXRUZXh0dXJlUGFyYW1zKGdsKTtcblx0XHRcdH1cblx0XHRcdHJlc3VsdCA9IHRhcmdldC5fX3J0Qjtcblx0XHR9XG5cdFx0aWYgKCFyZXN1bHQpIHtcblx0XHRcdHRocm93IFwiUHJvYmxlbXMgY3JlYXRpbmcgcmVuZGVyIHRleHR1cmVzLCBrbm93biBjYXVzZXMgaW5jbHVkZSB1c2luZyB0b28gbXVjaCBWUkFNIGJ5IG5vdCByZWxlYXNpbmcgV2ViR0wgdGV4dHVyZSBpbnN0YW5jZXNcIjtcblx0XHR9XG5cdFx0dGFyZ2V0Ll9fbGFzdFJUID0gcmVzdWx0O1xuXHRcdHJldHVybiByZXN1bHQ7XG5cdH07XG5cblx0LyoqXG5cdCAqIEZvciBldmVyeSBpbWFnZSBlbmNvdW50ZXJlZCBTdGFnZUdMIHJlZ2lzdGVycyBhbmQgdHJhY2tzIGl0IGF1dG9tYXRpY2FsbHkuIFRoaXMgdHJhY2tpbmcgY2FuIGNhdXNlIG1lbW9yeSBsZWFrcyBcblx0ICogaWYgbm90IHB1cmdlZC4gU3RhZ2VHTCwgYnkgZGVmYXVsdCwgYXV0b21hdGljYWxseSBwdXJnZXMgdGhlbS4gVGhpcyBkb2VzIGhhdmUgYSBjb3N0IGFuZCBtYXkgdW5mb3J0dW5hdGVseSBmaW5kXG5cdCAqIGZhbHNlIHBvc2l0aXZlcy4gVGhpcyBmdW5jdGlvbiBpcyBmb3IgbWFudWFsIG1hbmFnZW1lbnQgb2YgdGhpcyBtZW1vcnkgaW5zdGVhZCBvZiB0aGUgYXV0b21hdGljIHN5c3RlbSBjb250cm9sbGVkXG5cdCAqIGJ5IHRoZSB7eyNjcm9zc0xpbmsgXCJTdGFnZUdML2F1dG9QdXJnZTpwcm9wZXJ0eVwifX17ey9jcm9zc0xpbmt9fSBwcm9wZXJ0eS5cblx0ICpcblx0ICogVGhpcyBmdW5jdGlvbiB3aWxsIHJlY3Vyc2l2ZWx5IHJlbW92ZSBhbGwgdGV4dHVyZXMgZm91bmQgb24gdGhlIG9iamVjdCwgaXRzIGNoaWxkcmVuLCBjYWNoZSwgZXRjLiBJdCB3aWxsIHVuY2FjaGUgXG5cdCAqIG9iamVjdHMgYW5kIHJlbW92ZSBhbnkgdGV4dHVyZSBpdCBmaW5kcyBSRUdBUkRMRVNTIG9mIHdoZXRoZXIgaXQgaXMgY3VycmVudGx5IGluIHVzZSBlbHNld2hlcmUuIEl0IGlzIHVwIHRvIHRoZVxuXHQgKiBkZXZlbG9wZXIgdG8gZW5zdXJlIHRoYXQgYSB0ZXh0dXJlIGluIHVzZSBpcyBub3QgcmVtb3ZlZC5cblx0ICpcblx0ICogVGV4dHVyZXMgaW4gdXNlLCBvciB0byBiZSB1c2VkIGFnYWluIHNob3J0bHksIHNob3VsZCBub3QgYmUgcmVtb3ZlZC4gVGhpcyBpcyBzaW1wbHkgZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnMuXG5cdCAqIFJlbW92aW5nIGEgdGV4dHVyZSBpbiB1c2Ugd2lsbCBjYXVzZSB0aGUgdGV4dHVyZSB0byBoYXZlIHRvIGJlIHJlLXVwbG9hZGVkIHNsb3dpbmcgcmVuZGVyaW5nLlxuXHQgKiBAbWV0aG9kIHJlbGVhc2VUZXh0dXJlXG5cdCAqIEBwYXJhbSAge0Rpc3BsYXlPYmplY3QgfCBUZXh0dXJlIHwgSW1hZ2UgfCBDYW52YXN9IGl0ZW0gQW4gb2JqZWN0IHRoYXQgdXNlZCB0aGUgdGV4dHVyZSB0byBiZSBkaXNjYXJkZWQuXG5cdCAqL1xuXHRwLnJlbGVhc2VUZXh0dXJlID0gZnVuY3Rpb24gKGl0ZW0pIHtcblx0XHR2YXIgaSwgbDtcblx0XHRpZiAoIWl0ZW0pIHsgcmV0dXJuOyB9XG5cblx0XHQvLyB0aGlzIGlzIGEgY29udGFpbmVyIG9iamVjdFxuXHRcdGlmIChpdGVtLmNoaWxkcmVuKSB7XG5cdFx0XHRmb3IgKGkgPSAwLCBsID0gaXRlbS5jaGlsZHJlbi5sZW5ndGg7IGkgPCBsOyBpKyspIHtcblx0XHRcdFx0dGhpcy5yZWxlYXNlVGV4dHVyZShpdGVtLmNoaWxkcmVuW2ldKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyB0aGlzIGhhcyBhIGNhY2hlIGNhbnZhc1xuXHRcdGlmIChpdGVtLmNhY2hlQ2FudmFzKSB7XG5cdFx0XHRpdGVtLnVuY2FjaGUoKTtcblx0XHR9XG5cblx0XHR2YXIgZm91bmRJbWFnZSA9IHVuZGVmaW5lZDtcblx0XHRpZiAoaXRlbS5fc3RvcmVJRCAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHQvLyB0aGlzIGlzIGEgdGV4dHVyZSBpdHNlbGZcblx0XHRcdGlmIChpdGVtID09PSB0aGlzLl90ZXh0dXJlRGljdGlvbmFyeVtpdGVtLl9zdG9yZUlEXSkge1xuXHRcdFx0XHR0aGlzLl9raWxsVGV4dHVyZU9iamVjdChpdGVtKTtcblx0XHRcdFx0aXRlbS5fc3RvcmVJRCA9IHVuZGVmaW5lZDtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyB0aGlzIGlzIGFuIGltYWdlIG9yIGNhbnZhc1xuXHRcdFx0Zm91bmRJbWFnZSA9IGl0ZW07XG5cdFx0fSBlbHNlIGlmIChpdGVtLl93ZWJHTFJlbmRlclN0eWxlID09PSAyKSB7XG5cdFx0XHQvLyB0aGlzIGlzIGEgQml0bWFwIGNsYXNzXG5cdFx0XHRmb3VuZEltYWdlID0gaXRlbS5pbWFnZTtcblx0XHR9IGVsc2UgaWYgKGl0ZW0uX3dlYkdMUmVuZGVyU3R5bGUgPT09IDEpIHtcblx0XHRcdC8vIHRoaXMgaXMgYSBTcHJpdGVTaGVldCwgd2UgY2FuJ3QgdGVsbCB3aGljaCBpbWFnZSB3ZSB1c2VkIGZyb20gdGhlIGxpc3QgZWFzaWx5IHNvIHJlbW92ZSB0aGVtIGFsbCFcblx0XHRcdGZvciAoaSA9IDAsIGwgPSBpdGVtLnNwcml0ZVNoZWV0Ll9pbWFnZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG5cdFx0XHRcdHRoaXMucmVsZWFzZVRleHR1cmUoaXRlbS5zcHJpdGVTaGVldC5faW1hZ2VzW2ldKTtcblx0XHRcdH1cblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBkaWQgd2UgZmluZCBhbnl0aGluZ1xuXHRcdGlmIChmb3VuZEltYWdlID09PSB1bmRlZmluZWQpIHtcblx0XHRcdGlmICh0aGlzLnZvY2FsRGVidWcpIHtcblx0XHRcdFx0Y29uc29sZS5sb2coXCJObyBhc3NvY2lhdGVkIHRleHR1cmUgZm91bmQgb24gcmVsZWFzZVwiKTtcblx0XHRcdH1cblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyByZW1vdmUgaXRcblx0XHR0aGlzLl9raWxsVGV4dHVyZU9iamVjdCh0aGlzLl90ZXh0dXJlRGljdGlvbmFyeVtmb3VuZEltYWdlLl9zdG9yZUlEXSk7XG5cdFx0Zm91bmRJbWFnZS5fc3RvcmVJRCA9IHVuZGVmaW5lZDtcblx0fTtcblxuXHQvKipcblx0ICogU2ltaWxhciB0byB7eyNjcm9zc0xpbmsgXCJyZWxlYXNlVGV4dHVyZVwifX17ey9jcm9zc0xpbmt9fSwgYnV0IHRoaXMgZnVuY3Rpb24gZGlmZmVycyBieSBzZWFyY2hpbmcgZm9yIHRleHR1cmVzIHRvXG5cdCAqIHJlbGVhc2UuIEl0IHdvcmtzIGJ5IGFzc3VtaW5nIHRoYXQgaXQgY2FuIHB1cmdlIGFueSB0ZXh0dXJlIHdoaWNoIHdhcyBsYXN0IHVzZWQgbW9yZSB0aGFuIFwiY291bnRcIiBkcmF3IGNhbGxzIGFnby5cblx0ICogQmVjYXVzZSB0aGlzIHByb2Nlc3MgaXMgdW5hd2FyZSBvZiB0aGUgb2JqZWN0cyBhbmQgd2hldGhlciB0aGV5IG1heSBiZSB1c2VkIG9uIHlvdXIgc3RhZ2UsIGZhbHNlIHBvc2l0aXZlcyBjYW5cblx0ICogb2NjdXIuIEl0IGlzIHJlY29tbWVuZGVkIHRvIG1hbnVhbGx5IG1hbmFnZSB5b3VyIG1lbW9yeSB3aXRoIHt7I2Nyb3NzTGluayBcIlN0YWdlR0wvcmVsZWFzZVRleHR1cmVcIn19e3svY3Jvc3NMaW5rfX0sXG5cdCAqIGhvd2V2ZXIsIHRoZXJlIGFyZSBtYW55IHVzZSBjYXNlcyB3aGVyZSB0aGlzIGlzIHNpbXBsZXIgYW5kIGVycm9yLWZyZWUuIFRoaXMgcHJvY2VzcyBpcyBhbHNvIHJ1biBieSBkZWZhdWx0IHVuZGVyXG5cdCAqIHRoZSBob29kIHRvIHByZXZlbnQgbGVha3MuIFRvIGRpc2FibGUgaXQgc2VlIHRoZSB7eyNjcm9zc0xpbmsgXCJTdGFnZUdML2F1dG9QdXJnZTpwcm9wZXJ0eVwifX17ey9jcm9zc0xpbmt9fSBwcm9wZXJ0eS5cblx0ICogQG1ldGhvZCBwdXJnZVRleHR1cmVzXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBbY291bnQ9MTAwXSBIb3cgbWFueSByZW5kZXJzIGFnbyB0aGUgdGV4dHVyZSB3YXMgbGFzdCB1c2VkXG5cdCAqL1xuXHRwLnB1cmdlVGV4dHVyZXMgPSBmdW5jdGlvbiAoY291bnQpIHtcblx0XHRpZiAoY291bnQgPT0gdW5kZWZpbmVkKXsgY291bnQgPSAxMDA7IH1cblxuXHRcdHZhciBkaWN0ID0gdGhpcy5fdGV4dHVyZURpY3Rpb25hcnk7XG5cdFx0dmFyIGwgPSBkaWN0Lmxlbmd0aDtcblx0XHRmb3IgKHZhciBpPSAwOyBpPGw7IGkrKykge1xuXHRcdFx0dmFyIGl0ZW0gPSBkaWN0W2ldO1xuXHRcdFx0aWYgKCFpdGVtKSB7IGNvbnRpbnVlOyB9XG5cdFx0XHRpZiAoaXRlbS5fZHJhd0lEICsgY291bnQgPD0gdGhpcy5fZHJhd0lEKSB7XHQvLyB1c2UgZHJhdyBub3QgYmF0Y2ggYXMgZHJhdyBpcyBtb3JlIGluZGljYXRpdmUgb2YgdGltZVxuXHRcdFx0XHR0aGlzLl9raWxsVGV4dHVyZU9iamVjdChpdGVtKTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG5cblx0LyoqXG5cdCAqIFRyeSB0byBzZXQgdGhlIG1heCB0ZXh0dXJlcyB0aGUgc3lzdGVtIGNhbiBoYW5kbGUuIEl0IHNob3VsZCBkZWZhdWx0IHRvIHRoZSBoYXJkd2FyZSBtYXhpbXVtLCBhbmQgbG93ZXIgdmFsdWVzXG5cdCAqIG1heSBsaW1pdCBwZXJmb3JtYW5jZS4gU29tZSBkZXZpY2VzIGhhdmUgYmVlbiBrbm93biB0byBtaXMtcmVwb3J0IHRoZWlyIG1heCB0ZXh0dXJlcywgb3IgeW91IG1heSBuZWVkIGEgc3RhbmRhcmRcblx0ICogYmFzZWxpbmUgY3Jvc3MgZGV2aWNlcyBmb3IgdGVzdGluZy4gQmFycmluZyB0aGUgcHJldmlvdXMgc3VnZ2VzdGlvbnMsIHRoZXJlIGlzIGxpdHRsZSBuZWVkIHRvIGNhbGwgdGhpcyBmdW5jdGlvblxuXHQgKiBhcyB0aGUgbGlicmFyeSB3aWxsIGF1dG9tYXRpY2FsbHkgdHJ5IHRvIGZpbmQgdGhlIGJlc3QgdmFsdWUuXG5cdCAqXG5cdCAqIE5PVEU6IFRoaXMgbWV0aG9kIGlzIG1haW5seSBmb3IgaW50ZXJuYWwgdXNlLCB0aG91Z2ggaXQgbWF5IGJlIHVzZWZ1bCBmb3IgYWR2YW5jZWQgdXNlcy5cblx0ICogQG1ldGhvZCB1cGRhdGVTaW11bHRhbmVvdXNUZXh0dXJlQ291bnRcblx0ICogQHBhcmFtIHtOdW1iZXJ9IFtjb3VudD0xXSBUaGUgbnVtYmVyIG9mIHRleHR1cmVzIGludGVuZGVkIGZvciBzaW11bHRhbmVvdXMgbG9hZGluZy5cblx0ICovXG5cdHAudXBkYXRlU2ltdWx0YW5lb3VzVGV4dHVyZUNvdW50ID0gZnVuY3Rpb24gKGNvdW50KSB7XG5cdFx0Ly8gVE9ETzogREhHOiBtYWtlIHN1cmUgQVBJIHdvcmtzIGluIGFsbCBpbnN0YW5jZXMsIG1heSBiZSBzb21lIGlzc3VlcyB3aXRoIGJ1ZmZlcnMgZXRjIEkgaGF2ZW4ndCBmb3Jlc2VlblxuXHRcdHZhciBnbCA9IHRoaXMuX3dlYkdMQ29udGV4dDtcblx0XHR2YXIgc3VjY2VzcyA9IGZhbHNlO1xuXG5cdFx0aWYgKGNvdW50IDwgMSB8fCBpc05hTihjb3VudCkpIHsgY291bnQgPSAxOyB9XG5cdFx0dGhpcy5fYmF0Y2hUZXh0dXJlQ291bnQgPSBjb3VudDtcblxuXHRcdHdoaWxlICghc3VjY2Vzcykge1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0dGhpcy5fYWN0aXZlU2hhZGVyID0gdGhpcy5fZmV0Y2hTaGFkZXJQcm9ncmFtKGdsKTtcblx0XHRcdFx0c3VjY2VzcyA9IHRydWU7XG5cdFx0XHR9IGNhdGNoKGUpIHtcblx0XHRcdFx0aWYgKHRoaXMuX2JhdGNoVGV4dHVyZUNvdW50ID09IDEpIHtcblx0XHRcdFx0XHR0aHJvdyBcIkNhbm5vdCBjb21waWxlIHNoYWRlciBcIiArIGU7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR0aGlzLl9iYXRjaFRleHR1cmVDb3VudCAtPSA0O1xuXHRcdFx0XHRpZiAodGhpcy5fYmF0Y2hUZXh0dXJlQ291bnQgPCAxKSB7IHRoaXMuX2JhdGNoVGV4dHVyZUNvdW50ID0gMTsgfVxuXG5cdFx0XHRcdGlmICh0aGlzLnZvY2FsRGVidWcpIHtcblx0XHRcdFx0XHRjb25zb2xlLmxvZyhcIlJlZHVjaW5nIGRlc2lyZWQgdGV4dHVyZSBjb3VudCBkdWUgdG8gZXJyb3JzOiBcIiArIHRoaXMuX2JhdGNoVGV4dHVyZUNvdW50KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fTtcblxuXHQvKipcblx0ICogVXBkYXRlIHRoZSBXZWJHTCB2aWV3cG9ydC4gTm90ZSB0aGF0IHRoaXMgZG9lcyA8c3Ryb25nPm5vdDwvc3Ryb25nPiB1cGRhdGUgdGhlIGNhbnZhcyBlbGVtZW50J3Mgd2lkdGgvaGVpZ2h0LCBidXRcblx0ICogdGhlIHJlbmRlciBzdXJmYWNlJ3MgaW5zdGVhZC4gVGhpcyBpcyBuZWNlc3NhcnkgYWZ0ZXIgbWFudWFsbHkgcmVzaXppbmcgdGhlIGNhbnZhcyBlbGVtZW50IG9uIHRoZSBET00gdG8gYXZvaWQgYVxuXHQgKiB1cC9kb3duIHNjYWxlZCByZW5kZXIuXG5cdCAqIEBtZXRob2QgdXBkYXRlVmlld3BvcnRcblx0ICogQHBhcmFtIHtJbnRlZ2VyfSB3aWR0aCBUaGUgd2lkdGggb2YgdGhlIHJlbmRlciBzdXJmYWNlIGluIHBpeGVscy5cblx0ICogQHBhcmFtIHtJbnRlZ2VyfSBoZWlnaHQgVGhlIGhlaWdodCBvZiB0aGUgcmVuZGVyIHN1cmZhY2UgaW4gcGl4ZWxzLlxuXHQgKi9cblx0cC51cGRhdGVWaWV3cG9ydCA9IGZ1bmN0aW9uICh3aWR0aCwgaGVpZ2h0KSB7XG5cdFx0dGhpcy5fdmlld3BvcnRXaWR0aCA9IHdpZHRofDA7XG5cdFx0dGhpcy5fdmlld3BvcnRIZWlnaHQgPSBoZWlnaHR8MDtcblx0XHR2YXIgZ2wgPSB0aGlzLl93ZWJHTENvbnRleHQ7XG5cblx0XHRpZiAoZ2wpIHtcblx0XHRcdGdsLnZpZXdwb3J0KDAsIDAsIHRoaXMuX3ZpZXdwb3J0V2lkdGgsIHRoaXMuX3ZpZXdwb3J0SGVpZ2h0KTtcblxuXHRcdFx0Ly8gV2ViR0wgd29ya3Mgd2l0aCBhIC0xLDEgc3BhY2Ugb24gaXRzIHNjcmVlbi4gSXQgYWxzbyBmb2xsb3dzIFktVXBcblx0XHRcdC8vIHdlIG5lZWQgdG8gZmxpcCB0aGUgeSwgc2NhbGUgYW5kIHRoZW4gdHJhbnNsYXRlIHRoZSBjby1vcmRpbmF0ZXMgdG8gbWF0Y2ggdGhpc1xuXHRcdFx0Ly8gYWRkaXRpb25hbGx5IHdlIG9mZnNldCBpbnRvIHRoZXkgWSBzbyB0aGUgcG9seWdvbnMgYXJlIGluc2lkZSB0aGUgY2FtZXJhJ3MgXCJjbGlwcGluZ1wiIHBsYW5lXG5cdFx0XHR0aGlzLl9wcm9qZWN0aW9uTWF0cml4ID0gbmV3IEZsb2F0MzJBcnJheShbXG5cdFx0XHRcdDIgLyB0aGlzLl92aWV3cG9ydFdpZHRoLFx0MCxcdFx0XHRcdFx0XHRcdFx0MCxcdFx0XHRcdFx0XHRcdDAsXG5cdFx0XHRcdDAsXHRcdFx0XHRcdFx0XHQtMiAvIHRoaXMuX3ZpZXdwb3J0SGVpZ2h0LFx0XHQxLFx0XHRcdFx0XHRcdFx0MCxcblx0XHRcdFx0MCxcdFx0XHRcdFx0XHRcdDAsXHRcdFx0XHRcdFx0XHRcdDEsXHRcdFx0XHRcdFx0XHQwLFxuXHRcdFx0XHQtMSxcdFx0XHRcdFx0XHRcdDEsXHRcdFx0XHRcdFx0XHRcdDAuMSxcdFx0XHRcdFx0XHQwXG5cdFx0XHRdKTtcblx0XHRcdC8vIGNyZWF0ZSB0aGUgZmxpcHBlZCB2ZXJzaW9uIGZvciB1c2Ugd2l0aCByZW5kZXIgdGV4dHVyZSBmbGlwcGluZ1xuXHRcdFx0Ly8gREhHOiB0aGlzIHdvdWxkIGJlIGEgc2xpY2UvY2xvbmUgYnV0IHNvbWUgcGxhdGZvcm1zIGRvbid0IG9mZmVyIHRoZW0gZm9yIEZsb2F0MzJBcnJheVxuXHRcdFx0dGhpcy5fcHJvamVjdGlvbk1hdHJpeEZsaXAgPSBuZXcgRmxvYXQzMkFycmF5KFswLDAsMCwwLCAwLDAsMCwwLCAwLDAsMCwwLCAwLDAsMCwwXSk7XG5cdFx0XHR0aGlzLl9wcm9qZWN0aW9uTWF0cml4RmxpcC5zZXQodGhpcy5fcHJvamVjdGlvbk1hdHJpeCk7XG5cdFx0XHR0aGlzLl9wcm9qZWN0aW9uTWF0cml4RmxpcFs1XSAqPSAtMTtcblx0XHRcdHRoaXMuX3Byb2plY3Rpb25NYXRyaXhGbGlwWzEzXSAqPSAtMTtcblx0XHR9XG5cdH07XG5cblx0LyoqXG5cdCAqIEZldGNoZXMgdGhlIHNoYWRlciBjb21waWxlZCBhbmQgc2V0IHVwIHRvIHdvcmsgd2l0aCB0aGUgcHJvdmlkZWQgZmlsdGVyL29iamVjdC4gVGhlIHNoYWRlciBpcyBjb21waWxlZCBvbiBmaXJzdFxuXHQgKiB1c2UgYW5kIHJldHVybmVkIG9uIHN1YnNlcXVlbnQgY2FsbHMuXG5cdCAqIEBtZXRob2QgZ2V0RmlsdGVyU2hhZGVyXG5cdCAqIEBwYXJhbSAge0ZpbHRlcnxPYmplY3R9IGZpbHRlciBUaGUgb2JqZWN0IHdoaWNoIHdpbGwgcHJvdmlkZSB0aGUgaW5mb3JtYXRpb24gbmVlZGVkIHRvIGNvbnN0cnVjdCB0aGUgZmlsdGVyIHNoYWRlci5cblx0ICogQHJldHVybiB7V2ViR0xQcm9ncmFtfVxuXHQgKi9cblx0cC5nZXRGaWx0ZXJTaGFkZXIgPSBmdW5jdGlvbiAoZmlsdGVyKSB7XG5cdFx0aWYgKCFmaWx0ZXIpIHsgZmlsdGVyID0gdGhpczsgfVxuXG5cdFx0dmFyIGdsID0gdGhpcy5fd2ViR0xDb250ZXh0O1xuXHRcdHZhciB0YXJnZXRTaGFkZXIgPSB0aGlzLl9hY3RpdmVTaGFkZXI7XG5cblx0XHRpZiAoZmlsdGVyLl9idWlsdFNoYWRlcikge1xuXHRcdFx0dGFyZ2V0U2hhZGVyID0gZmlsdGVyLl9idWlsdFNoYWRlcjtcblx0XHRcdGlmIChmaWx0ZXIuc2hhZGVyUGFyYW1TZXR1cCkge1xuXHRcdFx0XHRnbC51c2VQcm9ncmFtKHRhcmdldFNoYWRlcik7XG5cdFx0XHRcdGZpbHRlci5zaGFkZXJQYXJhbVNldHVwKGdsLCB0aGlzLCB0YXJnZXRTaGFkZXIpO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHR0YXJnZXRTaGFkZXIgPSB0aGlzLl9mZXRjaFNoYWRlclByb2dyYW0oXG5cdFx0XHRcdFx0Z2wsIFwiZmlsdGVyXCIsXG5cdFx0XHRcdFx0ZmlsdGVyLlZUWF9TSEFERVJfQk9EWSwgZmlsdGVyLkZSQUdfU0hBREVSX0JPRFksXG5cdFx0XHRcdFx0ZmlsdGVyLnNoYWRlclBhcmFtU2V0dXAgJiYgZmlsdGVyLnNoYWRlclBhcmFtU2V0dXAuYmluZChmaWx0ZXIpXG5cdFx0XHRcdCk7XG5cdFx0XHRcdGZpbHRlci5fYnVpbHRTaGFkZXIgPSB0YXJnZXRTaGFkZXI7XG5cdFx0XHRcdHRhcmdldFNoYWRlci5fbmFtZSA9IGZpbHRlci50b1N0cmluZygpO1xuXHRcdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0XHRjb25zb2xlICYmIGNvbnNvbGUubG9nKFwiU0hBREVSIFNXSVRDSCBGQUlMVVJFXCIsIGUpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gdGFyZ2V0U2hhZGVyO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBSZXR1cm5zIGEgYmFzZSB0ZXh0dXJlIHRoYXQgaGFzIG5vIGltYWdlIG9yIGRhdGEgbG9hZGVkLiBOb3QgaW50ZW5kZWQgZm9yIGxvYWRpbmcgaW1hZ2VzLiBJdCBtYXkgcmV0dXJuIGBudWxsYFxuXHQgKiBpbiBzb21lIGVycm9yIGNhc2VzLCBhbmQgdHJ5aW5nIHRvIHVzZSBhIFwibnVsbFwiIHRleHR1cmUgY2FuIGNhdXNlIHJlbmRlcnMgdG8gZmFpbC5cblx0ICogQG1ldGhvZCBnZXRCYXNlVGV4dHVyZVxuXHQgKiBAcGFyYW0gIHt1aW50fSBbdz0xXSBUaGUgd2lkdGggb2YgdGhlIHRleHR1cmUgaW4gcGl4ZWxzLCBkZWZhdWx0cyB0byAxXG5cdCAqIEBwYXJhbSAge3VpbnR9IFtoPTFdIFRoZSBoZWlnaHQgb2YgdGhlIHRleHR1cmUgaW4gcGl4ZWxzLCBkZWZhdWx0cyB0byAxXG5cdCAqL1xuXHRwLmdldEJhc2VUZXh0dXJlID0gZnVuY3Rpb24gKHcsIGgpIHtcblx0XHR2YXIgd2lkdGggPSBNYXRoLmNlaWwodyA+IDAgPyB3IDogMSkgfHwgMTtcblx0XHR2YXIgaGVpZ2h0ID0gTWF0aC5jZWlsKGggPiAwID8gaCA6IDEpIHx8IDE7XG5cblx0XHR2YXIgZ2wgPSB0aGlzLl93ZWJHTENvbnRleHQ7XG5cdFx0dmFyIHRleHR1cmUgPSBnbC5jcmVhdGVUZXh0dXJlKCk7XG5cdFx0dGhpcy5yZXNpemVUZXh0dXJlKHRleHR1cmUsIHdpZHRoLCBoZWlnaHQpO1xuXHRcdHRoaXMuc2V0VGV4dHVyZVBhcmFtcyhnbCwgZmFsc2UpO1xuXG5cdFx0cmV0dXJuIHRleHR1cmU7XG5cdH07XG5cblx0LyoqXG5cdCAqIFJlc2l6ZXMgYSBzdXBwbGllZCB0ZXh0dXJlIGVsZW1lbnQuIE1heSBnZW5lcmF0ZSBpbnZhbGlkIHRleHR1cmVzIGluIHNvbWUgZXJyb3IgY2FzZXMgc3VjaCBhczsgd2hlbiB0aGUgdGV4dHVyZVxuXHQgKiBpcyB0b28gbGFyZ2UsIHdoZW4gYW4gb3V0IG9mIHRleHR1cmUgbWVtb3J5IGVycm9yIG9jY3Vycywgb3Igb3RoZXIgZXJyb3Igc2NlbmFyaW9zLiBUcnlpbmcgdG8gdXNlIGFuIGludmFsaWQgdGV4dHVyZVxuXHQgKiBjYW4gY2F1c2UgcmVuZGVycyB0byBoYXJkIHN0b3Agb24gc29tZSBkZXZpY2VzLiBDaGVjayB0aGUgV2ViR0wgYm91bmQgdGV4dHVyZSBhZnRlciBydW5uaW5nIHRoaXMgZnVuY3Rpb24uXG5cdCAqXG5cdCAqIE5PVEU6IFRoZSBzdXBwbGllZCB0ZXh0dXJlIG11c3QgaGF2ZSBiZWVuIG1hZGUgd2l0aCB0aGUgV2ViR0wgXCJ0ZXhJbWFnZTJEXCIgZnVuY3Rpb24sIGFsbCBkZWZhdWx0IEFQSXMgaW4gU3RhZ2VHTFxuXHQgKiB1c2UgdGhpcywgc28gdGhpcyBub3RlIG9ubHkgbWF0dGVycyBmb3IgbGlicmFyeSBkZXZlbG9wZXJzIGFuZCBwbHVnaW5zLlxuXHQgKlxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqIEBtZXRob2QgcmVzaXplVGV4dHVyZVxuXHQgKiBAcGFyYW0gIHtXZWJHTFRleHR1cmV9IHRleHR1cmUgVGhlIEdMIFRleHR1cmUgdG8gYmUgbW9kaWZpZWQuXG5cdCAqIEBwYXJhbSAge3VpbnR9IFt3aWR0aD0xXSBUaGUgd2lkdGggb2YgdGhlIHRleHR1cmUgaW4gcGl4ZWxzLCBkZWZhdWx0cyB0byAxXG5cdCAqIEBwYXJhbSAge3VpbnR9IFtoZWlnaHQ9MV0gVGhlIGhlaWdodCBvZiB0aGUgdGV4dHVyZSBpbiBwaXhlbHMsIGRlZmF1bHRzIHRvIDFcblx0ICovXG5cdHAucmVzaXplVGV4dHVyZSA9IGZ1bmN0aW9uICh0ZXh0dXJlLCB3aWR0aCxoZWlnaHQpIHtcblx0XHR2YXIgZ2wgPSB0aGlzLl93ZWJHTENvbnRleHQ7XG5cdFx0Z2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgdGV4dHVyZSk7XG5cdFx0Z2wudGV4SW1hZ2UyRChcblx0XHRcdGdsLlRFWFRVUkVfMkQsXHRcdFx0XHQvLyB0YXJnZXRcblx0XHRcdDAsXHRcdFx0XHRcdFx0XHQvLyBsZXZlbCBvZiBkZXRhaWxcblx0XHRcdGdsLlJHQkEsXHRcdFx0XHRcdC8vIGludGVybmFsIGZvcm1hdFxuXHRcdFx0d2lkdGgsIGhlaWdodCwgMCxcdFx0XHQvLyB3aWR0aCwgaGVpZ2h0LCBib3JkZXIgKG9ubHkgZm9yIGFycmF5L251bGwgc291cmNlZCB0ZXh0dXJlcylcblx0XHRcdGdsLlJHQkEsXHRcdFx0XHRcdC8vIGZvcm1hdCAobWF0Y2ggaW50ZXJuYWwgZm9ybWF0KVxuXHRcdFx0Z2wuVU5TSUdORURfQllURSxcdFx0XHQvLyB0eXBlIG9mIHRleHR1cmUocGl4ZWwgY29sb3IgZGVwdGgpXG5cdFx0XHRudWxsXHRcdFx0XHRcdFx0Ly8gaW1hZ2UgZGF0YSwgd2UgY2FuIGRvIG51bGwgYmVjYXVzZSB3ZSdyZSBkb2luZyBhcnJheSBkYXRhXG5cdFx0KTtcblx0XHR0ZXh0dXJlLndpZHRoID0gd2lkdGg7XG5cdFx0dGV4dHVyZS5oZWlnaHQgPSBoZWlnaHQ7XG5cdH07XG5cblx0LyoqXG5cdCAqIFJldHVybnMgYSBiYXNlIHRleHR1cmUgKHNlZSB7eyNjcm9zc0xpbmsgXCJTdGFnZUdML2dldEJhc2VUZXh0dXJlXCJ9fXt7L2Nyb3NzTGlua319KSBmb3IgZGV0YWlscy4gQWxzbyBpbmNsdWRlcyBhblxuXHQgKiBhdHRhY2hlZCBhbmQgbGlua2VkIHJlbmRlciBidWZmZXIgaW4gYHRleHR1cmUuX2ZyYW1lQnVmZmVyYC4gUmVuZGVyVGV4dHVyZXMgY2FuIGJlIHRob3VnaHQgb2YgYXMgYW4gaW50ZXJuYWxcblx0ICogY2FudmFzIG9uIHRoZSBHUFUgdGhhdCBjYW4gYmUgZHJhd24gdG8uXG5cdCAqIEBtZXRob2QgZ2V0UmVuZGVyQnVmZmVyVGV4dHVyZVxuXHQgKiBAcGFyYW0gIHtOdW1iZXJ9IHcgVGhlIHdpZHRoIG9mIHRoZSB0ZXh0dXJlIGluIHBpeGVscy5cblx0ICogQHBhcmFtICB7TnVtYmVyfSBoIFRoZSBoZWlnaHQgb2YgdGhlIHRleHR1cmUgaW4gcGl4ZWxzLlxuXHQgKiBAcmV0dXJuIHtUZXh0dXJlfSB0aGUgYmFzaWMgdGV4dHVyZSBpbnN0YW5jZSB3aXRoIGEgcmVuZGVyIGJ1ZmZlciBwcm9wZXJ0eS5cblx0ICovXG5cdHAuZ2V0UmVuZGVyQnVmZmVyVGV4dHVyZSA9IGZ1bmN0aW9uICh3LCBoKSB7XG5cdFx0dmFyIGdsID0gdGhpcy5fd2ViR0xDb250ZXh0O1xuXG5cdFx0Ly8gZ2V0IHRoZSB0ZXh0dXJlXG5cdFx0dmFyIHJlbmRlclRleHR1cmUgPSB0aGlzLmdldEJhc2VUZXh0dXJlKHcsIGgpO1xuXHRcdGlmICghcmVuZGVyVGV4dHVyZSkgeyByZXR1cm4gbnVsbDsgfVxuXG5cdFx0Ly8gZ2V0IHRoZSBmcmFtZSBidWZmZXJcblx0XHR2YXIgZnJhbWVCdWZmZXIgPSBnbC5jcmVhdGVGcmFtZWJ1ZmZlcigpO1xuXHRcdGlmICghZnJhbWVCdWZmZXIpIHsgcmV0dXJuIG51bGw7IH1cblxuXHRcdC8vIHNldCBpdHMgd2lkdGggYW5kIGhlaWdodCBmb3Igc3Bvb2ZpbmcgYXMgYW4gaW1hZ2Vcblx0XHRyZW5kZXJUZXh0dXJlLndpZHRoID0gdztcblx0XHRyZW5kZXJUZXh0dXJlLmhlaWdodCA9IGg7XG5cblx0XHQvLyBhdHRhY2ggZnJhbWUgYnVmZmVyIHRvIHRleHR1cmUgYW5kIHByb3ZpZGUgY3Jvc3MgbGlua3MgdG8gbG9vayB1cCBlYWNoIG90aGVyXG5cdFx0Z2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCBmcmFtZUJ1ZmZlcik7XG5cdFx0Z2wuZnJhbWVidWZmZXJUZXh0dXJlMkQoZ2wuRlJBTUVCVUZGRVIsIGdsLkNPTE9SX0FUVEFDSE1FTlQwLCBnbC5URVhUVVJFXzJELCByZW5kZXJUZXh0dXJlLCAwKTtcblx0XHRmcmFtZUJ1ZmZlci5fcmVuZGVyVGV4dHVyZSA9IHJlbmRlclRleHR1cmU7XG5cdFx0cmVuZGVyVGV4dHVyZS5fZnJhbWVCdWZmZXIgPSBmcmFtZUJ1ZmZlcjtcblxuXHRcdC8vIHRoZXNlIGtlZXAgdHJhY2sgb2YgdGhlbXNlbHZlcyBzaW1wbHkgdG8gcmVkdWNlIGNvbXBsZXhpdHkgb2Ygc29tZSBsb29rdXAgY29kZVxuXHRcdHJlbmRlclRleHR1cmUuX3N0b3JlSUQgPSB0aGlzLl90ZXh0dXJlRGljdGlvbmFyeS5sZW5ndGg7XG5cdFx0dGhpcy5fdGV4dHVyZURpY3Rpb25hcnlbcmVuZGVyVGV4dHVyZS5fc3RvcmVJRF0gPSByZW5kZXJUZXh0dXJlO1xuXG5cdFx0Z2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCBudWxsKTtcblx0XHRyZXR1cm4gcmVuZGVyVGV4dHVyZTtcblx0fTtcblxuXHQvKipcblx0ICogQ29tbW9uIHV0aWxpdHkgZnVuY3Rpb24gdXNlZCB0byBhcHBseSB0aGUgY29ycmVjdCB0ZXh0dXJlIHByb2Nlc3NpbmcgcGFyYW1ldGVycyBmb3IgdGhlIGJvdW5kIHRleHR1cmUuXG5cdCAqIEBtZXRob2Qgc2V0VGV4dHVyZVBhcmFtc1xuXHQgKiBAcGFyYW0gIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIFRoZSBjYW52YXMgV2ViR0wgY29udGV4dCBvYmplY3QgdG8gZHJhdyBpbnRvLlxuXHQgKiBAcGFyYW0gIHtCb29sZWFufSBbaXNQT1Q9ZmFsc2VdIE1hcmtzIHdoZXRoZXIgdGhlIHRleHR1cmUgaXMgXCJQb3dlciBvZiBUd29cIiwgdGhpcyBtYXkgYWxsb3cgYmV0dGVyIHF1YWxpdHkgQUEuXG5cdCAqL1xuXHRwLnNldFRleHR1cmVQYXJhbXMgPSBmdW5jdGlvbiAoZ2wsIGlzUE9UKSB7XG5cdFx0aWYgKGlzUE9UICYmIHRoaXMuX2FudGlhbGlhcykge1xuXHRcdFx0Ly9ub24gUE9UIGxpbmVhciB3b3JrcyBpbiBzb21lIGRldmljZXMsIGJ1dCBwZXJmb3JtYW5jZSBpcyBOT1QgZ29vZCwgaW52ZXN0aWdhdGVcblx0XHRcdGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9NSU5fRklMVEVSLCBnbC5MSU5FQVIpO1xuXHRcdFx0Z2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX01BR19GSUxURVIsIGdsLkxJTkVBUik7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9NSU5fRklMVEVSLCBnbC5ORUFSRVNUKTtcblx0XHRcdGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9NQUdfRklMVEVSLCBnbC5ORUFSRVNUKTtcblx0XHR9XG5cdFx0Z2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX1dSQVBfUywgZ2wuQ0xBTVBfVE9fRURHRSk7XG5cdFx0Z2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX1dSQVBfVCwgZ2wuQ0xBTVBfVE9fRURHRSk7XG5cdH07XG5cblx0LyoqXG5cdCAqIENoYW5nZXMgdGhlIHdlYkdMIGNsZWFyLCBha2EgXCJiYWNrZ3JvdW5kXCIgY29sb3IgdG8gdGhlIHByb3ZpZGVkIHZhbHVlLiBBIHRyYW5zcGFyZW50IGNsZWFyIGlzIHJlY29tbWVuZGVkLCBhc1xuXHQgKiBub24tdHJhbnNwYXJlbnQgY29sb3VycyBtYXkgY3JlYXRlIHVuZGVzaXJlZCBib3hlcyBhcm91bmQgc29tZSB2aXN1YWxzLlxuXHQgKlxuXHQgKiBUaGUgY2xlYXIgY29sb3Igd2lsbCBhbHNvIGJlIHVzZWQgZm9yIGZpbHRlcnMgYW5kIG90aGVyIFwicmVuZGVyIHRleHR1cmVzXCIuIFRoZSBzdGFnZSBiYWNrZ3JvdW5kIHdpbGwgaWdub3JlIHRoZVxuXHQgKiB0cmFuc3BhcmVuY3kgdmFsdWUgYW5kIGRpc3BsYXkgYSBzb2xpZCBjb2xvciBub3JtYWxseS4gRm9yIHRoZSBzdGFnZSB0byByZWNvZ25pemUgYW5kIHVzZSB0cmFuc3BhcmVuY3kgaXQgbXVzdCBiZVxuXHQgKiBjcmVhdGVkIHdpdGggdGhlIHRyYW5zcGFyZW50IGZsYWcgc2V0IHRvIGB0cnVlYCAoc2VlIHt7I2Nyb3NzTGluayBcIlN0YWdlR0wvY29uc3RydWN0b3JcIn19e3svY3Jvc3NMaW5rfX0pKS5cblx0ICpcblx0ICogVXNpbmcgXCJ0cmFuc3BhcmVudCB3aGl0ZVwiIHRvIGRlbW9uc3RyYXRlLCB0aGUgdmFsaWQgZGF0YSBmb3JtYXRzIGFyZSBhcyBmb2xsb3dzOlxuXHQgKiA8dWw+XG5cdCAqICAgICA8bGk+XCIjRkZGXCI8L2xpPlxuXHQgKiAgICAgPGxpPlwiI0ZGRkZGRlwiPC9saT5cblx0ICogICAgIDxsaT5cIiNGRkZGRkYwMFwiPC9saT5cblx0ICogICAgIDxsaT5cInJnYmEoMjU1LDI1NSwyNTUsMC4wKVwiPC9saT5cblx0ICogPC91bD5cblx0ICogQG1ldGhvZCBzZXRDbGVhckNvbG9yXG5cdCAqIEBwYXJhbSB7U3RyaW5nfGludH0gW2NvbG9yPTB4MDAwMDAwMDBdIFRoZSBuZXcgY29sb3IgdG8gdXNlIGFzIHRoZSBiYWNrZ3JvdW5kXG5cdCAqL1xuXHRwLnNldENsZWFyQ29sb3IgPSBmdW5jdGlvbiAoY29sb3IpIHtcblx0XHR2YXIgciwgZywgYiwgYSwgb3V0cHV0O1xuXG5cdFx0aWYgKHR5cGVvZiBjb2xvciA9PSBcInN0cmluZ1wiKSB7XG5cdFx0XHRpZiAoY29sb3IuaW5kZXhPZihcIiNcIikgPT0gMCkge1xuXHRcdFx0XHRpZiAoY29sb3IubGVuZ3RoID09IDQpIHtcblx0XHRcdFx0XHRjb2xvciA9IFwiI1wiICsgY29sb3IuY2hhckF0KDEpK2NvbG9yLmNoYXJBdCgxKSArIGNvbG9yLmNoYXJBdCgyKStjb2xvci5jaGFyQXQoMikgKyBjb2xvci5jaGFyQXQoMykrY29sb3IuY2hhckF0KDMpXG5cdFx0XHRcdH1cblx0XHRcdFx0ciA9IE51bWJlcihcIjB4XCIrY29sb3Iuc2xpY2UoMSwgMykpLzI1NTtcblx0XHRcdFx0ZyA9IE51bWJlcihcIjB4XCIrY29sb3Iuc2xpY2UoMywgNSkpLzI1NTtcblx0XHRcdFx0YiA9IE51bWJlcihcIjB4XCIrY29sb3Iuc2xpY2UoNSwgNykpLzI1NTtcblx0XHRcdFx0YSA9IE51bWJlcihcIjB4XCIrY29sb3Iuc2xpY2UoNywgOSkpLzI1NTtcblx0XHRcdH0gZWxzZSBpZiAoY29sb3IuaW5kZXhPZihcInJnYmEoXCIpID09IDApIHtcblx0XHRcdFx0b3V0cHV0ID0gY29sb3Iuc2xpY2UoNSwgLTEpLnNwbGl0KFwiLFwiKTtcblx0XHRcdFx0ciA9IE51bWJlcihvdXRwdXRbMF0pLzI1NTtcblx0XHRcdFx0ZyA9IE51bWJlcihvdXRwdXRbMV0pLzI1NTtcblx0XHRcdFx0YiA9IE51bWJlcihvdXRwdXRbMl0pLzI1NTtcblx0XHRcdFx0YSA9IE51bWJlcihvdXRwdXRbM10pO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XHQvLyA+Pj4gaXMgYW4gdW5zaWduZWQgc2hpZnQgd2hpY2ggaXMgd2hhdCB3ZSB3YW50IGFzIDB4ODAwMDAwMDAgYW5kIHVwIGFyZSBuZWdhdGl2ZSB2YWx1ZXNcblx0XHRcdHIgPSAoKGNvbG9yICYgMHhGRjAwMDAwMCkgPj4+IDI0KS8yNTU7XG5cdFx0XHRnID0gKChjb2xvciAmIDB4MDBGRjAwMDApID4+PiAxNikvMjU1O1xuXHRcdFx0YiA9ICgoY29sb3IgJiAweDAwMDBGRjAwKSA+Pj4gOCkvMjU1O1xuXHRcdFx0YSA9IChjb2xvciAmIDB4MDAwMDAwRkYpLzI1NTtcblx0XHR9XG5cblx0XHR0aGlzLl9jbGVhckNvbG9yLnIgPSByIHx8IDA7XG5cdFx0dGhpcy5fY2xlYXJDb2xvci5nID0gZyB8fCAwO1xuXHRcdHRoaXMuX2NsZWFyQ29sb3IuYiA9IGIgfHwgMDtcblx0XHR0aGlzLl9jbGVhckNvbG9yLmEgPSBhIHx8IDA7XG5cblx0XHRpZiAoIXRoaXMuX3dlYkdMQ29udGV4dCkgeyByZXR1cm47IH1cblx0XHR0aGlzLl93ZWJHTENvbnRleHQuY2xlYXJDb2xvcih0aGlzLl9jbGVhckNvbG9yLnIsIHRoaXMuX2NsZWFyQ29sb3IuZywgdGhpcy5fY2xlYXJDb2xvci5iLCB0aGlzLl9jbGVhckNvbG9yLmEpO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBkb2NjZWQgaW4gc3ViY2xhc3Ncblx0ICovXG5cdHAudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG5cdFx0cmV0dXJuIFwiW1N0YWdlR0wgKG5hbWU9XCIrICB0aGlzLm5hbWUgK1wiKV1cIjtcblx0fTtcblxuLy8gcHJpdmF0ZSBtZXRob2RzOlxuXHQvKipcblx0ICogU2V0cyB1cCBhbmQgcmV0dXJucyB0aGUgV2ViR0wgY29udGV4dCBmb3IgdGhlIGNhbnZhcy4gTWF5IHJldHVybiB1bmRlZmluZWQgaW4gZXJyb3Igc2NlbmFyaW9zLiBUaGVzZSBjYW4gaW5jbHVkZSBcblx0ICogc2l0dWF0aW9ucyB3aGVyZSB0aGUgY2FudmFzIGVsZW1lbnQgYWxyZWFkeSBoYXMgYSBjb250ZXh0LCAyRCBvciBHTC5cblx0ICogQHBhcmFtICB7Q2FudmFzfSBjYW52YXMgVGhlIERPTSBjYW52YXMgZWxlbWVudCB0byBhdHRhY2ggdG9cblx0ICogQHBhcmFtICB7T2JqZWN0fSBvcHRpb25zIFRoZSBvcHRpb25zIHRvIGJlIGhhbmRlZCBpbnRvIHRoZSBXZWJHTCBvYmplY3QsIHNlZSBXZWJHTCBzcGVjXG5cdCAqIEBtZXRob2QgX2ZldGNoV2ViR0xDb250ZXh0XG5cdCAqIEBwcm90ZWN0ZWRcblx0ICogQHJldHVybiB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBUaGUgV2ViR0wgY29udGV4dCwgbWF5IHJldHVybiB1bmRlZmluZWQgaW4gZXJyb3Igc2NlbmFyaW9zXG5cdCAqL1xuXHRwLl9mZXRjaFdlYkdMQ29udGV4dCA9IGZ1bmN0aW9uIChjYW52YXMsIG9wdGlvbnMpIHtcblx0XHR2YXIgZ2w7XG5cblx0XHR0cnkge1xuXHRcdFx0Z2wgPSBjYW52YXMuZ2V0Q29udGV4dChcIndlYmdsXCIsIG9wdGlvbnMpIHx8IGNhbnZhcy5nZXRDb250ZXh0KFwiZXhwZXJpbWVudGFsLXdlYmdsXCIsIG9wdGlvbnMpO1xuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdC8vIGRvbid0IGRvIGFueXRoaW5nIGluIGNhdGNoLCBudWxsIGNoZWNrIHdpbGwgaGFuZGxlIGl0XG5cdFx0fVxuXG5cdFx0aWYgKCFnbCkge1xuXHRcdFx0dmFyIG1zZyA9IFwiQ291bGQgbm90IGluaXRpYWxpemUgV2ViR0xcIjtcblx0XHRcdGNvbnNvbGUuZXJyb3I/Y29uc29sZS5lcnJvcihtc2cpOmNvbnNvbGUubG9nKG1zZyk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGdsLnZpZXdwb3J0V2lkdGggPSBjYW52YXMud2lkdGg7XG5cdFx0XHRnbC52aWV3cG9ydEhlaWdodCA9IGNhbnZhcy5oZWlnaHQ7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGdsO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBDcmVhdGUgdGhlIGNvbXBsZXRlZCBTaGFkZXIgUHJvZ3JhbSBmcm9tIHRoZSB2ZXJ0ZXggYW5kIGZyYWdtZW50IHNoYWRlcnMuIEFsbG93cyBidWlsZGluZyBvZiBjdXN0b20gc2hhZGVycyBmb3Jcblx0ICogZmlsdGVycy4gT25jZSBjb21waWxlZCwgc2hhZGVycyBhcmUgc2F2ZWQgc28uIElmIHRoZSBTaGFkZXIgY29kZSByZXF1aXJlcyBkeW5hbWljIGFsdGVyYXRpb25zIHJlLXJ1biB0aGlzIGZ1bmN0aW9uXG5cdCAqIHRvIGdlbmVyYXRlIGEgbmV3IHNoYWRlci5cblx0ICogQG1ldGhvZCBfZmV0Y2hTaGFkZXJQcm9ncmFtXG5cdCAqIEBwYXJhbSAge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgVGhlIGNhbnZhcyBXZWJHTCBjb250ZXh0IG9iamVjdCB0byBkcmF3IGludG8uXG5cdCAqIEBwYXJhbSAge1N0cmluZ30gW3NoYWRlck5hbWU9XCJyZWd1bGFyXCJdIFdvcmtpbmcgdmFsdWVzOiBcInJlZ3VsYXJcIiwgXCJvdmVycmlkZVwiLCBhbmQgXCJmaWx0ZXJcIi4gV2hpY2ggdHlwZSBvZiBzaGFkZXIgdG8gYnVpbGQuXG5cdCAqIEZpbHRlciBhbmQgb3ZlcnJpZGUgYm90aCBhY2NlcHQgdGhlIGN1c3RvbSBwYXJhbXMuIFJlZ3VsYXIgYW5kIG92ZXJyaWRlIGhhdmUgYWxsIGZlYXR1cmVzLiBGaWx0ZXIgaXMgYSBzcGVjaWFsIGNhc2UgcmVkdWNlZCBmZWF0dXJlIHNoYWRlciBtZWFudCB0byBiZSBvdmVyLXJpZGRlbi5cblx0ICogQHBhcmFtICB7U3RyaW5nfSBbY3VzdG9tVlRYXSBFeHRyYSB2ZXJ0ZXggc2hhZGVyIGluZm9ybWF0aW9uIHRvIHJlcGxhY2UgYSByZWd1bGFyIGRyYXcsIHNlZSBcblx0ICoge3sjY3Jvc3NMaW5rIFwiU3RhZ2VHTC9DT1ZFUl9WRVJURVhfQk9EWVwifX17ey9jcm9zc0xpbmt9fSBmb3IgZGVmYXVsdCBhbmQge3sjY3Jvc3NMaW5rIFwiRmlsdGVyXCJ9fXt7L2Nyb3NzTGlua319IGZvciBleGFtcGxlcy5cblx0ICogQHBhcmFtICB7U3RyaW5nfSBbY3VzdG9tRlJBR10gRXh0cmEgZnJhZ21lbnQgc2hhZGVyIGluZm9ybWF0aW9uIHRvIHJlcGxhY2UgYSByZWd1bGFyIGRyYXcsIHNlZSBcblx0ICoge3sjY3Jvc3NMaW5rIFwiU3RhZ2VHTC9DT1ZFUl9GUkFHTUVOVF9CT0RZXCJ9fXt7L2Nyb3NzTGlua319IGZvciBkZWZhdWx0IGFuZCB7eyNjcm9zc0xpbmsgXCJGaWx0ZXJcIn19e3svY3Jvc3NMaW5rfX0gZm9yIGV4YW1wbGVzLlxuXHQgKiBAcGFyYW0gIHtGdW5jdGlvbn0gW3NoYWRlclBhcmFtU2V0dXBdIEZ1bmN0aW9uIHRvIHJ1biBzbyBjdXN0b20gc2hhZGVyIHBhcmFtZXRlcnMgY2FuIGdldCBhcHBsaWVkIGZvciB0aGUgcmVuZGVyLlxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqIEByZXR1cm4ge1dlYkdMUHJvZ3JhbX0gVGhlIGNvbXBpbGVkIGFuZCBsaW5rZWQgc2hhZGVyXG5cdCAqL1xuXHRwLl9mZXRjaFNoYWRlclByb2dyYW0gPSBmdW5jdGlvbiAoZ2wsIHNoYWRlck5hbWUsIGN1c3RvbVZUWCwgY3VzdG9tRlJBRywgc2hhZGVyUGFyYW1TZXR1cCkge1xuXHRcdGdsLnVzZVByb2dyYW0obnVsbCk7XHRcdC8vIHNhZmV0eSB0byBhdm9pZCBjb2xsaXNpb25zXG5cblx0XHQvLyBidWlsZCB0aGUgY29ycmVjdCBzaGFkZXIgc3RyaW5nIG91dCBvZiB0aGUgcmlnaHQgaGVhZGVycyBhbmQgYm9kaWVzXG5cdFx0dmFyIHRhcmdldEZyYWcsIHRhcmdldFZ0eDtcblx0XHRzd2l0Y2ggKHNoYWRlck5hbWUpIHtcblx0XHRcdGNhc2UgXCJmaWx0ZXJcIjpcblx0XHRcdFx0dGFyZ2V0VnR4ID0gU3RhZ2VHTC5DT1ZFUl9WRVJURVhfSEVBREVSICsgKGN1c3RvbVZUWCB8fCBTdGFnZUdMLkNPVkVSX1ZFUlRFWF9CT0RZKTtcblx0XHRcdFx0dGFyZ2V0RnJhZyA9IFN0YWdlR0wuQ09WRVJfRlJBR01FTlRfSEVBREVSICsgKGN1c3RvbUZSQUcgfHwgU3RhZ2VHTC5DT1ZFUl9GUkFHTUVOVF9CT0RZKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlIFwicGFydGljbGVcIjogLy9UT0RPXG5cdFx0XHRcdHRhcmdldFZ0eCA9IFN0YWdlR0wuUkVHVUxBUl9WRVJURVhfSEVBREVSICsgU3RhZ2VHTC5QQVJUSUNMRV9WRVJURVhfQk9EWTtcblx0XHRcdFx0dGFyZ2V0RnJhZyA9IFN0YWdlR0wuUkVHVUxBUl9GUkFHTUVOVF9IRUFERVIgKyBTdGFnZUdMLlBBUlRJQ0xFX0ZSQUdNRU5UX0JPRFk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSBcIm92ZXJyaWRlXCI6XG5cdFx0XHRcdHRhcmdldFZ0eCA9IFN0YWdlR0wuUkVHVUxBUl9WRVJURVhfSEVBREVSICsgKGN1c3RvbVZUWCB8fCBTdGFnZUdMLlJFR1VMQVJfVkVSVEVYX0JPRFkpO1xuXHRcdFx0XHR0YXJnZXRGcmFnID0gU3RhZ2VHTC5SRUdVTEFSX0ZSQUdNRU5UX0hFQURFUiArIChjdXN0b21GUkFHIHx8IFN0YWdlR0wuUkVHVUxBUl9GUkFHTUVOVF9CT0RZKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlIFwicmVndWxhclwiOlxuXHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0dGFyZ2V0VnR4ID0gU3RhZ2VHTC5SRUdVTEFSX1ZFUlRFWF9IRUFERVIgKyBTdGFnZUdMLlJFR1VMQVJfVkVSVEVYX0JPRFk7XG5cdFx0XHRcdHRhcmdldEZyYWcgPSBTdGFnZUdMLlJFR1VMQVJfRlJBR01FTlRfSEVBREVSICsgU3RhZ2VHTC5SRUdVTEFSX0ZSQUdNRU5UX0JPRFk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdH1cblxuXHRcdC8vIGNyZWF0ZSB0aGUgc2VwYXJhdGUgdmFyc1xuXHRcdHZhciB2ZXJ0ZXhTaGFkZXIgPSB0aGlzLl9jcmVhdGVTaGFkZXIoZ2wsIGdsLlZFUlRFWF9TSEFERVIsIHRhcmdldFZ0eCk7XG5cdFx0dmFyIGZyYWdtZW50U2hhZGVyID0gdGhpcy5fY3JlYXRlU2hhZGVyKGdsLCBnbC5GUkFHTUVOVF9TSEFERVIsIHRhcmdldEZyYWcpO1xuXG5cdFx0Ly8gbGluayB0aGVtIHRvZ2V0aGVyXG5cdFx0dmFyIHNoYWRlclByb2dyYW0gPSBnbC5jcmVhdGVQcm9ncmFtKCk7XG5cdFx0Z2wuYXR0YWNoU2hhZGVyKHNoYWRlclByb2dyYW0sIHZlcnRleFNoYWRlcik7XG5cdFx0Z2wuYXR0YWNoU2hhZGVyKHNoYWRlclByb2dyYW0sIGZyYWdtZW50U2hhZGVyKTtcblx0XHRnbC5saW5rUHJvZ3JhbShzaGFkZXJQcm9ncmFtKTtcblx0XHRzaGFkZXJQcm9ncmFtLl90eXBlID0gc2hhZGVyTmFtZTtcblxuXHRcdC8vIGNoZWNrIGNvbXBpbGUgc3RhdHVzXG5cdFx0aWYgKCFnbC5nZXRQcm9ncmFtUGFyYW1ldGVyKHNoYWRlclByb2dyYW0sIGdsLkxJTktfU1RBVFVTKSkge1xuXHRcdFx0Z2wudXNlUHJvZ3JhbSh0aGlzLl9hY3RpdmVTaGFkZXIpO1xuXHRcdFx0dGhyb3cgZ2wuZ2V0UHJvZ3JhbUluZm9Mb2coc2hhZGVyUHJvZ3JhbSk7XG5cdFx0fVxuXG5cdFx0Ly8gc2V0IHVwIHRoZSBwYXJhbWV0ZXJzIG9uIHRoZSBzaGFkZXJcblx0XHRnbC51c2VQcm9ncmFtKHNoYWRlclByb2dyYW0pO1xuXHRcdHN3aXRjaCAoc2hhZGVyTmFtZSkge1xuXHRcdFx0Y2FzZSBcImZpbHRlclwiOlxuXHRcdFx0XHQvLyBnZXQgdGhlIHBsYWNlcyBpbiBtZW1vcnkgdGhlIHNoYWRlciBpcyBzdG9yZWQgc28gd2UgY2FuIGZlZWQgaW5mb3JtYXRpb24gaW50byB0aGVtXG5cdFx0XHRcdC8vIHRoZW4gc2F2ZSBpdCBvZmYgb24gdGhlIHNoYWRlciBiZWNhdXNlIGl0J3Mgc28gdGllZCB0byB0aGUgc2hhZGVyIGl0c2VsZlxuXHRcdFx0XHRzaGFkZXJQcm9ncmFtLnZlcnRleFBvc2l0aW9uQXR0cmlidXRlID0gZ2wuZ2V0QXR0cmliTG9jYXRpb24oc2hhZGVyUHJvZ3JhbSwgXCJ2ZXJ0ZXhQb3NpdGlvblwiKTtcblx0XHRcdFx0Z2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoc2hhZGVyUHJvZ3JhbS52ZXJ0ZXhQb3NpdGlvbkF0dHJpYnV0ZSk7XG5cblx0XHRcdFx0c2hhZGVyUHJvZ3JhbS51dlBvc2l0aW9uQXR0cmlidXRlID0gZ2wuZ2V0QXR0cmliTG9jYXRpb24oc2hhZGVyUHJvZ3JhbSwgXCJ1dlBvc2l0aW9uXCIpO1xuXHRcdFx0XHRnbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShzaGFkZXJQcm9ncmFtLnV2UG9zaXRpb25BdHRyaWJ1dGUpO1xuXG5cdFx0XHRcdHNoYWRlclByb2dyYW0uc2FtcGxlclVuaWZvcm0gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24oc2hhZGVyUHJvZ3JhbSwgXCJ1U2FtcGxlclwiKTtcblx0XHRcdFx0Z2wudW5pZm9ybTFpKHNoYWRlclByb2dyYW0uc2FtcGxlclVuaWZvcm0sIDApO1xuXG5cdFx0XHRcdHNoYWRlclByb2dyYW0udXByaWdodFVuaWZvcm0gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24oc2hhZGVyUHJvZ3JhbSwgXCJ1VXByaWdodFwiKTtcblx0XHRcdFx0Z2wudW5pZm9ybTFmKHNoYWRlclByb2dyYW0udXByaWdodFVuaWZvcm0sIDApO1xuXG5cdFx0XHRcdC8vIGlmIHRoZXJlJ3Mgc29tZSBjdXN0b20gYXR0cmlidXRlcyBiZSBzdXJlIHRvIGhvb2sgdGhlbSB1cFxuXHRcdFx0XHRpZiAoc2hhZGVyUGFyYW1TZXR1cCkge1xuXHRcdFx0XHRcdHNoYWRlclBhcmFtU2V0dXAoZ2wsIHRoaXMsIHNoYWRlclByb2dyYW0pO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSBcIm92ZXJyaWRlXCI6XG5cdFx0XHRjYXNlIFwicGFydGljbGVcIjpcblx0XHRcdGNhc2UgXCJyZWd1bGFyXCI6XG5cdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHQvLyBnZXQgdGhlIHBsYWNlcyBpbiBtZW1vcnkgdGhlIHNoYWRlciBpcyBzdG9yZWQgc28gd2UgY2FuIGZlZWQgaW5mb3JtYXRpb24gaW50byB0aGVtXG5cdFx0XHRcdC8vIHRoZW4gc2F2ZSBpdCBvZmYgb24gdGhlIHNoYWRlciBiZWNhdXNlIGl0J3Mgc28gdGllZCB0byB0aGUgc2hhZGVyIGl0c2VsZlxuXHRcdFx0XHRzaGFkZXJQcm9ncmFtLnZlcnRleFBvc2l0aW9uQXR0cmlidXRlID0gZ2wuZ2V0QXR0cmliTG9jYXRpb24oc2hhZGVyUHJvZ3JhbSwgXCJ2ZXJ0ZXhQb3NpdGlvblwiKTtcblx0XHRcdFx0Z2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoc2hhZGVyUHJvZ3JhbS52ZXJ0ZXhQb3NpdGlvbkF0dHJpYnV0ZSk7XG5cblx0XHRcdFx0c2hhZGVyUHJvZ3JhbS51dlBvc2l0aW9uQXR0cmlidXRlID0gZ2wuZ2V0QXR0cmliTG9jYXRpb24oc2hhZGVyUHJvZ3JhbSwgXCJ1dlBvc2l0aW9uXCIpO1xuXHRcdFx0XHRnbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShzaGFkZXJQcm9ncmFtLnV2UG9zaXRpb25BdHRyaWJ1dGUpO1xuXG5cdFx0XHRcdHNoYWRlclByb2dyYW0udGV4dHVyZUluZGV4QXR0cmlidXRlID0gZ2wuZ2V0QXR0cmliTG9jYXRpb24oc2hhZGVyUHJvZ3JhbSwgXCJ0ZXh0dXJlSW5kZXhcIik7XG5cdFx0XHRcdGdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KHNoYWRlclByb2dyYW0udGV4dHVyZUluZGV4QXR0cmlidXRlKTtcblxuXHRcdFx0XHRzaGFkZXJQcm9ncmFtLmFscGhhQXR0cmlidXRlID0gZ2wuZ2V0QXR0cmliTG9jYXRpb24oc2hhZGVyUHJvZ3JhbSwgXCJvYmplY3RBbHBoYVwiKTtcblx0XHRcdFx0Z2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoc2hhZGVyUHJvZ3JhbS5hbHBoYUF0dHJpYnV0ZSk7XG5cblx0XHRcdFx0dmFyIHNhbXBsZXJzID0gW107XG5cdFx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5fYmF0Y2hUZXh0dXJlQ291bnQ7IGkrKykge1xuXHRcdFx0XHRcdHNhbXBsZXJzW2ldID0gaTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHNoYWRlclByb2dyYW0uc2FtcGxlckRhdGEgPSBzYW1wbGVycztcblx0XHRcdFx0c2hhZGVyUHJvZ3JhbS5zYW1wbGVyVW5pZm9ybSA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihzaGFkZXJQcm9ncmFtLCBcInVTYW1wbGVyXCIpO1xuXHRcdFx0XHRnbC51bmlmb3JtMWl2KHNoYWRlclByb2dyYW0uc2FtcGxlclVuaWZvcm0sIHNhbXBsZXJzKTtcblxuXHRcdFx0XHRzaGFkZXJQcm9ncmFtLnBNYXRyaXhVbmlmb3JtID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHNoYWRlclByb2dyYW0sIFwicE1hdHJpeFwiKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0fVxuXG5cdFx0Z2wudXNlUHJvZ3JhbSh0aGlzLl9hY3RpdmVTaGFkZXIpO1xuXHRcdHJldHVybiBzaGFkZXJQcm9ncmFtO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBDcmVhdGVzIGEgc2hhZGVyIGZyb20gdGhlIHNwZWNpZmllZCBzdHJpbmcgcmVwbGFjaW5nIHRlbXBsYXRlcy4gVGVtcGxhdGUgaXRlbXMgYXJlIGRlZmluZWQgdmlhIGB7e2AgYGtleWAgYH19YGAuXG5cdCAqIEBtZXRob2QgX2NyZWF0ZVNoYWRlclxuXHQgKiBAcGFyYW0gIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIFRoZSBjYW52YXMgV2ViR0wgY29udGV4dCBvYmplY3QgdG8gZHJhdyBpbnRvLlxuXHQgKiBAcGFyYW0gIHtOdW1iZXJ9IHR5cGUgVGhlIHR5cGUgb2Ygc2hhZGVyIHRvIGNyZWF0ZS4gZ2wuVkVSVEVYX1NIQURFUiB8IGdsLkZSQUdNRU5UX1NIQURFUlxuXHQgKiBAcGFyYW0gIHtTdHJpbmd9IHN0ciBUaGUgZGVmaW5pdGlvbiBmb3IgdGhlIHNoYWRlci5cblx0ICogQHJldHVybiB7V2ViR0xTaGFkZXJ9XG5cdCAqIEBwcm90ZWN0ZWRcblx0ICovXG5cdHAuX2NyZWF0ZVNoYWRlciA9IGZ1bmN0aW9uIChnbCwgdHlwZSwgc3RyKSB7XG5cdFx0Ly8gaW5qZWN0IHRoZSBzdGF0aWMgbnVtYmVyXG5cdFx0c3RyID0gc3RyLnJlcGxhY2UoL3t7Y291bnR9fS9nLCB0aGlzLl9iYXRjaFRleHR1cmVDb3VudCk7XG5cblx0XHQvLyByZXNvbHZlIGlzc3VlIHdpdGggbm8gZHluYW1pYyBzYW1wbGVycyBieSBjcmVhdGluZyBjb3JyZWN0IHNhbXBsZXJzIGluIGlmIGVsc2UgY2hhaW5cblx0XHQvLyBUT0RPOiBXZWJHTCAyLjAgZG9lcyBub3QgbmVlZCB0aGlzIHN1cHBvcnRcblx0XHR2YXIgaW5zZXJ0ID0gXCJcIjtcblx0XHRmb3IgKHZhciBpID0gMTsgaTx0aGlzLl9iYXRjaFRleHR1cmVDb3VudDsgaSsrKSB7XG5cdFx0XHRpbnNlcnQgKz0gXCJ9IGVsc2UgaWYgKGluZGV4UGlja2VyIDw9IFwiKyBpICtcIi41KSB7IGNvbG9yID0gdGV4dHVyZTJEKHVTYW1wbGVyW1wiKyBpICtcIl0sIHZUZXh0dXJlQ29vcmQpO1wiO1xuXHRcdH1cblx0XHRzdHIgPSBzdHIucmVwbGFjZSgve3thbHRlcm5hdGVzfX0vZywgaW5zZXJ0KTtcblx0XHRzdHIgPSBzdHIucmVwbGFjZSgve3tmcmFnQ29sb3J9fS9nLCB0aGlzLl9wcmVtdWx0aXBseSA/IFN0YWdlR0wuUkVHVUxBUl9GUkFHX0NPTE9SX1BSRU1VTFRJUExZIDogU3RhZ2VHTC5SRUdVTEFSX0ZSQUdfQ09MT1JfTk9STUFMKTtcblxuXHRcdC8vIGFjdHVhbGx5IGNvbXBpbGUgdGhlIHNoYWRlclxuXHRcdHZhciBzaGFkZXIgPSBnbC5jcmVhdGVTaGFkZXIodHlwZSk7XG5cdFx0Z2wuc2hhZGVyU291cmNlKHNoYWRlciwgc3RyKTtcblx0XHRnbC5jb21waWxlU2hhZGVyKHNoYWRlcik7XG5cblx0XHQvLyBjaGVjayBjb21waWxlIHN0YXR1c1xuXHRcdGlmICghZ2wuZ2V0U2hhZGVyUGFyYW1ldGVyKHNoYWRlciwgZ2wuQ09NUElMRV9TVEFUVVMpKSB7XG5cdFx0XHR0aHJvdyBnbC5nZXRTaGFkZXJJbmZvTG9nKHNoYWRlcik7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHNoYWRlcjtcblx0fTtcblxuXHQvKipcblx0ICogU2V0cyB1cCB0aGUgbmVjZXNzYXJ5IHZlcnRleCBwcm9wZXJ0eSBidWZmZXJzLCBpbmNsdWRpbmcgcG9zaXRpb24gYW5kIFUvVi5cblx0ICogQG1ldGhvZCBfY3JlYXRlQnVmZmVyc1xuXHQgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2xcblx0ICogQHByb3RlY3RlZFxuXHQgKi9cblx0cC5fY3JlYXRlQnVmZmVycyA9IGZ1bmN0aW9uIChnbCkge1xuXHRcdHZhciBncm91cENvdW50ID0gdGhpcy5fbWF4Q2FyZHNQZXJCYXRjaCAqIFN0YWdlR0wuSU5ESUNJRVNfUEVSX0NBUkQ7XG5cdFx0dmFyIGdyb3VwU2l6ZSwgaSwgbDtcblxuXHRcdC8vIElORk86XG5cdFx0Ly8gYWxsIGJ1ZmZlcnMgYXJlIGNyZWF0ZWQgdXNpbmcgdGhpcyBwYXR0ZXJuXG5cdFx0Ly8gY3JlYXRlIGEgV2ViR0wgYnVmZmVyXG5cdFx0Ly8gYXR0YWNoIGl0IHRvIGNvbnRleHRcblx0XHQvLyBmaWd1cmUgb3V0IGhvdyBtYW55IHBhcnRzIGl0IGhhcyB0byBhbiBlbnRyeVxuXHRcdC8vIGZpbGwgaXQgd2l0aCBlbXB0eSBkYXRhIHRvIHJlc2VydmUgdGhlIG1lbW9yeVxuXHRcdC8vIGF0dGFjaCB0aGUgZW1wdHkgZGF0YSB0byB0aGUgR1BVXG5cdFx0Ly8gdHJhY2sgdGhlIHNpemVzIG9uIHRoZSBidWZmZXIgb2JqZWN0XG5cblx0XHQvLyBJTkZPOlxuXHRcdC8vIGEgc2luZ2xlIGJ1ZmZlciBtYXkgYmUgb3B0aW1hbCBpbiBzb21lIHNpdHVhdGlvbnMgYW5kIHdvdWxkIGJlIGFwcHJvYWNoZWQgbGlrZSB0aGlzLFxuXHRcdC8vIGN1cnJlbnRseSBub3QgaW1wbGVtZW50ZWQgZHVlIHRvIGxhY2sgb2YgbmVlZCBhbmQgcG90ZW50aWFsIGNvbXBsaWNhdGlvbnMgd2l0aCBkcmF3Q292ZXJcblxuXHRcdC8vIHZhciB2ZXJ0ZXhCdWZmZXIgPSB0aGlzLl92ZXJ0ZXhCdWZmZXIgPSBnbC5jcmVhdGVCdWZmZXIoKTtcblx0XHQvLyBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgdmVydGV4QnVmZmVyKTtcblx0XHQvLyBncm91cFNpemUgPSAyICsgMiArIDEgKyAxOyAvL3gveSwgdS92LCBpbmRleCwgYWxwaGFcblx0XHQvLyB2YXIgdmVydGV4RGF0YSA9IHRoaXMuX3ZlcnRleERhdGEgPSBuZXcgRmxvYXQzMkFycmF5KGdyb3VwQ291bnQgKiBncm91cFNpemUpO1xuXHRcdC8vIGZvciAoaT0wOyBpPHZlcnRleERhdGEubGVuZ3RoOyBpKz1ncm91cFNpemUpIHtcblx0XHQvLyBcdHZlcnRleERhdGFbaSswXSA9IHZlcnRleERhdGFbaSsxXSA9IDA7XG5cdFx0Ly8gXHR2ZXJ0ZXhEYXRhW2krMl0gPSB2ZXJ0ZXhEYXRhW2krM10gPSAwLjU7XG5cdFx0Ly8gXHR2ZXJ0ZXhEYXRhW2krNF0gPSAwO1xuXHRcdC8vIFx0dmVydGV4RGF0YVtpKzVdID0gMTtcblx0XHQvLyB9XG5cdFx0Ly8gdmVydGV4QnVmZmVyLml0ZW1TaXplID0gZ3JvdXBTaXplO1xuXHRcdC8vIHZlcnRleEJ1ZmZlci5udW1JdGVtcyA9IGdyb3VwQ291bnQ7XG5cdFx0Ly8gVE9ETyBiZWNobWFyayBhbmQgdGVzdCB1c2luZyB1bmlmaWVkIGJ1ZmZlclxuXG5cdFx0Ly8gdGhlIGFjdHVhbCBwb3NpdGlvbiBpbmZvcm1hdGlvblxuXHRcdHZhciB2ZXJ0ZXhQb3NpdGlvbkJ1ZmZlciA9IHRoaXMuX3ZlcnRleFBvc2l0aW9uQnVmZmVyID0gZ2wuY3JlYXRlQnVmZmVyKCk7XG5cdFx0Z2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHZlcnRleFBvc2l0aW9uQnVmZmVyKTtcblx0XHRncm91cFNpemUgPSAyO1xuXHRcdHZhciB2ZXJ0aWNlcyA9IHRoaXMuX3ZlcnRpY2VzID0gbmV3IEZsb2F0MzJBcnJheShncm91cENvdW50ICogZ3JvdXBTaXplKTtcblx0XHRmb3IgKGk9MCwgbD12ZXJ0aWNlcy5sZW5ndGg7IGk8bDsgaSs9Z3JvdXBTaXplKSB7IHZlcnRpY2VzW2ldID0gdmVydGljZXNbaSsxXSA9IDA7IH1cblx0XHRnbC5idWZmZXJEYXRhKGdsLkFSUkFZX0JVRkZFUiwgdmVydGljZXMsIGdsLkRZTkFNSUNfRFJBVyk7XG5cdFx0dmVydGV4UG9zaXRpb25CdWZmZXIuaXRlbVNpemUgPSBncm91cFNpemU7XG5cdFx0dmVydGV4UG9zaXRpb25CdWZmZXIubnVtSXRlbXMgPSBncm91cENvdW50O1xuXG5cdFx0Ly8gd2hlcmUgb24gdGhlIHRleHR1cmUgaXQgZ2V0cyBpdHMgaW5mb3JtYXRpb25cblx0XHR2YXIgdXZQb3NpdGlvbkJ1ZmZlciA9IHRoaXMuX3V2UG9zaXRpb25CdWZmZXIgPSBnbC5jcmVhdGVCdWZmZXIoKTtcblx0XHRnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgdXZQb3NpdGlvbkJ1ZmZlcik7XG5cdFx0Z3JvdXBTaXplID0gMjtcblx0XHR2YXIgdXZzID0gdGhpcy5fdXZzID0gbmV3IEZsb2F0MzJBcnJheShncm91cENvdW50ICogZ3JvdXBTaXplKTtcblx0XHRmb3IgKGk9MCwgbD11dnMubGVuZ3RoOyBpPGw7IGkrPWdyb3VwU2l6ZSkgeyB1dnNbaV0gPSB1dnNbaSsxXSA9IDA7IH1cblx0XHRnbC5idWZmZXJEYXRhKGdsLkFSUkFZX0JVRkZFUiwgdXZzLCBnbC5EWU5BTUlDX0RSQVcpO1xuXHRcdHV2UG9zaXRpb25CdWZmZXIuaXRlbVNpemUgPSBncm91cFNpemU7XG5cdFx0dXZQb3NpdGlvbkJ1ZmZlci5udW1JdGVtcyA9IGdyb3VwQ291bnQ7XG5cblx0XHQvLyB3aGF0IHRleHR1cmUgaXQgc2hvdWxkIHVzZVxuXHRcdHZhciB0ZXh0dXJlSW5kZXhCdWZmZXIgPSB0aGlzLl90ZXh0dXJlSW5kZXhCdWZmZXIgPSBnbC5jcmVhdGVCdWZmZXIoKTtcblx0XHRnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgdGV4dHVyZUluZGV4QnVmZmVyKTtcblx0XHRncm91cFNpemUgPSAxO1xuXHRcdHZhciBpbmRpY2VzID0gdGhpcy5faW5kaWNlcyA9IG5ldyBGbG9hdDMyQXJyYXkoZ3JvdXBDb3VudCAqIGdyb3VwU2l6ZSk7XG5cdFx0Zm9yIChpPTAsIGw9aW5kaWNlcy5sZW5ndGg7IGk8bDsgaSsrKSB7IGluZGljZXNbaV0gPSAwOyB9XG5cdFx0Z2wuYnVmZmVyRGF0YShnbC5BUlJBWV9CVUZGRVIsIGluZGljZXMsIGdsLkRZTkFNSUNfRFJBVyk7XG5cdFx0dGV4dHVyZUluZGV4QnVmZmVyLml0ZW1TaXplID0gZ3JvdXBTaXplO1xuXHRcdHRleHR1cmVJbmRleEJ1ZmZlci5udW1JdGVtcyA9IGdyb3VwQ291bnQ7XG5cblx0XHQvLyB3aGF0IGFscGhhIGl0IHNob3VsZCBoYXZlXG5cdFx0dmFyIGFscGhhQnVmZmVyID0gdGhpcy5fYWxwaGFCdWZmZXIgPSBnbC5jcmVhdGVCdWZmZXIoKTtcblx0XHRnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgYWxwaGFCdWZmZXIpO1xuXHRcdGdyb3VwU2l6ZSA9IDE7XG5cdFx0dmFyIGFscGhhcyA9IHRoaXMuX2FscGhhcyA9IG5ldyBGbG9hdDMyQXJyYXkoZ3JvdXBDb3VudCAqIGdyb3VwU2l6ZSk7XG5cdFx0Zm9yIChpPTAsIGw9YWxwaGFzLmxlbmd0aDsgaTxsOyBpKyspIHsgYWxwaGFzW2ldID0gMTsgfVxuXHRcdGdsLmJ1ZmZlckRhdGEoZ2wuQVJSQVlfQlVGRkVSLCBhbHBoYXMsIGdsLkRZTkFNSUNfRFJBVyk7XG5cdFx0YWxwaGFCdWZmZXIuaXRlbVNpemUgPSBncm91cFNpemU7XG5cdFx0YWxwaGFCdWZmZXIubnVtSXRlbXMgPSBncm91cENvdW50O1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBEbyBhbGwgdGhlIHNldHVwIHN0ZXBzIGZvciB0ZXh0dXJlcyBpbiB0aGUgc3lzdGVtLlxuXHQgKiBAbWV0aG9kIF9pbml0VGV4dHVyZXNcblx0ICogQHByb3RlY3RlZFxuXHQgKi9cblx0cC5faW5pdFRleHR1cmVzID0gZnVuY3Rpb24gKCkge1xuXHRcdC8vVE9ETzogREhHOiBhZGQgYSBjbGVhbnVwIHJvdXRpbmUgaW4gaGVyZSBpbiBjYXNlIHRoaXMgaGFwcGVucyBtaWQgc3RyZWFtXG5cblx0XHQvLyByZXNldCBjb3VudGVyc1xuXHRcdHRoaXMuX2xhc3RUZXh0dXJlSW5zZXJ0ID0gLTE7XG5cblx0XHQvLyBjbGVhciBjb250YWluZXJzXG5cdFx0dGhpcy5fdGV4dHVyZURpY3Rpb25hcnkgPSBbXTtcblx0XHR0aGlzLl90ZXh0dXJlSURzID0ge307XG5cdFx0dGhpcy5fYmFzZVRleHR1cmVzID0gW107XG5cdFx0dGhpcy5fYmF0Y2hUZXh0dXJlcyA9IFtdO1xuXG5cdFx0Ly8gZmlsbCBpbiBibGFua3MgYXMgaXQgaGVscHMgdGhlIHJlbmRlcmVyIGJlIHN0YWJsZSB3aGlsZSB0ZXh0dXJlcyBhcmUgbG9hZGluZyBhbmQgcmVkdWNlcyBuZWVkIGZvciBzYWZldHkgY29kZVxuXHRcdGZvciAodmFyIGk9MDsgaTx0aGlzLl9iYXRjaFRleHR1cmVDb3VudDtpKyspIHtcblx0XHRcdHZhciB0ZXggPSB0aGlzLmdldEJhc2VUZXh0dXJlKCk7XG5cdFx0XHR0aGlzLl9iYXNlVGV4dHVyZXNbaV0gPSB0aGlzLl9iYXRjaFRleHR1cmVzW2ldID0gdGV4O1xuXHRcdFx0aWYgKCF0ZXgpIHtcblx0XHRcdFx0dGhyb3cgXCJQcm9ibGVtcyBjcmVhdGluZyBiYXNpYyB0ZXh0dXJlcywga25vd24gY2F1c2VzIGluY2x1ZGUgdXNpbmcgdG9vIG11Y2ggVlJBTSBieSBub3QgcmVsZWFzaW5nIFdlYkdMIHRleHR1cmUgaW5zdGFuY2VzXCI7XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xuXG5cdC8qKlxuXHQgKiBMb2FkIGEgc3BlY2lmaWMgdGV4dHVyZSwgYWNjb3VudGluZyBmb3IgcG90ZW50aWFsIGRlbGF5LCBhcyBpdCBtaWdodCBub3QgYmUgcHJlbG9hZGVkLlxuXHQgKiBAbWV0aG9kIF9sb2FkVGV4dHVyZUltYWdlXG5cdCAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbFxuXHQgKiBAcGFyYW0ge0ltYWdlfSBpbWFnZSBBY3R1YWwgaW1hZ2UgdG8gYmUgbG9hZGVkXG5cdCAqIEByZXR1cm4ge1dlYkdMVGV4dHVyZX0gVGhlIHJlc3VsdGluZyBUZXh0dXJlIG9iamVjdFxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqL1xuXHRwLl9sb2FkVGV4dHVyZUltYWdlID0gZnVuY3Rpb24gKGdsLCBpbWFnZSkge1xuXHRcdHZhciBzcmMgPSBpbWFnZS5zcmM7XG5cblx0XHRpZiAoIXNyYykge1xuXHRcdFx0Ly8gb25lIHRpbWUgY2FudmFzIHByb3BlcnR5IHNldHVwXG5cdFx0XHRpbWFnZS5faXNDYW52YXMgPSB0cnVlO1xuXHRcdFx0c3JjID0gaW1hZ2Uuc3JjID0gXCJjYW52YXNfXCIgKyB0aGlzLl9sYXN0VHJhY2tlZENhbnZhcysrO1xuXHRcdH1cblxuXHRcdC8vIHB1dCB0aGUgdGV4dHVyZSBpbnRvIG91ciBzdG9yYWdlIHN5c3RlbVxuXHRcdHZhciBzdG9yZUlEID0gdGhpcy5fdGV4dHVyZUlEc1tzcmNdO1xuXHRcdGlmIChzdG9yZUlEID09PSB1bmRlZmluZWQpIHtcblx0XHRcdHN0b3JlSUQgPSB0aGlzLl90ZXh0dXJlSURzW3NyY10gPSB0aGlzLl90ZXh0dXJlRGljdGlvbmFyeS5sZW5ndGg7XG5cdFx0fVxuXHRcdGlmICh0aGlzLl90ZXh0dXJlRGljdGlvbmFyeVtzdG9yZUlEXSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHR0aGlzLl90ZXh0dXJlRGljdGlvbmFyeVtzdG9yZUlEXSA9IHRoaXMuZ2V0QmFzZVRleHR1cmUoKTtcblx0XHR9XG5cblx0XHR2YXIgdGV4dHVyZSA9IHRoaXMuX3RleHR1cmVEaWN0aW9uYXJ5W3N0b3JlSURdO1xuXG5cdFx0aWYgKHRleHR1cmUpIHtcblx0XHRcdC8vIGdldCB0ZXh0dXJlIHBhcmFtcyBhbGwgc2V0IHVwXG5cdFx0XHR0ZXh0dXJlLl9iYXRjaElEID0gdGhpcy5fYmF0Y2hJRDtcblx0XHRcdHRleHR1cmUuX3N0b3JlSUQgPSBzdG9yZUlEO1xuXHRcdFx0dGV4dHVyZS5faW1hZ2VEYXRhID0gaW1hZ2U7XG5cdFx0XHR0aGlzLl9pbnNlcnRUZXh0dXJlSW5CYXRjaChnbCwgdGV4dHVyZSk7XG5cblx0XHRcdC8vIGdldCB0aGUgZGF0YSBpbnRvIHRoZSB0ZXh0dXJlIG9yIHdhaXQgZm9yIGl0IHRvIGxvYWRcblx0XHRcdGltYWdlLl9zdG9yZUlEID0gc3RvcmVJRDtcblx0XHRcdGlmIChpbWFnZS5jb21wbGV0ZSB8fCBpbWFnZS5uYXR1cmFsV2lkdGggfHwgaW1hZ2UuX2lzQ2FudmFzKSB7XHQvLyBpcyBpdCBhbHJlYWR5IGxvYWRlZFxuXHRcdFx0XHR0aGlzLl91cGRhdGVUZXh0dXJlSW1hZ2VEYXRhKGdsLCBpbWFnZSk7XG5cdFx0XHR9IGVsc2UgIHtcblx0XHRcdFx0aW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwgdGhpcy5fdXBkYXRlVGV4dHVyZUltYWdlRGF0YS5iaW5kKHRoaXMsIGdsLCBpbWFnZSkpO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyB3ZSByZWFsbHkgcmVhbGx5IHNob3VsZCBoYXZlIGEgdGV4dHVyZSwgdHJ5IHRvIHJlY292ZXIgdGhlIGVycm9yIGJ5IHVzaW5nIGEgc2F2ZWQgZW1wdHkgdGV4dHVyZSBzbyB3ZSBkb24ndCBjcmFzaFxuXHRcdFx0dmFyIG1zZyA9IFwiUHJvYmxlbSBjcmVhdGluZyBkZXNpcmVkIHRleHR1cmUsIGtub3duIGNhdXNlcyBpbmNsdWRlIHVzaW5nIHRvbyBtdWNoIFZSQU0gYnkgbm90IHJlbGVhc2luZyBXZWJHTCB0ZXh0dXJlIGluc3RhbmNlc1wiO1xuXHRcdFx0KGNvbnNvbGUuZXJyb3IgJiYgY29uc29sZS5lcnJvcihtc2cpKSB8fCBjb25zb2xlLmxvZyhtc2cpO1xuXG5cdFx0XHR0ZXh0dXJlID0gdGhpcy5fYmFzZVRleHR1cmVzWzBdO1xuXHRcdFx0dGV4dHVyZS5fYmF0Y2hJRCA9IHRoaXMuX2JhdGNoSUQ7XG5cdFx0XHR0ZXh0dXJlLl9zdG9yZUlEID0gLTE7XG5cdFx0XHR0ZXh0dXJlLl9pbWFnZURhdGEgPSB0ZXh0dXJlO1xuXHRcdFx0dGhpcy5faW5zZXJ0VGV4dHVyZUluQmF0Y2goZ2wsIHRleHR1cmUpO1xuXHRcdH1cblxuXHRcdHJldHVybiB0ZXh0dXJlO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBOZWNlc3NhcnkgdG8gdXBsb2FkIHRoZSBhY3R1YWwgaW1hZ2UgZGF0YSB0byB0aGUgR1BVLiBXaXRob3V0IHRoaXMgdGhlIHRleHR1cmUgd2lsbCBiZSBibGFuay4gQ2FsbGVkIGF1dG9tYXRpY2FsbHlcblx0ICogaW4gbW9zdCBjYXNlcyBkdWUgdG8gbG9hZGluZyBhbmQgY2FjaGluZyBBUElzLiBGbGFnZ2luZyBhbiBpbWFnZSBzb3VyY2Ugd2l0aCBgX2ludmFsaWQgPSB0cnVlYCB3aWxsIHRyaWdnZXIgdGhpc1xuXHQgKiBuZXh0IHRpbWUgdGhlIGltYWdlIGlzIHJlbmRlcmVkLlxuXHQgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2xcblx0ICogQHBhcmFtIHtJbWFnZSB8IENhbnZhc30gaW1hZ2UgVGhlIGltYWdlIGRhdGEgdG8gYmUgdXBsb2FkZWRcblx0ICogQHByb3RlY3RlZFxuXHQgKi9cblx0cC5fdXBkYXRlVGV4dHVyZUltYWdlRGF0YSA9IGZ1bmN0aW9uIChnbCwgaW1hZ2UpIHtcblx0XHQvLyB0aGUgYml0d2lzZSAmIGlzIGludGVudGlvbmFsLCBjaGVhcCBleHBvbmVudCAyIGNoZWNrXG5cdFx0dmFyIGlzTlBPVCA9IChpbWFnZS53aWR0aCAmIGltYWdlLndpZHRoLTEpIHx8IChpbWFnZS5oZWlnaHQgJiBpbWFnZS5oZWlnaHQtMSk7XG5cdFx0dmFyIHRleHR1cmUgPSB0aGlzLl90ZXh0dXJlRGljdGlvbmFyeVtpbWFnZS5fc3RvcmVJRF07XG5cblx0XHRnbC5hY3RpdmVUZXh0dXJlKGdsLlRFWFRVUkUwICsgdGV4dHVyZS5fYWN0aXZlSW5kZXgpO1xuXHRcdGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHRleHR1cmUpO1xuXG5cdFx0dGV4dHVyZS5pc1BPVCA9ICFpc05QT1Q7XG5cdFx0dGhpcy5zZXRUZXh0dXJlUGFyYW1zKGdsLCB0ZXh0dXJlLmlzUE9UKTtcblxuXHRcdHRyeSB7XG5cdFx0XHRnbC50ZXhJbWFnZTJEKGdsLlRFWFRVUkVfMkQsIDAsIGdsLlJHQkEsIGdsLlJHQkEsIGdsLlVOU0lHTkVEX0JZVEUsIGltYWdlKTtcblx0XHR9IGNhdGNoKGUpIHtcblx0XHRcdHZhciBlcnJTdHJpbmcgPSBcIlxcbkFuIGVycm9yIGhhcyBvY2N1cnJlZC4gVGhpcyBpcyBtb3N0IGxpa2VseSBkdWUgdG8gc2VjdXJpdHkgcmVzdHJpY3Rpb25zIG9uIFdlYkdMIGltYWdlcyB3aXRoIGxvY2FsIG9yIGNyb3NzLWRvbWFpbiBvcmlnaW5zXCI7XG5cdFx0XHRpZihjb25zb2xlLmVycm9yKSB7XG5cdFx0XHRcdC8vVE9ETzogTE06IEkgcmVjb21tZW5kIHB1dHRpbmcgdGhpcyBpbnRvIGEgbG9nIGZ1bmN0aW9uIGludGVybmFsbHksIHNpbmNlIHlvdSBkbyBpdCBzbyBvZnRlbiwgYW5kIGVhY2ggaXMgaW1wbGVtZW50ZWQgZGlmZmVyZW50bHkuXG5cdFx0XHRcdGNvbnNvbGUuZXJyb3IoZXJyU3RyaW5nKTtcblx0XHRcdFx0Y29uc29sZS5lcnJvcihlKTtcblx0XHRcdH0gZWxzZSBpZiAoY29uc29sZSkge1xuXHRcdFx0XHRjb25zb2xlLmxvZyhlcnJTdHJpbmcpO1xuXHRcdFx0XHRjb25zb2xlLmxvZyhlKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRpbWFnZS5faW52YWxpZCA9IGZhbHNlO1xuXG5cdFx0dGV4dHVyZS5fdyA9IGltYWdlLndpZHRoO1xuXHRcdHRleHR1cmUuX2ggPSBpbWFnZS5oZWlnaHQ7XG5cblx0XHRpZiAodGhpcy52b2NhbERlYnVnKSB7XG5cdFx0XHRpZiAoaXNOUE9UKSB7XG5cdFx0XHRcdGNvbnNvbGUud2FybihcIk5QT1QoTm9uIFBvd2VyIG9mIFR3bykgVGV4dHVyZTogXCIrIGltYWdlLnNyYyk7XG5cdFx0XHR9XG5cdFx0XHRpZiAoaW1hZ2Uud2lkdGggPiBnbC5NQVhfVEVYVFVSRV9TSVpFIHx8IGltYWdlLmhlaWdodCA+IGdsLk1BWF9URVhUVVJFX1NJWkUpe1xuXHRcdFx0XHRjb25zb2xlICYmIGNvbnNvbGUuZXJyb3IoXCJPdmVyc2l6ZWQgVGV4dHVyZTogXCIrIGltYWdlLndpZHRoK1wieFwiK2ltYWdlLmhlaWdodCArXCIgdnMgXCIrIGdsLk1BWF9URVhUVVJFX1NJWkUgK1wibWF4XCIpO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcblxuXHQvKipcblx0ICogQWRkcyB0aGUgdGV4dHVyZSB0byBhIHNwb3QgaW4gdGhlIGN1cnJlbnQgYmF0Y2gsIGZvcmNpbmcgYSBkcmF3IGlmIG5vIHNwb3RzIGFyZSBmcmVlLlxuXHQgKiBAbWV0aG9kIF9pbnNlcnRUZXh0dXJlSW5CYXRjaFxuXHQgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgVGhlIGNhbnZhcyBXZWJHTCBjb250ZXh0IG9iamVjdCB0byBkcmF3IGludG8uXG5cdCAqIEBwYXJhbSB7V2ViR0xUZXh0dXJlfSB0ZXh0dXJlIFRoZSB0ZXh0dXJlIHRvIGJlIGluc2VydGVkLlxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqL1xuXHRwLl9pbnNlcnRUZXh0dXJlSW5CYXRjaCA9IGZ1bmN0aW9uIChnbCwgdGV4dHVyZSkge1xuXHRcdC8vIGlmIGl0IHdhc24ndCB1c2VkIGxhc3QgYmF0Y2hcblx0XHRpZiAodGhpcy5fYmF0Y2hUZXh0dXJlc1t0ZXh0dXJlLl9hY3RpdmVJbmRleF0gIT09IHRleHR1cmUpIHtcblx0XHRcdC8vIHdlJ3ZlIGdvdCB0byBmaW5kIGl0IGEgYSBzcG90LlxuXHRcdFx0dmFyIGZvdW5kID0gLTE7XG5cdFx0XHR2YXIgc3RhcnQgPSAodGhpcy5fbGFzdFRleHR1cmVJbnNlcnQrMSkgJSB0aGlzLl9iYXRjaFRleHR1cmVDb3VudDtcblx0XHRcdHZhciBsb29rID0gc3RhcnQ7XG5cdFx0XHRkbyB7XG5cdFx0XHRcdGlmICh0aGlzLl9iYXRjaFRleHR1cmVzW2xvb2tdLl9iYXRjaElEICE9IHRoaXMuX2JhdGNoSUQgJiYgIXRoaXMuX3Nsb3RCbGFja2xpc3RbbG9va10pIHtcblx0XHRcdFx0XHRmb3VuZCA9IGxvb2s7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblx0XHRcdFx0bG9vayA9IChsb29rKzEpICUgdGhpcy5fYmF0Y2hUZXh0dXJlQ291bnQ7XG5cdFx0XHR9IHdoaWxlIChsb29rICE9PSBzdGFydCk7XG5cblx0XHRcdC8vIHdlIGNvdWxkbid0IGZpbmQgYW55d2hlcmUgZm9yIGl0IGdvLCBtZWFuaW5nIHdlJ3JlIG1heGVkIG91dFxuXHRcdFx0aWYgKGZvdW5kID09PSAtMSkge1xuXHRcdFx0XHR0aGlzLmJhdGNoUmVhc29uID0gXCJ0ZXh0dXJlT3ZlcmZsb3dcIjtcblx0XHRcdFx0dGhpcy5fZHJhd0J1ZmZlcnMoZ2wpO1x0XHQvLyA8LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cdFx0XHRcdHRoaXMuYmF0Y2hDYXJkQ291bnQgPSAwO1xuXHRcdFx0XHRmb3VuZCA9IHN0YXJ0O1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBsZXRzIHB1dCBpdCBpbnRvIHRoYXQgc3BvdFxuXHRcdFx0dGhpcy5fYmF0Y2hUZXh0dXJlc1tmb3VuZF0gPSB0ZXh0dXJlO1xuXHRcdFx0dGV4dHVyZS5fYWN0aXZlSW5kZXggPSBmb3VuZDtcblx0XHRcdHZhciBpbWFnZSA9IHRleHR1cmUuX2ltYWdlRGF0YTtcblx0XHRcdGlmIChpbWFnZSAmJiBpbWFnZS5faW52YWxpZCAmJiB0ZXh0dXJlLl9kcmF3SUQgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHR0aGlzLl91cGRhdGVUZXh0dXJlSW1hZ2VEYXRhKGdsLCBpbWFnZSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRnbC5hY3RpdmVUZXh0dXJlKGdsLlRFWFRVUkUwICsgZm91bmQpO1xuXHRcdFx0XHRnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCB0ZXh0dXJlKTtcblx0XHRcdFx0dGhpcy5zZXRUZXh0dXJlUGFyYW1zKGdsKTtcblx0XHRcdH1cblx0XHRcdHRoaXMuX2xhc3RUZXh0dXJlSW5zZXJ0ID0gZm91bmQ7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHZhciBpbWFnZSA9IHRleHR1cmUuX2ltYWdlRGF0YTtcblx0XHRcdGlmICh0ZXh0dXJlLl9zdG9yZUlEICE9IHVuZGVmaW5lZCAmJiBpbWFnZSAmJiBpbWFnZS5faW52YWxpZCkge1xuXHRcdFx0XHR0aGlzLl91cGRhdGVUZXh0dXJlSW1hZ2VEYXRhKGdsLCBpbWFnZSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0dGV4dHVyZS5fZHJhd0lEID0gdGhpcy5fZHJhd0lEO1xuXHRcdHRleHR1cmUuX2JhdGNoSUQgPSB0aGlzLl9iYXRjaElEO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBSZW1vdmUgYW5kIGNsZWFuIHRoZSB0ZXh0dXJlLCBleHBlY3RzIGEgdGV4dHVyZSBhbmQgaXMgaW5mbGV4aWJsZS4gTW9zdGx5IGZvciBpbnRlcm5hbCB1c2UsIHJlY29tbWVuZGVkIHRvIGNhbGwgXG5cdCAqIHt7I2Nyb3NzTGluayBcIlN0YWdlR0wvcmVsZWFzZVRleHR1cmVcIn19e3svY3Jvc3NMaW5rfX0gaW5zdGVhZCBhcyBpdCB3aWxsIGNhbGwgdGhpcyB3aXRoIHRoZSBjb3JyZWN0IHRleHR1cmUgb2JqZWN0KHMpLlxuXHQgKiBOb3RlOiBUZXN0aW5nIHNob3dzIHRoaXMgbWF5IG5vdCBoYXBwZW4gaW1tZWRpYXRlbHksIGhhdmUgdG8gd2FpdCBmcmFtZXMgZm9yIFdlYkdMIHRvIGhhdmUgYWN0dWFsbHkgYWRqdXN0IG1lbW9yeS5cblx0ICogQG1ldGhvZCBfa2lsbFRleHR1cmVPYmplY3Rcblx0ICogQHBhcmFtIHtUZXh0dXJlfSB0ZXggVGhlIHRleHR1cmUgdG8gYmUgY2xlYW5lZCBvdXRcblx0ICogQHByb3RlY3RlZFxuXHQgKi9cblx0cC5fa2lsbFRleHR1cmVPYmplY3QgPSBmdW5jdGlvbiAodGV4KSB7XG5cdFx0aWYgKCF0ZXgpIHsgcmV0dXJuOyB9XG5cdFx0dmFyIGdsID0gdGhpcy5fd2ViR0xDb250ZXh0O1xuXG5cdFx0Ly8gcmVtb3ZlIGxpbmthZ2Vcblx0XHRpZiAodGV4Ll9zdG9yZUlEICE9PSB1bmRlZmluZWQgJiYgdGV4Ll9zdG9yZUlEID49IDApIHtcblx0XHRcdHRoaXMuX3RleHR1cmVEaWN0aW9uYXJ5W3RleC5fc3RvcmVJRF0gPSB1bmRlZmluZWQ7XG5cdFx0XHRmb3IgKHZhciBuIGluIHRoaXMuX3RleHR1cmVJRHMpIHtcblx0XHRcdFx0aWYgKHRoaXMuX3RleHR1cmVJRHNbbl0gPT0gdGV4Ll9zdG9yZUlEKSB7IGRlbGV0ZSB0aGlzLl90ZXh0dXJlSURzW25dOyB9XG5cdFx0XHR9XG5cdFx0XHRpZih0ZXguX2ltYWdlRGF0YSkgeyB0ZXguX2ltYWdlRGF0YS5fc3RvcmVJRCA9IHVuZGVmaW5lZDsgfVxuXHRcdFx0dGV4Ll9pbWFnZURhdGEgPSB0ZXguX3N0b3JlSUQgPSB1bmRlZmluZWQ7XG5cdFx0fVxuXG5cdFx0Ly8gbWFrZSBzdXJlIHRvIGRyb3AgaXQgb3V0IG9mIGFuIGFjdGl2ZSBzbG90XG5cdFx0aWYgKHRleC5fYWN0aXZlSW5kZXggIT09IHVuZGVmaW5lZCAmJiB0aGlzLl9iYXRjaFRleHR1cmVzW3RleC5fYWN0aXZlSW5kZXhdID09PSB0ZXgpIHtcblx0XHRcdHRoaXMuX2JhdGNoVGV4dHVyZXNbdGV4Ll9hY3RpdmVJbmRleF0gPSB0aGlzLl9iYXNlVGV4dHVyZXNbdGV4Ll9hY3RpdmVJbmRleF07XG5cdFx0fVxuXG5cdFx0Ly8gcmVtb3ZlIGJ1ZmZlcnMgaWYgcHJlc2VudFxuXHRcdHRyeSB7XG5cdFx0XHRpZiAodGV4Ll9mcmFtZUJ1ZmZlcikgeyBnbC5kZWxldGVGcmFtZWJ1ZmZlcih0ZXguX2ZyYW1lQnVmZmVyKTsgfVxuXHRcdFx0dGV4Ll9mcmFtZUJ1ZmZlciA9IHVuZGVmaW5lZDtcblx0XHR9IGNhdGNoKGUpIHtcblx0XHRcdC8qIHN1cHByZXNzIGRlbGV0ZSBlcnJvcnMgYmVjYXVzZSBpdCdzIGFscmVhZHkgZ29uZSBvciBkaWRuJ3QgbmVlZCBkZWxldGluZyBwcm9iYWJseSAqL1xuXHRcdFx0aWYgKHRoaXMudm9jYWxEZWJ1ZykgeyBjb25zb2xlLmxvZyhlKTsgfVxuXHRcdH1cblxuXHRcdC8vIHJlbW92ZSBlbnRyeVxuXHRcdHRyeSB7XG5cdFx0XHRnbC5kZWxldGVUZXh0dXJlKHRleCk7XG5cdFx0fSBjYXRjaChlKSB7XG5cdFx0XHQvKiBzdXBwcmVzcyBkZWxldGUgZXJyb3JzIGJlY2F1c2UgaXQncyBhbHJlYWR5IGdvbmUgb3IgZGlkbid0IG5lZWQgZGVsZXRpbmcgcHJvYmFibHkgKi9cblx0XHRcdGlmICh0aGlzLnZvY2FsRGVidWcpIHsgY29uc29sZS5sb2coZSk7IH1cblx0XHR9XG5cdH07XG5cblx0LyoqXG5cdCAqIFN0b3JlIG9yIHJlc3RvcmUgY3VycmVudCBiYXRjaCB0ZXh0dXJlcyBpbnRvIGEgYmFja3VwIGFycmF5XG5cdCAqIEBtZXRob2QgX2JhY2t1cEJhdGNoVGV4dHVyZXNcblx0ICogQHBhcmFtIHtCb29sZWFufSByZXN0b3JlIFBlcmZvcm0gYSByZXN0b3JlIGluc3RlYWQgb2YgYSBzdG9yZS5cblx0ICogQHBhcmFtIHtBcnJheX0gW3RhcmdldD10aGlzLl9iYWNrdXBUZXh0dXJlc10gV2hlcmUgdG8gcGVyZm9ybSB0aGUgYmFja3VwLCBkZWZhdWx0cyB0byBpbnRlcm5hbCBiYWNrdXAuXG5cdCAqIEBwcm90ZWN0ZWRcblx0ICovXG5cdHAuX2JhY2t1cEJhdGNoVGV4dHVyZXMgPSBmdW5jdGlvbiAocmVzdG9yZSwgdGFyZ2V0KSB7XG5cdFx0dmFyIGdsID0gdGhpcy5fd2ViR0xDb250ZXh0O1xuXG5cdFx0aWYgKCF0aGlzLl9iYWNrdXBUZXh0dXJlcykgeyB0aGlzLl9iYWNrdXBUZXh0dXJlcyA9IFtdOyB9XG5cdFx0aWYgKHRhcmdldCA9PT0gdW5kZWZpbmVkKSB7IHRhcmdldCA9IHRoaXMuX2JhY2t1cFRleHR1cmVzOyB9XG5cblx0XHRmb3IgKHZhciBpPTA7IGk8dGhpcy5fYmF0Y2hUZXh0dXJlQ291bnQ7IGkrKykge1xuXHRcdFx0Z2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMCArIGkpO1xuXHRcdFx0aWYgKHJlc3RvcmUpIHtcblx0XHRcdFx0dGhpcy5fYmF0Y2hUZXh0dXJlc1tpXSA9IHRhcmdldFtpXTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRhcmdldFtpXSA9IHRoaXMuX2JhdGNoVGV4dHVyZXNbaV07XG5cdFx0XHRcdHRoaXMuX2JhdGNoVGV4dHVyZXNbaV0gPSB0aGlzLl9iYXNlVGV4dHVyZXNbaV07XG5cdFx0XHR9XG5cdFx0XHRnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCB0aGlzLl9iYXRjaFRleHR1cmVzW2ldKTtcblx0XHRcdHRoaXMuc2V0VGV4dHVyZVBhcmFtcyhnbCwgdGhpcy5fYmF0Y2hUZXh0dXJlc1tpXS5pc1BPVCk7XG5cdFx0fVxuXG5cdFx0aWYgKHJlc3RvcmUgJiYgdGFyZ2V0ID09PSB0aGlzLl9iYWNrdXBUZXh0dXJlcykgeyB0aGlzLl9iYWNrdXBUZXh0dXJlcyA9IFtdOyB9XG5cdH07XG5cblx0LyoqXG5cdCAqIEJlZ2luIHRoZSBkcmF3aW5nIHByb2Nlc3MgZm9yIGEgcmVndWxhciByZW5kZXIuXG5cdCAqIEBtZXRob2QgX2JhdGNoRHJhd1xuXHQgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgVGhlIGNhbnZhcyBXZWJHTCBjb250ZXh0IG9iamVjdCB0byBkcmF3IGludG8uXG5cdCAqIEBwYXJhbSB7U3RhZ2UgfHwgQ29udGFpbmVyfSBzY2VuZUdyYXBoIHt7I2Nyb3NzTGluayBcIkNvbnRhaW5lclwifX17ey9jcm9zc0xpbmt9fSBvYmplY3Qgd2l0aCBhbGwgdGhhdCBuZWVkcyB0byByZW5kZXJlZCwgcHJlZmVyYWJseSBhIFN0YWdlLlxuXHQgKiBAcGFyYW0ge0Jvb2xlYW59IGlnbm9yZUNhY2hlXG5cdCAqIEBwcm90ZWN0ZWRcblx0ICovXG5cdHAuX2JhdGNoRHJhdyA9IGZ1bmN0aW9uIChzY2VuZUdyYXBoLCBnbCwgaWdub3JlQ2FjaGUpIHtcblx0XHRpZiAodGhpcy5faXNEcmF3aW5nID4gMCkge1xuXHRcdFx0dGhpcy5fZHJhd0J1ZmZlcnMoZ2wpO1xuXHRcdH1cblx0XHR0aGlzLl9pc0RyYXdpbmcrKztcblx0XHR0aGlzLl9kcmF3SUQrKztcblxuXHRcdHRoaXMuYmF0Y2hDYXJkQ291bnQgPSAwO1xuXHRcdHRoaXMuZGVwdGggPSAwO1xuXG5cdFx0dGhpcy5fYXBwZW5kVG9CYXRjaEdyb3VwKHNjZW5lR3JhcGgsIGdsLCBuZXcgY3JlYXRlanMuTWF0cml4MkQoKSwgdGhpcy5hbHBoYSwgaWdub3JlQ2FjaGUpO1xuXG5cdFx0dGhpcy5iYXRjaFJlYXNvbiA9IFwiZHJhd0ZpbmlzaFwiO1xuXHRcdHRoaXMuX2RyYXdCdWZmZXJzKGdsKTtcdFx0XHRcdFx0XHRcdFx0Ly8gPC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cdFx0dGhpcy5faXNEcmF3aW5nLS07XG5cdH07XG5cblx0LyoqXG5cdCAqIFBlcmZvcm0gdGhlIGRyYXdpbmcgcHJvY2VzcyB0byBmaWxsIGEgc3BlY2lmaWMgY2FjaGUgdGV4dHVyZSwgaW5jbHVkaW5nIGFwcGx5aW5nIGZpbHRlcnMuXG5cdCAqIEBtZXRob2QgX2NhY2hlRHJhd1xuXHQgKiBAcGFyYW0ge0Rpc3BsYXlPYmplY3R9IHRhcmdldCBUaGUgb2JqZWN0IHdlJ3JlIGRyYXdpbmcgaW50byB0aGUgY2FjaGUuIEZvciBleGFtcGxlLCB1c2VkIGZvciBkcmF3aW5nIHRoZSBjYWNoZVxuXHQgKiAodG8gcHJldmVudCBpdCBmcm9tIHNpbXBseSBkcmF3aW5nIGFuIGV4aXN0aW5nIGNhY2hlIGJhY2sgaW50byBpdHNlbGYpLlxuXHQgKiBAcGFyYW0ge0FycmF5fSBmaWx0ZXJzIFRoZSBmaWx0ZXJzIHdlJ3JlIGRyYXdpbmcgaW50byBjYWNoZS5cblx0ICogQHBhcmFtIHtCaXRtYXBDYWNoZX0gbWFuYWdlciBUaGUgQml0bWFwQ2FjaGUgaW5zdGFuY2UgbG9va2luZyBhZnRlciB0aGUgY2FjaGVcblx0ICogQHByb3RlY3RlZFxuXHQgKi9cblx0cC5fY2FjaGVEcmF3ID0gZnVuY3Rpb24gKGdsLCB0YXJnZXQsIGZpbHRlcnMsIG1hbmFnZXIpIHtcblx0XHQvKlxuXHRcdEltcGxpY2l0bHkgdGhlcmUgYXJlIDQgbW9kZXMgdG8gdGhpcyBmdW5jdGlvbjogZmlsdGVyZWQtc2FtZUNvbnRleHQsIGZpbHRlcmVkLXVuaXF1ZUNvbnRleHQsIHNhbWVDb250ZXh0LCB1bmlxdWVDb250ZXh0LlxuXHRcdEVhY2ggc2l0dWF0aW9uIG11c3QgYmUgaGFuZGxlZCBzbGlnaHRseSBkaWZmZXJlbnRseSBhcyAnc2FtZUNvbnRleHQnIG9yICd1bmlxdWVDb250ZXh0JyBkZWZpbmUgaG93IHRoZSBvdXRwdXQgd29ya3MsXG5cdFx0b25lIGRyYXdpbmcgZGlyZWN0bHkgaW50byB0aGUgbWFpbiBjb250ZXh0IGFuZCB0aGUgb3RoZXIgZHJhd2luZyBpbnRvIGEgc3RvcmVkIHJlbmRlclRleHR1cmUgcmVzcGVjdGl2ZWx5LlxuXHRcdFdoZW4gdGhlIGRyYXcgaXMgYSAnZmlsdGVyZWQnIGRyYXcsIHRoZSBmaWx0ZXJzIGFyZSBhcHBsaWVkIHNlcXVlbnRpYWxseSBhbmQgd2lsbCBkcmF3IGludG8gc2F2ZWQgdGV4dHVyZXMgcmVwZWF0ZWRseS5cblx0XHRPbmNlIHRoZSBmaW5hbCBmaWx0ZXIgaXMgZG9uZSB0aGUgZmluYWwgb3V0cHV0IGlzIHRyZWF0ZWQgZGVwZW5kaW5nIHVwb24gd2hldGhlciBpdCBpcyBhIHNhbWUgb3IgdW5pcXVlIGNvbnRleHQuXG5cdFx0VGhlIGludGVybmFsIGNvbXBsZXhpdHkgY29tZXMgZnJvbSByZWR1Y2luZyBvdmVyLWRyYXcsIHNoYXJlZCBjb2RlLCBhbmQgaXNzdWVzIGxpa2UgdGV4dHVyZXMgbmVlZGluZyB0byBiZSBmbGlwcGVkXG5cdFx0c29tZXRpbWVzIHdoZW4gd3JpdHRlbiB0byByZW5kZXIgdGV4dHVyZXMuXG5cdFx0Ki9cblx0XHR2YXIgcmVuZGVyVGV4dHVyZTtcblx0XHR2YXIgc2hhZGVyQmFja3VwID0gdGhpcy5fYWN0aXZlU2hhZGVyO1xuXHRcdHZhciBibGFja0xpc3RCYWNrdXAgPSB0aGlzLl9zbG90QmxhY2tsaXN0O1xuXHRcdHZhciBsYXN0VGV4dHVyZVNsb3QgPSB0aGlzLl9tYXhUZXh0dXJlU2xvdHMtMTtcblx0XHR2YXIgd0JhY2t1cCA9IHRoaXMuX3ZpZXdwb3J0V2lkdGgsIGhCYWNrdXAgPSB0aGlzLl92aWV3cG9ydEhlaWdodDtcblxuXHRcdC8vIHByb3RlY3QgdGhlIGxhc3Qgc2xvdCBzbyB0aGF0IHdlIGhhdmUgc29tZXdoZXJlIHRvIGJpbmQgdGhlIHJlbmRlclRleHR1cmVzIHNvIGl0IGRvZXNuJ3QgZ2V0IHVwc2V0XG5cdFx0dGhpcy5wcm90ZWN0VGV4dHVyZVNsb3QobGFzdFRleHR1cmVTbG90LCB0cnVlKTtcblxuXHRcdC8vIGNyZWF0ZSBvZmZzZXQgY29udGFpbmVyIGZvciBkcmF3aW5nIGl0ZW1cblx0XHR2YXIgbXR4ID0gdGFyZ2V0LmdldE1hdHJpeCgpO1xuXHRcdG10eCA9IG10eC5jbG9uZSgpO1xuXHRcdG10eC5zY2FsZSgxL21hbmFnZXIuc2NhbGUsIDEvbWFuYWdlci5zY2FsZSk7XG5cdFx0bXR4ID0gbXR4LmludmVydCgpO1xuXHRcdG10eC50cmFuc2xhdGUoLW1hbmFnZXIub2ZmWC9tYW5hZ2VyLnNjYWxlKnRhcmdldC5zY2FsZVgsIC1tYW5hZ2VyLm9mZlkvbWFuYWdlci5zY2FsZSp0YXJnZXQuc2NhbGVZKTtcblx0XHR2YXIgY29udGFpbmVyID0gdGhpcy5fY2FjaGVDb250YWluZXI7XG5cdFx0Y29udGFpbmVyLmNoaWxkcmVuID0gW3RhcmdldF07XG5cdFx0Y29udGFpbmVyLnRyYW5zZm9ybU1hdHJpeCA9IG10eDtcblxuXHRcdHRoaXMuX2JhY2t1cEJhdGNoVGV4dHVyZXMoZmFsc2UpO1xuXG5cdFx0aWYgKGZpbHRlcnMgJiYgZmlsdGVycy5sZW5ndGgpIHtcblx0XHRcdHRoaXMuX2RyYXdGaWx0ZXJzKHRhcmdldCwgZmlsdGVycywgbWFuYWdlcik7XG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIGlzIHRoaXMgZm9yIGFub3RoZXIgc3RhZ2Ugb3IgbWluZT9cblx0XHRcdGlmICh0aGlzLmlzQ2FjaGVDb250cm9sbGVkKSB7XG5cdFx0XHRcdC8vIGRyYXcgaXRlbSB0byBjYW52YXNcdFx0XHRcdEkgLT4gQ1xuXHRcdFx0XHRnbC5jbGVhcihnbC5DT0xPUl9CVUZGRVJfQklUKTtcblx0XHRcdFx0dGhpcy5fYmF0Y2hEcmF3KGNvbnRhaW5lciwgZ2wsIHRydWUpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Z2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMCArIGxhc3RUZXh0dXJlU2xvdCk7XG5cdFx0XHRcdHRhcmdldC5jYWNoZUNhbnZhcyA9IHRoaXMuZ2V0VGFyZ2V0UmVuZGVyVGV4dHVyZSh0YXJnZXQsIG1hbmFnZXIuX2RyYXdXaWR0aCwgbWFuYWdlci5fZHJhd0hlaWdodCk7XG5cdFx0XHRcdHJlbmRlclRleHR1cmUgPSB0YXJnZXQuY2FjaGVDYW52YXM7XG5cblx0XHRcdFx0Ly8gZHJhdyBpdGVtIHRvIHJlbmRlciB0ZXh0dXJlXHRcdEkgLT4gVFxuXHRcdFx0XHRnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIHJlbmRlclRleHR1cmUuX2ZyYW1lQnVmZmVyKTtcblx0XHRcdFx0dGhpcy51cGRhdGVWaWV3cG9ydChtYW5hZ2VyLl9kcmF3V2lkdGgsIG1hbmFnZXIuX2RyYXdIZWlnaHQpO1xuXHRcdFx0XHR0aGlzLl9wcm9qZWN0aW9uTWF0cml4ID0gdGhpcy5fcHJvamVjdGlvbk1hdHJpeEZsaXA7XG5cdFx0XHRcdGdsLmNsZWFyKGdsLkNPTE9SX0JVRkZFUl9CSVQpO1xuXHRcdFx0XHR0aGlzLl9iYXRjaERyYXcoY29udGFpbmVyLCBnbCwgdHJ1ZSk7XG5cblx0XHRcdFx0Z2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCBudWxsKTtcblx0XHRcdFx0dGhpcy51cGRhdGVWaWV3cG9ydCh3QmFja3VwLCBoQmFja3VwKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHR0aGlzLl9iYWNrdXBCYXRjaFRleHR1cmVzKHRydWUpO1xuXG5cdFx0dGhpcy5wcm90ZWN0VGV4dHVyZVNsb3QobGFzdFRleHR1cmVTbG90LCBmYWxzZSk7XG5cdFx0dGhpcy5fYWN0aXZlU2hhZGVyID0gc2hhZGVyQmFja3VwO1xuXHRcdHRoaXMuX3Nsb3RCbGFja2xpc3QgPSBibGFja0xpc3RCYWNrdXA7XG5cdH07XG5cblx0LyoqXG5cdCAqIFN1YiBwb3J0aW9uIG9mIF9jYWNoZURyYXcsIHNwbGl0IG9mZiBmb3IgcmVhZGFiaWxpdHkuIERvIG5vdCBjYWxsIGluZGVwZW5kZW50bHkuXG5cdCAqIEBtZXRob2QgX2RyYXdGaWx0ZXJzXG5cdCAqIEBwYXJhbSB7RGlzcGxheU9iamVjdH0gdGFyZ2V0IFRoZSBvYmplY3Qgd2UncmUgZHJhd2luZyB3aXRoIGEgZmlsdGVyLlxuXHQgKiBAcGFyYW0ge0FycmF5fSBmaWx0ZXJzIFRoZSBmaWx0ZXJzIHdlJ3JlIGRyYXdpbmcgaW50byBjYWNoZS5cblx0ICogQHBhcmFtIHtCaXRtYXBDYWNoZX0gbWFuYWdlciBUaGUgQml0bWFwQ2FjaGUgaW5zdGFuY2UgbG9va2luZyBhZnRlciB0aGUgY2FjaGVcblx0ICovXG5cdHAuX2RyYXdGaWx0ZXJzID0gZnVuY3Rpb24gKHRhcmdldCwgZmlsdGVycywgbWFuYWdlcikge1xuXHRcdHZhciBnbCA9IHRoaXMuX3dlYkdMQ29udGV4dDtcblx0XHR2YXIgcmVuZGVyVGV4dHVyZTtcblx0XHR2YXIgbGFzdFRleHR1cmVTbG90ID0gdGhpcy5fbWF4VGV4dHVyZVNsb3RzLTE7XG5cdFx0dmFyIHdCYWNrdXAgPSB0aGlzLl92aWV3cG9ydFdpZHRoLCBoQmFja3VwID0gdGhpcy5fdmlld3BvcnRIZWlnaHQ7XG5cblx0XHR2YXIgY29udGFpbmVyID0gdGhpcy5fY2FjaGVDb250YWluZXI7XG5cdFx0dmFyIGZpbHRlckNvdW50ID0gZmlsdGVycy5sZW5ndGg7XG5cblx0XHQvLyB3ZSBkb24ndCBrbm93IHdoaWNoIHRleHR1cmUgc2xvdCB3ZSdyZSBkZWFsaW5nIHdpdGggcHJldmlvdXNseSBhbmQgd2UgbmVlZCBvbmUgb3V0IG9mIHRoZSB3YXlcblx0XHQvLyBvbmNlIHdlJ3JlIHVzaW5nIHRoYXQgc2xvdCBhY3RpdmF0ZSBpdCBzbyB3aGVuIHdlIG1ha2UgYW5kIGJpbmQgb3VyIFJlbmRlclRleHR1cmUgaXQncyBzYWZlIHRoZXJlXG5cdFx0Z2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMCArIGxhc3RUZXh0dXJlU2xvdCk7XG5cdFx0cmVuZGVyVGV4dHVyZSA9IHRoaXMuZ2V0VGFyZ2V0UmVuZGVyVGV4dHVyZSh0YXJnZXQsIG1hbmFnZXIuX2RyYXdXaWR0aCwgbWFuYWdlci5fZHJhd0hlaWdodCk7XG5cblx0XHQvLyBkcmF3IGl0ZW0gdG8gcmVuZGVyIHRleHR1cmVcdFx0SSAtPiBUXG5cdFx0Z2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCByZW5kZXJUZXh0dXJlLl9mcmFtZUJ1ZmZlcik7XG5cdFx0dGhpcy51cGRhdGVWaWV3cG9ydChtYW5hZ2VyLl9kcmF3V2lkdGgsIG1hbmFnZXIuX2RyYXdIZWlnaHQpO1xuXHRcdGdsLmNsZWFyKGdsLkNPTE9SX0JVRkZFUl9CSVQpO1xuXHRcdHRoaXMuX2JhdGNoRHJhdyhjb250YWluZXIsIGdsLCB0cnVlKTtcblxuXHRcdC8vIGJpbmQgdGhlIHJlc3VsdCB0ZXh0dXJlIHRvIHNsb3QgMCBhcyBhbGwgZmlsdGVycyBhbmQgY292ZXIgZHJhd3MgYXNzdW1lIG9yaWdpbmFsIGNvbnRlbnQgaXMgaW4gc2xvdCAwXG5cdFx0Z2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMCk7XG5cdFx0Z2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgcmVuZGVyVGV4dHVyZSk7XG5cdFx0dGhpcy5zZXRUZXh0dXJlUGFyYW1zKGdsKTtcblxuXHRcdHZhciBmbGlwWSA9IGZhbHNlO1xuXHRcdHZhciBpID0gMCwgZmlsdGVyID0gZmlsdGVyc1tpXTtcblx0XHRkbyB7IC8vIHRoaXMgaXMgc2FmZSBiZWNhdXNlIHdlIHdvdWxkbid0IGJlIGluIGFwcGx5IGZpbHRlcnMgd2l0aG91dCBhIGZpbHRlciBjb3VudCBvZiBhdCBsZWFzdCAxXG5cblx0XHRcdC8vIHN3YXAgdG8gY29ycmVjdCBzaGFkZXJcblx0XHRcdHRoaXMuX2FjdGl2ZVNoYWRlciA9IHRoaXMuZ2V0RmlsdGVyU2hhZGVyKGZpbHRlcik7XG5cdFx0XHRpZiAoIXRoaXMuX2FjdGl2ZVNoYWRlcikgeyBjb250aW51ZTsgfVxuXG5cdFx0XHQvLyBub3cgdGhlIG9sZCByZXN1bHQgaXMgc3RvcmVkIGluIHNsb3QgMCwgbWFrZSBhIG5ldyByZW5kZXIgdGV4dHVyZVxuXHRcdFx0Z2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMCArIGxhc3RUZXh0dXJlU2xvdCk7XG5cdFx0XHRyZW5kZXJUZXh0dXJlID0gdGhpcy5nZXRUYXJnZXRSZW5kZXJUZXh0dXJlKHRhcmdldCwgbWFuYWdlci5fZHJhd1dpZHRoLCBtYW5hZ2VyLl9kcmF3SGVpZ2h0KTtcblx0XHRcdGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgcmVuZGVyVGV4dHVyZS5fZnJhbWVCdWZmZXIpO1xuXG5cdFx0XHQvLyBkcmF3IHJlc3VsdCB0byByZW5kZXIgdGV4dHVyZVx0UiAtPiBUXG5cdFx0XHRnbC52aWV3cG9ydCgwLCAwLCBtYW5hZ2VyLl9kcmF3V2lkdGgsIG1hbmFnZXIuX2RyYXdIZWlnaHQpO1xuXHRcdFx0Z2wuY2xlYXIoZ2wuQ09MT1JfQlVGRkVSX0JJVCk7XG5cdFx0XHR0aGlzLl9kcmF3Q292ZXIoZ2wsIGZsaXBZKTtcblxuXHRcdFx0Ly8gYmluZCB0aGUgcmVzdWx0IHRleHR1cmUgdG8gc2xvdCAwIGFzIGFsbCBmaWx0ZXJzIGFuZCBjb3ZlciBkcmF3cyBhc3N1bWUgb3JpZ2luYWwgY29udGVudCBpcyBpbiBzbG90IDBcblx0XHRcdGdsLmFjdGl2ZVRleHR1cmUoZ2wuVEVYVFVSRTApO1xuXHRcdFx0Z2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgcmVuZGVyVGV4dHVyZSk7XG5cdFx0XHR0aGlzLnNldFRleHR1cmVQYXJhbXMoZ2wpO1xuXG5cdFx0XHQvLyB1c2UgZmxpcHBpbmcgdG8ga2VlcCB0aGluZ3MgdXByaWdodCwgdGhpbmdzIGFscmVhZHkgY2FuY2VsIG91dCBvbiBhIHNpbmdsZSBmaWx0ZXJcblx0XHRcdC8vIHRoaXMgbmVlZHMgdG8gYmUgaGVyZSBhcyBtdWx0aVBhc3MgaXMgbm90IGFjY3VyYXRlIHRvIF90aGlzXyBmcmFtZSB1bnRpbCBhZnRlciBzaGFkZXIgYWNxdWlzaXRpb25cblx0XHRcdGlmIChmaWx0ZXJDb3VudCA+IDEgfHwgZmlsdGVyc1swXS5fbXVsdGlQYXNzKSB7XG5cdFx0XHRcdGZsaXBZID0gIWZsaXBZO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyB3b3JrIHRocm91Z2ggdGhlIG11bHRpcGFzcyBpZiBpdCdzIHRoZXJlLCBvdGhlcndpc2UgbW92ZSBvblxuXHRcdFx0ZmlsdGVyID0gZmlsdGVyLl9tdWx0aVBhc3MgIT09IG51bGwgPyBmaWx0ZXIuX211bHRpUGFzcyA6IGZpbHRlcnNbKytpXTtcblx0XHR9IHdoaWxlIChmaWx0ZXIpO1xuXG5cdFx0Ly8gaXMgdGhpcyBmb3IgYW5vdGhlciBzdGFnZSBvciBtaW5lXG5cdFx0aWYgKHRoaXMuaXNDYWNoZUNvbnRyb2xsZWQpIHtcblx0XHRcdGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgbnVsbCk7XG5cdFx0XHR0aGlzLnVwZGF0ZVZpZXdwb3J0KHdCYWNrdXAsIGhCYWNrdXApO1xuXG5cdFx0XHQvLyBkcmF3IHJlc3VsdCB0byBjYW52YXNcdFx0XHRSIC0+IENcblx0XHRcdHRoaXMuX2FjdGl2ZVNoYWRlciA9IHRoaXMuZ2V0RmlsdGVyU2hhZGVyKHRoaXMpO1xuXHRcdFx0Z2wuY2xlYXIoZ2wuQ09MT1JfQlVGRkVSX0JJVCk7XG5cdFx0XHR0aGlzLl9kcmF3Q292ZXIoZ2wsIGZsaXBZKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly9UT0RPOiBESEc6IHRoaXMgaXMgbGVzcyB0aGFuIGlkZWFsLiBBIGZsaXBwZWQgaW5pdGlhbCByZW5kZXIgZm9yIHRoaXMgY2lyY3Vtc3RhbmNlIG1pZ2h0IGhlbHAuIEFkanVzdCB0aGUgcGVyc3BlY3RpdmUgbWF0cml4P1xuXHRcdFx0aWYgKGZsaXBZKSB7XG5cdFx0XHRcdGdsLmFjdGl2ZVRleHR1cmUoZ2wuVEVYVFVSRTAgKyBsYXN0VGV4dHVyZVNsb3QpO1xuXHRcdFx0XHRyZW5kZXJUZXh0dXJlID0gdGhpcy5nZXRUYXJnZXRSZW5kZXJUZXh0dXJlKHRhcmdldCwgbWFuYWdlci5fZHJhd1dpZHRoLCBtYW5hZ2VyLl9kcmF3SGVpZ2h0KTtcblx0XHRcdFx0Z2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCByZW5kZXJUZXh0dXJlLl9mcmFtZUJ1ZmZlcik7XG5cblx0XHRcdFx0dGhpcy5fYWN0aXZlU2hhZGVyID0gdGhpcy5nZXRGaWx0ZXJTaGFkZXIodGhpcyk7XG5cdFx0XHRcdGdsLnZpZXdwb3J0KDAsIDAsIG1hbmFnZXIuX2RyYXdXaWR0aCwgbWFuYWdlci5fZHJhd0hlaWdodCk7XG5cdFx0XHRcdGdsLmNsZWFyKGdsLkNPTE9SX0JVRkZFUl9CSVQpO1xuXHRcdFx0XHR0aGlzLl9kcmF3Q292ZXIoZ2wsICFmbGlwWSk7XG5cdFx0XHR9XG5cdFx0XHRnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIG51bGwpO1xuXHRcdFx0dGhpcy51cGRhdGVWaWV3cG9ydCh3QmFja3VwLCBoQmFja3VwKTtcblxuXHRcdFx0Ly8gbWFrZSBzdXJlIHRoZSBsYXN0IHRleHR1cmUgaXMgdGhlIGFjdGl2ZSB0aGluZyB0byBkcmF3XG5cdFx0XHR0YXJnZXQuY2FjaGVDYW52YXMgPSByZW5kZXJUZXh0dXJlO1xuXHRcdH1cblx0fTtcblxuXHQvKipcblx0ICogQWRkIGFsbCB0aGUgY29udGVudHMgb2YgYSBjb250YWluZXIgdG8gdGhlIHBlbmRpbmcgYnVmZmVycywgY2FsbGVkIHJlY3Vyc2l2ZWx5IG9uIGVhY2ggY29udGFpbmVyLiBUaGlzIG1heVxuXHQgKiB0cmlnZ2VyIGEgZHJhdyBpZiBhIGJ1ZmZlciBydW5zIG91dCBvZiBzcGFjZS4gVGhpcyBpcyB0aGUgbWFpbiB3b3JrZm9yY2Ugb2YgdGhlIHJlbmRlciBsb29wLlxuXHQgKiBAbWV0aG9kIF9hcHBlbmRUb0JhdGNoR3JvdXBcblx0ICogQHBhcmFtIHtDb250YWluZXJ9IGNvbnRhaW5lciBUaGUge3sjY3Jvc3NMaW5rIFwiQ29udGFpbmVyXCJ9fXt7L2Nyb3NzTGlua319IHRoYXQgY29udGFpbnMgZXZlcnl0aGluZyB0byBiZSBkcmF3bi5cblx0ICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIFRoZSBjYW52YXMgV2ViR0wgY29udGV4dCBvYmplY3QgdG8gZHJhdyBpbnRvLlxuXHQgKiBAcGFyYW0ge01hdHJpeDJEfSBjb25jYXRNdHggVGhlIGVmZmVjdGl2ZSAoY29uY2F0ZW5hdGVkKSB0cmFuc2Zvcm1hdGlvbiBtYXRyaXggd2hlbiBiZWdpbm5pbmcgdGhpcyBjb250YWluZXJcblx0ICogQHBhcmFtIHtOdW1iZXJ9IGNvbmNhdEFscGhhIFRoZSBlZmZlY3RpdmUgKGNvbmNhdGVuYXRlZCkgYWxwaGEgd2hlbiBiZWdpbm5pbmcgdGhpcyBjb250YWluZXJcblx0ICogQHBhcmFtIHtCb29sZWFufSBpZ25vcmVDYWNoZSBEb24ndCB1c2UgYW4gZWxlbWVudCdzIGNhY2hlIGR1cmluZyB0aGlzIGRyYXdcblx0ICogQHByb3RlY3RlZFxuXHQgKi9cblx0cC5fYXBwZW5kVG9CYXRjaEdyb3VwID0gZnVuY3Rpb24gKGNvbnRhaW5lciwgZ2wsIGNvbmNhdE10eCwgY29uY2F0QWxwaGEsIGlnbm9yZUNhY2hlKSB7XG5cdFx0Ly8gc29ydCBvdXQgc2hhcmVkIHByb3BlcnRpZXNcblx0XHRpZiAoIWNvbnRhaW5lci5fZ2xNdHgpIHsgY29udGFpbmVyLl9nbE10eCA9IG5ldyBjcmVhdGVqcy5NYXRyaXgyRCgpOyB9XG5cdFx0dmFyIGNNdHggPSBjb250YWluZXIuX2dsTXR4O1xuXHRcdGNNdHguY29weShjb25jYXRNdHgpO1xuXHRcdGlmIChjb250YWluZXIudHJhbnNmb3JtTWF0cml4KSB7XG5cdFx0XHRjTXR4LmFwcGVuZE1hdHJpeChjb250YWluZXIudHJhbnNmb3JtTWF0cml4KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Y010eC5hcHBlbmRUcmFuc2Zvcm0oXG5cdFx0XHRcdGNvbnRhaW5lci54LCBjb250YWluZXIueSxcblx0XHRcdFx0Y29udGFpbmVyLnNjYWxlWCwgY29udGFpbmVyLnNjYWxlWSxcblx0XHRcdFx0Y29udGFpbmVyLnJvdGF0aW9uLCBjb250YWluZXIuc2tld1gsIGNvbnRhaW5lci5za2V3WSxcblx0XHRcdFx0Y29udGFpbmVyLnJlZ1gsIGNvbnRhaW5lci5yZWdZXG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdC8vIHN1YiBjb21wb25lbnRzIG9mIGZpZ3VyaW5nIG91dCB0aGUgcG9zaXRpb24gYW4gb2JqZWN0IGhvbGRzXG5cdFx0dmFyIHN1YkwsIHN1YlQsIHN1YlIsIHN1YkI7XG5cblx0XHQvLyBhY3R1YWxseSBhcHBseSBpdHMgZGF0YSB0byB0aGUgYnVmZmVyc1xuXHRcdHZhciBsID0gY29udGFpbmVyLmNoaWxkcmVuLmxlbmd0aDtcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGw7IGkrKykge1xuXHRcdFx0dmFyIGl0ZW0gPSBjb250YWluZXIuY2hpbGRyZW5baV07XG5cblx0XHRcdGlmICghKGl0ZW0udmlzaWJsZSAmJiBjb25jYXRBbHBoYSkpIHsgY29udGludWU7IH1cblx0XHRcdGlmICghaXRlbS5jYWNoZUNhbnZhcyB8fCBpZ25vcmVDYWNoZSkge1xuXHRcdFx0XHRpZiAoaXRlbS5fdXBkYXRlU3RhdGUpe1xuXHRcdFx0XHRcdGl0ZW0uX3VwZGF0ZVN0YXRlKCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKGl0ZW0uY2hpbGRyZW4pIHtcblx0XHRcdFx0XHR0aGlzLl9hcHBlbmRUb0JhdGNoR3JvdXAoaXRlbSwgZ2wsIGNNdHgsIGl0ZW0uYWxwaGEgKiBjb25jYXRBbHBoYSk7XG5cdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gY2hlY2sgZm9yIG92ZXJmbG93aW5nIGJhdGNoLCBpZiB5ZXMgdGhlbiBmb3JjZSBhIHJlbmRlclxuXHRcdFx0Ly8gVE9ETzogREhHOiBjb25zaWRlciBtYWtpbmcgdGhpcyBwb2x5Z29uIGNvdW50IGRlcGVuZGFudCBmb3IgdGhpbmdzIGxpa2UgdmVjdG9yIGRyYXdzXG5cdFx0XHRpZiAodGhpcy5iYXRjaENhcmRDb3VudCsxID4gdGhpcy5fbWF4Q2FyZHNQZXJCYXRjaCkge1xuXHRcdFx0XHR0aGlzLmJhdGNoUmVhc29uID0gXCJ2ZXJ0ZXhPdmVyZmxvd1wiO1xuXHRcdFx0XHR0aGlzLl9kcmF3QnVmZmVycyhnbCk7XHRcdFx0XHRcdC8vIDwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblx0XHRcdFx0dGhpcy5iYXRjaENhcmRDb3VudCA9IDA7XG5cdFx0XHR9XG5cblx0XHRcdC8vIGtlZXAgdHJhY2sgb2YgY29uY2F0ZW5hdGVkIHBvc2l0aW9uXG5cdFx0XHRpZiAoIWl0ZW0uX2dsTXR4KSB7IGl0ZW0uX2dsTXR4ID0gbmV3IGNyZWF0ZWpzLk1hdHJpeDJEKCk7IH1cblx0XHRcdHZhciBpTXR4ID0gaXRlbS5fZ2xNdHg7XG5cdFx0XHRpTXR4LmNvcHkoY010eCk7XG5cdFx0XHRpZiAoaXRlbS50cmFuc2Zvcm1NYXRyaXgpIHtcblx0XHRcdFx0aU10eC5hcHBlbmRNYXRyaXgoaXRlbS50cmFuc2Zvcm1NYXRyaXgpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aU10eC5hcHBlbmRUcmFuc2Zvcm0oXG5cdFx0XHRcdFx0aXRlbS54LCBpdGVtLnksXG5cdFx0XHRcdFx0aXRlbS5zY2FsZVgsIGl0ZW0uc2NhbGVZLFxuXHRcdFx0XHRcdGl0ZW0ucm90YXRpb24sIGl0ZW0uc2tld1gsIGl0ZW0uc2tld1ksXG5cdFx0XHRcdFx0aXRlbS5yZWdYLCBpdGVtLnJlZ1lcblx0XHRcdFx0KTtcblx0XHRcdH1cblxuXHRcdFx0dmFyIHV2UmVjdCwgdGV4SW5kZXgsIGltYWdlLCBmcmFtZSwgdGV4dHVyZSwgc3JjO1xuXHRcdFx0dmFyIHVzZUNhY2hlID0gaXRlbS5jYWNoZUNhbnZhcyAmJiAhaWdub3JlQ2FjaGU7XG5cblx0XHRcdGlmIChpdGVtLl93ZWJHTFJlbmRlclN0eWxlID09PSAyIHx8IHVzZUNhY2hlKSB7XHRcdFx0Ly8gQklUTUFQIC8gQ2FjaGVkIENhbnZhc1xuXHRcdFx0XHRpbWFnZSA9IChpZ25vcmVDYWNoZT9mYWxzZTppdGVtLmNhY2hlQ2FudmFzKSB8fCBpdGVtLmltYWdlO1xuXHRcdFx0fSBlbHNlIGlmIChpdGVtLl93ZWJHTFJlbmRlclN0eWxlID09PSAxKSB7XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIFNQUklURVxuXHRcdFx0XHRmcmFtZSA9IGl0ZW0uc3ByaXRlU2hlZXQuZ2V0RnJhbWUoaXRlbS5jdXJyZW50RnJhbWUpO1x0Ly9UT0RPOiBGYXN0ZXIgd2F5P1xuXHRcdFx0XHRpZiAoZnJhbWUgPT09IG51bGwpIHsgY29udGludWU7IH1cblx0XHRcdFx0aW1hZ2UgPSBmcmFtZS5pbWFnZTtcblx0XHRcdH0gZWxzZSB7XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBNSVNDIChET00gb2JqZWN0cyByZW5kZXIgdGhlbXNlbHZlcyBsYXRlcilcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdHZhciB1dnMgPSB0aGlzLl91dnM7XG5cdFx0XHR2YXIgdmVydGljZXMgPSB0aGlzLl92ZXJ0aWNlcztcblx0XHRcdHZhciB0ZXhJID0gdGhpcy5faW5kaWNlcztcblx0XHRcdHZhciBhbHBoYXMgPSB0aGlzLl9hbHBoYXM7XG5cblx0XHRcdC8vIGNhbGN1bGF0ZSB0ZXh0dXJlXG5cdFx0XHRpZiAoIWltYWdlKSB7IGNvbnRpbnVlOyB9XG5cdFx0XHRpZiAoaW1hZ2UuX3N0b3JlSUQgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHQvLyB0aGlzIHRleHR1cmUgaXMgbmV3IHRvIHVzIHNvIGxvYWQgaXQgYW5kIGFkZCBpdCB0byB0aGUgYmF0Y2hcblx0XHRcdFx0dGV4dHVyZSA9IHRoaXMuX2xvYWRUZXh0dXJlSW1hZ2UoZ2wsIGltYWdlKTtcblx0XHRcdFx0dGhpcy5faW5zZXJ0VGV4dHVyZUluQmF0Y2goZ2wsIHRleHR1cmUpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Ly8gZmV0Y2ggdGhlIHRleHR1cmUgKHJlbmRlciB0ZXh0dXJlcyBrbm93IGhvdyB0byBsb29rIHRoZW1zZWx2ZXMgdXAgdG8gc2ltcGxpZnkgdGhpcyBsb2dpYylcblx0XHRcdFx0dGV4dHVyZSA9IHRoaXMuX3RleHR1cmVEaWN0aW9uYXJ5W2ltYWdlLl9zdG9yZUlEXTtcblx0XHRcdFx0aWYgKCF0ZXh0dXJlKXtcblx0XHRcdFx0XHRpZiAodGhpcy52b2NhbERlYnVnKXsgY29uc29sZS5sb2coXCJUZXh0dXJlIHNob3VsZCBub3QgYmUgbG9va2VkIHVwIHdoaWxlIG5vdCBiZWluZyBzdG9yZWQuXCIpOyB9XG5cdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBwdXQgaXQgaW4gdGhlIGJhdGNoIGlmIG5lZWRlZFxuXHRcdFx0XHRpZiAodGV4dHVyZS5fYmF0Y2hJRCAhPT0gdGhpcy5fYmF0Y2hJRCkge1xuXHRcdFx0XHRcdHRoaXMuX2luc2VydFRleHR1cmVJbkJhdGNoKGdsLCB0ZXh0dXJlKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0dGV4SW5kZXggPSB0ZXh0dXJlLl9hY3RpdmVJbmRleDtcblxuXHRcdFx0aWYgKGl0ZW0uX3dlYkdMUmVuZGVyU3R5bGUgPT09IDIgfHwgdXNlQ2FjaGUpIHtcdFx0XHQvLyBCSVRNQVAgLyBDYWNoZWQgQ2FudmFzXG5cdFx0XHRcdGlmICghdXNlQ2FjaGUgJiYgaXRlbS5zb3VyY2VSZWN0KSB7XG5cdFx0XHRcdFx0Ly8gY2FsY3VsYXRlIHV2c1xuXHRcdFx0XHRcdGlmICghaXRlbS5fdXZSZWN0KSB7IGl0ZW0uX3V2UmVjdCA9IHt9OyB9XG5cdFx0XHRcdFx0c3JjID0gaXRlbS5zb3VyY2VSZWN0O1xuXHRcdFx0XHRcdHV2UmVjdCA9IGl0ZW0uX3V2UmVjdDtcblx0XHRcdFx0XHR1dlJlY3QudCA9IChzcmMueSkvaW1hZ2UuaGVpZ2h0O1xuXHRcdFx0XHRcdHV2UmVjdC5sID0gKHNyYy54KS9pbWFnZS53aWR0aDtcblx0XHRcdFx0XHR1dlJlY3QuYiA9IChzcmMueSArIHNyYy5oZWlnaHQpL2ltYWdlLmhlaWdodDtcblx0XHRcdFx0XHR1dlJlY3QuciA9IChzcmMueCArIHNyYy53aWR0aCkvaW1hZ2Uud2lkdGg7XG5cblx0XHRcdFx0XHQvLyBjYWxjdWxhdGUgdmVydGljZXNcblx0XHRcdFx0XHRzdWJMID0gMDtcdFx0XHRcdFx0XHRcdHN1YlQgPSAwO1xuXHRcdFx0XHRcdHN1YlIgPSBzcmMud2lkdGgrc3ViTDtcdFx0XHRcdHN1YkIgPSBzcmMuaGVpZ2h0K3N1YlQ7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Ly8gY2FsY3VsYXRlIHV2c1xuXHRcdFx0XHRcdHV2UmVjdCA9IFN0YWdlR0wuVVZfUkVDVDtcblx0XHRcdFx0XHQvLyBjYWxjdWxhdGUgdmVydGljZXNcblx0XHRcdFx0XHRpZiAodXNlQ2FjaGUpIHtcblx0XHRcdFx0XHRcdHNyYyA9IGl0ZW0uYml0bWFwQ2FjaGU7XG5cdFx0XHRcdFx0XHRzdWJMID0gc3JjLngrKHNyYy5fZmlsdGVyT2ZmWC9zcmMuc2NhbGUpO1x0c3ViVCA9IHNyYy55KyhzcmMuX2ZpbHRlck9mZlkvc3JjLnNjYWxlKTtcblx0XHRcdFx0XHRcdHN1YlIgPSAoc3JjLl9kcmF3V2lkdGgvc3JjLnNjYWxlKStzdWJMO1x0XHRzdWJCID0gKHNyYy5fZHJhd0hlaWdodC9zcmMuc2NhbGUpK3N1YlQ7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHN1YkwgPSAwO1x0XHRcdFx0XHRcdHN1YlQgPSAwO1xuXHRcdFx0XHRcdFx0c3ViUiA9IGltYWdlLndpZHRoK3N1Ykw7XHRcdHN1YkIgPSBpbWFnZS5oZWlnaHQrc3ViVDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSBpZiAoaXRlbS5fd2ViR0xSZW5kZXJTdHlsZSA9PT0gMSkge1x0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBTUFJJVEVcblx0XHRcdFx0dmFyIHJlY3QgPSBmcmFtZS5yZWN0O1xuXG5cdFx0XHRcdC8vIGNhbGN1bGF0ZSB1dnNcblx0XHRcdFx0dXZSZWN0ID0gZnJhbWUudXZSZWN0O1xuXHRcdFx0XHRpZiAoIXV2UmVjdCkge1xuXHRcdFx0XHRcdHV2UmVjdCA9IFN0YWdlR0wuYnVpbGRVVlJlY3RzKGl0ZW0uc3ByaXRlU2hlZXQsIGl0ZW0uY3VycmVudEZyYW1lLCBmYWxzZSk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBjYWxjdWxhdGUgdmVydGljZXNcblx0XHRcdFx0c3ViTCA9IC1mcmFtZS5yZWdYO1x0XHRcdFx0XHRcdFx0XHRzdWJUID0gLWZyYW1lLnJlZ1k7XG5cdFx0XHRcdHN1YlIgPSByZWN0LndpZHRoLWZyYW1lLnJlZ1g7XHRcdFx0XHRcdHN1YkIgPSByZWN0LmhlaWdodC1mcmFtZS5yZWdZO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBUaGVzZSBtdXN0IGJlIGNhbGN1bGF0ZWQgaGVyZSBlbHNlIGEgZm9yY2VkIGRyYXcgbWlnaHQgaGFwcGVuIGFmdGVyIHRoZXkncmUgc2V0XG5cdFx0XHR2YXIgb2ZmVjEgPSB0aGlzLmJhdGNoQ2FyZENvdW50KlN0YWdlR0wuSU5ESUNJRVNfUEVSX0NBUkQ7XHRcdC8vIG9mZnNldCBmb3IgMSBjb21wb25lbnQgdmVjdG9yc1xuXHRcdFx0dmFyIG9mZlYyID0gb2ZmVjEqMjtcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gb2Zmc2V0IGZvciAyIGNvbXBvbmVudCB2ZWN0b3JzXG5cblx0XHRcdC8vREhHOiBTZWUgTWF0cml4MkQudHJhbnNmb3JtUG9pbnQgZm9yIHdoeSB0aGlzIG1hdGggc3BlY2lmaWNhbGx5XG5cdFx0XHQvLyBhcHBseSB2ZXJ0aWNlc1xuXHRcdFx0dmVydGljZXNbb2ZmVjJdID1cdFx0c3ViTCAqaU10eC5hICsgc3ViVCAqaU10eC5jICtpTXR4LnR4O1x0XHR2ZXJ0aWNlc1tvZmZWMisxXSA9XHRcdHN1YkwgKmlNdHguYiArIHN1YlQgKmlNdHguZCAraU10eC50eTtcblx0XHRcdHZlcnRpY2VzW29mZlYyKzJdID1cdFx0c3ViTCAqaU10eC5hICsgc3ViQiAqaU10eC5jICtpTXR4LnR4O1x0XHR2ZXJ0aWNlc1tvZmZWMiszXSA9XHRcdHN1YkwgKmlNdHguYiArIHN1YkIgKmlNdHguZCAraU10eC50eTtcblx0XHRcdHZlcnRpY2VzW29mZlYyKzRdID1cdFx0c3ViUiAqaU10eC5hICsgc3ViVCAqaU10eC5jICtpTXR4LnR4O1x0XHR2ZXJ0aWNlc1tvZmZWMis1XSA9XHRcdHN1YlIgKmlNdHguYiArIHN1YlQgKmlNdHguZCAraU10eC50eTtcblx0XHRcdHZlcnRpY2VzW29mZlYyKzZdID1cdFx0dmVydGljZXNbb2ZmVjIrMl07XHRcdFx0XHRcdFx0XHR2ZXJ0aWNlc1tvZmZWMis3XSA9XHRcdHZlcnRpY2VzW29mZlYyKzNdO1xuXHRcdFx0dmVydGljZXNbb2ZmVjIrOF0gPVx0XHR2ZXJ0aWNlc1tvZmZWMis0XTtcdFx0XHRcdFx0XHRcdHZlcnRpY2VzW29mZlYyKzldID1cdFx0dmVydGljZXNbb2ZmVjIrNV07XG5cdFx0XHR2ZXJ0aWNlc1tvZmZWMisxMF0gPVx0c3ViUiAqaU10eC5hICsgc3ViQiAqaU10eC5jICtpTXR4LnR4O1x0XHR2ZXJ0aWNlc1tvZmZWMisxMV0gPVx0c3ViUiAqaU10eC5iICsgc3ViQiAqaU10eC5kICtpTXR4LnR5O1xuXG5cdFx0XHQvLyBhcHBseSB1dnNcblx0XHRcdHV2c1tvZmZWMl0gPVx0dXZSZWN0Lmw7XHRcdFx0dXZzW29mZlYyKzFdID1cdHV2UmVjdC50O1xuXHRcdFx0dXZzW29mZlYyKzJdID1cdHV2UmVjdC5sO1x0XHRcdHV2c1tvZmZWMiszXSA9XHR1dlJlY3QuYjtcblx0XHRcdHV2c1tvZmZWMis0XSA9XHR1dlJlY3QucjtcdFx0XHR1dnNbb2ZmVjIrNV0gPVx0dXZSZWN0LnQ7XG5cdFx0XHR1dnNbb2ZmVjIrNl0gPVx0dXZSZWN0Lmw7XHRcdFx0dXZzW29mZlYyKzddID1cdHV2UmVjdC5iO1xuXHRcdFx0dXZzW29mZlYyKzhdID1cdHV2UmVjdC5yO1x0XHRcdHV2c1tvZmZWMis5XSA9XHR1dlJlY3QudDtcblx0XHRcdHV2c1tvZmZWMisxMF0gPVx0dXZSZWN0LnI7XHRcdFx0dXZzW29mZlYyKzExXSA9XHR1dlJlY3QuYjtcblxuXHRcdFx0Ly8gYXBwbHkgdGV4dHVyZVxuXHRcdFx0dGV4SVtvZmZWMV0gPSB0ZXhJW29mZlYxKzFdID0gdGV4SVtvZmZWMSsyXSA9IHRleElbb2ZmVjErM10gPSB0ZXhJW29mZlYxKzRdID0gdGV4SVtvZmZWMSs1XSA9IHRleEluZGV4O1xuXG5cdFx0XHQvLyBhcHBseSBhbHBoYVxuXHRcdFx0YWxwaGFzW29mZlYxXSA9IGFscGhhc1tvZmZWMSsxXSA9IGFscGhhc1tvZmZWMSsyXSA9IGFscGhhc1tvZmZWMSszXSA9IGFscGhhc1tvZmZWMSs0XSA9IGFscGhhc1tvZmZWMSs1XSA9IGl0ZW0uYWxwaGEgKiBjb25jYXRBbHBoYTtcblxuXHRcdFx0dGhpcy5iYXRjaENhcmRDb3VudCsrO1xuXHRcdH1cblx0fTtcblxuXHQvKipcblx0ICogRHJhd3MgYWxsIHRoZSBjdXJyZW50bHkgZGVmaW5lZCBjYXJkcyBpbiB0aGUgYnVmZmVyIHRvIHRoZSByZW5kZXIgc3VyZmFjZS5cblx0ICogQG1ldGhvZCBfZHJhd0J1ZmZlcnNcblx0ICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIFRoZSBjYW52YXMgV2ViR0wgY29udGV4dCBvYmplY3QgdG8gZHJhdyBpbnRvLlxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqL1xuXHRwLl9kcmF3QnVmZmVycyA9IGZ1bmN0aW9uIChnbCkge1xuXHRcdGlmICh0aGlzLmJhdGNoQ2FyZENvdW50IDw9IDApIHsgcmV0dXJuOyB9XHQvLyBwcmV2ZW50cyBlcnJvciBsb2dzIG9uIHN0YWdlcyBmaWxsZWQgd2l0aCB1bi1yZW5lZGVyYWJsZSBjb250ZW50LlxuXG5cdFx0aWYgKHRoaXMudm9jYWxEZWJ1Zykge1xuXHRcdFx0Y29uc29sZS5sb2coXCJEcmF3W1wiKyB0aGlzLl9kcmF3SUQgK1wiOlwiKyB0aGlzLl9iYXRjaElEICtcIl0gOiBcIisgdGhpcy5iYXRjaFJlYXNvbik7XG5cdFx0fVxuXHRcdHZhciBzaGFkZXJQcm9ncmFtID0gdGhpcy5fYWN0aXZlU2hhZGVyO1xuXHRcdHZhciB2ZXJ0ZXhQb3NpdGlvbkJ1ZmZlciA9IHRoaXMuX3ZlcnRleFBvc2l0aW9uQnVmZmVyO1xuXHRcdHZhciB0ZXh0dXJlSW5kZXhCdWZmZXIgPSB0aGlzLl90ZXh0dXJlSW5kZXhCdWZmZXI7XG5cdFx0dmFyIHV2UG9zaXRpb25CdWZmZXIgPSB0aGlzLl91dlBvc2l0aW9uQnVmZmVyO1xuXHRcdHZhciBhbHBoYUJ1ZmZlciA9IHRoaXMuX2FscGhhQnVmZmVyO1xuXG5cdFx0Z2wudXNlUHJvZ3JhbShzaGFkZXJQcm9ncmFtKTtcblxuXHRcdGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCB2ZXJ0ZXhQb3NpdGlvbkJ1ZmZlcik7XG5cdFx0Z2wudmVydGV4QXR0cmliUG9pbnRlcihzaGFkZXJQcm9ncmFtLnZlcnRleFBvc2l0aW9uQXR0cmlidXRlLCB2ZXJ0ZXhQb3NpdGlvbkJ1ZmZlci5pdGVtU2l6ZSwgZ2wuRkxPQVQsIGZhbHNlLCAwLCAwKTtcblx0XHRnbC5idWZmZXJTdWJEYXRhKGdsLkFSUkFZX0JVRkZFUiwgMCwgdGhpcy5fdmVydGljZXMpO1xuXG5cdFx0Z2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHRleHR1cmVJbmRleEJ1ZmZlcik7XG5cdFx0Z2wudmVydGV4QXR0cmliUG9pbnRlcihzaGFkZXJQcm9ncmFtLnRleHR1cmVJbmRleEF0dHJpYnV0ZSwgdGV4dHVyZUluZGV4QnVmZmVyLml0ZW1TaXplLCBnbC5GTE9BVCwgZmFsc2UsIDAsIDApO1xuXHRcdGdsLmJ1ZmZlclN1YkRhdGEoZ2wuQVJSQVlfQlVGRkVSLCAwLCB0aGlzLl9pbmRpY2VzKTtcblxuXHRcdGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCB1dlBvc2l0aW9uQnVmZmVyKTtcblx0XHRnbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKHNoYWRlclByb2dyYW0udXZQb3NpdGlvbkF0dHJpYnV0ZSwgdXZQb3NpdGlvbkJ1ZmZlci5pdGVtU2l6ZSwgZ2wuRkxPQVQsIGZhbHNlLCAwLCAwKTtcblx0XHRnbC5idWZmZXJTdWJEYXRhKGdsLkFSUkFZX0JVRkZFUiwgMCwgdGhpcy5fdXZzKTtcblxuXHRcdGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCBhbHBoYUJ1ZmZlcik7XG5cdFx0Z2wudmVydGV4QXR0cmliUG9pbnRlcihzaGFkZXJQcm9ncmFtLmFscGhhQXR0cmlidXRlLCBhbHBoYUJ1ZmZlci5pdGVtU2l6ZSwgZ2wuRkxPQVQsIGZhbHNlLCAwLCAwKTtcblx0XHRnbC5idWZmZXJTdWJEYXRhKGdsLkFSUkFZX0JVRkZFUiwgMCwgdGhpcy5fYWxwaGFzKTtcblxuXHRcdGdsLnVuaWZvcm1NYXRyaXg0ZnYoc2hhZGVyUHJvZ3JhbS5wTWF0cml4VW5pZm9ybSwgZ2wuRkFMU0UsIHRoaXMuX3Byb2plY3Rpb25NYXRyaXgpO1xuXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9iYXRjaFRleHR1cmVDb3VudDsgaSsrKSB7XG5cdFx0XHR2YXIgdGV4dHVyZSA9IHRoaXMuX2JhdGNoVGV4dHVyZXNbaV07XG5cdFx0XHRnbC5hY3RpdmVUZXh0dXJlKGdsLlRFWFRVUkUwICsgaSk7XG5cdFx0XHRnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCB0ZXh0dXJlKTtcblx0XHRcdHRoaXMuc2V0VGV4dHVyZVBhcmFtcyhnbCwgdGV4dHVyZS5pc1BPVCk7XG5cdFx0fVxuXG5cdFx0Z2wuZHJhd0FycmF5cyhnbC5UUklBTkdMRVMsIDAsIHRoaXMuYmF0Y2hDYXJkQ291bnQqU3RhZ2VHTC5JTkRJQ0lFU19QRVJfQ0FSRCk7XG5cdFx0dGhpcy5fYmF0Y2hJRCsrO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBEcmF3cyBhIGNhcmQgdGhhdCBjb3ZlcnMgdGhlIGVudGlyZSByZW5kZXIgc3VyZmFjZS4gTWFpbmx5IHVzZWQgZm9yIGZpbHRlcnMuXG5cdCAqIEBtZXRob2QgX2RyYXdCdWZmZXJzXG5cdCAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCBUaGUgY2FudmFzIFdlYkdMIGNvbnRleHQgb2JqZWN0IHRvIGRyYXcgaW50by5cblx0ICogQHBhcmFtIHtCb29sZWFufSBmbGlwWSBDb3ZlcnMgYXJlIHVzZWQgZm9yIHRoaW5ncyBsaWtlIFJlbmRlclRleHR1cmVzIGFuZCBiZWNhdXNlIG9mIDNEIHZzIENhbnZhcyBzcGFjZSB0aGlzIGNhblxuXHQgKiBlbmQgdXAgbWVhbmluZyB0aGUgYHlgIHNwYWNlIHNvbWV0aW1lcyByZXF1aXJlcyBmbGlwcGluZyBpbiB0aGUgcmVuZGVyLlxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqL1xuXHRwLl9kcmF3Q292ZXIgPSBmdW5jdGlvbiAoZ2wsIGZsaXBZKSB7XG5cdFx0aWYgKHRoaXMuX2lzRHJhd2luZyA+IDApIHtcblx0XHRcdHRoaXMuX2RyYXdCdWZmZXJzKGdsKTtcblx0XHR9XG5cblx0XHRpZiAodGhpcy52b2NhbERlYnVnKSB7XG5cdFx0XHRjb25zb2xlLmxvZyhcIkRyYXdbXCIrIHRoaXMuX2RyYXdJRCArXCI6XCIrIHRoaXMuX2JhdGNoSUQgK1wiXSA6IFwiKyBcIkNvdmVyXCIpO1xuXHRcdH1cblx0XHR2YXIgc2hhZGVyUHJvZ3JhbSA9IHRoaXMuX2FjdGl2ZVNoYWRlcjtcblx0XHR2YXIgdmVydGV4UG9zaXRpb25CdWZmZXIgPSB0aGlzLl92ZXJ0ZXhQb3NpdGlvbkJ1ZmZlcjtcblx0XHR2YXIgdXZQb3NpdGlvbkJ1ZmZlciA9IHRoaXMuX3V2UG9zaXRpb25CdWZmZXI7XG5cblx0XHRnbC5jbGVhcihnbC5DT0xPUl9CVUZGRVJfQklUKTtcblx0XHRnbC51c2VQcm9ncmFtKHNoYWRlclByb2dyYW0pO1xuXG5cdFx0Z2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHZlcnRleFBvc2l0aW9uQnVmZmVyKTtcblx0XHRnbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKHNoYWRlclByb2dyYW0udmVydGV4UG9zaXRpb25BdHRyaWJ1dGUsIHZlcnRleFBvc2l0aW9uQnVmZmVyLml0ZW1TaXplLCBnbC5GTE9BVCwgZmFsc2UsIDAsIDApO1xuXHRcdGdsLmJ1ZmZlclN1YkRhdGEoZ2wuQVJSQVlfQlVGRkVSLCAwLCBTdGFnZUdMLkNPVkVSX1ZFUlQpO1xuXHRcdGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCB1dlBvc2l0aW9uQnVmZmVyKTtcblx0XHRnbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKHNoYWRlclByb2dyYW0udXZQb3NpdGlvbkF0dHJpYnV0ZSwgdXZQb3NpdGlvbkJ1ZmZlci5pdGVtU2l6ZSwgZ2wuRkxPQVQsIGZhbHNlLCAwLCAwKTtcblx0XHRnbC5idWZmZXJTdWJEYXRhKGdsLkFSUkFZX0JVRkZFUiwgMCwgZmxpcFk/U3RhZ2VHTC5DT1ZFUl9VVl9GTElQOlN0YWdlR0wuQ09WRVJfVVYpO1xuXG5cdFx0Z2wudW5pZm9ybTFpKHNoYWRlclByb2dyYW0uc2FtcGxlclVuaWZvcm0sIDApO1xuXHRcdGdsLnVuaWZvcm0xZihzaGFkZXJQcm9ncmFtLnVwcmlnaHRVbmlmb3JtLCBmbGlwWT8wOjEpO1xuXG5cdFx0Z2wuZHJhd0FycmF5cyhnbC5UUklBTkdMRVMsIDAsIFN0YWdlR0wuSU5ESUNJRVNfUEVSX0NBUkQpO1xuXHR9O1xuXG5cdGNyZWF0ZWpzLlN0YWdlR0wgPSBjcmVhdGVqcy5wcm9tb3RlKFN0YWdlR0wsIFwiU3RhZ2VcIik7XG59KCkpO1xuXG4vLyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI1xuLy8gQml0bWFwLmpzXG4vLyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI1xuXG4oZnVuY3Rpb24oKSB7XG5cdFxuXHQvKipcblx0ICogQSBCaXRtYXAgcmVwcmVzZW50cyBhbiBJbWFnZSwgQ2FudmFzLCBvciBWaWRlbyBpbiB0aGUgZGlzcGxheSBsaXN0LiBBIEJpdG1hcCBjYW4gYmUgaW5zdGFudGlhdGVkIHVzaW5nIGFuIGV4aXN0aW5nXG5cdCAqIEhUTUwgZWxlbWVudCwgb3IgYSBzdHJpbmcuXG5cdCAqXG5cdCAqIDxoND5FeGFtcGxlPC9oND5cblx0ICpcblx0ICogXHR2YXIgYml0bWFwID0gbmV3IGNyZWF0ZWpzLkJpdG1hcChcImltYWdlUGF0aC5qcGdcIik7XG5cdCAqXG5cdCAqIDxzdHJvbmc+Tm90ZXM6PC9zdHJvbmc+XG5cdCAqIDxvbD5cblx0ICogXHQ8bGk+V2hlbiB1c2luZyBhIHZpZGVvIHNvdXJjZSB0aGF0IG1heSBsb29wIG9yIHNlZWssIHVzZSBhIHt7I2Nyb3NzTGluayBcIlZpZGVvQnVmZmVyXCJ9fXt7L2Nyb3NzTGlua319IG9iamVjdCB0b1xuXHQgKiBcdCBwcmV2ZW50IGJsaW5raW5nIC8gZmxhc2hpbmcuXG5cdCAqIFx0PGxpPldoZW4gYSBzdHJpbmcgcGF0aCBvciBpbWFnZSB0YWcgdGhhdCBpcyBub3QgeWV0IGxvYWRlZCBpcyB1c2VkLCB0aGUgc3RhZ2UgbWF5IG5lZWQgdG8gYmUgcmVkcmF3biBiZWZvcmUgaXRcblx0ICogXHQgd2lsbCBiZSBkaXNwbGF5ZWQuPC9saT5cblx0ICogXHQ8bGk+Qml0bWFwcyB3aXRoIGFuIFNWRyBzb3VyY2UgY3VycmVudGx5IHdpbGwgbm90IHJlc3BlY3QgYW4gYWxwaGEgdmFsdWUgb3RoZXIgdGhhbiAwIG9yIDEuIFRvIGdldCBhcm91bmQgdGhpcyxcblx0ICogXHR0aGUgQml0bWFwIGNhbiBiZSBjYWNoZWQuPC9saT5cblx0ICogXHQ8bGk+Qml0bWFwcyB3aXRoIGFuIFNWRyBzb3VyY2Ugd2lsbCB0YWludCB0aGUgY2FudmFzIHdpdGggY3Jvc3Mtb3JpZ2luIGRhdGEsIHdoaWNoIHByZXZlbnRzIGludGVyYWN0aXZpdHkuIFRoaXNcblx0ICogXHRoYXBwZW5zIGluIGFsbCBicm93c2VycyBleGNlcHQgcmVjZW50IEZpcmVmb3ggYnVpbGRzLjwvbGk+XG5cdCAqIFx0PGxpPkltYWdlcyBsb2FkZWQgY3Jvc3Mtb3JpZ2luIHdpbGwgdGhyb3cgY3Jvc3Mtb3JpZ2luIHNlY3VyaXR5IGVycm9ycyB3aGVuIGludGVyYWN0ZWQgd2l0aCB1c2luZyBhIG1vdXNlLCB1c2luZ1xuXHQgKiBcdG1ldGhvZHMgc3VjaCBhcyBgZ2V0T2JqZWN0VW5kZXJQb2ludGAsIG9yIHVzaW5nIGZpbHRlcnMsIG9yIGNhY2hpbmcuIFlvdSBjYW4gZ2V0IGFyb3VuZCB0aGlzIGJ5IHNldHRpbmdcblx0ICogXHRgY3Jvc3NPcmlnaW5gIGZsYWdzIG9uIHlvdXIgaW1hZ2VzIGJlZm9yZSBwYXNzaW5nIHRoZW0gdG8gRWFzZWxKUywgZWc6IGBpbWcuY3Jvc3NPcmlnaW49XCJBbm9ueW1vdXNcIjtgPC9saT5cblx0ICogPC9vbD5cblx0ICpcblx0ICogQGNsYXNzIEJpdG1hcFxuXHQgKiBAZXh0ZW5kcyBEaXNwbGF5T2JqZWN0XG5cdCAqIEBjb25zdHJ1Y3RvclxuXHQgKiBAcGFyYW0ge0NhbnZhc0ltYWdlU291cmNlIHwgU3RyaW5nIHwgT2JqZWN0fSBpbWFnZU9yVXJpIFRoZSBzb3VyY2UgaW1hZ2UgdG8gZGlzcGxheS4gVGhpcyBjYW4gYmUgYSBDYW52YXNJbWFnZVNvdXJjZVxuXHQgKiAoaW1hZ2UsIHZpZGVvLCBjYW52YXMpLCBhbiBvYmplY3Qgd2l0aCBhIGBnZXRJbWFnZWAgbWV0aG9kIHRoYXQgcmV0dXJucyBhIENhbnZhc0ltYWdlU291cmNlLCBvciBhIHN0cmluZyBVUkwgdG8gYW4gaW1hZ2UuXG5cdCAqIElmIHRoZSBsYXR0ZXIsIGEgbmV3IEltYWdlIGluc3RhbmNlIHdpdGggdGhlIFVSTCBhcyBpdHMgc3JjIHdpbGwgYmUgdXNlZC5cblx0ICoqL1xuXHRmdW5jdGlvbiBCaXRtYXAoaW1hZ2VPclVyaSkge1xuXHRcdHRoaXMuRGlzcGxheU9iamVjdF9jb25zdHJ1Y3RvcigpO1xuXHRcdFxuXHRcdFxuXHQvLyBwdWJsaWMgcHJvcGVydGllczpcblx0XHQvKipcblx0XHQgKiBUaGUgc291cmNlIGltYWdlIHRvIGRpc3BsYXkuIFRoaXMgY2FuIGJlIGEgQ2FudmFzSW1hZ2VTb3VyY2Vcblx0XHQgKiAoaW1hZ2UsIHZpZGVvLCBjYW52YXMpLCBhbiBvYmplY3Qgd2l0aCBhIGBnZXRJbWFnZWAgbWV0aG9kIHRoYXQgcmV0dXJucyBhIENhbnZhc0ltYWdlU291cmNlLCBvciBhIHN0cmluZyBVUkwgdG8gYW4gaW1hZ2UuXG5cdFx0ICogSWYgdGhlIGxhdHRlciwgYSBuZXcgSW1hZ2UgaW5zdGFuY2Ugd2l0aCB0aGUgVVJMIGFzIGl0cyBzcmMgd2lsbCBiZSB1c2VkLlxuXHRcdCAqIEBwcm9wZXJ0eSBpbWFnZVxuXHRcdCAqIEB0eXBlIENhbnZhc0ltYWdlU291cmNlIHwgT2JqZWN0XG5cdFx0ICoqL1xuXHRcdGlmICh0eXBlb2YgaW1hZ2VPclVyaSA9PSBcInN0cmluZ1wiKSB7XG5cdFx0XHR0aGlzLmltYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcblx0XHRcdHRoaXMuaW1hZ2Uuc3JjID0gaW1hZ2VPclVyaTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5pbWFnZSA9IGltYWdlT3JVcmk7XG5cdFx0fVxuXHRcblx0XHQvKipcblx0XHQgKiBTcGVjaWZpZXMgYW4gYXJlYSBvZiB0aGUgc291cmNlIGltYWdlIHRvIGRyYXcuIElmIG9taXR0ZWQsIHRoZSB3aG9sZSBpbWFnZSB3aWxsIGJlIGRyYXduLlxuXHRcdCAqIE5vdGVzOlxuXHRcdCAqIDx1bD5cblx0XHQgKiAgICAgPGxpPnRoYXQgdmlkZW8gc291cmNlcyBtdXN0IGhhdmUgYSB3aWR0aCAvIGhlaWdodCBzZXQgdG8gd29yayBjb3JyZWN0bHkgd2l0aCBgc291cmNlUmVjdGA8L2xpPlxuXHRcdCAqICAgICA8bGk+Q2FjaGVkIG9iamVjdHMgd2lsbCBpZ25vcmUgdGhlIGBzb3VyY2VSZWN0YCBwcm9wZXJ0eTwvbGk+XG5cdFx0ICogPC91bD5cblx0XHQgKiBAcHJvcGVydHkgc291cmNlUmVjdFxuXHRcdCAqIEB0eXBlIFJlY3RhbmdsZVxuXHRcdCAqIEBkZWZhdWx0IG51bGxcblx0XHQgKi9cblx0XHR0aGlzLnNvdXJjZVJlY3QgPSBudWxsO1xuXG5cdC8vIHByaXZhdGUgcHJvcGVydGllczpcblx0XHQvKipcblx0XHQgKiBEb2NjZWQgaW4gc3VwZXJjbGFzcy5cblx0XHQgKi9cblx0XHR0aGlzLl93ZWJHTFJlbmRlclN0eWxlID0gY3JlYXRlanMuRGlzcGxheU9iamVjdC5fU3RhZ2VHTF9CSVRNQVA7XG5cdH1cblx0dmFyIHAgPSBjcmVhdGVqcy5leHRlbmQoQml0bWFwLCBjcmVhdGVqcy5EaXNwbGF5T2JqZWN0KTtcblx0XG5cdFxuLy8gcHVibGljIG1ldGhvZHM6XG5cdC8qKlxuXHQgKiBDb25zdHJ1Y3RvciBhbGlhcyBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHkuIFRoaXMgbWV0aG9kIHdpbGwgYmUgcmVtb3ZlZCBpbiBmdXR1cmUgdmVyc2lvbnMuXG5cdCAqIFN1YmNsYXNzZXMgc2hvdWxkIGJlIHVwZGF0ZWQgdG8gdXNlIHt7I2Nyb3NzTGluayBcIlV0aWxpdHkgTWV0aG9kcy9leHRlbmRzXCJ9fXt7L2Nyb3NzTGlua319LlxuXHQgKiBAbWV0aG9kIGluaXRpYWxpemVcblx0ICogQGRlcHJlY2F0ZWQgaW4gZmF2b3VyIG9mIGBjcmVhdGVqcy5wcm9tb3RlKClgXG5cdCAqKi9cblx0cC5pbml0aWFsaXplID0gQml0bWFwOyAvLyBUT0RPOiBkZXByZWNhdGVkLlxuXG5cdC8qKlxuXHQgKiBSZXR1cm5zIHRydWUgb3IgZmFsc2UgaW5kaWNhdGluZyB3aGV0aGVyIHRoZSBkaXNwbGF5IG9iamVjdCB3b3VsZCBiZSB2aXNpYmxlIGlmIGRyYXduIHRvIGEgY2FudmFzLlxuXHQgKiBUaGlzIGRvZXMgbm90IGFjY291bnQgZm9yIHdoZXRoZXIgaXQgd291bGQgYmUgdmlzaWJsZSB3aXRoaW4gdGhlIGJvdW5kYXJpZXMgb2YgdGhlIHN0YWdlLlxuXHQgKlxuXHQgKiBOT1RFOiBUaGlzIG1ldGhvZCBpcyBtYWlubHkgZm9yIGludGVybmFsIHVzZSwgdGhvdWdoIGl0IG1heSBiZSB1c2VmdWwgZm9yIGFkdmFuY2VkIHVzZXMuXG5cdCAqIEBtZXRob2QgaXNWaXNpYmxlXG5cdCAqIEByZXR1cm4ge0Jvb2xlYW59IEJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIHRoZSBkaXNwbGF5IG9iamVjdCB3b3VsZCBiZSB2aXNpYmxlIGlmIGRyYXduIHRvIGEgY2FudmFzXG5cdCAqKi9cblx0cC5pc1Zpc2libGUgPSBmdW5jdGlvbigpIHtcblx0XHR2YXIgaW1hZ2UgPSB0aGlzLmltYWdlO1xuXHRcdHZhciBoYXNDb250ZW50ID0gdGhpcy5jYWNoZUNhbnZhcyB8fCAoaW1hZ2UgJiYgKGltYWdlLm5hdHVyYWxXaWR0aCB8fCBpbWFnZS5nZXRDb250ZXh0IHx8IGltYWdlLnJlYWR5U3RhdGUgPj0gMikpO1xuXHRcdHJldHVybiAhISh0aGlzLnZpc2libGUgJiYgdGhpcy5hbHBoYSA+IDAgJiYgdGhpcy5zY2FsZVggIT0gMCAmJiB0aGlzLnNjYWxlWSAhPSAwICYmIGhhc0NvbnRlbnQpO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBEcmF3cyB0aGUgZGlzcGxheSBvYmplY3QgaW50byB0aGUgc3BlY2lmaWVkIGNvbnRleHQgaWdub3JpbmcgaXRzIHZpc2libGUsIGFscGhhLCBzaGFkb3csIGFuZCB0cmFuc2Zvcm0uXG5cdCAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZHJhdyB3YXMgaGFuZGxlZCAodXNlZnVsIGZvciBvdmVycmlkaW5nIGZ1bmN0aW9uYWxpdHkpLlxuXHQgKlxuXHQgKiBOT1RFOiBUaGlzIG1ldGhvZCBpcyBtYWlubHkgZm9yIGludGVybmFsIHVzZSwgdGhvdWdoIGl0IG1heSBiZSB1c2VmdWwgZm9yIGFkdmFuY2VkIHVzZXMuXG5cdCAqIEBtZXRob2QgZHJhd1xuXHQgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY3R4IFRoZSBjYW52YXMgMkQgY29udGV4dCBvYmplY3QgdG8gZHJhdyBpbnRvLlxuXHQgKiBAcGFyYW0ge0Jvb2xlYW59IFtpZ25vcmVDYWNoZT1mYWxzZV0gSW5kaWNhdGVzIHdoZXRoZXIgdGhlIGRyYXcgb3BlcmF0aW9uIHNob3VsZCBpZ25vcmUgYW55IGN1cnJlbnQgY2FjaGUuXG5cdCAqIEZvciBleGFtcGxlLCB1c2VkIGZvciBkcmF3aW5nIHRoZSBjYWNoZSAodG8gcHJldmVudCBpdCBmcm9tIHNpbXBseSBkcmF3aW5nIGFuIGV4aXN0aW5nIGNhY2hlIGJhY2tcblx0ICogaW50byBpdHNlbGYpLlxuXHQgKiBAcmV0dXJuIHtCb29sZWFufVxuXHQgKiovXG5cdHAuZHJhdyA9IGZ1bmN0aW9uKGN0eCwgaWdub3JlQ2FjaGUpIHtcblx0XHRpZiAodGhpcy5EaXNwbGF5T2JqZWN0X2RyYXcoY3R4LCBpZ25vcmVDYWNoZSkpIHsgcmV0dXJuIHRydWU7IH1cblx0XHR2YXIgaW1nID0gdGhpcy5pbWFnZSwgcmVjdCA9IHRoaXMuc291cmNlUmVjdDtcblx0XHRpZiAoaW1nLmdldEltYWdlKSB7IGltZyA9IGltZy5nZXRJbWFnZSgpOyB9XG5cdFx0aWYgKCFpbWcpIHsgcmV0dXJuIHRydWU7IH1cblx0XHRpZiAocmVjdCkge1xuXHRcdFx0Ly8gc29tZSBicm93c2VycyBjaG9rZSBvbiBvdXQgb2YgYm91bmQgdmFsdWVzLCBzbyB3ZSdsbCBmaXggdGhlbTpcblx0XHRcdHZhciB4MSA9IHJlY3QueCwgeTEgPSByZWN0LnksIHgyID0geDEgKyByZWN0LndpZHRoLCB5MiA9IHkxICsgcmVjdC5oZWlnaHQsIHggPSAwLCB5ID0gMCwgdyA9IGltZy53aWR0aCwgaCA9IGltZy5oZWlnaHQ7XG5cdFx0XHRpZiAoeDEgPCAwKSB7IHggLT0geDE7IHgxID0gMDsgfVxuXHRcdFx0aWYgKHgyID4gdykgeyB4MiA9IHc7IH1cblx0XHRcdGlmICh5MSA8IDApIHsgeSAtPSB5MTsgeTEgPSAwOyB9XG5cdFx0XHRpZiAoeTIgPiBoKSB7IHkyID0gaDsgfVxuXHRcdFx0Y3R4LmRyYXdJbWFnZShpbWcsIHgxLCB5MSwgeDIteDEsIHkyLXkxLCB4LCB5LCB4Mi14MSwgeTIteTEpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRjdHguZHJhd0ltYWdlKGltZywgMCwgMCk7XG5cdFx0fVxuXHRcdHJldHVybiB0cnVlO1xuXHR9O1xuXHRcblx0Ly9Ob3RlLCB0aGUgZG9jIHNlY3Rpb25zIGJlbG93IGRvY3VtZW50IHVzaW5nIHRoZSBzcGVjaWZpZWQgQVBJcyAoZnJvbSBEaXNwbGF5T2JqZWN0KSAgZnJvbVxuXHQvL0JpdG1hcC4gVGhpcyBpcyB3aHkgdGhleSBoYXZlIG5vIG1ldGhvZCBpbXBsZW1lbnRhdGlvbnMuXG5cdFxuXHQvKipcblx0ICogQmVjYXVzZSB0aGUgY29udGVudCBvZiBhIEJpdG1hcCBpcyBhbHJlYWR5IGluIGEgc2ltcGxlIGZvcm1hdCwgY2FjaGUgaXMgdW5uZWNlc3NhcnkgZm9yIEJpdG1hcCBpbnN0YW5jZXMuXG5cdCAqIFlvdSBzaG91bGQgPGI+bm90PC9iPiBjYWNoZSBCaXRtYXAgaW5zdGFuY2VzIGFzIGl0IGNhbiBkZWdyYWRlIHBlcmZvcm1hbmNlLlxuXHQgKlxuXHQgKiA8c3Ryb25nPkhvd2V2ZXI6IElmIHlvdSB3YW50IHRvIHVzZSBhIGZpbHRlciBvbiBhIEJpdG1hcCwgeW91IDxlbT5NVVNUPC9lbT4gY2FjaGUgaXQsIG9yIGl0IHdpbGwgbm90IHdvcmsuPC9zdHJvbmc+XG5cdCAqIFRvIHNlZSB0aGUgQVBJIGZvciBjYWNoaW5nLCBwbGVhc2UgdmlzaXQgdGhlIERpc3BsYXlPYmplY3Qge3sjY3Jvc3NMaW5rIFwiRGlzcGxheU9iamVjdC9jYWNoZVwifX17ey9jcm9zc0xpbmt9fVxuXHQgKiBtZXRob2QuXG5cdCAqIEBtZXRob2QgY2FjaGVcblx0ICoqL1xuXHRcblx0LyoqXG5cdCAqIEJlY2F1c2UgdGhlIGNvbnRlbnQgb2YgYSBCaXRtYXAgaXMgYWxyZWFkeSBpbiBhIHNpbXBsZSBmb3JtYXQsIGNhY2hlIGlzIHVubmVjZXNzYXJ5IGZvciBCaXRtYXAgaW5zdGFuY2VzLlxuXHQgKiBZb3Ugc2hvdWxkIDxiPm5vdDwvYj4gY2FjaGUgQml0bWFwIGluc3RhbmNlcyBhcyBpdCBjYW4gZGVncmFkZSBwZXJmb3JtYW5jZS5cblx0ICpcblx0ICogPHN0cm9uZz5Ib3dldmVyOiBJZiB5b3Ugd2FudCB0byB1c2UgYSBmaWx0ZXIgb24gYSBCaXRtYXAsIHlvdSA8ZW0+TVVTVDwvZW0+IGNhY2hlIGl0LCBvciBpdCB3aWxsIG5vdCB3b3JrLjwvc3Ryb25nPlxuXHQgKiBUbyBzZWUgdGhlIEFQSSBmb3IgY2FjaGluZywgcGxlYXNlIHZpc2l0IHRoZSBEaXNwbGF5T2JqZWN0IHt7I2Nyb3NzTGluayBcIkRpc3BsYXlPYmplY3QvY2FjaGVcIn19e3svY3Jvc3NMaW5rfX1cblx0ICogbWV0aG9kLlxuXHQgKiBAbWV0aG9kIHVwZGF0ZUNhY2hlXG5cdCAqKi9cblx0XG5cdC8qKlxuXHQgKiBCZWNhdXNlIHRoZSBjb250ZW50IG9mIGEgQml0bWFwIGlzIGFscmVhZHkgaW4gYSBzaW1wbGUgZm9ybWF0LCBjYWNoZSBpcyB1bm5lY2Vzc2FyeSBmb3IgQml0bWFwIGluc3RhbmNlcy5cblx0ICogWW91IHNob3VsZCA8Yj5ub3Q8L2I+IGNhY2hlIEJpdG1hcCBpbnN0YW5jZXMgYXMgaXQgY2FuIGRlZ3JhZGUgcGVyZm9ybWFuY2UuXG5cdCAqXG5cdCAqIDxzdHJvbmc+SG93ZXZlcjogSWYgeW91IHdhbnQgdG8gdXNlIGEgZmlsdGVyIG9uIGEgQml0bWFwLCB5b3UgPGVtPk1VU1Q8L2VtPiBjYWNoZSBpdCwgb3IgaXQgd2lsbCBub3Qgd29yay48L3N0cm9uZz5cblx0ICogVG8gc2VlIHRoZSBBUEkgZm9yIGNhY2hpbmcsIHBsZWFzZSB2aXNpdCB0aGUgRGlzcGxheU9iamVjdCB7eyNjcm9zc0xpbmsgXCJEaXNwbGF5T2JqZWN0L2NhY2hlXCJ9fXt7L2Nyb3NzTGlua319XG5cdCAqIG1ldGhvZC5cblx0ICogQG1ldGhvZCB1bmNhY2hlXG5cdCAqKi9cblxuXHQvKipcblx0ICogRG9jY2VkIGluIHN1cGVyY2xhc3MuXG5cdCAqL1xuXHRwLmdldEJvdW5kcyA9IGZ1bmN0aW9uKCkge1xuXHRcdHZhciByZWN0ID0gdGhpcy5EaXNwbGF5T2JqZWN0X2dldEJvdW5kcygpO1xuXHRcdGlmIChyZWN0KSB7IHJldHVybiByZWN0OyB9XG5cdFx0dmFyIGltYWdlID0gdGhpcy5pbWFnZSwgbyA9IHRoaXMuc291cmNlUmVjdCB8fCBpbWFnZTtcblx0XHR2YXIgaGFzQ29udGVudCA9IChpbWFnZSAmJiAoaW1hZ2UubmF0dXJhbFdpZHRoIHx8IGltYWdlLmdldENvbnRleHQgfHwgaW1hZ2UucmVhZHlTdGF0ZSA+PSAyKSk7XG5cdFx0cmV0dXJuIGhhc0NvbnRlbnQgPyB0aGlzLl9yZWN0YW5nbGUuc2V0VmFsdWVzKDAsIDAsIG8ud2lkdGgsIG8uaGVpZ2h0KSA6IG51bGw7XG5cdH07XG5cdFxuXHQvKipcblx0ICogUmV0dXJucyBhIGNsb25lIG9mIHRoZSBCaXRtYXAgaW5zdGFuY2UuXG5cdCAqIEBtZXRob2QgY2xvbmVcblx0ICogQHBhcmFtIHtCb29sZWFufSBub2RlIFdoZXRoZXIgdGhlIHVuZGVybHlpbmcgZG9tIGVsZW1lbnQgc2hvdWxkIGJlIGNsb25lZCBhcyB3ZWxsLlxuXHQgKiBAcmV0dXJuIHtCaXRtYXB9IGEgY2xvbmUgb2YgdGhlIEJpdG1hcCBpbnN0YW5jZS5cblx0ICoqL1xuXHRwLmNsb25lID0gZnVuY3Rpb24obm9kZSkge1xuXHRcdHZhciBpbWFnZSA9IHRoaXMuaW1hZ2U7XG5cdFx0aWYoaW1hZ2UgJiYgbm9kZSl7IGltYWdlID0gaW1hZ2UuY2xvbmVOb2RlKCk7IH1cblx0XHR2YXIgbyA9IG5ldyBCaXRtYXAoaW1hZ2UpO1xuXHRcdGlmICh0aGlzLnNvdXJjZVJlY3QpIHsgby5zb3VyY2VSZWN0ID0gdGhpcy5zb3VyY2VSZWN0LmNsb25lKCk7IH1cblx0XHR0aGlzLl9jbG9uZVByb3BzKG8pO1xuXHRcdHJldHVybiBvO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIFJldHVybnMgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhpcyBvYmplY3QuXG5cdCAqIEBtZXRob2QgdG9TdHJpbmdcblx0ICogQHJldHVybiB7U3RyaW5nfSBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgaW5zdGFuY2UuXG5cdCAqKi9cblx0cC50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBcIltCaXRtYXAgKG5hbWU9XCIrICB0aGlzLm5hbWUgK1wiKV1cIjtcblx0fTtcblxuXHRcblx0Y3JlYXRlanMuQml0bWFwID0gY3JlYXRlanMucHJvbW90ZShCaXRtYXAsIFwiRGlzcGxheU9iamVjdFwiKTtcbn0oKSk7XG5cbi8vIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXG4vLyBTcHJpdGUuanNcbi8vIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXG5cbihmdW5jdGlvbigpIHtcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cblxuLy8gY29uc3RydWN0b3I6XG5cdC8qKlxuXHQgKiBEaXNwbGF5cyBhIGZyYW1lIG9yIHNlcXVlbmNlIG9mIGZyYW1lcyAoaWUuIGFuIGFuaW1hdGlvbikgZnJvbSBhIFNwcml0ZVNoZWV0IGluc3RhbmNlLiBBIHNwcml0ZSBzaGVldCBpcyBhIHNlcmllcyBvZlxuXHQgKiBpbWFnZXMgKHVzdWFsbHkgYW5pbWF0aW9uIGZyYW1lcykgY29tYmluZWQgaW50byBhIHNpbmdsZSBpbWFnZS4gRm9yIGV4YW1wbGUsIGFuIGFuaW1hdGlvbiBjb25zaXN0aW5nIG9mIDggMTAweDEwMFxuXHQgKiBpbWFnZXMgY291bGQgYmUgY29tYmluZWQgaW50byBhIDQwMHgyMDAgc3ByaXRlIHNoZWV0ICg0IGZyYW1lcyBhY3Jvc3MgYnkgMiBoaWdoKS4gWW91IGNhbiBkaXNwbGF5IGluZGl2aWR1YWwgZnJhbWVzLFxuXHQgKiBwbGF5IGZyYW1lcyBhcyBhbiBhbmltYXRpb24sIGFuZCBldmVuIHNlcXVlbmNlIGFuaW1hdGlvbnMgdG9nZXRoZXIuXG5cdCAqXG5cdCAqIFNlZSB0aGUge3sjY3Jvc3NMaW5rIFwiU3ByaXRlU2hlZXRcIn19e3svY3Jvc3NMaW5rfX0gY2xhc3MgZm9yIG1vcmUgaW5mb3JtYXRpb24gb24gc2V0dGluZyB1cCBmcmFtZXMgYW5kIGFuaW1hdGlvbnMuXG5cdCAqXG5cdCAqIDxoND5FeGFtcGxlPC9oND5cblx0ICpcblx0ICogICAgICB2YXIgaW5zdGFuY2UgPSBuZXcgY3JlYXRlanMuU3ByaXRlKHNwcml0ZVNoZWV0KTtcblx0ICogICAgICBpbnN0YW5jZS5nb3RvQW5kU3RvcChcImZyYW1lTmFtZVwiKTtcblx0ICpcblx0ICogVW50aWwge3sjY3Jvc3NMaW5rIFwiU3ByaXRlL2dvdG9BbmRTdG9wXCJ9fXt7L2Nyb3NzTGlua319IG9yIHt7I2Nyb3NzTGluayBcIlNwcml0ZS9nb3RvQW5kUGxheVwifX17ey9jcm9zc0xpbmt9fSBpcyBjYWxsZWQsXG5cdCAqIG9ubHkgdGhlIGZpcnN0IGRlZmluZWQgZnJhbWUgZGVmaW5lZCBpbiB0aGUgc3ByaXRlIHNoZWV0IHdpbGwgYmUgZGlzcGxheWVkLlxuXHQgKlxuXHQgKiBAY2xhc3MgU3ByaXRlXG5cdCAqIEBleHRlbmRzIERpc3BsYXlPYmplY3Rcblx0ICogQGNvbnN0cnVjdG9yXG5cdCAqIEBwYXJhbSB7U3ByaXRlU2hlZXR9IHNwcml0ZVNoZWV0IFRoZSBTcHJpdGVTaGVldCBpbnN0YW5jZSB0byBwbGF5IGJhY2suIFRoaXMgaW5jbHVkZXMgdGhlIHNvdXJjZSBpbWFnZShzKSwgZnJhbWVcblx0ICogZGltZW5zaW9ucywgYW5kIGZyYW1lIGRhdGEuIFNlZSB7eyNjcm9zc0xpbmsgXCJTcHJpdGVTaGVldFwifX17ey9jcm9zc0xpbmt9fSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cblx0ICogQHBhcmFtIHtTdHJpbmd8TnVtYmVyfSBbZnJhbWVPckFuaW1hdGlvbl0gVGhlIGZyYW1lIG51bWJlciBvciBhbmltYXRpb24gdG8gcGxheSBpbml0aWFsbHkuXG5cdCAqKi9cblx0ZnVuY3Rpb24gU3ByaXRlKHNwcml0ZVNoZWV0LCBmcmFtZU9yQW5pbWF0aW9uKSB7XG5cdFx0dGhpcy5EaXNwbGF5T2JqZWN0X2NvbnN0cnVjdG9yKCk7XG5cdFx0XG5cdFx0XG5cdC8vIHB1YmxpYyBwcm9wZXJ0aWVzOlxuXHRcdC8qKlxuXHRcdCAqIFRoZSBmcmFtZSBpbmRleCB0aGF0IHdpbGwgYmUgZHJhd24gd2hlbiBkcmF3IGlzIGNhbGxlZC4gTm90ZSB0aGF0IHdpdGggc29tZSB7eyNjcm9zc0xpbmsgXCJTcHJpdGVTaGVldFwifX17ey9jcm9zc0xpbmt9fVxuXHRcdCAqIGRlZmluaXRpb25zLCB0aGlzIHdpbGwgYWR2YW5jZSBub24tc2VxdWVudGlhbGx5LiBUaGlzIHdpbGwgYWx3YXlzIGJlIGFuIGludGVnZXIgdmFsdWUuXG5cdFx0ICogQHByb3BlcnR5IGN1cnJlbnRGcmFtZVxuXHRcdCAqIEB0eXBlIHtOdW1iZXJ9XG5cdFx0ICogQGRlZmF1bHQgMFxuXHRcdCAqIEByZWFkb25seVxuXHRcdCAqKi9cblx0XHR0aGlzLmN1cnJlbnRGcmFtZSA9IDA7XG5cdFxuXHRcdC8qKlxuXHRcdCAqIFJldHVybnMgdGhlIG5hbWUgb2YgdGhlIGN1cnJlbnRseSBwbGF5aW5nIGFuaW1hdGlvbi5cblx0XHQgKiBAcHJvcGVydHkgY3VycmVudEFuaW1hdGlvblxuXHRcdCAqIEB0eXBlIHtTdHJpbmd9XG5cdFx0ICogQGZpbmFsXG5cdFx0ICogQHJlYWRvbmx5XG5cdFx0ICoqL1xuXHRcdHRoaXMuY3VycmVudEFuaW1hdGlvbiA9IG51bGw7XG5cdFxuXHRcdC8qKlxuXHRcdCAqIFByZXZlbnRzIHRoZSBhbmltYXRpb24gZnJvbSBhZHZhbmNpbmcgZWFjaCB0aWNrIGF1dG9tYXRpY2FsbHkuIEZvciBleGFtcGxlLCB5b3UgY291bGQgY3JlYXRlIGEgc3ByaXRlXG5cdFx0ICogc2hlZXQgb2YgaWNvbnMsIHNldCBwYXVzZWQgdG8gdHJ1ZSwgYW5kIGRpc3BsYXkgdGhlIGFwcHJvcHJpYXRlIGljb24gYnkgc2V0dGluZyA8Y29kZT5jdXJyZW50RnJhbWU8L2NvZGU+LlxuXHRcdCAqIEBwcm9wZXJ0eSBwYXVzZWRcblx0XHQgKiBAdHlwZSB7Qm9vbGVhbn1cblx0XHQgKiBAZGVmYXVsdCBmYWxzZVxuXHRcdCAqKi9cblx0XHR0aGlzLnBhdXNlZCA9IHRydWU7XG5cdFxuXHRcdC8qKlxuXHRcdCAqIFRoZSBTcHJpdGVTaGVldCBpbnN0YW5jZSB0byBwbGF5IGJhY2suIFRoaXMgaW5jbHVkZXMgdGhlIHNvdXJjZSBpbWFnZSwgZnJhbWUgZGltZW5zaW9ucywgYW5kIGZyYW1lXG5cdFx0ICogZGF0YS4gU2VlIHt7I2Nyb3NzTGluayBcIlNwcml0ZVNoZWV0XCJ9fXt7L2Nyb3NzTGlua319IGZvciBtb3JlIGluZm9ybWF0aW9uLlxuXHRcdCAqIEBwcm9wZXJ0eSBzcHJpdGVTaGVldFxuXHRcdCAqIEB0eXBlIHtTcHJpdGVTaGVldH1cblx0XHQgKiBAcmVhZG9ubHlcblx0XHQgKiovXG5cdFx0dGhpcy5zcHJpdGVTaGVldCA9IHNwcml0ZVNoZWV0O1xuXHRcblx0XHQvKipcblx0XHQgKiBTcGVjaWZpZXMgdGhlIGN1cnJlbnQgZnJhbWUgaW5kZXggd2l0aGluIHRoZSBjdXJyZW50bHkgcGxheWluZyBhbmltYXRpb24uIFdoZW4gcGxheWluZyBub3JtYWxseSwgdGhpcyB3aWxsIGluY3JlYXNlXG5cdFx0ICogZnJvbSAwIHRvIG4tMSwgd2hlcmUgbiBpcyB0aGUgbnVtYmVyIG9mIGZyYW1lcyBpbiB0aGUgY3VycmVudCBhbmltYXRpb24uXG5cdFx0ICpcblx0XHQgKiBUaGlzIGNvdWxkIGJlIGEgbm9uLWludGVnZXIgdmFsdWUgaWZcblx0XHQgKiB1c2luZyB0aW1lLWJhc2VkIHBsYXliYWNrIChzZWUge3sjY3Jvc3NMaW5rIFwiU3ByaXRlL2ZyYW1lcmF0ZVwifX17ey9jcm9zc0xpbmt9fSwgb3IgaWYgdGhlIGFuaW1hdGlvbidzIHNwZWVkIGlzXG5cdFx0ICogbm90IGFuIGludGVnZXIuXG5cdFx0ICogQHByb3BlcnR5IGN1cnJlbnRBbmltYXRpb25GcmFtZVxuXHRcdCAqIEB0eXBlIHtOdW1iZXJ9XG5cdFx0ICogQGRlZmF1bHQgMFxuXHRcdCAqKi9cblx0XHR0aGlzLmN1cnJlbnRBbmltYXRpb25GcmFtZSA9IDA7XG5cdFxuXHRcdC8qKlxuXHRcdCAqIEJ5IGRlZmF1bHQgU3ByaXRlIGluc3RhbmNlcyBhZHZhbmNlIG9uZSBmcmFtZSBwZXIgdGljay4gU3BlY2lmeWluZyBhIGZyYW1lcmF0ZSBmb3IgdGhlIFNwcml0ZSAob3IgaXRzIHJlbGF0ZWRcblx0XHQgKiBTcHJpdGVTaGVldCkgd2lsbCBjYXVzZSBpdCB0byBhZHZhbmNlIGJhc2VkIG9uIGVsYXBzZWQgdGltZSBiZXR3ZWVuIHRpY2tzIGFzIGFwcHJvcHJpYXRlIHRvIG1haW50YWluIHRoZSB0YXJnZXRcblx0XHQgKiBmcmFtZXJhdGUuXG5cdFx0ICpcblx0XHQgKiBGb3IgZXhhbXBsZSwgaWYgYSBTcHJpdGUgd2l0aCBhIGZyYW1lcmF0ZSBvZiAxMCBpcyBwbGFjZWQgb24gYSBTdGFnZSBiZWluZyB1cGRhdGVkIGF0IDQwZnBzLCB0aGVuIHRoZSBTcHJpdGUgd2lsbFxuXHRcdCAqIGFkdmFuY2Ugcm91Z2hseSBvbmUgZnJhbWUgZXZlcnkgNCB0aWNrcy4gVGhpcyB3aWxsIG5vdCBiZSBleGFjdCwgYmVjYXVzZSB0aGUgdGltZSBiZXR3ZWVuIGVhY2ggdGljayB3aWxsXG5cdFx0ICogdmFyeSBzbGlnaHRseSBiZXR3ZWVuIGZyYW1lcy5cblx0XHQgKlxuXHRcdCAqIFRoaXMgZmVhdHVyZSBpcyBkZXBlbmRlbnQgb24gdGhlIHRpY2sgZXZlbnQgb2JqZWN0IChvciBhbiBvYmplY3Qgd2l0aCBhbiBhcHByb3ByaWF0ZSBcImRlbHRhXCIgcHJvcGVydHkpIGJlaW5nXG5cdFx0ICogcGFzc2VkIGludG8ge3sjY3Jvc3NMaW5rIFwiU3RhZ2UvdXBkYXRlXCJ9fXt7L2Nyb3NzTGlua319LlxuXHRcdCAqIEBwcm9wZXJ0eSBmcmFtZXJhdGVcblx0XHQgKiBAdHlwZSB7TnVtYmVyfVxuXHRcdCAqIEBkZWZhdWx0IDBcblx0XHQgKiovXG5cdFx0dGhpcy5mcmFtZXJhdGUgPSAwO1xuXHRcblx0XG5cdC8vIHByaXZhdGUgcHJvcGVydGllczpcblx0XHQvKipcblx0XHQgKiBDdXJyZW50IGFuaW1hdGlvbiBvYmplY3QuXG5cdFx0ICogQHByb3BlcnR5IF9hbmltYXRpb25cblx0XHQgKiBAcHJvdGVjdGVkXG5cdFx0ICogQHR5cGUge09iamVjdH1cblx0XHQgKiBAZGVmYXVsdCBudWxsXG5cdFx0ICoqL1xuXHRcdHRoaXMuX2FuaW1hdGlvbiA9IG51bGw7XG5cdFxuXHRcdC8qKlxuXHRcdCAqIEN1cnJlbnQgZnJhbWUgaW5kZXguXG5cdFx0ICogQHByb3BlcnR5IF9jdXJyZW50RnJhbWVcblx0XHQgKiBAcHJvdGVjdGVkXG5cdFx0ICogQHR5cGUge051bWJlcn1cblx0XHQgKiBAZGVmYXVsdCBudWxsXG5cdFx0ICoqL1xuXHRcdHRoaXMuX2N1cnJlbnRGcmFtZSA9IG51bGw7XG5cdFx0XG5cdFx0LyoqXG5cdFx0ICogU2tpcHMgdGhlIG5leHQgYXV0byBhZHZhbmNlLiBVc2VkIGJ5IGdvdG9BbmRQbGF5IHRvIGF2b2lkIGltbWVkaWF0ZWx5IGp1bXBpbmcgdG8gdGhlIG5leHQgZnJhbWVcblx0XHQgKiBAcHJvcGVydHkgX3NraXBBZHZhbmNlXG5cdFx0ICogQHByb3RlY3RlZFxuXHRcdCAqIEB0eXBlIHtCb29sZWFufVxuXHRcdCAqIEBkZWZhdWx0IGZhbHNlXG5cdFx0ICoqL1xuXHRcdHRoaXMuX3NraXBBZHZhbmNlID0gZmFsc2U7XG5cblx0XHQvKipcblx0XHQgKiBEb2NjZWQgaW4gc3VwZXJjbGFzcy5cblx0XHQgKi9cblx0XHR0aGlzLl93ZWJHTFJlbmRlclN0eWxlID0gY3JlYXRlanMuRGlzcGxheU9iamVjdC5fU3RhZ2VHTF9TUFJJVEU7XG5cblx0XHRpZiAoZnJhbWVPckFuaW1hdGlvbiAhPSBudWxsKSB7IHRoaXMuZ290b0FuZFBsYXkoZnJhbWVPckFuaW1hdGlvbik7IH1cblx0fVxuXHR2YXIgcCA9IGNyZWF0ZWpzLmV4dGVuZChTcHJpdGUsIGNyZWF0ZWpzLkRpc3BsYXlPYmplY3QpO1xuXG5cdC8qKlxuXHQgKiBDb25zdHJ1Y3RvciBhbGlhcyBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHkuIFRoaXMgbWV0aG9kIHdpbGwgYmUgcmVtb3ZlZCBpbiBmdXR1cmUgdmVyc2lvbnMuXG5cdCAqIFN1YmNsYXNzZXMgc2hvdWxkIGJlIHVwZGF0ZWQgdG8gdXNlIHt7I2Nyb3NzTGluayBcIlV0aWxpdHkgTWV0aG9kcy9leHRlbmRzXCJ9fXt7L2Nyb3NzTGlua319LlxuXHQgKiBAbWV0aG9kIGluaXRpYWxpemVcblx0ICogQGRlcHJlY2F0ZWQgaW4gZmF2b3VyIG9mIGBjcmVhdGVqcy5wcm9tb3RlKClgXG5cdCAqKi9cblx0cC5pbml0aWFsaXplID0gU3ByaXRlOyAvLyBUT0RPOiBEZXByZWNhdGVkLiBUaGlzIGlzIGZvciBiYWNrd2FyZHMgc3VwcG9ydCBvZiBGbGFzaC9BbmltYXRlIHNwcml0ZXNoZWV0IGV4cG9ydC5cblxuXG4vLyBldmVudHM6XG5cdC8qKlxuXHQgKiBEaXNwYXRjaGVkIHdoZW4gYW4gYW5pbWF0aW9uIHJlYWNoZXMgaXRzIGVuZHMuXG5cdCAqIEBldmVudCBhbmltYXRpb25lbmRcblx0ICogQHBhcmFtIHtPYmplY3R9IHRhcmdldCBUaGUgb2JqZWN0IHRoYXQgZGlzcGF0Y2hlZCB0aGUgZXZlbnQuXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlIFRoZSBldmVudCB0eXBlLlxuXHQgKiBAcGFyYW0ge1N0cmluZ30gbmFtZSBUaGUgbmFtZSBvZiB0aGUgYW5pbWF0aW9uIHRoYXQganVzdCBlbmRlZC5cblx0ICogQHBhcmFtIHtTdHJpbmd9IG5leHQgVGhlIG5hbWUgb2YgdGhlIG5leHQgYW5pbWF0aW9uIHRoYXQgd2lsbCBiZSBwbGF5ZWQsIG9yIG51bGwuIFRoaXMgd2lsbCBiZSB0aGUgc2FtZSBhcyBuYW1lIGlmIHRoZSBhbmltYXRpb24gaXMgbG9vcGluZy5cblx0ICogQHNpbmNlIDAuNi4wXG5cdCAqL1xuXHQgXG5cdC8qKlxuXHQgKiBEaXNwYXRjaGVkIGFueSB0aW1lIHRoZSBjdXJyZW50IGZyYW1lIGNoYW5nZXMuIEZvciBleGFtcGxlLCB0aGlzIGNvdWxkIGJlIGR1ZSB0byBhdXRvbWF0aWMgYWR2YW5jZW1lbnQgb24gYSB0aWNrLFxuXHQgKiBvciBjYWxsaW5nIGdvdG9BbmRQbGF5KCkgb3IgZ290b0FuZFN0b3AoKS5cblx0ICogQGV2ZW50IGNoYW5nZVxuXHQgKiBAcGFyYW0ge09iamVjdH0gdGFyZ2V0IFRoZSBvYmplY3QgdGhhdCBkaXNwYXRjaGVkIHRoZSBldmVudC5cblx0ICogQHBhcmFtIHtTdHJpbmd9IHR5cGUgVGhlIGV2ZW50IHR5cGUuXG5cdCAqL1xuXG5cbi8vIHB1YmxpYyBtZXRob2RzOlxuXHQvKipcblx0ICogUmV0dXJucyB0cnVlIG9yIGZhbHNlIGluZGljYXRpbmcgd2hldGhlciB0aGUgZGlzcGxheSBvYmplY3Qgd291bGQgYmUgdmlzaWJsZSBpZiBkcmF3biB0byBhIGNhbnZhcy5cblx0ICogVGhpcyBkb2VzIG5vdCBhY2NvdW50IGZvciB3aGV0aGVyIGl0IHdvdWxkIGJlIHZpc2libGUgd2l0aGluIHRoZSBib3VuZGFyaWVzIG9mIHRoZSBzdGFnZS5cblx0ICogTk9URTogVGhpcyBtZXRob2QgaXMgbWFpbmx5IGZvciBpbnRlcm5hbCB1c2UsIHRob3VnaCBpdCBtYXkgYmUgdXNlZnVsIGZvciBhZHZhbmNlZCB1c2VzLlxuXHQgKiBAbWV0aG9kIGlzVmlzaWJsZVxuXHQgKiBAcmV0dXJuIHtCb29sZWFufSBCb29sZWFuIGluZGljYXRpbmcgd2hldGhlciB0aGUgZGlzcGxheSBvYmplY3Qgd291bGQgYmUgdmlzaWJsZSBpZiBkcmF3biB0byBhIGNhbnZhc1xuXHQgKiovXG5cdHAuaXNWaXNpYmxlID0gZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGhhc0NvbnRlbnQgPSB0aGlzLmNhY2hlQ2FudmFzIHx8IHRoaXMuc3ByaXRlU2hlZXQuY29tcGxldGU7XG5cdFx0cmV0dXJuICEhKHRoaXMudmlzaWJsZSAmJiB0aGlzLmFscGhhID4gMCAmJiB0aGlzLnNjYWxlWCAhPSAwICYmIHRoaXMuc2NhbGVZICE9IDAgJiYgaGFzQ29udGVudCk7XG5cdH07XG5cblx0LyoqXG5cdCAqIERyYXdzIHRoZSBkaXNwbGF5IG9iamVjdCBpbnRvIHRoZSBzcGVjaWZpZWQgY29udGV4dCBpZ25vcmluZyBpdHMgdmlzaWJsZSwgYWxwaGEsIHNoYWRvdywgYW5kIHRyYW5zZm9ybS5cblx0ICogUmV0dXJucyB0cnVlIGlmIHRoZSBkcmF3IHdhcyBoYW5kbGVkICh1c2VmdWwgZm9yIG92ZXJyaWRpbmcgZnVuY3Rpb25hbGl0eSkuXG5cdCAqIE5PVEU6IFRoaXMgbWV0aG9kIGlzIG1haW5seSBmb3IgaW50ZXJuYWwgdXNlLCB0aG91Z2ggaXQgbWF5IGJlIHVzZWZ1bCBmb3IgYWR2YW5jZWQgdXNlcy5cblx0ICogQG1ldGhvZCBkcmF3XG5cdCAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggVGhlIGNhbnZhcyAyRCBjb250ZXh0IG9iamVjdCB0byBkcmF3IGludG8uXG5cdCAqIEBwYXJhbSB7Qm9vbGVhbn0gaWdub3JlQ2FjaGUgSW5kaWNhdGVzIHdoZXRoZXIgdGhlIGRyYXcgb3BlcmF0aW9uIHNob3VsZCBpZ25vcmUgYW55IGN1cnJlbnQgY2FjaGUuXG5cdCAqIEZvciBleGFtcGxlLCB1c2VkIGZvciBkcmF3aW5nIHRoZSBjYWNoZSAodG8gcHJldmVudCBpdCBmcm9tIHNpbXBseSBkcmF3aW5nIGFuIGV4aXN0aW5nIGNhY2hlIGJhY2tcblx0ICogaW50byBpdHNlbGYpLlxuXHQgKiovXG5cdHAuZHJhdyA9IGZ1bmN0aW9uKGN0eCwgaWdub3JlQ2FjaGUpIHtcblx0XHRpZiAodGhpcy5EaXNwbGF5T2JqZWN0X2RyYXcoY3R4LCBpZ25vcmVDYWNoZSkpIHsgcmV0dXJuIHRydWU7IH1cblx0XHR0aGlzLl9ub3JtYWxpemVGcmFtZSgpO1xuXHRcdHZhciBvID0gdGhpcy5zcHJpdGVTaGVldC5nZXRGcmFtZSh0aGlzLl9jdXJyZW50RnJhbWV8MCk7XG5cdFx0aWYgKCFvKSB7IHJldHVybiBmYWxzZTsgfVxuXHRcdHZhciByZWN0ID0gby5yZWN0O1xuXHRcdGlmIChyZWN0LndpZHRoICYmIHJlY3QuaGVpZ2h0KSB7IGN0eC5kcmF3SW1hZ2Uoby5pbWFnZSwgcmVjdC54LCByZWN0LnksIHJlY3Qud2lkdGgsIHJlY3QuaGVpZ2h0LCAtby5yZWdYLCAtby5yZWdZLCByZWN0LndpZHRoLCByZWN0LmhlaWdodCk7IH1cblx0XHRyZXR1cm4gdHJ1ZTtcblx0fTtcblxuXHQvL05vdGUsIHRoZSBkb2Mgc2VjdGlvbnMgYmVsb3cgZG9jdW1lbnQgdXNpbmcgdGhlIHNwZWNpZmllZCBBUElzIChmcm9tIERpc3BsYXlPYmplY3QpICBmcm9tXG5cdC8vQml0bWFwLiBUaGlzIGlzIHdoeSB0aGV5IGhhdmUgbm8gbWV0aG9kIGltcGxlbWVudGF0aW9ucy5cblxuXHQvKipcblx0ICogQmVjYXVzZSB0aGUgY29udGVudCBvZiBhIFNwcml0ZSBpcyBhbHJlYWR5IGluIGEgcmFzdGVyIGZvcm1hdCwgY2FjaGUgaXMgdW5uZWNlc3NhcnkgZm9yIFNwcml0ZSBpbnN0YW5jZXMuXG5cdCAqIFlvdSBzaG91bGQgbm90IGNhY2hlIFNwcml0ZSBpbnN0YW5jZXMgYXMgaXQgY2FuIGRlZ3JhZGUgcGVyZm9ybWFuY2UuXG5cdCAqIEBtZXRob2QgY2FjaGVcblx0ICoqL1xuXG5cdC8qKlxuXHQgKiBCZWNhdXNlIHRoZSBjb250ZW50IG9mIGEgU3ByaXRlIGlzIGFscmVhZHkgaW4gYSByYXN0ZXIgZm9ybWF0LCBjYWNoZSBpcyB1bm5lY2Vzc2FyeSBmb3IgU3ByaXRlIGluc3RhbmNlcy5cblx0ICogWW91IHNob3VsZCBub3QgY2FjaGUgU3ByaXRlIGluc3RhbmNlcyBhcyBpdCBjYW4gZGVncmFkZSBwZXJmb3JtYW5jZS5cblx0ICogQG1ldGhvZCB1cGRhdGVDYWNoZVxuXHQgKiovXG5cblx0LyoqXG5cdCAqIEJlY2F1c2UgdGhlIGNvbnRlbnQgb2YgYSBTcHJpdGUgaXMgYWxyZWFkeSBpbiBhIHJhc3RlciBmb3JtYXQsIGNhY2hlIGlzIHVubmVjZXNzYXJ5IGZvciBTcHJpdGUgaW5zdGFuY2VzLlxuXHQgKiBZb3Ugc2hvdWxkIG5vdCBjYWNoZSBTcHJpdGUgaW5zdGFuY2VzIGFzIGl0IGNhbiBkZWdyYWRlIHBlcmZvcm1hbmNlLlxuXHQgKiBAbWV0aG9kIHVuY2FjaGVcblx0ICoqL1xuXG5cdC8qKlxuXHQgKiBQbGF5ICh1bnBhdXNlKSB0aGUgY3VycmVudCBhbmltYXRpb24uIFRoZSBTcHJpdGUgd2lsbCBiZSBwYXVzZWQgaWYgZWl0aGVyIHt7I2Nyb3NzTGluayBcIlNwcml0ZS9zdG9wXCJ9fXt7L2Nyb3NzTGlua319XG5cdCAqIG9yIHt7I2Nyb3NzTGluayBcIlNwcml0ZS9nb3RvQW5kU3RvcFwifX17ey9jcm9zc0xpbmt9fSBpcyBjYWxsZWQuIFNpbmdsZSBmcmFtZSBhbmltYXRpb25zIHdpbGwgcmVtYWluXG5cdCAqIHVuY2hhbmdlZC5cblx0ICogQG1ldGhvZCBwbGF5XG5cdCAqKi9cblx0cC5wbGF5ID0gZnVuY3Rpb24oKSB7XG5cdFx0dGhpcy5wYXVzZWQgPSBmYWxzZTtcblx0fTtcblxuXHQvKipcblx0ICogU3RvcCBwbGF5aW5nIGEgcnVubmluZyBhbmltYXRpb24uIFRoZSBTcHJpdGUgd2lsbCBiZSBwbGF5aW5nIGlmIHt7I2Nyb3NzTGluayBcIlNwcml0ZS9nb3RvQW5kUGxheVwifX17ey9jcm9zc0xpbmt9fVxuXHQgKiBpcyBjYWxsZWQuIE5vdGUgdGhhdCBjYWxsaW5nIHt7I2Nyb3NzTGluayBcIlNwcml0ZS9nb3RvQW5kUGxheVwifX17ey9jcm9zc0xpbmt9fSBvciB7eyNjcm9zc0xpbmsgXCJTcHJpdGUvcGxheVwifX17ey9jcm9zc0xpbmt9fVxuXHQgKiB3aWxsIHJlc3VtZSBwbGF5YmFjay5cblx0ICogQG1ldGhvZCBzdG9wXG5cdCAqKi9cblx0cC5zdG9wID0gZnVuY3Rpb24oKSB7XG5cdFx0dGhpcy5wYXVzZWQgPSB0cnVlO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBTZXRzIHBhdXNlZCB0byBmYWxzZSBhbmQgcGxheXMgdGhlIHNwZWNpZmllZCBhbmltYXRpb24gbmFtZSwgbmFtZWQgZnJhbWUsIG9yIGZyYW1lIG51bWJlci5cblx0ICogQG1ldGhvZCBnb3RvQW5kUGxheVxuXHQgKiBAcGFyYW0ge1N0cmluZ3xOdW1iZXJ9IGZyYW1lT3JBbmltYXRpb24gVGhlIGZyYW1lIG51bWJlciBvciBhbmltYXRpb24gbmFtZSB0aGF0IHRoZSBwbGF5aGVhZCBzaG91bGQgbW92ZSB0b1xuXHQgKiBhbmQgYmVnaW4gcGxheWluZy5cblx0ICoqL1xuXHRwLmdvdG9BbmRQbGF5ID0gZnVuY3Rpb24oZnJhbWVPckFuaW1hdGlvbikge1xuXHRcdHRoaXMucGF1c2VkID0gZmFsc2U7XG5cdFx0dGhpcy5fc2tpcEFkdmFuY2UgPSB0cnVlO1xuXHRcdHRoaXMuX2dvdG8oZnJhbWVPckFuaW1hdGlvbik7XG5cdH07XG5cblx0LyoqXG5cdCAqIFNldHMgcGF1c2VkIHRvIHRydWUgYW5kIHNlZWtzIHRvIHRoZSBzcGVjaWZpZWQgYW5pbWF0aW9uIG5hbWUsIG5hbWVkIGZyYW1lLCBvciBmcmFtZSBudW1iZXIuXG5cdCAqIEBtZXRob2QgZ290b0FuZFN0b3Bcblx0ICogQHBhcmFtIHtTdHJpbmd8TnVtYmVyfSBmcmFtZU9yQW5pbWF0aW9uIFRoZSBmcmFtZSBudW1iZXIgb3IgYW5pbWF0aW9uIG5hbWUgdGhhdCB0aGUgcGxheWhlYWQgc2hvdWxkIG1vdmUgdG9cblx0ICogYW5kIHN0b3AuXG5cdCAqKi9cblx0cC5nb3RvQW5kU3RvcCA9IGZ1bmN0aW9uKGZyYW1lT3JBbmltYXRpb24pIHtcblx0XHR0aGlzLnBhdXNlZCA9IHRydWU7XG5cdFx0dGhpcy5fZ290byhmcmFtZU9yQW5pbWF0aW9uKTtcblx0fTtcblxuXHQvKipcblx0ICogQWR2YW5jZXMgdGhlIHBsYXloZWFkLiBUaGlzIG9jY3VycyBhdXRvbWF0aWNhbGx5IGVhY2ggdGljayBieSBkZWZhdWx0LlxuXHQgKiBAcGFyYW0gW3RpbWVdIHtOdW1iZXJ9IFRoZSBhbW91bnQgb2YgdGltZSBpbiBtcyB0byBhZHZhbmNlIGJ5LiBPbmx5IGFwcGxpY2FibGUgaWYgZnJhbWVyYXRlIGlzIHNldCBvbiB0aGUgU3ByaXRlXG5cdCAqIG9yIGl0cyBTcHJpdGVTaGVldC5cblx0ICogQG1ldGhvZCBhZHZhbmNlXG5cdCovXG5cdHAuYWR2YW5jZSA9IGZ1bmN0aW9uKHRpbWUpIHtcblx0XHR2YXIgZnBzID0gdGhpcy5mcmFtZXJhdGUgfHwgdGhpcy5zcHJpdGVTaGVldC5mcmFtZXJhdGU7XG5cdFx0dmFyIHQgPSAoZnBzICYmIHRpbWUgIT0gbnVsbCkgPyB0aW1lLygxMDAwL2ZwcykgOiAxO1xuXHRcdHRoaXMuX25vcm1hbGl6ZUZyYW1lKHQpO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIFJldHVybnMgYSB7eyNjcm9zc0xpbmsgXCJSZWN0YW5nbGVcIn19e3svY3Jvc3NMaW5rfX0gaW5zdGFuY2UgZGVmaW5pbmcgdGhlIGJvdW5kcyBvZiB0aGUgY3VycmVudCBmcmFtZSByZWxhdGl2ZSB0b1xuXHQgKiB0aGUgb3JpZ2luLiBGb3IgZXhhbXBsZSwgYSA5MCB4IDcwIGZyYW1lIHdpdGggPGNvZGU+cmVnWD01MDwvY29kZT4gYW5kIDxjb2RlPnJlZ1k9NDA8L2NvZGU+IHdvdWxkIHJldHVybiBhXG5cdCAqIHJlY3RhbmdsZSB3aXRoIFt4PS01MCwgeT0tNDAsIHdpZHRoPTkwLCBoZWlnaHQ9NzBdLiBUaGlzIGlnbm9yZXMgdHJhbnNmb3JtYXRpb25zIG9uIHRoZSBkaXNwbGF5IG9iamVjdC5cblx0ICpcblx0ICogQWxzbyBzZWUgdGhlIFNwcml0ZVNoZWV0IHt7I2Nyb3NzTGluayBcIlNwcml0ZVNoZWV0L2dldEZyYW1lQm91bmRzXCJ9fXt7L2Nyb3NzTGlua319IG1ldGhvZC5cblx0ICogQG1ldGhvZCBnZXRCb3VuZHNcblx0ICogQHJldHVybiB7UmVjdGFuZ2xlfSBBIFJlY3RhbmdsZSBpbnN0YW5jZS4gUmV0dXJucyBudWxsIGlmIHRoZSBmcmFtZSBkb2VzIG5vdCBleGlzdCwgb3IgdGhlIGltYWdlIGlzIG5vdCBmdWxseVxuXHQgKiBsb2FkZWQuXG5cdCAqKi9cblx0cC5nZXRCb3VuZHMgPSBmdW5jdGlvbigpIHtcblx0XHQvLyBUT0RPOiBzaG91bGQgdGhpcyBub3JtYWxpemVGcmFtZT9cblx0XHRyZXR1cm4gdGhpcy5EaXNwbGF5T2JqZWN0X2dldEJvdW5kcygpIHx8IHRoaXMuc3ByaXRlU2hlZXQuZ2V0RnJhbWVCb3VuZHModGhpcy5jdXJyZW50RnJhbWUsIHRoaXMuX3JlY3RhbmdsZSk7XG5cdH07XG5cblx0LyoqXG5cdCAqIFJldHVybnMgYSBjbG9uZSBvZiB0aGUgU3ByaXRlIGluc3RhbmNlLiBOb3RlIHRoYXQgdGhlIHNhbWUgU3ByaXRlU2hlZXQgaXMgc2hhcmVkIGJldHdlZW4gY2xvbmVkXG5cdCAqIGluc3RhbmNlcy5cblx0ICogQG1ldGhvZCBjbG9uZVxuXHQgKiBAcmV0dXJuIHtTcHJpdGV9IGEgY2xvbmUgb2YgdGhlIFNwcml0ZSBpbnN0YW5jZS5cblx0ICoqL1xuXHRwLmNsb25lID0gZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMuX2Nsb25lUHJvcHMobmV3IFNwcml0ZSh0aGlzLnNwcml0ZVNoZWV0KSk7XG5cdH07XG5cblx0LyoqXG5cdCAqIFJldHVybnMgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhpcyBvYmplY3QuXG5cdCAqIEBtZXRob2QgdG9TdHJpbmdcblx0ICogQHJldHVybiB7U3RyaW5nfSBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgaW5zdGFuY2UuXG5cdCAqKi9cblx0cC50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBcIltTcHJpdGUgKG5hbWU9XCIrICB0aGlzLm5hbWUgK1wiKV1cIjtcblx0fTtcblxuLy8gcHJpdmF0ZSBtZXRob2RzOlxuXHQvKipcblx0ICogQG1ldGhvZCBfY2xvbmVQcm9wc1xuXHQgKiBAcGFyYW0ge1Nwcml0ZX0gb1xuXHQgKiBAcmV0dXJuIHtTcHJpdGV9IG9cblx0ICogQHByb3RlY3RlZFxuXHQgKiovXG5cdHAuX2Nsb25lUHJvcHMgPSBmdW5jdGlvbihvKSB7XG5cdFx0dGhpcy5EaXNwbGF5T2JqZWN0X19jbG9uZVByb3BzKG8pO1xuXHRcdG8uY3VycmVudEZyYW1lID0gdGhpcy5jdXJyZW50RnJhbWU7XG5cdFx0by5jdXJyZW50QW5pbWF0aW9uID0gdGhpcy5jdXJyZW50QW5pbWF0aW9uO1xuXHRcdG8ucGF1c2VkID0gdGhpcy5wYXVzZWQ7XG5cdFx0by5jdXJyZW50QW5pbWF0aW9uRnJhbWUgPSB0aGlzLmN1cnJlbnRBbmltYXRpb25GcmFtZTtcblx0XHRvLmZyYW1lcmF0ZSA9IHRoaXMuZnJhbWVyYXRlO1xuXHRcdFxuXHRcdG8uX2FuaW1hdGlvbiA9IHRoaXMuX2FuaW1hdGlvbjtcblx0XHRvLl9jdXJyZW50RnJhbWUgPSB0aGlzLl9jdXJyZW50RnJhbWU7XG5cdFx0by5fc2tpcEFkdmFuY2UgPSB0aGlzLl9za2lwQWR2YW5jZTtcblx0XHRyZXR1cm4gbztcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBBZHZhbmNlcyB0aGUgPGNvZGU+Y3VycmVudEZyYW1lPC9jb2RlPiBpZiBwYXVzZWQgaXMgbm90IHRydWUuIFRoaXMgaXMgY2FsbGVkIGF1dG9tYXRpY2FsbHkgd2hlbiB0aGUge3sjY3Jvc3NMaW5rIFwiU3RhZ2VcIn19e3svY3Jvc3NMaW5rfX1cblx0ICogdGlja3MuXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBldnRPYmogQW4gZXZlbnQgb2JqZWN0IHRoYXQgd2lsbCBiZSBkaXNwYXRjaGVkIHRvIGFsbCB0aWNrIGxpc3RlbmVycy4gVGhpcyBvYmplY3QgaXMgcmV1c2VkIGJldHdlZW4gZGlzcGF0Y2hlcnMgdG8gcmVkdWNlIGNvbnN0cnVjdGlvbiAmIEdDIGNvc3RzLlxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqIEBtZXRob2QgX3RpY2tcblx0ICoqL1xuXHRwLl90aWNrID0gZnVuY3Rpb24oZXZ0T2JqKSB7XG5cdFx0aWYgKCF0aGlzLnBhdXNlZCkge1xuXHRcdFx0aWYgKCF0aGlzLl9za2lwQWR2YW5jZSkgeyB0aGlzLmFkdmFuY2UoZXZ0T2JqJiZldnRPYmouZGVsdGEpOyB9XG5cdFx0XHR0aGlzLl9za2lwQWR2YW5jZSA9IGZhbHNlO1xuXHRcdH1cblx0XHR0aGlzLkRpc3BsYXlPYmplY3RfX3RpY2soZXZ0T2JqKTtcblx0fTtcblxuXG5cdC8qKlxuXHQgKiBOb3JtYWxpemVzIHRoZSBjdXJyZW50IGZyYW1lLCBhZHZhbmNpbmcgYW5pbWF0aW9ucyBhbmQgZGlzcGF0Y2hpbmcgY2FsbGJhY2tzIGFzIGFwcHJvcHJpYXRlLlxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqIEBtZXRob2QgX25vcm1hbGl6ZUZyYW1lXG5cdCAqKi9cblx0cC5fbm9ybWFsaXplRnJhbWUgPSBmdW5jdGlvbihmcmFtZURlbHRhKSB7XG5cdFx0ZnJhbWVEZWx0YSA9IGZyYW1lRGVsdGEgfHwgMDtcblx0XHR2YXIgYW5pbWF0aW9uID0gdGhpcy5fYW5pbWF0aW9uO1xuXHRcdHZhciBwYXVzZWQgPSB0aGlzLnBhdXNlZDtcblx0XHR2YXIgZnJhbWUgPSB0aGlzLl9jdXJyZW50RnJhbWU7XG5cdFx0dmFyIGw7XG5cdFx0XG5cdFx0aWYgKGFuaW1hdGlvbikge1xuXHRcdFx0dmFyIHNwZWVkID0gYW5pbWF0aW9uLnNwZWVkIHx8IDE7XG5cdFx0XHR2YXIgYW5pbUZyYW1lID0gdGhpcy5jdXJyZW50QW5pbWF0aW9uRnJhbWU7XG5cdFx0XHRsID0gYW5pbWF0aW9uLmZyYW1lcy5sZW5ndGg7XG5cdFx0XHRpZiAoYW5pbUZyYW1lICsgZnJhbWVEZWx0YSAqIHNwZWVkID49IGwpIHtcblx0XHRcdFx0dmFyIG5leHQgPSBhbmltYXRpb24ubmV4dDtcblx0XHRcdFx0aWYgKHRoaXMuX2Rpc3BhdGNoQW5pbWF0aW9uRW5kKGFuaW1hdGlvbiwgZnJhbWUsIHBhdXNlZCwgbmV4dCwgbCAtIDEpKSB7XG5cdFx0XHRcdFx0Ly8gc29tZXRoaW5nIGNoYW5nZWQgaW4gdGhlIGV2ZW50IHN0YWNrLCBzbyB3ZSBzaG91bGRuJ3QgbWFrZSBhbnkgbW9yZSBjaGFuZ2VzIGhlcmUuXG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9IGVsc2UgaWYgKG5leHQpIHtcblx0XHRcdFx0XHQvLyBzZXF1ZW5jZS4gQXV0b21hdGljYWxseSBjYWxscyBfbm9ybWFsaXplRnJhbWUgYWdhaW4gd2l0aCB0aGUgcmVtYWluaW5nIGZyYW1lcy5cblx0XHRcdFx0XHRyZXR1cm4gdGhpcy5fZ290byhuZXh0LCBmcmFtZURlbHRhIC0gKGwgLSBhbmltRnJhbWUpIC8gc3BlZWQpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdC8vIGVuZC5cblx0XHRcdFx0XHR0aGlzLnBhdXNlZCA9IHRydWU7XG5cdFx0XHRcdFx0YW5pbUZyYW1lID0gYW5pbWF0aW9uLmZyYW1lcy5sZW5ndGggLSAxO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRhbmltRnJhbWUgKz0gZnJhbWVEZWx0YSAqIHNwZWVkO1xuXHRcdFx0fVxuXHRcdFx0dGhpcy5jdXJyZW50QW5pbWF0aW9uRnJhbWUgPSBhbmltRnJhbWU7XG5cdFx0XHR0aGlzLl9jdXJyZW50RnJhbWUgPSBhbmltYXRpb24uZnJhbWVzW2FuaW1GcmFtZSB8IDBdXG5cdFx0fSBlbHNlIHtcblx0XHRcdGZyYW1lID0gKHRoaXMuX2N1cnJlbnRGcmFtZSArPSBmcmFtZURlbHRhKTtcblx0XHRcdGwgPSB0aGlzLnNwcml0ZVNoZWV0LmdldE51bUZyYW1lcygpO1xuXHRcdFx0aWYgKGZyYW1lID49IGwgJiYgbCA+IDApIHtcblx0XHRcdFx0aWYgKCF0aGlzLl9kaXNwYXRjaEFuaW1hdGlvbkVuZChhbmltYXRpb24sIGZyYW1lLCBwYXVzZWQsIGwgLSAxKSkge1xuXHRcdFx0XHRcdC8vIGxvb3BlZC5cblx0XHRcdFx0XHRpZiAoKHRoaXMuX2N1cnJlbnRGcmFtZSAtPSBsKSA+PSBsKSB7IHJldHVybiB0aGlzLl9ub3JtYWxpemVGcmFtZSgpOyB9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdFx0ZnJhbWUgPSB0aGlzLl9jdXJyZW50RnJhbWUgfCAwO1xuXHRcdGlmICh0aGlzLmN1cnJlbnRGcmFtZSAhPSBmcmFtZSkge1xuXHRcdFx0dGhpcy5jdXJyZW50RnJhbWUgPSBmcmFtZTtcblx0XHRcdHRoaXMuZGlzcGF0Y2hFdmVudChcImNoYW5nZVwiKTtcblx0XHR9XG5cdH07XG5cblx0LyoqXG5cdCAqIERpc3BhdGNoZXMgdGhlIFwiYW5pbWF0aW9uZW5kXCIgZXZlbnQuIFJldHVybnMgdHJ1ZSBpZiBhIGhhbmRsZXIgY2hhbmdlZCB0aGUgYW5pbWF0aW9uIChleC4gY2FsbGluZyB7eyNjcm9zc0xpbmsgXCJTcHJpdGUvc3RvcFwifX17ey9jcm9zc0xpbmt9fSxcblx0ICoge3sjY3Jvc3NMaW5rIFwiU3ByaXRlL2dvdG9BbmRQbGF5XCJ9fXt7L2Nyb3NzTGlua319LCBldGMuKVxuXHQgKiBAcHJvcGVydHkgX2Rpc3BhdGNoQW5pbWF0aW9uRW5kXG5cdCAqIEBwcml2YXRlXG5cdCAqIEB0eXBlIHtGdW5jdGlvbn1cblx0ICoqL1xuXHRwLl9kaXNwYXRjaEFuaW1hdGlvbkVuZCA9IGZ1bmN0aW9uKGFuaW1hdGlvbiwgZnJhbWUsIHBhdXNlZCwgbmV4dCwgZW5kKSB7XG5cdFx0dmFyIG5hbWUgPSBhbmltYXRpb24gPyBhbmltYXRpb24ubmFtZSA6IG51bGw7XG5cdFx0aWYgKHRoaXMuaGFzRXZlbnRMaXN0ZW5lcihcImFuaW1hdGlvbmVuZFwiKSkge1xuXHRcdFx0dmFyIGV2dCA9IG5ldyBjcmVhdGVqcy5FdmVudChcImFuaW1hdGlvbmVuZFwiKTtcblx0XHRcdGV2dC5uYW1lID0gbmFtZTtcblx0XHRcdGV2dC5uZXh0ID0gbmV4dDtcblx0XHRcdHRoaXMuZGlzcGF0Y2hFdmVudChldnQpO1xuXHRcdH1cblx0XHQvLyBkaWQgdGhlIGFuaW1hdGlvbiBnZXQgY2hhbmdlZCBpbiB0aGUgZXZlbnQgc3RhY2s/OlxuXHRcdHZhciBjaGFuZ2VkID0gKHRoaXMuX2FuaW1hdGlvbiAhPSBhbmltYXRpb24gfHwgdGhpcy5fY3VycmVudEZyYW1lICE9IGZyYW1lKTtcblx0XHQvLyBpZiB0aGUgYW5pbWF0aW9uIGhhc24ndCBjaGFuZ2VkLCBidXQgdGhlIHNwcml0ZSB3YXMgcGF1c2VkLCB0aGVuIHdlIHdhbnQgdG8gc3RpY2sgdG8gdGhlIGxhc3QgZnJhbWU6XG5cdFx0aWYgKCFjaGFuZ2VkICYmICFwYXVzZWQgJiYgdGhpcy5wYXVzZWQpIHsgdGhpcy5jdXJyZW50QW5pbWF0aW9uRnJhbWUgPSBlbmQ7IGNoYW5nZWQgPSB0cnVlOyB9XG5cdFx0cmV0dXJuIGNoYW5nZWQ7XG5cdH07XG5cblx0LyoqXG5cdCAqIE1vdmVzIHRoZSBwbGF5aGVhZCB0byB0aGUgc3BlY2lmaWVkIGZyYW1lIG51bWJlciBvciBhbmltYXRpb24uXG5cdCAqIEBtZXRob2QgX2dvdG9cblx0ICogQHBhcmFtIHtTdHJpbmd8TnVtYmVyfSBmcmFtZU9yQW5pbWF0aW9uIFRoZSBmcmFtZSBudW1iZXIgb3IgYW5pbWF0aW9uIHRoYXQgdGhlIHBsYXloZWFkIHNob3VsZCBtb3ZlIHRvLlxuXHQgKiBAcGFyYW0ge0Jvb2xlYW59IFtmcmFtZV0gVGhlIGZyYW1lIG9mIHRoZSBhbmltYXRpb24gdG8gZ28gdG8uIERlZmF1bHRzIHRvIDAuXG5cdCAqIEBwcm90ZWN0ZWRcblx0ICoqL1xuXHRwLl9nb3RvID0gZnVuY3Rpb24oZnJhbWVPckFuaW1hdGlvbiwgZnJhbWUpIHtcblx0XHR0aGlzLmN1cnJlbnRBbmltYXRpb25GcmFtZSA9IDA7XG5cdFx0aWYgKGlzTmFOKGZyYW1lT3JBbmltYXRpb24pKSB7XG5cdFx0XHR2YXIgZGF0YSA9IHRoaXMuc3ByaXRlU2hlZXQuZ2V0QW5pbWF0aW9uKGZyYW1lT3JBbmltYXRpb24pO1xuXHRcdFx0aWYgKGRhdGEpIHtcblx0XHRcdFx0dGhpcy5fYW5pbWF0aW9uID0gZGF0YTtcblx0XHRcdFx0dGhpcy5jdXJyZW50QW5pbWF0aW9uID0gZnJhbWVPckFuaW1hdGlvbjtcblx0XHRcdFx0dGhpcy5fbm9ybWFsaXplRnJhbWUoZnJhbWUpO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLmN1cnJlbnRBbmltYXRpb24gPSB0aGlzLl9hbmltYXRpb24gPSBudWxsO1xuXHRcdFx0dGhpcy5fY3VycmVudEZyYW1lID0gZnJhbWVPckFuaW1hdGlvbjtcblx0XHRcdHRoaXMuX25vcm1hbGl6ZUZyYW1lKCk7XG5cdFx0fVxuXHR9O1xuXG5cblx0Y3JlYXRlanMuU3ByaXRlID0gY3JlYXRlanMucHJvbW90ZShTcHJpdGUsIFwiRGlzcGxheU9iamVjdFwiKTtcbn0oKSk7XG5cbi8vIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXG4vLyBTaGFwZS5qc1xuLy8jIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyNcblxuKGZ1bmN0aW9uKCkge1xuXHRcInVzZSBzdHJpY3RcIjtcblxuXG4vLyBjb25zdHJ1Y3Rvcjpcblx0LyoqXG5cdCAqIEEgU2hhcGUgYWxsb3dzIHlvdSB0byBkaXNwbGF5IHZlY3RvciBhcnQgaW4gdGhlIGRpc3BsYXkgbGlzdC4gSXQgY29tcG9zaXRlcyBhIHt7I2Nyb3NzTGluayBcIkdyYXBoaWNzXCJ9fXt7L2Nyb3NzTGlua319XG5cdCAqIGluc3RhbmNlIHdoaWNoIGV4cG9zZXMgYWxsIG9mIHRoZSB2ZWN0b3IgZHJhd2luZyBtZXRob2RzLiBUaGUgR3JhcGhpY3MgaW5zdGFuY2UgY2FuIGJlIHNoYXJlZCBiZXR3ZWVuIG11bHRpcGxlIFNoYXBlXG5cdCAqIGluc3RhbmNlcyB0byBkaXNwbGF5IHRoZSBzYW1lIHZlY3RvciBncmFwaGljcyB3aXRoIGRpZmZlcmVudCBwb3NpdGlvbnMgb3IgdHJhbnNmb3Jtcy5cblx0ICpcblx0ICogSWYgdGhlIHZlY3RvciBhcnQgd2lsbCBub3Rcblx0ICogY2hhbmdlIGJldHdlZW4gZHJhd3MsIHlvdSBtYXkgd2FudCB0byB1c2UgdGhlIHt7I2Nyb3NzTGluayBcIkRpc3BsYXlPYmplY3QvY2FjaGVcIn19e3svY3Jvc3NMaW5rfX0gbWV0aG9kIHRvIHJlZHVjZSB0aGVcblx0ICogcmVuZGVyaW5nIGNvc3QuXG5cdCAqXG5cdCAqIDxoND5FeGFtcGxlPC9oND5cblx0ICpcblx0ICogICAgICB2YXIgZ3JhcGhpY3MgPSBuZXcgY3JlYXRlanMuR3JhcGhpY3MoKS5iZWdpbkZpbGwoXCIjZmYwMDAwXCIpLmRyYXdSZWN0KDAsIDAsIDEwMCwgMTAwKTtcblx0ICogICAgICB2YXIgc2hhcGUgPSBuZXcgY3JlYXRlanMuU2hhcGUoZ3JhcGhpY3MpO1xuXHQgKlxuXHQgKiAgICAgIC8vQWx0ZXJuYXRpdmVseSB1c2UgY2FuIGFsc28gdXNlIHRoZSBncmFwaGljcyBwcm9wZXJ0eSBvZiB0aGUgU2hhcGUgY2xhc3MgdG8gcmVuZGVyZXIgdGhlIHNhbWUgYXMgYWJvdmUuXG5cdCAqICAgICAgdmFyIHNoYXBlID0gbmV3IGNyZWF0ZWpzLlNoYXBlKCk7XG5cdCAqICAgICAgc2hhcGUuZ3JhcGhpY3MuYmVnaW5GaWxsKFwiI2ZmMDAwMFwiKS5kcmF3UmVjdCgwLCAwLCAxMDAsIDEwMCk7XG5cdCAqXG5cdCAqIEBjbGFzcyBTaGFwZVxuXHQgKiBAZXh0ZW5kcyBEaXNwbGF5T2JqZWN0XG5cdCAqIEBjb25zdHJ1Y3RvclxuXHQgKiBAcGFyYW0ge0dyYXBoaWNzfSBncmFwaGljcyBPcHRpb25hbC4gVGhlIGdyYXBoaWNzIGluc3RhbmNlIHRvIGRpc3BsYXkuIElmIG51bGwsIGEgbmV3IEdyYXBoaWNzIGluc3RhbmNlIHdpbGwgYmUgY3JlYXRlZC5cblx0ICoqL1xuXHRmdW5jdGlvbiBTaGFwZShncmFwaGljcykge1xuXHRcdHRoaXMuRGlzcGxheU9iamVjdF9jb25zdHJ1Y3RvcigpO1xuXHRcdFxuXHRcdFxuXHQvLyBwdWJsaWMgcHJvcGVydGllczpcblx0XHQvKipcblx0XHQgKiBUaGUgZ3JhcGhpY3MgaW5zdGFuY2UgdG8gZGlzcGxheS5cblx0XHQgKiBAcHJvcGVydHkgZ3JhcGhpY3Ncblx0XHQgKiBAdHlwZSBHcmFwaGljc1xuXHRcdCAqKi9cblx0XHR0aGlzLmdyYXBoaWNzID0gZ3JhcGhpY3MgPyBncmFwaGljcyA6IG5ldyBjcmVhdGVqcy5HcmFwaGljcygpO1xuXHR9XG5cdHZhciBwID0gY3JlYXRlanMuZXh0ZW5kKFNoYXBlLCBjcmVhdGVqcy5EaXNwbGF5T2JqZWN0KTtcblxuXHQvLyBUT0RPOiBkZXByZWNhdGVkXG5cdC8vIHAuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uKCkge307IC8vIHNlYXJjaGFibGUgZm9yIGRldnMgd29uZGVyaW5nIHdoZXJlIGl0IGlzLiBSRU1PVkVELiBTZWUgZG9jcyBmb3IgZGV0YWlscy5cblxuXG4vLyBwdWJsaWMgbWV0aG9kczpcblx0LyoqXG5cdCAqIFJldHVybnMgdHJ1ZSBvciBmYWxzZSBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIFNoYXBlIHdvdWxkIGJlIHZpc2libGUgaWYgZHJhd24gdG8gYSBjYW52YXMuXG5cdCAqIFRoaXMgZG9lcyBub3QgYWNjb3VudCBmb3Igd2hldGhlciBpdCB3b3VsZCBiZSB2aXNpYmxlIHdpdGhpbiB0aGUgYm91bmRhcmllcyBvZiB0aGUgc3RhZ2UuXG5cdCAqIE5PVEU6IFRoaXMgbWV0aG9kIGlzIG1haW5seSBmb3IgaW50ZXJuYWwgdXNlLCB0aG91Z2ggaXQgbWF5IGJlIHVzZWZ1bCBmb3IgYWR2YW5jZWQgdXNlcy5cblx0ICogQG1ldGhvZCBpc1Zpc2libGVcblx0ICogQHJldHVybiB7Qm9vbGVhbn0gQm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIFNoYXBlIHdvdWxkIGJlIHZpc2libGUgaWYgZHJhd24gdG8gYSBjYW52YXNcblx0ICoqL1xuXHRwLmlzVmlzaWJsZSA9IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBoYXNDb250ZW50ID0gdGhpcy5jYWNoZUNhbnZhcyB8fCAodGhpcy5ncmFwaGljcyAmJiAhdGhpcy5ncmFwaGljcy5pc0VtcHR5KCkpO1xuXHRcdHJldHVybiAhISh0aGlzLnZpc2libGUgJiYgdGhpcy5hbHBoYSA+IDAgJiYgdGhpcy5zY2FsZVggIT0gMCAmJiB0aGlzLnNjYWxlWSAhPSAwICYmIGhhc0NvbnRlbnQpO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBEcmF3cyB0aGUgU2hhcGUgaW50byB0aGUgc3BlY2lmaWVkIGNvbnRleHQgaWdub3JpbmcgaXRzIHZpc2libGUsIGFscGhhLCBzaGFkb3csIGFuZCB0cmFuc2Zvcm0uIFJldHVybnMgdHJ1ZSBpZlxuXHQgKiB0aGUgZHJhdyB3YXMgaGFuZGxlZCAodXNlZnVsIGZvciBvdmVycmlkaW5nIGZ1bmN0aW9uYWxpdHkpLlxuXHQgKlxuXHQgKiA8aT5OT1RFOiBUaGlzIG1ldGhvZCBpcyBtYWlubHkgZm9yIGludGVybmFsIHVzZSwgdGhvdWdoIGl0IG1heSBiZSB1c2VmdWwgZm9yIGFkdmFuY2VkIHVzZXMuPC9pPlxuXHQgKiBAbWV0aG9kIGRyYXdcblx0ICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCBUaGUgY2FudmFzIDJEIGNvbnRleHQgb2JqZWN0IHRvIGRyYXcgaW50by5cblx0ICogQHBhcmFtIHtCb29sZWFufSBbaWdub3JlQ2FjaGU9ZmFsc2VdIEluZGljYXRlcyB3aGV0aGVyIHRoZSBkcmF3IG9wZXJhdGlvbiBzaG91bGQgaWdub3JlIGFueSBjdXJyZW50IGNhY2hlLiBGb3IgZXhhbXBsZSxcblx0ICogdXNlZCBmb3IgZHJhd2luZyB0aGUgY2FjaGUgKHRvIHByZXZlbnQgaXQgZnJvbSBzaW1wbHkgZHJhd2luZyBhbiBleGlzdGluZyBjYWNoZSBiYWNrIGludG8gaXRzZWxmKS5cblx0ICogQHJldHVybiB7Qm9vbGVhbn1cblx0ICoqL1xuXHRwLmRyYXcgPSBmdW5jdGlvbihjdHgsIGlnbm9yZUNhY2hlKSB7XG5cdFx0aWYgKHRoaXMuRGlzcGxheU9iamVjdF9kcmF3KGN0eCwgaWdub3JlQ2FjaGUpKSB7IHJldHVybiB0cnVlOyB9XG5cdFx0dGhpcy5ncmFwaGljcy5kcmF3KGN0eCwgdGhpcyk7XG5cdFx0cmV0dXJuIHRydWU7XG5cdH07XG5cblx0LyoqXG5cdCAqIFJldHVybnMgYSBjbG9uZSBvZiB0aGlzIFNoYXBlLiBTb21lIHByb3BlcnRpZXMgdGhhdCBhcmUgc3BlY2lmaWMgdG8gdGhpcyBpbnN0YW5jZSdzIGN1cnJlbnQgY29udGV4dCBhcmUgcmV2ZXJ0ZWQgdG9cblx0ICogdGhlaXIgZGVmYXVsdHMgKGZvciBleGFtcGxlIC5wYXJlbnQpLlxuXHQgKiBAbWV0aG9kIGNsb25lXG5cdCAqIEBwYXJhbSB7Qm9vbGVhbn0gcmVjdXJzaXZlIElmIHRydWUsIHRoaXMgU2hhcGUncyB7eyNjcm9zc0xpbmsgXCJHcmFwaGljc1wifX17ey9jcm9zc0xpbmt9fSBpbnN0YW5jZSB3aWxsIGFsc28gYmVcblx0ICogY2xvbmVkLiBJZiBmYWxzZSwgdGhlIEdyYXBoaWNzIGluc3RhbmNlIHdpbGwgYmUgc2hhcmVkIHdpdGggdGhlIG5ldyBTaGFwZS5cblx0ICoqL1xuXHRwLmNsb25lID0gZnVuY3Rpb24ocmVjdXJzaXZlKSB7XG5cdFx0dmFyIGcgPSAocmVjdXJzaXZlICYmIHRoaXMuZ3JhcGhpY3MpID8gdGhpcy5ncmFwaGljcy5jbG9uZSgpIDogdGhpcy5ncmFwaGljcztcblx0XHRyZXR1cm4gIHRoaXMuX2Nsb25lUHJvcHMobmV3IFNoYXBlKGcpKTtcblx0fTtcblxuXHQvKipcblx0ICogUmV0dXJucyBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGlzIG9iamVjdC5cblx0ICogQG1ldGhvZCB0b1N0cmluZ1xuXHQgKiBAcmV0dXJuIHtTdHJpbmd9IGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBpbnN0YW5jZS5cblx0ICoqL1xuXHRwLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIFwiW1NoYXBlIChuYW1lPVwiKyAgdGhpcy5uYW1lICtcIildXCI7XG5cdH07XG5cblxuXHRjcmVhdGVqcy5TaGFwZSA9IGNyZWF0ZWpzLnByb21vdGUoU2hhcGUsIFwiRGlzcGxheU9iamVjdFwiKTtcbn0oKSk7XG5cbi8vIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXG4vLyBUZXh0LmpzXG4vLyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI1xuXG4oZnVuY3Rpb24oKSB7XG5cdFwidXNlIHN0cmljdFwiO1xuXG5cbi8vIGNvbnN0cnVjdG9yOlxuXHQvKipcblx0ICogRGlzcGxheSBvbmUgb3IgbW9yZSBsaW5lcyBvZiBkeW5hbWljIHRleHQgKG5vdCB1c2VyIGVkaXRhYmxlKSBpbiB0aGUgZGlzcGxheSBsaXN0LiBMaW5lIHdyYXBwaW5nIHN1cHBvcnQgKHVzaW5nIHRoZVxuXHQgKiBsaW5lV2lkdGgpIGlzIHZlcnkgYmFzaWMsIHdyYXBwaW5nIG9uIHNwYWNlcyBhbmQgdGFicyBvbmx5LiBOb3RlIHRoYXQgYXMgYW4gYWx0ZXJuYXRpdmUgdG8gVGV4dCwgeW91IGNhbiBwb3NpdGlvbiBIVE1MXG5cdCAqIHRleHQgYWJvdmUgb3IgYmVsb3cgdGhlIGNhbnZhcyByZWxhdGl2ZSB0byBpdGVtcyBpbiB0aGUgZGlzcGxheSBsaXN0IHVzaW5nIHRoZSB7eyNjcm9zc0xpbmsgXCJEaXNwbGF5T2JqZWN0L2xvY2FsVG9HbG9iYWxcIn19e3svY3Jvc3NMaW5rfX1cblx0ICogbWV0aG9kLCBvciB1c2luZyB7eyNjcm9zc0xpbmsgXCJET01FbGVtZW50XCJ9fXt7L2Nyb3NzTGlua319LlxuXHQgKlxuXHQgKiA8Yj5QbGVhc2Ugbm90ZSB0aGF0IFRleHQgZG9lcyBub3Qgc3VwcG9ydCBIVE1MIHRleHQsIGFuZCBjYW4gb25seSBkaXNwbGF5IG9uZSBmb250IHN0eWxlIGF0IGEgdGltZS48L2I+IFRvIHVzZVxuXHQgKiBtdWx0aXBsZSBmb250IHN0eWxlcywgeW91IHdpbGwgbmVlZCB0byBjcmVhdGUgbXVsdGlwbGUgdGV4dCBpbnN0YW5jZXMsIGFuZCBwb3NpdGlvbiB0aGVtIG1hbnVhbGx5LlxuXHQgKlxuXHQgKiA8aDQ+RXhhbXBsZTwvaDQ+XG5cdCAqXG5cdCAqICAgICAgdmFyIHRleHQgPSBuZXcgY3JlYXRlanMuVGV4dChcIkhlbGxvIFdvcmxkXCIsIFwiMjBweCBBcmlhbFwiLCBcIiNmZjc3MDBcIik7XG5cdCAqICAgICAgdGV4dC54ID0gMTAwO1xuXHQgKiAgICAgIHRleHQudGV4dEJhc2VsaW5lID0gXCJhbHBoYWJldGljXCI7XG5cdCAqXG5cdCAqIENyZWF0ZUpTIFRleHQgc3VwcG9ydHMgd2ViIGZvbnRzICh0aGUgc2FtZSBydWxlcyBhcyBDYW52YXMpLiBUaGUgZm9udCBtdXN0IGJlIGxvYWRlZCBhbmQgc3VwcG9ydGVkIGJ5IHRoZSBicm93c2VyXG5cdCAqIGJlZm9yZSBpdCBjYW4gYmUgZGlzcGxheWVkLlxuXHQgKlxuXHQgKiA8c3Ryb25nPk5vdGU6PC9zdHJvbmc+IFRleHQgY2FuIGJlIGV4cGVuc2l2ZSB0byBnZW5lcmF0ZSwgc28gY2FjaGUgaW5zdGFuY2VzIHdoZXJlIHBvc3NpYmxlLiBCZSBhd2FyZSB0aGF0IG5vdCBhbGxcblx0ICogYnJvd3NlcnMgd2lsbCByZW5kZXIgVGV4dCBleGFjdGx5IHRoZSBzYW1lLlxuXHQgKiBAY2xhc3MgVGV4dFxuXHQgKiBAZXh0ZW5kcyBEaXNwbGF5T2JqZWN0XG5cdCAqIEBjb25zdHJ1Y3RvclxuXHQgKiBAcGFyYW0ge1N0cmluZ30gW3RleHRdIFRoZSB0ZXh0IHRvIGRpc3BsYXkuXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBbZm9udF0gVGhlIGZvbnQgc3R5bGUgdG8gdXNlLiBBbnkgdmFsaWQgdmFsdWUgZm9yIHRoZSBDU1MgZm9udCBhdHRyaWJ1dGUgaXMgYWNjZXB0YWJsZSAoZXguIFwiYm9sZFxuXHQgKiAzNnB4IEFyaWFsXCIpLlxuXHQgKiBAcGFyYW0ge1N0cmluZ30gW2NvbG9yXSBUaGUgY29sb3IgdG8gZHJhdyB0aGUgdGV4dCBpbi4gQW55IHZhbGlkIHZhbHVlIGZvciB0aGUgQ1NTIGNvbG9yIGF0dHJpYnV0ZSBpcyBhY2NlcHRhYmxlIChleC5cblx0ICogXCIjRjAwXCIsIFwicmVkXCIsIG9yIFwiI0ZGMDAwMFwiKS5cblx0ICoqL1xuXHRmdW5jdGlvbiBUZXh0KHRleHQsIGZvbnQsIGNvbG9yKSB7XG5cdFx0dGhpcy5EaXNwbGF5T2JqZWN0X2NvbnN0cnVjdG9yKCk7XG5cdFx0XG5cdFx0XG5cdC8vIHB1YmxpYyBwcm9wZXJ0aWVzOlxuXHRcdC8qKlxuXHRcdCAqIFRoZSB0ZXh0IHRvIGRpc3BsYXkuXG5cdFx0ICogQHByb3BlcnR5IHRleHRcblx0XHQgKiBAdHlwZSBTdHJpbmdcblx0XHQgKiovXG5cdFx0dGhpcy50ZXh0ID0gdGV4dDtcblx0XG5cdFx0LyoqXG5cdFx0ICogVGhlIGZvbnQgc3R5bGUgdG8gdXNlLiBBbnkgdmFsaWQgdmFsdWUgZm9yIHRoZSBDU1MgZm9udCBhdHRyaWJ1dGUgaXMgYWNjZXB0YWJsZSAoZXguIFwiYm9sZCAzNnB4IEFyaWFsXCIpLlxuXHRcdCAqIEBwcm9wZXJ0eSBmb250XG5cdFx0ICogQHR5cGUgU3RyaW5nXG5cdFx0ICoqL1xuXHRcdHRoaXMuZm9udCA9IGZvbnQ7XG5cdFxuXHRcdC8qKlxuXHRcdCAqIFRoZSBjb2xvciB0byBkcmF3IHRoZSB0ZXh0IGluLiBBbnkgdmFsaWQgdmFsdWUgZm9yIHRoZSBDU1MgY29sb3IgYXR0cmlidXRlIGlzIGFjY2VwdGFibGUgKGV4LiBcIiNGMDBcIikuIERlZmF1bHQgaXMgXCIjMDAwXCIuXG5cdFx0ICogSXQgd2lsbCBhbHNvIGFjY2VwdCB2YWxpZCBjYW52YXMgZmlsbFN0eWxlIHZhbHVlcy5cblx0XHQgKiBAcHJvcGVydHkgY29sb3Jcblx0XHQgKiBAdHlwZSBTdHJpbmdcblx0XHQgKiovXG5cdFx0dGhpcy5jb2xvciA9IGNvbG9yO1xuXHRcblx0XHQvKipcblx0XHQgKiBUaGUgaG9yaXpvbnRhbCB0ZXh0IGFsaWdubWVudC4gQW55IG9mIFwic3RhcnRcIiwgXCJlbmRcIiwgXCJsZWZ0XCIsIFwicmlnaHRcIiwgYW5kIFwiY2VudGVyXCIuIEZvciBkZXRhaWxlZFxuXHRcdCAqIGluZm9ybWF0aW9uIHZpZXcgdGhlXG5cdFx0ICogPGEgaHJlZj1cImh0dHA6Ly93d3cud2hhdHdnLm9yZy9zcGVjcy93ZWItYXBwcy9jdXJyZW50LXdvcmsvbXVsdGlwYWdlL3RoZS1jYW52YXMtZWxlbWVudC5odG1sI3RleHQtc3R5bGVzXCI+XG5cdFx0ICogd2hhdHdnIHNwZWM8L2E+LiBEZWZhdWx0IGlzIFwibGVmdFwiLlxuXHRcdCAqIEBwcm9wZXJ0eSB0ZXh0QWxpZ25cblx0XHQgKiBAdHlwZSBTdHJpbmdcblx0XHQgKiovXG5cdFx0dGhpcy50ZXh0QWxpZ24gPSBcImxlZnRcIjtcblx0XG5cdFx0LyoqXG5cdFx0ICogVGhlIHZlcnRpY2FsIGFsaWdubWVudCBwb2ludCBvbiB0aGUgZm9udC4gQW55IG9mIFwidG9wXCIsIFwiaGFuZ2luZ1wiLCBcIm1pZGRsZVwiLCBcImFscGhhYmV0aWNcIiwgXCJpZGVvZ3JhcGhpY1wiLCBvclxuXHRcdCAqIFwiYm90dG9tXCIuIEZvciBkZXRhaWxlZCBpbmZvcm1hdGlvbiB2aWV3IHRoZSA8YSBocmVmPVwiaHR0cDovL3d3dy53aGF0d2cub3JnL3NwZWNzL3dlYi1hcHBzL2N1cnJlbnQtd29yay9tdWx0aXBhZ2UvdGhlLWNhbnZhcy1lbGVtZW50Lmh0bWwjdGV4dC1zdHlsZXNcIj5cblx0XHQgKiB3aGF0d2cgc3BlYzwvYT4uIERlZmF1bHQgaXMgXCJ0b3BcIi5cblx0XHQgKiBAcHJvcGVydHkgdGV4dEJhc2VsaW5lXG5cdFx0ICogQHR5cGUgU3RyaW5nXG5cdFx0Ki9cblx0XHR0aGlzLnRleHRCYXNlbGluZSA9IFwidG9wXCI7XG5cdFxuXHRcdC8qKlxuXHRcdCAqIFRoZSBtYXhpbXVtIHdpZHRoIHRvIGRyYXcgdGhlIHRleHQuIElmIG1heFdpZHRoIGlzIHNwZWNpZmllZCAobm90IG51bGwpLCB0aGUgdGV4dCB3aWxsIGJlIGNvbmRlbnNlZCBvclxuXHRcdCAqIHNocnVuayB0byBtYWtlIGl0IGZpdCBpbiB0aGlzIHdpZHRoLiBGb3IgZGV0YWlsZWQgaW5mb3JtYXRpb24gdmlldyB0aGVcblx0XHQgKiA8YSBocmVmPVwiaHR0cDovL3d3dy53aGF0d2cub3JnL3NwZWNzL3dlYi1hcHBzL2N1cnJlbnQtd29yay9tdWx0aXBhZ2UvdGhlLWNhbnZhcy1lbGVtZW50Lmh0bWwjdGV4dC1zdHlsZXNcIj5cblx0XHQgKiB3aGF0d2cgc3BlYzwvYT4uXG5cdFx0ICogQHByb3BlcnR5IG1heFdpZHRoXG5cdFx0ICogQHR5cGUgTnVtYmVyXG5cdFx0Ki9cblx0XHR0aGlzLm1heFdpZHRoID0gbnVsbDtcblx0XG5cdFx0LyoqXG5cdFx0ICogSWYgZ3JlYXRlciB0aGFuIDAsIHRoZSB0ZXh0IHdpbGwgYmUgZHJhd24gYXMgYSBzdHJva2UgKG91dGxpbmUpIG9mIHRoZSBzcGVjaWZpZWQgd2lkdGguXG5cdFx0ICogQHByb3BlcnR5IG91dGxpbmVcblx0XHQgKiBAdHlwZSBOdW1iZXJcblx0XHQgKiovXG5cdFx0dGhpcy5vdXRsaW5lID0gMDtcblx0XG5cdFx0LyoqXG5cdFx0ICogSW5kaWNhdGVzIHRoZSBsaW5lIGhlaWdodCAodmVydGljYWwgZGlzdGFuY2UgYmV0d2VlbiBiYXNlbGluZXMpIGZvciBtdWx0aS1saW5lIHRleHQuIElmIG51bGwgb3IgMCxcblx0XHQgKiB0aGUgdmFsdWUgb2YgZ2V0TWVhc3VyZWRMaW5lSGVpZ2h0IGlzIHVzZWQuXG5cdFx0ICogQHByb3BlcnR5IGxpbmVIZWlnaHRcblx0XHQgKiBAdHlwZSBOdW1iZXJcblx0XHQgKiovXG5cdFx0dGhpcy5saW5lSGVpZ2h0ID0gMDtcblx0XG5cdFx0LyoqXG5cdFx0ICogSW5kaWNhdGVzIHRoZSBtYXhpbXVtIHdpZHRoIGZvciBhIGxpbmUgb2YgdGV4dCBiZWZvcmUgaXQgaXMgd3JhcHBlZCB0byBtdWx0aXBsZSBsaW5lcy4gSWYgbnVsbCxcblx0XHQgKiB0aGUgdGV4dCB3aWxsIG5vdCBiZSB3cmFwcGVkLlxuXHRcdCAqIEBwcm9wZXJ0eSBsaW5lV2lkdGhcblx0XHQgKiBAdHlwZSBOdW1iZXJcblx0XHQgKiovXG5cdFx0dGhpcy5saW5lV2lkdGggPSBudWxsO1xuXHR9XG5cdHZhciBwID0gY3JlYXRlanMuZXh0ZW5kKFRleHQsIGNyZWF0ZWpzLkRpc3BsYXlPYmplY3QpO1xuXG5cdC8vIFRPRE86IGRlcHJlY2F0ZWRcblx0Ly8gcC5pbml0aWFsaXplID0gZnVuY3Rpb24oKSB7fTsgLy8gc2VhcmNoYWJsZSBmb3IgZGV2cyB3b25kZXJpbmcgd2hlcmUgaXQgaXMuIFJFTU9WRUQuIFNlZSBkb2NzIGZvciBkZXRhaWxzLlxuXG5cdFxuLy8gc3RhdGljIHByb3BlcnRpZXM6XG5cdC8qKlxuXHQgKiBAcHJvcGVydHkgX3dvcmtpbmdDb250ZXh0XG5cdCAqIEB0eXBlIENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRFxuXHQgKiBAcHJpdmF0ZVxuXHQgKiovXG5cdHZhciBjYW52YXMgPSAoY3JlYXRlanMuY3JlYXRlQ2FudmFzP2NyZWF0ZWpzLmNyZWF0ZUNhbnZhcygpOmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIikpO1xuXHRpZiAoY2FudmFzLmdldENvbnRleHQpIHsgVGV4dC5fd29ya2luZ0NvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpOyBjYW52YXMud2lkdGggPSBjYW52YXMuaGVpZ2h0ID0gMTsgfVxuXHRcblx0XG4vLyBjb25zdGFudHM6XG5cdC8qKlxuXHQgKiBMb29rdXAgdGFibGUgZm9yIHRoZSByYXRpbyB0byBvZmZzZXQgYm91bmRzIHggY2FsY3VsYXRpb25zIGJhc2VkIG9uIHRoZSB0ZXh0QWxpZ24gcHJvcGVydHkuXG5cdCAqIEBwcm9wZXJ0eSBIX09GRlNFVFNcblx0ICogQHR5cGUgT2JqZWN0XG5cdCAqIEBwcm90ZWN0ZWRcblx0ICogQHN0YXRpY1xuXHQgKiovXG5cdFRleHQuSF9PRkZTRVRTID0ge3N0YXJ0OiAwLCBsZWZ0OiAwLCBjZW50ZXI6IC0wLjUsIGVuZDogLTEsIHJpZ2h0OiAtMX07XG5cdFxuXHQvKipcblx0ICogTG9va3VwIHRhYmxlIGZvciB0aGUgcmF0aW8gdG8gb2Zmc2V0IGJvdW5kcyB5IGNhbGN1bGF0aW9ucyBiYXNlZCBvbiB0aGUgdGV4dEJhc2VsaW5lIHByb3BlcnR5LlxuXHQgKiBAcHJvcGVydHkgSF9PRkZTRVRTXG5cdCAqIEB0eXBlIE9iamVjdFxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqIEBzdGF0aWNcblx0ICoqL1xuXHRUZXh0LlZfT0ZGU0VUUyA9IHt0b3A6IDAsIGhhbmdpbmc6IC0wLjAxLCBtaWRkbGU6IC0wLjQsIGFscGhhYmV0aWM6IC0wLjgsIGlkZW9ncmFwaGljOiAtMC44NSwgYm90dG9tOiAtMX07XG5cblxuLy8gcHVibGljIG1ldGhvZHM6XG5cdC8qKlxuXHQgKiBSZXR1cm5zIHRydWUgb3IgZmFsc2UgaW5kaWNhdGluZyB3aGV0aGVyIHRoZSBkaXNwbGF5IG9iamVjdCB3b3VsZCBiZSB2aXNpYmxlIGlmIGRyYXduIHRvIGEgY2FudmFzLlxuXHQgKiBUaGlzIGRvZXMgbm90IGFjY291bnQgZm9yIHdoZXRoZXIgaXQgd291bGQgYmUgdmlzaWJsZSB3aXRoaW4gdGhlIGJvdW5kYXJpZXMgb2YgdGhlIHN0YWdlLlxuXHQgKiBOT1RFOiBUaGlzIG1ldGhvZCBpcyBtYWlubHkgZm9yIGludGVybmFsIHVzZSwgdGhvdWdoIGl0IG1heSBiZSB1c2VmdWwgZm9yIGFkdmFuY2VkIHVzZXMuXG5cdCAqIEBtZXRob2QgaXNWaXNpYmxlXG5cdCAqIEByZXR1cm4ge0Jvb2xlYW59IFdoZXRoZXIgdGhlIGRpc3BsYXkgb2JqZWN0IHdvdWxkIGJlIHZpc2libGUgaWYgZHJhd24gdG8gYSBjYW52YXNcblx0ICoqL1xuXHRwLmlzVmlzaWJsZSA9IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBoYXNDb250ZW50ID0gdGhpcy5jYWNoZUNhbnZhcyB8fCAodGhpcy50ZXh0ICE9IG51bGwgJiYgdGhpcy50ZXh0ICE9PSBcIlwiKTtcblx0XHRyZXR1cm4gISEodGhpcy52aXNpYmxlICYmIHRoaXMuYWxwaGEgPiAwICYmIHRoaXMuc2NhbGVYICE9IDAgJiYgdGhpcy5zY2FsZVkgIT0gMCAmJiBoYXNDb250ZW50KTtcblx0fTtcblxuXHQvKipcblx0ICogRHJhd3MgdGhlIFRleHQgaW50byB0aGUgc3BlY2lmaWVkIGNvbnRleHQgaWdub3JpbmcgaXRzIHZpc2libGUsIGFscGhhLCBzaGFkb3csIGFuZCB0cmFuc2Zvcm0uXG5cdCAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZHJhdyB3YXMgaGFuZGxlZCAodXNlZnVsIGZvciBvdmVycmlkaW5nIGZ1bmN0aW9uYWxpdHkpLlxuXHQgKiBOT1RFOiBUaGlzIG1ldGhvZCBpcyBtYWlubHkgZm9yIGludGVybmFsIHVzZSwgdGhvdWdoIGl0IG1heSBiZSB1c2VmdWwgZm9yIGFkdmFuY2VkIHVzZXMuXG5cdCAqIEBtZXRob2QgZHJhd1xuXHQgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY3R4IFRoZSBjYW52YXMgMkQgY29udGV4dCBvYmplY3QgdG8gZHJhdyBpbnRvLlxuXHQgKiBAcGFyYW0ge0Jvb2xlYW59IGlnbm9yZUNhY2hlIEluZGljYXRlcyB3aGV0aGVyIHRoZSBkcmF3IG9wZXJhdGlvbiBzaG91bGQgaWdub3JlIGFueSBjdXJyZW50IGNhY2hlLlxuXHQgKiBGb3IgZXhhbXBsZSwgdXNlZCBmb3IgZHJhd2luZyB0aGUgY2FjaGUgKHRvIHByZXZlbnQgaXQgZnJvbSBzaW1wbHkgZHJhd2luZyBhbiBleGlzdGluZyBjYWNoZSBiYWNrXG5cdCAqIGludG8gaXRzZWxmKS5cblx0ICoqL1xuXHRwLmRyYXcgPSBmdW5jdGlvbihjdHgsIGlnbm9yZUNhY2hlKSB7XG5cdFx0aWYgKHRoaXMuRGlzcGxheU9iamVjdF9kcmF3KGN0eCwgaWdub3JlQ2FjaGUpKSB7IHJldHVybiB0cnVlOyB9XG5cblx0XHR2YXIgY29sID0gdGhpcy5jb2xvciB8fCBcIiMwMDBcIjtcblx0XHRpZiAodGhpcy5vdXRsaW5lKSB7IGN0eC5zdHJva2VTdHlsZSA9IGNvbDsgY3R4LmxpbmVXaWR0aCA9IHRoaXMub3V0bGluZSoxOyB9XG5cdFx0ZWxzZSB7IGN0eC5maWxsU3R5bGUgPSBjb2w7IH1cblx0XHRcblx0XHR0aGlzLl9kcmF3VGV4dCh0aGlzLl9wcmVwQ29udGV4dChjdHgpKTtcblx0XHRyZXR1cm4gdHJ1ZTtcblx0fTtcblxuXHQvKipcblx0ICogUmV0dXJucyB0aGUgbWVhc3VyZWQsIHVudHJhbnNmb3JtZWQgd2lkdGggb2YgdGhlIHRleHQgd2l0aG91dCB3cmFwcGluZy4gVXNlIGdldEJvdW5kcyBmb3IgYSBtb3JlIHJvYnVzdCB2YWx1ZS5cblx0ICogQG1ldGhvZCBnZXRNZWFzdXJlZFdpZHRoXG5cdCAqIEByZXR1cm4ge051bWJlcn0gVGhlIG1lYXN1cmVkLCB1bnRyYW5zZm9ybWVkIHdpZHRoIG9mIHRoZSB0ZXh0LlxuXHQgKiovXG5cdHAuZ2V0TWVhc3VyZWRXaWR0aCA9IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLl9nZXRNZWFzdXJlZFdpZHRoKHRoaXMudGV4dCk7XG5cdH07XG5cblx0LyoqXG5cdCAqIFJldHVybnMgYW4gYXBwcm94aW1hdGUgbGluZSBoZWlnaHQgb2YgdGhlIHRleHQsIGlnbm9yaW5nIHRoZSBsaW5lSGVpZ2h0IHByb3BlcnR5LiBUaGlzIGlzIGJhc2VkIG9uIHRoZSBtZWFzdXJlZFxuXHQgKiB3aWR0aCBvZiBhIFwiTVwiIGNoYXJhY3RlciBtdWx0aXBsaWVkIGJ5IDEuMiwgd2hpY2ggcHJvdmlkZXMgYW4gYXBwcm94aW1hdGUgbGluZSBoZWlnaHQgZm9yIG1vc3QgZm9udHMuXG5cdCAqIEBtZXRob2QgZ2V0TWVhc3VyZWRMaW5lSGVpZ2h0XG5cdCAqIEByZXR1cm4ge051bWJlcn0gYW4gYXBwcm94aW1hdGUgbGluZSBoZWlnaHQgb2YgdGhlIHRleHQsIGlnbm9yaW5nIHRoZSBsaW5lSGVpZ2h0IHByb3BlcnR5LiBUaGlzIGlzXG5cdCAqIGJhc2VkIG9uIHRoZSBtZWFzdXJlZCB3aWR0aCBvZiBhIFwiTVwiIGNoYXJhY3RlciBtdWx0aXBsaWVkIGJ5IDEuMiwgd2hpY2ggYXBwcm94aW1hdGVzIGVtIGZvciBtb3N0IGZvbnRzLlxuXHQgKiovXG5cdHAuZ2V0TWVhc3VyZWRMaW5lSGVpZ2h0ID0gZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMuX2dldE1lYXN1cmVkV2lkdGgoXCJNXCIpKjEuMjtcblx0fTtcblxuXHQvKipcblx0ICogUmV0dXJucyB0aGUgYXBwcm94aW1hdGUgaGVpZ2h0IG9mIG11bHRpLWxpbmUgdGV4dCBieSBtdWx0aXBseWluZyB0aGUgbnVtYmVyIG9mIGxpbmVzIGFnYWluc3QgZWl0aGVyIHRoZVxuXHQgKiA8Y29kZT5saW5lSGVpZ2h0PC9jb2RlPiAoaWYgc3BlY2lmaWVkKSBvciB7eyNjcm9zc0xpbmsgXCJUZXh0L2dldE1lYXN1cmVkTGluZUhlaWdodFwifX17ey9jcm9zc0xpbmt9fS4gTm90ZSB0aGF0XG5cdCAqIHRoaXMgb3BlcmF0aW9uIHJlcXVpcmVzIHRoZSB0ZXh0IGZsb3dpbmcgbG9naWMgdG8gcnVuLCB3aGljaCBoYXMgYW4gYXNzb2NpYXRlZCBDUFUgY29zdC5cblx0ICogQG1ldGhvZCBnZXRNZWFzdXJlZEhlaWdodFxuXHQgKiBAcmV0dXJuIHtOdW1iZXJ9IFRoZSBhcHByb3hpbWF0ZSBoZWlnaHQgb2YgdGhlIHVudHJhbnNmb3JtZWQgbXVsdGktbGluZSB0ZXh0LlxuXHQgKiovXG5cdHAuZ2V0TWVhc3VyZWRIZWlnaHQgPSBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gdGhpcy5fZHJhd1RleHQobnVsbCx7fSkuaGVpZ2h0O1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBEb2NjZWQgaW4gc3VwZXJjbGFzcy5cblx0ICovXG5cdHAuZ2V0Qm91bmRzID0gZnVuY3Rpb24oKSB7XG5cdFx0dmFyIHJlY3QgPSB0aGlzLkRpc3BsYXlPYmplY3RfZ2V0Qm91bmRzKCk7XG5cdFx0aWYgKHJlY3QpIHsgcmV0dXJuIHJlY3Q7IH1cblx0XHRpZiAodGhpcy50ZXh0ID09IG51bGwgfHwgdGhpcy50ZXh0ID09PSBcIlwiKSB7IHJldHVybiBudWxsOyB9XG5cdFx0dmFyIG8gPSB0aGlzLl9kcmF3VGV4dChudWxsLCB7fSk7XG5cdFx0dmFyIHcgPSAodGhpcy5tYXhXaWR0aCAmJiB0aGlzLm1heFdpZHRoIDwgby53aWR0aCkgPyB0aGlzLm1heFdpZHRoIDogby53aWR0aDtcblx0XHR2YXIgeCA9IHcgKiBUZXh0LkhfT0ZGU0VUU1t0aGlzLnRleHRBbGlnbnx8XCJsZWZ0XCJdO1xuXHRcdHZhciBsaW5lSGVpZ2h0ID0gdGhpcy5saW5lSGVpZ2h0fHx0aGlzLmdldE1lYXN1cmVkTGluZUhlaWdodCgpO1xuXHRcdHZhciB5ID0gbGluZUhlaWdodCAqIFRleHQuVl9PRkZTRVRTW3RoaXMudGV4dEJhc2VsaW5lfHxcInRvcFwiXTtcblx0XHRyZXR1cm4gdGhpcy5fcmVjdGFuZ2xlLnNldFZhbHVlcyh4LCB5LCB3LCBvLmhlaWdodCk7XG5cdH07XG5cdFxuXHQvKipcblx0ICogUmV0dXJucyBhbiBvYmplY3Qgd2l0aCB3aWR0aCwgaGVpZ2h0LCBhbmQgbGluZXMgcHJvcGVydGllcy4gVGhlIHdpZHRoIGFuZCBoZWlnaHQgYXJlIHRoZSB2aXN1YWwgd2lkdGggYW5kIGhlaWdodFxuXHQgKiBvZiB0aGUgZHJhd24gdGV4dC4gVGhlIGxpbmVzIHByb3BlcnR5IGNvbnRhaW5zIGFuIGFycmF5IG9mIHN0cmluZ3MsIG9uZSBmb3Jcblx0ICogZWFjaCBsaW5lIG9mIHRleHQgdGhhdCB3aWxsIGJlIGRyYXduLCBhY2NvdW50aW5nIGZvciBsaW5lIGJyZWFrcyBhbmQgd3JhcHBpbmcuIFRoZXNlIHN0cmluZ3MgaGF2ZSB0cmFpbGluZ1xuXHQgKiB3aGl0ZXNwYWNlIHJlbW92ZWQuXG5cdCAqIEBtZXRob2QgZ2V0TWV0cmljc1xuXHQgKiBAcmV0dXJuIHtPYmplY3R9IEFuIG9iamVjdCB3aXRoIHdpZHRoLCBoZWlnaHQsIGFuZCBsaW5lcyBwcm9wZXJ0aWVzLlxuXHQgKiovXG5cdHAuZ2V0TWV0cmljcyA9IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBvID0ge2xpbmVzOltdfTtcblx0XHRvLmxpbmVIZWlnaHQgPSB0aGlzLmxpbmVIZWlnaHQgfHwgdGhpcy5nZXRNZWFzdXJlZExpbmVIZWlnaHQoKTtcblx0XHRvLnZPZmZzZXQgPSBvLmxpbmVIZWlnaHQgKiBUZXh0LlZfT0ZGU0VUU1t0aGlzLnRleHRCYXNlbGluZXx8XCJ0b3BcIl07XG5cdFx0cmV0dXJuIHRoaXMuX2RyYXdUZXh0KG51bGwsIG8sIG8ubGluZXMpO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBSZXR1cm5zIGEgY2xvbmUgb2YgdGhlIFRleHQgaW5zdGFuY2UuXG5cdCAqIEBtZXRob2QgY2xvbmVcblx0ICogQHJldHVybiB7VGV4dH0gYSBjbG9uZSBvZiB0aGUgVGV4dCBpbnN0YW5jZS5cblx0ICoqL1xuXHRwLmNsb25lID0gZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMuX2Nsb25lUHJvcHMobmV3IFRleHQodGhpcy50ZXh0LCB0aGlzLmZvbnQsIHRoaXMuY29sb3IpKTtcblx0fTtcblxuXHQvKipcblx0ICogUmV0dXJucyBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGlzIG9iamVjdC5cblx0ICogQG1ldGhvZCB0b1N0cmluZ1xuXHQgKiBAcmV0dXJuIHtTdHJpbmd9IGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBpbnN0YW5jZS5cblx0ICoqL1xuXHRwLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIFwiW1RleHQgKHRleHQ9XCIrICAodGhpcy50ZXh0Lmxlbmd0aCA+IDIwID8gdGhpcy50ZXh0LnN1YnN0cigwLCAxNykrXCIuLi5cIiA6IHRoaXMudGV4dCkgK1wiKV1cIjtcblx0fTtcblxuXG4vLyBwcml2YXRlIG1ldGhvZHM6XG5cdC8qKlxuXHQgKiBAbWV0aG9kIF9jbG9uZVByb3BzXG5cdCAqIEBwYXJhbSB7VGV4dH0gb1xuXHQgKiBAcHJvdGVjdGVkXG5cdCAqIEByZXR1cm4ge1RleHR9IG9cblx0ICoqL1xuXHRwLl9jbG9uZVByb3BzID0gZnVuY3Rpb24obykge1xuXHRcdHRoaXMuRGlzcGxheU9iamVjdF9fY2xvbmVQcm9wcyhvKTtcblx0XHRvLnRleHRBbGlnbiA9IHRoaXMudGV4dEFsaWduO1xuXHRcdG8udGV4dEJhc2VsaW5lID0gdGhpcy50ZXh0QmFzZWxpbmU7XG5cdFx0by5tYXhXaWR0aCA9IHRoaXMubWF4V2lkdGg7XG5cdFx0by5vdXRsaW5lID0gdGhpcy5vdXRsaW5lO1xuXHRcdG8ubGluZUhlaWdodCA9IHRoaXMubGluZUhlaWdodDtcblx0XHRvLmxpbmVXaWR0aCA9IHRoaXMubGluZVdpZHRoO1xuXHRcdHJldHVybiBvO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBAbWV0aG9kIF9nZXRXb3JraW5nQ29udGV4dFxuXHQgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY3R4XG5cdCAqIEByZXR1cm4ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH1cblx0ICogQHByb3RlY3RlZFxuXHQgKiovXG5cdHAuX3ByZXBDb250ZXh0ID0gZnVuY3Rpb24oY3R4KSB7XG5cdFx0Y3R4LmZvbnQgPSB0aGlzLmZvbnR8fFwiMTBweCBzYW5zLXNlcmlmXCI7XG5cdFx0Y3R4LnRleHRBbGlnbiA9IHRoaXMudGV4dEFsaWdufHxcImxlZnRcIjtcblx0XHRjdHgudGV4dEJhc2VsaW5lID0gdGhpcy50ZXh0QmFzZWxpbmV8fFwidG9wXCI7XG5cdFx0Y3R4LmxpbmVKb2luID0gXCJtaXRlclwiO1xuXHRcdGN0eC5taXRlckxpbWl0ID0gMi41O1xuXHRcdHJldHVybiBjdHg7XG5cdH07XG5cblx0LyoqXG5cdCAqIERyYXdzIG11bHRpbGluZSB0ZXh0LlxuXHQgKiBAbWV0aG9kIF9kcmF3VGV4dFxuXHQgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY3R4XG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBvXG5cdCAqIEBwYXJhbSB7QXJyYXl9IGxpbmVzXG5cdCAqIEByZXR1cm4ge09iamVjdH1cblx0ICogQHByb3RlY3RlZFxuXHQgKiovXG5cdHAuX2RyYXdUZXh0ID0gZnVuY3Rpb24oY3R4LCBvLCBsaW5lcykge1xuXHRcdHZhciBwYWludCA9ICEhY3R4O1xuXHRcdGlmICghcGFpbnQpIHtcblx0XHRcdGN0eCA9IFRleHQuX3dvcmtpbmdDb250ZXh0O1xuXHRcdFx0Y3R4LnNhdmUoKTtcblx0XHRcdHRoaXMuX3ByZXBDb250ZXh0KGN0eCk7XG5cdFx0fVxuXHRcdHZhciBsaW5lSGVpZ2h0ID0gdGhpcy5saW5lSGVpZ2h0fHx0aGlzLmdldE1lYXN1cmVkTGluZUhlaWdodCgpO1xuXHRcdFxuXHRcdHZhciBtYXhXID0gMCwgY291bnQgPSAwO1xuXHRcdHZhciBoYXJkTGluZXMgPSBTdHJpbmcodGhpcy50ZXh0KS5zcGxpdCgvKD86XFxyXFxufFxccnxcXG4pLyk7XG5cdFx0Zm9yICh2YXIgaT0wLCBsPWhhcmRMaW5lcy5sZW5ndGg7IGk8bDsgaSsrKSB7XG5cdFx0XHR2YXIgc3RyID0gaGFyZExpbmVzW2ldO1xuXHRcdFx0dmFyIHcgPSBudWxsO1xuXHRcdFx0XG5cdFx0XHRpZiAodGhpcy5saW5lV2lkdGggIT0gbnVsbCAmJiAodyA9IGN0eC5tZWFzdXJlVGV4dChzdHIpLndpZHRoKSA+IHRoaXMubGluZVdpZHRoKSB7XG5cdFx0XHRcdC8vIHRleHQgd3JhcHBpbmc6XG5cdFx0XHRcdHZhciB3b3JkcyA9IHN0ci5zcGxpdCgvKFxccykvKTtcblx0XHRcdFx0c3RyID0gd29yZHNbMF07XG5cdFx0XHRcdHcgPSBjdHgubWVhc3VyZVRleHQoc3RyKS53aWR0aDtcblx0XHRcdFx0XG5cdFx0XHRcdGZvciAodmFyIGo9MSwgamw9d29yZHMubGVuZ3RoOyBqPGpsOyBqKz0yKSB7XG5cdFx0XHRcdFx0Ly8gTGluZSBuZWVkcyB0byB3cmFwOlxuXHRcdFx0XHRcdHZhciB3b3JkVyA9IGN0eC5tZWFzdXJlVGV4dCh3b3Jkc1tqXSArIHdvcmRzW2orMV0pLndpZHRoO1xuXHRcdFx0XHRcdGlmICh3ICsgd29yZFcgPiB0aGlzLmxpbmVXaWR0aCkge1xuXHRcdFx0XHRcdFx0aWYgKHBhaW50KSB7IHRoaXMuX2RyYXdUZXh0TGluZShjdHgsIHN0ciwgY291bnQqbGluZUhlaWdodCk7IH1cblx0XHRcdFx0XHRcdGlmIChsaW5lcykgeyBsaW5lcy5wdXNoKHN0cik7IH1cblx0XHRcdFx0XHRcdGlmICh3ID4gbWF4VykgeyBtYXhXID0gdzsgfVxuXHRcdFx0XHRcdFx0c3RyID0gd29yZHNbaisxXTtcblx0XHRcdFx0XHRcdHcgPSBjdHgubWVhc3VyZVRleHQoc3RyKS53aWR0aDtcblx0XHRcdFx0XHRcdGNvdW50Kys7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHN0ciArPSB3b3Jkc1tqXSArIHdvcmRzW2orMV07XG5cdFx0XHRcdFx0XHR3ICs9IHdvcmRXO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0XG5cdFx0XHRpZiAocGFpbnQpIHsgdGhpcy5fZHJhd1RleHRMaW5lKGN0eCwgc3RyLCBjb3VudCpsaW5lSGVpZ2h0KTsgfVxuXHRcdFx0aWYgKGxpbmVzKSB7IGxpbmVzLnB1c2goc3RyKTsgfVxuXHRcdFx0aWYgKG8gJiYgdyA9PSBudWxsKSB7IHcgPSBjdHgubWVhc3VyZVRleHQoc3RyKS53aWR0aDsgfVxuXHRcdFx0aWYgKHcgPiBtYXhXKSB7IG1heFcgPSB3OyB9XG5cdFx0XHRjb3VudCsrO1xuXHRcdH1cblx0XHRcblx0XHRpZiAobykge1xuXHRcdFx0by53aWR0aCA9IG1heFc7XG5cdFx0XHRvLmhlaWdodCA9IGNvdW50KmxpbmVIZWlnaHQ7XG5cdFx0fVxuXHRcdGlmICghcGFpbnQpIHsgY3R4LnJlc3RvcmUoKTsgfVxuXHRcdHJldHVybiBvO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBAbWV0aG9kIF9kcmF3VGV4dExpbmVcblx0ICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eFxuXHQgKiBAcGFyYW0ge1N0cmluZ30gdGV4dFxuXHQgKiBAcGFyYW0ge051bWJlcn0geVxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqKi9cblx0cC5fZHJhd1RleHRMaW5lID0gZnVuY3Rpb24oY3R4LCB0ZXh0LCB5KSB7XG5cdFx0Ly8gQ2hyb21lIDE3IHdpbGwgZmFpbCB0byBkcmF3IHRoZSB0ZXh0IGlmIHRoZSBsYXN0IHBhcmFtIGlzIGluY2x1ZGVkIGJ1dCBudWxsLCBzbyB3ZSBmZWVkIGl0IGEgbGFyZ2UgdmFsdWUgaW5zdGVhZDpcblx0XHRpZiAodGhpcy5vdXRsaW5lKSB7IGN0eC5zdHJva2VUZXh0KHRleHQsIDAsIHksIHRoaXMubWF4V2lkdGh8fDB4RkZGRik7IH1cblx0XHRlbHNlIHsgY3R4LmZpbGxUZXh0KHRleHQsIDAsIHksIHRoaXMubWF4V2lkdGh8fDB4RkZGRik7IH1cblx0fTtcblx0XG5cdFxuXHQvKipcblx0ICogQG1ldGhvZCBfZ2V0TWVhc3VyZWRXaWR0aFxuXHQgKiBAcGFyYW0ge1N0cmluZ30gdGV4dFxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqKi9cblx0cC5fZ2V0TWVhc3VyZWRXaWR0aCA9IGZ1bmN0aW9uKHRleHQpIHtcblx0XHR2YXIgY3R4ID0gVGV4dC5fd29ya2luZ0NvbnRleHQ7XG5cdFx0Y3R4LnNhdmUoKTtcblx0XHR2YXIgdyA9IHRoaXMuX3ByZXBDb250ZXh0KGN0eCkubWVhc3VyZVRleHQodGV4dCkud2lkdGg7XG5cdFx0Y3R4LnJlc3RvcmUoKTtcblx0XHRyZXR1cm4gdztcblx0fTtcblxuXG5cdGNyZWF0ZWpzLlRleHQgPSBjcmVhdGVqcy5wcm9tb3RlKFRleHQsIFwiRGlzcGxheU9iamVjdFwiKTtcbn0oKSk7XG5cbi8vIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXG4vLyBCaXRtYXBUZXh0LmpzXG4vLyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI1xuXG4oZnVuY3Rpb24gKCkge1xuXHRcInVzZSBzdHJpY3RcIjtcblxuXG4vLyBjb25zdHJ1Y3Rvcjpcblx0LyoqXG5cdCAqIERpc3BsYXlzIHRleHQgdXNpbmcgYml0bWFwIGdseXBocyBkZWZpbmVkIGluIGEgc3ByaXRlIHNoZWV0LiBNdWx0aS1saW5lIHRleHQgaXMgc3VwcG9ydGVkIHVzaW5nIG5ldyBsaW5lIGNoYXJhY3RlcnMsXG5cdCAqIGJ1dCBhdXRvbWF0aWMgd3JhcHBpbmcgaXMgbm90IHN1cHBvcnRlZC4gU2VlIHRoZSB7eyNjcm9zc0xpbmsgXCJCaXRtYXBUZXh0L3Nwcml0ZVNoZWV0OnByb3BlcnR5XCJ9fXt7L2Nyb3NzTGlua319XG5cdCAqIHByb3BlcnR5IGZvciBtb3JlIGluZm9ybWF0aW9uIG9uIGRlZmluaW5nIGdseXBocy5cblx0ICpcblx0ICogPHN0cm9uZz5JbXBvcnRhbnQ6PC9zdHJvbmc+IFdoaWxlIEJpdG1hcFRleHQgZXh0ZW5kcyBDb250YWluZXIsIGl0IGlzIG5vdCBkZXNpZ25lZCB0byBiZSB1c2VkIGFzIG9uZS5cblx0ICogQXMgc3VjaCwgbWV0aG9kcyBsaWtlIGFkZENoaWxkIGFuZCByZW1vdmVDaGlsZCBhcmUgZGlzYWJsZWQuXG5cdCAqXG5cdCAqXG5cdCAqIEBjbGFzcyBCaXRtYXBUZXh0XG5cdCAqIEBleHRlbmRzIERpc3BsYXlPYmplY3Rcblx0ICogQHBhcmFtIHtTdHJpbmd9IFt0ZXh0PVwiXCJdIFRoZSB0ZXh0IHRvIGRpc3BsYXkuXG5cdCAqIEBwYXJhbSB7U3ByaXRlU2hlZXR9IFtzcHJpdGVTaGVldD1udWxsXSBUaGUgc3ByaXRlc2hlZXQgdGhhdCBkZWZpbmVzIHRoZSBjaGFyYWN0ZXIgZ2x5cGhzLlxuXHQgKiBAY29uc3RydWN0b3Jcblx0ICoqL1xuXHRmdW5jdGlvbiBCaXRtYXBUZXh0KHRleHQsIHNwcml0ZVNoZWV0KSB7XG5cdFx0dGhpcy5Db250YWluZXJfY29uc3RydWN0b3IoKTtcblx0XHRcblx0XHRcblx0Ly8gcHVibGljIHByb3BlcnRpZXM6XG5cdFx0LyoqXG5cdFx0ICogVGhlIHRleHQgdG8gZGlzcGxheS5cblx0XHQgKiBAcHJvcGVydHkgdGV4dFxuXHRcdCAqIEB0eXBlIFN0cmluZ1xuXHRcdCAqIEBkZWZhdWx0IFwiXCJcblx0XHQgKiovXG5cdFx0dGhpcy50ZXh0ID0gdGV4dHx8XCJcIjtcblx0XHRcblx0XHQvKipcblx0XHQgKiBBIFNwcml0ZVNoZWV0IGluc3RhbmNlIHRoYXQgZGVmaW5lcyB0aGUgZ2x5cGhzIGZvciB0aGlzIGJpdG1hcCB0ZXh0LiBFYWNoIGdseXBoL2NoYXJhY3RlclxuXHRcdCAqIHNob3VsZCBoYXZlIGEgc2luZ2xlIGZyYW1lIGFuaW1hdGlvbiBkZWZpbmVkIGluIHRoZSBzcHJpdGUgc2hlZXQgbmFtZWQgdGhlIHNhbWUgYXNcblx0XHQgKiBjb3JyZXNwb25kaW5nIGNoYXJhY3Rlci4gRm9yIGV4YW1wbGUsIHRoZSBmb2xsb3dpbmcgYW5pbWF0aW9uIGRlZmluaXRpb246XG5cdFx0ICpcblx0XHQgKiBcdFx0XCJBXCI6IHtmcmFtZXM6IFswXX1cblx0XHQgKlxuXHRcdCAqIHdvdWxkIGluZGljYXRlIHRoYXQgdGhlIGZyYW1lIGF0IGluZGV4IDAgb2YgdGhlIHNwcml0ZXNoZWV0IHNob3VsZCBiZSBkcmF3biBmb3IgdGhlIFwiQVwiIGNoYXJhY3Rlci4gVGhlIHNob3J0IGZvcm1cblx0XHQgKiBpcyBhbHNvIGFjY2VwdGFibGU6XG5cdFx0ICogXG5cdFx0ICogXHRcdFwiQVwiOiAwXG5cdFx0ICpcblx0XHQgKiBOb3RlIHRoYXQgaWYgYSBjaGFyYWN0ZXIgaW4gdGhlIHRleHQgaXMgbm90IGZvdW5kIGluIHRoZSBzcHJpdGUgc2hlZXQsIGl0IHdpbGwgYWxzb1xuXHRcdCAqIHRyeSB0byB1c2UgdGhlIGFsdGVybmF0ZSBjYXNlICh1cHBlciBvciBsb3dlcikuXG5cdFx0ICpcblx0XHQgKiBTZWUgU3ByaXRlU2hlZXQgZm9yIG1vcmUgaW5mb3JtYXRpb24gb24gZGVmaW5pbmcgc3ByaXRlIHNoZWV0IGRhdGEuXG5cdFx0ICogQHByb3BlcnR5IHNwcml0ZVNoZWV0XG5cdFx0ICogQHR5cGUgU3ByaXRlU2hlZXRcblx0XHQgKiBAZGVmYXVsdCBudWxsXG5cdFx0ICoqL1xuXHRcdHRoaXMuc3ByaXRlU2hlZXQgPSBzcHJpdGVTaGVldDtcblx0XG5cdFx0LyoqXG5cdFx0ICogVGhlIGhlaWdodCBvZiBlYWNoIGxpbmUgb2YgdGV4dC4gSWYgMCwgdGhlbiBpdCB3aWxsIHVzZSBhIGxpbmUgaGVpZ2h0IGNhbGN1bGF0ZWRcblx0XHQgKiBieSBjaGVja2luZyBmb3IgdGhlIGhlaWdodCBvZiB0aGUgXCIxXCIsIFwiVFwiLCBvciBcIkxcIiBjaGFyYWN0ZXIgKGluIHRoYXQgb3JkZXIpLiBJZlxuXHRcdCAqIHRob3NlIGNoYXJhY3RlcnMgYXJlIG5vdCBkZWZpbmVkLCBpdCB3aWxsIHVzZSB0aGUgaGVpZ2h0IG9mIHRoZSBmaXJzdCBmcmFtZSBvZiB0aGVcblx0XHQgKiBzcHJpdGUgc2hlZXQuXG5cdFx0ICogQHByb3BlcnR5IGxpbmVIZWlnaHRcblx0XHQgKiBAdHlwZSBOdW1iZXJcblx0XHQgKiBAZGVmYXVsdCAwXG5cdFx0ICoqL1xuXHRcdHRoaXMubGluZUhlaWdodCA9IDA7XG5cdFxuXHRcdC8qKlxuXHRcdCAqIFRoaXMgc3BhY2luZyAoaW4gcGl4ZWxzKSB3aWxsIGJlIGFkZGVkIGFmdGVyIGVhY2ggY2hhcmFjdGVyIGluIHRoZSBvdXRwdXQuXG5cdFx0ICogQHByb3BlcnR5IGxldHRlclNwYWNpbmdcblx0XHQgKiBAdHlwZSBOdW1iZXJcblx0XHQgKiBAZGVmYXVsdCAwXG5cdFx0ICoqL1xuXHRcdHRoaXMubGV0dGVyU3BhY2luZyA9IDA7XG5cdFxuXHRcdC8qKlxuXHRcdCAqIElmIGEgc3BhY2UgY2hhcmFjdGVyIGlzIG5vdCBkZWZpbmVkIGluIHRoZSBzcHJpdGUgc2hlZXQsIHRoZW4gZW1wdHkgcGl4ZWxzIGVxdWFsIHRvXG5cdFx0ICogc3BhY2VXaWR0aCB3aWxsIGJlIGluc2VydGVkIGluc3RlYWQuIElmIDAsIHRoZW4gaXQgd2lsbCB1c2UgYSB2YWx1ZSBjYWxjdWxhdGVkXG5cdFx0ICogYnkgY2hlY2tpbmcgZm9yIHRoZSB3aWR0aCBvZiB0aGUgXCIxXCIsIFwibFwiLCBcIkVcIiwgb3IgXCJBXCIgY2hhcmFjdGVyIChpbiB0aGF0IG9yZGVyKS4gSWZcblx0XHQgKiB0aG9zZSBjaGFyYWN0ZXJzIGFyZSBub3QgZGVmaW5lZCwgaXQgd2lsbCB1c2UgdGhlIHdpZHRoIG9mIHRoZSBmaXJzdCBmcmFtZSBvZiB0aGVcblx0XHQgKiBzcHJpdGUgc2hlZXQuXG5cdFx0ICogQHByb3BlcnR5IHNwYWNlV2lkdGhcblx0XHQgKiBAdHlwZSBOdW1iZXJcblx0XHQgKiBAZGVmYXVsdCAwXG5cdFx0ICoqL1xuXHRcdHRoaXMuc3BhY2VXaWR0aCA9IDA7XG5cdFx0XG5cdFx0XG5cdC8vIHByaXZhdGUgcHJvcGVydGllczpcblx0IFx0LyoqXG5cdFx0ICogQHByb3BlcnR5IF9vbGRQcm9wc1xuXHRcdCAqIEB0eXBlIE9iamVjdFxuXHRcdCAqIEBwcm90ZWN0ZWRcblx0XHQgKiovXG5cdFx0dGhpcy5fb2xkUHJvcHMgPSB7dGV4dDowLHNwcml0ZVNoZWV0OjAsbGluZUhlaWdodDowLGxldHRlclNwYWNpbmc6MCxzcGFjZVdpZHRoOjB9O1xuXG5cdFx0LyoqXG5cdFx0ICogVXNlZCB0byB0cmFjayB0aGUgb2JqZWN0IHdoaWNoIHRoaXMgY2xhc3MgYXR0YWNoZWQgbGlzdGVuZXJzIHRvLCBoZWxwcyBvcHRpbWl6ZSBsaXN0ZW5lciBhdHRhY2htZW50LlxuXHRcdCAqIEBwcm9wZXJ0eSBfb2xkU3RhZ2Vcblx0XHQgKiBAdHlwZSBTdGFnZVxuXHRcdCAqIEBwcm90ZWN0ZWRcblx0XHQgKi9cblx0XHR0aGlzLl9vbGRTdGFnZSA9IG51bGw7XG5cdFx0LyoqXG5cdFx0ICogVGhlIGV2ZW50IGxpc3RlbmVyIHByb3h5IHRyaWdnZXJlZCBkcmF3aW5nIGRyYXcgZm9yIHNwZWNpYWwgY2lyY3Vtc3RhbmNlcy5cblx0XHQgKiBAcHJvcGVydHkgX2RyYXdBY3Rpb25cblx0XHQgKiBAdHlwZSBmdW5jdGlvblxuXHRcdCAqIEBwcm90ZWN0ZWRcblx0XHQgKi9cblx0XHR0aGlzLl9kcmF3QWN0aW9uID0gbnVsbDtcblx0fVxuXHR2YXIgcCA9IGNyZWF0ZWpzLmV4dGVuZChCaXRtYXBUZXh0LCBjcmVhdGVqcy5Db250YWluZXIpO1xuXG4vLyBzdGF0aWMgcHJvcGVydGllczpcblx0LyoqXG5cdCAqIEJpdG1hcFRleHQgdXNlcyBTcHJpdGUgaW5zdGFuY2VzIHRvIGRyYXcgdGV4dC4gVG8gcmVkdWNlIHRoZSBjcmVhdGlvbiBhbmQgZGVzdHJ1Y3Rpb24gb2YgaW5zdGFuY2VzIChhbmQgdGh1cyBnYXJiYWdlIGNvbGxlY3Rpb24pLCBpdCBtYWludGFpbnNcblx0ICogYW4gaW50ZXJuYWwgb2JqZWN0IHBvb2wgb2Ygc3ByaXRlIGluc3RhbmNlcyB0byByZXVzZS4gSW5jcmVhc2luZyB0aGlzIHZhbHVlIGNhbiBjYXVzZSBtb3JlIHNwcml0ZXMgdG8gYmVcblx0ICogcmV0YWluZWQsIHNsaWdodGx5IGluY3JlYXNpbmcgbWVtb3J5IHVzZSwgYnV0IHJlZHVjaW5nIGluc3RhbnRpYXRpb24uXG5cdCAqIEBwcm9wZXJ0eSBtYXhQb29sU2l6ZVxuXHQgKiBAdHlwZSBOdW1iZXJcblx0ICogQHN0YXRpY1xuXHQgKiBAZGVmYXVsdCAxMDBcblx0ICoqL1xuXHRCaXRtYXBUZXh0Lm1heFBvb2xTaXplID0gMTAwO1xuXHRcblx0LyoqXG5cdCAqIFNwcml0ZSBvYmplY3QgcG9vbC5cblx0ICogQHR5cGUge0FycmF5fVxuXHQgKiBAc3RhdGljXG5cdCAqIEBwcml2YXRlXG5cdCAqL1xuXHRCaXRtYXBUZXh0Ll9zcHJpdGVQb29sID0gW107XG5cblx0XG4vLyBwdWJsaWMgbWV0aG9kczpcblx0LyoqXG5cdCAqIERvY2NlZCBpbiBzdXBlcmNsYXNzLlxuXHQgKiovXG5cdHAuZHJhdyA9IGZ1bmN0aW9uKGN0eCwgaWdub3JlQ2FjaGUpIHtcblx0XHRpZiAodGhpcy5EaXNwbGF5T2JqZWN0X2RyYXcoY3R4LCBpZ25vcmVDYWNoZSkpIHsgcmV0dXJuOyB9XG5cdFx0dGhpcy5fdXBkYXRlU3RhdGUoKTtcblx0XHR0aGlzLkNvbnRhaW5lcl9kcmF3KGN0eCwgaWdub3JlQ2FjaGUpO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIERvY2NlZCBpbiBzdXBlcmNsYXNzLlxuXHQgKiovXG5cdHAuZ2V0Qm91bmRzID0gZnVuY3Rpb24oKSB7XG5cdFx0dGhpcy5fdXBkYXRlVGV4dCgpO1xuXHRcdHJldHVybiB0aGlzLkNvbnRhaW5lcl9nZXRCb3VuZHMoKTtcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBSZXR1cm5zIHRydWUgb3IgZmFsc2UgaW5kaWNhdGluZyB3aGV0aGVyIHRoZSBkaXNwbGF5IG9iamVjdCB3b3VsZCBiZSB2aXNpYmxlIGlmIGRyYXduIHRvIGEgY2FudmFzLlxuXHQgKiBUaGlzIGRvZXMgbm90IGFjY291bnQgZm9yIHdoZXRoZXIgaXQgd291bGQgYmUgdmlzaWJsZSB3aXRoaW4gdGhlIGJvdW5kYXJpZXMgb2YgdGhlIHN0YWdlLlxuXHQgKiBOT1RFOiBUaGlzIG1ldGhvZCBpcyBtYWlubHkgZm9yIGludGVybmFsIHVzZSwgdGhvdWdoIGl0IG1heSBiZSB1c2VmdWwgZm9yIGFkdmFuY2VkIHVzZXMuXG5cdCAqIEBtZXRob2QgaXNWaXNpYmxlXG5cdCAqIEByZXR1cm4ge0Jvb2xlYW59IEJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIHRoZSBkaXNwbGF5IG9iamVjdCB3b3VsZCBiZSB2aXNpYmxlIGlmIGRyYXduIHRvIGEgY2FudmFzXG5cdCAqKi9cblx0cC5pc1Zpc2libGUgPSBmdW5jdGlvbigpIHtcblx0XHR2YXIgaGFzQ29udGVudCA9IHRoaXMuY2FjaGVDYW52YXMgfHwgKHRoaXMuc3ByaXRlU2hlZXQgJiYgdGhpcy5zcHJpdGVTaGVldC5jb21wbGV0ZSAmJiB0aGlzLnRleHQpO1xuXHRcdHJldHVybiAhISh0aGlzLnZpc2libGUgJiYgdGhpcy5hbHBoYSA+IDAgJiYgdGhpcy5zY2FsZVggIT09IDAgJiYgdGhpcy5zY2FsZVkgIT09IDAgJiYgaGFzQ29udGVudCk7XG5cdH07XG5cdFxuXHRwLmNsb25lID0gZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMuX2Nsb25lUHJvcHMobmV3IEJpdG1hcFRleHQodGhpcy50ZXh0LCB0aGlzLnNwcml0ZVNoZWV0KSk7XG5cdH07XG5cdFxuXHQvKipcblx0ICogPHN0cm9uZz5EaXNhYmxlZCBpbiBCaXRtYXBUZXh0Ljwvc3Ryb25nPlxuXHQgKiBAbWV0aG9kIGFkZENoaWxkXG5cdCAqKi9cblx0LyoqXG5cdCAqIDxzdHJvbmc+RGlzYWJsZWQgaW4gQml0bWFwVGV4dC48L3N0cm9uZz5cblx0ICogQG1ldGhvZCBhZGRDaGlsZEF0XG5cdCAqKi9cblx0LyoqXG5cdCAqIDxzdHJvbmc+RGlzYWJsZWQgaW4gQml0bWFwVGV4dC48L3N0cm9uZz5cblx0ICogQG1ldGhvZCByZW1vdmVDaGlsZFxuXHQgKiovXG5cdC8qKlxuXHQgKiA8c3Ryb25nPkRpc2FibGVkIGluIEJpdG1hcFRleHQuPC9zdHJvbmc+XG5cdCAqIEBtZXRob2QgcmVtb3ZlQ2hpbGRBdFxuXHQgKiovXG5cdC8qKlxuXHQgKiA8c3Ryb25nPkRpc2FibGVkIGluIEJpdG1hcFRleHQuPC9zdHJvbmc+XG5cdCAqIEBtZXRob2QgcmVtb3ZlQWxsQ2hpbGRyZW5cblx0ICoqL1xuXHRwLmFkZENoaWxkID0gcC5hZGRDaGlsZEF0ID0gcC5yZW1vdmVDaGlsZCA9IHAucmVtb3ZlQ2hpbGRBdCA9IHAucmVtb3ZlQWxsQ2hpbGRyZW4gPSBmdW5jdGlvbigpIHt9O1xuXG5cbi8vIHByaXZhdGUgbWV0aG9kczpcblx0LyoqXG5cdCAqIERvY2NlZCBpbiBzdXBlcmNsYXNzLlxuXHQgKiovXG5cdHAuX3VwZGF0ZVN0YXRlID0gZnVuY3Rpb24oKSB7XG5cdFx0dGhpcy5fdXBkYXRlVGV4dCgpO1xuXHR9O1xuXG4gXHQvKipcblx0ICogQG1ldGhvZCBfY2xvbmVQcm9wc1xuXHQgKiBAcGFyYW0ge0JpdG1hcFRleHR9IG9cblx0ICogQHJldHVybiB7Qml0bWFwVGV4dH0gb1xuXHQgKiBAcHJvdGVjdGVkXG5cdCAqKi9cblx0cC5fY2xvbmVQcm9wcyA9IGZ1bmN0aW9uKG8pIHtcblx0XHR0aGlzLkNvbnRhaW5lcl9fY2xvbmVQcm9wcyhvKTtcblx0XHRvLmxpbmVIZWlnaHQgPSB0aGlzLmxpbmVIZWlnaHQ7XG5cdFx0by5sZXR0ZXJTcGFjaW5nID0gdGhpcy5sZXR0ZXJTcGFjaW5nO1xuXHRcdG8uc3BhY2VXaWR0aCA9IHRoaXMuc3BhY2VXaWR0aDtcblx0XHRyZXR1cm4gbztcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBAbWV0aG9kIF9nZXRGcmFtZUluZGV4XG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBjaGFyYWN0ZXJcblx0ICogQHBhcmFtIHtTcHJpdGVTaGVldH0gc3ByaXRlU2hlZXRcblx0ICogQHJldHVybiB7TnVtYmVyfVxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqKi9cblx0cC5fZ2V0RnJhbWVJbmRleCA9IGZ1bmN0aW9uKGNoYXJhY3Rlciwgc3ByaXRlU2hlZXQpIHtcblx0XHR2YXIgYywgbyA9IHNwcml0ZVNoZWV0LmdldEFuaW1hdGlvbihjaGFyYWN0ZXIpO1xuXHRcdGlmICghbykge1xuXHRcdFx0KGNoYXJhY3RlciAhPSAoYyA9IGNoYXJhY3Rlci50b1VwcGVyQ2FzZSgpKSkgfHwgKGNoYXJhY3RlciAhPSAoYyA9IGNoYXJhY3Rlci50b0xvd2VyQ2FzZSgpKSkgfHwgKGM9bnVsbCk7XG5cdFx0XHRpZiAoYykgeyBvID0gc3ByaXRlU2hlZXQuZ2V0QW5pbWF0aW9uKGMpOyB9XG5cdFx0fVxuXHRcdHJldHVybiBvICYmIG8uZnJhbWVzWzBdO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIEBtZXRob2QgX2dldEZyYW1lXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBjaGFyYWN0ZXJcblx0ICogQHBhcmFtIHtTcHJpdGVTaGVldH0gc3ByaXRlU2hlZXRcblx0ICogQHJldHVybiB7T2JqZWN0fVxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqKi9cblx0cC5fZ2V0RnJhbWUgPSBmdW5jdGlvbihjaGFyYWN0ZXIsIHNwcml0ZVNoZWV0KSB7XG5cdFx0dmFyIGluZGV4ID0gdGhpcy5fZ2V0RnJhbWVJbmRleChjaGFyYWN0ZXIsIHNwcml0ZVNoZWV0KTtcblx0XHRyZXR1cm4gaW5kZXggPT0gbnVsbCA/IGluZGV4IDogc3ByaXRlU2hlZXQuZ2V0RnJhbWUoaW5kZXgpO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBAbWV0aG9kIF9nZXRMaW5lSGVpZ2h0XG5cdCAqIEBwYXJhbSB7U3ByaXRlU2hlZXR9IHNzXG5cdCAqIEByZXR1cm4ge051bWJlcn1cblx0ICogQHByb3RlY3RlZFxuXHQgKiovXG5cdHAuX2dldExpbmVIZWlnaHQgPSBmdW5jdGlvbihzcykge1xuXHRcdHZhciBmcmFtZSA9IHRoaXMuX2dldEZyYW1lKFwiMVwiLHNzKSB8fCB0aGlzLl9nZXRGcmFtZShcIlRcIixzcykgfHwgdGhpcy5fZ2V0RnJhbWUoXCJMXCIsc3MpIHx8IHNzLmdldEZyYW1lKDApO1xuXHRcdHJldHVybiBmcmFtZSA/IGZyYW1lLnJlY3QuaGVpZ2h0IDogMTtcblx0fTtcblxuXHQvKipcblx0ICogQG1ldGhvZCBfZ2V0U3BhY2VXaWR0aFxuXHQgKiBAcGFyYW0ge1Nwcml0ZVNoZWV0fSBzc1xuXHQgKiBAcmV0dXJuIHtOdW1iZXJ9XG5cdCAqIEBwcm90ZWN0ZWRcblx0ICoqL1xuXHRwLl9nZXRTcGFjZVdpZHRoID0gZnVuY3Rpb24oc3MpIHtcblx0XHR2YXIgZnJhbWUgPSB0aGlzLl9nZXRGcmFtZShcIjFcIixzcykgfHwgdGhpcy5fZ2V0RnJhbWUoXCJsXCIsc3MpIHx8IHRoaXMuX2dldEZyYW1lKFwiZVwiLHNzKSB8fCB0aGlzLl9nZXRGcmFtZShcImFcIixzcykgfHwgc3MuZ2V0RnJhbWUoMCk7XG5cdFx0cmV0dXJuIGZyYW1lID8gZnJhbWUucmVjdC53aWR0aCA6IDE7XG5cdH07XG5cblx0LyoqXG5cdCAqIEBtZXRob2QgX3VwZGF0ZVRleHRcblx0ICogQHByb3RlY3RlZFxuXHQgKiovXG5cdHAuX3VwZGF0ZVRleHQgPSBmdW5jdGlvbigpIHtcblx0XHR2YXIgeD0wLCB5PTAsIG89dGhpcy5fb2xkUHJvcHMsIGNoYW5nZT1mYWxzZSwgc3BhY2VXPXRoaXMuc3BhY2VXaWR0aCwgbGluZUg9dGhpcy5saW5lSGVpZ2h0LCBzcz10aGlzLnNwcml0ZVNoZWV0O1xuXHRcdHZhciBwb29sPUJpdG1hcFRleHQuX3Nwcml0ZVBvb2wsIGtpZHM9dGhpcy5jaGlsZHJlbiwgY2hpbGRJbmRleD0wLCBudW1LaWRzPWtpZHMubGVuZ3RoLCBzcHJpdGU7XG5cdFx0XG5cdFx0Zm9yICh2YXIgbiBpbiBvKSB7XG5cdFx0XHRpZiAob1tuXSAhPSB0aGlzW25dKSB7XG5cdFx0XHRcdG9bbl0gPSB0aGlzW25dO1xuXHRcdFx0XHRjaGFuZ2UgPSB0cnVlO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRpZiAoIWNoYW5nZSkgeyByZXR1cm47IH1cblx0XHRcblx0XHR2YXIgaGFzU3BhY2UgPSAhIXRoaXMuX2dldEZyYW1lKFwiIFwiLCBzcyk7XG5cdFx0aWYgKCFoYXNTcGFjZSAmJiAhc3BhY2VXKSB7IHNwYWNlVyA9IHRoaXMuX2dldFNwYWNlV2lkdGgoc3MpOyB9XG5cdFx0aWYgKCFsaW5lSCkgeyBsaW5lSCA9IHRoaXMuX2dldExpbmVIZWlnaHQoc3MpOyB9XG5cdFx0XG5cdFx0Zm9yKHZhciBpPTAsIGw9dGhpcy50ZXh0Lmxlbmd0aDsgaTxsOyBpKyspIHtcblx0XHRcdHZhciBjaGFyYWN0ZXIgPSB0aGlzLnRleHQuY2hhckF0KGkpO1xuXHRcdFx0aWYgKGNoYXJhY3RlciA9PSBcIiBcIiAmJiAhaGFzU3BhY2UpIHtcblx0XHRcdFx0eCArPSBzcGFjZVc7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fSBlbHNlIGlmIChjaGFyYWN0ZXI9PVwiXFxuXCIgfHwgY2hhcmFjdGVyPT1cIlxcclwiKSB7XG5cdFx0XHRcdGlmIChjaGFyYWN0ZXI9PVwiXFxyXCIgJiYgdGhpcy50ZXh0LmNoYXJBdChpKzEpID09IFwiXFxuXCIpIHsgaSsrOyB9IC8vIGNybGZcblx0XHRcdFx0eCA9IDA7XG5cdFx0XHRcdHkgKz0gbGluZUg7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgaW5kZXggPSB0aGlzLl9nZXRGcmFtZUluZGV4KGNoYXJhY3Rlciwgc3MpO1xuXHRcdFx0aWYgKGluZGV4ID09IG51bGwpIHsgY29udGludWU7IH1cblx0XHRcdFxuXHRcdFx0aWYgKGNoaWxkSW5kZXggPCBudW1LaWRzKSB7XG5cdFx0XHRcdHNwcml0ZSA9IGtpZHNbY2hpbGRJbmRleF07XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRraWRzLnB1c2goc3ByaXRlID0gcG9vbC5sZW5ndGggPyBwb29sLnBvcCgpIDogbmV3IGNyZWF0ZWpzLlNwcml0ZSgpKTtcblx0XHRcdFx0c3ByaXRlLnBhcmVudCA9IHRoaXM7XG5cdFx0XHRcdG51bUtpZHMrKztcblx0XHRcdH1cblx0XHRcdHNwcml0ZS5zcHJpdGVTaGVldCA9IHNzO1xuXHRcdFx0c3ByaXRlLmdvdG9BbmRTdG9wKGluZGV4KTtcblx0XHRcdHNwcml0ZS54ID0geDtcblx0XHRcdHNwcml0ZS55ID0geTtcblx0XHRcdGNoaWxkSW5kZXgrKztcblx0XHRcdFxuXHRcdFx0eCArPSBzcHJpdGUuZ2V0Qm91bmRzKCkud2lkdGggKyB0aGlzLmxldHRlclNwYWNpbmc7XG5cdFx0fVxuXHRcdHdoaWxlIChudW1LaWRzID4gY2hpbGRJbmRleCkge1xuXHRcdFx0IC8vIGZhc3RlciB0aGFuIHJlbW92ZUNoaWxkLlxuXHRcdFx0cG9vbC5wdXNoKHNwcml0ZSA9IGtpZHMucG9wKCkpO1xuXHRcdFx0c3ByaXRlLnBhcmVudCA9IG51bGw7XG5cdFx0XHRudW1LaWRzLS07XG5cdFx0fVxuXHRcdGlmIChwb29sLmxlbmd0aCA+IEJpdG1hcFRleHQubWF4UG9vbFNpemUpIHsgcG9vbC5sZW5ndGggPSBCaXRtYXBUZXh0Lm1heFBvb2xTaXplOyB9XG5cdH07XG5cblxuXHRjcmVhdGVqcy5CaXRtYXBUZXh0ID0gY3JlYXRlanMucHJvbW90ZShCaXRtYXBUZXh0LCBcIkNvbnRhaW5lclwiKTtcbn0oKSk7XG5cbi8vIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXG4vLyBNb3ZpZUNsaXAuanNcbi8vIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXG5cbihmdW5jdGlvbigpIHtcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cblxuLy8gY29uc3RydWN0b3I6XG5cdC8qKlxuXHQgKiBUaGUgTW92aWVDbGlwIGNsYXNzIGFzc29jaWF0ZXMgYSBUd2VlbkpTIFRpbWVsaW5lIHdpdGggYW4gRWFzZWxKUyB7eyNjcm9zc0xpbmsgXCJDb250YWluZXJcIn19e3svY3Jvc3NMaW5rfX0uIEl0IGFsbG93c1xuXHQgKiB5b3UgdG8gY3JlYXRlIG9iamVjdHMgd2hpY2ggZW5jYXBzdWxhdGUgdGltZWxpbmUgYW5pbWF0aW9ucywgc3RhdGUgY2hhbmdlcywgYW5kIHN5bmNoZWQgYWN0aW9ucy4gVGhlIE1vdmllQ2xpcFxuXHQgKiBjbGFzcyBoYXMgYmVlbiBpbmNsdWRlZCBpbiB0aGUgRWFzZWxKUyBtaW5pZmllZCBmaWxlIHNpbmNlIDAuNy4wLlxuXHQgKlxuXHQgKiBDdXJyZW50bHkgTW92aWVDbGlwIG9ubHkgd29ya3MgcHJvcGVybHkgaWYgaXQgaXMgdGljayBiYXNlZCAoYXMgb3Bwb3NlZCB0byB0aW1lIGJhc2VkKSB0aG91Z2ggc29tZSBjb25jZXNzaW9ucyBoYXZlXG5cdCAqIGJlZW4gbWFkZSB0byBzdXBwb3J0IHRpbWUtYmFzZWQgdGltZWxpbmVzIGluIHRoZSBmdXR1cmUuXG5cdCAqXG5cdCAqIDxoND5FeGFtcGxlPC9oND5cblx0ICogVGhpcyBleGFtcGxlIGFuaW1hdGVzIHR3byBzaGFwZXMgYmFjayBhbmQgZm9ydGguIFRoZSBncmV5IHNoYXBlIHN0YXJ0cyBvbiB0aGUgbGVmdCwgYnV0IHdlIGp1bXAgdG8gYSBtaWQtcG9pbnQgaW5cblx0ICogdGhlIGFuaW1hdGlvbiB1c2luZyB7eyNjcm9zc0xpbmsgXCJNb3ZpZUNsaXAvZ290b0FuZFBsYXlcIn19e3svY3Jvc3NMaW5rfX0uXG5cdCAqXG5cdCAqICAgICAgdmFyIHN0YWdlID0gbmV3IGNyZWF0ZWpzLlN0YWdlKFwiY2FudmFzXCIpO1xuXHQgKiAgICAgIGNyZWF0ZWpzLlRpY2tlci5hZGRFdmVudExpc3RlbmVyKFwidGlja1wiLCBzdGFnZSk7XG5cdCAqXG5cdCAqICAgICAgdmFyIG1jID0gbmV3IGNyZWF0ZWpzLk1vdmllQ2xpcCh7bG9vcDotMSwgbGFiZWxzOntteUxhYmVsOjIwfX0pO1xuXHQgKiAgICAgIHN0YWdlLmFkZENoaWxkKG1jKTtcblx0ICpcblx0ICogICAgICB2YXIgY2hpbGQxID0gbmV3IGNyZWF0ZWpzLlNoYXBlKFxuXHQgKiAgICAgICAgICBuZXcgY3JlYXRlanMuR3JhcGhpY3MoKS5iZWdpbkZpbGwoXCIjOTk5OTk5XCIpXG5cdCAqICAgICAgICAgICAgICAuZHJhd0NpcmNsZSgzMCwzMCwzMCkpO1xuXHQgKiAgICAgIHZhciBjaGlsZDIgPSBuZXcgY3JlYXRlanMuU2hhcGUoXG5cdCAqICAgICAgICAgIG5ldyBjcmVhdGVqcy5HcmFwaGljcygpLmJlZ2luRmlsbChcIiM1YTljZmJcIilcblx0ICogICAgICAgICAgICAgIC5kcmF3Q2lyY2xlKDMwLDMwLDMwKSk7XG5cdCAqXG5cdCAqICAgICAgbWMudGltZWxpbmUuYWRkVHdlZW4oXG5cdCAqICAgICAgICAgIGNyZWF0ZWpzLlR3ZWVuLmdldChjaGlsZDEpXG5cdCAqICAgICAgICAgICAgICAudG8oe3g6MH0pLnRvKHt4OjYwfSwgNTApLnRvKHt4OjB9LCA1MCkpO1xuXHQgKiAgICAgIG1jLnRpbWVsaW5lLmFkZFR3ZWVuKFxuXHQgKiAgICAgICAgICBjcmVhdGVqcy5Ud2Vlbi5nZXQoY2hpbGQyKVxuXHQgKiAgICAgICAgICAgICAgLnRvKHt4OjYwfSkudG8oe3g6MH0sIDUwKS50byh7eDo2MH0sIDUwKSk7XG5cdCAqXG5cdCAqICAgICAgbWMuZ290b0FuZFBsYXkoXCJzdGFydFwiKTtcblx0ICpcblx0ICogSXQgaXMgcmVjb21tZW5kZWQgdG8gdXNlIDxjb2RlPnR3ZWVuLnRvKCk8L2NvZGU+IHRvIGFuaW1hdGUgYW5kIHNldCBwcm9wZXJ0aWVzICh1c2Ugbm8gZHVyYXRpb24gdG8gaGF2ZSBpdCBzZXRcblx0ICogaW1tZWRpYXRlbHkpLCBhbmQgdGhlIDxjb2RlPnR3ZWVuLndhaXQoKTwvY29kZT4gbWV0aG9kIHRvIGNyZWF0ZSBkZWxheXMgYmV0d2VlbiBhbmltYXRpb25zLiBOb3RlIHRoYXQgdXNpbmcgdGhlXG5cdCAqIDxjb2RlPnR3ZWVuLnNldCgpPC9jb2RlPiBtZXRob2QgdG8gYWZmZWN0IHByb3BlcnRpZXMgd2lsbCBsaWtlbHkgbm90IHByb3ZpZGUgdGhlIGRlc2lyZWQgcmVzdWx0LlxuXHQgKlxuXHQgKiBAY2xhc3MgTW92aWVDbGlwXG5cdCAqIEBtYWluIE1vdmllQ2xpcFxuXHQgKiBAcGFyYW0ge09iamVjdH0gW3Byb3BzXSBUaGUgY29uZmlndXJhdGlvbiBwcm9wZXJ0aWVzIHRvIGFwcGx5IHRvIHRoaXMgaW5zdGFuY2UgKGV4LiBge21vZGU6TW92aWVDbGlwLlNZTkNIRUR9YCkuXG5cdCAqIFN1cHBvcnRlZCBwcm9wcyBmb3IgdGhlIE1vdmllQ2xpcCBhcmUgbGlzdGVkIGJlbG93LiBUaGVzZSBwcm9wcyBhcmUgc2V0IG9uIHRoZSBjb3JyZXNwb25kaW5nIGluc3RhbmNlIHByb3BlcnRpZXMgZXhjZXB0IHdoZXJlXG5cdCAqIHNwZWNpZmllZC48VUw+XG5cdCAqICAgIDxMST4gYG1vZGVgPC9MST5cblx0ICogICAgPExJPiBgc3RhcnRQb3NpdGlvbmA8L0xJPlxuXHQgKiAgICA8TEk+IGBmcmFtZUJvdW5kc2A8L0xJPlxuXHQgKiA8L1VMPlxuXHQgKiBcblx0ICogVGhpcyBvYmplY3Qgd2lsbCBhbHNvIGJlIHBhc3NlZCBpbnRvIHRoZSBUaW1lbGluZSBpbnN0YW5jZSBhc3NvY2lhdGVkIHdpdGggdGhpcyBNb3ZpZUNsaXAuIFNlZSB0aGUgZG9jdW1lbnRhdGlvblxuXHQgKiBmb3IgVGltZWxpbmUgZm9yIGEgbGlzdCBvZiBzdXBwb3J0ZWQgcHJvcHMgKGV4LiBgcGF1c2VkYCwgYGxhYmVsc2AsIGBsb29wYCwgYHJldmVyc2VkYCwgZXRjLilcblx0ICogQGV4dGVuZHMgQ29udGFpbmVyXG5cdCAqIEBjb25zdHJ1Y3RvclxuXHQgKiovXG5cdGZ1bmN0aW9uIE1vdmllQ2xpcChwcm9wcykge1xuXHRcdHRoaXMuQ29udGFpbmVyX2NvbnN0cnVjdG9yKCk7XG5cdFx0IU1vdmllQ2xpcC5pbml0ZWQmJk1vdmllQ2xpcC5pbml0KCk7IC8vIHN0YXRpYyBpbml0XG5cdFx0XG5cdFx0dmFyIG1vZGUsIHN0YXJ0UG9zaXRpb24sIGxvb3AsIGxhYmVscztcblx0XHRcblx0XHQvLyBoYW5kbGUgb2xkIHBhcmFtcyAobW9kZSwgc3RhcnRQb3NpdGlvbiwgbG9vcCwgbGFiZWxzKTpcblx0XHQvLyBUT0RPOiBkZXByZWNhdGVkIHBhcmFtIGhhbmRsaW5nOlxuXHRcdGlmIChwcm9wcyBpbnN0YW5jZW9mIFN0cmluZyB8fCBhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuXHRcdFx0bW9kZSA9IHByb3BzO1xuXHRcdFx0c3RhcnRQb3NpdGlvbiA9IGFyZ3VtZW50c1sxXTtcblx0XHRcdGxvb3AgPSBhcmd1bWVudHNbMl07XG5cdFx0XHRsYWJlbHMgPSBhcmd1bWVudHNbM107XG5cdFx0XHRpZiAobG9vcCA9PSBudWxsKSB7IGxvb3AgPSAtMTsgfVxuXHRcdFx0cHJvcHMgPSBudWxsO1xuXHRcdH0gZWxzZSBpZiAocHJvcHMpIHtcblx0XHRcdG1vZGUgPSBwcm9wcy5tb2RlO1xuXHRcdFx0c3RhcnRQb3NpdGlvbiA9IHByb3BzLnN0YXJ0UG9zaXRpb247XG5cdFx0XHRsb29wID0gcHJvcHMubG9vcDtcblx0XHRcdGxhYmVscyA9IHByb3BzLmxhYmVscztcblx0XHR9XG5cdFx0aWYgKCFwcm9wcykgeyBwcm9wcyA9IHtsYWJlbHM6bGFiZWxzfTsgfVxuXHRcdFxuXHRcdFxuXHQvLyBwdWJsaWMgcHJvcGVydGllczpcblx0XHQvKipcblx0XHQgKiBDb250cm9scyBob3cgdGhpcyBNb3ZpZUNsaXAgYWR2YW5jZXMgaXRzIHRpbWUuIE11c3QgYmUgb25lIG9mIDAgKElOREVQRU5ERU5UKSwgMSAoU0lOR0xFX0ZSQU1FKSwgb3IgMiAoU1lOQ0hFRCkuXG5cdFx0ICogU2VlIGVhY2ggY29uc3RhbnQgZm9yIGEgZGVzY3JpcHRpb24gb2YgdGhlIGJlaGF2aW91ci5cblx0XHQgKiBAcHJvcGVydHkgbW9kZVxuXHRcdCAqIEB0eXBlIFN0cmluZ1xuXHRcdCAqIEBkZWZhdWx0IG51bGxcblx0XHQgKiovXG5cdFx0dGhpcy5tb2RlID0gbW9kZXx8TW92aWVDbGlwLklOREVQRU5ERU5UO1xuXHRcblx0XHQvKipcblx0XHQgKiBTcGVjaWZpZXMgd2hhdCB0aGUgZmlyc3QgZnJhbWUgdG8gcGxheSBpbiB0aGlzIG1vdmllY2xpcCwgb3IgdGhlIG9ubHkgZnJhbWUgdG8gZGlzcGxheSBpZiBtb2RlIGlzIFNJTkdMRV9GUkFNRS5cblx0XHQgKiBAcHJvcGVydHkgc3RhcnRQb3NpdGlvblxuXHRcdCAqIEB0eXBlIE51bWJlclxuXHRcdCAqIEBkZWZhdWx0IDBcblx0XHQgKi9cblx0XHR0aGlzLnN0YXJ0UG9zaXRpb24gPSBzdGFydFBvc2l0aW9ufHwwO1xuXHRcblx0XHQvKipcblx0XHQgKiBTcGVjaWZpZXMgaG93IG1hbnkgdGltZXMgdGhpcyBNb3ZpZUNsaXAgc2hvdWxkIGxvb3AuIEEgdmFsdWUgb2YgLTEgaW5kaWNhdGVzIGl0IHNob3VsZCBsb29wIGluZGVmaW5pdGVseS4gQSB2YWx1ZSBvZlxuXHRcdCAqIDEgd291bGQgY2F1c2UgaXQgdG8gbG9vcCBvbmNlIChpZS4gcGxheSBhIHRvdGFsIG9mIHR3aWNlKS5cblx0XHQgKiBAcHJvcGVydHkgbG9vcFxuXHRcdCAqIEB0eXBlIE51bWJlclxuXHRcdCAqIEBkZWZhdWx0IC0xXG5cdFx0ICovXG5cdFx0dGhpcy5sb29wID0gbG9vcCA9PT0gdHJ1ZSA/IC0xIDogKGxvb3AgfHwgMCk7XG5cdFxuXHRcdC8qKlxuXHRcdCAqIFRoZSBjdXJyZW50IGZyYW1lIG9mIHRoZSBtb3ZpZWNsaXAuXG5cdFx0ICogQHByb3BlcnR5IGN1cnJlbnRGcmFtZVxuXHRcdCAqIEB0eXBlIE51bWJlclxuXHRcdCAqIEBkZWZhdWx0IDBcblx0XHQgKiBAcmVhZG9ubHlcblx0XHQgKi9cblx0XHR0aGlzLmN1cnJlbnRGcmFtZSA9IDA7XG5cdFxuXHRcdC8qKlxuXHRcdCAqIElmIHRydWUsIHRoZSBNb3ZpZUNsaXAncyBwb3NpdGlvbiB3aWxsIG5vdCBhZHZhbmNlIHdoZW4gdGlja2VkLlxuXHRcdCAqIEBwcm9wZXJ0eSBwYXVzZWRcblx0XHQgKiBAdHlwZSBCb29sZWFuXG5cdFx0ICogQGRlZmF1bHQgZmFsc2Vcblx0XHQgKi9cblx0XHR0aGlzLnBhdXNlZCA9IHByb3BzLnBhdXNlZHx8ZmFsc2U7XG5cdFxuXHRcdC8qKlxuXHRcdCAqIElmIHRydWUsIGFjdGlvbnMgaW4gdGhpcyBNb3ZpZUNsaXAncyB0d2VlbnMgd2lsbCBiZSBydW4gd2hlbiB0aGUgcGxheWhlYWQgYWR2YW5jZXMuXG5cdFx0ICogQHByb3BlcnR5IGFjdGlvbnNFbmFibGVkXG5cdFx0ICogQHR5cGUgQm9vbGVhblxuXHRcdCAqIEBkZWZhdWx0IHRydWVcblx0XHQgKi9cblx0XHR0aGlzLmFjdGlvbnNFbmFibGVkID0gdHJ1ZTtcblx0XG5cdFx0LyoqXG5cdFx0ICogSWYgdHJ1ZSwgdGhlIE1vdmllQ2xpcCB3aWxsIGF1dG9tYXRpY2FsbHkgYmUgcmVzZXQgdG8gaXRzIGZpcnN0IGZyYW1lIHdoZW5ldmVyIHRoZSB0aW1lbGluZSBhZGRzXG5cdFx0ICogaXQgYmFjayBvbnRvIHRoZSBkaXNwbGF5IGxpc3QuIFRoaXMgb25seSBhcHBsaWVzIHRvIE1vdmllQ2xpcCBpbnN0YW5jZXMgd2l0aCBtb2RlPUlOREVQRU5ERU5ULlxuXHRcdCAqIDxicj48YnI+XG5cdFx0ICogRm9yIGV4YW1wbGUsIGlmIHlvdSBoYWQgYSBjaGFyYWN0ZXIgYW5pbWF0aW9uIHdpdGggYSBcImJvZHlcIiBjaGlsZCBNb3ZpZUNsaXAgaW5zdGFuY2Vcblx0XHQgKiB3aXRoIGRpZmZlcmVudCBjb3N0dW1lcyBvbiBlYWNoIGZyYW1lLCB5b3UgY291bGQgc2V0IGJvZHkuYXV0b1Jlc2V0ID0gZmFsc2UsIHNvIHRoYXRcblx0XHQgKiB5b3UgY2FuIG1hbnVhbGx5IGNoYW5nZSB0aGUgZnJhbWUgaXQgaXMgb24sIHdpdGhvdXQgd29ycnlpbmcgdGhhdCBpdCB3aWxsIGJlIHJlc2V0XG5cdFx0ICogYXV0b21hdGljYWxseS5cblx0XHQgKiBAcHJvcGVydHkgYXV0b1Jlc2V0XG5cdFx0ICogQHR5cGUgQm9vbGVhblxuXHRcdCAqIEBkZWZhdWx0IHRydWVcblx0XHQgKi9cblx0XHR0aGlzLmF1dG9SZXNldCA9IHRydWU7XG5cdFx0XG5cdFx0LyoqXG5cdFx0ICogQW4gYXJyYXkgb2YgYm91bmRzIGZvciBlYWNoIGZyYW1lIGluIHRoZSBNb3ZpZUNsaXAuIFRoaXMgaXMgbWFpbmx5IGludGVuZGVkIGZvciB0b29sIG91dHB1dC5cblx0XHQgKiBAcHJvcGVydHkgZnJhbWVCb3VuZHNcblx0XHQgKiBAdHlwZSBBcnJheVxuXHRcdCAqIEBkZWZhdWx0IG51bGxcblx0XHQgKi9cblx0XHR0aGlzLmZyYW1lQm91bmRzID0gdGhpcy5mcmFtZUJvdW5kc3x8cHJvcHMuZnJhbWVCb3VuZHM7IC8vIGZyYW1lQm91bmRzIGFyZSBzZXQgb24gdGhlIHByb3RvdHlwZSBpbiBBbmltYXRlLlxuXHRcdFxuXHRcdC8qKlxuXHRcdCAqIEJ5IGRlZmF1bHQgTW92aWVDbGlwIGluc3RhbmNlcyBhZHZhbmNlIG9uZSBmcmFtZSBwZXIgdGljay4gU3BlY2lmeWluZyBhIGZyYW1lcmF0ZSBmb3IgdGhlIE1vdmllQ2xpcFxuXHRcdCAqIHdpbGwgY2F1c2UgaXQgdG8gYWR2YW5jZSBiYXNlZCBvbiBlbGFwc2VkIHRpbWUgYmV0d2VlbiB0aWNrcyBhcyBhcHByb3ByaWF0ZSB0byBtYWludGFpbiB0aGUgdGFyZ2V0XG5cdFx0ICogZnJhbWVyYXRlLlxuXHRcdCAqXG5cdFx0ICogRm9yIGV4YW1wbGUsIGlmIGEgTW92aWVDbGlwIHdpdGggYSBmcmFtZXJhdGUgb2YgMTAgaXMgcGxhY2VkIG9uIGEgU3RhZ2UgYmVpbmcgdXBkYXRlZCBhdCA0MGZwcywgdGhlbiB0aGUgTW92aWVDbGlwIHdpbGxcblx0XHQgKiBhZHZhbmNlIHJvdWdobHkgb25lIGZyYW1lIGV2ZXJ5IDQgdGlja3MuIFRoaXMgd2lsbCBub3QgYmUgZXhhY3QsIGJlY2F1c2UgdGhlIHRpbWUgYmV0d2VlbiBlYWNoIHRpY2sgd2lsbFxuXHRcdCAqIHZhcnkgc2xpZ2h0bHkgYmV0d2VlbiBmcmFtZXMuXG5cdFx0ICpcblx0XHQgKiBUaGlzIGZlYXR1cmUgaXMgZGVwZW5kZW50IG9uIHRoZSB0aWNrIGV2ZW50IG9iamVjdCAob3IgYW4gb2JqZWN0IHdpdGggYW4gYXBwcm9wcmlhdGUgXCJkZWx0YVwiIHByb3BlcnR5KSBiZWluZ1xuXHRcdCAqIHBhc3NlZCBpbnRvIHt7I2Nyb3NzTGluayBcIlN0YWdlL3VwZGF0ZVwifX17ey9jcm9zc0xpbmt9fS5cblx0XHQgKiBAcHJvcGVydHkgZnJhbWVyYXRlXG5cdFx0ICogQHR5cGUge051bWJlcn1cblx0XHQgKiBAZGVmYXVsdCBudWxsXG5cdFx0ICoqL1xuXHRcdHRoaXMuZnJhbWVyYXRlID0gbnVsbDtcblx0XHRcblx0XHQvLyBzZXQgdXAgdGhlIG5lZWRlZCBwcm9wcyBmb3IgVGltZWxpbmU6XG5cdFx0cHJvcHMudXNlVGlja3MgPSBwcm9wcy5wYXVzZWQgPSB0cnVlO1xuXHRcdFxuXHRcdC8qKlxuXHRcdCAqIFRoZSBUd2VlbkpTIFRpbWVsaW5lIHRoYXQgaXMgYXNzb2NpYXRlZCB3aXRoIHRoaXMgTW92aWVDbGlwLiBUaGlzIGlzIGNyZWF0ZWQgYXV0b21hdGljYWxseSB3aGVuIHRoZSBNb3ZpZUNsaXBcblx0XHQgKiBpbnN0YW5jZSBpcyBpbml0aWFsaXplZC4gQW5pbWF0aW9ucyBhcmUgY3JlYXRlZCBieSBhZGRpbmcgPGEgaHJlZj1cImh0dHA6Ly90d2VlbmpzLmNvbVwiPlR3ZWVuSlM8L2E+IFR3ZWVuXG5cdFx0ICogaW5zdGFuY2VzIHRvIHRoZSB0aW1lbGluZS5cblx0XHQgKlxuXHRcdCAqIDxoND5FeGFtcGxlPC9oND5cblx0XHQgKlxuXHRcdCAqICAgICAgdmFyIHR3ZWVuID0gY3JlYXRlanMuVHdlZW4uZ2V0KHRhcmdldCkudG8oe3g6MH0pLnRvKHt4OjEwMH0sIDMwKTtcblx0XHQgKiAgICAgIHZhciBtYyA9IG5ldyBjcmVhdGVqcy5Nb3ZpZUNsaXAoKTtcblx0XHQgKiAgICAgIG1jLnRpbWVsaW5lLmFkZFR3ZWVuKHR3ZWVuKTtcblx0XHQgKlxuXHRcdCAqIEVsZW1lbnRzIGNhbiBiZSBhZGRlZCBhbmQgcmVtb3ZlZCBmcm9tIHRoZSB0aW1lbGluZSBieSB0b2dnbGluZyBhbiBcIl9vZmZcIiBwcm9wZXJ0eVxuXHRcdCAqIHVzaW5nIHRoZSA8Y29kZT50d2Vlbkluc3RhbmNlLnRvKCk8L2NvZGU+IG1ldGhvZC4gTm90ZSB0aGF0IHVzaW5nIDxjb2RlPlR3ZWVuLnNldDwvY29kZT4gaXMgbm90IHJlY29tbWVuZGVkIHRvXG5cdFx0ICogY3JlYXRlIE1vdmllQ2xpcCBhbmltYXRpb25zLiBUaGUgZm9sbG93aW5nIGV4YW1wbGUgd2lsbCB0b2dnbGUgdGhlIHRhcmdldCBvZmYgb24gZnJhbWUgMCwgYW5kIHRoZW4gYmFjayBvbiBmb3Jcblx0XHQgKiBmcmFtZSAxLiBZb3UgY2FuIHVzZSB0aGUgXCJ2aXNpYmxlXCIgcHJvcGVydHkgdG8gYWNoaWV2ZSB0aGUgc2FtZSBlZmZlY3QuXG5cdFx0ICpcblx0XHQgKiAgICAgIHZhciB0d2VlbiA9IGNyZWF0ZWpzLlR3ZWVuLmdldCh0YXJnZXQpLnRvKHtfb2ZmOmZhbHNlfSlcblx0XHQgKiAgICAgICAgICAud2FpdCgxKS50byh7X29mZjp0cnVlfSlcblx0XHQgKiAgICAgICAgICAud2FpdCgxKS50byh7X29mZjpmYWxzZX0pO1xuXHRcdCAqXG5cdFx0ICogQHByb3BlcnR5IHRpbWVsaW5lXG5cdFx0ICogQHR5cGUgVGltZWxpbmVcblx0XHQgKiBAZGVmYXVsdCBudWxsXG5cdFx0ICovXG5cdFx0dGhpcy50aW1lbGluZSA9IG5ldyBjcmVhdGVqcy5UaW1lbGluZShwcm9wcyk7XG5cdFx0XG5cdFx0XG5cdC8vIHByaXZhdGUgcHJvcGVydGllczpcblx0XHQvKipcblx0XHQgKiBAcHJvcGVydHkgX3N5bmNoT2Zmc2V0XG5cdFx0ICogQHR5cGUgTnVtYmVyXG5cdFx0ICogQGRlZmF1bHQgMFxuXHRcdCAqIEBwcml2YXRlXG5cdFx0ICovXG5cdFx0dGhpcy5fc3luY2hPZmZzZXQgPSAwO1xuXHRcblx0XHQvKipcblx0XHQgKiBAcHJvcGVydHkgX3Jhd1Bvc2l0aW9uXG5cdFx0ICogQHR5cGUgTnVtYmVyXG5cdFx0ICogQGRlZmF1bHQgLTFcblx0XHQgKiBAcHJpdmF0ZVxuXHRcdCAqL1xuXHRcdHRoaXMuX3Jhd1Bvc2l0aW9uID0gLTE7IC8vIFRPRE86IGV2YWx1YXRlIHVzaW5nIGEgLl9yZXNldCBCb29sZWFuIHByb3AgaW5zdGVhZCBvZiAtMS5cblx0XHRcblx0XHQvKipcblx0XHQgKiBAcHJvcGVydHkgX2JvdW5kX3Jlc29sdmVTdGF0ZVxuXHRcdCAqIEB0eXBlIEZ1bmN0aW9uXG5cdFx0ICogQHByaXZhdGVcblx0XHQgKi9cblx0XHR0aGlzLl9ib3VuZF9yZXNvbHZlU3RhdGUgPSB0aGlzLl9yZXNvbHZlU3RhdGUuYmluZCh0aGlzKTtcblx0XG5cdFxuXHRcdC8qKlxuXHRcdCAqIFRoZSB0aW1lIHJlbWFpbmluZyBmcm9tIHRoZSBwcmV2aW91cyB0aWNrLCBvbmx5IGFwcGxpY2FibGUgd2hlbiAuZnJhbWVyYXRlIGlzIHNldC5cblx0XHQgKiBAcHJvcGVydHkgX3Rcblx0XHQgKiBAdHlwZSBOdW1iZXJcblx0XHQgKiBAcHJpdmF0ZVxuXHRcdCAqL1xuXHRcdHRoaXMuX3QgPSAwO1xuXHRcblx0XHQvKipcblx0XHQgKiBMaXN0IG9mIGRpc3BsYXkgb2JqZWN0cyB0aGF0IGFyZSBhY3RpdmVseSBiZWluZyBtYW5hZ2VkIGJ5IHRoZSBNb3ZpZUNsaXAuXG5cdFx0ICogQHByb3BlcnR5IF9tYW5hZ2VkXG5cdFx0ICogQHR5cGUgT2JqZWN0XG5cdFx0ICogQHByaXZhdGVcblx0XHQgKi9cblx0XHR0aGlzLl9tYW5hZ2VkID0ge307XG5cdH1cblx0dmFyIHAgPSBjcmVhdGVqcy5leHRlbmQoTW92aWVDbGlwLCBjcmVhdGVqcy5Db250YWluZXIpO1xuXG5cbi8vIGNvbnN0YW50czpcblx0LyoqXG5cdCAqIFRoZSBNb3ZpZUNsaXAgd2lsbCBhZHZhbmNlIGluZGVwZW5kZW50bHkgb2YgaXRzIHBhcmVudCwgZXZlbiBpZiBpdHMgcGFyZW50IGlzIHBhdXNlZC5cblx0ICogVGhpcyBpcyB0aGUgZGVmYXVsdCBtb2RlLlxuXHQgKiBAcHJvcGVydHkgSU5ERVBFTkRFTlRcblx0ICogQHN0YXRpY1xuXHQgKiBAdHlwZSBTdHJpbmdcblx0ICogQGRlZmF1bHQgXCJpbmRlcGVuZGVudFwiXG5cdCAqIEByZWFkb25seVxuXHQgKiovXG5cdE1vdmllQ2xpcC5JTkRFUEVOREVOVCA9IFwiaW5kZXBlbmRlbnRcIjtcblxuXHQvKipcblx0ICogVGhlIE1vdmllQ2xpcCB3aWxsIG9ubHkgZGlzcGxheSBhIHNpbmdsZSBmcmFtZSAoYXMgZGV0ZXJtaW5lZCBieSB0aGUgc3RhcnRQb3NpdGlvbiBwcm9wZXJ0eSkuXG5cdCAqIEBwcm9wZXJ0eSBTSU5HTEVfRlJBTUVcblx0ICogQHN0YXRpY1xuXHQgKiBAdHlwZSBTdHJpbmdcblx0ICogQGRlZmF1bHQgXCJzaW5nbGVcIlxuXHQgKiBAcmVhZG9ubHlcblx0ICoqL1xuXHRNb3ZpZUNsaXAuU0lOR0xFX0ZSQU1FID0gXCJzaW5nbGVcIjtcblxuXHQvKipcblx0ICogVGhlIE1vdmllQ2xpcCB3aWxsIGJlIGFkdmFuY2VkIG9ubHkgd2hlbiBpdHMgcGFyZW50IGFkdmFuY2VzIGFuZCB3aWxsIGJlIHN5bmNoZWQgdG8gdGhlIHBvc2l0aW9uIG9mXG5cdCAqIHRoZSBwYXJlbnQgTW92aWVDbGlwLlxuXHQgKiBAcHJvcGVydHkgU1lOQ0hFRFxuXHQgKiBAc3RhdGljXG5cdCAqIEB0eXBlIFN0cmluZ1xuXHQgKiBAZGVmYXVsdCBcInN5bmNoZWRcIlxuXHQgKiBAcmVhZG9ubHlcblx0ICoqL1xuXHRNb3ZpZUNsaXAuU1lOQ0hFRCA9IFwic3luY2hlZFwiO1xuXHRcblx0XG4vLyBzdGF0aWMgcHJvcGVydGllczpcblx0TW92aWVDbGlwLmluaXRlZCA9IGZhbHNlO1xuXHRcblx0XG4vLyBzdGF0aWMgbWV0aG9kczpcblx0TW92aWVDbGlwLmluaXQgPSBmdW5jdGlvbigpIHtcblx0XHRpZiAoTW92aWVDbGlwLmluaXRlZCkgeyByZXR1cm47IH1cblx0XHQvLyBwbHVnaW5zIGludHJvZHVjZSBzb21lIG92ZXJoZWFkIHRvIFR3ZWVuLCBzbyB3ZSBvbmx5IGluc3RhbGwgdGhpcyBpZiBhbiBNQyBpcyBpbnN0YW50aWF0ZWQuXG5cdFx0TW92aWVDbGlwUGx1Z2luLmluc3RhbGwoKTtcblx0XHRNb3ZpZUNsaXAuaW5pdGVkID0gdHJ1ZTtcblx0fTtcblx0XG5cdFxuLy8gZ2V0dGVyIC8gc2V0dGVyczpcblx0LyoqXG5cdCAqIFVzZSB0aGUge3sjY3Jvc3NMaW5rIFwiTW92aWVDbGlwL2xhYmVsczpwcm9wZXJ0eVwifX17ey9jcm9zc0xpbmt9fSBwcm9wZXJ0eSBpbnN0ZWFkLlxuXHQgKiBAbWV0aG9kIF9nZXRMYWJlbHNcblx0ICogQHByb3RlY3RlZFxuXHQgKiBAcmV0dXJuIHtBcnJheX1cblx0ICoqL1xuXHRwLl9nZXRMYWJlbHMgPSBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gdGhpcy50aW1lbGluZS5nZXRMYWJlbHMoKTtcblx0fTtcblx0Ly8gTW92aWVDbGlwLmdldExhYmVscyBpcyBAZGVwcmVjYXRlZC4gUmVtb3ZlIGZvciAxLjErXG5cdHAuZ2V0TGFiZWxzID0gY3JlYXRlanMuZGVwcmVjYXRlKHAuX2dldExhYmVscywgXCJNb3ZpZUNsaXAuZ2V0TGFiZWxzXCIpO1xuXG5cdC8qKlxuXHQgKiBVc2UgdGhlIHt7I2Nyb3NzTGluayBcIk1vdmllQ2xpcC9jdXJyZW50TGFiZWw6cHJvcGVydHlcIn19e3svY3Jvc3NMaW5rfX0gcHJvcGVydHkgaW5zdGVhZC5cblx0ICogQG1ldGhvZCBfZ2V0Q3VycmVudExhYmVsXG5cdCAqIEBwcm90ZWN0ZWRcblx0ICogQHJldHVybiB7U3RyaW5nfVxuXHQgKiovXG5cdHAuX2dldEN1cnJlbnRMYWJlbCA9IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLnRpbWVsaW5lLmN1cnJlbnRMYWJlbDtcblx0fTtcblx0Ly8gTW92aWVDbGlwLmdldEN1cnJlbnRMYWJlbCBpcyBAZGVwcmVjYXRlZC4gUmVtb3ZlIGZvciAxLjErXG5cdHAuZ2V0Q3VycmVudExhYmVsID0gY3JlYXRlanMuZGVwcmVjYXRlKHAuX2dldEN1cnJlbnRMYWJlbCwgXCJNb3ZpZUNsaXAuZ2V0Q3VycmVudExhYmVsXCIpO1xuXG5cdC8qKlxuXHQgKiBVc2UgdGhlIHt7I2Nyb3NzTGluayBcIk1vdmllQ2xpcC9kdXJhdGlvbjpwcm9wZXJ0eVwifX17ey9jcm9zc0xpbmt9fSBwcm9wZXJ0eSBpbnN0ZWFkLlxuXHQgKiBAbWV0aG9kIF9nZXREdXJhdGlvblxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqIEByZXR1cm4ge051bWJlcn1cblx0ICoqL1xuXHRwLl9nZXREdXJhdGlvbiA9IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLnRpbWVsaW5lLmR1cmF0aW9uO1xuXHR9O1xuXHQvLyBNb3ZpZUNsaXAuZ2V0RHVyYXRpb24gaXMgQGRlcHJlY2F0ZWQuIFJlbW92ZSBmb3IgMS4xK1xuXHRwLmdldER1cmF0aW9uID0gY3JlYXRlanMuZGVwcmVjYXRlKHAuX2dldER1cmF0aW9uLCBcIk1vdmllQ2xpcC5nZXREdXJhdGlvblwiKTtcblxuXHQvKipcblx0ICogUmV0dXJucyBhbiBhcnJheSBvZiBvYmplY3RzIHdpdGggbGFiZWwgYW5kIHBvc2l0aW9uIChha2EgZnJhbWUpIHByb3BlcnRpZXMsIHNvcnRlZCBieSBwb3NpdGlvbi5cblx0ICogQHByb3BlcnR5IGxhYmVsc1xuXHQgKiBAdHlwZSB7QXJyYXl9XG5cdCAqIEByZWFkb25seVxuXHQgKiovXG5cdFxuXHQvKipcblx0ICogUmV0dXJucyB0aGUgbmFtZSBvZiB0aGUgbGFiZWwgb24gb3IgaW1tZWRpYXRlbHkgYmVmb3JlIHRoZSBjdXJyZW50IGZyYW1lLlxuXHQgKiBAcHJvcGVydHkgY3VycmVudExhYmVsXG5cdCAqIEB0eXBlIHtTdHJpbmd9XG5cdCAqIEByZWFkb25seVxuXHQgKiovXG5cdFxuXHQvKipcblx0ICogUmV0dXJucyB0aGUgZHVyYXRpb24gb2YgdGhpcyBNb3ZpZUNsaXAgaW4gc2Vjb25kcyBvciB0aWNrcy5cblx0ICogQHByb3BlcnR5IHRvdGFsRnJhbWVzXG5cdCAqIEB0eXBlIHtOdW1iZXJ9XG5cdCAqIEByZWFkb25seVxuXHQgKiovXG5cdFxuXHQvKipcblx0ICogUmV0dXJucyB0aGUgZHVyYXRpb24gb2YgdGhpcyBNb3ZpZUNsaXAgaW4gc2Vjb25kcyBvciB0aWNrcy5cblx0ICogQHByb3BlcnR5IGR1cmF0aW9uXG5cdCAqIEB0eXBlIHtOdW1iZXJ9XG5cdCAqIEByZWFkb25seVxuXHQgKiovXG5cdHRyeSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnRpZXMocCwge1xuXHRcdFx0bGFiZWxzOiB7IGdldDogcC5fZ2V0TGFiZWxzIH0sXG5cdFx0XHRjdXJyZW50TGFiZWw6IHsgZ2V0OiBwLl9nZXRDdXJyZW50TGFiZWwgfSxcblx0XHRcdHRvdGFsRnJhbWVzOiB7IGdldDogcC5fZ2V0RHVyYXRpb24gfSxcblx0XHRcdGR1cmF0aW9uOiB7IGdldDogcC5fZ2V0RHVyYXRpb24gfVxuXHRcdFx0Ly8gVE9ETzogY2FuIHdlIGp1c3QgcHJveHkgLmN1cnJlbnRGcmFtZSB0byB0bC5wb3NpdGlvbiBhcyB3ZWxsPyBEaXR0byBmb3IgLmxvb3AgKG9yIGp1c3QgcmVtb3ZlIGVudGlyZWx5KS5cblx0XHR9KTtcblx0fSBjYXRjaCAoZSkge31cblxuXG4vLyBwdWJsaWMgbWV0aG9kczpcblx0LyoqXG5cdCAqIENvbnN0cnVjdG9yIGFsaWFzIGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eS4gVGhpcyBtZXRob2Qgd2lsbCBiZSByZW1vdmVkIGluIGZ1dHVyZSB2ZXJzaW9ucy5cblx0ICogU3ViY2xhc3NlcyBzaG91bGQgYmUgdXBkYXRlZCB0byB1c2Uge3sjY3Jvc3NMaW5rIFwiVXRpbGl0eSBNZXRob2RzL2V4dGVuZHNcIn19e3svY3Jvc3NMaW5rfX0uXG5cdCAqIEBtZXRob2QgaW5pdGlhbGl6ZVxuXHQgKiBAZGVwcmVjYXRlZCBpbiBmYXZvdXIgb2YgYGNyZWF0ZWpzLnByb21vdGUoKWBcblx0ICoqL1xuXHRwLmluaXRpYWxpemUgPSBNb3ZpZUNsaXA7IC8vIFRPRE86IERlcHJlY2F0ZWQuIFRoaXMgaXMgZm9yIGJhY2t3YXJkcyBzdXBwb3J0IG9mIEFkb2JlIEZsYXNoL0FuaW1hdGVcblxuXHQvKipcblx0ICogUmV0dXJucyB0cnVlIG9yIGZhbHNlIGluZGljYXRpbmcgd2hldGhlciB0aGUgZGlzcGxheSBvYmplY3Qgd291bGQgYmUgdmlzaWJsZSBpZiBkcmF3biB0byBhIGNhbnZhcy5cblx0ICogVGhpcyBkb2VzIG5vdCBhY2NvdW50IGZvciB3aGV0aGVyIGl0IHdvdWxkIGJlIHZpc2libGUgd2l0aGluIHRoZSBib3VuZGFyaWVzIG9mIHRoZSBzdGFnZS5cblx0ICogTk9URTogVGhpcyBtZXRob2QgaXMgbWFpbmx5IGZvciBpbnRlcm5hbCB1c2UsIHRob3VnaCBpdCBtYXkgYmUgdXNlZnVsIGZvciBhZHZhbmNlZCB1c2VzLlxuXHQgKiBAbWV0aG9kIGlzVmlzaWJsZVxuXHQgKiBAcmV0dXJuIHtCb29sZWFufSBCb29sZWFuIGluZGljYXRpbmcgd2hldGhlciB0aGUgZGlzcGxheSBvYmplY3Qgd291bGQgYmUgdmlzaWJsZSBpZiBkcmF3biB0byBhIGNhbnZhc1xuXHQgKiovXG5cdHAuaXNWaXNpYmxlID0gZnVuY3Rpb24oKSB7XG5cdFx0Ly8gY2hpbGRyZW4gYXJlIHBsYWNlZCBpbiBkcmF3LCBzbyB3ZSBjYW4ndCBkZXRlcm1pbmUgaWYgd2UgaGF2ZSBjb250ZW50LlxuXHRcdHJldHVybiAhISh0aGlzLnZpc2libGUgJiYgdGhpcy5hbHBoYSA+IDAgJiYgdGhpcy5zY2FsZVggIT0gMCAmJiB0aGlzLnNjYWxlWSAhPSAwKTtcblx0fTtcblxuXHQvKipcblx0ICogRHJhd3MgdGhlIGRpc3BsYXkgb2JqZWN0IGludG8gdGhlIHNwZWNpZmllZCBjb250ZXh0IGlnbm9yaW5nIGl0cyB2aXNpYmxlLCBhbHBoYSwgc2hhZG93LCBhbmQgdHJhbnNmb3JtLlxuXHQgKiBSZXR1cm5zIHRydWUgaWYgdGhlIGRyYXcgd2FzIGhhbmRsZWQgKHVzZWZ1bCBmb3Igb3ZlcnJpZGluZyBmdW5jdGlvbmFsaXR5KS5cblx0ICogTk9URTogVGhpcyBtZXRob2QgaXMgbWFpbmx5IGZvciBpbnRlcm5hbCB1c2UsIHRob3VnaCBpdCBtYXkgYmUgdXNlZnVsIGZvciBhZHZhbmNlZCB1c2VzLlxuXHQgKiBAbWV0aG9kIGRyYXdcblx0ICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCBUaGUgY2FudmFzIDJEIGNvbnRleHQgb2JqZWN0IHRvIGRyYXcgaW50by5cblx0ICogQHBhcmFtIHtCb29sZWFufSBpZ25vcmVDYWNoZSBJbmRpY2F0ZXMgd2hldGhlciB0aGUgZHJhdyBvcGVyYXRpb24gc2hvdWxkIGlnbm9yZSBhbnkgY3VycmVudCBjYWNoZS5cblx0ICogRm9yIGV4YW1wbGUsIHVzZWQgZm9yIGRyYXdpbmcgdGhlIGNhY2hlICh0byBwcmV2ZW50IGl0IGZyb20gc2ltcGx5IGRyYXdpbmcgYW4gZXhpc3RpbmcgY2FjaGUgYmFja1xuXHQgKiBpbnRvIGl0c2VsZikuXG5cdCAqKi9cblx0cC5kcmF3ID0gZnVuY3Rpb24oY3R4LCBpZ25vcmVDYWNoZSkge1xuXHRcdC8vIGRyYXcgdG8gY2FjaGUgZmlyc3Q6XG5cdFx0aWYgKHRoaXMuRGlzcGxheU9iamVjdF9kcmF3KGN0eCwgaWdub3JlQ2FjaGUpKSB7IHJldHVybiB0cnVlOyB9XG5cdFx0dGhpcy5fdXBkYXRlU3RhdGUoKTtcblx0XHR0aGlzLkNvbnRhaW5lcl9kcmF3KGN0eCwgaWdub3JlQ2FjaGUpO1xuXHRcdHJldHVybiB0cnVlO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBTZXRzIHBhdXNlZCB0byBmYWxzZS5cblx0ICogQG1ldGhvZCBwbGF5XG5cdCAqKi9cblx0cC5wbGF5ID0gZnVuY3Rpb24oKSB7XG5cdFx0dGhpcy5wYXVzZWQgPSBmYWxzZTtcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBTZXRzIHBhdXNlZCB0byB0cnVlLlxuXHQgKiBAbWV0aG9kIHN0b3Bcblx0ICoqL1xuXHRwLnN0b3AgPSBmdW5jdGlvbigpIHtcblx0XHR0aGlzLnBhdXNlZCA9IHRydWU7XG5cdH07XG5cdFxuXHQvKipcblx0ICogQWR2YW5jZXMgdGhpcyBtb3ZpZSBjbGlwIHRvIHRoZSBzcGVjaWZpZWQgcG9zaXRpb24gb3IgbGFiZWwgYW5kIHNldHMgcGF1c2VkIHRvIGZhbHNlLlxuXHQgKiBAbWV0aG9kIGdvdG9BbmRQbGF5XG5cdCAqIEBwYXJhbSB7U3RyaW5nfE51bWJlcn0gcG9zaXRpb25PckxhYmVsIFRoZSBhbmltYXRpb24gbmFtZSBvciBmcmFtZSBudW1iZXIgdG8gZ28gdG8uXG5cdCAqKi9cblx0cC5nb3RvQW5kUGxheSA9IGZ1bmN0aW9uKHBvc2l0aW9uT3JMYWJlbCkge1xuXHRcdHRoaXMucGF1c2VkID0gZmFsc2U7XG5cdFx0dGhpcy5fZ290byhwb3NpdGlvbk9yTGFiZWwpO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIEFkdmFuY2VzIHRoaXMgbW92aWUgY2xpcCB0byB0aGUgc3BlY2lmaWVkIHBvc2l0aW9uIG9yIGxhYmVsIGFuZCBzZXRzIHBhdXNlZCB0byB0cnVlLlxuXHQgKiBAbWV0aG9kIGdvdG9BbmRTdG9wXG5cdCAqIEBwYXJhbSB7U3RyaW5nfE51bWJlcn0gcG9zaXRpb25PckxhYmVsIFRoZSBhbmltYXRpb24gb3IgZnJhbWUgbmFtZSB0byBnbyB0by5cblx0ICoqL1xuXHRwLmdvdG9BbmRTdG9wID0gZnVuY3Rpb24ocG9zaXRpb25PckxhYmVsKSB7XG5cdFx0dGhpcy5wYXVzZWQgPSB0cnVlO1xuXHRcdHRoaXMuX2dvdG8ocG9zaXRpb25PckxhYmVsKTtcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBBZHZhbmNlcyB0aGUgcGxheWhlYWQuIFRoaXMgb2NjdXJzIGF1dG9tYXRpY2FsbHkgZWFjaCB0aWNrIGJ5IGRlZmF1bHQuXG5cdCAqIEBwYXJhbSBbdGltZV0ge051bWJlcn0gVGhlIGFtb3VudCBvZiB0aW1lIGluIG1zIHRvIGFkdmFuY2UgYnkuIE9ubHkgYXBwbGljYWJsZSBpZiBmcmFtZXJhdGUgaXMgc2V0LlxuXHQgKiBAbWV0aG9kIGFkdmFuY2Vcblx0Ki9cblx0cC5hZHZhbmNlID0gZnVuY3Rpb24odGltZSkge1xuXHRcdHZhciBpbmRlcGVuZGVudCA9IE1vdmllQ2xpcC5JTkRFUEVOREVOVDtcblx0XHRpZiAodGhpcy5tb2RlICE9PSBpbmRlcGVuZGVudCkgeyByZXR1cm47IH0gLy8gdXBkYXRlIGhhcHBlbnMgaW4gZHJhdyBmb3Igc3luY2hlZCBjbGlwc1xuXHRcdFxuXHRcdC8vIGlmIHRoaXMgTUMgZG9lc24ndCBoYXZlIGEgZnJhbWVyYXRlLCBodW50IGFuY2VzdG9ycyBmb3Igb25lOlxuXHRcdHZhciBvPXRoaXMsIGZwcyA9IG8uZnJhbWVyYXRlO1xuXHRcdHdoaWxlICgobyA9IG8ucGFyZW50KSAmJiBmcHMgPT09IG51bGwpIHsgaWYgKG8ubW9kZSA9PT0gaW5kZXBlbmRlbnQpIHsgZnBzID0gby5fZnJhbWVyYXRlOyB9IH1cblx0XHR0aGlzLl9mcmFtZXJhdGUgPSBmcHM7XG5cdFx0XG5cdFx0aWYgKHRoaXMucGF1c2VkKSB7IHJldHVybjsgfVxuXHRcdFxuXHRcdC8vIGNhbGN1bGF0ZSBob3cgbWFueSBmcmFtZXMgdG8gYWR2YW5jZTpcblx0XHR2YXIgdCA9IChmcHMgIT09IG51bGwgJiYgZnBzICE9PSAtMSAmJiB0aW1lICE9PSBudWxsKSA/IHRpbWUvKDEwMDAvZnBzKSArIHRoaXMuX3QgOiAxO1xuXHRcdHZhciBmcmFtZXMgPSB0fDA7XG5cdFx0dGhpcy5fdCA9IHQtZnJhbWVzOyAvLyBsZWZ0b3ZlciB0aW1lLCBzYXZlIHRvIGFkZCB0byBuZXh0IGFkdmFuY2UuXG5cdFx0XG5cdFx0d2hpbGUgKGZyYW1lcy0tKSB7IHRoaXMuX3VwZGF0ZVRpbWVsaW5lKHRoaXMuX3Jhd1Bvc2l0aW9uKzEsIGZhbHNlKTsgfVxuXHR9O1xuXHRcblx0LyoqXG5cdCAqIE1vdmllQ2xpcCBpbnN0YW5jZXMgY2Fubm90IGJlIGNsb25lZC5cblx0ICogQG1ldGhvZCBjbG9uZVxuXHQgKiovXG5cdHAuY2xvbmUgPSBmdW5jdGlvbigpIHtcblx0XHQvLyBUT0RPOiBhZGQgc3VwcG9ydCBmb3IgdGhpcz8gTmVlZCB0byBjbG9uZSB0aGUgVGltZWxpbmUgJiByZXRhcmdldCB0d2VlbnMgLSBwcmV0dHkgY29tcGxleC5cblx0XHR0aHJvdyhcIk1vdmllQ2xpcCBjYW5ub3QgYmUgY2xvbmVkLlwiKTtcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBSZXR1cm5zIGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoaXMgb2JqZWN0LlxuXHQgKiBAbWV0aG9kIHRvU3RyaW5nXG5cdCAqIEByZXR1cm4ge1N0cmluZ30gYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIGluc3RhbmNlLlxuXHQgKiovXG5cdHAudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gXCJbTW92aWVDbGlwIChuYW1lPVwiKyAgdGhpcy5uYW1lICtcIildXCI7XG5cdH07XG5cblxuLy8gcHJpdmF0ZSBtZXRob2RzOlxuXHQvKipcblx0ICogRG9jY2VkIGluIHN1cGVyY2xhc3MuXG5cdCAqKi9cblx0cC5fdXBkYXRlU3RhdGUgPSBmdW5jdGlvbigpIHtcblx0XHRpZiAodGhpcy5fcmF3UG9zaXRpb24gPT09IC0xIHx8IHRoaXMubW9kZSAhPT0gTW92aWVDbGlwLklOREVQRU5ERU5UKSB7IHRoaXMuX3VwZGF0ZVRpbWVsaW5lKC0xKTsgfVxuXHR9O1xuXG5cdC8qKlxuXHQgKiBAbWV0aG9kIF90aWNrXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBldnRPYmogQW4gZXZlbnQgb2JqZWN0IHRoYXQgd2lsbCBiZSBkaXNwYXRjaGVkIHRvIGFsbCB0aWNrIGxpc3RlbmVycy4gVGhpcyBvYmplY3QgaXMgcmV1c2VkIGJldHdlZW4gZGlzcGF0Y2hlcnMgdG8gcmVkdWNlIGNvbnN0cnVjdGlvbiAmIEdDIGNvc3RzLlxuXHQgKiBmdW5jdGlvbi5cblx0ICogQHByb3RlY3RlZFxuXHQgKiovXG5cdHAuX3RpY2sgPSBmdW5jdGlvbihldnRPYmopIHtcblx0XHR0aGlzLmFkdmFuY2UoZXZ0T2JqJiZldnRPYmouZGVsdGEpO1xuXHRcdHRoaXMuQ29udGFpbmVyX190aWNrKGV2dE9iaik7XG5cdH07XG5cdFxuXHQvKipcblx0ICogQG1ldGhvZCBfZ290b1xuXHQgKiBAcGFyYW0ge1N0cmluZ3xOdW1iZXJ9IHBvc2l0aW9uT3JMYWJlbCBUaGUgYW5pbWF0aW9uIG5hbWUgb3IgZnJhbWUgbnVtYmVyIHRvIGdvIHRvLlxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqKi9cblx0cC5fZ290byA9IGZ1bmN0aW9uKHBvc2l0aW9uT3JMYWJlbCkge1xuXHRcdHZhciBwb3MgPSB0aGlzLnRpbWVsaW5lLnJlc29sdmUocG9zaXRpb25PckxhYmVsKTtcblx0XHRpZiAocG9zID09IG51bGwpIHsgcmV0dXJuOyB9XG5cdFx0dGhpcy5fdCA9IDA7XG5cdFx0dGhpcy5fdXBkYXRlVGltZWxpbmUocG9zLCB0cnVlKTtcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBAbWV0aG9kIF9yZXNldFxuXHQgKiBAcHJpdmF0ZVxuXHQgKiovXG5cdHAuX3Jlc2V0ID0gZnVuY3Rpb24oKSB7XG5cdFx0dGhpcy5fcmF3UG9zaXRpb24gPSAtMTtcblx0XHR0aGlzLl90ID0gdGhpcy5jdXJyZW50RnJhbWUgPSAwO1xuXHRcdHRoaXMucGF1c2VkID0gZmFsc2U7XG5cdH07XG5cdFxuXHQvKipcblx0ICogQG1ldGhvZCBfdXBkYXRlVGltZWxpbmVcblx0ICogQHBhcmFtIHtCb29sZWFufSBqdW1wIEluZGljYXRlcyB3aGV0aGVyIHRoaXMgdXBkYXRlIGlzIGR1ZSB0byBqdW1waW5nICh2aWEgZ290b0FuZFhYKSB0byBhIG5ldyBwb3NpdGlvbi5cblx0ICogQHByb3RlY3RlZFxuXHQgKiovXG5cdHAuX3VwZGF0ZVRpbWVsaW5lID0gZnVuY3Rpb24ocmF3UG9zaXRpb24sIGp1bXApIHtcblx0XHR2YXIgc3luY2VkID0gdGhpcy5tb2RlICE9PSBNb3ZpZUNsaXAuSU5ERVBFTkRFTlQsIHRsID0gdGhpcy50aW1lbGluZTtcblx0XHRpZiAoc3luY2VkKSB7IHJhd1Bvc2l0aW9uID0gdGhpcy5zdGFydFBvc2l0aW9uICsgKHRoaXMubW9kZT09PU1vdmllQ2xpcC5TSU5HTEVfRlJBTUU/MDp0aGlzLl9zeW5jaE9mZnNldCk7IH1cblx0XHRpZiAocmF3UG9zaXRpb24gPCAwKSB7IHJhd1Bvc2l0aW9uID0gMDsgfVxuXHRcdGlmICh0aGlzLl9yYXdQb3NpdGlvbiA9PT0gcmF3UG9zaXRpb24gJiYgIXN5bmNlZCkgeyByZXR1cm47IH1cblx0XHR0aGlzLl9yYXdQb3NpdGlvbiA9IHJhd1Bvc2l0aW9uO1xuXHRcdFxuXHRcdC8vIHVwZGF0ZSB0aW1lbGluZSBwb3NpdGlvbiwgaWdub3JpbmcgYWN0aW9ucyBpZiB0aGlzIGlzIGEgZ3JhcGhpYy5cblx0XHR0bC5sb29wID0gdGhpcy5sb29wOyAvLyBUT0RPOiBzaG91bGQgd2UgbWFpbnRhaW4gdGhpcyBvbiBNb3ZpZUNsaXAsIG9yIGp1c3QgaGF2ZSBpdCBvbiB0aW1lbGluZT9cblx0XHR0bC5zZXRQb3NpdGlvbihyYXdQb3NpdGlvbiwgc3luY2VkIHx8ICF0aGlzLmFjdGlvbnNFbmFibGVkLCBqdW1wLCB0aGlzLl9ib3VuZF9yZXNvbHZlU3RhdGUpO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIFJlbmRlcnMgcG9zaXRpb24gMCB3aXRob3V0IHJ1bm5pbmcgYWN0aW9ucyBvciB1cGRhdGluZyBfcmF3UG9zaXRpb24uXG5cdCAqIFByaW1hcmlseSB1c2VkIGJ5IEFuaW1hdGUgQ0MgdG8gYnVpbGQgb3V0IHRoZSBmaXJzdCBmcmFtZSBpbiB0aGUgY29uc3RydWN0b3Igb2YgTUMgc3ltYm9scy5cblx0ICogTk9URTogbm90IHRlc3RlZCB3aGVuIHJ1biBhZnRlciB0aGUgTUMgYWR2YW5jZXMgcGFzdCB0aGUgZmlyc3QgZnJhbWUuXG5cdCAqIEBtZXRob2QgX3JlbmRlckZpcnN0RnJhbWVcblx0ICogQHByb3RlY3RlZFxuXHQgKiovXG5cdHAuX3JlbmRlckZpcnN0RnJhbWUgPSBmdW5jdGlvbigpIHtcblx0XHR2YXIgdGwgPSB0aGlzLnRpbWVsaW5lLCBwb3MgPSB0bC5yYXdQb3NpdGlvbjtcblx0XHR0bC5zZXRQb3NpdGlvbigwLCB0cnVlLCB0cnVlLCB0aGlzLl9ib3VuZF9yZXNvbHZlU3RhdGUpO1xuXHRcdHRsLnJhd1Bvc2l0aW9uID0gcG9zO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIFJ1bnMgdmlhIGEgY2FsbGJhY2sgYWZ0ZXIgdGltZWxpbmUgcHJvcGVydHkgdXBkYXRlcyBhbmQgYmVmb3JlIGFjdGlvbnMuXG5cdCAqIEBtZXRob2QgX3Jlc29sdmVTdGF0ZVxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqKi9cblx0cC5fcmVzb2x2ZVN0YXRlID0gZnVuY3Rpb24oKSB7XG5cdFx0dmFyIHRsID0gdGhpcy50aW1lbGluZTtcblx0XHR0aGlzLmN1cnJlbnRGcmFtZSA9IHRsLnBvc2l0aW9uO1xuXHRcdFxuXHRcdGZvciAodmFyIG4gaW4gdGhpcy5fbWFuYWdlZCkgeyB0aGlzLl9tYW5hZ2VkW25dID0gMTsgfVxuXG5cdFx0dmFyIHR3ZWVucyA9IHRsLnR3ZWVucztcblx0XHRmb3IgKHZhciBpPTAsIGw9dHdlZW5zLmxlbmd0aDsgaTxsOyBpKyspIHtcblx0XHRcdHZhciB0d2VlbiA9IHR3ZWVuc1tpXSwgIHRhcmdldCA9IHR3ZWVuLnRhcmdldDtcblx0XHRcdGlmICh0YXJnZXQgPT09IHRoaXMgfHwgdHdlZW4ucGFzc2l2ZSkgeyBjb250aW51ZTsgfSAvLyBUT0RPOiB0aGlzIGFzc3VtZXMgdGhlIGFjdGlvbnMgdHdlZW4gZnJvbSBBbmltYXRlIGhhcyBgdGhpc2AgYXMgdGhlIHRhcmdldC4gVGhlcmUncyBsaWtlbHkgYSBiZXR0ZXIgYXBwcm9hY2guXG5cdFx0XHR2YXIgb2Zmc2V0ID0gdHdlZW4uX3N0ZXBQb3NpdGlvbjtcblxuXHRcdFx0aWYgKHRhcmdldCBpbnN0YW5jZW9mIGNyZWF0ZWpzLkRpc3BsYXlPYmplY3QpIHtcblx0XHRcdFx0Ly8gbW90aW9uIHR3ZWVuLlxuXHRcdFx0XHR0aGlzLl9hZGRNYW5hZ2VkQ2hpbGQodGFyZ2V0LCBvZmZzZXQpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Ly8gc3RhdGUgdHdlZW4uXG5cdFx0XHRcdHRoaXMuX3NldFN0YXRlKHRhcmdldC5zdGF0ZSwgb2Zmc2V0KTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHR2YXIga2lkcyA9IHRoaXMuY2hpbGRyZW47XG5cdFx0Zm9yIChpPWtpZHMubGVuZ3RoLTE7IGk+PTA7IGktLSkge1xuXHRcdFx0dmFyIGlkID0ga2lkc1tpXS5pZDtcblx0XHRcdGlmICh0aGlzLl9tYW5hZ2VkW2lkXSA9PT0gMSkge1xuXHRcdFx0XHR0aGlzLnJlbW92ZUNoaWxkQXQoaSk7XG5cdFx0XHRcdGRlbGV0ZSh0aGlzLl9tYW5hZ2VkW2lkXSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xuXG5cdC8qKlxuXHQgKiBAbWV0aG9kIF9zZXRTdGF0ZVxuXHQgKiBAcGFyYW0ge0FycmF5fSBzdGF0ZVxuXHQgKiBAcGFyYW0ge051bWJlcn0gb2Zmc2V0XG5cdCAqIEBwcm90ZWN0ZWRcblx0ICoqL1xuXHRwLl9zZXRTdGF0ZSA9IGZ1bmN0aW9uKHN0YXRlLCBvZmZzZXQpIHtcblx0XHRpZiAoIXN0YXRlKSB7IHJldHVybjsgfVxuXHRcdGZvciAodmFyIGk9c3RhdGUubGVuZ3RoLTE7aT49MDtpLS0pIHtcblx0XHRcdHZhciBvID0gc3RhdGVbaV07XG5cdFx0XHR2YXIgdGFyZ2V0ID0gby50O1xuXHRcdFx0dmFyIHByb3BzID0gby5wO1xuXHRcdFx0Zm9yICh2YXIgbiBpbiBwcm9wcykgeyB0YXJnZXRbbl0gPSBwcm9wc1tuXTsgfVxuXHRcdFx0dGhpcy5fYWRkTWFuYWdlZENoaWxkKHRhcmdldCwgb2Zmc2V0KTtcblx0XHR9XG5cdH07XG5cblx0LyoqXG5cdCAqIEFkZHMgYSBjaGlsZCB0byB0aGUgdGltZWxpbmUsIGFuZCBzZXRzIGl0IHVwIGFzIGEgbWFuYWdlZCBjaGlsZC5cblx0ICogQG1ldGhvZCBfYWRkTWFuYWdlZENoaWxkXG5cdCAqIEBwYXJhbSB7TW92aWVDbGlwfSBjaGlsZCBUaGUgY2hpbGQgTW92aWVDbGlwIHRvIG1hbmFnZVxuXHQgKiBAcGFyYW0ge051bWJlcn0gb2Zmc2V0XG5cdCAqIEBwcml2YXRlXG5cdCAqKi9cblx0cC5fYWRkTWFuYWdlZENoaWxkID0gZnVuY3Rpb24oY2hpbGQsIG9mZnNldCkge1xuXHRcdGlmIChjaGlsZC5fb2ZmKSB7IHJldHVybjsgfVxuXHRcdHRoaXMuYWRkQ2hpbGRBdChjaGlsZCwwKTtcblxuXHRcdGlmIChjaGlsZCBpbnN0YW5jZW9mIE1vdmllQ2xpcCkge1xuXHRcdFx0Y2hpbGQuX3N5bmNoT2Zmc2V0ID0gb2Zmc2V0O1xuXHRcdFx0Ly8gVE9ETzogdGhpcyBkb2VzIG5vdCBwcmVjaXNlbHkgbWF0Y2ggQWRvYmUgRmxhc2gvQW5pbWF0ZSwgd2hpY2ggbG9zZXMgdHJhY2sgb2YgdGhlIGNsaXAgaWYgaXQgaXMgcmVuYW1lZCBvciByZW1vdmVkIGZyb20gdGhlIHRpbWVsaW5lLCB3aGljaCBjYXVzZXMgaXQgdG8gcmVzZXQuXG5cdFx0XHQvLyBUT0RPOiBzaG91bGQgYWxzbyByZXNldCB3aGVuIE1vdmllQ2xpcCBsb29wcywgdGhvdWdoIHRoYXQgd2lsbCBiZSBhIGJpdCB0cmlja3kgdG8gZGV0ZWN0LlxuXHRcdFx0aWYgKGNoaWxkLm1vZGUgPT09IE1vdmllQ2xpcC5JTkRFUEVOREVOVCAmJiBjaGlsZC5hdXRvUmVzZXQgJiYgKCF0aGlzLl9tYW5hZ2VkW2NoaWxkLmlkXSkpIHsgY2hpbGQuX3Jlc2V0KCk7IH1cblx0XHR9XG5cdFx0dGhpcy5fbWFuYWdlZFtjaGlsZC5pZF0gPSAyO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIEBtZXRob2QgX2dldEJvdW5kc1xuXHQgKiBAcGFyYW0ge01hdHJpeDJEfSBtYXRyaXhcblx0ICogQHBhcmFtIHtCb29sZWFufSBpZ25vcmVUcmFuc2Zvcm1cblx0ICogQHJldHVybiB7UmVjdGFuZ2xlfVxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqKi9cblx0cC5fZ2V0Qm91bmRzID0gZnVuY3Rpb24obWF0cml4LCBpZ25vcmVUcmFuc2Zvcm0pIHtcblx0XHR2YXIgYm91bmRzID0gdGhpcy5EaXNwbGF5T2JqZWN0X2dldEJvdW5kcygpO1xuXHRcdGlmICghYm91bmRzKSB7XG5cdFx0XHRpZiAodGhpcy5mcmFtZUJvdW5kcykgeyBib3VuZHMgPSB0aGlzLl9yZWN0YW5nbGUuY29weSh0aGlzLmZyYW1lQm91bmRzW3RoaXMuY3VycmVudEZyYW1lXSk7IH1cblx0XHR9XG5cdFx0aWYgKGJvdW5kcykgeyByZXR1cm4gdGhpcy5fdHJhbnNmb3JtQm91bmRzKGJvdW5kcywgbWF0cml4LCBpZ25vcmVUcmFuc2Zvcm0pOyB9XG5cdFx0cmV0dXJuIHRoaXMuQ29udGFpbmVyX19nZXRCb3VuZHMobWF0cml4LCBpZ25vcmVUcmFuc2Zvcm0pO1xuXHR9O1xuXG5cblx0Y3JlYXRlanMuTW92aWVDbGlwID0gY3JlYXRlanMucHJvbW90ZShNb3ZpZUNsaXAsIFwiQ29udGFpbmVyXCIpO1xuXG5cblxuLy8gTW92aWVDbGlwUGx1Z2luIGZvciBUd2VlbkpTOlxuXHQvKipcblx0ICogVGhpcyBwbHVnaW4gd29ya3Mgd2l0aCA8YSBocmVmPVwiaHR0cDovL3R3ZWVuanMuY29tXCIgdGFyZ2V0PVwiX2JsYW5rXCI+VHdlZW5KUzwvYT4gdG8gcHJldmVudCB0aGUgc3RhcnRQb3NpdGlvblxuXHQgKiBwcm9wZXJ0eSBmcm9tIHR3ZWVuaW5nLlxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAY2xhc3MgTW92aWVDbGlwUGx1Z2luXG5cdCAqIEBjb25zdHJ1Y3RvclxuXHQgKiovXG5cdGZ1bmN0aW9uIE1vdmllQ2xpcFBsdWdpbigpIHtcblx0XHR0aHJvdyhcIk1vdmllQ2xpcFBsdWdpbiBjYW5ub3QgYmUgaW5zdGFudGlhdGVkLlwiKVxuXHR9XG5cdFxuXHQvKipcblx0ICogQHByb3BlcnR5IHByaW9yaXR5XG5cdCAqIEB0eXBlIHtOdW1iZXJ9XG5cdCAqIEBzdGF0aWNcblx0ICogQHJlYWRvbmx5XG5cdCAqKi9cblx0TW92aWVDbGlwUGx1Z2luLnByaW9yaXR5ID0gMTAwOyAvLyB2ZXJ5IGhpZ2ggcHJpb3JpdHksIHNob3VsZCBydW4gZmlyc3Rcblx0XG5cdC8qKlxuXHQgKiBAcHJvcGVydHkgSURcblx0ICogQHR5cGUge1N0cmluZ31cblx0ICogQHN0YXRpY1xuXHQgKiBAcmVhZG9ubHlcblx0ICoqL1xuXHRNb3ZpZUNsaXBQbHVnaW4uSUQgPSBcIk1vdmllQ2xpcFwiO1xuXG5cdC8qKlxuXHQgKiBAbWV0aG9kIGluc3RhbGxcblx0ICogQHN0YXRpY1xuXHQgKiovXG5cdE1vdmllQ2xpcFBsdWdpbi5pbnN0YWxsID0gZnVuY3Rpb24oKSB7XG5cdFx0Y3JlYXRlanMuVHdlZW4uX2luc3RhbGxQbHVnaW4oTW92aWVDbGlwUGx1Z2luKTtcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBAbWV0aG9kIGluaXRcblx0ICogQHBhcmFtIHtUd2Vlbn0gdHdlZW5cblx0ICogQHBhcmFtIHtTdHJpbmd9IHByb3Bcblx0ICogQHBhcmFtIHsqfSB2YWx1ZVxuXHQgKiBAc3RhdGljXG5cdCAqKi9cblx0TW92aWVDbGlwUGx1Z2luLmluaXQgPSBmdW5jdGlvbih0d2VlbiwgcHJvcCwgdmFsdWUpIHtcblx0XHRpZiAocHJvcCA9PT0gXCJzdGFydFBvc2l0aW9uXCIgJiYgdHdlZW4udGFyZ2V0IGluc3RhbmNlb2YgTW92aWVDbGlwKSB7IHR3ZWVuLl9hZGRQbHVnaW4oTW92aWVDbGlwUGx1Z2luKTsgfVxuXHR9O1xuXHRcblx0LyoqXG5cdCAqIEBtZXRob2Qgc3RlcFxuXHQgKiBAcGFyYW0ge1R3ZWVufSB0d2VlblxuXHQgKiBAcGFyYW0ge1R3ZWVuU3RlcH0gc3RlcFxuXHQgKiBAcGFyYW0ge09iamVjdH0gcHJvcHNcblx0ICogQHN0YXRpY1xuXHQgKiovXG5cdE1vdmllQ2xpcFBsdWdpbi5zdGVwID0gZnVuY3Rpb24odHdlZW4sIHN0ZXAsIHByb3BzKSB7fTtcblxuXHQvKipcblx0ICogQG1ldGhvZCBjaGFuZ2Vcblx0ICogQHBhcmFtIHtUd2Vlbn0gdHdlZW5cblx0ICogQHBhcmFtIHtUd2VlblN0ZXB9IHN0ZXBcblx0ICogQHBhcmFtIHsqfSB2YWx1ZVxuXHQgKiBAcGFyYW0ge051bWJlcn0gcmF0aW9cblx0ICogQHBhcmFtIHtPYmplY3R9IGVuZFxuXHQgKiBAcmV0dXJuIHsqfVxuXHQgKiBAc3RhdGljXG5cdCAqL1xuXHRNb3ZpZUNsaXBQbHVnaW4uY2hhbmdlID0gZnVuY3Rpb24odHdlZW4sIHN0ZXAsIHByb3AsIHZhbHVlLCByYXRpbywgZW5kKSB7XG5cdFx0aWYgKHByb3AgPT09IFwic3RhcnRQb3NpdGlvblwiKSB7IHJldHVybiAocmF0aW8gPT09IDEgPyBzdGVwLnByb3BzW3Byb3BdIDogc3RlcC5wcmV2LnByb3BzW3Byb3BdKTsgfVxuXHR9O1xuXG59KCkpO1xuXG4vLyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI1xuLy8gU3ByaXRlU2hlZXRVdGlscy5qc1xuLy8jIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyNcblxuKGZ1bmN0aW9uKCkge1xyXG5cdFwidXNlIHN0cmljdFwiO1xyXG5cdFxyXG5cdFxyXG4vLyBjb25zdHJ1Y3RvcjpcclxuXHQvKipcclxuXHQgKiBUaGUgU3ByaXRlU2hlZXRVdGlscyBjbGFzcyBpcyBhIGNvbGxlY3Rpb24gb2Ygc3RhdGljIG1ldGhvZHMgZm9yIHdvcmtpbmcgd2l0aCB7eyNjcm9zc0xpbmsgXCJTcHJpdGVTaGVldFwifX17ey9jcm9zc0xpbmt9fXMuXHJcblx0ICogQSBzcHJpdGUgc2hlZXQgaXMgYSBzZXJpZXMgb2YgaW1hZ2VzICh1c3VhbGx5IGFuaW1hdGlvbiBmcmFtZXMpIGNvbWJpbmVkIGludG8gYSBzaW5nbGUgaW1hZ2Ugb24gYSByZWd1bGFyIGdyaWQuIEZvclxyXG5cdCAqIGV4YW1wbGUsIGFuIGFuaW1hdGlvbiBjb25zaXN0aW5nIG9mIDggMTAweDEwMCBpbWFnZXMgY291bGQgYmUgY29tYmluZWQgaW50byBhIDQwMHgyMDAgc3ByaXRlIHNoZWV0ICg0IGZyYW1lcyBhY3Jvc3NcclxuXHQgKiBieSAyIGhpZ2gpLiBUaGUgU3ByaXRlU2hlZXRVdGlscyBjbGFzcyB1c2VzIGEgc3RhdGljIGludGVyZmFjZSBhbmQgc2hvdWxkIG5vdCBiZSBpbnN0YW50aWF0ZWQuXHJcblx0ICogQGNsYXNzIFNwcml0ZVNoZWV0VXRpbHNcclxuXHQgKiBAc3RhdGljXHJcblx0ICoqL1xyXG5cdGZ1bmN0aW9uIFNwcml0ZVNoZWV0VXRpbHMoKSB7XHJcblx0XHR0aHJvdyBcIlNwcml0ZVNoZWV0VXRpbHMgY2Fubm90IGJlIGluc3RhbnRpYXRlZFwiO1xyXG5cdH1cclxuXHJcblxyXG4vLyBwcml2YXRlIHN0YXRpYyBwcm9wZXJ0aWVzOlxyXG5cdC8qKlxyXG5cdCAqIEBwcm9wZXJ0eSBfd29ya2luZ0NhbnZhc1xyXG5cdCAqIEBzdGF0aWNcclxuXHQgKiBAdHlwZSBIVE1MQ2FudmFzRWxlbWVudCB8IE9iamVjdFxyXG5cdCAqIEBwcm90ZWN0ZWRcclxuXHQqL1xyXG5cdC8qKlxyXG5cdCAqIEBwcm9wZXJ0eSBfd29ya2luZ0NvbnRleHRcclxuXHQgKiBAc3RhdGljXHJcblx0ICogQHR5cGUgQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEXHJcblx0ICogQHByb3RlY3RlZFxyXG5cdCovXHJcblx0dmFyIGNhbnZhcyA9IChjcmVhdGVqcy5jcmVhdGVDYW52YXM/Y3JlYXRlanMuY3JlYXRlQ2FudmFzKCk6ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKSk7XHJcblx0aWYgKGNhbnZhcy5nZXRDb250ZXh0KSB7XHJcblx0XHRTcHJpdGVTaGVldFV0aWxzLl93b3JraW5nQ2FudmFzID0gY2FudmFzO1xyXG5cdFx0U3ByaXRlU2hlZXRVdGlscy5fd29ya2luZ0NvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xyXG5cdFx0Y2FudmFzLndpZHRoID0gY2FudmFzLmhlaWdodCA9IDE7XHJcblx0fVxyXG5cclxuXHJcbi8vIHB1YmxpYyBzdGF0aWMgbWV0aG9kczpcclxuXHQvKipcclxuXHQgKiBSZXR1cm5zIGEgc2luZ2xlIGZyYW1lIG9mIHRoZSBzcGVjaWZpZWQgc3ByaXRlIHNoZWV0IGFzIGEgbmV3IFBORyBpbWFnZS4gQW4gZXhhbXBsZSBvZiB3aGVuIHRoaXMgbWF5IGJlIHVzZWZ1bCBpc1xyXG5cdCAqIHRvIHVzZSBhIHNwcml0ZXNoZWV0IGZyYW1lIGFzIHRoZSBzb3VyY2UgZm9yIGEgYml0bWFwIGZpbGwuXHJcblx0ICpcclxuXHQgKiA8c3Ryb25nPldBUk5JTkc6PC9zdHJvbmc+IEluIGFsbW9zdCBhbGwgY2FzZXMgaXQgaXMgYmV0dGVyIHRvIGRpc3BsYXkgYSBzaW5nbGUgZnJhbWUgdXNpbmcgYSB7eyNjcm9zc0xpbmsgXCJTcHJpdGVcIn19e3svY3Jvc3NMaW5rfX1cclxuXHQgKiB3aXRoIGEge3sjY3Jvc3NMaW5rIFwiU3ByaXRlL2dvdG9BbmRTdG9wXCJ9fXt7L2Nyb3NzTGlua319IGNhbGwgdGhhbiBpdCBpcyB0byBzbGljZSBvdXQgYSBmcmFtZSB1c2luZyB0aGlzXHJcblx0ICogbWV0aG9kIGFuZCBkaXNwbGF5IGl0IHdpdGggYSBCaXRtYXAgaW5zdGFuY2UuIFlvdSBjYW4gYWxzbyBjcm9wIGFuIGltYWdlIHVzaW5nIHRoZSB7eyNjcm9zc0xpbmsgXCJCaXRtYXAvc291cmNlUmVjdFwifX17ey9jcm9zc0xpbmt9fVxyXG5cdCAqIHByb3BlcnR5IG9mIHt7I2Nyb3NzTGluayBcIkJpdG1hcFwifX17ey9jcm9zc0xpbmt9fS5cclxuXHQgKlxyXG5cdCAqIFRoZSBleHRyYWN0RnJhbWUgbWV0aG9kIG1heSBjYXVzZSBjcm9zcy1kb21haW4gd2FybmluZ3Mgc2luY2UgaXQgYWNjZXNzZXMgcGl4ZWxzIGRpcmVjdGx5IG9uIHRoZSBjYW52YXMuXHJcblx0ICogQG1ldGhvZCBleHRyYWN0RnJhbWVcclxuXHQgKiBAc3RhdGljXHJcblx0ICogQHBhcmFtIHtTcHJpdGVTaGVldH0gc3ByaXRlU2hlZXQgVGhlIFNwcml0ZVNoZWV0IGluc3RhbmNlIHRvIGV4dHJhY3QgYSBmcmFtZSBmcm9tLlxyXG5cdCAqIEBwYXJhbSB7TnVtYmVyfFN0cmluZ30gZnJhbWVPckFuaW1hdGlvbiBUaGUgZnJhbWUgbnVtYmVyIG9yIGFuaW1hdGlvbiBuYW1lIHRvIGV4dHJhY3QuIElmIGFuIGFuaW1hdGlvblxyXG5cdCAqIG5hbWUgaXMgc3BlY2lmaWVkLCBvbmx5IHRoZSBmaXJzdCBmcmFtZSBvZiB0aGUgYW5pbWF0aW9uIHdpbGwgYmUgZXh0cmFjdGVkLlxyXG5cdCAqIEByZXR1cm4ge0hUTUxJbWFnZUVsZW1lbnR9IGEgc2luZ2xlIGZyYW1lIG9mIHRoZSBzcGVjaWZpZWQgc3ByaXRlIHNoZWV0IGFzIGEgbmV3IFBORyBpbWFnZS5cclxuXHQqL1xyXG5cdFNwcml0ZVNoZWV0VXRpbHMuZXh0cmFjdEZyYW1lID0gZnVuY3Rpb24oc3ByaXRlU2hlZXQsIGZyYW1lT3JBbmltYXRpb24pIHtcclxuXHRcdGlmIChpc05hTihmcmFtZU9yQW5pbWF0aW9uKSkge1xyXG5cdFx0XHRmcmFtZU9yQW5pbWF0aW9uID0gc3ByaXRlU2hlZXQuZ2V0QW5pbWF0aW9uKGZyYW1lT3JBbmltYXRpb24pLmZyYW1lc1swXTtcclxuXHRcdH1cclxuXHRcdHZhciBkYXRhID0gc3ByaXRlU2hlZXQuZ2V0RnJhbWUoZnJhbWVPckFuaW1hdGlvbik7XHJcblx0XHRpZiAoIWRhdGEpIHsgcmV0dXJuIG51bGw7IH1cclxuXHRcdHZhciByID0gZGF0YS5yZWN0O1xyXG5cdFx0dmFyIGNhbnZhcyA9IFNwcml0ZVNoZWV0VXRpbHMuX3dvcmtpbmdDYW52YXM7XHJcblx0XHRjYW52YXMud2lkdGggPSByLndpZHRoO1xyXG5cdFx0Y2FudmFzLmhlaWdodCA9IHIuaGVpZ2h0O1xyXG5cdFx0U3ByaXRlU2hlZXRVdGlscy5fd29ya2luZ0NvbnRleHQuZHJhd0ltYWdlKGRhdGEuaW1hZ2UsIHIueCwgci55LCByLndpZHRoLCByLmhlaWdodCwgMCwgMCwgci53aWR0aCwgci5oZWlnaHQpO1xyXG5cdFx0dmFyIGltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XHJcblx0XHRpbWcuc3JjID0gY2FudmFzLnRvRGF0YVVSTChcImltYWdlL3BuZ1wiKTtcclxuXHRcdHJldHVybiBpbWc7XHJcblx0fTtcclxuXHJcblx0Ly8gU3ByaXRlU2hlZXRVdGlscy5hZGRGbGlwcGVkRnJhbWVzIGlzIEBkZXByZWNhdGVkLiBSZW1vdmUgZm9yIDEuMStcclxuXHRTcHJpdGVTaGVldFV0aWxzLmFkZEZsaXBwZWRGcmFtZXMgPSBjcmVhdGVqcy5kZXByZWNhdGUobnVsbCwgXCJTcHJpdGVTaGVldFV0aWxzLmFkZEZsaXBwZWRGcmFtZXNcIik7XHJcblxyXG5cdC8vIFNwcml0ZVNoZWV0VXRpbHMuYWRkRmxpcHBlZEZyYW1lcyBpcyBAZGVwcmVjYXRlZC4gUmVtb3ZlIGZvciAxLjErXHJcblx0U3ByaXRlU2hlZXRVdGlscy5tZXJnZUFscGhhID0gY3JlYXRlanMuZGVwcmVjYXRlKG51bGwsIFwiU3ByaXRlU2hlZXRVdGlscy5tZXJnZUFscGhhXCIpO1xyXG5cclxuXHRcclxuLy8gcHJpdmF0ZSBzdGF0aWMgbWV0aG9kczpcclxuXHRTcHJpdGVTaGVldFV0aWxzLl9mbGlwID0gZnVuY3Rpb24oc3ByaXRlU2hlZXQsIGNvdW50LCBoLCB2KSB7XHJcblx0XHR2YXIgaW1ncyA9IHNwcml0ZVNoZWV0Ll9pbWFnZXM7XHJcblx0XHR2YXIgY2FudmFzID0gU3ByaXRlU2hlZXRVdGlscy5fd29ya2luZ0NhbnZhcztcclxuXHRcdHZhciBjdHggPSBTcHJpdGVTaGVldFV0aWxzLl93b3JraW5nQ29udGV4dDtcclxuXHRcdHZhciBpbCA9IGltZ3MubGVuZ3RoL2NvdW50O1xyXG5cdFx0Zm9yICh2YXIgaT0wO2k8aWw7aSsrKSB7XHJcblx0XHRcdHZhciBzcmMgPSBpbWdzW2ldO1xyXG5cdFx0XHRzcmMuX190bXAgPSBpOyAvLyBhIGJpdCBoYWNreSwgYnV0IGZhc3RlciB0aGFuIGRvaW5nIGluZGV4T2YgYmVsb3cuXHJcblx0XHRcdGN0eC5zZXRUcmFuc2Zvcm0oMSwwLDAsMSwwLDApO1xyXG5cdFx0XHRjdHguY2xlYXJSZWN0KDAsMCxjYW52YXMud2lkdGgrMSxjYW52YXMuaGVpZ2h0KzEpO1xyXG5cdFx0XHRjYW52YXMud2lkdGggPSBzcmMud2lkdGg7XHJcblx0XHRcdGNhbnZhcy5oZWlnaHQgPSBzcmMuaGVpZ2h0O1xyXG5cdFx0XHRjdHguc2V0VHJhbnNmb3JtKGg/LTE6MSwgMCwgMCwgdj8tMToxLCBoP3NyYy53aWR0aDowLCB2P3NyYy5oZWlnaHQ6MCk7XHJcblx0XHRcdGN0eC5kcmF3SW1hZ2Uoc3JjLDAsMCk7XHJcblx0XHRcdHZhciBpbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xyXG5cdFx0XHRpbWcuc3JjID0gY2FudmFzLnRvRGF0YVVSTChcImltYWdlL3BuZ1wiKTtcclxuXHRcdFx0Ly8gd29yayBhcm91bmQgYSBzdHJhbmdlIGJ1ZyBpbiBTYWZhcmk6XHJcblx0XHRcdGltZy53aWR0aCA9IChzcmMud2lkdGh8fHNyYy5uYXR1cmFsV2lkdGgpO1xyXG5cdFx0XHRpbWcuaGVpZ2h0ID0gKHNyYy5oZWlnaHR8fHNyYy5uYXR1cmFsSGVpZ2h0KTtcclxuXHRcdFx0aW1ncy5wdXNoKGltZyk7XHJcblx0XHR9XHJcblxyXG5cdFx0dmFyIGZyYW1lcyA9IHNwcml0ZVNoZWV0Ll9mcmFtZXM7XHJcblx0XHR2YXIgZmwgPSBmcmFtZXMubGVuZ3RoL2NvdW50O1xyXG5cdFx0Zm9yIChpPTA7aTxmbDtpKyspIHtcclxuXHRcdFx0c3JjID0gZnJhbWVzW2ldO1xyXG5cdFx0XHR2YXIgcmVjdCA9IHNyYy5yZWN0LmNsb25lKCk7XHJcblx0XHRcdGltZyA9IGltZ3Nbc3JjLmltYWdlLl9fdG1wK2lsKmNvdW50XTtcclxuXHJcblx0XHRcdHZhciBmcmFtZSA9IHtpbWFnZTppbWcscmVjdDpyZWN0LHJlZ1g6c3JjLnJlZ1gscmVnWTpzcmMucmVnWX07XHJcblx0XHRcdGlmIChoKSB7XHJcblx0XHRcdFx0cmVjdC54ID0gKGltZy53aWR0aHx8aW1nLm5hdHVyYWxXaWR0aCktcmVjdC54LXJlY3Qud2lkdGg7IC8vIHVwZGF0ZSByZWN0XHJcblx0XHRcdFx0ZnJhbWUucmVnWCA9IHJlY3Qud2lkdGgtc3JjLnJlZ1g7IC8vIHVwZGF0ZSByZWdpc3RyYXRpb24gcG9pbnRcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAodikge1xyXG5cdFx0XHRcdHJlY3QueSA9IChpbWcuaGVpZ2h0fHxpbWcubmF0dXJhbEhlaWdodCktcmVjdC55LXJlY3QuaGVpZ2h0OyAgLy8gdXBkYXRlIHJlY3RcclxuXHRcdFx0XHRmcmFtZS5yZWdZID0gcmVjdC5oZWlnaHQtc3JjLnJlZ1k7IC8vIHVwZGF0ZSByZWdpc3RyYXRpb24gcG9pbnRcclxuXHRcdFx0fVxyXG5cdFx0XHRmcmFtZXMucHVzaChmcmFtZSk7XHJcblx0XHR9XHJcblxyXG5cdFx0dmFyIHNmeCA9IFwiX1wiKyhoP1wiaFwiOlwiXCIpKyh2P1widlwiOlwiXCIpO1xyXG5cdFx0dmFyIG5hbWVzID0gc3ByaXRlU2hlZXQuX2FuaW1hdGlvbnM7XHJcblx0XHR2YXIgZGF0YSA9IHNwcml0ZVNoZWV0Ll9kYXRhO1xyXG5cdFx0dmFyIGFsID0gbmFtZXMubGVuZ3RoL2NvdW50O1xyXG5cdFx0Zm9yIChpPTA7aTxhbDtpKyspIHtcclxuXHRcdFx0dmFyIG5hbWUgPSBuYW1lc1tpXTtcclxuXHRcdFx0c3JjID0gZGF0YVtuYW1lXTtcclxuXHRcdFx0dmFyIGFuaW0gPSB7bmFtZTpuYW1lK3NmeCxzcGVlZDpzcmMuc3BlZWQsbmV4dDpzcmMubmV4dCxmcmFtZXM6W119O1xyXG5cdFx0XHRpZiAoc3JjLm5leHQpIHsgYW5pbS5uZXh0ICs9IHNmeDsgfVxyXG5cdFx0XHRmcmFtZXMgPSBzcmMuZnJhbWVzO1xyXG5cdFx0XHRmb3IgKHZhciBqPTAsbD1mcmFtZXMubGVuZ3RoO2o8bDtqKyspIHtcclxuXHRcdFx0XHRhbmltLmZyYW1lcy5wdXNoKGZyYW1lc1tqXStmbCpjb3VudCk7XHJcblx0XHRcdH1cclxuXHRcdFx0ZGF0YVthbmltLm5hbWVdID0gYW5pbTtcclxuXHRcdFx0bmFtZXMucHVzaChhbmltLm5hbWUpO1xyXG5cdFx0fVxyXG5cdH07XHJcblxyXG5cclxuXHRjcmVhdGVqcy5TcHJpdGVTaGVldFV0aWxzID0gU3ByaXRlU2hlZXRVdGlscztcclxufSgpKTtcblxuLy8jIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyNcbi8vIFNwcml0ZVNoZWV0QnVpbGRlci5qc1xuLy8jIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyNcblxuKGZ1bmN0aW9uKCkge1xuXHRcInVzZSBzdHJpY3RcIjtcblxuXG4vLyBjb25zdHJ1Y3Rvcjpcblx0LyoqXG5cdCAqIFRoZSBTcHJpdGVTaGVldEJ1aWxkZXIgYWxsb3dzIHlvdSB0byBnZW5lcmF0ZSB7eyNjcm9zc0xpbmsgXCJTcHJpdGVTaGVldFwifX17ey9jcm9zc0xpbmt9fSBpbnN0YW5jZXMgYXQgcnVuIHRpbWVcblx0ICogZnJvbSBhbnkgZGlzcGxheSBvYmplY3QuIFRoaXMgY2FuIGFsbG93IHlvdSB0byBtYWludGFpbiB5b3VyIGFzc2V0cyBhcyB2ZWN0b3IgZ3JhcGhpY3MgKGZvciBsb3cgZmlsZSBzaXplKSwgYW5kXG5cdCAqIHJlbmRlciB0aGVtIGF0IHJ1biB0aW1lIGFzIFNwcml0ZVNoZWV0cyBmb3IgYmV0dGVyIHBlcmZvcm1hbmNlLlxuXHQgKlxuXHQgKiBTcHJpdGVTaGVldHMgY2FuIGJlIGJ1aWx0IGVpdGhlciBzeW5jaHJvbm91c2x5LCBvciBhc3luY2hyb25vdXNseSwgc28gdGhhdCBsYXJnZSBTcHJpdGVTaGVldHMgY2FuIGJlIGdlbmVyYXRlZFxuXHQgKiB3aXRob3V0IGxvY2tpbmcgdGhlIFVJLlxuXHQgKlxuXHQgKiBOb3RlIHRoYXQgdGhlIFwiaW1hZ2VzXCIgdXNlZCBpbiB0aGUgZ2VuZXJhdGVkIFNwcml0ZVNoZWV0IGFyZSBhY3R1YWxseSBjYW52YXMgZWxlbWVudHMsIGFuZCB0aGF0IHRoZXkgd2lsbCBiZVxuXHQgKiBzaXplZCB0byB0aGUgbmVhcmVzdCBwb3dlciBvZiAyIHVwIHRvIHRoZSB2YWx1ZSBvZiB7eyNjcm9zc0xpbmsgXCJTcHJpdGVTaGVldEJ1aWxkZXIvbWF4V2lkdGg6cHJvcGVydHlcIn19e3svY3Jvc3NMaW5rfX1cblx0ICogb3Ige3sjY3Jvc3NMaW5rIFwiU3ByaXRlU2hlZXRCdWlsZGVyL21heEhlaWdodDpwcm9wZXJ0eVwifX17ey9jcm9zc0xpbmt9fS5cblx0ICogQGNsYXNzIFNwcml0ZVNoZWV0QnVpbGRlclxuXHQgKiBAcGFyYW0ge051bWJlcn0gW2ZyYW1lcmF0ZT0wXSBUaGUge3sjY3Jvc3NMaW5rIFwiU3ByaXRlU2hlZXQvZnJhbWVyYXRlOnByb3BlcnR5XCJ9fXt7L2Nyb3NzTGlua319IG9mXG5cdCAqIHt7I2Nyb3NzTGluayBcIlNwcml0ZVNoZWV0XCJ9fXt7L2Nyb3NzTGlua319IGluc3RhbmNlcyB0aGF0IGFyZSBjcmVhdGVkLlxuXHQgKiBAZXh0ZW5kcyBFdmVudERpc3BhdGNoZXJcblx0ICogQGNvbnN0cnVjdG9yXG5cdCAqKi9cblx0ZnVuY3Rpb24gU3ByaXRlU2hlZXRCdWlsZGVyKGZyYW1lcmF0ZSkge1xuXHRcdHRoaXMuRXZlbnREaXNwYXRjaGVyX2NvbnN0cnVjdG9yKCk7XG5cdFx0XG5cdC8vIHB1YmxpYyBwcm9wZXJ0aWVzOlxuXHRcdC8qKlxuXHRcdCAqIFRoZSBtYXhpbXVtIHdpZHRoIGZvciB0aGUgaW1hZ2VzIChub3QgaW5kaXZpZHVhbCBmcmFtZXMpIGluIHRoZSBnZW5lcmF0ZWQgU3ByaXRlU2hlZXQuIEl0IGlzIHJlY29tbWVuZGVkIHRvXG5cdFx0ICogdXNlIGEgcG93ZXIgb2YgMiBmb3IgdGhpcyB2YWx1ZSAoZXguIDEwMjQsIDIwNDgsIDQwOTYpLiBJZiB0aGUgZnJhbWVzIGNhbm5vdCBhbGwgZml0IHdpdGhpbiB0aGUgbWF4XG5cdFx0ICogZGltZW5zaW9ucywgdGhlbiBhZGRpdGlvbmFsIGltYWdlcyB3aWxsIGJlIGNyZWF0ZWQgYXMgbmVlZGVkLlxuXHRcdCAqIEBwcm9wZXJ0eSBtYXhXaWR0aFxuXHRcdCAqIEB0eXBlIE51bWJlclxuXHRcdCAqIEBkZWZhdWx0IDIwNDhcblx0XHQqL1xuXHRcdHRoaXMubWF4V2lkdGggPSAyMDQ4O1xuXHRcblx0XHQvKipcblx0XHQgKiBUaGUgbWF4aW11bSBoZWlnaHQgZm9yIHRoZSBpbWFnZXMgKG5vdCBpbmRpdmlkdWFsIGZyYW1lcykgaW4gdGhlIGdlbmVyYXRlZCBTcHJpdGVTaGVldC4gSXQgaXMgcmVjb21tZW5kZWQgdG9cblx0XHQgKiB1c2UgYSBwb3dlciBvZiAyIGZvciB0aGlzIHZhbHVlIChleC4gMTAyNCwgMjA0OCwgNDA5NikuIElmIHRoZSBmcmFtZXMgY2Fubm90IGFsbCBmaXQgd2l0aGluIHRoZSBtYXhcblx0XHQgKiBkaW1lbnNpb25zLCB0aGVuIGFkZGl0aW9uYWwgaW1hZ2VzIHdpbGwgYmUgY3JlYXRlZCBhcyBuZWVkZWQuXG5cdFx0ICogQHByb3BlcnR5IG1heEhlaWdodFxuXHRcdCAqIEB0eXBlIE51bWJlclxuXHRcdCAqIEBkZWZhdWx0IDIwNDhcblx0XHQgKiovXG5cdFx0dGhpcy5tYXhIZWlnaHQgPSAyMDQ4O1xuXHRcblx0XHQvKipcblx0XHQgKiBUaGUgU3ByaXRlU2hlZXQgdGhhdCB3YXMgZ2VuZXJhdGVkLiBUaGlzIHdpbGwgYmUgbnVsbCBiZWZvcmUgYSBidWlsZCBpcyBjb21wbGV0ZWQgc3VjY2Vzc2Z1bGx5LlxuXHRcdCAqIEBwcm9wZXJ0eSBzcHJpdGVTaGVldFxuXHRcdCAqIEB0eXBlIFNwcml0ZVNoZWV0XG5cdFx0ICoqL1xuXHRcdHRoaXMuc3ByaXRlU2hlZXQgPSBudWxsO1xuXHRcblx0XHQvKipcblx0XHQgKiBUaGUgc2NhbGUgdG8gYXBwbHkgd2hlbiBkcmF3aW5nIGFsbCBmcmFtZXMgdG8gdGhlIFNwcml0ZVNoZWV0LiBUaGlzIGlzIG11bHRpcGxpZWQgYWdhaW5zdCBhbnkgc2NhbGUgc3BlY2lmaWVkXG5cdFx0ICogaW4gdGhlIGFkZEZyYW1lIGNhbGwuIFRoaXMgY2FuIGJlIHVzZWQsIGZvciBleGFtcGxlLCB0byBnZW5lcmF0ZSBhIFNwcml0ZVNoZWV0IGF0IHJ1biB0aW1lIHRoYXQgaXMgdGFpbG9yZWRcblx0XHQgKiB0byB0aGUgYSBzcGVjaWZpYyBkZXZpY2UgcmVzb2x1dGlvbiAoZXguIHRhYmxldCB2cyBtb2JpbGUpLlxuXHRcdCAqIEBwcm9wZXJ0eSBzY2FsZVxuXHRcdCAqIEB0eXBlIE51bWJlclxuXHRcdCAqIEBkZWZhdWx0IDFcblx0XHQgKiovXG5cdFx0dGhpcy5zY2FsZSA9IDE7XG5cdFxuXHRcdC8qKlxuXHRcdCogVGhlIHBhZGRpbmcgdG8gdXNlIGJldHdlZW4gZnJhbWVzLiBUaGlzIGlzIGhlbHBmdWwgdG8gcHJlc2VydmUgYW50aWFsaWFzaW5nIG9uIGRyYXduIHZlY3RvciBjb250ZW50LlxuXHRcdCogQHByb3BlcnR5IHBhZGRpbmdcblx0XHQqIEB0eXBlIE51bWJlclxuXHRcdCogQGRlZmF1bHQgMVxuXHRcdCoqL1xuXHRcdHRoaXMucGFkZGluZyA9IDE7XG5cdFxuXHRcdC8qKlxuXHRcdCAqIEEgbnVtYmVyIGZyb20gMC4wMSB0byAwLjk5IHRoYXQgaW5kaWNhdGVzIHdoYXQgcGVyY2VudGFnZSBvZiB0aW1lIHRoZSBidWlsZGVyIGNhbiB1c2UuIFRoaXMgY2FuIGJlXG5cdFx0ICogdGhvdWdodCBvZiBhcyB0aGUgbnVtYmVyIG9mIHNlY29uZHMgcGVyIHNlY29uZCB0aGUgYnVpbGRlciB3aWxsIHVzZS4gRm9yIGV4YW1wbGUsIHdpdGggYSB0aW1lU2xpY2UgdmFsdWUgb2YgMC4zLFxuXHRcdCAqIHRoZSBidWlsZGVyIHdpbGwgcnVuIDIwIHRpbWVzIHBlciBzZWNvbmQsIHVzaW5nIGFwcHJveGltYXRlbHkgMTVtcyBwZXIgYnVpbGQgKDMwJSBvZiBhdmFpbGFibGUgdGltZSwgb3IgMC4zcyBwZXIgc2Vjb25kKS5cblx0XHQgKiBEZWZhdWx0cyB0byAwLjMuXG5cdFx0ICogQHByb3BlcnR5IHRpbWVTbGljZVxuXHRcdCAqIEB0eXBlIE51bWJlclxuXHRcdCAqIEBkZWZhdWx0IDAuM1xuXHRcdCAqKi9cblx0XHR0aGlzLnRpbWVTbGljZSA9IDAuMztcblx0XG5cdFx0LyoqXG5cdFx0ICogQSB2YWx1ZSBiZXR3ZWVuIDAgYW5kIDEgdGhhdCBpbmRpY2F0ZXMgdGhlIHByb2dyZXNzIG9mIGEgYnVpbGQsIG9yIC0xIGlmIGEgYnVpbGQgaGFzIG5vdFxuXHRcdCAqIGJlZW4gaW5pdGlhdGVkLlxuXHRcdCAqIEBwcm9wZXJ0eSBwcm9ncmVzc1xuXHRcdCAqIEB0eXBlIE51bWJlclxuXHRcdCAqIEBkZWZhdWx0IC0xXG5cdFx0ICogQHJlYWRvbmx5XG5cdFx0ICovXG5cdFx0dGhpcy5wcm9ncmVzcyA9IC0xO1xuXG5cdFx0LyoqXG5cdFx0ICogQSB7eyNjcm9zc0xpbmsgXCJTcHJpdGVTaGVldC9mcmFtZXJhdGU6cHJvcGVydHlcIn19e3svY3Jvc3NMaW5rfX0gdmFsdWUgdGhhdCB3aWxsIGJlIHBhc3NlZCB0byBuZXcge3sjY3Jvc3NMaW5rIFwiU3ByaXRlU2hlZXRcIn19e3svY3Jvc3NMaW5rfX0gaW5zdGFuY2VzIHRoYXQgYXJlXG5cdFx0ICogY3JlYXRlZC4gSWYgbm8gZnJhbWVyYXRlIGlzIHNwZWNpZmllZCAob3IgaXQgaXMgMCksIHRoZW4gU3ByaXRlU2hlZXRzIHdpbGwgdXNlIHRoZSB7eyNjcm9zc0xpbmsgXCJUaWNrZXJcIn19e3svY3Jvc3NMaW5rfX1cblx0XHQgKiBmcmFtZXJhdGUuXG5cdFx0ICogQHByb3BlcnR5IGZyYW1lcmF0ZVxuXHRcdCAqIEB0eXBlIE51bWJlclxuXHRcdCAqIEBkZWZhdWx0IDBcblx0XHQgKi9cblx0XHR0aGlzLmZyYW1lcmF0ZSA9IGZyYW1lcmF0ZSB8fCAwO1xuXHRcblx0XG5cdC8vIHByaXZhdGUgcHJvcGVydGllczpcblx0XHQvKipcblx0XHQgKiBAcHJvcGVydHkgX2ZyYW1lc1xuXHRcdCAqIEBwcm90ZWN0ZWRcblx0XHQgKiBAdHlwZSBBcnJheVxuXHRcdCAqKi9cblx0XHR0aGlzLl9mcmFtZXMgPSBbXTtcblx0XG5cdFx0LyoqXG5cdFx0ICogQHByb3BlcnR5IF9hbmltYXRpb25zXG5cdFx0ICogQHByb3RlY3RlZFxuXHRcdCAqIEB0eXBlIEFycmF5XG5cdFx0ICoqL1xuXHRcdHRoaXMuX2FuaW1hdGlvbnMgPSB7fTtcblx0XG5cdFx0LyoqXG5cdFx0ICogQHByb3BlcnR5IF9kYXRhXG5cdFx0ICogQHByb3RlY3RlZFxuXHRcdCAqIEB0eXBlIEFycmF5XG5cdFx0ICoqL1xuXHRcdHRoaXMuX2RhdGEgPSBudWxsO1xuXHRcblx0XHQvKipcblx0XHQgKiBAcHJvcGVydHkgX25leHRGcmFtZUluZGV4XG5cdFx0ICogQHByb3RlY3RlZFxuXHRcdCAqIEB0eXBlIE51bWJlclxuXHRcdCAqKi9cblx0XHR0aGlzLl9uZXh0RnJhbWVJbmRleCA9IDA7XG5cdFxuXHRcdC8qKlxuXHRcdCAqIEBwcm9wZXJ0eSBfaW5kZXhcblx0XHQgKiBAcHJvdGVjdGVkXG5cdFx0ICogQHR5cGUgTnVtYmVyXG5cdFx0ICoqL1xuXHRcdHRoaXMuX2luZGV4ID0gMDtcblx0XG5cdFx0LyoqXG5cdFx0ICogQHByb3BlcnR5IF90aW1lcklEXG5cdFx0ICogQHByb3RlY3RlZFxuXHRcdCAqIEB0eXBlIE51bWJlclxuXHRcdCAqKi9cblx0XHR0aGlzLl90aW1lcklEID0gbnVsbDtcblx0XG5cdFx0LyoqXG5cdFx0ICogQHByb3BlcnR5IF9zY2FsZVxuXHRcdCAqIEBwcm90ZWN0ZWRcblx0XHQgKiBAdHlwZSBOdW1iZXJcblx0XHQgKiovXG5cdFx0dGhpcy5fc2NhbGUgPSAxO1xuXHR9XG5cdHZhciBwID0gY3JlYXRlanMuZXh0ZW5kKFNwcml0ZVNoZWV0QnVpbGRlciwgY3JlYXRlanMuRXZlbnREaXNwYXRjaGVyKTtcblxuLy8gY29uc3RhbnRzOlxuXHRTcHJpdGVTaGVldEJ1aWxkZXIuRVJSX0RJTUVOU0lPTlMgPSBcImZyYW1lIGRpbWVuc2lvbnMgZXhjZWVkIG1heCBzcHJpdGVzaGVldCBkaW1lbnNpb25zXCI7XG5cdFNwcml0ZVNoZWV0QnVpbGRlci5FUlJfUlVOTklORyA9IFwiYSBidWlsZCBpcyBhbHJlYWR5IHJ1bm5pbmdcIjtcblxuLy8gZXZlbnRzOlxuXHQvKipcblx0ICogRGlzcGF0Y2hlZCB3aGVuIGEgYnVpbGQgY29tcGxldGVzLlxuXHQgKiBAZXZlbnQgY29tcGxldGVcblx0ICogQHBhcmFtIHtPYmplY3R9IHRhcmdldCBUaGUgb2JqZWN0IHRoYXQgZGlzcGF0Y2hlZCB0aGUgZXZlbnQuXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlIFRoZSBldmVudCB0eXBlLlxuXHQgKiBAc2luY2UgMC42LjBcblx0ICovXG5cblx0LyoqXG5cdCAqIERpc3BhdGNoZWQgd2hlbiBhbiBhc3luY2hyb25vdXMgYnVpbGQgaGFzIHByb2dyZXNzLlxuXHQgKiBAZXZlbnQgcHJvZ3Jlc3Ncblx0ICogQHBhcmFtIHtPYmplY3R9IHRhcmdldCBUaGUgb2JqZWN0IHRoYXQgZGlzcGF0Y2hlZCB0aGUgZXZlbnQuXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlIFRoZSBldmVudCB0eXBlLlxuXHQgKiBAcGFyYW0ge051bWJlcn0gcHJvZ3Jlc3MgVGhlIGN1cnJlbnQgcHJvZ3Jlc3MgdmFsdWUgKDAtMSkuXG5cdCAqIEBzaW5jZSAwLjYuMFxuXHQgKi9cblxuXG4vLyBwdWJsaWMgbWV0aG9kczpcblx0LyoqXG5cdCAqIEFkZHMgYSBmcmFtZSB0byB0aGUge3sjY3Jvc3NMaW5rIFwiU3ByaXRlU2hlZXRcIn19e3svY3Jvc3NMaW5rfX0uIE5vdGUgdGhhdCB0aGUgZnJhbWUgd2lsbCBub3QgYmUgZHJhd24gdW50aWwgeW91XG5cdCAqIGNhbGwge3sjY3Jvc3NMaW5rIFwiU3ByaXRlU2hlZXRCdWlsZGVyL2J1aWxkXCJ9fXt7L2Nyb3NzTGlua319IG1ldGhvZC4gVGhlIG9wdGlvbmFsIHNldHVwIHBhcmFtcyBhbGxvdyB5b3UgdG8gaGF2ZVxuXHQgKiBhIGZ1bmN0aW9uIHJ1biBpbW1lZGlhdGVseSBiZWZvcmUgdGhlIGRyYXcgb2NjdXJzLiBGb3IgZXhhbXBsZSwgdGhpcyBhbGxvd3MgeW91IHRvIGFkZCBhIHNpbmdsZSBzb3VyY2UgbXVsdGlwbGVcblx0ICogdGltZXMsIGJ1dCBtYW5pcHVsYXRlIGl0IG9yIGl0cyBjaGlsZHJlbiB0byBjaGFuZ2UgaXQgdG8gZ2VuZXJhdGUgZGlmZmVyZW50IGZyYW1lcy5cblx0ICpcblx0ICogTm90ZSB0aGF0IHRoZSBzb3VyY2UncyB0cmFuc2Zvcm1hdGlvbnMgKHgsIHksIHNjYWxlLCByb3RhdGUsIGFscGhhKSB3aWxsIGJlIGlnbm9yZWQsIGV4Y2VwdCBmb3IgcmVnWC9ZLiBUbyBhcHBseVxuXHQgKiB0cmFuc2Zvcm1zIHRvIGEgc291cmNlIG9iamVjdCBhbmQgaGF2ZSB0aGVtIGNhcHR1cmVkIGluIHRoZSBTcHJpdGVTaGVldCwgc2ltcGx5IHBsYWNlIGl0IGludG8gYSB7eyNjcm9zc0xpbmsgXCJDb250YWluZXJcIn19e3svY3Jvc3NMaW5rfX1cblx0ICogYW5kIHBhc3MgaW4gdGhlIENvbnRhaW5lciBhcyB0aGUgc291cmNlLlxuXHQgKiBAbWV0aG9kIGFkZEZyYW1lXG5cdCAqIEBwYXJhbSB7RGlzcGxheU9iamVjdH0gc291cmNlIFRoZSBzb3VyY2Uge3sjY3Jvc3NMaW5rIFwiRGlzcGxheU9iamVjdFwifX17ey9jcm9zc0xpbmt9fSAgdG8gZHJhdyBhcyB0aGUgZnJhbWUuXG5cdCAqIEBwYXJhbSB7UmVjdGFuZ2xlfSBbc291cmNlUmVjdF0gQSB7eyNjcm9zc0xpbmsgXCJSZWN0YW5nbGVcIn19e3svY3Jvc3NMaW5rfX0gZGVmaW5pbmcgdGhlIHBvcnRpb24gb2YgdGhlXG5cdCAqIHNvdXJjZSB0byBkcmF3IHRvIHRoZSBmcmFtZS4gSWYgbm90IHNwZWNpZmllZCwgaXQgd2lsbCBsb29rIGZvciBhIGBnZXRCb3VuZHNgIG1ldGhvZCwgYm91bmRzIHByb3BlcnR5LCBvclxuXHQgKiBgbm9taW5hbEJvdW5kc2AgcHJvcGVydHkgb24gdGhlIHNvdXJjZSB0byB1c2UuIElmIG9uZSBpcyBub3QgZm91bmQsIHRoZSBmcmFtZSB3aWxsIGJlIHNraXBwZWQuXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBbc2NhbGU9MV0gT3B0aW9uYWwuIFRoZSBzY2FsZSB0byBkcmF3IHRoaXMgZnJhbWUgYXQuIERlZmF1bHQgaXMgMS5cblx0ICogQHBhcmFtIHtGdW5jdGlvbn0gW3NldHVwRnVuY3Rpb25dIEEgZnVuY3Rpb24gdG8gY2FsbCBpbW1lZGlhdGVseSBiZWZvcmUgZHJhd2luZyB0aGlzIGZyYW1lLiBJdCB3aWxsIGJlIGNhbGxlZCB3aXRoIHR3byBwYXJhbWV0ZXJzOiB0aGUgc291cmNlLCBhbmQgc2V0dXBEYXRhLlxuXHQgKiBAcGFyYW0ge09iamVjdH0gW3NldHVwRGF0YV0gQXJiaXRyYXJ5IHNldHVwIGRhdGEgdG8gcGFzcyB0byBzZXR1cEZ1bmN0aW9uIGFzIHRoZSBzZWNvbmQgcGFyYW1ldGVyLlxuXHQgKiBAcmV0dXJuIHtOdW1iZXJ9IFRoZSBpbmRleCBvZiB0aGUgZnJhbWUgdGhhdCB3YXMganVzdCBhZGRlZCwgb3IgbnVsbCBpZiBhIHNvdXJjZVJlY3QgY291bGQgbm90IGJlIGRldGVybWluZWQuXG5cdCAqKi9cblx0cC5hZGRGcmFtZSA9IGZ1bmN0aW9uKHNvdXJjZSwgc291cmNlUmVjdCwgc2NhbGUsIHNldHVwRnVuY3Rpb24sIHNldHVwRGF0YSkge1xuXHRcdGlmICh0aGlzLl9kYXRhKSB7IHRocm93IFNwcml0ZVNoZWV0QnVpbGRlci5FUlJfUlVOTklORzsgfVxuXHRcdHZhciByZWN0ID0gc291cmNlUmVjdHx8c291cmNlLmJvdW5kc3x8c291cmNlLm5vbWluYWxCb3VuZHM7XG5cdFx0aWYgKCFyZWN0JiZzb3VyY2UuZ2V0Qm91bmRzKSB7IHJlY3QgPSBzb3VyY2UuZ2V0Qm91bmRzKCk7IH1cblx0XHRpZiAoIXJlY3QpIHsgcmV0dXJuIG51bGw7IH1cblx0XHRzY2FsZSA9IHNjYWxlfHwxO1xuXHRcdHJldHVybiB0aGlzLl9mcmFtZXMucHVzaCh7c291cmNlOnNvdXJjZSwgc291cmNlUmVjdDpyZWN0LCBzY2FsZTpzY2FsZSwgZnVuY3Q6c2V0dXBGdW5jdGlvbiwgZGF0YTpzZXR1cERhdGEsIGluZGV4OnRoaXMuX2ZyYW1lcy5sZW5ndGgsIGhlaWdodDpyZWN0LmhlaWdodCpzY2FsZX0pLTE7XG5cdH07XG5cblx0LyoqXG5cdCAqIEFkZHMgYW4gYW5pbWF0aW9uIHRoYXQgd2lsbCBiZSBpbmNsdWRlZCBpbiB0aGUgY3JlYXRlZCB7eyNjcm9zc0xpbmsgXCJTcHJpdGVTaGVldFwifX17ey9jcm9zc0xpbmt9fS5cblx0ICogQG1ldGhvZCBhZGRBbmltYXRpb25cblx0ICogQHBhcmFtIHtTdHJpbmd9IG5hbWUgVGhlIG5hbWUgZm9yIHRoZSBhbmltYXRpb24uXG5cdCAqIEBwYXJhbSB7QXJyYXl9IGZyYW1lcyBBbiBhcnJheSBvZiBmcmFtZSBpbmRleGVzIHRoYXQgY29tcHJpc2UgdGhlIGFuaW1hdGlvbi4gRXguIFszLDYsNV0gd291bGQgZGVzY3JpYmUgYW4gYW5pbWF0aW9uXG5cdCAqIHRoYXQgcGxheWVkIGZyYW1lIGluZGV4ZXMgMywgNiwgYW5kIDUgaW4gdGhhdCBvcmRlci5cblx0ICogQHBhcmFtIHtTdHJpbmd9IFtuZXh0XSBTcGVjaWZpZXMgdGhlIG5hbWUgb2YgdGhlIGFuaW1hdGlvbiB0byBjb250aW51ZSB0byBhZnRlciB0aGlzIGFuaW1hdGlvbiBlbmRzLiBZb3UgY2FuXG5cdCAqIGFsc28gcGFzcyBmYWxzZSB0byBoYXZlIHRoZSBhbmltYXRpb24gc3RvcCB3aGVuIGl0IGVuZHMuIEJ5IGRlZmF1bHQgaXQgd2lsbCBsb29wIHRvIHRoZSBzdGFydCBvZiB0aGUgc2FtZSBhbmltYXRpb24uXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBbc3BlZWRdIFNwZWNpZmllcyBhIGZyYW1lIGFkdmFuY2Ugc3BlZWQgZm9yIHRoaXMgYW5pbWF0aW9uLiBGb3IgZXhhbXBsZSwgYSB2YWx1ZSBvZiAwLjUgd291bGRcblx0ICogY2F1c2UgdGhlIGFuaW1hdGlvbiB0byBhZHZhbmNlIGV2ZXJ5IHNlY29uZCB0aWNrLiBOb3RlIHRoYXQgZWFybGllciB2ZXJzaW9ucyB1c2VkIGBmcmVxdWVuY3lgIGluc3RlYWQsIHdoaWNoIGhhZFxuXHQgKiB0aGUgb3Bwb3NpdGUgZWZmZWN0LlxuXHQgKiovXG5cdHAuYWRkQW5pbWF0aW9uID0gZnVuY3Rpb24obmFtZSwgZnJhbWVzLCBuZXh0LCBzcGVlZCkge1xuXHRcdGlmICh0aGlzLl9kYXRhKSB7IHRocm93IFNwcml0ZVNoZWV0QnVpbGRlci5FUlJfUlVOTklORzsgfVxuXHRcdHRoaXMuX2FuaW1hdGlvbnNbbmFtZV0gPSB7ZnJhbWVzOmZyYW1lcywgbmV4dDpuZXh0LCBzcGVlZDpzcGVlZH07XG5cdH07XG5cblx0LyoqXG5cdCAqIFRoaXMgd2lsbCB0YWtlIGEge3sjY3Jvc3NMaW5rIFwiTW92aWVDbGlwXCJ9fXt7L2Nyb3NzTGlua319IGluc3RhbmNlLCBhbmQgYWRkIGl0cyBmcmFtZXMgYW5kIGxhYmVscyB0byB0aGlzXG5cdCAqIGJ1aWxkZXIuIExhYmVscyB3aWxsIGJlIGFkZGVkIGFzIGFuIGFuaW1hdGlvbiBydW5uaW5nIGZyb20gdGhlIGxhYmVsIGluZGV4IHRvIHRoZSBuZXh0IGxhYmVsLiBGb3IgZXhhbXBsZSwgaWZcblx0ICogdGhlcmUgaXMgYSBsYWJlbCBuYW1lZCBcImZvb1wiIGF0IGZyYW1lIDAgYW5kIGEgbGFiZWwgbmFtZWQgXCJiYXJcIiBhdCBmcmFtZSAxMCwgaW4gYSBNb3ZpZUNsaXAgd2l0aCAxNSBmcmFtZXMsIGl0XG5cdCAqIHdpbGwgYWRkIGFuIGFuaW1hdGlvbiBuYW1lZCBcImZvb1wiIHRoYXQgcnVucyBmcm9tIGZyYW1lIGluZGV4IDAgdG8gOSwgYW5kIGFuIGFuaW1hdGlvbiBuYW1lZCBcImJhclwiIHRoYXQgcnVucyBmcm9tXG5cdCAqIGZyYW1lIGluZGV4IDEwIHRvIDE0LlxuXHQgKlxuXHQgKiBOb3RlIHRoYXQgdGhpcyB3aWxsIGl0ZXJhdGUgdGhyb3VnaCB0aGUgZnVsbCBNb3ZpZUNsaXAgd2l0aCB7eyNjcm9zc0xpbmsgXCJNb3ZpZUNsaXAvYWN0aW9uc0VuYWJsZWQ6cHJvcGVydHlcIn19e3svY3Jvc3NMaW5rfX1cblx0ICogc2V0IHRvIGBmYWxzZWAsIGVuZGluZyBvbiB0aGUgbGFzdCBmcmFtZS5cblx0ICogQG1ldGhvZCBhZGRNb3ZpZUNsaXBcblx0ICogQHBhcmFtIHtNb3ZpZUNsaXB9IHNvdXJjZSBUaGUgc291cmNlIE1vdmllQ2xpcCBpbnN0YW5jZSB0byBhZGQgdG8gdGhlIFNwcml0ZVNoZWV0LlxuXHQgKiBAcGFyYW0ge1JlY3RhbmdsZX0gW3NvdXJjZVJlY3RdIEEge3sjY3Jvc3NMaW5rIFwiUmVjdGFuZ2xlXCJ9fXt7L2Nyb3NzTGlua319IGRlZmluaW5nIHRoZSBwb3J0aW9uIG9mIHRoZSBzb3VyY2UgdG9cblx0ICogZHJhdyB0byB0aGUgZnJhbWUuIElmIG5vdCBzcGVjaWZpZWQsIGl0IHdpbGwgbG9vayBmb3IgYSB7eyNjcm9zc0xpbmsgXCJEaXNwbGF5T2JqZWN0L2dldEJvdW5kc1wifX17ey9jcm9zc0xpbmt9fVxuXHQgKiBtZXRob2QsIGBmcmFtZUJvdW5kc2AgQXJyYXksIGBib3VuZHNgIHByb3BlcnR5LCBvciBgbm9taW5hbEJvdW5kc2AgcHJvcGVydHkgb24gdGhlIHNvdXJjZSB0byB1c2UuIElmIG9uZSBpcyBub3Rcblx0ICogZm91bmQsIHRoZSBNb3ZpZUNsaXAgd2lsbCBiZSBza2lwcGVkLlxuXHQgKiBAcGFyYW0ge051bWJlcn0gW3NjYWxlPTFdIFRoZSBzY2FsZSB0byBkcmF3IHRoZSBtb3ZpZSBjbGlwIGF0LlxuXHQgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbc2V0dXBGdW5jdGlvbl0gQSBmdW5jdGlvbiB0byBjYWxsIGltbWVkaWF0ZWx5IGJlZm9yZSBkcmF3aW5nIGVhY2ggZnJhbWUuIEl0IHdpbGwgYmUgY2FsbGVkXG5cdCAqIHdpdGggdGhyZWUgcGFyYW1ldGVyczogdGhlIHNvdXJjZSwgc2V0dXBEYXRhLCBhbmQgdGhlIGZyYW1lIGluZGV4LlxuXHQgKiBAcGFyYW0ge09iamVjdH0gW3NldHVwRGF0YV0gQXJiaXRyYXJ5IHNldHVwIGRhdGEgdG8gcGFzcyB0byBzZXR1cEZ1bmN0aW9uIGFzIHRoZSBzZWNvbmQgcGFyYW1ldGVyLlxuXHQgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbbGFiZWxGdW5jdGlvbl0gVGhpcyBtZXRob2Qgd2lsbCBiZSBjYWxsZWQgZm9yIGVhY2ggTW92aWVDbGlwIGxhYmVsIHRoYXQgaXMgYWRkZWQgd2l0aCBmb3VyXG5cdCAqIHBhcmFtZXRlcnM6IHRoZSBsYWJlbCBuYW1lLCB0aGUgc291cmNlIE1vdmllQ2xpcCBpbnN0YW5jZSwgdGhlIHN0YXJ0aW5nIGZyYW1lIGluZGV4IChpbiB0aGUgbW92aWVjbGlwIHRpbWVsaW5lKVxuXHQgKiBhbmQgdGhlIGVuZCBpbmRleC4gSXQgbXVzdCByZXR1cm4gYSBuZXcgbmFtZSBmb3IgdGhlIGxhYmVsL2FuaW1hdGlvbiwgb3IgYGZhbHNlYCB0byBleGNsdWRlIHRoZSBsYWJlbC5cblx0ICoqL1xuXHRwLmFkZE1vdmllQ2xpcCA9IGZ1bmN0aW9uKHNvdXJjZSwgc291cmNlUmVjdCwgc2NhbGUsIHNldHVwRnVuY3Rpb24sIHNldHVwRGF0YSwgbGFiZWxGdW5jdGlvbikge1xuXHRcdGlmICh0aGlzLl9kYXRhKSB7IHRocm93IFNwcml0ZVNoZWV0QnVpbGRlci5FUlJfUlVOTklORzsgfVxuXHRcdHZhciByZWN0cyA9IHNvdXJjZS5mcmFtZUJvdW5kcztcblx0XHR2YXIgcmVjdCA9IHNvdXJjZVJlY3R8fHNvdXJjZS5ib3VuZHN8fHNvdXJjZS5ub21pbmFsQm91bmRzO1xuXHRcdGlmICghcmVjdCYmc291cmNlLmdldEJvdW5kcykgeyByZWN0ID0gc291cmNlLmdldEJvdW5kcygpOyB9XG5cdFx0aWYgKCFyZWN0ICYmICFyZWN0cykgeyByZXR1cm47IH1cblxuXHRcdHZhciBpLCBsLCBiYXNlRnJhbWVJbmRleCA9IHRoaXMuX2ZyYW1lcy5sZW5ndGg7XG5cdFx0dmFyIGR1cmF0aW9uID0gc291cmNlLnRpbWVsaW5lLmR1cmF0aW9uO1xuXHRcdGZvciAoaT0wOyBpPGR1cmF0aW9uOyBpKyspIHtcblx0XHRcdHZhciByID0gKHJlY3RzJiZyZWN0c1tpXSkgPyByZWN0c1tpXSA6IHJlY3Q7XG5cdFx0XHR0aGlzLmFkZEZyYW1lKHNvdXJjZSwgciwgc2NhbGUsIHRoaXMuX3NldHVwTW92aWVDbGlwRnJhbWUsIHtpOmksIGY6c2V0dXBGdW5jdGlvbiwgZDpzZXR1cERhdGF9KTtcblx0XHR9XG5cdFx0dmFyIGxhYmVscyA9IHNvdXJjZS50aW1lbGluZS5fbGFiZWxzO1xuXHRcdHZhciBsYmxzID0gW107XG5cdFx0Zm9yICh2YXIgbiBpbiBsYWJlbHMpIHtcblx0XHRcdGxibHMucHVzaCh7aW5kZXg6bGFiZWxzW25dLCBsYWJlbDpufSk7XG5cdFx0fVxuXHRcdGlmIChsYmxzLmxlbmd0aCkge1xuXHRcdFx0bGJscy5zb3J0KGZ1bmN0aW9uKGEsYil7IHJldHVybiBhLmluZGV4LWIuaW5kZXg7IH0pO1xuXHRcdFx0Zm9yIChpPTAsbD1sYmxzLmxlbmd0aDsgaTxsOyBpKyspIHtcblx0XHRcdFx0dmFyIGxhYmVsID0gbGJsc1tpXS5sYWJlbDtcblx0XHRcdFx0dmFyIHN0YXJ0ID0gYmFzZUZyYW1lSW5kZXgrbGJsc1tpXS5pbmRleDtcblx0XHRcdFx0dmFyIGVuZCA9IGJhc2VGcmFtZUluZGV4KygoaSA9PSBsLTEpID8gZHVyYXRpb24gOiBsYmxzW2krMV0uaW5kZXgpO1xuXHRcdFx0XHR2YXIgZnJhbWVzID0gW107XG5cdFx0XHRcdGZvciAodmFyIGo9c3RhcnQ7IGo8ZW5kOyBqKyspIHsgZnJhbWVzLnB1c2goaik7IH1cblx0XHRcdFx0aWYgKGxhYmVsRnVuY3Rpb24pIHtcblx0XHRcdFx0XHRsYWJlbCA9IGxhYmVsRnVuY3Rpb24obGFiZWwsIHNvdXJjZSwgc3RhcnQsIGVuZCk7XG5cdFx0XHRcdFx0aWYgKCFsYWJlbCkgeyBjb250aW51ZTsgfVxuXHRcdFx0XHR9XG5cdFx0XHRcdHRoaXMuYWRkQW5pbWF0aW9uKGxhYmVsLCBmcmFtZXMsIHRydWUpOyAvLyBmb3Igbm93LCB0aGlzIGxvb3BzIGFsbCBhbmltYXRpb25zLlxuXHRcdFx0fVxuXHRcdH1cblx0fTtcblxuXHQvKipcblx0ICogQnVpbGRzIGEge3sjY3Jvc3NMaW5rIFwiU3ByaXRlU2hlZXRcIn19e3svY3Jvc3NMaW5rfX0gaW5zdGFuY2UgYmFzZWQgb24gdGhlIGN1cnJlbnQgZnJhbWVzLlxuXHQgKiBAbWV0aG9kIGJ1aWxkXG5cdCAqIEByZXR1cm4ge1Nwcml0ZVNoZWV0fSBUaGUgY3JlYXRlZCBTcHJpdGVTaGVldCBpbnN0YW5jZSwgb3IgbnVsbCBpZiBhIGJ1aWxkIGlzIGFscmVhZHkgcnVubmluZyBvciBhbiBlcnJvclxuXHQgKiBvY2N1cnJlZC5cblx0ICoqL1xuXHRwLmJ1aWxkID0gZnVuY3Rpb24oKSB7XG5cdFx0aWYgKHRoaXMuX2RhdGEpIHsgdGhyb3cgU3ByaXRlU2hlZXRCdWlsZGVyLkVSUl9SVU5OSU5HOyB9XG5cdFx0dGhpcy5fc3RhcnRCdWlsZCgpO1xuXHRcdHdoaWxlICh0aGlzLl9kcmF3TmV4dCgpKSB7fVxuXHRcdHRoaXMuX2VuZEJ1aWxkKCk7XG5cdFx0cmV0dXJuIHRoaXMuc3ByaXRlU2hlZXQ7XG5cdH07XG5cblx0LyoqXG5cdCAqIEFzeW5jaHJvbm91c2x5IGJ1aWxkcyBhIHt7I2Nyb3NzTGluayBcIlNwcml0ZVNoZWV0XCJ9fXt7L2Nyb3NzTGlua319IGluc3RhbmNlIGJhc2VkIG9uIHRoZSBjdXJyZW50IGZyYW1lcy4gSXQgd2lsbFxuXHQgKiBydW4gMjAgdGltZXMgcGVyIHNlY29uZCwgdXNpbmcgYW4gYW1vdW50IG9mIHRpbWUgZGVmaW5lZCBieSBgdGltZVNsaWNlYC4gV2hlbiBpdCBpcyBjb21wbGV0ZSBpdCB3aWxsIGNhbGwgdGhlXG5cdCAqIHNwZWNpZmllZCBjYWxsYmFjay5cblx0ICogQG1ldGhvZCBidWlsZEFzeW5jXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBbdGltZVNsaWNlXSBTZXRzIHRoZSB0aW1lU2xpY2UgcHJvcGVydHkgb24gdGhpcyBpbnN0YW5jZS5cblx0ICoqL1xuXHRwLmJ1aWxkQXN5bmMgPSBmdW5jdGlvbih0aW1lU2xpY2UpIHtcblx0XHRpZiAodGhpcy5fZGF0YSkgeyB0aHJvdyBTcHJpdGVTaGVldEJ1aWxkZXIuRVJSX1JVTk5JTkc7IH1cblx0XHR0aGlzLnRpbWVTbGljZSA9IHRpbWVTbGljZTtcblx0XHR0aGlzLl9zdGFydEJ1aWxkKCk7XG5cdFx0dmFyIF90aGlzID0gdGhpcztcblx0XHR0aGlzLl90aW1lcklEID0gc2V0VGltZW91dChmdW5jdGlvbigpIHsgX3RoaXMuX3J1bigpOyB9LCA1MC1NYXRoLm1heCgwLjAxLCBNYXRoLm1pbigwLjk5LCB0aGlzLnRpbWVTbGljZXx8MC4zKSkqNTApO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBTdG9wcyB0aGUgY3VycmVudCBhc3luY2hyb25vdXMgYnVpbGQuXG5cdCAqIEBtZXRob2Qgc3RvcEFzeW5jXG5cdCAqKi9cblx0cC5zdG9wQXN5bmMgPSBmdW5jdGlvbigpIHtcblx0XHRjbGVhclRpbWVvdXQodGhpcy5fdGltZXJJRCk7XG5cdFx0dGhpcy5fZGF0YSA9IG51bGw7XG5cdH07XG5cblx0LyoqXG5cdCAqIFNwcml0ZVNoZWV0QnVpbGRlciBpbnN0YW5jZXMgY2Fubm90IGJlIGNsb25lZC5cblx0ICogQG1ldGhvZCBjbG9uZVxuXHQgKiovXG5cdHAuY2xvbmUgPSBmdW5jdGlvbigpIHtcblx0XHR0aHJvdyhcIlNwcml0ZVNoZWV0QnVpbGRlciBjYW5ub3QgYmUgY2xvbmVkLlwiKTtcblx0fTtcblxuXHQvKipcblx0ICogUmV0dXJucyBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGlzIG9iamVjdC5cblx0ICogQG1ldGhvZCB0b1N0cmluZ1xuXHQgKiBAcmV0dXJuIHtTdHJpbmd9IGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBpbnN0YW5jZS5cblx0ICoqL1xuXHRwLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIFwiW1Nwcml0ZVNoZWV0QnVpbGRlcl1cIjtcblx0fTtcblxuXG4vLyBwcml2YXRlIG1ldGhvZHM6XG5cdC8qKlxuXHQgKiBAbWV0aG9kIF9zdGFydEJ1aWxkXG5cdCAqIEBwcm90ZWN0ZWRcblx0ICoqL1xuXHRwLl9zdGFydEJ1aWxkID0gZnVuY3Rpb24oKSB7XG5cdFx0dmFyIHBhZCA9IHRoaXMucGFkZGluZ3x8MDtcblx0XHR0aGlzLnByb2dyZXNzID0gMDtcblx0XHR0aGlzLnNwcml0ZVNoZWV0ID0gbnVsbDtcblx0XHR0aGlzLl9pbmRleCA9IDA7XG5cdFx0dGhpcy5fc2NhbGUgPSB0aGlzLnNjYWxlO1xuXHRcdHZhciBkYXRhRnJhbWVzID0gW107XG5cdFx0dGhpcy5fZGF0YSA9IHtcblx0XHRcdGltYWdlczogW10sXG5cdFx0XHRmcmFtZXM6IGRhdGFGcmFtZXMsXG5cdFx0XHRmcmFtZXJhdGU6IHRoaXMuZnJhbWVyYXRlLFxuXHRcdFx0YW5pbWF0aW9uczogdGhpcy5fYW5pbWF0aW9ucyAvLyBUT0RPOiBzaG91bGQgd2UgXCJjbG9uZVwiIF9hbmltYXRpb25zIGluIGNhc2Ugc29tZW9uZSBhZGRzIG1vcmUgYW5pbWF0aW9ucyBhZnRlciBhIGJ1aWxkP1xuXHRcdH07XG5cblx0XHR2YXIgZnJhbWVzID0gdGhpcy5fZnJhbWVzLnNsaWNlKCk7XG5cdFx0ZnJhbWVzLnNvcnQoZnVuY3Rpb24oYSxiKSB7IHJldHVybiAoYS5oZWlnaHQ8PWIuaGVpZ2h0KSA/IC0xIDogMTsgfSk7XG5cblx0XHRpZiAoZnJhbWVzW2ZyYW1lcy5sZW5ndGgtMV0uaGVpZ2h0K3BhZCoyID4gdGhpcy5tYXhIZWlnaHQpIHsgdGhyb3cgU3ByaXRlU2hlZXRCdWlsZGVyLkVSUl9ESU1FTlNJT05TOyB9XG5cdFx0dmFyIHk9MCwgeD0wO1xuXHRcdHZhciBpbWcgPSAwO1xuXHRcdHdoaWxlIChmcmFtZXMubGVuZ3RoKSB7XG5cdFx0XHR2YXIgbyA9IHRoaXMuX2ZpbGxSb3coZnJhbWVzLCB5LCBpbWcsIGRhdGFGcmFtZXMsIHBhZCk7XG5cdFx0XHRpZiAoby53ID4geCkgeyB4ID0gby53OyB9XG5cdFx0XHR5ICs9IG8uaDtcblx0XHRcdGlmICghby5oIHx8ICFmcmFtZXMubGVuZ3RoKSB7XG5cdFx0XHRcdHZhciBjYW52YXMgPSBjcmVhdGVqcy5jcmVhdGVDYW52YXM/Y3JlYXRlanMuY3JlYXRlQ2FudmFzKCk6ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtcblx0XHRcdFx0Y2FudmFzLndpZHRoID0gdGhpcy5fZ2V0U2l6ZSh4LHRoaXMubWF4V2lkdGgpO1xuXHRcdFx0XHRjYW52YXMuaGVpZ2h0ID0gdGhpcy5fZ2V0U2l6ZSh5LHRoaXMubWF4SGVpZ2h0KTtcblx0XHRcdFx0dGhpcy5fZGF0YS5pbWFnZXNbaW1nXSA9IGNhbnZhcztcblx0XHRcdFx0aWYgKCFvLmgpIHtcblx0XHRcdFx0XHR4PXk9MDtcblx0XHRcdFx0XHRpbWcrKztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fTtcblx0XG5cdC8qKlxuXHQgKiBAbWV0aG9kIF9zZXR1cE1vdmllQ2xpcEZyYW1lXG5cdCAqIEBwcm90ZWN0ZWRcblx0ICogQHJldHVybiB7TnVtYmVyfSBUaGUgd2lkdGggJiBoZWlnaHQgb2YgdGhlIHJvdy5cblx0ICoqL1xuXHRwLl9zZXR1cE1vdmllQ2xpcEZyYW1lID0gZnVuY3Rpb24oc291cmNlLCBkYXRhKSB7XG5cdFx0dmFyIGFlID0gc291cmNlLmFjdGlvbnNFbmFibGVkO1xuXHRcdHNvdXJjZS5hY3Rpb25zRW5hYmxlZCA9IGZhbHNlO1xuXHRcdHNvdXJjZS5nb3RvQW5kU3RvcChkYXRhLmkpO1xuXHRcdHNvdXJjZS5hY3Rpb25zRW5hYmxlZCA9IGFlO1xuXHRcdGRhdGEuZiYmZGF0YS5mKHNvdXJjZSwgZGF0YS5kLCBkYXRhLmkpO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBAbWV0aG9kIF9nZXRTaXplXG5cdCAqIEBwcm90ZWN0ZWRcblx0ICogQHJldHVybiB7TnVtYmVyfSBUaGUgd2lkdGggJiBoZWlnaHQgb2YgdGhlIHJvdy5cblx0ICoqL1xuXHRwLl9nZXRTaXplID0gZnVuY3Rpb24oc2l6ZSxtYXgpIHtcblx0XHR2YXIgcG93ID0gNDtcblx0XHR3aGlsZSAoTWF0aC5wb3coMiwrK3BvdykgPCBzaXplKXt9XG5cdFx0cmV0dXJuIE1hdGgubWluKG1heCxNYXRoLnBvdygyLHBvdykpO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBAbWV0aG9kIF9maWxsUm93XG5cdCAqIEBwYXJhbSB7QXJyYXl9IGZyYW1lc1xuXHQgKiBAcGFyYW0ge051bWJlcn0geVxuXHQgKiBAcGFyYW0ge0hUTUxJbWFnZUVsZW1lbnR9IGltZ1xuXHQgKiBAcGFyYW0ge09iamVjdH0gZGF0YUZyYW1lc1xuXHQgKiBAcGFyYW0ge051bWJlcn0gcGFkXG5cdCAqIEBwcm90ZWN0ZWRcblx0ICogQHJldHVybiB7TnVtYmVyfSBUaGUgd2lkdGggJiBoZWlnaHQgb2YgdGhlIHJvdy5cblx0ICoqL1xuXHRwLl9maWxsUm93ID0gZnVuY3Rpb24oZnJhbWVzLCB5LCBpbWcsIGRhdGFGcmFtZXMsIHBhZCkge1xuXHRcdHZhciB3ID0gdGhpcy5tYXhXaWR0aDtcblx0XHR2YXIgbWF4SCA9IHRoaXMubWF4SGVpZ2h0O1xuXHRcdHkgKz0gcGFkO1xuXHRcdHZhciBoID0gbWF4SC15O1xuXHRcdHZhciB4ID0gcGFkO1xuXHRcdHZhciBoZWlnaHQgPSAwO1xuXHRcdGZvciAodmFyIGk9ZnJhbWVzLmxlbmd0aC0xOyBpPj0wOyBpLS0pIHtcblx0XHRcdHZhciBmcmFtZSA9IGZyYW1lc1tpXTtcblx0XHRcdHZhciBzYyA9IHRoaXMuX3NjYWxlKmZyYW1lLnNjYWxlO1xuXHRcdFx0dmFyIHJlY3QgPSBmcmFtZS5zb3VyY2VSZWN0O1xuXHRcdFx0dmFyIHNvdXJjZSA9IGZyYW1lLnNvdXJjZTtcblx0XHRcdHZhciByeCA9IE1hdGguZmxvb3Ioc2MqcmVjdC54LXBhZCk7XG5cdFx0XHR2YXIgcnkgPSBNYXRoLmZsb29yKHNjKnJlY3QueS1wYWQpO1xuXHRcdFx0dmFyIHJoID0gTWF0aC5jZWlsKHNjKnJlY3QuaGVpZ2h0K3BhZCoyKTtcblx0XHRcdHZhciBydyA9IE1hdGguY2VpbChzYypyZWN0LndpZHRoK3BhZCoyKTtcblx0XHRcdGlmIChydyA+IHcpIHsgdGhyb3cgU3ByaXRlU2hlZXRCdWlsZGVyLkVSUl9ESU1FTlNJT05TOyB9XG5cdFx0XHRpZiAocmggPiBoIHx8IHgrcncgPiB3KSB7IGNvbnRpbnVlOyB9XG5cdFx0XHRmcmFtZS5pbWcgPSBpbWc7XG5cdFx0XHRmcmFtZS5yZWN0ID0gbmV3IGNyZWF0ZWpzLlJlY3RhbmdsZSh4LHkscncscmgpO1xuXHRcdFx0aGVpZ2h0ID0gaGVpZ2h0IHx8IHJoO1xuXHRcdFx0ZnJhbWVzLnNwbGljZShpLDEpO1xuXHRcdFx0ZGF0YUZyYW1lc1tmcmFtZS5pbmRleF0gPSBbeCx5LHJ3LHJoLGltZyxNYXRoLnJvdW5kKC1yeCtzYypzb3VyY2UucmVnWC1wYWQpLE1hdGgucm91bmQoLXJ5K3NjKnNvdXJjZS5yZWdZLXBhZCldO1xuXHRcdFx0eCArPSBydztcblx0XHR9XG5cdFx0cmV0dXJuIHt3OngsIGg6aGVpZ2h0fTtcblx0fTtcblxuXHQvKipcblx0ICogQG1ldGhvZCBfZW5kQnVpbGRcblx0ICogQHByb3RlY3RlZFxuXHQgKiovXG5cdHAuX2VuZEJ1aWxkID0gZnVuY3Rpb24oKSB7XG5cdFx0dGhpcy5zcHJpdGVTaGVldCA9IG5ldyBjcmVhdGVqcy5TcHJpdGVTaGVldCh0aGlzLl9kYXRhKTtcblx0XHR0aGlzLl9kYXRhID0gbnVsbDtcblx0XHR0aGlzLnByb2dyZXNzID0gMTtcblx0XHR0aGlzLmRpc3BhdGNoRXZlbnQoXCJjb21wbGV0ZVwiKTtcblx0fTtcblxuXHQvKipcblx0ICogQG1ldGhvZCBfcnVuXG5cdCAqIEBwcm90ZWN0ZWRcblx0ICoqL1xuXHRwLl9ydW4gPSBmdW5jdGlvbigpIHtcblx0XHR2YXIgdHMgPSBNYXRoLm1heCgwLjAxLCBNYXRoLm1pbigwLjk5LCB0aGlzLnRpbWVTbGljZXx8MC4zKSkqNTA7XG5cdFx0dmFyIHQgPSAobmV3IERhdGUoKSkuZ2V0VGltZSgpK3RzO1xuXHRcdHZhciBjb21wbGV0ZSA9IGZhbHNlO1xuXHRcdHdoaWxlICh0ID4gKG5ldyBEYXRlKCkpLmdldFRpbWUoKSkge1xuXHRcdFx0aWYgKCF0aGlzLl9kcmF3TmV4dCgpKSB7IGNvbXBsZXRlID0gdHJ1ZTsgYnJlYWs7IH1cblx0XHR9XG5cdFx0aWYgKGNvbXBsZXRlKSB7XG5cdFx0XHR0aGlzLl9lbmRCdWlsZCgpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR2YXIgX3RoaXMgPSB0aGlzO1xuXHRcdFx0dGhpcy5fdGltZXJJRCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7IF90aGlzLl9ydW4oKTsgfSwgNTAtdHMpO1xuXHRcdH1cblx0XHR2YXIgcCA9IHRoaXMucHJvZ3Jlc3MgPSB0aGlzLl9pbmRleC90aGlzLl9mcmFtZXMubGVuZ3RoO1xuXHRcdGlmICh0aGlzLmhhc0V2ZW50TGlzdGVuZXIoXCJwcm9ncmVzc1wiKSkge1xuXHRcdFx0dmFyIGV2dCA9IG5ldyBjcmVhdGVqcy5FdmVudChcInByb2dyZXNzXCIpO1xuXHRcdFx0ZXZ0LnByb2dyZXNzID0gcDtcblx0XHRcdHRoaXMuZGlzcGF0Y2hFdmVudChldnQpO1xuXHRcdH1cblx0fTtcblxuXHQvKipcblx0ICogQG1ldGhvZCBfZHJhd05leHRcblx0ICogQHByb3RlY3RlZFxuXHQgKiBAcmV0dXJuIEJvb2xlYW4gUmV0dXJucyBmYWxzZSBpZiB0aGlzIGlzIHRoZSBsYXN0IGRyYXcuXG5cdCAqKi9cblx0cC5fZHJhd05leHQgPSBmdW5jdGlvbigpIHtcblx0XHR2YXIgZnJhbWUgPSB0aGlzLl9mcmFtZXNbdGhpcy5faW5kZXhdO1xuXHRcdHZhciBzYyA9IGZyYW1lLnNjYWxlKnRoaXMuX3NjYWxlO1xuXHRcdHZhciByZWN0ID0gZnJhbWUucmVjdDtcblx0XHR2YXIgc291cmNlUmVjdCA9IGZyYW1lLnNvdXJjZVJlY3Q7XG5cdFx0dmFyIGNhbnZhcyA9IHRoaXMuX2RhdGEuaW1hZ2VzW2ZyYW1lLmltZ107XG5cdFx0dmFyIGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XG5cdFx0ZnJhbWUuZnVuY3QmJmZyYW1lLmZ1bmN0KGZyYW1lLnNvdXJjZSwgZnJhbWUuZGF0YSk7XG5cdFx0Y3R4LnNhdmUoKTtcblx0XHRjdHguYmVnaW5QYXRoKCk7XG5cdFx0Y3R4LnJlY3QocmVjdC54LCByZWN0LnksIHJlY3Qud2lkdGgsIHJlY3QuaGVpZ2h0KTtcblx0XHRjdHguY2xpcCgpO1xuXHRcdGN0eC50cmFuc2xhdGUoTWF0aC5jZWlsKHJlY3QueC1zb3VyY2VSZWN0Lngqc2MpLCBNYXRoLmNlaWwocmVjdC55LXNvdXJjZVJlY3QueSpzYykpO1xuXHRcdGN0eC5zY2FsZShzYyxzYyk7XG5cdFx0ZnJhbWUuc291cmNlLmRyYXcoY3R4KTsgLy8gZGlzcGxheSBvYmplY3Qgd2lsbCBkcmF3IGl0c2VsZi5cblx0XHRjdHgucmVzdG9yZSgpO1xuXHRcdHJldHVybiAoKyt0aGlzLl9pbmRleCkgPCB0aGlzLl9mcmFtZXMubGVuZ3RoO1xuXHR9O1xuXG5cblx0Y3JlYXRlanMuU3ByaXRlU2hlZXRCdWlsZGVyID0gY3JlYXRlanMucHJvbW90ZShTcHJpdGVTaGVldEJ1aWxkZXIsIFwiRXZlbnREaXNwYXRjaGVyXCIpO1xufSgpKTtcblxuLy8jIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyNcbi8vIERPTUVsZW1lbnQuanNcbi8vIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXG5cbihmdW5jdGlvbigpIHtcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cblxuLy8gY29uc3RydWN0b3I6XG5cdC8qKlxuXHQgKiA8Yj5UaGlzIGNsYXNzIGlzIHN0aWxsIGV4cGVyaW1lbnRhbCwgYW5kIG1vcmUgYWR2YW5jZWQgdXNlIGlzIGxpa2VseSB0byBiZSBidWdneS4gUGxlYXNlIHJlcG9ydCBidWdzLjwvYj5cblx0ICpcblx0ICogQSBET01FbGVtZW50IGFsbG93cyB5b3UgdG8gYXNzb2NpYXRlIGEgSFRNTEVsZW1lbnQgd2l0aCB0aGUgZGlzcGxheSBsaXN0LiBJdCB3aWxsIGJlIHRyYW5zZm9ybWVkXG5cdCAqIHdpdGhpbiB0aGUgRE9NIGFzIHRob3VnaCBpdCBpcyBjaGlsZCBvZiB0aGUge3sjY3Jvc3NMaW5rIFwiQ29udGFpbmVyXCJ9fXt7L2Nyb3NzTGlua319IGl0IGlzIGFkZGVkIHRvLiBIb3dldmVyLCBpdCBpc1xuXHQgKiBub3QgcmVuZGVyZWQgdG8gY2FudmFzLCBhbmQgYXMgc3VjaCB3aWxsIHJldGFpbiB3aGF0ZXZlciB6LWluZGV4IGl0IGhhcyByZWxhdGl2ZSB0byB0aGUgY2FudmFzIChpZS4gaXQgd2lsbCBiZVxuXHQgKiBkcmF3biBpbiBmcm9udCBvZiBvciBiZWhpbmQgdGhlIGNhbnZhcykuXG5cdCAqXG5cdCAqIFRoZSBwb3NpdGlvbiBvZiBhIERPTUVsZW1lbnQgaXMgcmVsYXRpdmUgdG8gdGhlaXIgcGFyZW50IG5vZGUgaW4gdGhlIERPTS4gSXQgaXMgcmVjb21tZW5kZWQgdGhhdFxuXHQgKiB0aGUgRE9NIE9iamVjdCBiZSBhZGRlZCB0byBhIGRpdiB0aGF0IGFsc28gY29udGFpbnMgdGhlIGNhbnZhcyBzbyB0aGF0IHRoZXkgc2hhcmUgdGhlIHNhbWUgcG9zaXRpb25cblx0ICogb24gdGhlIHBhZ2UuXG5cdCAqXG5cdCAqIERPTUVsZW1lbnQgaXMgdXNlZnVsIGZvciBwb3NpdGlvbmluZyBIVE1MIGVsZW1lbnRzIG92ZXIgdG9wIG9mIGNhbnZhcyBjb250ZW50LCBhbmQgZm9yIGVsZW1lbnRzXG5cdCAqIHRoYXQgeW91IHdhbnQgdG8gZGlzcGxheSBvdXRzaWRlIHRoZSBib3VuZHMgb2YgdGhlIGNhbnZhcy4gRm9yIGV4YW1wbGUsIGEgdG9vbHRpcCB3aXRoIHJpY2ggSFRNTFxuXHQgKiBjb250ZW50LlxuXHQgKlxuXHQgKiA8aDQ+TW91c2UgSW50ZXJhY3Rpb248L2g0PlxuXHQgKlxuXHQgKiBET01FbGVtZW50IGluc3RhbmNlcyBhcmUgbm90IGZ1bGwgRWFzZWxKUyBkaXNwbGF5IG9iamVjdHMsIGFuZCBkbyBub3QgcGFydGljaXBhdGUgaW4gRWFzZWxKUyBtb3VzZVxuXHQgKiBldmVudHMgb3Igc3VwcG9ydCBtZXRob2RzIGxpa2UgaGl0VGVzdC4gVG8gZ2V0IG1vdXNlIGV2ZW50cyBmcm9tIGEgRE9NRWxlbWVudCwgeW91IG11c3QgaW5zdGVhZCBhZGQgaGFuZGxlcnMgdG9cblx0ICogdGhlIGh0bWxFbGVtZW50IChub3RlLCB0aGlzIGRvZXMgbm90IHN1cHBvcnQgRXZlbnREaXNwYXRjaGVyKVxuXHQgKlxuXHQgKiAgICAgIHZhciBkb21FbGVtZW50ID0gbmV3IGNyZWF0ZWpzLkRPTUVsZW1lbnQoaHRtbEVsZW1lbnQpO1xuXHQgKiAgICAgIGRvbUVsZW1lbnQuaHRtbEVsZW1lbnQub25jbGljayA9IGZ1bmN0aW9uKCkge1xuXHQgKiAgICAgICAgICBjb25zb2xlLmxvZyhcImNsaWNrZWRcIik7XG5cdCAqICAgICAgfVxuXHQgKlxuXHQgKiA8c3Ryb25nPkltcG9ydGFudDo8L3N0cm9uZz4gVGhpcyBjbGFzcyBuZWVkcyB0byBiZSBub3RpZmllZCBpdCBpcyBhYm91dCB0byBiZSBkcmF3biwgdGhpcyB3aWxsIGhhcHBlbiBhdXRvbWF0aWNhbGx5XG5cdCAqIGlmIHlvdSBjYWxsIHN0YWdlLnVwZGF0ZSwgY2FsbGluZyBzdGFnZS5kcmF3IG9yIGRpc2FibGluZyB0aWNrRW5hYmxlZCB3aWxsIG1pc3MgaW1wb3J0YW50IHN0ZXBzIGFuZCBpdCB3aWxsIHJlbmRlclxuXHQgKiBzdGFsZSBpbmZvcm1hdGlvbi5cblx0ICpcblx0ICogQGNsYXNzIERPTUVsZW1lbnRcblx0ICogQGV4dGVuZHMgRGlzcGxheU9iamVjdFxuXHQgKiBAY29uc3RydWN0b3Jcblx0ICogQHBhcmFtIHtIVE1MRWxlbWVudH0gaHRtbEVsZW1lbnQgQSByZWZlcmVuY2Ugb3IgaWQgZm9yIHRoZSBET00gZWxlbWVudCB0byBtYW5hZ2UuXG5cdCAqL1xuXHRmdW5jdGlvbiBET01FbGVtZW50KGh0bWxFbGVtZW50KSB7XG5cdFx0dGhpcy5EaXNwbGF5T2JqZWN0X2NvbnN0cnVjdG9yKCk7XG5cdFx0XG5cdFx0aWYgKHR5cGVvZihodG1sRWxlbWVudCk9PVwic3RyaW5nXCIpIHsgaHRtbEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChodG1sRWxlbWVudCk7IH1cblx0XHR0aGlzLm1vdXNlRW5hYmxlZCA9IGZhbHNlO1xuXHRcdFxuXHRcdHZhciBzdHlsZSA9IGh0bWxFbGVtZW50LnN0eWxlO1xuXHRcdHN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xuXHRcdHN0eWxlLnRyYW5zZm9ybU9yaWdpbiA9IHN0eWxlLldlYmtpdFRyYW5zZm9ybU9yaWdpbiA9IHN0eWxlLm1zVHJhbnNmb3JtT3JpZ2luID0gc3R5bGUuTW96VHJhbnNmb3JtT3JpZ2luID0gc3R5bGUuT1RyYW5zZm9ybU9yaWdpbiA9IFwiMCUgMCVcIjtcblx0XHRcblx0XHRcblx0Ly8gcHVibGljIHByb3BlcnRpZXM6XG5cdFx0LyoqXG5cdFx0ICogVGhlIERPTSBvYmplY3QgdG8gbWFuYWdlLlxuXHRcdCAqIEBwcm9wZXJ0eSBodG1sRWxlbWVudFxuXHRcdCAqIEB0eXBlIEhUTUxFbGVtZW50XG5cdFx0ICovXG5cdFx0dGhpcy5odG1sRWxlbWVudCA9IGh0bWxFbGVtZW50O1xuXHRcblx0XG5cdC8vIHByaXZhdGUgcHJvcGVydGllczpcblx0XHQvKipcblx0XHQgKiBAcHJvcGVydHkgX29sZE10eFxuXHRcdCAqIEB0eXBlIE1hdHJpeDJEXG5cdFx0ICogQHByb3RlY3RlZFxuXHRcdCAqL1xuXHRcdHRoaXMuX29sZFByb3BzID0gbnVsbDtcblxuXHRcdC8qKlxuXHRcdCAqIFVzZWQgdG8gdHJhY2sgdGhlIG9iamVjdCB3aGljaCB0aGlzIGNsYXNzIGF0dGFjaGVkIGxpc3RlbmVycyB0bywgaGVscHMgb3B0aW1pemUgbGlzdGVuZXIgYXR0YWNobWVudC5cblx0XHQgKiBAcHJvcGVydHkgX29sZFN0YWdlXG5cdFx0ICogQHR5cGUgU3RhZ2Vcblx0XHQgKiBAcHJvdGVjdGVkXG5cdFx0ICovXG5cdFx0dGhpcy5fb2xkU3RhZ2UgPSBudWxsO1xuXHRcdC8qKlxuXHRcdCAqIFRoZSBldmVudCBsaXN0ZW5lciBwcm94eSB0cmlnZ2VyZWQgZHJhd2luZyBkcmF3IGZvciBzcGVjaWFsIGNpcmN1bXN0YW5jZXMuXG5cdFx0ICogQHByb3BlcnR5IF9kcmF3QWN0aW9uXG5cdFx0ICogQHR5cGUgZnVuY3Rpb25cblx0XHQgKiBAcHJvdGVjdGVkXG5cdFx0ICovXG5cdFx0dGhpcy5fZHJhd0FjdGlvbiA9IG51bGw7XG5cdH1cblx0dmFyIHAgPSBjcmVhdGVqcy5leHRlbmQoRE9NRWxlbWVudCwgY3JlYXRlanMuRGlzcGxheU9iamVjdCk7XG5cblx0Ly8gVE9ETzogZGVwcmVjYXRlZFxuXHQvLyBwLmluaXRpYWxpemUgPSBmdW5jdGlvbigpIHt9OyAvLyBzZWFyY2hhYmxlIGZvciBkZXZzIHdvbmRlcmluZyB3aGVyZSBpdCBpcy4gUkVNT1ZFRC4gU2VlIGRvY3MgZm9yIGRldGFpbHMuXG5cblxuLy8gcHVibGljIG1ldGhvZHM6XG5cdC8qKlxuXHQgKiBSZXR1cm5zIHRydWUgb3IgZmFsc2UgaW5kaWNhdGluZyB3aGV0aGVyIHRoZSBkaXNwbGF5IG9iamVjdCB3b3VsZCBiZSB2aXNpYmxlIGlmIGRyYXduIHRvIGEgY2FudmFzLlxuXHQgKiBUaGlzIGRvZXMgbm90IGFjY291bnQgZm9yIHdoZXRoZXIgaXQgd291bGQgYmUgdmlzaWJsZSB3aXRoaW4gdGhlIGJvdW5kYXJpZXMgb2YgdGhlIHN0YWdlLlxuXHQgKiBOT1RFOiBUaGlzIG1ldGhvZCBpcyBtYWlubHkgZm9yIGludGVybmFsIHVzZSwgdGhvdWdoIGl0IG1heSBiZSB1c2VmdWwgZm9yIGFkdmFuY2VkIHVzZXMuXG5cdCAqIEBtZXRob2QgaXNWaXNpYmxlXG5cdCAqIEByZXR1cm4ge0Jvb2xlYW59IEJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIHRoZSBkaXNwbGF5IG9iamVjdCB3b3VsZCBiZSB2aXNpYmxlIGlmIGRyYXduIHRvIGEgY2FudmFzXG5cdCAqL1xuXHRwLmlzVmlzaWJsZSA9IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLmh0bWxFbGVtZW50ICE9IG51bGw7XG5cdH07XG5cblx0LyoqXG5cdCAqIERyYXdzIHRoZSBkaXNwbGF5IG9iamVjdCBpbnRvIHRoZSBzcGVjaWZpZWQgY29udGV4dCBpZ25vcmluZyBpdHMgdmlzaWJsZSwgYWxwaGEsIHNoYWRvdywgYW5kIHRyYW5zZm9ybS5cblx0ICogUmV0dXJucyB0cnVlIGlmIHRoZSBkcmF3IHdhcyBoYW5kbGVkICh1c2VmdWwgZm9yIG92ZXJyaWRpbmcgZnVuY3Rpb25hbGl0eSkuXG5cdCAqIE5PVEU6IFRoaXMgbWV0aG9kIGlzIG1haW5seSBmb3IgaW50ZXJuYWwgdXNlLCB0aG91Z2ggaXQgbWF5IGJlIHVzZWZ1bCBmb3IgYWR2YW5jZWQgdXNlcy5cblx0ICogQG1ldGhvZCBkcmF3XG5cdCAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggVGhlIGNhbnZhcyAyRCBjb250ZXh0IG9iamVjdCB0byBkcmF3IGludG8uXG5cdCAqIEBwYXJhbSB7Qm9vbGVhbn0gaWdub3JlQ2FjaGUgSW5kaWNhdGVzIHdoZXRoZXIgdGhlIGRyYXcgb3BlcmF0aW9uIHNob3VsZCBpZ25vcmUgYW55IGN1cnJlbnQgY2FjaGUuXG5cdCAqIEZvciBleGFtcGxlLCB1c2VkIGZvciBkcmF3aW5nIHRoZSBjYWNoZSAodG8gcHJldmVudCBpdCBmcm9tIHNpbXBseSBkcmF3aW5nIGFuIGV4aXN0aW5nIGNhY2hlIGJhY2tcblx0ICogaW50byBpdHNlbGYpLlxuXHQgKiBAcmV0dXJuIHtCb29sZWFufVxuXHQgKi9cblx0cC5kcmF3ID0gZnVuY3Rpb24oY3R4LCBpZ25vcmVDYWNoZSkge1xuXHRcdC8vIHRoaXMgcmVsaWVzIG9uIHRoZSBfdGljayBtZXRob2QgYmVjYXVzZSBkcmF3IGlzbid0IGNhbGxlZCBpZiB0aGUgcGFyZW50IGlzIG5vdCB2aXNpYmxlLlxuXHRcdC8vIHRoZSBhY3R1YWwgdXBkYXRlIGhhcHBlbnMgaW4gX2hhbmRsZURyYXdFbmRcblx0XHRyZXR1cm4gdHJ1ZTtcblx0fTtcblxuXHQvKipcblx0ICogTm90IGFwcGxpY2FibGUgdG8gRE9NRWxlbWVudC5cblx0ICogQG1ldGhvZCBjYWNoZVxuXHQgKi9cblx0cC5jYWNoZSA9IGZ1bmN0aW9uKCkge307XG5cblx0LyoqXG5cdCAqIE5vdCBhcHBsaWNhYmxlIHRvIERPTUVsZW1lbnQuXG5cdCAqIEBtZXRob2QgdW5jYWNoZVxuXHQgKi9cblx0cC51bmNhY2hlID0gZnVuY3Rpb24oKSB7fTtcblxuXHQvKipcblx0ICogTm90IGFwcGxpY2FibGUgdG8gRE9NRWxlbWVudC5cblx0ICogQG1ldGhvZCB1cGRhdGVDYWNoZVxuXHQgKi9cblx0cC51cGRhdGVDYWNoZSA9IGZ1bmN0aW9uKCkge307XG5cblx0LyoqXG5cdCAqIE5vdCBhcHBsaWNhYmxlIHRvIERPTUVsZW1lbnQuXG5cdCAqIEBtZXRob2QgaGl0VGVzdFxuXHQgKi9cblx0cC5oaXRUZXN0ID0gZnVuY3Rpb24oKSB7fTtcblxuXHQvKipcblx0ICogTm90IGFwcGxpY2FibGUgdG8gRE9NRWxlbWVudC5cblx0ICogQG1ldGhvZCBsb2NhbFRvR2xvYmFsXG5cdCAqL1xuXHRwLmxvY2FsVG9HbG9iYWwgPSBmdW5jdGlvbigpIHt9O1xuXG5cdC8qKlxuXHQgKiBOb3QgYXBwbGljYWJsZSB0byBET01FbGVtZW50LlxuXHQgKiBAbWV0aG9kIGdsb2JhbFRvTG9jYWxcblx0ICovXG5cdHAuZ2xvYmFsVG9Mb2NhbCA9IGZ1bmN0aW9uKCkge307XG5cblx0LyoqXG5cdCAqIE5vdCBhcHBsaWNhYmxlIHRvIERPTUVsZW1lbnQuXG5cdCAqIEBtZXRob2QgbG9jYWxUb0xvY2FsXG5cdCAqL1xuXHRwLmxvY2FsVG9Mb2NhbCA9IGZ1bmN0aW9uKCkge307XG5cblx0LyoqXG5cdCAqIERPTUVsZW1lbnQgY2Fubm90IGJlIGNsb25lZC4gVGhyb3dzIGFuIGVycm9yLlxuXHQgKiBAbWV0aG9kIGNsb25lXG5cdCAqL1xuXHRwLmNsb25lID0gZnVuY3Rpb24oKSB7XG5cdFx0dGhyb3coXCJET01FbGVtZW50IGNhbm5vdCBiZSBjbG9uZWQuXCIpXG5cdH07XG5cblx0LyoqXG5cdCAqIFJldHVybnMgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhpcyBvYmplY3QuXG5cdCAqIEBtZXRob2QgdG9TdHJpbmdcblx0ICogQHJldHVybiB7U3RyaW5nfSBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgaW5zdGFuY2UuXG5cdCAqL1xuXHRwLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIFwiW0RPTUVsZW1lbnQgKG5hbWU9XCIrICB0aGlzLm5hbWUgK1wiKV1cIjtcblx0fTtcblxuXHQvKipcbiAgICAgKiBJbnRlcmFjdGlvbiBldmVudHMgc2hvdWxkIGJlIGFkZGVkIHRvIGBodG1sRWxlbWVudGAsIGFuZCBub3QgdGhlIERPTUVsZW1lbnQgaW5zdGFuY2UsIHNpbmNlIERPTUVsZW1lbnQgaW5zdGFuY2VzXG5cdCAqIGFyZSBub3QgZnVsbCBFYXNlbEpTIGRpc3BsYXkgb2JqZWN0cyBhbmQgZG8gbm90IHBhcnRpY2lwYXRlIGluIEVhc2VsSlMgbW91c2UgZXZlbnRzLlxuXHQgKiBAZXZlbnQgY2xpY2tcblx0ICovXG5cbiAgICAgLyoqXG4gICAgICogSW50ZXJhY3Rpb24gZXZlbnRzIHNob3VsZCBiZSBhZGRlZCB0byBgaHRtbEVsZW1lbnRgLCBhbmQgbm90IHRoZSBET01FbGVtZW50IGluc3RhbmNlLCBzaW5jZSBET01FbGVtZW50IGluc3RhbmNlc1xuIFx0ICogYXJlIG5vdCBmdWxsIEVhc2VsSlMgZGlzcGxheSBvYmplY3RzIGFuZCBkbyBub3QgcGFydGljaXBhdGUgaW4gRWFzZWxKUyBtb3VzZSBldmVudHMuXG5cdCAqIEBldmVudCBkYmxDbGlja1xuXHQgKi9cblxuICAgICAvKipcbiAgICAgICogSW50ZXJhY3Rpb24gZXZlbnRzIHNob3VsZCBiZSBhZGRlZCB0byBgaHRtbEVsZW1lbnRgLCBhbmQgbm90IHRoZSBET01FbGVtZW50IGluc3RhbmNlLCBzaW5jZSBET01FbGVtZW50IGluc3RhbmNlc1xuIFx0ICAqIGFyZSBub3QgZnVsbCBFYXNlbEpTIGRpc3BsYXkgb2JqZWN0cyBhbmQgZG8gbm90IHBhcnRpY2lwYXRlIGluIEVhc2VsSlMgbW91c2UgZXZlbnRzLlxuXHQgICogQGV2ZW50IG1vdXNlZG93blxuXHQgICovXG5cbiAgICAgLyoqXG4gICAgICAqIFRoZSBIVE1MRWxlbWVudCBjYW4gbGlzdGVuIGZvciB0aGUgbW91c2VvdmVyIGV2ZW50LCBub3QgdGhlIERPTUVsZW1lbnQgaW5zdGFuY2UuXG4gICAgICAqIFNpbmNlIERPTUVsZW1lbnQgaW5zdGFuY2VzIGFyZSBub3QgZnVsbCBFYXNlbEpTIGRpc3BsYXkgb2JqZWN0cyBhbmQgZG8gbm90IHBhcnRpY2lwYXRlIGluIEVhc2VsSlMgbW91c2UgZXZlbnRzLlxuICAgICAgKiBAZXZlbnQgbW91c2VvdmVyXG5cdCAgKi9cblxuICAgICAvKipcbiAgICAgICogTm90IGFwcGxpY2FibGUgdG8gRE9NRWxlbWVudC5cblx0ICAqIEBldmVudCB0aWNrXG5cdCAgKi9cblxuXG4vLyBwcml2YXRlIG1ldGhvZHM6XG5cdC8qKlxuXHQgKiBAbWV0aG9kIF90aWNrXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBldnRPYmogQW4gZXZlbnQgb2JqZWN0IHRoYXQgd2lsbCBiZSBkaXNwYXRjaGVkIHRvIGFsbCB0aWNrIGxpc3RlbmVycy4gVGhpcyBvYmplY3QgaXMgcmV1c2VkIGJldHdlZW4gZGlzcGF0Y2hlcnMgdG8gcmVkdWNlIGNvbnN0cnVjdGlvbiAmIEdDIGNvc3RzLlxuXHQgKiBmdW5jdGlvbi5cblx0ICogQHByb3RlY3RlZFxuXHQgKi9cblx0cC5fdGljayA9IGZ1bmN0aW9uKGV2dE9iaikge1xuXHRcdHZhciBzdGFnZSA9IHRoaXMuc3RhZ2U7XG5cdFx0aWYoc3RhZ2UgJiYgc3RhZ2UgIT09IHRoaXMuX29sZFN0YWdlKSB7XG5cdFx0XHR0aGlzLl9kcmF3QWN0aW9uICYmIHN0YWdlLm9mZihcImRyYXdlbmRcIiwgdGhpcy5fZHJhd0FjdGlvbik7XG5cdFx0XHR0aGlzLl9kcmF3QWN0aW9uID0gc3RhZ2Uub24oXCJkcmF3ZW5kXCIsIHRoaXMuX2hhbmRsZURyYXdFbmQsIHRoaXMpO1xuXHRcdFx0dGhpcy5fb2xkU3RhZ2UgPSBzdGFnZTtcblx0XHR9XG5cdFx0dGhpcy5EaXNwbGF5T2JqZWN0X190aWNrKGV2dE9iaik7XG5cdH07XG5cdFxuXHQvKipcblx0ICogQG1ldGhvZCBfaGFuZGxlRHJhd0VuZFxuXHQgKiBAcGFyYW0ge0V2ZW50fSBldnRcblx0ICogQHByb3RlY3RlZFxuXHQgKi9cblx0cC5faGFuZGxlRHJhd0VuZCA9IGZ1bmN0aW9uKGV2dCkge1xuXHRcdHZhciBvID0gdGhpcy5odG1sRWxlbWVudDtcblx0XHRpZiAoIW8pIHsgcmV0dXJuOyB9XG5cdFx0dmFyIHN0eWxlID0gby5zdHlsZTtcblx0XHRcblx0XHR2YXIgcHJvcHMgPSB0aGlzLmdldENvbmNhdGVuYXRlZERpc3BsYXlQcm9wcyh0aGlzLl9wcm9wcyksIG10eCA9IHByb3BzLm1hdHJpeDtcblx0XHRcblx0XHR2YXIgdmlzaWJpbGl0eSA9IHByb3BzLnZpc2libGUgPyBcInZpc2libGVcIiA6IFwiaGlkZGVuXCI7XG5cdFx0aWYgKHZpc2liaWxpdHkgIT0gc3R5bGUudmlzaWJpbGl0eSkgeyBzdHlsZS52aXNpYmlsaXR5ID0gdmlzaWJpbGl0eTsgfVxuXHRcdGlmICghcHJvcHMudmlzaWJsZSkgeyByZXR1cm47IH1cblx0XHRcblx0XHR2YXIgb2xkUHJvcHMgPSB0aGlzLl9vbGRQcm9wcywgb2xkTXR4ID0gb2xkUHJvcHMmJm9sZFByb3BzLm1hdHJpeDtcblx0XHR2YXIgbiA9IDEwMDAwOyAvLyBwcmVjaXNpb25cblx0XHRcblx0XHRpZiAoIW9sZE10eCB8fCAhb2xkTXR4LmVxdWFscyhtdHgpKSB7XG5cdFx0XHR2YXIgc3RyID0gXCJtYXRyaXgoXCIgKyAobXR4LmEqbnwwKS9uICtcIixcIisgKG10eC5iKm58MCkvbiArXCIsXCIrIChtdHguYypufDApL24gK1wiLFwiKyAobXR4LmQqbnwwKS9uICtcIixcIisgKG10eC50eCswLjV8MCk7XG5cdFx0XHRzdHlsZS50cmFuc2Zvcm0gPSBzdHlsZS5XZWJraXRUcmFuc2Zvcm0gPSBzdHlsZS5PVHJhbnNmb3JtID0gc3R5bGUubXNUcmFuc2Zvcm0gPSBzdHIgK1wiLFwiKyAobXR4LnR5KzAuNXwwKSArXCIpXCI7XG5cdFx0XHRzdHlsZS5Nb3pUcmFuc2Zvcm0gPSBzdHIgK1wicHgsXCIrIChtdHgudHkrMC41fDApICtcInB4KVwiO1xuXHRcdFx0aWYgKCFvbGRQcm9wcykgeyBvbGRQcm9wcyA9IHRoaXMuX29sZFByb3BzID0gbmV3IGNyZWF0ZWpzLkRpc3BsYXlQcm9wcyh0cnVlLCBudWxsKTsgfVxuXHRcdFx0b2xkUHJvcHMubWF0cml4LmNvcHkobXR4KTtcblx0XHR9XG5cdFx0XG5cdFx0aWYgKG9sZFByb3BzLmFscGhhICE9IHByb3BzLmFscGhhKSB7XG5cdFx0XHRzdHlsZS5vcGFjaXR5ID0gXCJcIisocHJvcHMuYWxwaGEqbnwwKS9uO1xuXHRcdFx0b2xkUHJvcHMuYWxwaGEgPSBwcm9wcy5hbHBoYTtcblx0XHR9XG5cdH07XG5cblxuXHRjcmVhdGVqcy5ET01FbGVtZW50ID0gY3JlYXRlanMucHJvbW90ZShET01FbGVtZW50LCBcIkRpc3BsYXlPYmplY3RcIik7XG59KCkpO1xuXG4vLyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI1xuLy8gRmlsdGVyLmpzXG4vLyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI1xuXG4oZnVuY3Rpb24oKSB7XG5cdFwidXNlIHN0cmljdFwiO1xuXG5cbi8vIGNvbnN0cnVjdG9yOlxuXHQvKipcblx0ICogQmFzZSBjbGFzcyB0aGF0IGFsbCBmaWx0ZXJzIHNob3VsZCBpbmhlcml0IGZyb20uIEZpbHRlcnMgbmVlZCB0byBiZSBhcHBsaWVkIHRvIG9iamVjdHMgdGhhdCBoYXZlIGJlZW4gY2FjaGVkIHVzaW5nXG5cdCAqIHRoZSB7eyNjcm9zc0xpbmsgXCJEaXNwbGF5T2JqZWN0L2NhY2hlXCJ9fXt7L2Nyb3NzTGlua319IG1ldGhvZC4gSWYgYW4gb2JqZWN0IGNoYW5nZXMsIHBsZWFzZSBjYWNoZSBpdCBhZ2Fpbiwgb3IgdXNlXG5cdCAqIHt7I2Nyb3NzTGluayBcIkRpc3BsYXlPYmplY3QvdXBkYXRlQ2FjaGVcIn19e3svY3Jvc3NMaW5rfX0uIE5vdGUgdGhhdCB0aGUgZmlsdGVycyBtdXN0IGJlIGFwcGxpZWQgYmVmb3JlIGNhY2hpbmcuXG5cdCAqXG5cdCAqIDxoND5FeGFtcGxlPC9oND5cblx0ICpcblx0ICogICAgICBteUluc3RhbmNlLmZpbHRlcnMgPSBbXG5cdCAqICAgICAgICAgIG5ldyBjcmVhdGVqcy5Db2xvckZpbHRlcigwLCAwLCAwLCAxLCAyNTUsIDAsIDApLFxuXHQgKiAgICAgICAgICBuZXcgY3JlYXRlanMuQmx1ckZpbHRlcig1LCA1LCAxMClcblx0ICogICAgICBdO1xuXHQgKiAgICAgIG15SW5zdGFuY2UuY2FjaGUoMCwwLCAxMDAsIDEwMCk7XG5cdCAqXG5cdCAqIE5vdGUgdGhhdCBlYWNoIGZpbHRlciBjYW4gaW1wbGVtZW50IGEge3sjY3Jvc3NMaW5rIFwiRmlsdGVyL2dldEJvdW5kc1wifX17ey9jcm9zc0xpbmt9fSBtZXRob2QsIHdoaWNoIHJldHVybnMgdGhlXG5cdCAqIG1hcmdpbnMgdGhhdCBuZWVkIHRvIGJlIGFwcGxpZWQgaW4gb3JkZXIgdG8gZnVsbHkgZGlzcGxheSB0aGUgZmlsdGVyLiBGb3IgZXhhbXBsZSwgdGhlIHt7I2Nyb3NzTGluayBcIkJsdXJGaWx0ZXJcIn19e3svY3Jvc3NMaW5rfX1cblx0ICogd2lsbCBjYXVzZSBhbiBvYmplY3QgdG8gZmVhdGhlciBvdXR3YXJkcywgcmVzdWx0aW5nIGluIGEgbWFyZ2luIGFyb3VuZCB0aGUgc2hhcGUuXG5cdCAqXG5cdCAqIDxoND5FYXNlbEpTIEZpbHRlcnM8L2g0PlxuXHQgKiBFYXNlbEpTIGNvbWVzIHdpdGggYSBudW1iZXIgb2YgcHJlLWJ1aWx0IGZpbHRlcnM6XG5cdCAqIDx1bD48bGk+e3sjY3Jvc3NMaW5rIFwiQWxwaGFNYXBGaWx0ZXJcIn19e3svY3Jvc3NMaW5rfX0gOiBNYXAgYSBncmV5c2NhbGUgaW1hZ2UgdG8gdGhlIGFscGhhIGNoYW5uZWwgb2YgYSBkaXNwbGF5IG9iamVjdDwvbGk+XG5cdCAqICAgICAgPGxpPnt7I2Nyb3NzTGluayBcIkFscGhhTWFza0ZpbHRlclwifX17ey9jcm9zc0xpbmt9fTogTWFwIGFuIGltYWdlJ3MgYWxwaGEgY2hhbm5lbCB0byB0aGUgYWxwaGEgY2hhbm5lbCBvZiBhIGRpc3BsYXkgb2JqZWN0PC9saT5cblx0ICogICAgICA8bGk+e3sjY3Jvc3NMaW5rIFwiQmx1ckZpbHRlclwifX17ey9jcm9zc0xpbmt9fTogQXBwbHkgdmVydGljYWwgYW5kIGhvcml6b250YWwgYmx1ciB0byBhIGRpc3BsYXkgb2JqZWN0PC9saT5cblx0ICogICAgICA8bGk+e3sjY3Jvc3NMaW5rIFwiQ29sb3JGaWx0ZXJcIn19e3svY3Jvc3NMaW5rfX06IENvbG9yIHRyYW5zZm9ybSBhIGRpc3BsYXkgb2JqZWN0PC9saT5cblx0ICogICAgICA8bGk+e3sjY3Jvc3NMaW5rIFwiQ29sb3JNYXRyaXhGaWx0ZXJcIn19e3svY3Jvc3NMaW5rfX06IFRyYW5zZm9ybSBhbiBpbWFnZSB1c2luZyBhIHt7I2Nyb3NzTGluayBcIkNvbG9yTWF0cml4XCJ9fXt7L2Nyb3NzTGlua319PC9saT5cblx0ICogPC91bD5cblx0ICpcblx0ICogQGNsYXNzIEZpbHRlclxuXHQgKiBAY29uc3RydWN0b3Jcblx0ICoqL1xuXHRmdW5jdGlvbiBGaWx0ZXIoKSB7XG5cdFx0LyoqXG5cdFx0ICogQSBmbGFnIHN0YXRpbmcgdGhhdCB0aGlzIGZpbHRlciB1c2VzIGEgY29udGV4dCBkcmF3IG1vZGUgYW5kIGNhbm5vdCBiZSBiYXRjaGVkIGludG8gaW1hZ2VEYXRhIHByb2Nlc3NpbmcuXG5cdFx0ICogQHByb3BlcnR5IHVzZXNDb250ZXh0XG5cdFx0ICogQHR5cGUge2Jvb2xlYW59XG5cdFx0ICogQGRlZmF1bHQgZmFsc2Vcblx0XHQgKi9cblx0XHR0aGlzLnVzZXNDb250ZXh0ID0gZmFsc2U7XG5cblx0XHQvKipcblx0XHQgKiBBbm90aGVyIGZpbHRlciB0aGF0IGlzIHJlcXVpcmVkIHRvIGFjdCBhcyBwYXJ0IG9mIHRoaXMgZmlsdGVyIGFuZCBjcmVhdGVkIGFuZCBtYW5hZ2VkIHVuZGVyIHRoZSBob29kLlxuXHRcdCAqIEBwcml2YXRlXG5cdFx0ICogQHByb3BlcnR5IF9tdWx0aVBhc3Ncblx0XHQgKiBAdHlwZSB7RmlsdGVyfVxuXHRcdCAqIEBkZWZhdWx0IG51bGxcblx0XHQgKi9cblx0XHR0aGlzLl9tdWx0aVBhc3MgPSBudWxsO1xuXG5cdFx0LyoqXG5cdFx0ICogUHJlLXByb2Nlc3NlZCB0ZW1wbGF0ZSBzaGFkZXIgY29kZS4gSXQgd2lsbCBiZSBwYXJzZWQgYmVmb3JlIGJlaW5nIGZlZCBpbiBpbnRvIHRoZSBzaGFkZXIgY29tcGlsZXIuXG5cdFx0ICogVGhpcyBzaG91bGQgYmUgYmFzZWQgdXBvbiBTdGFnZUdMLlNIQURFUl9WRVJURVhfQk9EWV9SRUdVTEFSXG5cdFx0ICogQHByb3BlcnR5IFZUWF9TSEFERVJcblx0XHQgKiBAdmlydHVhbFxuXHRcdCAqIEB0eXBlIHtTdHJpbmd9XG5cdFx0ICogQHJlYWRvbmx5XG5cdFx0ICovXG5cdFx0dGhpcy5WVFhfU0hBREVSX0JPRFkgPSBudWxsO1xuXG5cdFx0LyoqXG5cdFx0ICogUHJlLXByb2Nlc3NlZCB0ZW1wbGF0ZSBzaGFkZXIgY29kZS4gSXQgd2lsbCBiZSBwYXJzZWQgYmVmb3JlIGJlaW5nIGZlZCBpbiBpbnRvIHRoZSBzaGFkZXIgY29tcGlsZXIuXG5cdFx0ICogVGhpcyBzaG91bGQgYmUgYmFzZWQgdXBvbiBTdGFnZUdMLlNIQURFUl9GUkFHTUVOVF9CT0RZX1JFR1VMQVJcblx0XHQgKiBAcHJvcGVydHkgRlJBR19TSEFERVJcblx0XHQgKiBAdmlydHVhbFxuXHRcdCAqIEB0eXBlIHtTdHJpbmd9XG5cdFx0ICogQHJlYWRvbmx5XG5cdFx0ICovXG5cdFx0dGhpcy5GUkFHX1NIQURFUl9CT0RZID0gbnVsbDtcblx0fVxuXHR2YXIgcCA9IEZpbHRlci5wcm90b3R5cGU7XG5cbi8vIHB1YmxpYyBtZXRob2RzOlxuXHQvKipcblx0ICogUHJvdmlkZXMgcGFkZGluZyB2YWx1ZXMgZm9yIHRoaXMgZmlsdGVyLiBUaGF0IGlzLCBob3cgbXVjaCB0aGUgZmlsdGVyIHdpbGwgZXh0ZW5kIHRoZSB2aXN1YWwgYm91bmRzIG9mIGFuIG9iamVjdCBpdCBpcyBhcHBsaWVkIHRvLlxuXHQgKiBAbWV0aG9kIGdldEJvdW5kc1xuXHQgKiBAcGFyYW0ge1JlY3RhbmdsZX0gW3JlY3RdIElmIHNwZWNpZmllZCwgdGhlIHByb3ZpZGVkIFJlY3RhbmdsZSBpbnN0YW5jZSB3aWxsIGJlIGV4cGFuZGVkIGJ5IHRoZSBwYWRkaW5nIGFtb3VudHMgYW5kIHJldHVybmVkLlxuXHQgKiBAcmV0dXJuIHtSZWN0YW5nbGV9IElmIGEgYHJlY3RgIHBhcmFtIHdhcyBwcm92aWRlZCwgaXQgaXMgcmV0dXJuZWQuIElmIG5vdCwgZWl0aGVyIGEgbmV3IHJlY3RhbmdsZSB3aXRoIHRoZSBwYWRkaW5nIHZhbHVlcywgb3IgbnVsbCBpZiBubyBwYWRkaW5nIGlzIHJlcXVpcmVkIGZvciB0aGlzIGZpbHRlci5cblx0ICoqL1xuXHRwLmdldEJvdW5kcyA9IGZ1bmN0aW9uKHJlY3QpIHtcblx0XHRyZXR1cm4gcmVjdDtcblx0fTtcblxuXHQvKipcblx0ICogQXNzaWduIGFueSB1bmlxdWUgdW5pZm9ybXMgb3Igb3RoZXIgc2V0dXAgZnVuY3Rpb25hbGl0eSBoZXJlLlxuXHQgKiBAbWV0aG9kIHNoYWRlclBhcmFtU2V0dXBcblx0ICogQHZpcnR1YWxcblx0ICogQHBhcmFtIHtXZWJHTENvbnRleHR9IGdsIFRoZSBjb250ZXh0IGFzc29jaWF0ZWQgd2l0aCB0aGUgc3RhZ2UgcGVyZm9ybWluZyB0aGUgcmVuZGVyLlxuXHQgKiBAcGFyYW0ge1N0YWdlR0x9IHN0YWdlIFRoZSBzdGFnZSBpbnN0YW5jZSB0aGF0IHdpbGwgYmUgcmVuZGVyaW5nLlxuXHQgKiBAcGFyYW0ge1NoYWRlclByb2dyYW19IHNoYWRlclByb2dyYW0gVGhlIGNvbXBpbGVkIHNoYWRlciB0aGF0IGlzIGdvaW5nIHRvIGJlIHVzZWQgdG8gcGVyZm9ybSB0aGUgcmVuZGVyLlxuXHQgKi9cblx0cC5zaGFkZXJQYXJhbVNldHVwID0gZnVuY3Rpb24oZ2wsIHN0YWdlLCBzaGFkZXJQcm9ncmFtKSB7fTtcblxuXHQvKipcblx0ICogQXBwbGllcyB0aGUgZmlsdGVyIHRvIHRoZSBzcGVjaWZpZWQgY29udGV4dC5cblx0ICogQG1ldGhvZCBhcHBseUZpbHRlclxuXHQgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY3R4IFRoZSAyRCBjb250ZXh0IHRvIHVzZSBhcyB0aGUgc291cmNlLlxuXHQgKiBAcGFyYW0ge051bWJlcn0geCBUaGUgeCBwb3NpdGlvbiB0byB1c2UgZm9yIHRoZSBzb3VyY2UgcmVjdC5cblx0ICogQHBhcmFtIHtOdW1iZXJ9IHkgVGhlIHkgcG9zaXRpb24gdG8gdXNlIGZvciB0aGUgc291cmNlIHJlY3QuXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB3aWR0aCBUaGUgd2lkdGggdG8gdXNlIGZvciB0aGUgc291cmNlIHJlY3QuXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBoZWlnaHQgVGhlIGhlaWdodCB0byB1c2UgZm9yIHRoZSBzb3VyY2UgcmVjdC5cblx0ICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IFt0YXJnZXRDdHhdIFRoZSAyRCBjb250ZXh0IHRvIGRyYXcgdGhlIHJlc3VsdCB0by4gRGVmYXVsdHMgdG8gdGhlIGNvbnRleHQgcGFzc2VkIHRvIGN0eC5cblx0ICogQHBhcmFtIHtOdW1iZXJ9IFt0YXJnZXRYXSBUaGUgeCBwb3NpdGlvbiB0byBkcmF3IHRoZSByZXN1bHQgdG8uIERlZmF1bHRzIHRvIHRoZSB2YWx1ZSBwYXNzZWQgdG8geC5cblx0ICogQHBhcmFtIHtOdW1iZXJ9IFt0YXJnZXRZXSBUaGUgeSBwb3NpdGlvbiB0byBkcmF3IHRoZSByZXN1bHQgdG8uIERlZmF1bHRzIHRvIHRoZSB2YWx1ZSBwYXNzZWQgdG8geS5cblx0ICogQHJldHVybiB7Qm9vbGVhbn0gSWYgdGhlIGZpbHRlciB3YXMgYXBwbGllZCBzdWNjZXNzZnVsbHkuXG5cdCAqKi9cblx0cC5hcHBseUZpbHRlciA9IGZ1bmN0aW9uKGN0eCwgeCwgeSwgd2lkdGgsIGhlaWdodCwgdGFyZ2V0Q3R4LCB0YXJnZXRYLCB0YXJnZXRZKSB7XG5cdFx0Ly8gdGhpcyBpcyB0aGUgZGVmYXVsdCBiZWhhdmlvdXIgYmVjYXVzZSBtb3N0IGZpbHRlcnMgYWNjZXNzIHBpeGVsIGRhdGEuIEl0IGlzIG92ZXJyaWRkZW4gd2hlbiBub3QgbmVlZGVkLlxuXHRcdHRhcmdldEN0eCA9IHRhcmdldEN0eCB8fCBjdHg7XG5cdFx0aWYgKHRhcmdldFggPT0gbnVsbCkgeyB0YXJnZXRYID0geDsgfVxuXHRcdGlmICh0YXJnZXRZID09IG51bGwpIHsgdGFyZ2V0WSA9IHk7IH1cblx0XHR0cnkge1xuXHRcdFx0dmFyIGltYWdlRGF0YSA9IGN0eC5nZXRJbWFnZURhdGEoeCwgeSwgd2lkdGgsIGhlaWdodCk7XG5cdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblx0XHRpZiAodGhpcy5fYXBwbHlGaWx0ZXIoaW1hZ2VEYXRhKSkge1xuXHRcdFx0dGFyZ2V0Q3R4LnB1dEltYWdlRGF0YShpbWFnZURhdGEsIHRhcmdldFgsIHRhcmdldFkpO1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXHRcdHJldHVybiBmYWxzZTtcblx0fTtcblxuXHQvKipcblx0ICogUmV0dXJucyBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGlzIG9iamVjdC5cblx0ICogQG1ldGhvZCB0b1N0cmluZ1xuXHQgKiBAcmV0dXJuIHtTdHJpbmd9IGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBpbnN0YW5jZS5cblx0ICoqL1xuXHRwLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIFwiW0ZpbHRlcl1cIjtcblx0fTtcblxuXHQvKipcblx0ICogUmV0dXJucyBhIGNsb25lIG9mIHRoaXMgRmlsdGVyIGluc3RhbmNlLlxuXHQgKiBAbWV0aG9kIGNsb25lXG5cdCAqIEByZXR1cm4ge0ZpbHRlcn0gQSBjbG9uZSBvZiB0aGUgY3VycmVudCBGaWx0ZXIgaW5zdGFuY2UuXG5cdCAqKi9cblx0cC5jbG9uZSA9IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBuZXcgRmlsdGVyKCk7XG5cdH07XG5cdFxuLy8gcHJpdmF0ZSBtZXRob2RzOlxuXHQvKipcblx0ICogQG1ldGhvZCBfYXBwbHlGaWx0ZXJcblx0ICogQHBhcmFtIHtJbWFnZURhdGF9IGltYWdlRGF0YSBUYXJnZXQgSW1hZ2VEYXRhIGluc3RhbmNlLlxuXHQgKiBAcmV0dXJuIHtCb29sZWFufVxuXHQgKiovXG5cdHAuX2FwcGx5RmlsdGVyID0gZnVuY3Rpb24oaW1hZ2VEYXRhKSB7IHJldHVybiB0cnVlOyB9O1xuXG5cblx0Y3JlYXRlanMuRmlsdGVyID0gRmlsdGVyO1xufSgpKTtcblxuLy8jIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyNcbi8vIEJpdG1hcENhY2hlLmpzXG4vLyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI1xuXG4oZnVuY3Rpb24oKSB7XG5cdFwidXNlIHN0cmljdFwiO1xuXG5cbi8vIGNvbnN0cnVjdG9yOlxuXHQvKipcblx0ICogVGhlIEJpdG1hcENhY2hlIGlzIGFuIGludGVybmFsIHJlcHJlc2VudGF0aW9uIG9mIGFsbCB0aGUgY2FjaGUgcHJvcGVydGllcyBhbmQgbG9naWMgcmVxdWlyZWQgaW4gb3JkZXIgdG8gXCJjYWNoZVwiXG5cdCAqIGFuIG9iamVjdC4gVGhpcyBpbmZvcm1hdGlvbiBhbmQgZnVuY3Rpb25hbGl0eSB1c2VkIHRvIGJlIGxvY2F0ZWQgb24gYSB7eyNjcm9zc0xpbmsgXCJEaXNwbGF5T2JqZWN0L2NhY2hlXCJ9fXt7L2Nyb3NzTGlua319XG5cdCAqIG1ldGhvZCBpbiB7eyNjcm9zc0xpbmsgXCJEaXNwbGF5T2JqZWN0XCJ9fXt7L2Nyb3NzTGlua319LCBidXQgd2FzIG1vdmVkIHRvIGl0cyBvd24gY2xhc3MuXG5cdCAqXG5cdCAqIENhY2hpbmcgaW4gdGhpcyBjb250ZXh0IGlzIHB1cmVseSB2aXN1YWwsIGFuZCB3aWxsIHJlbmRlciB0aGUgRGlzcGxheU9iamVjdCBvdXQgaW50byBhbiBpbWFnZSB0byBiZSB1c2VkIGluc3RlYWRcblx0ICogb2YgdGhlIG9iamVjdC4gVGhlIGFjdHVhbCBjYWNoZSBpdHNlbGYgaXMgc3RpbGwgc3RvcmVkIG9uIHRoZSB0YXJnZXQgd2l0aCB0aGUge3sjY3Jvc3NMaW5rIFwiRGlzcGxheU9iamVjdC9jYWNoZUNhbnZhczpwcm9wZXJ0eVwifX17ey9jcm9zc0xpbmt9fS5cblx0ICogV29ya2luZyB3aXRoIGEgc2luZ3VsYXIgaW1hZ2UgbGlrZSBhIHt7I2Nyb3NzTGluayBcIkJpdG1hcFwifX17ey9jcm9zc0xpbmt9fSB0aGVyZSBpcyBsaXR0bGUgYmVuZWZpdCB0byBwZXJmb3JtaW5nIFxuXHQgKiBhIGNhY2hlIGFzIGl0IGlzIGFscmVhZHkgYSBzaW5nbGUgaW1hZ2UuIENhY2hpbmcgaXMgYmVzdCBkb25lIG9uIGNvbnRhaW5lcnMgY29udGFpbmluZyBtdWx0aXBsZSBjb21wbGV4IHBhcnRzIHRoYXQgXG5cdCAqIGRvIG5vdCBtb3ZlIG9mdGVuLCBzbyB0aGF0IHJlbmRlcmluZyB0aGUgaW1hZ2UgaW5zdGVhZCB3aWxsIGltcHJvdmUgb3ZlcmFsbCByZW5kZXJpbmcgc3BlZWQuIEEgY2FjaGVkIG9iamVjdCB3aWxsIFxuXHQgKiBub3QgdmlzdWFsbHkgdXBkYXRlIHVudGlsIGV4cGxpY2l0bHkgdG9sZCB0byBkbyBzbyB3aXRoIGEgY2FsbCB0byB1cGRhdGUsIG11Y2ggbGlrZSBhIFN0YWdlLiBJZiBhIGNhY2hlIGlzIGJlaW5nIFxuXHQgKiB1cGRhdGVkIGV2ZXJ5IGZyYW1lIGl0IGlzIGxpa2VseSBub3QgaW1wcm92aW5nIHJlbmRlcmluZyBwZXJmb3JtYW5jZS4gQ2FjaGUgYXJlIGJlc3QgdXNlZCB3aGVuIHVwZGF0ZXMgd2lsbCBiZSBzcGFyc2UuXG5cdCAqXG5cdCAqIENhY2hpbmcgaXMgYWxzbyBhIGNvLXJlcXVpc2l0ZSBmb3IgYXBwbHlpbmcgZmlsdGVycyB0byBwcmV2ZW50IGV4cGVuc2l2ZSBmaWx0ZXJzIHJ1bm5pbmcgY29uc3RhbnRseSB3aXRob3V0IG5lZWQsIFxuXHQgKiBhbmQgdG8gcGh5c2ljYWxseSBlbmFibGUgc29tZSBlZmZlY3RzLiBUaGUgQml0bWFwQ2FjaGUgaXMgYWxzbyByZXNwb25zaWJsZSBmb3IgYXBwbHlpbmcgZmlsdGVycyB0byBvYmplY3RzIGFuZCBcblx0ICogcmVhZHMgZWFjaCB7eyNjcm9zc0xpbmsgXCJGaWx0ZXJcIn19e3svY3Jvc3NMaW5rfX0gZHVlIHRvIHRoaXMgcmVsYXRpb25zaGlwLiBSZWFsLXRpbWUgRmlsdGVycyBhcmUgbm90IHJlY29tbWVuZGVkIFxuXHQgKiBwZXJmb3JtYW5jZSB3aXNlIHdoZW4gZGVhbGluZyB3aXRoIGEgQ29udGV4dDJEIGNhbnZhcy4gRm9yIGJlc3QgcGVyZm9ybWFuY2UgYW5kIHRvIHN0aWxsIGFsbG93IGZvciBzb21lIHZpc3VhbCBcblx0ICogZWZmZWN0cyB1c2UgYSBjb21wb3NpdGVPcGVyYXRpb24gd2hlbiBwb3NzaWJsZS5cblx0ICogQGNsYXNzIEJpdG1hcENhY2hlXG5cdCAqIEBjb25zdHJ1Y3RvclxuXHQgKiovXG5cdGZ1bmN0aW9uIEJpdG1hcENhY2hlKCkge1xuXG5cdFx0Ly8gcHVibGljOlxuXHRcdC8qKlxuXHRcdCAqIFdpZHRoIG9mIHRoZSBjYWNoZSByZWxhdGl2ZSB0byB0aGUgdGFyZ2V0IG9iamVjdC5cblx0XHQgKiBAcHJvcGVydHkgd2lkdGhcblx0XHQgKiBAcHJvdGVjdGVkXG5cdFx0ICogQHR5cGUge051bWJlcn1cblx0XHQgKiBAZGVmYXVsdCB1bmRlZmluZWRcblx0XHQgKiovXG5cdFx0dGhpcy53aWR0aCA9IHVuZGVmaW5lZDtcblxuXHRcdC8qKlxuXHRcdCAqIEhlaWdodCBvZiB0aGUgY2FjaGUgcmVsYXRpdmUgdG8gdGhlIHRhcmdldCBvYmplY3QuXG5cdFx0ICogQHByb3BlcnR5IGhlaWdodFxuXHRcdCAqIEBwcm90ZWN0ZWRcblx0XHQgKiBAdHlwZSB7TnVtYmVyfVxuXHRcdCAqIEBkZWZhdWx0IHVuZGVmaW5lZFxuXHRcdCAqIEB0b2RvIFNob3VsZCB0aGUgd2lkdGggYW5kIGhlaWdodCBiZSBwcm90ZWN0ZWQ/XG5cdFx0ICoqL1xuXHRcdHRoaXMuaGVpZ2h0ID0gdW5kZWZpbmVkO1xuXG5cdFx0LyoqXG5cdFx0ICogSG9yaXpvbnRhbCBwb3NpdGlvbiBvZiB0aGUgY2FjaGUgcmVsYXRpdmUgdG8gdGhlIHRhcmdldCdzIG9yaWdpbi5cblx0XHQgKiBAcHJvcGVydHkgeFxuXHRcdCAqIEBwcm90ZWN0ZWRcblx0XHQgKiBAdHlwZSB7TnVtYmVyfVxuXHRcdCAqIEBkZWZhdWx0IHVuZGVmaW5lZFxuXHRcdCAqKi9cblx0XHR0aGlzLnggPSB1bmRlZmluZWQ7XG5cblx0XHQvKipcblx0XHQgKiBWZXJ0aWNhbCBwb3NpdGlvbiBvZiB0aGUgY2FjaGUgcmVsYXRpdmUgdG8gdGFyZ2V0J3Mgb3JpZ2luLlxuXHRcdCAqIEBwcm9wZXJ0eSB5XG5cdFx0ICogQHByb3RlY3RlZFxuXHRcdCAqIEB0eXBlIHtOdW1iZXJ9XG5cdFx0ICogQGRlZmF1bHQgdW5kZWZpbmVkXG5cdFx0ICoqL1xuXHRcdHRoaXMueSA9IHVuZGVmaW5lZDtcblxuXHRcdC8qKlxuXHRcdCAqIFRoZSBpbnRlcm5hbCBzY2FsZSBvZiB0aGUgY2FjaGUgaW1hZ2UsIGRvZXMgbm90IGFmZmVjdHMgZGlzcGxheSBzaXplLiBUaGlzIGlzIHVzZWZ1bCB0byBib3RoIGluY3JlYXNlIGFuZFxuXHRcdCAqIGRlY3JlYXNlIHJlbmRlciBxdWFsaXR5LiBPYmplY3RzIHdpdGggaW5jcmVhc2VkIHNjYWxlcyBhcmUgbW9yZSBsaWtlbHkgdG8gbG9vayBnb29kIHdoZW4gc2NhbGVkIHVwIG9yIHJvdGF0ZWQuXG5cdFx0ICogT2JqZWN0cyB3aXRoIGRlY3JlYXNlZCBzY2FsZXMgY2FuIHNhdmUgb24gcmVuZGVyaW5nIHBlcmZvcm1hbmNlLlxuXHRcdCAqIEBwcm9wZXJ0eSBzY2FsZVxuXHRcdCAqIEBwcm90ZWN0ZWRcblx0XHQgKiBAdHlwZSB7TnVtYmVyfVxuXHRcdCAqIEBkZWZhdWx0IDFcblx0XHQgKiovXG5cdFx0dGhpcy5zY2FsZSA9IDE7XG5cblx0XHQvKipcblx0XHQgKiBUaGUgeCBvZmZzZXQgdXNlZCBmb3IgZHJhd2luZyBpbnRvIHRoZSBjYWNoZSBpdHNlbGYsIGFjY291bnRzIGZvciBib3RoIHRyYW5zZm9ybXMgYXBwbGllZC5cblx0XHQgKiBAcHJvcGVydHkgb2ZmWFxuXHRcdCAqIEBwcm90ZWN0ZWRcblx0XHQgKiBAdHlwZSB7TnVtYmVyfVxuXHRcdCAqIEBkZWZhdWx0IDBcblx0XHQgKiovXG5cdFx0dGhpcy5vZmZYID0gMDtcblxuXHRcdC8qKlxuXHRcdCAqIFRoZSB5IG9mZnNldCB1c2VkIGZvciBkcmF3aW5nIGludG8gdGhlIGNhY2hlIGl0c2VsZiwgYWNjb3VudHMgZm9yIGJvdGggdHJhbnNmb3JtcyBhcHBsaWVkLlxuXHRcdCAqIEBwcm9wZXJ0eSBvZmZZXG5cdFx0ICogQHByb3RlY3RlZFxuXHRcdCAqIEB0eXBlIHtOdW1iZXJ9XG5cdFx0ICogQGRlZmF1bHQgMFxuXHRcdCAqKi9cblx0XHR0aGlzLm9mZlkgPSAwO1xuXG5cdFx0LyoqXG5cdFx0ICogVHJhY2sgaG93IG1hbnkgdGltZXMgdGhlIGNhY2hlIGhhcyBiZWVuIHVwZGF0ZWQsIG1vc3RseSB1c2VkIGZvciBwcmV2ZW50aW5nIGR1cGxpY2F0ZSBjYWNoZVVSTHMuXG5cdFx0ICogVGhpcyBjYW4gYmUgdXNlZnVsIHRvIHNlZSBpZiBhIGNhY2hlIGhhcyBiZWVuIHVwZGF0ZWQuXG5cdFx0ICogQHByb3BlcnR5IGNhY2hlSURcblx0XHQgKiBAdHlwZSB7TnVtYmVyfVxuXHRcdCAqIEBkZWZhdWx0IDBcblx0XHQgKiovXG5cdFx0dGhpcy5jYWNoZUlEID0gMDtcblxuXHRcdC8vIHByb3RlY3RlZDpcblx0XHQvKipcblx0XHQgKiBUaGUgcmVsYXRpdmUgb2Zmc2V0IG9mIHRoZSBmaWx0ZXIncyB4IHBvc2l0aW9uLCB1c2VkIGZvciBkcmF3aW5nIHRoZSBjYWNoZSBvbnRvIGl0cyBjb250YWluZXIuXG5cdFx0ICogUmUtY2FsY3VsYXRlZCBldmVyeSB1cGRhdGUgY2FsbCBiZWZvcmUgZHJhd2luZy5cblx0XHQgKiBAcHJvcGVydHkgX2ZpbHRlck9mZllcblx0XHQgKiBAcHJvdGVjdGVkXG5cdFx0ICogQHR5cGUge051bWJlcn1cblx0XHQgKiBAZGVmYXVsdCAwXG5cdFx0ICoqL1xuXHRcdHRoaXMuX2ZpbHRlck9mZlggPSAwO1xuXG5cdFx0LyoqXG5cdFx0ICogVGhlIHJlbGF0aXZlIG9mZnNldCBvZiB0aGUgZmlsdGVyJ3MgeSBwb3NpdGlvbiwgdXNlZCBmb3IgZHJhd2luZyB0aGUgY2FjaGUgb250byBpdHMgY29udGFpbmVyLlxuXHRcdCAqIFJlLWNhbGN1bGF0ZWQgZXZlcnkgdXBkYXRlIGNhbGwgYmVmb3JlIGRyYXdpbmcuXG5cdFx0ICogQHByb3BlcnR5IF9maWx0ZXJPZmZZXG5cdFx0ICogQHByb3RlY3RlZFxuXHRcdCAqIEB0eXBlIHtOdW1iZXJ9XG5cdFx0ICogQGRlZmF1bHQgMFxuXHRcdCAqKi9cblx0XHR0aGlzLl9maWx0ZXJPZmZZID0gMDtcblxuXHRcdC8qKlxuXHRcdCAqIFRoZSBjYWNoZUlEIHdoZW4gYSBEYXRhVVJMIHdhcyByZXF1ZXN0ZWQuXG5cdFx0ICogQHByb3BlcnR5IF9jYWNoZURhdGFVUkxJRFxuXHRcdCAqIEBwcm90ZWN0ZWRcblx0XHQgKiBAdHlwZSB7TnVtYmVyfVxuXHRcdCAqIEBkZWZhdWx0IDBcblx0XHQgKiovXG5cdFx0dGhpcy5fY2FjaGVEYXRhVVJMSUQgPSAwO1xuXG5cdFx0LyoqXG5cdFx0ICogVGhlIGNhY2hlJ3MgRGF0YVVSTCwgZ2VuZXJhdGVkIG9uLWRlbWFuZCB1c2luZyB0aGUgZ2V0dGVyLlxuXHRcdCAqIEBwcm9wZXJ0eSBfY2FjaGVEYXRhVVJMXG5cdFx0ICogQHByb3RlY3RlZFxuXHRcdCAqIEB0eXBlIHtTdHJpbmd9XG5cdFx0ICogQGRlZmF1bHQgbnVsbFxuXHRcdCAqKi9cblx0XHR0aGlzLl9jYWNoZURhdGFVUkwgPSBudWxsO1xuXG5cdFx0LyoqXG5cdFx0ICogSW50ZXJuYWwgdHJhY2tpbmcgb2YgZmluYWwgYm91bmRpbmcgd2lkdGgsIGFwcHJveGltYXRlbHkgd2lkdGgqc2NhbGU7IGhvd2V2ZXIsIGZpbHRlcnMgY2FuIGNvbXBsaWNhdGUgdGhlIGFjdHVhbCB2YWx1ZS5cblx0XHQgKiBAcHJvcGVydHkgX2RyYXdXaWR0aFxuXHRcdCAqIEBwcm90ZWN0ZWRcblx0XHQgKiBAdHlwZSB7TnVtYmVyfVxuXHRcdCAqIEBkZWZhdWx0IDBcblx0XHQgKiovXG5cdFx0dGhpcy5fZHJhd1dpZHRoID0gMDtcblxuXHRcdC8qKlxuXHRcdCAqIEludGVybmFsIHRyYWNraW5nIG9mIGZpbmFsIGJvdW5kaW5nIGhlaWdodCwgYXBwcm94aW1hdGVseSBoZWlnaHQqc2NhbGU7IGhvd2V2ZXIsIGZpbHRlcnMgY2FuIGNvbXBsaWNhdGUgdGhlIGFjdHVhbCB2YWx1ZS5cblx0XHQgKiBAcHJvcGVydHkgX2RyYXdIZWlnaHRcblx0XHQgKiBAcHJvdGVjdGVkXG5cdFx0ICogQHR5cGUge051bWJlcn1cblx0XHQgKiBAZGVmYXVsdCAwXG5cdFx0ICoqL1xuXHRcdHRoaXMuX2RyYXdIZWlnaHQgPSAwO1xuXHR9XG5cdHZhciBwID0gQml0bWFwQ2FjaGUucHJvdG90eXBlO1xuXG5cdC8qKlxuXHQgKiBSZXR1cm5zIHRoZSBib3VuZHMgdGhhdCBzdXJyb3VuZCBhbGwgYXBwbGllZCBmaWx0ZXJzLCByZWxpZXMgb24gZWFjaCBmaWx0ZXIgdG8gZGVzY3JpYmUgaG93IGl0IGNoYW5nZXMgYm91bmRzLlxuXHQgKiBAbWV0aG9kIGdldEZpbHRlckJvdW5kc1xuXHQgKiBAcGFyYW0ge0Rpc3BsYXlPYmplY3R9IHRhcmdldCBUaGUgb2JqZWN0IHRvIGNoZWNrIHRoZSBmaWx0ZXIgYm91bmRzIGZvci5cblx0ICogQHBhcmFtIHtSZWN0YW5nbGV9IFtvdXRwdXQ9bnVsbF0gT3B0aW9uYWwgcGFyYW1ldGVyLCBpZiBwcm92aWRlZCB0aGVuIGNhbGN1bGF0ZWQgYm91bmRzIHdpbGwgYmUgYXBwbGllZCB0byB0aGF0IG9iamVjdC5cblx0ICogQHJldHVybiB7UmVjdGFuZ2xlfSBib3VuZHMgb2JqZWN0IHJlcHJlc2VudGluZyB0aGUgYm91bmRzIHdpdGggZmlsdGVycy5cblx0ICogQHN0YXRpY1xuXHQgKiovXG5cdEJpdG1hcENhY2hlLmdldEZpbHRlckJvdW5kcyA9IGZ1bmN0aW9uKHRhcmdldCwgb3V0cHV0KSB7XG5cdFx0aWYoIW91dHB1dCl7IG91dHB1dCA9IG5ldyBjcmVhdGVqcy5SZWN0YW5nbGUoKTsgfVxuXHRcdHZhciBmaWx0ZXJzID0gdGFyZ2V0LmZpbHRlcnM7XG5cdFx0dmFyIGZpbHRlckNvdW50ID0gZmlsdGVycyAmJiBmaWx0ZXJzLmxlbmd0aDtcblx0XHRpZiAoISFmaWx0ZXJDb3VudCA8PSAwKSB7IHJldHVybiBvdXRwdXQ7IH1cblxuXHRcdGZvcih2YXIgaT0wOyBpPGZpbHRlckNvdW50OyBpKyspIHtcblx0XHRcdHZhciBmID0gZmlsdGVyc1tpXTtcblx0XHRcdGlmKCFmIHx8ICFmLmdldEJvdW5kcyl7IGNvbnRpbnVlOyB9XG5cdFx0XHR2YXIgdGVzdCA9IGYuZ2V0Qm91bmRzKCk7XG5cdFx0XHRpZighdGVzdCl7IGNvbnRpbnVlOyB9XG5cdFx0XHRpZihpPT0wKSB7XG5cdFx0XHRcdG91dHB1dC5zZXRWYWx1ZXModGVzdC54LCB0ZXN0LnksIHRlc3Qud2lkdGgsIHRlc3QuaGVpZ2h0KTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdG91dHB1dC5leHRlbmQodGVzdC54LCB0ZXN0LnksIHRlc3Qud2lkdGgsIHRlc3QuaGVpZ2h0KTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gb3V0cHV0O1xuXHR9O1xuXG4vLyBwdWJsaWMgbWV0aG9kczpcblx0LyoqXG5cdCAqIFJldHVybnMgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhpcyBvYmplY3QuXG5cdCAqIEBtZXRob2QgdG9TdHJpbmdcblx0ICogQHJldHVybiB7U3RyaW5nfSBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgaW5zdGFuY2UuXG5cdCAqKi9cblx0cC50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBcIltCaXRtYXBDYWNoZV1cIjtcblx0fTtcblxuXHQvKipcblx0ICogQWN0dWFsbHkgY3JlYXRlIHRoZSBjb3JyZWN0IGNhY2hlIHN1cmZhY2UgYW5kIHByb3BlcnRpZXMgYXNzb2NpYXRlZCB3aXRoIGl0LiBDYWNoaW5nIGFuZCBpdCdzIGJlbmVmaXRzIGFyZSBkaXNjdXNzZWRcblx0ICogYnkgdGhlIHt7I2Nyb3NzTGluayBcIkRpc3BsYXlPYmplY3QvY2FjaGVcIn19e3svY3Jvc3NMaW5rfX0gZnVuY3Rpb24gYW5kIHRoaXMgY2xhc3MgZGVzY3JpcHRpb24uIEhlcmUgYXJlIHRoZSBkZXRhaWxlZFxuXHQgKiBzcGVjaWZpY3Mgb2YgaG93IHRvIHVzZSB0aGUgb3B0aW9ucyBvYmplY3QuXG5cdCAqXG5cdCAqIC0gSWYgb3B0aW9ucy51c2VHTCBpcyBzZXQgdG8gXCJuZXdcIiBhIFN0YWdlR0wgaXMgY3JlYXRlZCBhbmQgY29udGFpbmVkIG9uIHRoaXMgZm9yIHVzZSB3aGVuIHJlbmRlcmluZyB0aGUgY2FjaGUuXG5cdCAqIC0gSWYgb3B0aW9ucy51c2VHTCBpcyBzZXQgdG8gXCJzdGFnZVwiIGlmIHRoZSBjdXJyZW50IHN0YWdlIGlzIGEgU3RhZ2VHTCBpdCB3aWxsIGJlIHVzZWQuIElmIG5vdCB0aGVuIGl0IHdpbGwgZGVmYXVsdCB0byBcIm5ld1wiLlxuXHQgKiAtIElmIG9wdGlvbnMudXNlR0wgaXMgYSBTdGFnZUdMIGluc3RhbmNlIGl0IHdpbGwgbm90IGNyZWF0ZSBvbmUgYnV0IHVzZSB0aGUgb25lIHByb3ZpZGVkLlxuXHQgKiAtIElmIG9wdGlvbnMudXNlR0wgaXMgdW5kZWZpbmVkIGEgQ29udGV4dCAyRCBjYWNoZSB3aWxsIGJlIHBlcmZvcm1lZC5cblx0ICpcblx0ICogVGhpcyBtZWFucyB5b3UgY2FuIHVzZSBhbnkgY29tYmluYXRpb24gb2YgU3RhZ2VHTCBhbmQgMkQgd2l0aCBlaXRoZXIsIG5laXRoZXIsIG9yIGJvdGggdGhlIHN0YWdlIGFuZCBjYWNoZSBiZWluZ1xuXHQgKiBXZWJHTC4gVXNpbmcgXCJuZXdcIiB3aXRoIGEgU3RhZ2VHTCBkaXNwbGF5IGxpc3QgaXMgaGlnaGx5IHVucmVjb21tZW5kZWQsIGJ1dCBzdGlsbCBhbiBvcHRpb24uIEl0IHNob3VsZCBiZSBhdm9pZGVkXG5cdCAqIGR1ZSB0byBuZWdhdGl2ZSBwZXJmb3JtYW5jZSByZWFzb25zIGFuZCB0aGUgSW1hZ2UgbG9hZGluZyBsaW1pdGF0aW9uIG5vdGVkIGluIHRoZSBjbGFzcyBjb21wbGljYXRpb25zIGFib3ZlLlxuXHQgKlxuXHQgKiBXaGVuIFwib3B0aW9ucy51c2VHTFwiIGlzIHNldCB0byB0aGUgcGFyZW50IHN0YWdlIG9mIHRoZSB0YXJnZXQgYW5kIFdlYkdMLCBwZXJmb3JtYW5jZSBpcyBpbmNyZWFzZWQgYnkgdXNpbmdcblx0ICogXCJSZW5kZXJUZXh0dXJlc1wiIGluc3RlYWQgb2YgY2FudmFzIGVsZW1lbnRzLiBUaGVzZSBhcmUgaW50ZXJuYWwgVGV4dHVyZXMgb24gdGhlIGdyYXBoaWNzIGNhcmQgc3RvcmVkIGluIHRoZSBHUFUuXG5cdCAqIEJlY2F1c2UgdGhleSBhcmUgbm8gbG9uZ2VyIGNhbnZhc2VzIHlvdSBjYW5ub3QgcGVyZm9ybSBvcGVyYXRpb25zIHlvdSBjb3VsZCB3aXRoIGEgcmVndWxhciBjYW52YXMuIFRoZSBiZW5lZml0XG5cdCAqIGlzIHRoYXQgdGhpcyBhdm9pZHMgdGhlIHNsb3dkb3duIG9mIGNvcHlpbmcgdGhlIHRleHR1cmUgYmFjayBhbmQgZm9ydGggZnJvbSB0aGUgR1BVIHRvIGEgQ2FudmFzIGVsZW1lbnQuXG5cdCAqIFRoaXMgbWVhbnMgXCJzdGFnZVwiIGlzIHRoZSByZWNvbW1lbmRlZCBvcHRpb24gd2hlbiBhdmFpbGFibGUuXG5cdCAqXG5cdCAqIEEgU3RhZ2VHTCBjYWNoZSBkb2VzIG5vdCBpbmZlciB0aGUgYWJpbGl0eSB0byBkcmF3IG9iamVjdHMgYSBTdGFnZUdMIGNhbm5vdCBjdXJyZW50bHkgZHJhdywgaS5lLiBkbyBub3QgdXNlIGFcblx0ICogV2ViR0wgY29udGV4dCBjYWNoZSB3aGVuIGNhY2hpbmcgYSBTaGFwZSwgVGV4dCwgZXRjLlxuXHQgKiA8aDQ+V2ViR0wgY2FjaGUgd2l0aCBhIDJEIGNvbnRleHQ8L2g0PlxuXHQgKlxuXHQgKiAgICAgdmFyIHN0YWdlID0gbmV3IGNyZWF0ZWpzLlN0YWdlKCk7XG5cdCAqICAgICB2YXIgYm1wID0gbmV3IGNyZWF0ZWpzLkJpdG1hcChzcmMpO1xuXHQgKiAgICAgYm1wLmNhY2hlKDAsIDAsIGJtcC53aWR0aCwgYm1wLmhlaWdodCwgMSwge2dsOiBcIm5ld1wifSk7ICAgICAgICAgIC8vIG5vIFN0YWdlR0wgdG8gdXNlLCBzbyBtYWtlIG9uZVxuXHQgKlxuXHQgKiAgICAgdmFyIHNoYXBlID0gbmV3IGNyZWF0ZWpzLlNoYXBlKCk7XG5cdCAqICAgICBzaGFwZS5ncmFwaGljcy5jbGVhcigpLmZpbGwoXCJyZWRcIikuZHJhd1JlY3QoMCwwLDIwLDIwKTtcblx0ICogICAgIHNoYXBlLmNhY2hlKDAsIDAsIDIwLCAyMCwgMSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjYW5ub3QgdXNlIFdlYkdMIGNhY2hlXG5cdCAqXG5cdCAqIDxoND5XZWJHTCBjYWNoZSB3aXRoIGEgV2ViR0wgY29udGV4dDwvaDQ+XG5cdCAqXG5cdCAqICAgICB2YXIgc3RhZ2VHTCA9IG5ldyBjcmVhdGVqcy5TdGFnZUdMKCk7XG5cdCAqICAgICB2YXIgYm1wID0gbmV3IGNyZWF0ZWpzLkJpdG1hcChzcmMpO1xuXHQgKiAgICAgYm1wLmNhY2hlKDAsIDAsIGJtcC53aWR0aCwgYm1wLmhlaWdodCwgMSwge2dsOiBcInN0YWdlXCJ9KTsgICAgICAgLy8gdXNlIG91ciBTdGFnZUdMIHRvIGNhY2hlXG5cdCAqXG5cdCAqICAgICB2YXIgc2hhcGUgPSBuZXcgY3JlYXRlanMuU2hhcGUoKTtcblx0ICogICAgIHNoYXBlLmdyYXBoaWNzLmNsZWFyKCkuZmlsbChcInJlZFwiKS5kcmF3UmVjdCgwLDAsMjAsMjApO1xuXHQgKiAgICAgc2hhcGUuY2FjaGUoMCwgMCwgMjAsIDIwLCAxKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNhbm5vdCB1c2UgV2ViR0wgY2FjaGVcblx0ICpcblx0ICogWW91IG1heSB3aXNoIHRvIGNyZWF0ZSB5b3VyIG93biBTdGFnZUdMIGluc3RhbmNlIHRvIGNvbnRyb2wgZmFjdG9ycyBsaWtlIGNsZWFyIGNvbG9yLCB0cmFuc3BhcmVuY3ksIEFBLCBhbmRcblx0ICogb3RoZXJzLiBJZiB5b3UgZG8sIHBhc3MgYSBuZXcgaW5zdGFuY2UgaW4gaW5zdGVhZCBvZiBcInRydWVcIiwgdGhlIGxpYnJhcnkgd2lsbCBhdXRvbWF0aWNhbGx5IHNldCB0aGVcblx0ICoge3sjY3Jvc3NMaW5rIFwiU3RhZ2VHTC9pc0NhY2hlQ29udHJvbGxlZFwifX17ey9jcm9zc0xpbmt9fSB0byB0cnVlIG9uIHlvdXIgaW5zdGFuY2UuIFRoaXMgd2lsbCB0cmlnZ2VyIGl0IHRvIGJlaGF2ZVxuXHQgKiBjb3JyZWN0bHksIGFuZCBub3QgYXNzdW1lIHlvdXIgbWFpbiBjb250ZXh0IGlzIFdlYkdMLlxuXHQgKlxuXHQgKiBAcHVibGljXG5cdCAqIEBtZXRob2QgQml0bWFwQ2FjaGUuY2FjaGVcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHggVGhlIHggY29vcmRpbmF0ZSBvcmlnaW4gZm9yIHRoZSBjYWNoZSByZWdpb24uXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB5IFRoZSB5IGNvb3JkaW5hdGUgb3JpZ2luIGZvciB0aGUgY2FjaGUgcmVnaW9uLlxuXHQgKiBAcGFyYW0ge051bWJlcn0gd2lkdGggVGhlIHdpZHRoIG9mIHRoZSBjYWNoZSByZWdpb24uXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBoZWlnaHQgVGhlIGhlaWdodCBvZiB0aGUgY2FjaGUgcmVnaW9uLlxuXHQgKiBAcGFyYW0ge051bWJlcn0gW3NjYWxlPTFdIFRoZSBzY2FsZSBhdCB3aGljaCB0aGUgY2FjaGUgd2lsbCBiZSBjcmVhdGVkLiBGb3IgZXhhbXBsZSwgaWYgeW91IGNhY2hlIGEgdmVjdG9yIHNoYXBlXG5cdCAqIHVzaW5nIG15U2hhcGUuY2FjaGUoMCwwLDEwMCwxMDAsMikgdGhlbiB0aGUgcmVzdWx0aW5nIGNhY2hlQ2FudmFzIHdpbGwgYmUgMjAweDIwMCBweC4gVGhpcyBsZXRzIHlvdSBzY2FsZSBhbmRcblx0ICogcm90YXRlIGNhY2hlZCBlbGVtZW50cyB3aXRoIGdyZWF0ZXIgZmlkZWxpdHkuIERlZmF1bHQgaXMgMS5cblx0ICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXVuZGVmaW5lZF0gU3BlY2lmeSBhZGRpdGlvbmFsIHBhcmFtZXRlcnMgZm9yIHRoZSBjYWNoZSBsb2dpY1xuXHQgKiBAcGFyYW0ge3VuZGVmaW5lZHxcIm5ld1wifFwic3RhZ2VcInxTdGFnZUdMfSBbb3B0aW9ucy51c2VHTD11bmRlZmluZWRdIFNlbGVjdCB3aGV0aGVyIHRvIHVzZSBjb250ZXh0IDJELCBvciBXZWJHTCByZW5kZXJpbmcsIGFuZFxuXHQgKiB3aGV0aGVyIHRvIG1ha2UgYSBuZXcgc3RhZ2UgaW5zdGFuY2Ugb3IgdXNlIGFuIGV4aXN0aW5nIG9uZS4gU2VlIGFib3ZlIGZvciBleHRlbnNpdmUgZGV0YWlscyBvbiB1c2UuXG5cdCAqIEBmb3IgQml0bWFwQ2FjaGVcblx0ICovXG5cdCBwLmRlZmluZSA9IGZ1bmN0aW9uKHRhcmdldCwgeCwgeSwgd2lkdGgsIGhlaWdodCwgc2NhbGUsIG9wdGlvbnMpIHtcblx0XHRpZighdGFyZ2V0KXsgdGhyb3cgXCJObyBzeW1ib2wgdG8gY2FjaGVcIjsgfVxuXHRcdHRoaXMuX29wdGlvbnMgPSBvcHRpb25zO1xuXHRcdHRoaXMudGFyZ2V0ID0gdGFyZ2V0O1xuXG5cdFx0dGhpcy53aWR0aCA9XHRcdHdpZHRoID49IDEgPyB3aWR0aCA6IDE7XG5cdFx0dGhpcy5oZWlnaHQgPVx0XHRoZWlnaHQgPj0gMSA/IGhlaWdodCA6IDE7XG5cdFx0dGhpcy54ID1cdFx0XHR4IHx8IDA7XG5cdFx0dGhpcy55ID1cdFx0XHR5IHx8IDA7XG5cdFx0dGhpcy5zY2FsZSA9XHRcdHNjYWxlIHx8IDE7XG5cblx0XHR0aGlzLnVwZGF0ZSgpO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBEaXJlY3RseSBjYWxsZWQgdmlhIHt7I2Nyb3NzTGluayBcIkRpc3BsYXlPYmplY3QvdXBkYXRlQ2FjaGU6bWV0aG9kXCJ9fXt7L2Nyb3NzTGlua319LCBidXQgYWxzbyBpbnRlcm5hbGx5LiBUaGlzXG5cdCAqIGhhcyB0aGUgZHVhbCByZXNwb25zaWJpbGl0eSBvZiBtYWtpbmcgc3VyZSB0aGUgc3VyZmFjZSBpcyByZWFkeSB0byBiZSBkcmF3biB0bywgYW5kIHBlcmZvcm1pbmcgdGhlIGRyYXcuIEZvclxuXHQgKiBmdWxsIGRldGFpbHMgb2YgZWFjaCBiZWhhdmlvdXIsIGNoZWNrIHRoZSBwcm90ZWN0ZWQgZnVuY3Rpb25zIHt7I2Nyb3NzTGluayBcIkJpdG1hcENhY2hlL191cGRhdGVTdXJmYWNlXCJ9fXt7L2Nyb3NzTGlua319XG5cdCAqIGFuZCB7eyNjcm9zc0xpbmsgXCJCaXRtYXBDYWNoZS9fZHJhd1RvQ2FjaGVcIn19e3svY3Jvc3NMaW5rfX0gcmVzcGVjdGl2ZWx5LlxuXHQgKiBAbWV0aG9kIHVwZGF0ZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gW2NvbXBvc2l0ZU9wZXJhdGlvbj1udWxsXSBUaGUgRGlzcGxheU9iamVjdCB0aGlzIGNhY2hlIGlzIGxpbmtlZCB0by5cblx0ICoqL1xuXHRwLnVwZGF0ZSA9IGZ1bmN0aW9uKGNvbXBvc2l0ZU9wZXJhdGlvbikge1xuXHRcdGlmKCF0aGlzLnRhcmdldCkgeyB0aHJvdyBcImRlZmluZSgpIG11c3QgYmUgY2FsbGVkIGJlZm9yZSB1cGRhdGUoKVwiOyB9XG5cblx0XHR2YXIgZmlsdGVyQm91bmRzID0gQml0bWFwQ2FjaGUuZ2V0RmlsdGVyQm91bmRzKHRoaXMudGFyZ2V0KTtcblx0XHR2YXIgc3VyZmFjZSA9IHRoaXMudGFyZ2V0LmNhY2hlQ2FudmFzO1xuXG5cdFx0dGhpcy5fZHJhd1dpZHRoID0gTWF0aC5jZWlsKHRoaXMud2lkdGgqdGhpcy5zY2FsZSkgKyBmaWx0ZXJCb3VuZHMud2lkdGg7XG5cdFx0dGhpcy5fZHJhd0hlaWdodCA9IE1hdGguY2VpbCh0aGlzLmhlaWdodCp0aGlzLnNjYWxlKSArIGZpbHRlckJvdW5kcy5oZWlnaHQ7XG5cblx0XHRpZighc3VyZmFjZSB8fCB0aGlzLl9kcmF3V2lkdGggIT0gc3VyZmFjZS53aWR0aCB8fCB0aGlzLl9kcmF3SGVpZ2h0ICE9IHN1cmZhY2UuaGVpZ2h0KSB7XG5cdFx0XHR0aGlzLl91cGRhdGVTdXJmYWNlKCk7XG5cdFx0fVxuXG5cdFx0dGhpcy5fZmlsdGVyT2ZmWCA9IGZpbHRlckJvdW5kcy54O1xuXHRcdHRoaXMuX2ZpbHRlck9mZlkgPSBmaWx0ZXJCb3VuZHMueTtcblx0XHR0aGlzLm9mZlggPSB0aGlzLngqdGhpcy5zY2FsZSArIHRoaXMuX2ZpbHRlck9mZlg7XG5cdFx0dGhpcy5vZmZZID0gdGhpcy55KnRoaXMuc2NhbGUgKyB0aGlzLl9maWx0ZXJPZmZZO1xuXG5cdFx0dGhpcy5fZHJhd1RvQ2FjaGUoY29tcG9zaXRlT3BlcmF0aW9uKTtcblxuXHRcdHRoaXMuY2FjaGVJRCA9IHRoaXMuY2FjaGVJRD90aGlzLmNhY2hlSUQrMToxO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBSZXNldCBhbmQgcmVsZWFzZSBhbGwgdGhlIHByb3BlcnRpZXMgYW5kIG1lbW9yeSBhc3NvY2lhdGVkIHdpdGggdGhpcyBjYWNoZS5cblx0ICogQG1ldGhvZCByZWxlYXNlXG5cdCAqKi9cblx0cC5yZWxlYXNlID0gZnVuY3Rpb24oKSB7XG5cdFx0aWYgKHRoaXMuX3dlYkdMQ2FjaGUpIHtcblx0XHRcdC8vIGlmIGl0IGlzbid0IGNhY2hlIGNvbnRyb2xsZWQgY2xlYW4gdXAgYWZ0ZXIgeW91cnNlbGZcblx0XHRcdGlmICghdGhpcy5fd2ViR0xDYWNoZS5pc0NhY2hlQ29udHJvbGxlZCkge1xuXHRcdFx0XHRpZiAodGhpcy5fX2xhc3RSVCl7IHRoaXMuX19sYXN0UlQgPSB1bmRlZmluZWQ7IH1cblx0XHRcdFx0aWYgKHRoaXMuX19ydEEpeyB0aGlzLl93ZWJHTENhY2hlLl9raWxsVGV4dHVyZU9iamVjdCh0aGlzLl9fcnRBKTsgfVxuXHRcdFx0XHRpZiAodGhpcy5fX3J0Qil7IHRoaXMuX3dlYkdMQ2FjaGUuX2tpbGxUZXh0dXJlT2JqZWN0KHRoaXMuX19ydEIpOyB9XG5cdFx0XHRcdGlmICh0aGlzLnRhcmdldCAmJiB0aGlzLnRhcmdldC5jYWNoZUNhbnZhcyl7IHRoaXMuX3dlYkdMQ2FjaGUuX2tpbGxUZXh0dXJlT2JqZWN0KHRoaXMudGFyZ2V0LmNhY2hlQ2FudmFzKTsgfVxuXHRcdFx0fVxuXHRcdFx0Ly8gc2V0IHRoZSBjb250ZXh0IHRvIG5vbmUgYW5kIGxldCB0aGUgZ2FyYmFnZSBjb2xsZWN0b3IgZ2V0IHRoZSByZXN0IHdoZW4gdGhlIGNhbnZhcyBpdHNlbGYgZ2V0cyByZW1vdmVkXG5cdFx0XHR0aGlzLl93ZWJHTENhY2hlID0gZmFsc2U7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHZhciBzdGFnZSA9IHRoaXMudGFyZ2V0LnN0YWdlO1xuXHRcdFx0aWYgKHN0YWdlIGluc3RhbmNlb2YgY3JlYXRlanMuU3RhZ2VHTCl7XG5cdFx0XHRcdHN0YWdlLnJlbGVhc2VUZXh0dXJlKHRoaXMudGFyZ2V0LmNhY2hlQ2FudmFzKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHR0aGlzLnRhcmdldCA9IHRoaXMudGFyZ2V0LmNhY2hlQ2FudmFzID0gbnVsbDtcblx0XHR0aGlzLmNhY2hlSUQgPSB0aGlzLl9jYWNoZURhdGFVUkxJRCA9IHRoaXMuX2NhY2hlRGF0YVVSTCA9IHVuZGVmaW5lZDtcblx0XHR0aGlzLndpZHRoID0gdGhpcy5oZWlnaHQgPSB0aGlzLnggPSB0aGlzLnkgPSB0aGlzLm9mZlggPSB0aGlzLm9mZlkgPSAwO1xuXHRcdHRoaXMuc2NhbGUgPSAxO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBSZXR1cm5zIGEgZGF0YSBVUkwgZm9yIHRoZSBjYWNoZSwgb3IgYG51bGxgIGlmIHRoaXMgZGlzcGxheSBvYmplY3QgaXMgbm90IGNhY2hlZC5cblx0ICogVXNlcyB7eyNjcm9zc0xpbmsgXCJCaXRtYXBDYWNoZS9jYWNoZUlEOnByb3BlcnR5XCJ9fXt7L2Nyb3NzTGlua319IHRvIGVuc3VyZSBhIG5ldyBkYXRhIFVSTCBpcyBub3QgZ2VuZXJhdGVkIGlmIHRoZVxuXHQgKiBjYWNoZSBoYXMgbm90IGNoYW5nZWQuXG5cdCAqIEBtZXRob2QgZ2V0Q2FjaGVEYXRhVVJMXG5cdCAqIEByZXR1cm4ge1N0cmluZ30gVGhlIGltYWdlIGRhdGEgdXJsIGZvciB0aGUgY2FjaGUuXG5cdCAqKi9cblx0cC5nZXRDYWNoZURhdGFVUkwgPSBmdW5jdGlvbigpIHtcblx0XHR2YXIgY2FjaGVDYW52YXMgPSB0aGlzLnRhcmdldCAmJiB0aGlzLnRhcmdldC5jYWNoZUNhbnZhcztcblx0XHRpZiAoIWNhY2hlQ2FudmFzKSB7IHJldHVybiBudWxsOyB9XG5cdFx0aWYgKHRoaXMuY2FjaGVJRCAhPSB0aGlzLl9jYWNoZURhdGFVUkxJRCkge1xuXHRcdFx0dGhpcy5fY2FjaGVEYXRhVVJMSUQgPSB0aGlzLmNhY2hlSUQ7XG5cdFx0XHR0aGlzLl9jYWNoZURhdGFVUkwgPSBjYWNoZUNhbnZhcy50b0RhdGFVUkw/Y2FjaGVDYW52YXMudG9EYXRhVVJMKCk6bnVsbDtcdC8vIGluY2FzZSBmdW5jdGlvbiBpc1xuXHRcdH1cblx0XHRyZXR1cm4gdGhpcy5fY2FjaGVEYXRhVVJMO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBVc2UgY29udGV4dDJEIGRyYXdpbmcgY29tbWFuZHMgdG8gZGlzcGxheSB0aGUgY2FjaGUgY2FudmFzIGJlaW5nIHVzZWQuXG5cdCAqIEBtZXRob2QgZHJhd1xuXHQgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY3R4IFRoZSBjb250ZXh0IHRvIGRyYXcgaW50by5cblx0ICogQHJldHVybiB7Qm9vbGVhbn0gV2hldGhlciB0aGUgZHJhdyB3YXMgaGFuZGxlZCBzdWNjZXNzZnVsbHkuXG5cdCAqKi9cblx0cC5kcmF3ID0gZnVuY3Rpb24oY3R4KSB7XG5cdFx0aWYoIXRoaXMudGFyZ2V0KSB7IHJldHVybiBmYWxzZTsgfVxuXHRcdGN0eC5kcmF3SW1hZ2UodGhpcy50YXJnZXQuY2FjaGVDYW52YXMsXG5cdFx0XHR0aGlzLnggKyAodGhpcy5fZmlsdGVyT2ZmWC90aGlzLnNjYWxlKSxcdFx0dGhpcy55ICsgKHRoaXMuX2ZpbHRlck9mZlkvdGhpcy5zY2FsZSksXG5cdFx0XHR0aGlzLl9kcmF3V2lkdGgvdGhpcy5zY2FsZSxcdFx0XHRcdFx0dGhpcy5fZHJhd0hlaWdodC90aGlzLnNjYWxlXG5cdFx0KTtcblx0XHRyZXR1cm4gdHJ1ZTtcblx0fTtcblxuLy8gcHJpdmF0ZSBtZXRob2RzOlxuXHQvKipcblx0ICogQ3JlYXRlIG9yIHJlc2l6ZSB0aGUgaW52aXNpYmxlIGNhbnZhcy9zdXJmYWNlIHRoYXQgaXMgbmVlZGVkIGZvciB0aGUgZGlzcGxheSBvYmplY3QocykgdG8gZHJhdyB0byxcblx0ICogYW5kIGluIHR1cm4gYmUgdXNlZCBpbiB0aGVpciBzdGVhZCB3aGVuIGRyYXdpbmcuIFRoZSBzdXJmYWNlIGlzIHJlc2l6ZWQgdG8gdGhlIHNpemUgZGVmaW5lZFxuXHQgKiBieSB0aGUgd2lkdGggYW5kIGhlaWdodCwgZmFjdG9yaW5nIGluIHNjYWxpbmcgYW5kIGZpbHRlcnMuIEFkanVzdCB0aGVtIHRvIGFkanVzdCB0aGUgb3V0cHV0IHNpemUuXG5cdCAqIEBtZXRob2QgX3VwZGF0ZVN1cmZhY2Vcblx0ICogQHByb3RlY3RlZFxuXHQgKiovXG5cdHAuX3VwZGF0ZVN1cmZhY2UgPSBmdW5jdGlvbigpIHtcblx0XHRpZiAoIXRoaXMuX29wdGlvbnMgfHwgIXRoaXMuX29wdGlvbnMudXNlR0wpIHtcblx0XHRcdHZhciBzdXJmYWNlID0gdGhpcy50YXJnZXQuY2FjaGVDYW52YXM7XG5cblx0XHRcdC8vIGNyZWF0ZSBpdCBpZiBpdCdzIG1pc3Npbmdcblx0XHRcdGlmKCFzdXJmYWNlKSB7XG5cdFx0XHRcdHN1cmZhY2UgPSB0aGlzLnRhcmdldC5jYWNoZUNhbnZhcyA9IGNyZWF0ZWpzLmNyZWF0ZUNhbnZhcz9jcmVhdGVqcy5jcmVhdGVDYW52YXMoKTpkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBub3cgc2l6ZSBpdFxuXHRcdFx0c3VyZmFjZS53aWR0aCA9IHRoaXMuX2RyYXdXaWR0aDtcblx0XHRcdHN1cmZhY2UuaGVpZ2h0ID0gdGhpcy5fZHJhd0hlaWdodDtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBjcmVhdGUgaXQgaWYgaXQncyBtaXNzaW5nXG5cdFx0aWYgKCF0aGlzLl93ZWJHTENhY2hlKSB7XG5cdFx0XHRpZiAodGhpcy5fb3B0aW9ucy51c2VHTCA9PT0gXCJzdGFnZVwiKSB7XG5cdFx0XHRcdGlmKCEodGhpcy50YXJnZXQuc3RhZ2UgJiYgdGhpcy50YXJnZXQuc3RhZ2UuaXNXZWJHTCkpe1xuXHRcdFx0XHRcdHZhciBlcnJvciA9IFwiQ2Fubm90IHVzZSAnc3RhZ2UnIGZvciBjYWNoZSBiZWNhdXNlIHRoZSBvYmplY3QncyBwYXJlbnQgc3RhZ2UgaXMgXCI7XG5cdFx0XHRcdFx0ZXJyb3IgKz0gdGhpcy50YXJnZXQuc3RhZ2UgPyBcIm5vbiBXZWJHTC5cIiA6IFwibm90IHNldCwgcGxlYXNlIGFkZENoaWxkIHRvIHRoZSBjb3JyZWN0IHN0YWdlLlwiO1xuXHRcdFx0XHRcdHRocm93IGVycm9yO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHRoaXMudGFyZ2V0LmNhY2hlQ2FudmFzID0gdHJ1ZTsgLy8gd2lsbCBiZSByZXBsYWNlZCB3aXRoIFJlbmRlclRleHR1cmUsIHRlbXBvcmFyeSBwb3NpdGl2ZSB2YWx1ZSBmb3Igb2xkIFwiaXNDYWNoZWRcIiBjaGVja3Ncblx0XHRcdFx0dGhpcy5fd2ViR0xDYWNoZSA9IHRoaXMudGFyZ2V0LnN0YWdlO1xuXG5cdFx0XHR9IGVsc2UgaWYodGhpcy5fb3B0aW9ucy51c2VHTCA9PT0gXCJuZXdcIikge1xuXHRcdFx0XHR0aGlzLnRhcmdldC5jYWNoZUNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7IC8vIHdlIGNhbiB0dXJuIG9mZiBhdXRvcHVyZ2UgYmVjYXVzZSB3ZSB3b250IGJlIG1ha2luZyB0ZXh0dXJlcyBoZXJlXG5cdFx0XHRcdHRoaXMuX3dlYkdMQ2FjaGUgPSBuZXcgY3JlYXRlanMuU3RhZ2VHTCh0aGlzLnRhcmdldC5jYWNoZUNhbnZhcywge2FudGlhbGlhczogdHJ1ZSwgdHJhbnNwYXJlbnQ6IHRydWUsIGF1dG9QdXJnZTogLTF9KTtcblx0XHRcdFx0dGhpcy5fd2ViR0xDYWNoZS5pc0NhY2hlQ29udHJvbGxlZCA9IHRydWU7XHQvLyB1c2UgdGhpcyBmbGFnIHRvIGNvbnRyb2wgc3RhZ2Ugc2l6aW5nIGFuZCBmaW5hbCBvdXRwdXRcblxuXHRcdFx0fSBlbHNlIGlmKHRoaXMuX29wdGlvbnMudXNlR0wgaW5zdGFuY2VvZiBjcmVhdGVqcy5TdGFnZUdMKSB7XG5cdFx0XHRcdHRoaXMudGFyZ2V0LmNhY2hlQ2FudmFzID0gdHJ1ZTsgLy8gd2lsbCBiZSByZXBsYWNlZCB3aXRoIFJlbmRlclRleHR1cmUsIHRlbXBvcmFyeSBwb3NpdGl2ZSB2YWx1ZSBmb3Igb2xkIFwiaXNDYWNoZWRcIiBjaGVja3Ncblx0XHRcdFx0dGhpcy5fd2ViR0xDYWNoZSA9IHRoaXMuX29wdGlvbnMudXNlR0w7XG5cdFx0XHRcdHRoaXMuX3dlYkdMQ2FjaGUuaXNDYWNoZUNvbnRyb2xsZWQgPSB0cnVlO1x0Ly8gdXNlIHRoaXMgZmxhZyB0byBjb250cm9sIHN0YWdlIHNpemluZyBhbmQgZmluYWwgb3V0cHV0XG5cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRocm93IFwiSW52YWxpZCBvcHRpb24gcHJvdmlkZWQgdG8gdXNlR0wsIGV4cGVjdGVkIFsnc3RhZ2UnLCAnbmV3JywgU3RhZ2VHTCwgdW5kZWZpbmVkXSwgZ290IFwiKyB0aGlzLl9vcHRpb25zLnVzZUdMO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIG5vdyBzaXplIHJlbmRlciBzdXJmYWNlc1xuXHRcdHZhciBzdXJmYWNlID0gdGhpcy50YXJnZXQuY2FjaGVDYW52YXM7XG5cdFx0dmFyIHN0YWdlR0wgPSB0aGlzLl93ZWJHTENhY2hlO1xuXG5cdFx0Ly8gaWYgd2UgaGF2ZSBhIGRlZGljYXRlZCBzdGFnZSB3ZSd2ZSBnb3R0YSBzaXplIGl0XG5cdFx0aWYgKHN0YWdlR0wuaXNDYWNoZUNvbnRyb2xsZWQpIHtcblx0XHRcdHN1cmZhY2Uud2lkdGggPSB0aGlzLl9kcmF3V2lkdGg7XG5cdFx0XHRzdXJmYWNlLmhlaWdodCA9IHRoaXMuX2RyYXdIZWlnaHQ7XG5cdFx0XHRzdGFnZUdMLnVwZGF0ZVZpZXdwb3J0KHRoaXMuX2RyYXdXaWR0aCwgdGhpcy5fZHJhd0hlaWdodCk7XG5cdFx0fVxuXHRcdGlmICh0aGlzLnRhcmdldC5maWx0ZXJzKSB7XG5cdFx0XHQvLyB3aXRoIGZpbHRlcnMgd2UgY2FuJ3QgdGVsbCBob3cgbWFueSB3ZSdsbCBuZWVkIGJ1dCB0aGUgbW9zdCB3ZSdsbCBldmVyIG5lZWQgaXMgdHdvLCBzbyBtYWtlIHRoZW0gbm93XG5cdFx0XHRzdGFnZUdMLmdldFRhcmdldFJlbmRlclRleHR1cmUodGhpcy50YXJnZXQsIHRoaXMuX2RyYXdXaWR0aCx0aGlzLl9kcmF3SGVpZ2h0KTtcblx0XHRcdHN0YWdlR0wuZ2V0VGFyZ2V0UmVuZGVyVGV4dHVyZSh0aGlzLnRhcmdldCwgdGhpcy5fZHJhd1dpZHRoLHRoaXMuX2RyYXdIZWlnaHQpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyB3aXRob3V0IGZpbHRlcnMgdGhlbiB3ZSBvbmx5IG5lZWQgb25lIFJlbmRlclRleHR1cmUsIGFuZCB0aGF0J3Mgb25seSBpZiBpdHMgbm90IGEgZGVkaWNhdGVkIHN0YWdlXG5cdFx0XHRpZiAoIXN0YWdlR0wuaXNDYWNoZUNvbnRyb2xsZWQpIHtcblx0XHRcdFx0c3RhZ2VHTC5nZXRUYXJnZXRSZW5kZXJUZXh0dXJlKHRoaXMudGFyZ2V0LCB0aGlzLl9kcmF3V2lkdGgsdGhpcy5fZHJhd0hlaWdodCk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xuXG5cdC8qKlxuXHQgKiBQZXJmb3JtIHRoZSBjYWNoZSBkcmF3IG91dCBmb3IgY29udGV4dCAyRCBub3cgdGhhdCB0aGUgc2V0dXAgcHJvcGVydGllcyBoYXZlIGJlZW4gcGVyZm9ybWVkLlxuXHQgKiBAbWV0aG9kIF9kcmF3VG9DYWNoZVxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqKi9cblx0cC5fZHJhd1RvQ2FjaGUgPSBmdW5jdGlvbihjb21wb3NpdGVPcGVyYXRpb24pIHtcblx0XHR2YXIgc3VyZmFjZSA9IHRoaXMudGFyZ2V0LmNhY2hlQ2FudmFzO1xuXHRcdHZhciB0YXJnZXQgPSB0aGlzLnRhcmdldDtcblx0XHR2YXIgd2ViR0wgPSB0aGlzLl93ZWJHTENhY2hlO1xuXG5cdFx0aWYgKHdlYkdMKXtcblx0XHRcdC8vVE9ETzogYXV0byBzcGxpdCBibHVyIGludG8gYW4geC95IHBhc3Ncblx0XHRcdHdlYkdMLmNhY2hlRHJhdyh0YXJnZXQsIHRhcmdldC5maWx0ZXJzLCB0aGlzKTtcblxuXHRcdFx0Ly8gd2UgbWF5IG9mIHN3YXBwZWQgYXJvdW5kIHdoaWNoIGVsZW1lbnQgdGhlIHN1cmZhY2UgaXMsIHNvIHdlIHJlLWZldGNoIGl0XG5cdFx0XHRzdXJmYWNlID0gdGhpcy50YXJnZXQuY2FjaGVDYW52YXM7XG5cblx0XHRcdHN1cmZhY2Uud2lkdGggPSB0aGlzLl9kcmF3V2lkdGg7XG5cdFx0XHRzdXJmYWNlLmhlaWdodCA9IHRoaXMuX2RyYXdIZWlnaHQ7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHZhciBjdHggPSBzdXJmYWNlLmdldENvbnRleHQoXCIyZFwiKTtcblxuXHRcdFx0aWYgKCFjb21wb3NpdGVPcGVyYXRpb24pIHtcblx0XHRcdFx0Y3R4LmNsZWFyUmVjdCgwLCAwLCB0aGlzLl9kcmF3V2lkdGgrMSwgdGhpcy5fZHJhd0hlaWdodCsxKTtcblx0XHRcdH1cblxuXHRcdFx0Y3R4LnNhdmUoKTtcblx0XHRcdGN0eC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSBjb21wb3NpdGVPcGVyYXRpb247XG5cdFx0XHRjdHguc2V0VHJhbnNmb3JtKHRoaXMuc2NhbGUsMCwwLHRoaXMuc2NhbGUsIC10aGlzLl9maWx0ZXJPZmZYLC10aGlzLl9maWx0ZXJPZmZZKTtcblx0XHRcdGN0eC50cmFuc2xhdGUoLXRoaXMueCwgLXRoaXMueSk7XG5cdFx0XHR0YXJnZXQuZHJhdyhjdHgsIHRydWUpO1xuXHRcdFx0Y3R4LnJlc3RvcmUoKTtcblxuXG5cdFx0XHRpZiAodGFyZ2V0LmZpbHRlcnMgJiYgdGFyZ2V0LmZpbHRlcnMubGVuZ3RoKSB7XG5cdFx0XHRcdHRoaXMuX2FwcGx5RmlsdGVycyhjdHgpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRzdXJmYWNlLl9pbnZhbGlkID0gdHJ1ZTtcblx0fTtcblxuXHQvKipcblx0ICogV29yayB0aHJvdWdoIGV2ZXJ5IGZpbHRlciBhbmQgYXBwbHkgaXRzIGluZGl2aWR1YWwgdmlzdWFsIHRyYW5zZm9ybWF0aW9uLlxuXHQgKiBAbWV0aG9kIF9hcHBseUZpbHRlcnNcblx0ICogQHByb3RlY3RlZFxuXHQgKiovXG5cdHAuX2FwcGx5RmlsdGVycyA9IGZ1bmN0aW9uKGN0eCkge1xuXHRcdHZhciBmaWx0ZXJzID0gdGhpcy50YXJnZXQuZmlsdGVycztcblxuXHRcdHZhciB3ID0gdGhpcy5fZHJhd1dpZHRoO1xuXHRcdHZhciBoID0gdGhpcy5fZHJhd0hlaWdodDtcblxuXHRcdHZhciBkYXRhO1xuXG5cdFx0dmFyIGkgPSAwLCBmaWx0ZXIgPSBmaWx0ZXJzW2ldO1xuXHRcdGRvIHsgLy8gdGhpcyBpcyBzYWZlIGJlY2F1c2Ugd2Ugd291bGRuJ3QgYmUgaW4gYXBwbHkgZmlsdGVycyB3aXRob3V0IGEgZmlsdGVyIGNvdW50IG9mIGF0IGxlYXN0IDFcblx0XHRcdGlmKGZpbHRlci51c2VzQ29udGV4dCl7XG5cdFx0XHRcdGlmKGRhdGEpIHtcblx0XHRcdFx0XHRjdHgucHV0SW1hZ2VEYXRhKGRhdGEsIDAsMCk7XG5cdFx0XHRcdFx0ZGF0YSA9IG51bGw7XG5cdFx0XHRcdH1cblx0XHRcdFx0ZmlsdGVyLmFwcGx5RmlsdGVyKGN0eCwgMCwwLCB3LGgpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aWYoIWRhdGEpIHtcblx0XHRcdFx0XHRkYXRhID0gY3R4LmdldEltYWdlRGF0YSgwLDAsIHcsaCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0ZmlsdGVyLl9hcHBseUZpbHRlcihkYXRhKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gd29yayB0aHJvdWdoIHRoZSBtdWx0aXBhc3MgaWYgaXQncyB0aGVyZSwgb3RoZXJ3aXNlIG1vdmUgb25cblx0XHRcdGZpbHRlciA9IGZpbHRlci5fbXVsdGlQYXNzICE9PSBudWxsID8gZmlsdGVyLl9tdWx0aVBhc3MgOiBmaWx0ZXJzWysraV07XG5cdFx0fSB3aGlsZSAoZmlsdGVyKTtcblxuXHRcdC8vZG9uZVxuXHRcdGlmKGRhdGEpIHtcblx0XHRcdGN0eC5wdXRJbWFnZURhdGEoZGF0YSwgMCwwKTtcblx0XHR9XG5cdH07XG5cblx0Y3JlYXRlanMuQml0bWFwQ2FjaGUgPSBCaXRtYXBDYWNoZTtcbn0oKSk7XG5cbi8vIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXG4vLyBCbHVyRmlsdGVyLmpzXG4vLyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI1xuXG4oZnVuY3Rpb24oKSB7XG5cdFwidXNlIHN0cmljdFwiO1xuXG5cbi8vIGNvbnN0cnVjdG9yOlxuXHQvKipcblx0ICogQXBwbGllcyBhIGJveCBibHVyIHRvIERpc3BsYXlPYmplY3RzIGluIGNvbnRleHQgMkQgYW5kIGEgR2F1c3NpYW4gYmx1ciBpbiB3ZWJnbC4gTm90ZSB0aGF0IHRoaXMgZmlsdGVyIGlzIGZhaXJseVxuXHQgKiBpbnRlbnNpdmUsIHBhcnRpY3VsYXJseSBpZiB0aGUgcXVhbGl0eSBpcyBzZXQgaGlnaGVyIHRoYW4gMS5cblx0ICpcblx0ICogPGg0PkV4YW1wbGU8L2g0PlxuXHQgKiBUaGlzIGV4YW1wbGUgY3JlYXRlcyBhIHJlZCBjaXJjbGUsIGFuZCB0aGVuIGFwcGxpZXMgYSA1IHBpeGVsIGJsdXIgdG8gaXQuIEl0IHVzZXMgdGhlIHt7I2Nyb3NzTGluayBcIkZpbHRlci9nZXRCb3VuZHNcIn19e3svY3Jvc3NMaW5rfX1cblx0ICogbWV0aG9kIHRvIGFjY291bnQgZm9yIHRoZSBzcHJlYWQgdGhhdCB0aGUgYmx1ciBjYXVzZXMuXG5cdCAqXG5cdCAqICAgICAgdmFyIHNoYXBlID0gbmV3IGNyZWF0ZWpzLlNoYXBlKCkuc2V0KHt4OjEwMCx5OjEwMH0pO1xuXHQgKiAgICAgIHNoYXBlLmdyYXBoaWNzLmJlZ2luRmlsbChcIiNmZjAwMDBcIikuZHJhd0NpcmNsZSgwLDAsNTApO1xuXHQgKlxuXHQgKiAgICAgIHZhciBibHVyRmlsdGVyID0gbmV3IGNyZWF0ZWpzLkJsdXJGaWx0ZXIoNSwgNSwgMSk7XG5cdCAqICAgICAgc2hhcGUuZmlsdGVycyA9IFtibHVyRmlsdGVyXTtcblx0ICogICAgICB2YXIgYm91bmRzID0gYmx1ckZpbHRlci5nZXRCb3VuZHMoKTtcblx0ICpcblx0ICogICAgICBzaGFwZS5jYWNoZSgtNTArYm91bmRzLngsIC01MCtib3VuZHMueSwgMTAwK2JvdW5kcy53aWR0aCwgMTAwK2JvdW5kcy5oZWlnaHQpO1xuXHQgKlxuXHQgKiBTZWUge3sjY3Jvc3NMaW5rIFwiRmlsdGVyXCJ9fXt7L2Nyb3NzTGlua319IGZvciBhbiBtb3JlIGluZm9ybWF0aW9uIG9uIGFwcGx5aW5nIGZpbHRlcnMuXG5cdCAqIEBjbGFzcyBCbHVyRmlsdGVyXG5cdCAqIEBleHRlbmRzIEZpbHRlclxuXHQgKiBAY29uc3RydWN0b3Jcblx0ICogQHBhcmFtIHtOdW1iZXJ9IFtibHVyWD0wXSBUaGUgaG9yaXpvbnRhbCBibHVyIHJhZGl1cyBpbiBwaXhlbHMuXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBbYmx1clk9MF0gVGhlIHZlcnRpY2FsIGJsdXIgcmFkaXVzIGluIHBpeGVscy5cblx0ICogQHBhcmFtIHtOdW1iZXJ9IFtxdWFsaXR5PTFdIFRoZSBudW1iZXIgb2YgYmx1ciBpdGVyYXRpb25zLlxuXHQgKiovXG5cdGZ1bmN0aW9uIEJsdXJGaWx0ZXIoIGJsdXJYLCBibHVyWSwgcXVhbGl0eSkge1xuXHRcdHRoaXMuRmlsdGVyX2NvbnN0cnVjdG9yKCk7XG5cblx0XHQvLyBwdWJsaWMgcHJvcGVydGllczpcblx0XHQvKipcblx0XHQgKiBIb3Jpem9udGFsIGJsdXIgcmFkaXVzIGluIHBpeGVsc1xuXHRcdCAqIEBwcm9wZXJ0eSBibHVyWFxuXHRcdCAqIEBkZWZhdWx0IDBcblx0XHQgKiBAdHlwZSBOdW1iZXJcblx0XHQgKiovXG5cdFx0dGhpcy5fYmx1clggPSBibHVyWDtcblx0XHR0aGlzLl9ibHVyWFRhYmxlID0gW107XG5cdFx0dGhpcy5fbGFzdEJsdXJYID0gbnVsbDtcblxuXHRcdC8qKlxuXHRcdCAqIFZlcnRpY2FsIGJsdXIgcmFkaXVzIGluIHBpeGVsc1xuXHRcdCAqIEBwcm9wZXJ0eSBibHVyWVxuXHRcdCAqIEBkZWZhdWx0IDBcblx0XHQgKiBAdHlwZSBOdW1iZXJcblx0XHQgKiovXG5cdFx0dGhpcy5fYmx1clkgPSBibHVyWTtcblx0XHR0aGlzLl9ibHVyWVRhYmxlID0gW107XG5cdFx0dGhpcy5fbGFzdEJsdXJZID0gbnVsbDtcblxuXHRcdC8qKlxuXHRcdCAqIE51bWJlciBvZiBibHVyIGl0ZXJhdGlvbnMuIEZvciBleGFtcGxlLCBhIHZhbHVlIG9mIDEgd2lsbCBwcm9kdWNlIGEgcm91Z2ggYmx1ci4gQSB2YWx1ZSBvZiAyIHdpbGwgcHJvZHVjZSBhXG5cdFx0ICogc21vb3RoZXIgYmx1ciwgYnV0IHRha2UgdHdpY2UgYXMgbG9uZyB0byBydW4uXG5cdFx0ICogQHByb3BlcnR5IHF1YWxpdHlcblx0XHQgKiBAZGVmYXVsdCAxXG5cdFx0ICogQHR5cGUgTnVtYmVyXG5cdFx0ICoqL1xuXHRcdHRoaXMuX3F1YWxpdHk7XG5cdFx0dGhpcy5fbGFzdFF1YWxpdHkgPSBudWxsO1xuXG5cdFx0LyoqXG5cdFx0ICogVGhpcyBpcyBhIHRlbXBsYXRlIHRvIGdlbmVyYXRlIHRoZSBzaGFkZXIgZm9yIHt7I2Nyb3NzTGluayBGUkFHX1NIQURFUl9CT0RZfX17ey9jcm9zc0xpbmt9fVxuXHRcdCAqL1xuXHRcdHRoaXMuRlJBR19TSEFERVJfVEVNUExBVEUgPSAoXG5cdFx0XHRcInVuaWZvcm0gZmxvYXQgeFdlaWdodFt7e2JsdXJYfX1dO1wiICtcblx0XHRcdFwidW5pZm9ybSBmbG9hdCB5V2VpZ2h0W3t7Ymx1cll9fV07XCIgK1xuXHRcdFx0XCJ1bmlmb3JtIHZlYzIgdGV4dHVyZU9mZnNldDtcIiArXG5cdFx0XHRcInZvaWQgbWFpbih2b2lkKSB7XCIgK1xuXHRcdFx0XHRcInZlYzQgY29sb3IgPSB2ZWM0KDAuMCk7XCIgK1xuXG5cdFx0XHRcdFwiZmxvYXQgeEFkaiA9ICh7e2JsdXJYfX0uMC0xLjApLzIuMDtcIiArXG5cdFx0XHRcdFwiZmxvYXQgeUFkaiA9ICh7e2JsdXJZfX0uMC0xLjApLzIuMDtcIiArXG5cdFx0XHRcdFwidmVjMiBzYW1wbGVPZmZzZXQ7XCIgK1xuXG5cdFx0XHRcdFwiZm9yKGludCBpPTA7IGk8e3tibHVyWH19OyBpKyspIHtcIiArXG5cdFx0XHRcdFx0XCJmb3IoaW50IGo9MDsgajx7e2JsdXJZfX07IGorKykge1wiICtcblx0XHRcdFx0XHRcdFwic2FtcGxlT2Zmc2V0ID0gdlJlbmRlckNvb3JkICsgKHRleHR1cmVPZmZzZXQgKiB2ZWMyKGZsb2F0KGkpLXhBZGosIGZsb2F0KGopLXlBZGopKTtcIiArXG5cdFx0XHRcdFx0XHRcImNvbG9yICs9IHRleHR1cmUyRCh1U2FtcGxlciwgc2FtcGxlT2Zmc2V0KSAqICh4V2VpZ2h0W2ldICogeVdlaWdodFtqXSk7XCIgK1xuXHRcdFx0XHRcdFwifVwiICtcblx0XHRcdFx0XCJ9XCIgK1xuXG5cdFx0XHRcdFwiZ2xfRnJhZ0NvbG9yID0gY29sb3IucmdiYTtcIiArXG5cdFx0XHRcIn1cIlxuXHRcdCk7XG5cblx0XHQvLyB1cGRhdGUgdGhlIGZpbHRlciB1c2luZyB0aGUgc2V0dGVyc1xuXHRcdGlmKGlzTmFOKHF1YWxpdHkpIHx8IHF1YWxpdHkgPCAxKXsgcXVhbGl0eSA9IDE7IH1cblx0XHR0aGlzLnNldFF1YWxpdHkocXVhbGl0eXwwKTtcblx0fVxuXHR2YXIgcCA9IGNyZWF0ZWpzLmV4dGVuZChCbHVyRmlsdGVyLCBjcmVhdGVqcy5GaWx0ZXIpO1xuXG5cdC8vIFRPRE86IGRlcHJlY2F0ZWRcblx0Ly8gcC5pbml0aWFsaXplID0gZnVuY3Rpb24oKSB7fTsgLy8gc2VhcmNoYWJsZSBmb3IgZGV2cyB3b25kZXJpbmcgd2hlcmUgaXQgaXMuIFJFTU9WRUQuIFNlZSBkb2NzIGZvciBkZXRhaWxzLlxuXG5cdHAuZ2V0Qmx1clggPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXMuX2JsdXJYOyB9O1xuXHRwLmdldEJsdXJZID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzLl9ibHVyWTsgfTtcblx0cC5zZXRCbHVyWCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG5cdFx0aWYoaXNOYU4odmFsdWUpIHx8IHZhbHVlIDwgMCl7IHZhbHVlID0gMDsgfVxuXHRcdHRoaXMuX2JsdXJYID0gdmFsdWU7XG5cdH07XG5cdHAuc2V0Qmx1clkgPSBmdW5jdGlvbih2YWx1ZSkge1xuXHRcdGlmKGlzTmFOKHZhbHVlKSB8fCB2YWx1ZSA8IDApeyB2YWx1ZSA9IDA7IH1cblx0XHR0aGlzLl9ibHVyWSA9IHZhbHVlO1xuXHR9O1xuXHRwLmdldFF1YWxpdHkgPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXMuX3F1YWxpdHk7IH07XG5cdHAuc2V0UXVhbGl0eSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG5cdFx0aWYoaXNOYU4odmFsdWUpIHx8IHZhbHVlIDwgMCl7IHZhbHVlID0gMDsgfVxuXHRcdHRoaXMuX3F1YWxpdHkgPSB2YWx1ZSB8IDA7XG5cdH07XG5cdHAuX2dldFNoYWRlciA9IGZ1bmN0aW9uKCkge1xuXHRcdHZhciB4Q2hhbmdlID0gdGhpcy5fbGFzdEJsdXJYICE9PSB0aGlzLl9ibHVyWDtcblx0XHR2YXIgeUNoYW5nZSA9IHRoaXMuX2xhc3RCbHVyWSAhPT0gdGhpcy5fYmx1clk7XG5cdFx0dmFyIHFDaGFuZ2UgPSB0aGlzLl9sYXN0UXVhbGl0eSAhPT0gdGhpcy5fcXVhbGl0eTtcblx0XHRpZih4Q2hhbmdlIHx8IHlDaGFuZ2UgfHwgcUNoYW5nZSkge1xuXHRcdFx0aWYoeENoYW5nZSB8fCBxQ2hhbmdlKSB7IHRoaXMuX2JsdXJYVGFibGUgPSB0aGlzLl9nZXRUYWJsZSh0aGlzLl9ibHVyWCAqIHRoaXMuX3F1YWxpdHkpOyB9XG5cdFx0XHRpZih5Q2hhbmdlIHx8IHFDaGFuZ2UpIHsgdGhpcy5fYmx1cllUYWJsZSA9IHRoaXMuX2dldFRhYmxlKHRoaXMuX2JsdXJZICogdGhpcy5fcXVhbGl0eSk7IH1cblx0XHRcdHRoaXMuX3VwZGF0ZVNoYWRlcigpO1xuXHRcdFx0dGhpcy5fbGFzdEJsdXJYID0gdGhpcy5fYmx1clg7XG5cdFx0XHR0aGlzLl9sYXN0Qmx1clkgPSB0aGlzLl9ibHVyWTtcblx0XHRcdHRoaXMuX2xhc3RRdWFsaXR5ID0gdGhpcy5fcXVhbGl0eTtcblx0XHRcdHJldHVybiB1bmRlZmluZWQ7IC8vIGZvcmNlIGEgcmVidWlsZFxuXHRcdH1cblx0XHRyZXR1cm4gdGhpcy5fY29tcGlsZWRTaGFkZXI7XG5cdH07XG5cdHAuX3NldFNoYWRlciA9IGZ1bmN0aW9uKCkgeyB0aGlzLl9jb21waWxlZFNoYWRlcjsgfTtcblxuXHR0cnkge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHAsIHtcblx0XHRcdGJsdXJYOiB7IGdldDogcC5nZXRCbHVyWCwgc2V0OiBwLnNldEJsdXJYIH0sXG5cdFx0XHRibHVyWTogeyBnZXQ6IHAuZ2V0Qmx1clksIHNldDogcC5zZXRCbHVyWSB9LFxuXHRcdFx0cXVhbGl0eTogeyBnZXQ6IHAuZ2V0UXVhbGl0eSwgc2V0OiBwLnNldFF1YWxpdHkgfSxcblx0XHRcdF9idWlsdFNoYWRlcjogeyBnZXQ6IHAuX2dldFNoYWRlciwgc2V0OiBwLl9zZXRTaGFkZXJ9XG5cdFx0fSk7XG5cdH0gY2F0Y2ggKGUpIHsgY29uc29sZS5sb2coZSk7IH1cblxuXHQvKipcblx0ICogSW50ZXJuYWwgbG9va3VwIGZ1bmN0aW9uIHRvIGNyZWF0ZSBnYXVzc2lhbiBkaXN0cmlidXRpb24uXG5cdCAqIEBtZXRob2QgX2dldFRhYmxlXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBzcHJlYWQgSG93IG1hbnkgc3RlcHMgaW4gdGhlIGN1cnZlLlxuXHQgKiBAcmV0dXJuIHtBcnJheTxOdW1iZXI+fSBBbiBhcnJheSB3aXRoIE1hdGguY2VpbChzcHJlYWQqMikgZW50cmllcyB3aXRoIGFwcHJvcHJpYXRlbHkgZGlzdHJpYnV0ZWQgd2VpZ2h0cy5cblx0ICovXG5cdHAuX2dldFRhYmxlID0gZnVuY3Rpb24oc3ByZWFkKSB7XG5cdFx0dmFyIEVER0UgPSA0LjI7XG5cdFx0aWYoc3ByZWFkPD0xKSB7IHJldHVybiBbMV07IH1cblxuXHRcdHZhciByZXN1bHQgPSBbXTtcblx0XHR2YXIgY291bnQgPSBNYXRoLmNlaWwoc3ByZWFkKjIpO1xuXHRcdGNvdW50ICs9IChjb3VudCUyKT8wOjE7XG5cdFx0dmFyIGFkanVzdCA9IChjb3VudC8yKXwwO1xuXHRcdGZvcih2YXIgaSA9IC1hZGp1c3Q7IGk8PWFkanVzdDsgaSsrKSB7XG5cdFx0XHR2YXIgeCA9IChpL2FkanVzdCkqRURHRTtcblx0XHRcdHJlc3VsdC5wdXNoKDEvTWF0aC5zcXJ0KDIqTWF0aC5QSSkgKiBNYXRoLnBvdyhNYXRoLkUsIC0oTWF0aC5wb3coeCwyKS80KSkpO1xuXHRcdH1cblx0XHR2YXIgZmFjdG9yID0gcmVzdWx0LnJlZHVjZShmdW5jdGlvbihhLCBiKSB7IHJldHVybiBhICsgYjsgfSk7XG5cdFx0cmV0dXJuIHJlc3VsdC5tYXAoZnVuY3Rpb24oY3VycmVudFZhbHVlLCBpbmRleCwgYXJyYXkpIHsgcmV0dXJuIGN1cnJlbnRWYWx1ZS9mYWN0b3I7IH0pO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBJbnRlcm5hbCB1cGRhdGUgZnVuY3Rpb24gdG8gY3JlYXRlIHNoYWRlciBwcm9wZXJ0aWVzLlxuXHQgKiBAbWV0aG9kIF91cGRhdGVTaGFkZXJcblx0ICovXG5cdHAuX3VwZGF0ZVNoYWRlciA9IGZ1bmN0aW9uKCkge1xuXHRcdGlmKHRoaXMuX2JsdXJYID09PSB1bmRlZmluZWQgfHwgdGhpcy5fYmx1clkgPT09IHVuZGVmaW5lZCl7IHJldHVybjsgfVxuXHRcdHZhciByZXN1bHQgPSB0aGlzLkZSQUdfU0hBREVSX1RFTVBMQVRFO1xuXHRcdHJlc3VsdCA9IHJlc3VsdC5yZXBsYWNlKC9cXHtcXHtibHVyWFxcfVxcfS9nLCAodGhpcy5fYmx1clhUYWJsZS5sZW5ndGgpLnRvRml4ZWQoMCkpO1xuXHRcdHJlc3VsdCA9IHJlc3VsdC5yZXBsYWNlKC9cXHtcXHtibHVyWVxcfVxcfS9nLCAodGhpcy5fYmx1cllUYWJsZS5sZW5ndGgpLnRvRml4ZWQoMCkpO1xuXHRcdHRoaXMuRlJBR19TSEFERVJfQk9EWSA9IHJlc3VsdDtcblx0fTtcblxuXHQvKiogZG9jY2VkIGluIHN1cGVyIGNsYXNzICoqL1xuXHRwLnNoYWRlclBhcmFtU2V0dXAgPSBmdW5jdGlvbihnbCwgc3RhZ2UsIHNoYWRlclByb2dyYW0pIHtcblx0XHQvLyBsb2FkIHRoZSBub3JtYWxpemVkIGdhdXNzaWFuIHdlaWdodCB0YWJsZXNcblx0XHRnbC51bmlmb3JtMWZ2KFxuXHRcdFx0Z2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHNoYWRlclByb2dyYW0sIFwieFdlaWdodFwiKSxcblx0XHRcdHRoaXMuX2JsdXJYVGFibGVcblx0XHQpO1xuXHRcdGdsLnVuaWZvcm0xZnYoXG5cdFx0XHRnbC5nZXRVbmlmb3JtTG9jYXRpb24oc2hhZGVyUHJvZ3JhbSwgXCJ5V2VpZ2h0XCIpLFxuXHRcdFx0dGhpcy5fYmx1cllUYWJsZVxuXHRcdCk7XG5cblx0XHQvLyB3aGF0IGlzIHRoZSBzaXplIG9mIGEgc2luZ2xlIHBpeGVsIGluIC0xLCAxICh3ZWJHTCkgc3BhY2Vcblx0XHRnbC51bmlmb3JtMmYoXG5cdFx0XHRnbC5nZXRVbmlmb3JtTG9jYXRpb24oc2hhZGVyUHJvZ3JhbSwgXCJ0ZXh0dXJlT2Zmc2V0XCIpLFxuXHRcdFx0Mi8oc3RhZ2UuX3ZpZXdwb3J0V2lkdGgqdGhpcy5fcXVhbGl0eSksIDIvKHN0YWdlLl92aWV3cG9ydEhlaWdodCp0aGlzLl9xdWFsaXR5KVxuXHRcdCk7XG5cdH07XG5cbi8vIGNvbnN0YW50czpcblx0LyoqXG5cdCAqIEFycmF5IG9mIG11bHRpcGx5IHZhbHVlcyBmb3IgYmx1ciBjYWxjdWxhdGlvbnMuXG5cdCAqIEBwcm9wZXJ0eSBNVUxfVEFCTEVcblx0ICogQHR5cGUgQXJyYXlcblx0ICogQHByb3RlY3RlZFxuXHQgKiBAc3RhdGljXG5cdCAqKi9cblx0Qmx1ckZpbHRlci5NVUxfVEFCTEUgPSBbMSwgMTcxLCAyMDUsIDI5MywgNTcsIDM3MywgNzksIDEzNywgMjQxLCAyNywgMzkxLCAzNTcsIDQxLCAxOSwgMjgzLCAyNjUsIDQ5NywgNDY5LCA0NDMsIDQyMSwgMjUsIDE5MSwgMzY1LCAzNDksIDMzNSwgMTYxLCAxNTUsIDE0OSwgOSwgMjc4LCAyNjksIDI2MSwgNTA1LCAyNDUsIDQ3NSwgMjMxLCA0NDksIDQzNywgMjEzLCA0MTUsIDQwNSwgMzk1LCAxOTMsIDM3NywgMzY5LCAzNjEsIDM1MywgMzQ1LCAxNjksIDMzMSwgMzI1LCAzMTksIDMxMywgMzA3LCAzMDEsIDM3LCAxNDUsIDI4NSwgMjgxLCA2OSwgMjcxLCAyNjcsIDI2MywgMjU5LCA1MDksIDUwMSwgNDkzLCAyNDMsIDQ3OSwgMTE4LCA0NjUsIDQ1OSwgMTEzLCA0NDYsIDU1LCA0MzUsIDQyOSwgNDIzLCAyMDksIDQxMywgNTEsIDQwMywgMTk5LCAzOTMsIDk3LCAzLCAzNzksIDM3NSwgMzcxLCAzNjcsIDM2MywgMzU5LCAzNTUsIDM1MSwgMzQ3LCA0MywgODUsIDMzNywgMzMzLCAxNjUsIDMyNywgMzIzLCA1LCAzMTcsIDE1NywgMzExLCA3NywgMzA1LCAzMDMsIDc1LCAyOTcsIDI5NCwgNzMsIDI4OSwgMjg3LCA3MSwgMTQxLCAyNzksIDI3NywgMjc1LCA2OCwgMTM1LCA2NywgMTMzLCAzMywgMjYyLCAyNjAsIDEyOSwgNTExLCA1MDcsIDUwMywgNDk5LCA0OTUsIDQ5MSwgNjEsIDEyMSwgNDgxLCA0NzcsIDIzNywgMjM1LCA0NjcsIDIzMiwgMTE1LCA0NTcsIDIyNywgNDUxLCA3LCA0NDUsIDIyMSwgNDM5LCAyMTgsIDQzMywgMjE1LCA0MjcsIDQyNSwgMjExLCA0MTksIDQxNywgMjA3LCA0MTEsIDQwOSwgMjAzLCAyMDIsIDQwMSwgMzk5LCAzOTYsIDE5NywgNDksIDM4OSwgMzg3LCAzODUsIDM4MywgOTUsIDE4OSwgNDcsIDE4NywgOTMsIDE4NSwgMjMsIDE4MywgOTEsIDE4MSwgNDUsIDE3OSwgODksIDE3NywgMTEsIDE3NSwgODcsIDE3MywgMzQ1LCAzNDMsIDM0MSwgMzM5LCAzMzcsIDIxLCAxNjcsIDgzLCAzMzEsIDMyOSwgMzI3LCAxNjMsIDgxLCAzMjMsIDMyMSwgMzE5LCAxNTksIDc5LCAzMTUsIDMxMywgMzksIDE1NSwgMzA5LCAzMDcsIDE1MywgMzA1LCAzMDMsIDE1MSwgNzUsIDI5OSwgMTQ5LCAzNywgMjk1LCAxNDcsIDczLCAyOTEsIDE0NSwgMjg5LCAyODcsIDE0MywgMjg1LCA3MSwgMTQxLCAyODEsIDM1LCAyNzksIDEzOSwgNjksIDI3NSwgMTM3LCAyNzMsIDE3LCAyNzEsIDEzNSwgMjY5LCAyNjcsIDEzMywgMjY1LCAzMywgMjYzLCAxMzEsIDI2MSwgMTMwLCAyNTksIDEyOSwgMjU3LCAxXTtcblxuXHQvKipcblx0ICogQXJyYXkgb2Ygc2hpZnQgdmFsdWVzIGZvciBibHVyIGNhbGN1bGF0aW9ucy5cblx0ICogQHByb3BlcnR5IFNIR19UQUJMRVxuXHQgKiBAdHlwZSBBcnJheVxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqIEBzdGF0aWNcblx0ICoqL1xuXHRCbHVyRmlsdGVyLlNIR19UQUJMRSA9IFswLCA5LCAxMCwgMTEsIDksIDEyLCAxMCwgMTEsIDEyLCA5LCAxMywgMTMsIDEwLCA5LCAxMywgMTMsIDE0LCAxNCwgMTQsIDE0LCAxMCwgMTMsIDE0LCAxNCwgMTQsIDEzLCAxMywgMTMsIDksIDE0LCAxNCwgMTQsIDE1LCAxNCwgMTUsIDE0LCAxNSwgMTUsIDE0LCAxNSwgMTUsIDE1LCAxNCwgMTUsIDE1LCAxNSwgMTUsIDE1LCAxNCwgMTUsIDE1LCAxNSwgMTUsIDE1LCAxNSwgMTIsIDE0LCAxNSwgMTUsIDEzLCAxNSwgMTUsIDE1LCAxNSwgMTYsIDE2LCAxNiwgMTUsIDE2LCAxNCwgMTYsIDE2LCAxNCwgMTYsIDEzLCAxNiwgMTYsIDE2LCAxNSwgMTYsIDEzLCAxNiwgMTUsIDE2LCAxNCwgOSwgMTYsIDE2LCAxNiwgMTYsIDE2LCAxNiwgMTYsIDE2LCAxNiwgMTMsIDE0LCAxNiwgMTYsIDE1LCAxNiwgMTYsIDEwLCAxNiwgMTUsIDE2LCAxNCwgMTYsIDE2LCAxNCwgMTYsIDE2LCAxNCwgMTYsIDE2LCAxNCwgMTUsIDE2LCAxNiwgMTYsIDE0LCAxNSwgMTQsIDE1LCAxMywgMTYsIDE2LCAxNSwgMTcsIDE3LCAxNywgMTcsIDE3LCAxNywgMTQsIDE1LCAxNywgMTcsIDE2LCAxNiwgMTcsIDE2LCAxNSwgMTcsIDE2LCAxNywgMTEsIDE3LCAxNiwgMTcsIDE2LCAxNywgMTYsIDE3LCAxNywgMTYsIDE3LCAxNywgMTYsIDE3LCAxNywgMTYsIDE2LCAxNywgMTcsIDE3LCAxNiwgMTQsIDE3LCAxNywgMTcsIDE3LCAxNSwgMTYsIDE0LCAxNiwgMTUsIDE2LCAxMywgMTYsIDE1LCAxNiwgMTQsIDE2LCAxNSwgMTYsIDEyLCAxNiwgMTUsIDE2LCAxNywgMTcsIDE3LCAxNywgMTcsIDEzLCAxNiwgMTUsIDE3LCAxNywgMTcsIDE2LCAxNSwgMTcsIDE3LCAxNywgMTYsIDE1LCAxNywgMTcsIDE0LCAxNiwgMTcsIDE3LCAxNiwgMTcsIDE3LCAxNiwgMTUsIDE3LCAxNiwgMTQsIDE3LCAxNiwgMTUsIDE3LCAxNiwgMTcsIDE3LCAxNiwgMTcsIDE1LCAxNiwgMTcsIDE0LCAxNywgMTYsIDE1LCAxNywgMTYsIDE3LCAxMywgMTcsIDE2LCAxNywgMTcsIDE2LCAxNywgMTQsIDE3LCAxNiwgMTcsIDE2LCAxNywgMTYsIDE3LCA5XTtcblxuLy8gcHVibGljIG1ldGhvZHM6XG5cdC8qKiBkb2NjZWQgaW4gc3VwZXIgY2xhc3MgKiovXG5cdHAuZ2V0Qm91bmRzID0gZnVuY3Rpb24gKHJlY3QpIHtcblx0XHR2YXIgeCA9IHRoaXMuYmx1clh8MCwgeSA9IHRoaXMuYmx1cll8IDA7XG5cdFx0aWYoeCA8PSAwICYmIHkgPD0gMCkgeyByZXR1cm4gcmVjdDsgfVxuXHRcdHZhciBxID0gTWF0aC5wb3codGhpcy5xdWFsaXR5LCAwLjIpO1xuXHRcdHJldHVybiAocmVjdCB8fCBuZXcgY3JlYXRlanMuUmVjdGFuZ2xlKCkpLnBhZCh5KnErMSx4KnErMSx5KnErMSx4KnErMSk7XG5cdH07XG5cblx0LyoqIGRvY2NlZCBpbiBzdXBlciBjbGFzcyAqKi9cblx0cC5jbG9uZSA9IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBuZXcgQmx1ckZpbHRlcih0aGlzLmJsdXJYLCB0aGlzLmJsdXJZLCB0aGlzLnF1YWxpdHkpO1xuXHR9O1xuXG5cdC8qKiBkb2NjZWQgaW4gc3VwZXIgY2xhc3MgKiovXG5cdHAudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gXCJbQmx1ckZpbHRlcl1cIjtcblx0fTtcblxuXG4vLyBwcml2YXRlIG1ldGhvZHM6XG5cblx0LyoqIGRvY2NlZCBpbiBzdXBlciBjbGFzcyAqKi9cblx0cC5fYXBwbHlGaWx0ZXIgPSBmdW5jdGlvbiAoaW1hZ2VEYXRhKSB7XG5cdFx0dmFyIHJhZGl1c1ggPSB0aGlzLl9ibHVyWCA+PiAxO1xuXHRcdGlmIChpc05hTihyYWRpdXNYKSB8fCByYWRpdXNYIDwgMCkgcmV0dXJuIGZhbHNlO1xuXHRcdHZhciByYWRpdXNZID0gdGhpcy5fYmx1clkgPj4gMTtcblx0XHRpZiAoaXNOYU4ocmFkaXVzWSkgfHwgcmFkaXVzWSA8IDApIHJldHVybiBmYWxzZTtcblx0XHRpZiAocmFkaXVzWCA9PSAwICYmIHJhZGl1c1kgPT0gMCkgcmV0dXJuIGZhbHNlO1xuXG5cdFx0dmFyIGl0ZXJhdGlvbnMgPSB0aGlzLnF1YWxpdHk7XG5cdFx0aWYgKGlzTmFOKGl0ZXJhdGlvbnMpIHx8IGl0ZXJhdGlvbnMgPCAxKSBpdGVyYXRpb25zID0gMTtcblx0XHRpdGVyYXRpb25zIHw9IDA7XG5cdFx0aWYgKGl0ZXJhdGlvbnMgPiAzKSBpdGVyYXRpb25zID0gMztcblx0XHRpZiAoaXRlcmF0aW9ucyA8IDEpIGl0ZXJhdGlvbnMgPSAxO1xuXG5cdFx0dmFyIHB4ID0gaW1hZ2VEYXRhLmRhdGE7XG5cdFx0dmFyIHg9MCwgeT0wLCBpPTAsIHA9MCwgeXA9MCwgeWk9MCwgeXc9MCwgcj0wLCBnPTAsIGI9MCwgYT0wLCBwcj0wLCBwZz0wLCBwYj0wLCBwYT0wO1xuXG5cdFx0dmFyIGRpdnggPSAocmFkaXVzWCArIHJhZGl1c1ggKyAxKSB8IDA7XG5cdFx0dmFyIGRpdnkgPSAocmFkaXVzWSArIHJhZGl1c1kgKyAxKSB8IDA7XG5cdFx0dmFyIHcgPSBpbWFnZURhdGEud2lkdGggfCAwO1xuXHRcdHZhciBoID0gaW1hZ2VEYXRhLmhlaWdodCB8IDA7XG5cblx0XHR2YXIgdzEgPSAodyAtIDEpIHwgMDtcblx0XHR2YXIgaDEgPSAoaCAtIDEpIHwgMDtcblx0XHR2YXIgcnhwMSA9IChyYWRpdXNYICsgMSkgfCAwO1xuXHRcdHZhciByeXAxID0gKHJhZGl1c1kgKyAxKSB8IDA7XG5cblx0XHR2YXIgc3N4ID0ge3I6MCxiOjAsZzowLGE6MH07XG5cdFx0dmFyIHN4ID0gc3N4O1xuXHRcdGZvciAoIGkgPSAxOyBpIDwgZGl2eDsgaSsrIClcblx0XHR7XG5cdFx0XHRzeCA9IHN4Lm4gPSB7cjowLGI6MCxnOjAsYTowfTtcblx0XHR9XG5cdFx0c3gubiA9IHNzeDtcblxuXHRcdHZhciBzc3kgPSB7cjowLGI6MCxnOjAsYTowfTtcblx0XHR2YXIgc3kgPSBzc3k7XG5cdFx0Zm9yICggaSA9IDE7IGkgPCBkaXZ5OyBpKysgKVxuXHRcdHtcblx0XHRcdHN5ID0gc3kubiA9IHtyOjAsYjowLGc6MCxhOjB9O1xuXHRcdH1cblx0XHRzeS5uID0gc3N5O1xuXG5cdFx0dmFyIHNpID0gbnVsbDtcblxuXG5cdFx0dmFyIG10eCA9IEJsdXJGaWx0ZXIuTVVMX1RBQkxFW3JhZGl1c1hdIHwgMDtcblx0XHR2YXIgc3R4ID0gQmx1ckZpbHRlci5TSEdfVEFCTEVbcmFkaXVzWF0gfCAwO1xuXHRcdHZhciBtdHkgPSBCbHVyRmlsdGVyLk1VTF9UQUJMRVtyYWRpdXNZXSB8IDA7XG5cdFx0dmFyIHN0eSA9IEJsdXJGaWx0ZXIuU0hHX1RBQkxFW3JhZGl1c1ldIHwgMDtcblxuXHRcdHdoaWxlIChpdGVyYXRpb25zLS0gPiAwKSB7XG5cblx0XHRcdHl3ID0geWkgPSAwO1xuXHRcdFx0dmFyIG1zID0gbXR4O1xuXHRcdFx0dmFyIHNzID0gc3R4O1xuXHRcdFx0Zm9yICh5ID0gaDsgLS15ID4gLTE7KSB7XG5cdFx0XHRcdHIgPSByeHAxICogKHByID0gcHhbKHlpKSB8IDBdKTtcblx0XHRcdFx0ZyA9IHJ4cDEgKiAocGcgPSBweFsoeWkgKyAxKSB8IDBdKTtcblx0XHRcdFx0YiA9IHJ4cDEgKiAocGIgPSBweFsoeWkgKyAyKSB8IDBdKTtcblx0XHRcdFx0YSA9IHJ4cDEgKiAocGEgPSBweFsoeWkgKyAzKSB8IDBdKTtcblxuXHRcdFx0XHRzeCA9IHNzeDtcblxuXHRcdFx0XHRmb3IoIGkgPSByeHAxOyAtLWkgPiAtMTsgKVxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0c3guciA9IHByO1xuXHRcdFx0XHRcdHN4LmcgPSBwZztcblx0XHRcdFx0XHRzeC5iID0gcGI7XG5cdFx0XHRcdFx0c3guYSA9IHBhO1xuXHRcdFx0XHRcdHN4ID0gc3gubjtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGZvciggaSA9IDE7IGkgPCByeHAxOyBpKysgKVxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0cCA9ICh5aSArICgodzEgPCBpID8gdzEgOiBpKSA8PCAyKSkgfCAwO1xuXHRcdFx0XHRcdHIgKz0gKCBzeC5yID0gcHhbcF0pO1xuXHRcdFx0XHRcdGcgKz0gKCBzeC5nID0gcHhbcCsxXSk7XG5cdFx0XHRcdFx0YiArPSAoIHN4LmIgPSBweFtwKzJdKTtcblx0XHRcdFx0XHRhICs9ICggc3guYSA9IHB4W3ArM10pO1xuXG5cdFx0XHRcdFx0c3ggPSBzeC5uO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0c2kgPSBzc3g7XG5cdFx0XHRcdGZvciAoIHggPSAwOyB4IDwgdzsgeCsrIClcblx0XHRcdFx0e1xuXHRcdFx0XHRcdHB4W3lpKytdID0gKHIgKiBtcykgPj4+IHNzO1xuXHRcdFx0XHRcdHB4W3lpKytdID0gKGcgKiBtcykgPj4+IHNzO1xuXHRcdFx0XHRcdHB4W3lpKytdID0gKGIgKiBtcykgPj4+IHNzO1xuXHRcdFx0XHRcdHB4W3lpKytdID0gKGEgKiBtcykgPj4+IHNzO1xuXG5cdFx0XHRcdFx0cCA9ICgoeXcgKyAoKHAgPSB4ICsgcmFkaXVzWCArIDEpIDwgdzEgPyBwIDogdzEpKSA8PCAyKTtcblxuXHRcdFx0XHRcdHIgLT0gc2kuciAtICggc2kuciA9IHB4W3BdKTtcblx0XHRcdFx0XHRnIC09IHNpLmcgLSAoIHNpLmcgPSBweFtwKzFdKTtcblx0XHRcdFx0XHRiIC09IHNpLmIgLSAoIHNpLmIgPSBweFtwKzJdKTtcblx0XHRcdFx0XHRhIC09IHNpLmEgLSAoIHNpLmEgPSBweFtwKzNdKTtcblxuXHRcdFx0XHRcdHNpID0gc2kubjtcblxuXHRcdFx0XHR9XG5cdFx0XHRcdHl3ICs9IHc7XG5cdFx0XHR9XG5cblx0XHRcdG1zID0gbXR5O1xuXHRcdFx0c3MgPSBzdHk7XG5cdFx0XHRmb3IgKHggPSAwOyB4IDwgdzsgeCsrKSB7XG5cdFx0XHRcdHlpID0gKHggPDwgMikgfCAwO1xuXG5cdFx0XHRcdHIgPSAocnlwMSAqIChwciA9IHB4W3lpXSkpIHwgMDtcblx0XHRcdFx0ZyA9IChyeXAxICogKHBnID0gcHhbKHlpICsgMSkgfCAwXSkpIHwgMDtcblx0XHRcdFx0YiA9IChyeXAxICogKHBiID0gcHhbKHlpICsgMikgfCAwXSkpIHwgMDtcblx0XHRcdFx0YSA9IChyeXAxICogKHBhID0gcHhbKHlpICsgMykgfCAwXSkpIHwgMDtcblxuXHRcdFx0XHRzeSA9IHNzeTtcblx0XHRcdFx0Zm9yKCBpID0gMDsgaSA8IHJ5cDE7IGkrKyApXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRzeS5yID0gcHI7XG5cdFx0XHRcdFx0c3kuZyA9IHBnO1xuXHRcdFx0XHRcdHN5LmIgPSBwYjtcblx0XHRcdFx0XHRzeS5hID0gcGE7XG5cdFx0XHRcdFx0c3kgPSBzeS5uO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0eXAgPSB3O1xuXG5cdFx0XHRcdGZvciggaSA9IDE7IGkgPD0gcmFkaXVzWTsgaSsrIClcblx0XHRcdFx0e1xuXHRcdFx0XHRcdHlpID0gKCB5cCArIHggKSA8PCAyO1xuXG5cdFx0XHRcdFx0ciArPSAoIHN5LnIgPSBweFt5aV0pO1xuXHRcdFx0XHRcdGcgKz0gKCBzeS5nID0gcHhbeWkrMV0pO1xuXHRcdFx0XHRcdGIgKz0gKCBzeS5iID0gcHhbeWkrMl0pO1xuXHRcdFx0XHRcdGEgKz0gKCBzeS5hID0gcHhbeWkrM10pO1xuXG5cdFx0XHRcdFx0c3kgPSBzeS5uO1xuXG5cdFx0XHRcdFx0aWYoIGkgPCBoMSApXG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0eXAgKz0gdztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR5aSA9IHg7XG5cdFx0XHRcdHNpID0gc3N5O1xuXHRcdFx0XHRpZiAoIGl0ZXJhdGlvbnMgPiAwIClcblx0XHRcdFx0e1xuXHRcdFx0XHRcdGZvciAoIHkgPSAwOyB5IDwgaDsgeSsrIClcblx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRwID0geWkgPDwgMjtcblx0XHRcdFx0XHRcdHB4W3ArM10gPSBwYSA9KGEgKiBtcykgPj4+IHNzO1xuXHRcdFx0XHRcdFx0aWYgKCBwYSA+IDAgKVxuXHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHRweFtwXSAgID0gKChyICogbXMpID4+PiBzcyApO1xuXHRcdFx0XHRcdFx0XHRweFtwKzFdID0gKChnICogbXMpID4+PiBzcyApO1xuXHRcdFx0XHRcdFx0XHRweFtwKzJdID0gKChiICogbXMpID4+PiBzcyApO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0cHhbcF0gPSBweFtwKzFdID0gcHhbcCsyXSA9IDBcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0cCA9ICggeCArICgoICggcCA9IHkgKyByeXAxKSA8IGgxID8gcCA6IGgxICkgKiB3ICkpIDw8IDI7XG5cblx0XHRcdFx0XHRcdHIgLT0gc2kuciAtICggc2kuciA9IHB4W3BdKTtcblx0XHRcdFx0XHRcdGcgLT0gc2kuZyAtICggc2kuZyA9IHB4W3ArMV0pO1xuXHRcdFx0XHRcdFx0YiAtPSBzaS5iIC0gKCBzaS5iID0gcHhbcCsyXSk7XG5cdFx0XHRcdFx0XHRhIC09IHNpLmEgLSAoIHNpLmEgPSBweFtwKzNdKTtcblxuXHRcdFx0XHRcdFx0c2kgPSBzaS5uO1xuXG5cdFx0XHRcdFx0XHR5aSArPSB3O1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRmb3IgKCB5ID0gMDsgeSA8IGg7IHkrKyApXG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0cCA9IHlpIDw8IDI7XG5cdFx0XHRcdFx0XHRweFtwKzNdID0gcGEgPShhICogbXMpID4+PiBzcztcblx0XHRcdFx0XHRcdGlmICggcGEgPiAwIClcblx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0cGEgPSAyNTUgLyBwYTtcblx0XHRcdFx0XHRcdFx0cHhbcF0gICA9ICgociAqIG1zKSA+Pj4gc3MgKSAqIHBhO1xuXHRcdFx0XHRcdFx0XHRweFtwKzFdID0gKChnICogbXMpID4+PiBzcyApICogcGE7XG5cdFx0XHRcdFx0XHRcdHB4W3ArMl0gPSAoKGIgKiBtcykgPj4+IHNzICkgKiBwYTtcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdHB4W3BdID0gcHhbcCsxXSA9IHB4W3ArMl0gPSAwXG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdHAgPSAoIHggKyAoKCAoIHAgPSB5ICsgcnlwMSkgPCBoMSA/IHAgOiBoMSApICogdyApKSA8PCAyO1xuXG5cdFx0XHRcdFx0XHRyIC09IHNpLnIgLSAoIHNpLnIgPSBweFtwXSk7XG5cdFx0XHRcdFx0XHRnIC09IHNpLmcgLSAoIHNpLmcgPSBweFtwKzFdKTtcblx0XHRcdFx0XHRcdGIgLT0gc2kuYiAtICggc2kuYiA9IHB4W3ArMl0pO1xuXHRcdFx0XHRcdFx0YSAtPSBzaS5hIC0gKCBzaS5hID0gcHhbcCszXSk7XG5cblx0XHRcdFx0XHRcdHNpID0gc2kubjtcblxuXHRcdFx0XHRcdFx0eWkgKz0gdztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdH1cblx0XHRyZXR1cm4gdHJ1ZTtcblx0fTtcblxuXHRjcmVhdGVqcy5CbHVyRmlsdGVyID0gY3JlYXRlanMucHJvbW90ZShCbHVyRmlsdGVyLCBcIkZpbHRlclwiKTtcbn0oKSk7XG5cbi8vIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXG4vLyBBbHBoYU1hcEZpbHRlci5qc1xuLy8jIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyNcblxuKGZ1bmN0aW9uICgpIHtcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHRcbi8vIGNvbnN0cnVjdG9yOlxuXHQvKipcblx0ICogQXBwbGllcyBhIGdyZXlzY2FsZSBhbHBoYSBtYXAgaW1hZ2UgKG9yIGNhbnZhcykgdG8gdGhlIHRhcmdldCwgc3VjaCB0aGF0IHRoZSBhbHBoYSBjaGFubmVsIG9mIHRoZSByZXN1bHQgd2lsbFxuXHQgKiBiZSBjb3BpZWQgZnJvbSB0aGUgcmVkIGNoYW5uZWwgb2YgdGhlIG1hcCwgYW5kIHRoZSBSR0IgY2hhbm5lbHMgd2lsbCBiZSBjb3BpZWQgZnJvbSB0aGUgdGFyZ2V0LlxuXHQgKlxuXHQgKiBHZW5lcmFsbHksIGl0IGlzIHJlY29tbWVuZGVkIHRoYXQgeW91IHVzZSB7eyNjcm9zc0xpbmsgXCJBbHBoYU1hc2tGaWx0ZXJcIn19e3svY3Jvc3NMaW5rfX0sIGJlY2F1c2UgaXQgaGFzIG11Y2hcblx0ICogYmV0dGVyIHBlcmZvcm1hbmNlLlxuXHQgKlxuXHQgKiA8aDQ+RXhhbXBsZTwvaDQ+XG5cdCAqIFRoaXMgZXhhbXBsZSBkcmF3cyBhIHJlZC0+Ymx1ZSBib3gsIGNhY2hlcyBpdCwgYW5kIHRoZW4gdXNlcyB0aGUgY2FjaGUgY2FudmFzIGFzIGFuIGFscGhhIG1hcCBvbiBhIDEwMHgxMDAgaW1hZ2UuXG5cdCAqXG5cdCAqICAgICAgIHZhciBib3ggPSBuZXcgY3JlYXRlanMuU2hhcGUoKTtcblx0ICogICAgICAgYm94LmdyYXBoaWNzLmJlZ2luTGluZWFyR3JhZGllbnRGaWxsKFtcIiNmZjAwMDBcIiwgXCIjMDAwMGZmXCJdLCBbMCwgMV0sIDAsIDAsIDAsIDEwMClcblx0ICogICAgICAgYm94LmdyYXBoaWNzLmRyYXdSZWN0KDAsIDAsIDEwMCwgMTAwKTtcblx0ICogICAgICAgYm94LmNhY2hlKDAsIDAsIDEwMCwgMTAwKTtcblx0ICpcblx0ICogICAgICAgdmFyIGJtcCA9IG5ldyBjcmVhdGVqcy5CaXRtYXAoXCJwYXRoL3RvL2ltYWdlLmpwZ1wiKTtcblx0ICogICAgICAgYm1wLmZpbHRlcnMgPSBbXG5cdCAqICAgICAgICAgICBuZXcgY3JlYXRlanMuQWxwaGFNYXBGaWx0ZXIoYm94LmNhY2hlQ2FudmFzKVxuXHQgKiAgICAgICBdO1xuXHQgKiAgICAgICBibXAuY2FjaGUoMCwgMCwgMTAwLCAxMDApO1xuXHQgKiAgICAgICBzdGFnZS5hZGRDaGlsZChibXApO1xuXHQgKlxuXHQgKiBTZWUge3sjY3Jvc3NMaW5rIFwiRmlsdGVyXCJ9fXt7L2Nyb3NzTGlua319IGZvciBtb3JlIGluZm9ybWF0aW9uIG9uIGFwcGx5aW5nIGZpbHRlcnMuXG5cdCAqIEBjbGFzcyBBbHBoYU1hcEZpbHRlclxuXHQgKiBAZXh0ZW5kcyBGaWx0ZXJcblx0ICogQGNvbnN0cnVjdG9yXG5cdCAqIEBwYXJhbSB7SFRNTEltYWdlRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudH0gYWxwaGFNYXAgVGhlIGdyZXlzY2FsZSBpbWFnZSAob3IgY2FudmFzKSB0byB1c2UgYXMgdGhlIGFscGhhIHZhbHVlIGZvciB0aGVcblx0ICogcmVzdWx0LiBUaGlzIHNob3VsZCBiZSBleGFjdGx5IHRoZSBzYW1lIGRpbWVuc2lvbnMgYXMgdGhlIHRhcmdldC5cblx0ICoqL1xuXHRmdW5jdGlvbiBBbHBoYU1hcEZpbHRlcihhbHBoYU1hcCkge1xuXHRcdHRoaXMuRmlsdGVyX2NvbnN0cnVjdG9yKCk7XG5cdFxuXHQvLyBwdWJsaWMgcHJvcGVydGllczpcblx0XHQvKipcblx0XHQgKiBUaGUgZ3JleXNjYWxlIGltYWdlIChvciBjYW52YXMpIHRvIHVzZSBhcyB0aGUgYWxwaGEgdmFsdWUgZm9yIHRoZSByZXN1bHQuIFRoaXMgc2hvdWxkIGJlIGV4YWN0bHkgdGhlIHNhbWVcblx0XHQgKiBkaW1lbnNpb25zIGFzIHRoZSB0YXJnZXQuXG5cdFx0ICogQHByb3BlcnR5IGFscGhhTWFwXG5cdFx0ICogQHR5cGUgSFRNTEltYWdlRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudFxuXHRcdCAqKi9cblx0XHR0aGlzLmFscGhhTWFwID0gYWxwaGFNYXA7XG5cdFx0XG5cdFx0XG5cdC8vIHByaXZhdGUgcHJvcGVydGllczpcblx0XHQvKipcblx0XHQgKiBAcHJvcGVydHkgX2FscGhhTWFwXG5cdFx0ICogQHByb3RlY3RlZFxuXHRcdCAqIEB0eXBlIEhUTUxJbWFnZUVsZW1lbnR8SFRNTENhbnZhc0VsZW1lbnRcblx0XHQgKiovXG5cdFx0dGhpcy5fYWxwaGFNYXAgPSBudWxsO1xuXHRcdFxuXHRcdC8qKlxuXHRcdCAqIEBwcm9wZXJ0eSBfbWFwRGF0YVxuXHRcdCAqIEBwcm90ZWN0ZWRcblx0XHQgKiBAdHlwZSBVaW50OENsYW1wZWRBcnJheVxuXHRcdCAqKi9cblx0XHR0aGlzLl9tYXBEYXRhID0gbnVsbDtcblx0XHR0aGlzLl9tYXBUZXh0dXJlID0gbnVsbDtcblxuXHRcdHRoaXMuRlJBR19TSEFERVJfQk9EWSA9IChcblx0XHRcdFwidW5pZm9ybSBzYW1wbGVyMkQgdUFscGhhU2FtcGxlcjtcIitcblxuXHRcdFx0XCJ2b2lkIG1haW4odm9pZCkge1wiICtcblx0XHRcdFx0XCJ2ZWM0IGNvbG9yID0gdGV4dHVyZTJEKHVTYW1wbGVyLCB2UmVuZGVyQ29vcmQpO1wiICtcblx0XHRcdFx0XCJ2ZWM0IGFscGhhTWFwID0gdGV4dHVyZTJEKHVBbHBoYVNhbXBsZXIsIHZUZXh0dXJlQ29vcmQpO1wiICtcblxuXHRcdFx0XHQvLyBzb21lIGltYWdlIGZvcm1hdHMgY2FuIGhhdmUgdHJhbnNwYXJlbnQgd2hpdGUgcmdiYSgxLDEsMSwgMCkgd2hlbiBwdXQgb24gdGhlIEdQVSwgdGhpcyBtZWFucyB3ZSBuZWVkIGEgc2xpZ2h0IHR3ZWFrXG5cdFx0XHRcdC8vIHVzaW5nIGNlaWwgZW5zdXJlIHRoYXQgdGhlIGNvbG91ciB3aWxsIGJlIHVzZWQgc28gbG9uZyBhcyBpdCBleGlzdHMgYnV0IHB1cmUgdHJhbnNwYXJlbmN5IHdpbGwgYmUgdHJlYXRlZCBibGFja1xuXHRcdFx0XHRcImdsX0ZyYWdDb2xvciA9IHZlYzQoY29sb3IucmdiLCBjb2xvci5hICogKGFscGhhTWFwLnIgKiBjZWlsKGFscGhhTWFwLmEpKSk7XCIgK1xuXHRcdFx0XCJ9XCJcblx0XHQpO1xuXHR9XG5cdHZhciBwID0gY3JlYXRlanMuZXh0ZW5kKEFscGhhTWFwRmlsdGVyLCBjcmVhdGVqcy5GaWx0ZXIpO1xuXG5cdC8vIFRPRE86IGRlcHJlY2F0ZWRcblx0Ly8gcC5pbml0aWFsaXplID0gZnVuY3Rpb24oKSB7fTsgLy8gc2VhcmNoYWJsZSBmb3IgZGV2cyB3b25kZXJpbmcgd2hlcmUgaXQgaXMuIFJFTU9WRUQuIFNlZSBkb2NzIGZvciBkZXRhaWxzLlxuXG5cdC8qKiBkb2NjZWQgaW4gc3VwZXIgY2xhc3MgKiovXG5cdHAuc2hhZGVyUGFyYW1TZXR1cCA9IGZ1bmN0aW9uKGdsLCBzdGFnZSwgc2hhZGVyUHJvZ3JhbSkge1xuXHRcdGlmKCF0aGlzLl9tYXBUZXh0dXJlKSB7IHRoaXMuX21hcFRleHR1cmUgPSBnbC5jcmVhdGVUZXh0dXJlKCk7IH1cblxuXHRcdGdsLmFjdGl2ZVRleHR1cmUoZ2wuVEVYVFVSRTEpO1xuXHRcdGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHRoaXMuX21hcFRleHR1cmUpO1xuXHRcdHN0YWdlLnNldFRleHR1cmVQYXJhbXMoZ2wpO1xuXHRcdGdsLnRleEltYWdlMkQoZ2wuVEVYVFVSRV8yRCwgMCwgZ2wuUkdCQSwgZ2wuUkdCQSwgZ2wuVU5TSUdORURfQllURSwgdGhpcy5hbHBoYU1hcCk7XG5cblx0XHRnbC51bmlmb3JtMWkoXG5cdFx0XHRnbC5nZXRVbmlmb3JtTG9jYXRpb24oc2hhZGVyUHJvZ3JhbSwgXCJ1QWxwaGFTYW1wbGVyXCIpLFxuXHRcdFx0MVxuXHRcdCk7XG5cdH07XG5cbi8vIHB1YmxpYyBtZXRob2RzOlxuXHQvKiogZG9jY2VkIGluIHN1cGVyIGNsYXNzICoqL1xuXHRwLmNsb25lID0gZnVuY3Rpb24gKCkge1xuXHRcdHZhciBvID0gbmV3IEFscGhhTWFwRmlsdGVyKHRoaXMuYWxwaGFNYXApO1xuXHRcdG8uX2FscGhhTWFwID0gdGhpcy5fYWxwaGFNYXA7XG5cdFx0by5fbWFwRGF0YSA9IHRoaXMuX21hcERhdGE7XG5cdFx0cmV0dXJuIG87XG5cdH07XG5cblx0LyoqIGRvY2NlZCBpbiBzdXBlciBjbGFzcyAqKi9cblx0cC50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcblx0XHRyZXR1cm4gXCJbQWxwaGFNYXBGaWx0ZXJdXCI7XG5cdH07XG5cblxuLy8gcHJpdmF0ZSBtZXRob2RzOlxuXHQvKiogZG9jY2VkIGluIHN1cGVyIGNsYXNzICoqL1xuXHRwLl9hcHBseUZpbHRlciA9IGZ1bmN0aW9uIChpbWFnZURhdGEpIHtcblx0XHRpZiAoIXRoaXMuYWxwaGFNYXApIHsgcmV0dXJuIHRydWU7IH1cblx0XHRpZiAoIXRoaXMuX3ByZXBBbHBoYU1hcCgpKSB7IHJldHVybiBmYWxzZTsgfVxuXHRcdFxuXHRcdC8vIFRPRE86IHVwZGF0ZSB0byBzdXBwb3J0IHNjZW5hcmlvcyB3aGVyZSB0aGUgdGFyZ2V0IGhhcyBkaWZmZXJlbnQgZGltZW5zaW9ucy5cblx0XHR2YXIgZGF0YSA9IGltYWdlRGF0YS5kYXRhO1xuXHRcdHZhciBtYXAgPSB0aGlzLl9tYXBEYXRhO1xuXHRcdGZvcih2YXIgaT0wLCBsPWRhdGEubGVuZ3RoOyBpPGw7IGkgKz0gNCkgeyBkYXRhW2kgKyAzXSA9IG1hcFtpXSB8fCAwOyB9XG5cdFx0XG5cdFx0cmV0dXJuIHRydWU7XG5cdH07XG5cblx0LyoqXG5cdCAqIEBtZXRob2QgX3ByZXBBbHBoYU1hcFxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqKi9cblx0cC5fcHJlcEFscGhhTWFwID0gZnVuY3Rpb24gKCkge1xuXHRcdGlmICghdGhpcy5hbHBoYU1hcCkgeyByZXR1cm4gZmFsc2U7IH1cblx0XHRpZiAodGhpcy5hbHBoYU1hcCA9PSB0aGlzLl9hbHBoYU1hcCAmJiB0aGlzLl9tYXBEYXRhKSB7IHJldHVybiB0cnVlOyB9XG5cblx0XHR0aGlzLl9tYXBEYXRhID0gbnVsbDtcblx0XHR2YXIgbWFwID0gdGhpcy5fYWxwaGFNYXAgPSB0aGlzLmFscGhhTWFwO1xuXHRcdHZhciBjYW52YXMgPSBtYXA7XG5cdFx0dmFyIGN0eDtcblx0XHRpZiAobWFwIGluc3RhbmNlb2YgSFRNTENhbnZhc0VsZW1lbnQpIHtcblx0XHRcdGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGNhbnZhcyA9IGNyZWF0ZWpzLmNyZWF0ZUNhbnZhcyA/IGNyZWF0ZWpzLmNyZWF0ZUNhbnZhcygpIDogZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtcblx0XHRcdGNhbnZhcy53aWR0aCA9IG1hcC53aWR0aDtcblx0XHRcdGNhbnZhcy5oZWlnaHQgPSBtYXAuaGVpZ2h0O1xuXHRcdFx0Y3R4ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcblx0XHRcdGN0eC5kcmF3SW1hZ2UobWFwLCAwLCAwKTtcblx0XHR9XG5cblx0XHR0cnkge1xuXHRcdFx0dmFyIGltZ0RhdGEgPSBjdHguZ2V0SW1hZ2VEYXRhKDAsIDAsIG1hcC53aWR0aCwgbWFwLmhlaWdodCk7XG5cdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0Ly9pZiAoIXRoaXMuc3VwcHJlc3NDcm9zc0RvbWFpbkVycm9ycykgdGhyb3cgbmV3IEVycm9yKFwidW5hYmxlIHRvIGFjY2VzcyBsb2NhbCBpbWFnZSBkYXRhOiBcIiArIGUpO1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblx0XHRcblx0XHR0aGlzLl9tYXBEYXRhID0gaW1nRGF0YS5kYXRhO1xuXHRcdHJldHVybiB0cnVlO1xuXHR9O1xuXG5cblx0Y3JlYXRlanMuQWxwaGFNYXBGaWx0ZXIgPSBjcmVhdGVqcy5wcm9tb3RlKEFscGhhTWFwRmlsdGVyLCBcIkZpbHRlclwiKTtcbn0oKSk7XG5cbi8vIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXG4vLyBBbHBoYU1hc2tGaWx0ZXIuanNcbi8vIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXG5cbihmdW5jdGlvbiAoKSB7XG5cdFwidXNlIHN0cmljdFwiO1xuXG5cbi8vIGNvbnN0cnVjdG9yOlxuXHQvKipcblx0ICogQXBwbGllcyB0aGUgYWxwaGEgZnJvbSB0aGUgbWFzayBpbWFnZSAob3IgY2FudmFzKSB0byB0aGUgdGFyZ2V0LCBzdWNoIHRoYXQgdGhlIGFscGhhIGNoYW5uZWwgb2YgdGhlIHJlc3VsdCB3aWxsXG5cdCAqIGJlIGRlcml2ZWQgZnJvbSB0aGUgbWFzaywgYW5kIHRoZSBSR0IgY2hhbm5lbHMgd2lsbCBiZSBjb3BpZWQgZnJvbSB0aGUgdGFyZ2V0LiBUaGlzIGNhbiBiZSB1c2VkLCBmb3IgZXhhbXBsZSwgdG9cblx0ICogYXBwbHkgYW4gYWxwaGEgbWFzayB0byBhIGRpc3BsYXkgb2JqZWN0LiBUaGlzIGNhbiBhbHNvIGJlIHVzZWQgdG8gY29tYmluZSBhIEpQRyBjb21wcmVzc2VkIFJHQiBpbWFnZSB3aXRoIGEgUE5HMzJcblx0ICogYWxwaGEgbWFzaywgd2hpY2ggY2FuIHJlc3VsdCBpbiBhIG11Y2ggc21hbGxlciBmaWxlIHNpemUgdGhhbiBhIHNpbmdsZSBQTkczMiBjb250YWluaW5nIEFSR0IuXG5cdCAqXG5cdCAqIDxiPklNUE9SVEFOVCBOT1RFOiBUaGlzIGZpbHRlciBjdXJyZW50bHkgZG9lcyBub3Qgc3VwcG9ydCB0aGUgdGFyZ2V0Q3R4LCBvciB0YXJnZXRYL1kgcGFyYW1ldGVycyBjb3JyZWN0bHkuPC9iPlxuXHQgKlxuXHQgKiA8aDQ+RXhhbXBsZTwvaDQ+XG5cdCAqIFRoaXMgZXhhbXBsZSBkcmF3cyBhIGdyYWRpZW50IGJveCwgdGhlbiBjYWNoZXMgaXQgYW5kIHVzZXMgdGhlIFwiY2FjaGVDYW52YXNcIiBhcyB0aGUgYWxwaGEgbWFzayBvbiBhIDEwMHgxMDAgaW1hZ2UuXG5cdCAqXG5cdCAqICAgICAgdmFyIGJveCA9IG5ldyBjcmVhdGVqcy5TaGFwZSgpO1xuXHQgKiAgICAgIGJveC5ncmFwaGljcy5iZWdpbkxpbmVhckdyYWRpZW50RmlsbChbXCIjMDAwMDAwXCIsIFwicmdiYSgwLCAwLCAwLCAwKVwiXSwgWzAsIDFdLCAwLCAwLCAxMDAsIDEwMClcblx0ICogICAgICBib3guZ3JhcGhpY3MuZHJhd1JlY3QoMCwgMCwgMTAwLCAxMDApO1xuXHQgKiAgICAgIGJveC5jYWNoZSgwLCAwLCAxMDAsIDEwMCk7XG5cdCAqXG5cdCAqICAgICAgdmFyIGJtcCA9IG5ldyBjcmVhdGVqcy5CaXRtYXAoXCJwYXRoL3RvL2ltYWdlLmpwZ1wiKTtcblx0ICogICAgICBibXAuZmlsdGVycyA9IFtcblx0ICogICAgICAgICAgbmV3IGNyZWF0ZWpzLkFscGhhTWFza0ZpbHRlcihib3guY2FjaGVDYW52YXMpXG5cdCAqICAgICAgXTtcblx0ICogICAgICBibXAuY2FjaGUoMCwgMCwgMTAwLCAxMDApO1xuXHQgKlxuXHQgKiBTZWUge3sjY3Jvc3NMaW5rIFwiRmlsdGVyXCJ9fXt7L2Nyb3NzTGlua319IGZvciBtb3JlIGluZm9ybWF0aW9uIG9uIGFwcGx5aW5nIGZpbHRlcnMuXG5cdCAqIEBjbGFzcyBBbHBoYU1hc2tGaWx0ZXJcblx0ICogQGV4dGVuZHMgRmlsdGVyXG5cdCAqIEBjb25zdHJ1Y3RvclxuXHQgKiBAcGFyYW0ge0hUTUxJbWFnZUVsZW1lbnR8SFRNTENhbnZhc0VsZW1lbnR9IG1hc2tcblx0ICoqL1xuXHRmdW5jdGlvbiBBbHBoYU1hc2tGaWx0ZXIobWFzaykge1xuXHRcdHRoaXMuRmlsdGVyX2NvbnN0cnVjdG9yKCk7XG5cdFxuXHQvLyBwdWJsaWMgcHJvcGVydGllczpcblx0XHQvKipcblx0XHQgKiBUaGUgaW1hZ2UgKG9yIGNhbnZhcykgdG8gdXNlIGFzIHRoZSBtYXNrLlxuXHRcdCAqIEBwcm9wZXJ0eSBtYXNrXG5cdFx0ICogQHR5cGUgSFRNTEltYWdlRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudFxuXHRcdCAqKi9cblx0XHR0aGlzLm1hc2sgPSBtYXNrO1xuXG5cdFx0LyoqIGRvY2NlZCBpbiBzdXBlciBjbGFzcyAqKi9cblx0XHR0aGlzLnVzZXNDb250ZXh0ID0gdHJ1ZTtcblxuXHRcdHRoaXMuRlJBR19TSEFERVJfQk9EWSA9IChcblx0XHRcdFwidW5pZm9ybSBzYW1wbGVyMkQgdUFscGhhU2FtcGxlcjtcIitcblxuXHRcdFx0XCJ2b2lkIG1haW4odm9pZCkge1wiICtcblx0XHRcdFx0XCJ2ZWM0IGNvbG9yID0gdGV4dHVyZTJEKHVTYW1wbGVyLCB2UmVuZGVyQ29vcmQpO1wiICtcblx0XHRcdFx0XCJ2ZWM0IGFscGhhTWFwID0gdGV4dHVyZTJEKHVBbHBoYVNhbXBsZXIsIHZUZXh0dXJlQ29vcmQpO1wiICtcblxuXHRcdFx0XHRcImdsX0ZyYWdDb2xvciA9IHZlYzQoY29sb3IucmdiLCBjb2xvci5hICogYWxwaGFNYXAuYSk7XCIgK1xuXHRcdFx0XCJ9XCJcblx0XHQpO1xuXHR9XG5cdHZhciBwID0gY3JlYXRlanMuZXh0ZW5kKEFscGhhTWFza0ZpbHRlciwgY3JlYXRlanMuRmlsdGVyKTtcblxuXHQvLyBUT0RPOiBkZXByZWNhdGVkXG5cdC8vIHAuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uKCkge307IC8vIHNlYXJjaGFibGUgZm9yIGRldnMgd29uZGVyaW5nIHdoZXJlIGl0IGlzLiBSRU1PVkVELiBTZWUgZG9jcyBmb3IgZGV0YWlscy5cblxuXHQvKiogZG9jY2VkIGluIHN1cGVyIGNsYXNzICoqL1xuXHRwLnNoYWRlclBhcmFtU2V0dXAgPSBmdW5jdGlvbihnbCwgc3RhZ2UsIHNoYWRlclByb2dyYW0pIHtcblx0XHRpZighdGhpcy5fbWFwVGV4dHVyZSkgeyB0aGlzLl9tYXBUZXh0dXJlID0gZ2wuY3JlYXRlVGV4dHVyZSgpOyB9XG5cblx0XHRnbC5hY3RpdmVUZXh0dXJlKGdsLlRFWFRVUkUxKTtcblx0XHRnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCB0aGlzLl9tYXBUZXh0dXJlKTtcblx0XHRzdGFnZS5zZXRUZXh0dXJlUGFyYW1zKGdsKTtcblx0XHRnbC50ZXhJbWFnZTJEKGdsLlRFWFRVUkVfMkQsIDAsIGdsLlJHQkEsIGdsLlJHQkEsIGdsLlVOU0lHTkVEX0JZVEUsIHRoaXMubWFzayk7XG5cblx0XHRnbC51bmlmb3JtMWkoXG5cdFx0XHRnbC5nZXRVbmlmb3JtTG9jYXRpb24oc2hhZGVyUHJvZ3JhbSwgXCJ1QWxwaGFTYW1wbGVyXCIpLFxuXHRcdFx0MVxuXHRcdCk7XG5cdH07XG5cbi8vIHB1YmxpYyBtZXRob2RzOlxuXHQvKipcblx0ICogQXBwbGllcyB0aGUgZmlsdGVyIHRvIHRoZSBzcGVjaWZpZWQgY29udGV4dC5cblx0ICpcblx0ICogPHN0cm9uZz5JTVBPUlRBTlQgTk9URTogVGhpcyBmaWx0ZXIgY3VycmVudGx5IGRvZXMgbm90IHN1cHBvcnQgdGhlIHRhcmdldEN0eCwgb3IgdGFyZ2V0WC9ZIHBhcmFtZXRlcnNcblx0ICogY29ycmVjdGx5Ljwvc3Ryb25nPlxuXHQgKiBAbWV0aG9kIGFwcGx5RmlsdGVyXG5cdCAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggVGhlIDJEIGNvbnRleHQgdG8gdXNlIGFzIHRoZSBzb3VyY2UuXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB4IFRoZSB4IHBvc2l0aW9uIHRvIHVzZSBmb3IgdGhlIHNvdXJjZSByZWN0LlxuXHQgKiBAcGFyYW0ge051bWJlcn0geSBUaGUgeSBwb3NpdGlvbiB0byB1c2UgZm9yIHRoZSBzb3VyY2UgcmVjdC5cblx0ICogQHBhcmFtIHtOdW1iZXJ9IHdpZHRoIFRoZSB3aWR0aCB0byB1c2UgZm9yIHRoZSBzb3VyY2UgcmVjdC5cblx0ICogQHBhcmFtIHtOdW1iZXJ9IGhlaWdodCBUaGUgaGVpZ2h0IHRvIHVzZSBmb3IgdGhlIHNvdXJjZSByZWN0LlxuXHQgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gW3RhcmdldEN0eF0gTk9UIFNVUFBPUlRFRCBJTiBUSElTIEZJTFRFUi4gVGhlIDJEIGNvbnRleHQgdG8gZHJhdyB0aGUgcmVzdWx0IHRvLiBEZWZhdWx0cyB0byB0aGUgY29udGV4dCBwYXNzZWQgdG8gY3R4LlxuXHQgKiBAcGFyYW0ge051bWJlcn0gW3RhcmdldFhdIE5PVCBTVVBQT1JURUQgSU4gVEhJUyBGSUxURVIuIFRoZSB4IHBvc2l0aW9uIHRvIGRyYXcgdGhlIHJlc3VsdCB0by4gRGVmYXVsdHMgdG8gdGhlIHZhbHVlIHBhc3NlZCB0byB4LlxuXHQgKiBAcGFyYW0ge051bWJlcn0gW3RhcmdldFldIE5PVCBTVVBQT1JURUQgSU4gVEhJUyBGSUxURVIuIFRoZSB5IHBvc2l0aW9uIHRvIGRyYXcgdGhlIHJlc3VsdCB0by4gRGVmYXVsdHMgdG8gdGhlIHZhbHVlIHBhc3NlZCB0byB5LlxuXHQgKiBAcmV0dXJuIHtCb29sZWFufSBJZiB0aGUgZmlsdGVyIHdhcyBhcHBsaWVkIHN1Y2Nlc3NmdWxseS5cblx0ICoqL1xuXHRwLmFwcGx5RmlsdGVyID0gZnVuY3Rpb24gKGN0eCwgeCwgeSwgd2lkdGgsIGhlaWdodCwgdGFyZ2V0Q3R4LCB0YXJnZXRYLCB0YXJnZXRZKSB7XG5cdFx0aWYgKCF0aGlzLm1hc2spIHsgcmV0dXJuIHRydWU7IH1cblx0XHR0YXJnZXRDdHggPSB0YXJnZXRDdHggfHwgY3R4O1xuXHRcdGlmICh0YXJnZXRYID09IG51bGwpIHsgdGFyZ2V0WCA9IHg7IH1cblx0XHRpZiAodGFyZ2V0WSA9PSBudWxsKSB7IHRhcmdldFkgPSB5OyB9XG5cblx0XHR0YXJnZXRDdHguc2F2ZSgpO1xuXHRcdGlmIChjdHggIT0gdGFyZ2V0Q3R4KSB7XG5cdFx0XHQvLyBUT0RPOiBzdXBwb3J0IHRhcmdldEN0eCBhbmQgdGFyZ2V0WC9ZXG5cdFx0XHQvLyBjbGVhclJlY3QsIHRoZW4gZHJhdyB0aGUgY3R4IGluP1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdHRhcmdldEN0eC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSBcImRlc3RpbmF0aW9uLWluXCI7XG5cdFx0dGFyZ2V0Q3R4LmRyYXdJbWFnZSh0aGlzLm1hc2ssIHRhcmdldFgsIHRhcmdldFkpO1xuXHRcdHRhcmdldEN0eC5yZXN0b3JlKCk7XG5cdFx0cmV0dXJuIHRydWU7XG5cdH07XG5cblx0LyoqIGRvY2NlZCBpbiBzdXBlciBjbGFzcyAqKi9cblx0cC5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcblx0XHRyZXR1cm4gbmV3IEFscGhhTWFza0ZpbHRlcih0aGlzLm1hc2spO1xuXHR9O1xuXG5cdC8qKiBkb2NjZWQgaW4gc3VwZXIgY2xhc3MgKiovXG5cdHAudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG5cdFx0cmV0dXJuIFwiW0FscGhhTWFza0ZpbHRlcl1cIjtcblx0fTtcblxuXG5cdGNyZWF0ZWpzLkFscGhhTWFza0ZpbHRlciA9IGNyZWF0ZWpzLnByb21vdGUoQWxwaGFNYXNrRmlsdGVyLCBcIkZpbHRlclwiKTtcbn0oKSk7XG5cbi8vIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXG4vLyBDb2xvckZpbHRlci5qc1xuLy8jIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyNcblxuKGZ1bmN0aW9uKCkge1xuXHRcInVzZSBzdHJpY3RcIjtcblxuXG4vLyBjb25zdHJ1Y3Rvcjpcblx0LyoqXG5cdCAqIEFwcGxpZXMgYSBjb2xvciB0cmFuc2Zvcm0gdG8gRGlzcGxheU9iamVjdHMuXG5cdCAqXG5cdCAqIDxoND5FeGFtcGxlPC9oND5cblx0ICogVGhpcyBleGFtcGxlIGRyYXdzIGEgcmVkIGNpcmNsZSwgYW5kIHRoZW4gdHJhbnNmb3JtcyBpdCB0byBCbHVlLiBUaGlzIGlzIGFjY29tcGxpc2hlZCBieSBtdWx0aXBseWluZyBhbGwgdGhlIGNoYW5uZWxzXG5cdCAqIHRvIDAgKGV4Y2VwdCBhbHBoYSwgd2hpY2ggaXMgc2V0IHRvIDEpLCBhbmQgdGhlbiBhZGRpbmcgMjU1IHRvIHRoZSBibHVlIGNoYW5uZWwuXG5cdCAqXG5cdCAqICAgICAgdmFyIHNoYXBlID0gbmV3IGNyZWF0ZWpzLlNoYXBlKCkuc2V0KHt4OjEwMCx5OjEwMH0pO1xuXHQgKiAgICAgIHNoYXBlLmdyYXBoaWNzLmJlZ2luRmlsbChcIiNmZjAwMDBcIikuZHJhd0NpcmNsZSgwLDAsNTApO1xuXHQgKlxuXHQgKiAgICAgIHNoYXBlLmZpbHRlcnMgPSBbXG5cdCAqICAgICAgICAgIG5ldyBjcmVhdGVqcy5Db2xvckZpbHRlcigwLDAsMCwxLCAwLDAsMjU1LDApXG5cdCAqICAgICAgXTtcblx0ICogICAgICBzaGFwZS5jYWNoZSgtNTAsIC01MCwgMTAwLCAxMDApO1xuXHQgKlxuXHQgKiBTZWUge3sjY3Jvc3NMaW5rIFwiRmlsdGVyXCJ9fXt7L2Nyb3NzTGlua319IGZvciBhbiBtb3JlIGluZm9ybWF0aW9uIG9uIGFwcGx5aW5nIGZpbHRlcnMuXG5cdCAqIEBjbGFzcyBDb2xvckZpbHRlclxuXHQgKiBAcGFyYW0ge051bWJlcn0gW3JlZE11bHRpcGxpZXI9MV0gVGhlIGFtb3VudCB0byBtdWx0aXBseSBhZ2FpbnN0IHRoZSByZWQgY2hhbm5lbC4gVGhpcyBpcyBhIHJhbmdlIGJldHdlZW4gMCBhbmQgMS5cblx0ICogQHBhcmFtIHtOdW1iZXJ9IFtncmVlbk11bHRpcGxpZXI9MV0gVGhlIGFtb3VudCB0byBtdWx0aXBseSBhZ2FpbnN0IHRoZSBncmVlbiBjaGFubmVsLiBUaGlzIGlzIGEgcmFuZ2UgYmV0d2VlbiAwIGFuZCAxLlxuXHQgKiBAcGFyYW0ge051bWJlcn0gW2JsdWVNdWx0aXBsaWVyPTFdIFRoZSBhbW91bnQgdG8gbXVsdGlwbHkgYWdhaW5zdCB0aGUgYmx1ZSBjaGFubmVsLiBUaGlzIGlzIGEgcmFuZ2UgYmV0d2VlbiAwIGFuZCAxLlxuXHQgKiBAcGFyYW0ge051bWJlcn0gW2FscGhhTXVsdGlwbGllcj0xXSBUaGUgYW1vdW50IHRvIG11bHRpcGx5IGFnYWluc3QgdGhlIGFscGhhIGNoYW5uZWwuIFRoaXMgaXMgYSByYW5nZSBiZXR3ZWVuIDAgYW5kIDEuXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBbcmVkT2Zmc2V0PTBdIFRoZSBhbW91bnQgdG8gYWRkIHRvIHRoZSByZWQgY2hhbm5lbCBhZnRlciBpdCBoYXMgYmVlbiBtdWx0aXBsaWVkLiBUaGlzIGlzIGEgcmFuZ2Vcblx0ICogYmV0d2VlbiAtMjU1IGFuZCAyNTUuXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBbZ3JlZW5PZmZzZXQ9MF0gVGhlIGFtb3VudCB0byBhZGQgdG8gdGhlIGdyZWVuIGNoYW5uZWwgYWZ0ZXIgaXQgaGFzIGJlZW4gbXVsdGlwbGllZC4gVGhpcyBpcyBhIHJhbmdlXG5cdCAgKiBiZXR3ZWVuIC0yNTUgYW5kIDI1NS5cblx0ICogQHBhcmFtIHtOdW1iZXJ9IFtibHVlT2Zmc2V0PTBdIFRoZSBhbW91bnQgdG8gYWRkIHRvIHRoZSBibHVlIGNoYW5uZWwgYWZ0ZXIgaXQgaGFzIGJlZW4gbXVsdGlwbGllZC4gVGhpcyBpcyBhIHJhbmdlXG5cdCAgKiBiZXR3ZWVuIC0yNTUgYW5kIDI1NS5cblx0ICogQHBhcmFtIHtOdW1iZXJ9IFthbHBoYU9mZnNldD0wXSBUaGUgYW1vdW50IHRvIGFkZCB0byB0aGUgYWxwaGEgY2hhbm5lbCBhZnRlciBpdCBoYXMgYmVlbiBtdWx0aXBsaWVkLiBUaGlzIGlzIGEgcmFuZ2Vcblx0ICAqIGJldHdlZW4gLTI1NSBhbmQgMjU1LlxuXHQgKiBAY29uc3RydWN0b3Jcblx0ICogQGV4dGVuZHMgRmlsdGVyXG5cdCAqKi9cblx0ZnVuY3Rpb24gQ29sb3JGaWx0ZXIocmVkTXVsdGlwbGllciwgZ3JlZW5NdWx0aXBsaWVyLCBibHVlTXVsdGlwbGllciwgYWxwaGFNdWx0aXBsaWVyLCByZWRPZmZzZXQsIGdyZWVuT2Zmc2V0LCBibHVlT2Zmc2V0LCBhbHBoYU9mZnNldCkge1xuXHRcdHRoaXMuRmlsdGVyX2NvbnN0cnVjdG9yKCk7XG5cblx0Ly8gcHVibGljIHByb3BlcnRpZXM6XG5cdFx0LyoqXG5cdFx0ICogUmVkIGNoYW5uZWwgbXVsdGlwbGllci5cblx0XHQgKiBAcHJvcGVydHkgcmVkTXVsdGlwbGllclxuXHRcdCAqIEB0eXBlIE51bWJlclxuXHRcdCAqKi9cblx0XHR0aGlzLnJlZE11bHRpcGxpZXIgPSByZWRNdWx0aXBsaWVyICE9IG51bGwgPyByZWRNdWx0aXBsaWVyIDogMTtcblx0XG5cdFx0LyoqXG5cdFx0ICogR3JlZW4gY2hhbm5lbCBtdWx0aXBsaWVyLlxuXHRcdCAqIEBwcm9wZXJ0eSBncmVlbk11bHRpcGxpZXJcblx0XHQgKiBAdHlwZSBOdW1iZXJcblx0XHQgKiovXG5cdFx0dGhpcy5ncmVlbk11bHRpcGxpZXIgPSBncmVlbk11bHRpcGxpZXIgIT0gbnVsbCA/IGdyZWVuTXVsdGlwbGllciA6IDE7XG5cdFxuXHRcdC8qKlxuXHRcdCAqIEJsdWUgY2hhbm5lbCBtdWx0aXBsaWVyLlxuXHRcdCAqIEBwcm9wZXJ0eSBibHVlTXVsdGlwbGllclxuXHRcdCAqIEB0eXBlIE51bWJlclxuXHRcdCAqKi9cblx0XHR0aGlzLmJsdWVNdWx0aXBsaWVyID0gYmx1ZU11bHRpcGxpZXIgIT0gbnVsbCA/IGJsdWVNdWx0aXBsaWVyIDogMTtcblx0XG5cdFx0LyoqXG5cdFx0ICogQWxwaGEgY2hhbm5lbCBtdWx0aXBsaWVyLlxuXHRcdCAqIEBwcm9wZXJ0eSBhbHBoYU11bHRpcGxpZXJcblx0XHQgKiBAdHlwZSBOdW1iZXJcblx0XHQgKiovXG5cdFx0dGhpcy5hbHBoYU11bHRpcGxpZXIgPSBhbHBoYU11bHRpcGxpZXIgIT0gbnVsbCA/IGFscGhhTXVsdGlwbGllciA6IDE7XG5cdFxuXHRcdC8qKlxuXHRcdCAqIFJlZCBjaGFubmVsIG9mZnNldCAoYWRkZWQgdG8gdmFsdWUpLlxuXHRcdCAqIEBwcm9wZXJ0eSByZWRPZmZzZXRcblx0XHQgKiBAdHlwZSBOdW1iZXJcblx0XHQgKiovXG5cdFx0dGhpcy5yZWRPZmZzZXQgPSByZWRPZmZzZXQgfHwgMDtcblx0XG5cdFx0LyoqXG5cdFx0ICogR3JlZW4gY2hhbm5lbCBvZmZzZXQgKGFkZGVkIHRvIHZhbHVlKS5cblx0XHQgKiBAcHJvcGVydHkgZ3JlZW5PZmZzZXRcblx0XHQgKiBAdHlwZSBOdW1iZXJcblx0XHQgKiovXG5cdFx0dGhpcy5ncmVlbk9mZnNldCA9IGdyZWVuT2Zmc2V0IHx8IDA7XG5cdFxuXHRcdC8qKlxuXHRcdCAqIEJsdWUgY2hhbm5lbCBvZmZzZXQgKGFkZGVkIHRvIHZhbHVlKS5cblx0XHQgKiBAcHJvcGVydHkgYmx1ZU9mZnNldFxuXHRcdCAqIEB0eXBlIE51bWJlclxuXHRcdCAqKi9cblx0XHR0aGlzLmJsdWVPZmZzZXQgPSBibHVlT2Zmc2V0IHx8IDA7XG5cdFxuXHRcdC8qKlxuXHRcdCAqIEFscGhhIGNoYW5uZWwgb2Zmc2V0IChhZGRlZCB0byB2YWx1ZSkuXG5cdFx0ICogQHByb3BlcnR5IGFscGhhT2Zmc2V0XG5cdFx0ICogQHR5cGUgTnVtYmVyXG5cdFx0ICoqL1xuXHRcdHRoaXMuYWxwaGFPZmZzZXQgPSBhbHBoYU9mZnNldCB8fCAwO1xuXG5cdFx0dGhpcy5GUkFHX1NIQURFUl9CT0RZID0gKFxuXHRcdFx0XCJ1bmlmb3JtIHZlYzQgdUNvbG9yTXVsdGlwbGllcjtcIiArXG5cdFx0XHRcInVuaWZvcm0gdmVjNCB1Q29sb3JPZmZzZXQ7XCIgK1xuXG5cdFx0XHRcInZvaWQgbWFpbih2b2lkKSB7XCIgK1xuXHRcdFx0XHRcInZlYzQgY29sb3IgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIHZSZW5kZXJDb29yZCk7XCIgK1xuXG5cdFx0XHRcdFwiZ2xfRnJhZ0NvbG9yID0gKGNvbG9yICogdUNvbG9yTXVsdGlwbGllcikgKyB1Q29sb3JPZmZzZXQ7XCIgK1xuXHRcdFx0XCJ9XCJcblx0XHQpO1xuXG5cdH1cblx0dmFyIHAgPSBjcmVhdGVqcy5leHRlbmQoQ29sb3JGaWx0ZXIsIGNyZWF0ZWpzLkZpbHRlcik7XG5cblx0Ly8gVE9ETzogZGVwcmVjYXRlZFxuXHQvLyBwLmluaXRpYWxpemUgPSBmdW5jdGlvbigpIHt9OyAvLyBzZWFyY2hhYmxlIGZvciBkZXZzIHdvbmRlcmluZyB3aGVyZSBpdCBpcy4gUkVNT1ZFRC4gU2VlIGRvY3MgZm9yIGRldGFpbHMuXG5cblxuLy8gcHVibGljIG1ldGhvZHM6XG5cdC8qKiBkb2NjZWQgaW4gc3VwZXIgY2xhc3MgKiovXG5cdHAuc2hhZGVyUGFyYW1TZXR1cCA9IGZ1bmN0aW9uKGdsLCBzdGFnZSwgc2hhZGVyUHJvZ3JhbSkge1xuXHRcdGdsLnVuaWZvcm00Zihcblx0XHRcdGdsLmdldFVuaWZvcm1Mb2NhdGlvbihzaGFkZXJQcm9ncmFtLCBcInVDb2xvck11bHRpcGxpZXJcIiksXG5cdFx0XHR0aGlzLnJlZE11bHRpcGxpZXIsIHRoaXMuZ3JlZW5NdWx0aXBsaWVyLCB0aGlzLmJsdWVNdWx0aXBsaWVyLCB0aGlzLmFscGhhTXVsdGlwbGllclxuXHRcdCk7XG5cblx0XHRnbC51bmlmb3JtNGYoXG5cdFx0XHRnbC5nZXRVbmlmb3JtTG9jYXRpb24oc2hhZGVyUHJvZ3JhbSwgXCJ1Q29sb3JPZmZzZXRcIiksXG5cdFx0XHR0aGlzLnJlZE9mZnNldC8yNTUsIHRoaXMuZ3JlZW5PZmZzZXQvMjU1LCB0aGlzLmJsdWVPZmZzZXQvMjU1LCB0aGlzLmFscGhhT2Zmc2V0LzI1NVxuXHRcdCk7XG5cdH07XG5cblx0LyoqIGRvY2NlZCBpbiBzdXBlciBjbGFzcyAqKi9cblx0cC50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBcIltDb2xvckZpbHRlcl1cIjtcblx0fTtcblxuXHQvKiogZG9jY2VkIGluIHN1cGVyIGNsYXNzICoqL1xuXHRwLmNsb25lID0gZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIG5ldyBDb2xvckZpbHRlcihcblx0XHRcdHRoaXMucmVkTXVsdGlwbGllciwgdGhpcy5ncmVlbk11bHRpcGxpZXIsIHRoaXMuYmx1ZU11bHRpcGxpZXIsIHRoaXMuYWxwaGFNdWx0aXBsaWVyLFxuXHRcdFx0dGhpcy5yZWRPZmZzZXQsIHRoaXMuZ3JlZW5PZmZzZXQsIHRoaXMuYmx1ZU9mZnNldCwgdGhpcy5hbHBoYU9mZnNldFxuXHRcdCk7XG5cdH07XG5cbi8vIHByaXZhdGUgbWV0aG9kczpcblx0LyoqIGRvY2NlZCBpbiBzdXBlciBjbGFzcyAqKi9cblx0cC5fYXBwbHlGaWx0ZXIgPSBmdW5jdGlvbihpbWFnZURhdGEpIHtcblx0XHR2YXIgZGF0YSA9IGltYWdlRGF0YS5kYXRhO1xuXHRcdHZhciBsID0gZGF0YS5sZW5ndGg7XG5cdFx0Zm9yICh2YXIgaT0wOyBpPGw7IGkrPTQpIHtcblx0XHRcdGRhdGFbaV0gPSBkYXRhW2ldKnRoaXMucmVkTXVsdGlwbGllcit0aGlzLnJlZE9mZnNldDtcblx0XHRcdGRhdGFbaSsxXSA9IGRhdGFbaSsxXSp0aGlzLmdyZWVuTXVsdGlwbGllcit0aGlzLmdyZWVuT2Zmc2V0O1xuXHRcdFx0ZGF0YVtpKzJdID0gZGF0YVtpKzJdKnRoaXMuYmx1ZU11bHRpcGxpZXIrdGhpcy5ibHVlT2Zmc2V0O1xuXHRcdFx0ZGF0YVtpKzNdID0gZGF0YVtpKzNdKnRoaXMuYWxwaGFNdWx0aXBsaWVyK3RoaXMuYWxwaGFPZmZzZXQ7XG5cdFx0fVxuXHRcdHJldHVybiB0cnVlO1xuXHR9O1xuXG5cblx0Y3JlYXRlanMuQ29sb3JGaWx0ZXIgPSBjcmVhdGVqcy5wcm9tb3RlKENvbG9yRmlsdGVyLCBcIkZpbHRlclwiKTtcbn0oKSk7XG5cbi8vIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXG4vLyBDb2xvck1hdHJpeC5qc1xuLy8jIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyNcblxuKGZ1bmN0aW9uKCkge1xuXHRcInVzZSBzdHJpY3RcIjtcblxuXG4vLyBjb25zdHJ1Y3Rvcjpcblx0LyoqXG5cdCAqIFByb3ZpZGVzIGhlbHBlciBmdW5jdGlvbnMgZm9yIGFzc2VtYmxpbmcgYSBtYXRyaXggZm9yIHVzZSB3aXRoIHRoZSB7eyNjcm9zc0xpbmsgXCJDb2xvck1hdHJpeEZpbHRlclwifX17ey9jcm9zc0xpbmt9fS5cblx0ICogTW9zdCBtZXRob2RzIHJldHVybiB0aGUgaW5zdGFuY2UgdG8gZmFjaWxpdGF0ZSBjaGFpbmVkIGNhbGxzLlxuXHQgKlxuXHQgKiA8aDQ+RXhhbXBsZTwvaDQ+XG5cdCAqXG5cdCAqICAgICAgbXlDb2xvck1hdHJpeC5hZGp1c3RIdWUoMjApLmFkanVzdEJyaWdodG5lc3MoNTApO1xuXHQgKlxuXHQgKiBTZWUge3sjY3Jvc3NMaW5rIFwiRmlsdGVyXCJ9fXt7L2Nyb3NzTGlua319IGZvciBhbiBleGFtcGxlIG9mIGhvdyB0byBhcHBseSBmaWx0ZXJzLCBvciB7eyNjcm9zc0xpbmsgXCJDb2xvck1hdHJpeEZpbHRlclwifX17ey9jcm9zc0xpbmt9fVxuXHQgKiBmb3IgYW4gZXhhbXBsZSBvZiBob3cgdG8gdXNlIENvbG9yTWF0cml4IHRvIGNoYW5nZSBhIERpc3BsYXlPYmplY3QncyBjb2xvci5cblx0ICogQGNsYXNzIENvbG9yTWF0cml4XG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBicmlnaHRuZXNzXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBjb250cmFzdFxuXHQgKiBAcGFyYW0ge051bWJlcn0gc2F0dXJhdGlvblxuXHQgKiBAcGFyYW0ge051bWJlcn0gaHVlXG5cdCAqIEBjb25zdHJ1Y3RvclxuXHQgKiovXG5cdGZ1bmN0aW9uIENvbG9yTWF0cml4KGJyaWdodG5lc3MsIGNvbnRyYXN0LCBzYXR1cmF0aW9uLCBodWUpIHtcblx0XHR0aGlzLnNldENvbG9yKGJyaWdodG5lc3MsIGNvbnRyYXN0LCBzYXR1cmF0aW9uLCBodWUpO1xuXHR9XG5cdHZhciBwID0gQ29sb3JNYXRyaXgucHJvdG90eXBlO1xuXG4vLyBjb25zdGFudHM6XG5cdC8qKlxuXHQgKiBBcnJheSBvZiBkZWx0YSB2YWx1ZXMgZm9yIGNvbnRyYXN0IGNhbGN1bGF0aW9ucy5cblx0ICogQHByb3BlcnR5IERFTFRBX0lOREVYXG5cdCAqIEB0eXBlIEFycmF5XG5cdCAqIEBwcm90ZWN0ZWRcblx0ICogQHN0YXRpY1xuXHQgKiovXG5cdENvbG9yTWF0cml4LkRFTFRBX0lOREVYID0gW1xuXHRcdDAsICAgIDAuMDEsIDAuMDIsIDAuMDQsIDAuMDUsIDAuMDYsIDAuMDcsIDAuMDgsIDAuMSwgIDAuMTEsXG5cdFx0MC4xMiwgMC4xNCwgMC4xNSwgMC4xNiwgMC4xNywgMC4xOCwgMC4yMCwgMC4yMSwgMC4yMiwgMC4yNCxcblx0XHQwLjI1LCAwLjI3LCAwLjI4LCAwLjMwLCAwLjMyLCAwLjM0LCAwLjM2LCAwLjM4LCAwLjQwLCAwLjQyLFxuXHRcdDAuNDQsIDAuNDYsIDAuNDgsIDAuNSwgIDAuNTMsIDAuNTYsIDAuNTksIDAuNjIsIDAuNjUsIDAuNjgsXG5cdFx0MC43MSwgMC43NCwgMC43NywgMC44MCwgMC44MywgMC44NiwgMC44OSwgMC45MiwgMC45NSwgMC45OCxcblx0XHQxLjAsICAxLjA2LCAxLjEyLCAxLjE4LCAxLjI0LCAxLjMwLCAxLjM2LCAxLjQyLCAxLjQ4LCAxLjU0LFxuXHRcdDEuNjAsIDEuNjYsIDEuNzIsIDEuNzgsIDEuODQsIDEuOTAsIDEuOTYsIDIuMCwgIDIuMTIsIDIuMjUsXG5cdFx0Mi4zNywgMi41MCwgMi42MiwgMi43NSwgMi44NywgMy4wLCAgMy4yLCAgMy40LCAgMy42LCAgMy44LFxuXHRcdDQuMCwgIDQuMywgIDQuNywgIDQuOSwgIDUuMCwgIDUuNSwgIDYuMCwgIDYuNSwgIDYuOCwgIDcuMCxcblx0XHQ3LjMsICA3LjUsICA3LjgsICA4LjAsICA4LjQsICA4LjcsICA5LjAsICA5LjQsICA5LjYsICA5LjgsXG5cdFx0MTAuMFxuXHRdO1xuXG5cdC8qKlxuXHQgKiBJZGVudGl0eSBtYXRyaXggdmFsdWVzLlxuXHQgKiBAcHJvcGVydHkgSURFTlRJVFlfTUFUUklYXG5cdCAqIEB0eXBlIEFycmF5XG5cdCAqIEBwcm90ZWN0ZWRcblx0ICogQHN0YXRpY1xuXHQgKiovXG5cdENvbG9yTWF0cml4LklERU5USVRZX01BVFJJWCA9IFtcblx0XHQxLDAsMCwwLDAsXG5cdFx0MCwxLDAsMCwwLFxuXHRcdDAsMCwxLDAsMCxcblx0XHQwLDAsMCwxLDAsXG5cdFx0MCwwLDAsMCwxXG5cdF07XG5cblx0LyoqXG5cdCAqIFRoZSBjb25zdGFudCBsZW5ndGggb2YgYSBjb2xvciBtYXRyaXguXG5cdCAqIEBwcm9wZXJ0eSBMRU5HVEhcblx0ICogQHR5cGUgTnVtYmVyXG5cdCAqIEBwcm90ZWN0ZWRcblx0ICogQHN0YXRpY1xuXHQgKiovXG5cdENvbG9yTWF0cml4LkxFTkdUSCA9IENvbG9yTWF0cml4LklERU5USVRZX01BVFJJWC5sZW5ndGg7XG5cblxuLy8gcHVibGljIG1ldGhvZHM6XG5cdC8qKlxuXHQgKiBSZXNldHMgdGhlIGluc3RhbmNlIHdpdGggdGhlIHNwZWNpZmllZCB2YWx1ZXMuXG5cdCAqIEBtZXRob2Qgc2V0Q29sb3Jcblx0ICogQHBhcmFtIHtOdW1iZXJ9IGJyaWdodG5lc3Ncblx0ICogQHBhcmFtIHtOdW1iZXJ9IGNvbnRyYXN0XG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBzYXR1cmF0aW9uXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBodWVcblx0ICogQHJldHVybiB7Q29sb3JNYXRyaXh9IFRoZSBDb2xvck1hdHJpeCBpbnN0YW5jZSB0aGUgbWV0aG9kIGlzIGNhbGxlZCBvbiAodXNlZnVsIGZvciBjaGFpbmluZyBjYWxscy4pXG5cdCAqIEBjaGFpbmFibGVcblx0ICovXG5cdHAuc2V0Q29sb3IgPSBmdW5jdGlvbihicmlnaHRuZXNzLGNvbnRyYXN0LHNhdHVyYXRpb24saHVlKSB7XG5cdFx0cmV0dXJuIHRoaXMucmVzZXQoKS5hZGp1c3RDb2xvcihicmlnaHRuZXNzLGNvbnRyYXN0LHNhdHVyYXRpb24saHVlKTtcblx0fTtcblxuXHQvKipcblx0ICogUmVzZXRzIHRoZSBtYXRyaXggdG8gaWRlbnRpdHkgdmFsdWVzLlxuXHQgKiBAbWV0aG9kIHJlc2V0XG5cdCAqIEByZXR1cm4ge0NvbG9yTWF0cml4fSBUaGUgQ29sb3JNYXRyaXggaW5zdGFuY2UgdGhlIG1ldGhvZCBpcyBjYWxsZWQgb24gKHVzZWZ1bCBmb3IgY2hhaW5pbmcgY2FsbHMuKVxuXHQgKiBAY2hhaW5hYmxlXG5cdCAqL1xuXHRwLnJlc2V0ID0gZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMuY29weShDb2xvck1hdHJpeC5JREVOVElUWV9NQVRSSVgpO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBTaG9ydGN1dCBtZXRob2QgdG8gYWRqdXN0IGJyaWdodG5lc3MsIGNvbnRyYXN0LCBzYXR1cmF0aW9uIGFuZCBodWUuXG5cdCAqIEVxdWl2YWxlbnQgdG8gY2FsbGluZyBhZGp1c3RIdWUoaHVlKSwgYWRqdXN0Q29udHJhc3QoY29udHJhc3QpLFxuXHQgKiBhZGp1c3RCcmlnaHRuZXNzKGJyaWdodG5lc3MpLCBhZGp1c3RTYXR1cmF0aW9uKHNhdHVyYXRpb24pLCBpbiB0aGF0IG9yZGVyLlxuXHQgKiBAbWV0aG9kIGFkanVzdENvbG9yXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBicmlnaHRuZXNzXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBjb250cmFzdFxuXHQgKiBAcGFyYW0ge051bWJlcn0gc2F0dXJhdGlvblxuXHQgKiBAcGFyYW0ge051bWJlcn0gaHVlXG5cdCAqIEByZXR1cm4ge0NvbG9yTWF0cml4fSBUaGUgQ29sb3JNYXRyaXggaW5zdGFuY2UgdGhlIG1ldGhvZCBpcyBjYWxsZWQgb24gKHVzZWZ1bCBmb3IgY2hhaW5pbmcgY2FsbHMuKVxuXHQgKiBAY2hhaW5hYmxlXG5cdCAqKi9cblx0cC5hZGp1c3RDb2xvciA9IGZ1bmN0aW9uKGJyaWdodG5lc3MsY29udHJhc3Qsc2F0dXJhdGlvbixodWUpIHtcblx0XHR0aGlzLmFkanVzdEh1ZShodWUpO1xuXHRcdHRoaXMuYWRqdXN0Q29udHJhc3QoY29udHJhc3QpO1xuXHRcdHRoaXMuYWRqdXN0QnJpZ2h0bmVzcyhicmlnaHRuZXNzKTtcblx0XHRyZXR1cm4gdGhpcy5hZGp1c3RTYXR1cmF0aW9uKHNhdHVyYXRpb24pO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBBZGp1c3RzIHRoZSBicmlnaHRuZXNzIG9mIHBpeGVsIGNvbG9yIGJ5IGFkZGluZyB0aGUgc3BlY2lmaWVkIHZhbHVlIHRvIHRoZSByZWQsIGdyZWVuIGFuZCBibHVlIGNoYW5uZWxzLlxuXHQgKiBQb3NpdGl2ZSB2YWx1ZXMgd2lsbCBtYWtlIHRoZSBpbWFnZSBicmlnaHRlciwgbmVnYXRpdmUgdmFsdWVzIHdpbGwgbWFrZSBpdCBkYXJrZXIuXG5cdCAqIEBtZXRob2QgYWRqdXN0QnJpZ2h0bmVzc1xuXHQgKiBAcGFyYW0ge051bWJlcn0gdmFsdWUgQSB2YWx1ZSBiZXR3ZWVuIC0yNTUgJiAyNTUgdGhhdCB3aWxsIGJlIGFkZGVkIHRvIHRoZSBSR0IgY2hhbm5lbHMuXG5cdCAqIEByZXR1cm4ge0NvbG9yTWF0cml4fSBUaGUgQ29sb3JNYXRyaXggaW5zdGFuY2UgdGhlIG1ldGhvZCBpcyBjYWxsZWQgb24gKHVzZWZ1bCBmb3IgY2hhaW5pbmcgY2FsbHMuKVxuXHQgKiBAY2hhaW5hYmxlXG5cdCAqKi9cblx0cC5hZGp1c3RCcmlnaHRuZXNzID0gZnVuY3Rpb24odmFsdWUpIHtcblx0XHRpZiAodmFsdWUgPT0gMCB8fCBpc05hTih2YWx1ZSkpIHsgcmV0dXJuIHRoaXM7IH1cblx0XHR2YWx1ZSA9IHRoaXMuX2NsZWFuVmFsdWUodmFsdWUsMjU1KTtcblx0XHR0aGlzLl9tdWx0aXBseU1hdHJpeChbXG5cdFx0XHQxLDAsMCwwLHZhbHVlLFxuXHRcdFx0MCwxLDAsMCx2YWx1ZSxcblx0XHRcdDAsMCwxLDAsdmFsdWUsXG5cdFx0XHQwLDAsMCwxLDAsXG5cdFx0XHQwLDAsMCwwLDFcblx0XHRdKTtcblx0XHRyZXR1cm4gdGhpcztcblx0fTtcblxuXHQvKipcblx0ICogQWRqdXN0cyB0aGUgY29udHJhc3Qgb2YgcGl4ZWwgY29sb3IuXG5cdCAqIFBvc2l0aXZlIHZhbHVlcyB3aWxsIGluY3JlYXNlIGNvbnRyYXN0LCBuZWdhdGl2ZSB2YWx1ZXMgd2lsbCBkZWNyZWFzZSBjb250cmFzdC5cblx0ICogQG1ldGhvZCBhZGp1c3RDb250cmFzdFxuXHQgKiBAcGFyYW0ge051bWJlcn0gdmFsdWUgQSB2YWx1ZSBiZXR3ZWVuIC0xMDAgJiAxMDAuXG5cdCAqIEByZXR1cm4ge0NvbG9yTWF0cml4fSBUaGUgQ29sb3JNYXRyaXggaW5zdGFuY2UgdGhlIG1ldGhvZCBpcyBjYWxsZWQgb24gKHVzZWZ1bCBmb3IgY2hhaW5pbmcgY2FsbHMuKVxuXHQgKiBAY2hhaW5hYmxlXG5cdCAqKi9cblx0cC5hZGp1c3RDb250cmFzdCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG5cdFx0aWYgKHZhbHVlID09IDAgfHwgaXNOYU4odmFsdWUpKSB7IHJldHVybiB0aGlzOyB9XG5cdFx0dmFsdWUgPSB0aGlzLl9jbGVhblZhbHVlKHZhbHVlLDEwMCk7XG5cdFx0dmFyIHg7XG5cdFx0aWYgKHZhbHVlPDApIHtcblx0XHRcdHggPSAxMjcrdmFsdWUvMTAwKjEyNztcblx0XHR9IGVsc2Uge1xuXHRcdFx0eCA9IHZhbHVlJTE7XG5cdFx0XHRpZiAoeCA9PSAwKSB7XG5cdFx0XHRcdHggPSBDb2xvck1hdHJpeC5ERUxUQV9JTkRFWFt2YWx1ZV07XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR4ID0gQ29sb3JNYXRyaXguREVMVEFfSU5ERVhbKHZhbHVlPDwwKV0qKDEteCkrQ29sb3JNYXRyaXguREVMVEFfSU5ERVhbKHZhbHVlPDwwKSsxXSp4OyAvLyB1c2UgbGluZWFyIGludGVycG9sYXRpb24gZm9yIG1vcmUgZ3JhbnVsYXJpdHkuXG5cdFx0XHR9XG5cdFx0XHR4ID0geCoxMjcrMTI3O1xuXHRcdH1cblx0XHR0aGlzLl9tdWx0aXBseU1hdHJpeChbXG5cdFx0XHR4LzEyNywwLDAsMCwwLjUqKDEyNy14KSxcblx0XHRcdDAseC8xMjcsMCwwLDAuNSooMTI3LXgpLFxuXHRcdFx0MCwwLHgvMTI3LDAsMC41KigxMjcteCksXG5cdFx0XHQwLDAsMCwxLDAsXG5cdFx0XHQwLDAsMCwwLDFcblx0XHRdKTtcblx0XHRyZXR1cm4gdGhpcztcblx0fTtcblxuXHQvKipcblx0ICogQWRqdXN0cyB0aGUgY29sb3Igc2F0dXJhdGlvbiBvZiB0aGUgcGl4ZWwuXG5cdCAqIFBvc2l0aXZlIHZhbHVlcyB3aWxsIGluY3JlYXNlIHNhdHVyYXRpb24sIG5lZ2F0aXZlIHZhbHVlcyB3aWxsIGRlY3JlYXNlIHNhdHVyYXRpb24gKHRyZW5kIHRvd2FyZHMgZ3JleXNjYWxlKS5cblx0ICogQG1ldGhvZCBhZGp1c3RTYXR1cmF0aW9uXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB2YWx1ZSBBIHZhbHVlIGJldHdlZW4gLTEwMCAmIDEwMC5cblx0ICogQHJldHVybiB7Q29sb3JNYXRyaXh9IFRoZSBDb2xvck1hdHJpeCBpbnN0YW5jZSB0aGUgbWV0aG9kIGlzIGNhbGxlZCBvbiAodXNlZnVsIGZvciBjaGFpbmluZyBjYWxscy4pXG5cdCAqIEBjaGFpbmFibGVcblx0ICoqL1xuXHRwLmFkanVzdFNhdHVyYXRpb24gPSBmdW5jdGlvbih2YWx1ZSkge1xuXHRcdGlmICh2YWx1ZSA9PSAwIHx8IGlzTmFOKHZhbHVlKSkgeyByZXR1cm4gdGhpczsgfVxuXHRcdHZhbHVlID0gdGhpcy5fY2xlYW5WYWx1ZSh2YWx1ZSwxMDApO1xuXHRcdHZhciB4ID0gMSsoKHZhbHVlID4gMCkgPyAzKnZhbHVlLzEwMCA6IHZhbHVlLzEwMCk7XG5cdFx0dmFyIGx1bVIgPSAwLjMwODY7XG5cdFx0dmFyIGx1bUcgPSAwLjYwOTQ7XG5cdFx0dmFyIGx1bUIgPSAwLjA4MjA7XG5cdFx0dGhpcy5fbXVsdGlwbHlNYXRyaXgoW1xuXHRcdFx0bHVtUiooMS14KSt4LGx1bUcqKDEteCksbHVtQiooMS14KSwwLDAsXG5cdFx0XHRsdW1SKigxLXgpLGx1bUcqKDEteCkreCxsdW1CKigxLXgpLDAsMCxcblx0XHRcdGx1bVIqKDEteCksbHVtRyooMS14KSxsdW1CKigxLXgpK3gsMCwwLFxuXHRcdFx0MCwwLDAsMSwwLFxuXHRcdFx0MCwwLDAsMCwxXG5cdFx0XSk7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH07XG5cblxuXHQvKipcblx0ICogQWRqdXN0cyB0aGUgaHVlIG9mIHRoZSBwaXhlbCBjb2xvci5cblx0ICogQG1ldGhvZCBhZGp1c3RIdWVcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHZhbHVlIEEgdmFsdWUgYmV0d2VlbiAtMTgwICYgMTgwLlxuXHQgKiBAcmV0dXJuIHtDb2xvck1hdHJpeH0gVGhlIENvbG9yTWF0cml4IGluc3RhbmNlIHRoZSBtZXRob2QgaXMgY2FsbGVkIG9uICh1c2VmdWwgZm9yIGNoYWluaW5nIGNhbGxzLilcblx0ICogQGNoYWluYWJsZVxuXHQgKiovXG5cdHAuYWRqdXN0SHVlID0gZnVuY3Rpb24odmFsdWUpIHtcblx0XHRpZiAodmFsdWUgPT0gMCB8fCBpc05hTih2YWx1ZSkpIHsgcmV0dXJuIHRoaXM7IH1cblx0XHR2YWx1ZSA9IHRoaXMuX2NsZWFuVmFsdWUodmFsdWUsMTgwKS8xODAqTWF0aC5QSTtcblx0XHR2YXIgY29zVmFsID0gTWF0aC5jb3ModmFsdWUpO1xuXHRcdHZhciBzaW5WYWwgPSBNYXRoLnNpbih2YWx1ZSk7XG5cdFx0dmFyIGx1bVIgPSAwLjIxMztcblx0XHR2YXIgbHVtRyA9IDAuNzE1O1xuXHRcdHZhciBsdW1CID0gMC4wNzI7XG5cdFx0dGhpcy5fbXVsdGlwbHlNYXRyaXgoW1xuXHRcdFx0bHVtUitjb3NWYWwqKDEtbHVtUikrc2luVmFsKigtbHVtUiksbHVtRytjb3NWYWwqKC1sdW1HKStzaW5WYWwqKC1sdW1HKSxsdW1CK2Nvc1ZhbCooLWx1bUIpK3NpblZhbCooMS1sdW1CKSwwLDAsXG5cdFx0XHRsdW1SK2Nvc1ZhbCooLWx1bVIpK3NpblZhbCooMC4xNDMpLGx1bUcrY29zVmFsKigxLWx1bUcpK3NpblZhbCooMC4xNDApLGx1bUIrY29zVmFsKigtbHVtQikrc2luVmFsKigtMC4yODMpLDAsMCxcblx0XHRcdGx1bVIrY29zVmFsKigtbHVtUikrc2luVmFsKigtKDEtbHVtUikpLGx1bUcrY29zVmFsKigtbHVtRykrc2luVmFsKihsdW1HKSxsdW1CK2Nvc1ZhbCooMS1sdW1CKStzaW5WYWwqKGx1bUIpLDAsMCxcblx0XHRcdDAsMCwwLDEsMCxcblx0XHRcdDAsMCwwLDAsMVxuXHRcdF0pO1xuXHRcdHJldHVybiB0aGlzO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBDb25jYXRlbmF0ZXMgKG11bHRpcGxpZXMpIHRoZSBzcGVjaWZpZWQgbWF0cml4IHdpdGggdGhpcyBvbmUuXG5cdCAqIEBtZXRob2QgY29uY2F0XG5cdCAqIEBwYXJhbSB7QXJyYXl9IG1hdHJpeCBBbiBhcnJheSBvciBDb2xvck1hdHJpeCBpbnN0YW5jZS5cblx0ICogQHJldHVybiB7Q29sb3JNYXRyaXh9IFRoZSBDb2xvck1hdHJpeCBpbnN0YW5jZSB0aGUgbWV0aG9kIGlzIGNhbGxlZCBvbiAodXNlZnVsIGZvciBjaGFpbmluZyBjYWxscy4pXG5cdCAqIEBjaGFpbmFibGVcblx0ICoqL1xuXHRwLmNvbmNhdCA9IGZ1bmN0aW9uKG1hdHJpeCkge1xuXHRcdG1hdHJpeCA9IHRoaXMuX2ZpeE1hdHJpeChtYXRyaXgpO1xuXHRcdGlmIChtYXRyaXgubGVuZ3RoICE9IENvbG9yTWF0cml4LkxFTkdUSCkgeyByZXR1cm4gdGhpczsgfVxuXHRcdHRoaXMuX211bHRpcGx5TWF0cml4KG1hdHJpeCk7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH07XG5cblx0LyoqXG5cdCAqIFJldHVybnMgYSBjbG9uZSBvZiB0aGlzIENvbG9yTWF0cml4LlxuXHQgKiBAbWV0aG9kIGNsb25lXG5cdCAqIEByZXR1cm4ge0NvbG9yTWF0cml4fSBBIGNsb25lIG9mIHRoaXMgQ29sb3JNYXRyaXguXG5cdCAqKi9cblx0cC5jbG9uZSA9IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiAobmV3IENvbG9yTWF0cml4KCkpLmNvcHkodGhpcyk7XG5cdH07XG5cblx0LyoqXG5cdCAqIFJldHVybiBhIGxlbmd0aCAyNSAoNXg1KSBhcnJheSBpbnN0YW5jZSBjb250YWluaW5nIHRoaXMgbWF0cml4J3MgdmFsdWVzLlxuXHQgKiBAbWV0aG9kIHRvQXJyYXlcblx0ICogQHJldHVybiB7QXJyYXl9IEFuIGFycmF5IGhvbGRpbmcgdGhpcyBtYXRyaXgncyB2YWx1ZXMuXG5cdCAqKi9cblx0cC50b0FycmF5ID0gZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGFyciA9IFtdO1xuXHRcdGZvciAodmFyIGk9IDAsIGw9Q29sb3JNYXRyaXguTEVOR1RIOyBpPGw7IGkrKykge1xuXHRcdFx0YXJyW2ldID0gdGhpc1tpXTtcblx0XHR9XG5cdFx0cmV0dXJuIGFycjtcblx0fTtcblxuXHQvKipcblx0ICogQ29weSB0aGUgc3BlY2lmaWVkIG1hdHJpeCdzIHZhbHVlcyB0byB0aGlzIG1hdHJpeC5cblx0ICogQG1ldGhvZCBjb3B5XG5cdCAqIEBwYXJhbSB7QXJyYXl9IG1hdHJpeCBBbiBhcnJheSBvciBDb2xvck1hdHJpeCBpbnN0YW5jZS5cblx0ICogQHJldHVybiB7Q29sb3JNYXRyaXh9IFRoZSBDb2xvck1hdHJpeCBpbnN0YW5jZSB0aGUgbWV0aG9kIGlzIGNhbGxlZCBvbiAodXNlZnVsIGZvciBjaGFpbmluZyBjYWxscy4pXG5cdCAqIEBjaGFpbmFibGVcblx0ICoqL1xuXHRwLmNvcHkgPSBmdW5jdGlvbihtYXRyaXgpIHtcblx0XHR2YXIgbCA9IENvbG9yTWF0cml4LkxFTkdUSDtcblx0XHRmb3IgKHZhciBpPTA7aTxsO2krKykge1xuXHRcdFx0dGhpc1tpXSA9IG1hdHJpeFtpXTtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH07XG5cdFxuXHQvKipcblx0ICogUmV0dXJucyBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGlzIG9iamVjdC5cblx0ICogQG1ldGhvZCB0b1N0cmluZ1xuXHQgKiBAcmV0dXJuIHtTdHJpbmd9IGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBpbnN0YW5jZS5cblx0ICoqL1xuXHRwLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIFwiW0NvbG9yTWF0cml4XVwiO1xuXHR9O1xuXG5cbi8vIHByaXZhdGUgbWV0aG9kczpcblx0LyoqXG5cdCAqIEBtZXRob2QgX211bHRpcGx5TWF0cml4XG5cdCAqIEBwYXJhbSB7QXJyYXl9IG1hdHJpeFxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqKi9cblx0cC5fbXVsdGlwbHlNYXRyaXggPSBmdW5jdGlvbihtYXRyaXgpIHtcblx0XHR2YXIgaSwgaiwgaywgY29sID0gW107XG5cblx0XHRmb3IgKGk9MDtpPDU7aSsrKSB7XG5cdFx0XHRmb3IgKGo9MDtqPDU7aisrKSB7XG5cdFx0XHRcdGNvbFtqXSA9IHRoaXNbaitpKjVdO1xuXHRcdFx0fVxuXHRcdFx0Zm9yIChqPTA7ajw1O2orKykge1xuXHRcdFx0XHR2YXIgdmFsPTA7XG5cdFx0XHRcdGZvciAoaz0wO2s8NTtrKyspIHtcblx0XHRcdFx0XHR2YWwgKz0gbWF0cml4W2orayo1XSpjb2xba107XG5cdFx0XHRcdH1cblx0XHRcdFx0dGhpc1tqK2kqNV0gPSB2YWw7XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xuXG5cdC8qKlxuXHQgKiBNYWtlIHN1cmUgdmFsdWVzIGFyZSB3aXRoaW4gdGhlIHNwZWNpZmllZCByYW5nZSwgaHVlIGhhcyBhIGxpbWl0IG9mIDE4MCwgYnJpZ2h0bmVzcyBpcyAyNTUsIG90aGVycyBhcmUgMTAwLlxuXHQgKiBAbWV0aG9kIF9jbGVhblZhbHVlXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB2YWx1ZSBUaGUgcmF3IG51bWJlclxuXHQgKiBAcGFyYW0ge051bWJlcn0gbGltaXQgVGhlIG1heGltdW0gdGhhdCB0aGUgbnVtYmVyIGNhbiBiZS4gVGhlIG1pbmltdW0gaXMgdGhlIGxpbWl0ICogLTEuXG5cdCAqIEBwcm90ZWN0ZWRcblx0ICoqL1xuXHRwLl9jbGVhblZhbHVlID0gZnVuY3Rpb24odmFsdWUsIGxpbWl0KSB7XG5cdFx0cmV0dXJuIE1hdGgubWluKGxpbWl0LE1hdGgubWF4KC1saW1pdCx2YWx1ZSkpO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBNYWtlcyBzdXJlIG1hdHJpeGVzIGFyZSA1eDUgKDI1IGxvbmcpLlxuXHQgKiBAbWV0aG9kIF9maXhNYXRyaXhcblx0ICogQHBhcmFtIHtBcnJheX0gbWF0cml4XG5cdCAqIEBwcm90ZWN0ZWRcblx0ICoqL1xuXHRwLl9maXhNYXRyaXggPSBmdW5jdGlvbihtYXRyaXgpIHtcblx0XHRpZiAobWF0cml4IGluc3RhbmNlb2YgQ29sb3JNYXRyaXgpIHsgbWF0cml4ID0gbWF0cml4LnRvQXJyYXkoKTsgfVxuXHRcdGlmIChtYXRyaXgubGVuZ3RoIDwgQ29sb3JNYXRyaXguTEVOR1RIKSB7XG5cdFx0XHRtYXRyaXggPSBtYXRyaXguc2xpY2UoMCxtYXRyaXgubGVuZ3RoKS5jb25jYXQoQ29sb3JNYXRyaXguSURFTlRJVFlfTUFUUklYLnNsaWNlKG1hdHJpeC5sZW5ndGgsQ29sb3JNYXRyaXguTEVOR1RIKSk7XG5cdFx0fSBlbHNlIGlmIChtYXRyaXgubGVuZ3RoID4gQ29sb3JNYXRyaXguTEVOR1RIKSB7XG5cdFx0XHRtYXRyaXggPSBtYXRyaXguc2xpY2UoMCxDb2xvck1hdHJpeC5MRU5HVEgpO1xuXHRcdH1cblx0XHRyZXR1cm4gbWF0cml4O1xuXHR9O1xuXG5cblx0Y3JlYXRlanMuQ29sb3JNYXRyaXggPSBDb2xvck1hdHJpeDtcbn0oKSk7XG5cbi8vIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXG4vLyBDb2xvck1hdHJpeEZpbHRlci5qc1xuLy8jIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyNcblxuKGZ1bmN0aW9uKCkge1xuXHRcInVzZSBzdHJpY3RcIjtcblxuXG4vLyBjb25zdHJ1Y3Rvcjpcblx0LyoqXG5cdCAqIEFsbG93cyB5b3UgdG8gY2Fycnkgb3V0IGNvbXBsZXggY29sb3Igb3BlcmF0aW9ucyBzdWNoIGFzIG1vZGlmeWluZyBzYXR1cmF0aW9uLCBicmlnaHRuZXNzLCBvciBpbnZlcnRpbmcuIFNlZSB0aGVcblx0ICoge3sjY3Jvc3NMaW5rIFwiQ29sb3JNYXRyaXhcIn19e3svY3Jvc3NMaW5rfX0gZm9yIG1vcmUgaW5mb3JtYXRpb24gb24gY2hhbmdpbmcgY29sb3JzLiBGb3IgYW4gZWFzaWVyIGNvbG9yIHRyYW5zZm9ybSxcblx0ICogY29uc2lkZXIgdGhlIHt7I2Nyb3NzTGluayBcIkNvbG9yRmlsdGVyXCJ9fXt7L2Nyb3NzTGlua319LlxuXHQgKlxuXHQgKiA8aDQ+RXhhbXBsZTwvaDQ+XG5cdCAqIFRoaXMgZXhhbXBsZSBjcmVhdGVzIGEgcmVkIGNpcmNsZSwgaW52ZXJ0cyBpdHMgaHVlLCBhbmQgdGhlbiBzYXR1cmF0ZXMgaXQgdG8gYnJpZ2h0ZW4gaXQgdXAuXG5cdCAqXG5cdCAqICAgICAgdmFyIHNoYXBlID0gbmV3IGNyZWF0ZWpzLlNoYXBlKCkuc2V0KHt4OjEwMCx5OjEwMH0pO1xuXHQgKiAgICAgIHNoYXBlLmdyYXBoaWNzLmJlZ2luRmlsbChcIiNmZjAwMDBcIikuZHJhd0NpcmNsZSgwLDAsNTApO1xuXHQgKlxuXHQgKiAgICAgIHZhciBtYXRyaXggPSBuZXcgY3JlYXRlanMuQ29sb3JNYXRyaXgoKS5hZGp1c3RIdWUoMTgwKS5hZGp1c3RTYXR1cmF0aW9uKDEwMCk7XG5cdCAqICAgICAgc2hhcGUuZmlsdGVycyA9IFtcblx0ICogICAgICAgICAgbmV3IGNyZWF0ZWpzLkNvbG9yTWF0cml4RmlsdGVyKG1hdHJpeClcblx0ICogICAgICBdO1xuXHQgKlxuXHQgKiAgICAgIHNoYXBlLmNhY2hlKC01MCwgLTUwLCAxMDAsIDEwMCk7XG5cdCAqXG5cdCAqIFNlZSB7eyNjcm9zc0xpbmsgXCJGaWx0ZXJcIn19e3svY3Jvc3NMaW5rfX0gZm9yIGFuIG1vcmUgaW5mb3JtYXRpb24gb24gYXBwbHlpbmcgZmlsdGVycy5cblx0ICogQGNsYXNzIENvbG9yTWF0cml4RmlsdGVyXG5cdCAqIEBjb25zdHJ1Y3RvclxuXHQgKiBAZXh0ZW5kcyBGaWx0ZXJcblx0ICogQHBhcmFtIHtBcnJheSB8IENvbG9yTWF0cml4fSBtYXRyaXggQSA0eDUgbWF0cml4IGRlc2NyaWJpbmcgdGhlIGNvbG9yIG9wZXJhdGlvbiB0byBwZXJmb3JtLiBTZWUgYWxzbyB0aGUge3sjY3Jvc3NMaW5rIFwiQ29sb3JNYXRyaXhcIn19e3svY3Jvc3NMaW5rfX1cblx0ICogY2xhc3MuXG5cdCAqKi9cblx0ZnVuY3Rpb24gQ29sb3JNYXRyaXhGaWx0ZXIobWF0cml4KSB7XG5cdFx0dGhpcy5GaWx0ZXJfY29uc3RydWN0b3IoKTtcblxuXHQvLyBwdWJsaWMgcHJvcGVydGllczpcblx0XHQvKipcblx0XHQgKiBBIDR4NSBtYXRyaXggZGVzY3JpYmluZyB0aGUgY29sb3Igb3BlcmF0aW9uIHRvIHBlcmZvcm0uIFNlZSBhbHNvIHRoZSB7eyNjcm9zc0xpbmsgXCJDb2xvck1hdHJpeFwifX17ey9jcm9zc0xpbmt9fVxuXHRcdCAqIEBwcm9wZXJ0eSBtYXRyaXhcblx0XHQgKiBAdHlwZSBBcnJheSB8IENvbG9yTWF0cml4XG5cdFx0ICoqL1xuXHRcdHRoaXMubWF0cml4ID0gbWF0cml4O1xuXG5cdFx0dGhpcy5GUkFHX1NIQURFUl9CT0RZID0gKFxuXHRcdFx0XCJ1bmlmb3JtIG1hdDQgdUNvbG9yTWF0cml4O1wiICtcblx0XHRcdFwidW5pZm9ybSB2ZWM0IHVDb2xvck1hdHJpeE9mZnNldDtcIiArXG5cblx0XHRcdFwidm9pZCBtYWluKHZvaWQpIHtcIiArXG5cdFx0XHRcdFwidmVjNCBjb2xvciA9IHRleHR1cmUyRCh1U2FtcGxlciwgdlJlbmRlckNvb3JkKTtcIiArXG5cblx0XHRcdFx0XCJtYXQ0IG0gPSB1Q29sb3JNYXRyaXg7XCIgK1xuXHRcdFx0XHRcInZlYzQgbmV3Q29sb3IgPSB2ZWM0KDAsMCwwLDApO1wiICtcblx0XHRcdFx0XCJuZXdDb2xvci5yID0gY29sb3IuciptWzBdWzBdICsgY29sb3IuZyptWzBdWzFdICsgY29sb3IuYiptWzBdWzJdICsgY29sb3IuYSptWzBdWzNdO1wiICtcblx0XHRcdFx0XCJuZXdDb2xvci5nID0gY29sb3IuciptWzFdWzBdICsgY29sb3IuZyptWzFdWzFdICsgY29sb3IuYiptWzFdWzJdICsgY29sb3IuYSptWzFdWzNdO1wiICtcblx0XHRcdFx0XCJuZXdDb2xvci5iID0gY29sb3IuciptWzJdWzBdICsgY29sb3IuZyptWzJdWzFdICsgY29sb3IuYiptWzJdWzJdICsgY29sb3IuYSptWzJdWzNdO1wiICtcblx0XHRcdFx0XCJuZXdDb2xvci5hID0gY29sb3IuciptWzNdWzBdICsgY29sb3IuZyptWzNdWzFdICsgY29sb3IuYiptWzNdWzJdICsgY29sb3IuYSptWzNdWzNdO1wiICtcblxuXHRcdFx0XHRcImdsX0ZyYWdDb2xvciA9IG5ld0NvbG9yICsgdUNvbG9yTWF0cml4T2Zmc2V0O1wiICtcblx0XHRcdFwifVwiXG5cdFx0KTtcblx0fVxuXHR2YXIgcCA9IGNyZWF0ZWpzLmV4dGVuZChDb2xvck1hdHJpeEZpbHRlciwgY3JlYXRlanMuRmlsdGVyKTtcblxuXHQvLyBUT0RPOiBkZXByZWNhdGVkXG5cdC8vIHAuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uKCkge307IC8vIHNlYXJjaGFibGUgZm9yIGRldnMgd29uZGVyaW5nIHdoZXJlIGl0IGlzLiBSRU1PVkVELiBTZWUgZG9jcyBmb3IgZGV0YWlscy5cblxuXHQvKiogZG9jY2VkIGluIHN1cGVyIGNsYXNzICoqL1xuXHRwLnNoYWRlclBhcmFtU2V0dXAgPSBmdW5jdGlvbihnbCwgc3RhZ2UsIHNoYWRlclByb2dyYW0pIHtcblx0XHR2YXIgbWF0ID0gdGhpcy5tYXRyaXg7XG5cdFx0dmFyIGNvbG9yTWF0cml4ID0gbmV3IEZsb2F0MzJBcnJheShbXG5cdFx0XHRtYXRbMF0sbWF0WzFdLG1hdFsyXSxtYXRbM10sXG5cdFx0XHRtYXRbNV0sbWF0WzZdLG1hdFs3XSxtYXRbOF0sXG5cdFx0XHRtYXRbMTBdLG1hdFsxMV0sbWF0WzEyXSxtYXRbMTNdLFxuXHRcdFx0bWF0WzE1XSxtYXRbMTZdLG1hdFsxN10sbWF0WzE4XVxuXHRcdF0pO1xuXG5cdFx0Z2wudW5pZm9ybU1hdHJpeDRmdihcblx0XHRcdGdsLmdldFVuaWZvcm1Mb2NhdGlvbihzaGFkZXJQcm9ncmFtLCBcInVDb2xvck1hdHJpeFwiKSxcblx0XHRcdGZhbHNlLCBjb2xvck1hdHJpeFxuXHRcdCk7XG5cdFx0Z2wudW5pZm9ybTRmKFxuXHRcdFx0Z2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHNoYWRlclByb2dyYW0sIFwidUNvbG9yTWF0cml4T2Zmc2V0XCIpLFxuXHRcdFx0bWF0WzRdLzI1NSwgbWF0WzldLzI1NSwgbWF0WzE0XS8yNTUsIG1hdFsxOV0vMjU1XG5cdFx0KTtcblx0fTtcblxuLy8gcHVibGljIG1ldGhvZHM6XG5cdC8qKiBkb2NjZWQgaW4gc3VwZXIgY2xhc3MgKiovXG5cdHAudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gXCJbQ29sb3JNYXRyaXhGaWx0ZXJdXCI7XG5cdH07XG5cblx0LyoqIGRvY2NlZCBpbiBzdXBlciBjbGFzcyAqKi9cblx0cC5jbG9uZSA9IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBuZXcgQ29sb3JNYXRyaXhGaWx0ZXIodGhpcy5tYXRyaXgpO1xuXHR9O1xuXG4vLyBwcml2YXRlIG1ldGhvZHM6XG5cdC8qKiBkb2NjZWQgaW4gc3VwZXIgY2xhc3MgKiovXG5cdHAuX2FwcGx5RmlsdGVyID0gZnVuY3Rpb24oaW1hZ2VEYXRhKSB7IFxuXHRcdHZhciBkYXRhID0gaW1hZ2VEYXRhLmRhdGE7XG5cdFx0dmFyIGwgPSBkYXRhLmxlbmd0aDtcblx0XHR2YXIgcixnLGIsYTtcblx0XHR2YXIgbXR4ID0gdGhpcy5tYXRyaXg7XG5cdFx0dmFyIG0wID0gIG10eFswXSwgIG0xID0gIG10eFsxXSwgIG0yID0gIG10eFsyXSwgIG0zID0gIG10eFszXSwgIG00ID0gIG10eFs0XTtcblx0XHR2YXIgbTUgPSAgbXR4WzVdLCAgbTYgPSAgbXR4WzZdLCAgbTcgPSAgbXR4WzddLCAgbTggPSAgbXR4WzhdLCAgbTkgPSAgbXR4WzldO1xuXHRcdHZhciBtMTAgPSBtdHhbMTBdLCBtMTEgPSBtdHhbMTFdLCBtMTIgPSBtdHhbMTJdLCBtMTMgPSBtdHhbMTNdLCBtMTQgPSBtdHhbMTRdO1xuXHRcdHZhciBtMTUgPSBtdHhbMTVdLCBtMTYgPSBtdHhbMTZdLCBtMTcgPSBtdHhbMTddLCBtMTggPSBtdHhbMThdLCBtMTkgPSBtdHhbMTldO1xuXG5cdFx0Zm9yICh2YXIgaT0wOyBpPGw7IGkrPTQpIHtcblx0XHRcdHIgPSBkYXRhW2ldO1xuXHRcdFx0ZyA9IGRhdGFbaSsxXTtcblx0XHRcdGIgPSBkYXRhW2krMl07XG5cdFx0XHRhID0gZGF0YVtpKzNdO1xuXHRcdFx0ZGF0YVtpXSA9IHIqbTArZyptMStiKm0yK2EqbTMrbTQ7IC8vIHJlZFxuXHRcdFx0ZGF0YVtpKzFdID0gciptNStnKm02K2IqbTcrYSptOCttOTsgLy8gZ3JlZW5cblx0XHRcdGRhdGFbaSsyXSA9IHIqbTEwK2cqbTExK2IqbTEyK2EqbTEzK20xNDsgLy8gYmx1ZVxuXHRcdFx0ZGF0YVtpKzNdID0gciptMTUrZyptMTYrYiptMTcrYSptMTgrbTE5OyAvLyBhbHBoYVxuXHRcdH1cblx0XHRyZXR1cm4gdHJ1ZTtcblx0fTtcblxuXHRjcmVhdGVqcy5Db2xvck1hdHJpeEZpbHRlciA9IGNyZWF0ZWpzLnByb21vdGUoQ29sb3JNYXRyaXhGaWx0ZXIsIFwiRmlsdGVyXCIpO1xufSgpKTtcblxuLy8jIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyNcbi8vIFRvdWNoLmpzXG4vLyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI1xuXG4oZnVuY3Rpb24oKSB7XG5cdFwidXNlIHN0cmljdFwiO1xuXG5cbi8vIGNvbnN0cnVjdG9yOlxuXHQvKipcbiAqIEdsb2JhbCB1dGlsaXR5IGZvciB3b3JraW5nIHdpdGggbXVsdGktdG91Y2ggZW5hYmxlZCBkZXZpY2VzIGluIEVhc2VsSlMuIEN1cnJlbnRseSBzdXBwb3J0cyBXM0MgVG91Y2ggQVBJIChpT1MgYW5kXG4gKiBtb2Rlcm4gQW5kcm9pZCBicm93c2VyKSBhbmQgdGhlIFBvaW50ZXIgQVBJIChJRSksIGluY2x1ZGluZyBtcy1wcmVmaXhlZCBldmVudHMgaW4gSUUxMCwgYW5kIHVucHJlZml4ZWQgaW4gSUUxMS5cbiAqXG4gKiBFbnN1cmUgdGhhdCB5b3Uge3sjY3Jvc3NMaW5rIFwiVG91Y2gvZGlzYWJsZVwifX17ey9jcm9zc0xpbmt9fSB0b3VjaCB3aGVuIGNsZWFuaW5nIHVwIHlvdXIgYXBwbGljYXRpb24uIFlvdSBkbyBub3QgaGF2ZVxuICogdG8gY2hlY2sgaWYgdG91Y2ggaXMgc3VwcG9ydGVkIHRvIGVuYWJsZSBpdCwgYXMgaXQgd2lsbCBmYWlsIGdyYWNlZnVsbHkgaWYgaXQgaXMgbm90IHN1cHBvcnRlZC5cbiAqXG4gKiA8aDQ+RXhhbXBsZTwvaDQ+XG4gKlxuICogICAgICB2YXIgc3RhZ2UgPSBuZXcgY3JlYXRlanMuU3RhZ2UoXCJjYW52YXNJZFwiKTtcbiAqICAgICAgY3JlYXRlanMuVG91Y2guZW5hYmxlKHN0YWdlKTtcbiAqXG4gKiA8c3Ryb25nPk5vdGU6PC9zdHJvbmc+IEl0IGlzIGltcG9ydGFudCB0byBkaXNhYmxlIFRvdWNoIG9uIGEgc3RhZ2UgdGhhdCB5b3UgYXJlIG5vIGxvbmdlciB1c2luZzpcbiAqXG4gKiAgICAgIGNyZWF0ZWpzLlRvdWNoLmRpc2FibGUoc3RhZ2UpO1xuICpcbiAqIEBjbGFzcyBUb3VjaFxuICogQHN0YXRpY1xuICoqL1xuXHRmdW5jdGlvbiBUb3VjaCgpIHtcblx0XHR0aHJvdyBcIlRvdWNoIGNhbm5vdCBiZSBpbnN0YW50aWF0ZWRcIjtcblx0fVxuXG5cbi8vIHB1YmxpYyBzdGF0aWMgbWV0aG9kczpcblx0LyoqXG5cdCAqIFJldHVybnMgYHRydWVgIGlmIHRvdWNoIGlzIHN1cHBvcnRlZCBpbiB0aGUgY3VycmVudCBicm93c2VyLlxuXHQgKiBAbWV0aG9kIGlzU3VwcG9ydGVkXG5cdCAqIEByZXR1cm4ge0Jvb2xlYW59IEluZGljYXRlcyB3aGV0aGVyIHRvdWNoIGlzIHN1cHBvcnRlZCBpbiB0aGUgY3VycmVudCBicm93c2VyLlxuXHQgKiBAc3RhdGljXG5cdCAqKi9cblx0VG91Y2guaXNTdXBwb3J0ZWQgPSBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm5cdCEhKCgnb250b3VjaHN0YXJ0JyBpbiB3aW5kb3cpIC8vIGlPUyAmIEFuZHJvaWRcblx0XHRcdHx8ICh3aW5kb3cubmF2aWdhdG9yWydtc1BvaW50ZXJFbmFibGVkJ10gJiYgd2luZG93Lm5hdmlnYXRvclsnbXNNYXhUb3VjaFBvaW50cyddID4gMCkgLy8gSUUxMFxuXHRcdFx0fHwgKHdpbmRvdy5uYXZpZ2F0b3JbJ3BvaW50ZXJFbmFibGVkJ10gJiYgd2luZG93Lm5hdmlnYXRvclsnbWF4VG91Y2hQb2ludHMnXSA+IDApKTsgLy8gSUUxMStcblx0fTtcblxuXHQvKipcblx0ICogRW5hYmxlcyB0b3VjaCBpbnRlcmFjdGlvbiBmb3IgdGhlIHNwZWNpZmllZCBFYXNlbEpTIHt7I2Nyb3NzTGluayBcIlN0YWdlXCJ9fXt7L2Nyb3NzTGlua319LiBDdXJyZW50bHkgc3VwcG9ydHMgaU9TXG5cdCAqIChhbmQgY29tcGF0aWJsZSBicm93c2Vycywgc3VjaCBhcyBtb2Rlcm4gQW5kcm9pZCBicm93c2VycyksIGFuZCBJRTEwLzExLiBTdXBwb3J0cyBib3RoIHNpbmdsZSB0b3VjaCBhbmRcblx0ICogbXVsdGktdG91Y2ggbW9kZXMuIEV4dGVuZHMgdGhlIEVhc2VsSlMge3sjY3Jvc3NMaW5rIFwiTW91c2VFdmVudFwifX17ey9jcm9zc0xpbmt9fSBtb2RlbCwgYnV0IHdpdGhvdXQgc3VwcG9ydCBmb3Jcblx0ICogZG91YmxlIGNsaWNrIG9yIG92ZXIvb3V0IGV2ZW50cy4gU2VlIHRoZSBNb3VzZUV2ZW50IHt7I2Nyb3NzTGluayBcIk1vdXNlRXZlbnQvcG9pbnRlcklkOnByb3BlcnR5XCJ9fXt7L2Nyb3NzTGlua319XG5cdCAqIGZvciBtb3JlIGluZm9ybWF0aW9uLlxuXHQgKiBAbWV0aG9kIGVuYWJsZVxuXHQgKiBAcGFyYW0ge1N0YWdlfSBzdGFnZSBUaGUge3sjY3Jvc3NMaW5rIFwiU3RhZ2VcIn19e3svY3Jvc3NMaW5rfX0gdG8gZW5hYmxlIHRvdWNoIG9uLlxuXHQgKiBAcGFyYW0ge0Jvb2xlYW59IFtzaW5nbGVUb3VjaD1mYWxzZV0gSWYgYHRydWVgLCBvbmx5IGEgc2luZ2xlIHRvdWNoIHdpbGwgYmUgYWN0aXZlIGF0IGEgdGltZS5cblx0ICogQHBhcmFtIHtCb29sZWFufSBbYWxsb3dEZWZhdWx0PWZhbHNlXSBJZiBgdHJ1ZWAsIHRoZW4gZGVmYXVsdCBnZXN0dXJlIGFjdGlvbnMgKGV4LiBzY3JvbGxpbmcsIHpvb21pbmcpIHdpbGwgYmVcblx0ICogYWxsb3dlZCB3aGVuIHRoZSB1c2VyIGlzIGludGVyYWN0aW5nIHdpdGggdGhlIHRhcmdldCBjYW52YXMuXG5cdCAqIEByZXR1cm4ge0Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRvdWNoIHdhcyBzdWNjZXNzZnVsbHkgZW5hYmxlZCBvbiB0aGUgdGFyZ2V0IHN0YWdlLlxuXHQgKiBAc3RhdGljXG5cdCAqKi9cblx0VG91Y2guZW5hYmxlID0gZnVuY3Rpb24oc3RhZ2UsIHNpbmdsZVRvdWNoLCBhbGxvd0RlZmF1bHQpIHtcblx0XHRpZiAoIXN0YWdlIHx8ICFzdGFnZS5jYW52YXMgfHwgIVRvdWNoLmlzU3VwcG9ydGVkKCkpIHsgcmV0dXJuIGZhbHNlOyB9XG5cdFx0aWYgKHN0YWdlLl9fdG91Y2gpIHsgcmV0dXJuIHRydWU7IH1cblxuXHRcdC8vIGluamVjdCByZXF1aXJlZCBwcm9wZXJ0aWVzIG9uIHN0YWdlOlxuXHRcdHN0YWdlLl9fdG91Y2ggPSB7cG9pbnRlcnM6e30sIG11bHRpdG91Y2g6IXNpbmdsZVRvdWNoLCBwcmV2ZW50RGVmYXVsdDohYWxsb3dEZWZhdWx0LCBjb3VudDowfTtcblxuXHRcdC8vIG5vdGUgdGhhdCBpbiB0aGUgZnV0dXJlIHdlIG1heSBuZWVkIHRvIGRpc2FibGUgdGhlIHN0YW5kYXJkIG1vdXNlIGV2ZW50IG1vZGVsIGJlZm9yZSBhZGRpbmdcblx0XHQvLyB0aGVzZSB0byBwcmV2ZW50IGR1cGxpY2F0ZSBjYWxscy4gSXQgZG9lc24ndCBzZWVtIHRvIGJlIGFuIGlzc3VlIHdpdGggaU9TIGRldmljZXMgdGhvdWdoLlxuXHRcdGlmICgnb250b3VjaHN0YXJ0JyBpbiB3aW5kb3cpIHsgVG91Y2guX0lPU19lbmFibGUoc3RhZ2UpOyB9XG5cdFx0ZWxzZSBpZiAod2luZG93Lm5hdmlnYXRvclsnbXNQb2ludGVyRW5hYmxlZCddIHx8IHdpbmRvdy5uYXZpZ2F0b3JbXCJwb2ludGVyRW5hYmxlZFwiXSkgeyBUb3VjaC5fSUVfZW5hYmxlKHN0YWdlKTsgfVxuXHRcdHJldHVybiB0cnVlO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBSZW1vdmVzIGFsbCBsaXN0ZW5lcnMgdGhhdCB3ZXJlIHNldCB1cCB3aGVuIGNhbGxpbmcgYFRvdWNoLmVuYWJsZSgpYCBvbiBhIHN0YWdlLlxuXHQgKiBAbWV0aG9kIGRpc2FibGVcblx0ICogQHBhcmFtIHtTdGFnZX0gc3RhZ2UgVGhlIHt7I2Nyb3NzTGluayBcIlN0YWdlXCJ9fXt7L2Nyb3NzTGlua319IHRvIGRpc2FibGUgdG91Y2ggb24uXG5cdCAqIEBzdGF0aWNcblx0ICoqL1xuXHRUb3VjaC5kaXNhYmxlID0gZnVuY3Rpb24oc3RhZ2UpIHtcblx0XHRpZiAoIXN0YWdlKSB7IHJldHVybjsgfVxuXHRcdGlmICgnb250b3VjaHN0YXJ0JyBpbiB3aW5kb3cpIHsgVG91Y2guX0lPU19kaXNhYmxlKHN0YWdlKTsgfVxuXHRcdGVsc2UgaWYgKHdpbmRvdy5uYXZpZ2F0b3JbJ21zUG9pbnRlckVuYWJsZWQnXSB8fCB3aW5kb3cubmF2aWdhdG9yW1wicG9pbnRlckVuYWJsZWRcIl0pIHsgVG91Y2guX0lFX2Rpc2FibGUoc3RhZ2UpOyB9XG5cdFx0XG5cdFx0ZGVsZXRlIHN0YWdlLl9fdG91Y2g7XG5cdH07XG5cblxuLy8gUHJpdmF0ZSBzdGF0aWMgbWV0aG9kczpcblx0LyoqXG5cdCAqIEBtZXRob2QgX0lPU19lbmFibGVcblx0ICogQHByb3RlY3RlZFxuXHQgKiBAcGFyYW0ge1N0YWdlfSBzdGFnZVxuXHQgKiBAc3RhdGljXG5cdCAqKi9cblx0VG91Y2guX0lPU19lbmFibGUgPSBmdW5jdGlvbihzdGFnZSkge1xuXHRcdHZhciBjYW52YXMgPSBzdGFnZS5jYW52YXM7XG5cdFx0dmFyIGYgPSBzdGFnZS5fX3RvdWNoLmYgPSBmdW5jdGlvbihlKSB7IFRvdWNoLl9JT1NfaGFuZGxlRXZlbnQoc3RhZ2UsZSk7IH07XG5cdFx0Y2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsIGYsIGZhbHNlKTtcblx0XHRjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNobW92ZVwiLCBmLCBmYWxzZSk7XG5cdFx0Y2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaGVuZFwiLCBmLCBmYWxzZSk7XG5cdFx0Y2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaGNhbmNlbFwiLCBmLCBmYWxzZSk7XG5cdH07XG5cblx0LyoqXG5cdCAqIEBtZXRob2QgX0lPU19kaXNhYmxlXG5cdCAqIEBwcm90ZWN0ZWRcblx0ICogQHBhcmFtIHtTdGFnZX0gc3RhZ2Vcblx0ICogQHN0YXRpY1xuXHQgKiovXG5cdFRvdWNoLl9JT1NfZGlzYWJsZSA9IGZ1bmN0aW9uKHN0YWdlKSB7XG5cdFx0dmFyIGNhbnZhcyA9IHN0YWdlLmNhbnZhcztcblx0XHRpZiAoIWNhbnZhcykgeyByZXR1cm47IH1cblx0XHR2YXIgZiA9IHN0YWdlLl9fdG91Y2guZjtcblx0XHRjYW52YXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIiwgZiwgZmFsc2UpO1xuXHRcdGNhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2htb3ZlXCIsIGYsIGZhbHNlKTtcblx0XHRjYW52YXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRvdWNoZW5kXCIsIGYsIGZhbHNlKTtcblx0XHRjYW52YXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRvdWNoY2FuY2VsXCIsIGYsIGZhbHNlKTtcblx0fTtcblxuXHQvKipcblx0ICogQG1ldGhvZCBfSU9TX2hhbmRsZUV2ZW50XG5cdCAqIEBwYXJhbSB7U3RhZ2V9IHN0YWdlXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBlIFRoZSBldmVudCB0byBoYW5kbGVcblx0ICogQHByb3RlY3RlZFxuXHQgKiBAc3RhdGljXG5cdCAqKi9cblx0VG91Y2guX0lPU19oYW5kbGVFdmVudCA9IGZ1bmN0aW9uKHN0YWdlLCBlKSB7XG5cdFx0aWYgKCFzdGFnZSkgeyByZXR1cm47IH1cblx0XHRpZiAoc3RhZ2UuX190b3VjaC5wcmV2ZW50RGVmYXVsdCkgeyBlLnByZXZlbnREZWZhdWx0JiZlLnByZXZlbnREZWZhdWx0KCk7IH1cblx0XHR2YXIgdG91Y2hlcyA9IGUuY2hhbmdlZFRvdWNoZXM7XG5cdFx0dmFyIHR5cGUgPSBlLnR5cGU7XG5cdFx0Zm9yICh2YXIgaT0gMCxsPXRvdWNoZXMubGVuZ3RoOyBpPGw7IGkrKykge1xuXHRcdFx0dmFyIHRvdWNoID0gdG91Y2hlc1tpXTtcblx0XHRcdHZhciBpZCA9IHRvdWNoLmlkZW50aWZpZXI7XG5cdFx0XHRpZiAodG91Y2gudGFyZ2V0ICE9IHN0YWdlLmNhbnZhcykgeyBjb250aW51ZTsgfVxuXG5cdFx0XHRpZiAodHlwZSA9PSBcInRvdWNoc3RhcnRcIikge1xuXHRcdFx0XHR0aGlzLl9oYW5kbGVTdGFydChzdGFnZSwgaWQsIGUsIHRvdWNoLnBhZ2VYLCB0b3VjaC5wYWdlWSk7XG5cdFx0XHR9IGVsc2UgaWYgKHR5cGUgPT0gXCJ0b3VjaG1vdmVcIikge1xuXHRcdFx0XHR0aGlzLl9oYW5kbGVNb3ZlKHN0YWdlLCBpZCwgZSwgdG91Y2gucGFnZVgsIHRvdWNoLnBhZ2VZKTtcblx0XHRcdH0gZWxzZSBpZiAodHlwZSA9PSBcInRvdWNoZW5kXCIgfHwgdHlwZSA9PSBcInRvdWNoY2FuY2VsXCIpIHtcblx0XHRcdFx0dGhpcy5faGFuZGxlRW5kKHN0YWdlLCBpZCwgZSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xuXG5cdC8qKlxuXHQgKiBAbWV0aG9kIF9JRV9lbmFibGVcblx0ICogQHByb3RlY3RlZFxuXHQgKiBAcGFyYW0ge1N0YWdlfSBzdGFnZVxuXHQgKiBAc3RhdGljXG5cdCAqKi9cblx0VG91Y2guX0lFX2VuYWJsZSA9IGZ1bmN0aW9uKHN0YWdlKSB7XG5cdFx0dmFyIGNhbnZhcyA9IHN0YWdlLmNhbnZhcztcblx0XHR2YXIgZiA9IHN0YWdlLl9fdG91Y2guZiA9IGZ1bmN0aW9uKGUpIHsgVG91Y2guX0lFX2hhbmRsZUV2ZW50KHN0YWdlLGUpOyB9O1xuXG5cdFx0aWYgKHdpbmRvdy5uYXZpZ2F0b3JbXCJwb2ludGVyRW5hYmxlZFwiXSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcIk1TUG9pbnRlckRvd25cIiwgZiwgZmFsc2UpO1xuXHRcdFx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJNU1BvaW50ZXJNb3ZlXCIsIGYsIGZhbHNlKTtcblx0XHRcdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiTVNQb2ludGVyVXBcIiwgZiwgZmFsc2UpO1xuXHRcdFx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJNU1BvaW50ZXJDYW5jZWxcIiwgZiwgZmFsc2UpO1xuXHRcdFx0aWYgKHN0YWdlLl9fdG91Y2gucHJldmVudERlZmF1bHQpIHsgY2FudmFzLnN0eWxlLm1zVG91Y2hBY3Rpb24gPSBcIm5vbmVcIjsgfVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJkb3duXCIsIGYsIGZhbHNlKTtcblx0XHRcdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicG9pbnRlcm1vdmVcIiwgZiwgZmFsc2UpO1xuXHRcdFx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJwb2ludGVydXBcIiwgZiwgZmFsc2UpO1xuXHRcdFx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJwb2ludGVyY2FuY2VsXCIsIGYsIGZhbHNlKTtcblx0XHRcdGlmIChzdGFnZS5fX3RvdWNoLnByZXZlbnREZWZhdWx0KSB7IGNhbnZhcy5zdHlsZS50b3VjaEFjdGlvbiA9IFwibm9uZVwiOyB9XG5cblx0XHR9XG5cdFx0c3RhZ2UuX190b3VjaC5hY3RpdmVJRHMgPSB7fTtcblx0fTtcblxuXHQvKipcblx0ICogQG1ldGhvZCBfSUVfZGlzYWJsZVxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqIEBwYXJhbSB7U3RhZ2V9IHN0YWdlXG5cdCAqIEBzdGF0aWNcblx0ICoqL1xuXHRUb3VjaC5fSUVfZGlzYWJsZSA9IGZ1bmN0aW9uKHN0YWdlKSB7XG5cdFx0dmFyIGYgPSBzdGFnZS5fX3RvdWNoLmY7XG5cblx0XHRpZiAod2luZG93Lm5hdmlnYXRvcltcInBvaW50ZXJFbmFibGVkXCJdID09PSB1bmRlZmluZWQpIHtcblx0XHRcdHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwiTVNQb2ludGVyTW92ZVwiLCBmLCBmYWxzZSk7XG5cdFx0XHR3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIk1TUG9pbnRlclVwXCIsIGYsIGZhbHNlKTtcblx0XHRcdHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwiTVNQb2ludGVyQ2FuY2VsXCIsIGYsIGZhbHNlKTtcblx0XHRcdGlmIChzdGFnZS5jYW52YXMpIHtcblx0XHRcdFx0c3RhZ2UuY2FudmFzLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJNU1BvaW50ZXJEb3duXCIsIGYsIGZhbHNlKTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0d2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJwb2ludGVybW92ZVwiLCBmLCBmYWxzZSk7XG5cdFx0XHR3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJ1cFwiLCBmLCBmYWxzZSk7XG5cdFx0XHR3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJjYW5jZWxcIiwgZiwgZmFsc2UpO1xuXHRcdFx0aWYgKHN0YWdlLmNhbnZhcykge1xuXHRcdFx0XHRzdGFnZS5jYW52YXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJkb3duXCIsIGYsIGZhbHNlKTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG5cblx0LyoqXG5cdCAqIEBtZXRob2QgX0lFX2hhbmRsZUV2ZW50XG5cdCAqIEBwYXJhbSB7U3RhZ2V9IHN0YWdlXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBlIFRoZSBldmVudCB0byBoYW5kbGUuXG5cdCAqIEBwcm90ZWN0ZWRcblx0ICogQHN0YXRpY1xuXHQgKiovXG5cdFRvdWNoLl9JRV9oYW5kbGVFdmVudCA9IGZ1bmN0aW9uKHN0YWdlLCBlKSB7XG5cdFx0aWYgKCFzdGFnZSkgeyByZXR1cm47IH1cblx0XHRpZiAoc3RhZ2UuX190b3VjaC5wcmV2ZW50RGVmYXVsdCkgeyBlLnByZXZlbnREZWZhdWx0ICYmIGUucHJldmVudERlZmF1bHQoKTsgfVxuXHRcdHZhciB0eXBlID0gZS50eXBlO1xuXHRcdHZhciBpZCA9IGUucG9pbnRlcklkO1xuXHRcdHZhciBpZHMgPSBzdGFnZS5fX3RvdWNoLmFjdGl2ZUlEcztcblxuXHRcdGlmICh0eXBlID09IFwiTVNQb2ludGVyRG93blwiIHx8IHR5cGUgPT0gXCJwb2ludGVyZG93blwiKSB7XG5cdFx0XHRpZiAoZS5zcmNFbGVtZW50ICE9IHN0YWdlLmNhbnZhcykgeyByZXR1cm47IH1cblx0XHRcdGlkc1tpZF0gPSB0cnVlO1xuXHRcdFx0dGhpcy5faGFuZGxlU3RhcnQoc3RhZ2UsIGlkLCBlLCBlLnBhZ2VYLCBlLnBhZ2VZKTtcblx0XHR9IGVsc2UgaWYgKGlkc1tpZF0pIHsgLy8gaXQncyBhbiBpZCB3ZSdyZSB3YXRjaGluZ1xuXHRcdFx0aWYgKHR5cGUgPT0gXCJNU1BvaW50ZXJNb3ZlXCIgfHwgdHlwZSA9PSBcInBvaW50ZXJtb3ZlXCIpIHtcblx0XHRcdFx0dGhpcy5faGFuZGxlTW92ZShzdGFnZSwgaWQsIGUsIGUucGFnZVgsIGUucGFnZVkpO1xuXHRcdFx0fSBlbHNlIGlmICh0eXBlID09IFwiTVNQb2ludGVyVXBcIiB8fCB0eXBlID09IFwiTVNQb2ludGVyQ2FuY2VsXCJcblx0XHRcdFx0XHR8fCB0eXBlID09IFwicG9pbnRlcnVwXCIgfHwgdHlwZSA9PSBcInBvaW50ZXJjYW5jZWxcIikge1xuXHRcdFx0XHRkZWxldGUoaWRzW2lkXSk7XG5cdFx0XHRcdHRoaXMuX2hhbmRsZUVuZChzdGFnZSwgaWQsIGUpO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcblxuXHQvKipcblx0ICogQG1ldGhvZCBfaGFuZGxlU3RhcnRcblx0ICogQHBhcmFtIHtTdGFnZX0gc3RhZ2Vcblx0ICogQHBhcmFtIHtTdHJpbmd8TnVtYmVyfSBpZFxuXHQgKiBAcGFyYW0ge09iamVjdH0gZVxuXHQgKiBAcGFyYW0ge051bWJlcn0geFxuXHQgKiBAcGFyYW0ge051bWJlcn0geVxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqKi9cblx0VG91Y2guX2hhbmRsZVN0YXJ0ID0gZnVuY3Rpb24oc3RhZ2UsIGlkLCBlLCB4LCB5KSB7XG5cdFx0dmFyIHByb3BzID0gc3RhZ2UuX190b3VjaDtcblx0XHRpZiAoIXByb3BzLm11bHRpdG91Y2ggJiYgcHJvcHMuY291bnQpIHsgcmV0dXJuOyB9XG5cdFx0dmFyIGlkcyA9IHByb3BzLnBvaW50ZXJzO1xuXHRcdGlmIChpZHNbaWRdKSB7IHJldHVybjsgfVxuXHRcdGlkc1tpZF0gPSB0cnVlO1xuXHRcdHByb3BzLmNvdW50Kys7XG5cdFx0c3RhZ2UuX2hhbmRsZVBvaW50ZXJEb3duKGlkLCBlLCB4LCB5KTtcblx0fTtcblxuXHQvKipcblx0ICogQG1ldGhvZCBfaGFuZGxlTW92ZVxuXHQgKiBAcGFyYW0ge1N0YWdlfSBzdGFnZVxuXHQgKiBAcGFyYW0ge1N0cmluZ3xOdW1iZXJ9IGlkXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBlXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB4XG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB5XG5cdCAqIEBwcm90ZWN0ZWRcblx0ICoqL1xuXHRUb3VjaC5faGFuZGxlTW92ZSA9IGZ1bmN0aW9uKHN0YWdlLCBpZCwgZSwgeCwgeSkge1xuXHRcdGlmICghc3RhZ2UuX190b3VjaC5wb2ludGVyc1tpZF0pIHsgcmV0dXJuOyB9XG5cdFx0c3RhZ2UuX2hhbmRsZVBvaW50ZXJNb3ZlKGlkLCBlLCB4LCB5KTtcblx0fTtcblxuXHQvKipcblx0ICogQG1ldGhvZCBfaGFuZGxlRW5kXG5cdCAqIEBwYXJhbSB7U3RhZ2V9IHN0YWdlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfE51bWJlcn0gaWRcblx0ICogQHBhcmFtIHtPYmplY3R9IGVcblx0ICogQHByb3RlY3RlZFxuXHQgKiovXG5cdFRvdWNoLl9oYW5kbGVFbmQgPSBmdW5jdGlvbihzdGFnZSwgaWQsIGUpIHtcblx0XHQvLyBUT0RPOiBjYW5jZWwgc2hvdWxkIGJlIGhhbmRsZWQgZGlmZmVyZW50bHkgZm9yIHByb3BlciBVSSAoZXguIGFuIHVwIHdvdWxkIHRyaWdnZXIgYSBjbGljaywgYSBjYW5jZWwgd291bGQgbW9yZSBjbG9zZWx5IHJlc2VtYmxlIGFuIG91dCkuXG5cdFx0dmFyIHByb3BzID0gc3RhZ2UuX190b3VjaDtcblx0XHR2YXIgaWRzID0gcHJvcHMucG9pbnRlcnM7XG5cdFx0aWYgKCFpZHNbaWRdKSB7IHJldHVybjsgfVxuXHRcdHByb3BzLmNvdW50LS07XG5cdFx0c3RhZ2UuX2hhbmRsZVBvaW50ZXJVcChpZCwgZSwgdHJ1ZSk7XG5cdFx0ZGVsZXRlKGlkc1tpZF0pO1xuXHR9O1xuXG5cblx0Y3JlYXRlanMuVG91Y2ggPSBUb3VjaDtcbn0oKSk7XG5cbi8vIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXG4vLyB2ZXJzaW9uLmpzXG4vLyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI1xuXG4oZnVuY3Rpb24oKSB7XG5cdFwidXNlIHN0cmljdFwiO1xuXG5cdC8qKlxuXHQgKiBTdGF0aWMgY2xhc3MgaG9sZGluZyBsaWJyYXJ5IHNwZWNpZmljIGluZm9ybWF0aW9uIHN1Y2ggYXMgdGhlIHZlcnNpb24gYW5kIGJ1aWxkRGF0ZSBvZlxuXHQgKiB0aGUgbGlicmFyeS5cblx0ICogQGNsYXNzIEVhc2VsSlNcblx0ICoqL1xuXHR2YXIgcyA9IGNyZWF0ZWpzLkVhc2VsSlMgPSBjcmVhdGVqcy5FYXNlbEpTIHx8IHt9O1xuXG5cdC8qKlxuXHQgKiBUaGUgdmVyc2lvbiBzdHJpbmcgZm9yIHRoaXMgcmVsZWFzZS5cblx0ICogQHByb3BlcnR5IHZlcnNpb25cblx0ICogQHR5cGUgU3RyaW5nXG5cdCAqIEBzdGF0aWNcblx0ICoqL1xuXHRzLnZlcnNpb24gPSAvKj12ZXJzaW9uKi9cIk5FWFRcIjsgLy8gaW5qZWN0ZWQgYnkgYnVpbGQgcHJvY2Vzc1xuXG5cdC8qKlxuXHQgKiBUaGUgYnVpbGQgZGF0ZSBmb3IgdGhpcyByZWxlYXNlIGluIFVUQyBmb3JtYXQuXG5cdCAqIEBwcm9wZXJ0eSBidWlsZERhdGVcblx0ICogQHR5cGUgU3RyaW5nXG5cdCAqIEBzdGF0aWNcblx0ICoqL1xuXHRzLmJ1aWxkRGF0ZSA9IC8qPWRhdGUqL1wiVGh1LCAxNCBTZXAgMjAxNyAyMjoxOTo0OCBHTVRcIjsgLy8gaW5qZWN0ZWQgYnkgYnVpbGQgcHJvY2Vzc1xuXG59KSgpO1xuXG4vLyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI1xuLy8gdmVyc2lvbi5qc1xuLy8jIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyNcblxuKGZ1bmN0aW9uICgpIHtcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cblx0LyoqXG5cdCAqIFN0YXRpYyBjbGFzcyBob2xkaW5nIGxpYnJhcnkgc3BlY2lmaWMgaW5mb3JtYXRpb24gc3VjaCBhcyB0aGUgdmVyc2lvbiBhbmQgYnVpbGREYXRlIG9mIHRoZSBsaWJyYXJ5LlxuXHQgKiBAY2xhc3MgUHJlbG9hZEpTXG5cdCAqKi9cblx0dmFyIHMgPSBjcmVhdGVqcy5QcmVsb2FkSlMgPSBjcmVhdGVqcy5QcmVsb2FkSlMgfHwge307XG5cblx0LyoqXG5cdCAqIFRoZSB2ZXJzaW9uIHN0cmluZyBmb3IgdGhpcyByZWxlYXNlLlxuXHQgKiBAcHJvcGVydHkgdmVyc2lvblxuXHQgKiBAdHlwZSB7U3RyaW5nfVxuXHQgKiBAc3RhdGljXG5cdCAqKi9cblx0cy52ZXJzaW9uID0gLyo9dmVyc2lvbiovXCJORVhUXCI7IC8vIGluamVjdGVkIGJ5IGJ1aWxkIHByb2Nlc3NcblxuXHQvKipcblx0ICogVGhlIGJ1aWxkIGRhdGUgZm9yIHRoaXMgcmVsZWFzZSBpbiBVVEMgZm9ybWF0LlxuXHQgKiBAcHJvcGVydHkgYnVpbGREYXRlXG5cdCAqIEB0eXBlIHtTdHJpbmd9XG5cdCAqIEBzdGF0aWNcblx0ICoqL1xuXHRzLmJ1aWxkRGF0ZSA9IC8qPWRhdGUqL1wiVGh1LCAxNCBTZXAgMjAxNyAyMjoxOTo0NSBHTVRcIjsgLy8gaW5qZWN0ZWQgYnkgYnVpbGQgcHJvY2Vzc1xuXG59KSgpO1xuXG4vLyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI1xuLy8gcHJveHkuanNcbi8vIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXG5cbi8qKlxuICogVmFyaW91cyB1dGlsaXRpZXMgdGhhdCB0aGUgQ3JlYXRlSlMgU3VpdGUgdXNlcy4gVXRpbGl0aWVzIGFyZSBjcmVhdGVkIGFzIHNlcGFyYXRlIGZpbGVzLCBhbmQgd2lsbCBiZSBhdmFpbGFibGUgb24gdGhlXG4gKiBjcmVhdGVqcyBuYW1lc3BhY2UgZGlyZWN0bHkuXG4gKlxuICogPGg0PkV4YW1wbGU8L2g0PlxuICpcbiAqICAgICAgbXlPYmplY3QuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCBjcmVhdGVqcy5wcm94eShteU1ldGhvZCwgc2NvcGUpKTtcbiAqXG4gKiBAY2xhc3MgVXRpbGl0eSBNZXRob2RzXG4gKiBAbWFpbiBVdGlsaXR5IE1ldGhvZHNcbiAqL1xuXG4oZnVuY3Rpb24oKSB7XG5cdFwidXNlIHN0cmljdFwiO1xuXG5cdC8qKlxuXHQgKiBBIGZ1bmN0aW9uIHByb3h5IGZvciBtZXRob2RzLiBCeSBkZWZhdWx0LCBKYXZhU2NyaXB0IG1ldGhvZHMgZG8gbm90IG1haW50YWluIHNjb3BlLCBzbyBwYXNzaW5nIGEgbWV0aG9kIGFzIGFcblx0ICogY2FsbGJhY2sgd2lsbCByZXN1bHQgaW4gdGhlIG1ldGhvZCBnZXR0aW5nIGNhbGxlZCBpbiB0aGUgc2NvcGUgb2YgdGhlIGNhbGxlci4gVXNpbmcgYSBwcm94eSBlbnN1cmVzIHRoYXQgdGhlXG5cdCAqIG1ldGhvZCBnZXRzIGNhbGxlZCBpbiB0aGUgY29ycmVjdCBzY29wZS5cblx0ICpcblx0ICogQWRkaXRpb25hbCBhcmd1bWVudHMgY2FuIGJlIHBhc3NlZCB0aGF0IHdpbGwgYmUgYXBwbGllZCB0byB0aGUgZnVuY3Rpb24gd2hlbiBpdCBpcyBjYWxsZWQuXG5cdCAqXG5cdCAqIDxoND5FeGFtcGxlPC9oND5cblx0ICpcblx0ICogICAgICBteU9iamVjdC5hZGRFdmVudExpc3RlbmVyKFwiZXZlbnRcIiwgY3JlYXRlanMucHJveHkobXlIYW5kbGVyLCB0aGlzLCBhcmcxLCBhcmcyKSk7XG5cdCAqXG5cdCAqICAgICAgZnVuY3Rpb24gbXlIYW5kbGVyKGFyZzEsIGFyZzIpIHtcblx0ICogICAgICAgICAgIC8vIFRoaXMgZ2V0cyBjYWxsZWQgd2hlbiBteU9iamVjdC5teUNhbGxiYWNrIGlzIGV4ZWN1dGVkLlxuXHQgKiAgICAgIH1cblx0ICpcblx0ICogQG1ldGhvZCBwcm94eVxuXHQgKiBAcGFyYW0ge0Z1bmN0aW9ufSBtZXRob2QgVGhlIGZ1bmN0aW9uIHRvIGNhbGxcblx0ICogQHBhcmFtIHtPYmplY3R9IHNjb3BlIFRoZSBzY29wZSB0byBjYWxsIHRoZSBtZXRob2QgbmFtZSBvblxuXHQgKiBAcGFyYW0ge21peGVkfSBbYXJnXSAqIEFyZ3VtZW50cyB0aGF0IGFyZSBhcHBlbmRlZCB0byB0aGUgY2FsbGJhY2sgZm9yIGFkZGl0aW9uYWwgcGFyYW1zLlxuXHQgKiBAcHVibGljXG5cdCAqIEBzdGF0aWNcblx0ICovXG5cdGNyZWF0ZWpzLnByb3h5ID0gZnVuY3Rpb24gKG1ldGhvZCwgc2NvcGUpIHtcblx0XHR2YXIgYUFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDIpO1xuXHRcdHJldHVybiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZXR1cm4gbWV0aG9kLmFwcGx5KHNjb3BlLCBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDApLmNvbmNhdChhQXJncykpO1xuXHRcdH07XG5cdH1cblxufSgpKTtcblxuLy8jIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyNcbi8vIEVycm9yRXZlbnQuanNcbi8vIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXG5cbihmdW5jdGlvbigpIHtcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cblx0LyoqXG5cdCAqIEEgZ2VuZXJhbCBlcnJvciB7eyNjcm9zc0xpbmsgXCJFdmVudFwifX17ey9jcm9zc0xpbmt9fSwgdGhhdCBkZXNjcmliZXMgYW4gZXJyb3IgdGhhdCBvY2N1cnJlZCwgYXMgd2VsbCBhcyBhbnkgZGV0YWlscy5cblx0ICogQGNsYXNzIEVycm9yRXZlbnRcblx0ICogQHBhcmFtIHtTdHJpbmd9IFt0aXRsZV0gVGhlIGVycm9yIHRpdGxlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBbbWVzc2FnZV0gVGhlIGVycm9yIGRlc2NyaXB0aW9uXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBbZGF0YV0gQWRkaXRpb25hbCBlcnJvciBkYXRhXG5cdCAqIEBjb25zdHJ1Y3RvclxuXHQgKi9cblx0ZnVuY3Rpb24gRXJyb3JFdmVudCh0aXRsZSwgbWVzc2FnZSwgZGF0YSkge1xuXHRcdHRoaXMuRXZlbnRfY29uc3RydWN0b3IoXCJlcnJvclwiKTtcblxuXHRcdC8qKlxuXHRcdCAqIFRoZSBzaG9ydCBlcnJvciB0aXRsZSwgd2hpY2ggaW5kaWNhdGVzIHRoZSB0eXBlIG9mIGVycm9yIHRoYXQgb2NjdXJyZWQuXG5cdFx0ICogQHByb3BlcnR5IHRpdGxlXG5cdFx0ICogQHR5cGUgU3RyaW5nXG5cdFx0ICovXG5cdFx0dGhpcy50aXRsZSA9IHRpdGxlO1xuXG5cdFx0LyoqXG5cdFx0ICogVGhlIHZlcmJvc2UgZXJyb3IgbWVzc2FnZSwgY29udGFpbmluZyBkZXRhaWxzIGFib3V0IHRoZSBlcnJvci5cblx0XHQgKiBAcHJvcGVydHkgbWVzc2FnZVxuXHRcdCAqIEB0eXBlIFN0cmluZ1xuXHRcdCAqL1xuXHRcdHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG5cblx0XHQvKipcblx0XHQgKiBBZGRpdGlvbmFsIGRhdGEgYXR0YWNoZWQgdG8gYW4gZXJyb3IuXG5cdFx0ICogQHByb3BlcnR5IGRhdGFcblx0XHQgKiBAdHlwZSB7T2JqZWN0fVxuXHRcdCAqL1xuXHRcdHRoaXMuZGF0YSA9IGRhdGE7XG5cdH1cblxuXHR2YXIgcCA9IGNyZWF0ZWpzLmV4dGVuZChFcnJvckV2ZW50LCBjcmVhdGVqcy5FdmVudCk7XG5cblx0cC5jbG9uZSA9IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBuZXcgY3JlYXRlanMuRXJyb3JFdmVudCh0aGlzLnRpdGxlLCB0aGlzLm1lc3NhZ2UsIHRoaXMuZGF0YSk7XG5cdH07XG5cblx0Y3JlYXRlanMuRXJyb3JFdmVudCA9IGNyZWF0ZWpzLnByb21vdGUoRXJyb3JFdmVudCwgXCJFdmVudFwiKTtcblxufSgpKTtcblxuLy8jIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyNcbi8vIFByb2dyZXNzRXZlbnQuanNcbi8vIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXG5cbihmdW5jdGlvbiAoc2NvcGUpIHtcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cblx0Ly8gY29uc3RydWN0b3Jcblx0LyoqXG5cdCAqIEEgQ3JlYXRlSlMge3sjY3Jvc3NMaW5rIFwiRXZlbnRcIn19e3svY3Jvc3NMaW5rfX0gdGhhdCBpcyBkaXNwYXRjaGVkIHdoZW4gcHJvZ3Jlc3MgY2hhbmdlcy5cblx0ICogQGNsYXNzIFByb2dyZXNzRXZlbnRcblx0ICogQHBhcmFtIHtOdW1iZXJ9IGxvYWRlZCBUaGUgYW1vdW50IHRoYXQgaGFzIGJlZW4gbG9hZGVkLiBUaGlzIGNhbiBiZSBhbnkgbnVtYmVyIHJlbGF0aXZlIHRvIHRoZSB0b3RhbC5cblx0ICogQHBhcmFtIHtOdW1iZXJ9IFt0b3RhbD0xXSBUaGUgdG90YWwgYW1vdW50IHRoYXQgd2lsbCBsb2FkLiBUaGlzIHdpbGwgZGVmYXVsdCB0byAxLCBzbyBpZiB0aGUgYGxvYWRlZGAgdmFsdWUgaXNcblx0ICogYSBwZXJjZW50YWdlIChiZXR3ZWVuIDAgYW5kIDEpLCBpdCBjYW4gYmUgb21pdHRlZC5cblx0ICogQHRvZG8gQ29uc2lkZXIgaGF2aW5nIHRoaXMgZXZlbnQgYmUgYSBcImZpbGVwcm9ncmVzc1wiIGV2ZW50IGFzIHdlbGxcblx0ICogQGNvbnN0cnVjdG9yXG5cdCAqL1xuXHRmdW5jdGlvbiBQcm9ncmVzc0V2ZW50KGxvYWRlZCwgdG90YWwpIHtcblx0XHR0aGlzLkV2ZW50X2NvbnN0cnVjdG9yKFwicHJvZ3Jlc3NcIik7XG5cblx0XHQvKipcblx0XHQgKiBUaGUgYW1vdW50IHRoYXQgaGFzIGJlZW4gbG9hZGVkIChvdXQgb2YgYSB0b3RhbCBhbW91bnQpXG5cdFx0ICogQHByb3BlcnR5IGxvYWRlZFxuXHRcdCAqIEB0eXBlIHtOdW1iZXJ9XG5cdFx0ICovXG5cdFx0dGhpcy5sb2FkZWQgPSBsb2FkZWQ7XG5cblx0XHQvKipcblx0XHQgKiBUaGUgdG90YWwgXCJzaXplXCIgb2YgdGhlIGxvYWQuXG5cdFx0ICogQHByb3BlcnR5IHRvdGFsXG5cdFx0ICogQHR5cGUge051bWJlcn1cblx0XHQgKiBAZGVmYXVsdCAxXG5cdFx0ICovXG5cdFx0dGhpcy50b3RhbCA9ICh0b3RhbCA9PSBudWxsKSA/IDEgOiB0b3RhbDtcblxuXHRcdC8qKlxuXHRcdCAqIFRoZSBwZXJjZW50YWdlIChvdXQgb2YgMSkgdGhhdCB0aGUgbG9hZCBoYXMgYmVlbiBjb21wbGV0ZWQuIFRoaXMgaXMgY2FsY3VsYXRlZCB1c2luZyBgbG9hZGVkL3RvdGFsYC5cblx0XHQgKiBAcHJvcGVydHkgcHJvZ3Jlc3Ncblx0XHQgKiBAdHlwZSB7TnVtYmVyfVxuXHRcdCAqIEBkZWZhdWx0IDBcblx0XHQgKi9cblx0XHR0aGlzLnByb2dyZXNzID0gKHRvdGFsID09IDApID8gMCA6IHRoaXMubG9hZGVkIC8gdGhpcy50b3RhbDtcblx0fTtcblxuXHR2YXIgcCA9IGNyZWF0ZWpzLmV4dGVuZChQcm9ncmVzc0V2ZW50LCBjcmVhdGVqcy5FdmVudCk7XG5cblx0LyoqXG5cdCAqIFJldHVybnMgYSBjbG9uZSBvZiB0aGUgUHJvZ3Jlc3NFdmVudCBpbnN0YW5jZS5cblx0ICogQG1ldGhvZCBjbG9uZVxuXHQgKiBAcmV0dXJuIHtQcm9ncmVzc0V2ZW50fSBhIGNsb25lIG9mIHRoZSBFdmVudCBpbnN0YW5jZS5cblx0ICoqL1xuXHRwLmNsb25lID0gZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIG5ldyBjcmVhdGVqcy5Qcm9ncmVzc0V2ZW50KHRoaXMubG9hZGVkLCB0aGlzLnRvdGFsKTtcblx0fTtcblxuXHRjcmVhdGVqcy5Qcm9ncmVzc0V2ZW50ID0gY3JlYXRlanMucHJvbW90ZShQcm9ncmVzc0V2ZW50LCBcIkV2ZW50XCIpO1xuXG59KHdpbmRvdykpO1xuXG4vLyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI1xuLy8ganNvbjMuanNcbi8vIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXG5cbi8qISBKU09OIHYzLjMuMiB8IGh0dHA6Ly9iZXN0aWVqcy5naXRodWIuaW8vanNvbjMgfCBDb3B5cmlnaHQgMjAxMi0yMDE0LCBLaXQgQ2FtYnJpZGdlIHwgaHR0cDovL2tpdC5taXQtbGljZW5zZS5vcmcgKi9cbjsoZnVuY3Rpb24gKCkge1xuICAvLyBEZXRlY3QgdGhlIGBkZWZpbmVgIGZ1bmN0aW9uIGV4cG9zZWQgYnkgYXN5bmNocm9ub3VzIG1vZHVsZSBsb2FkZXJzLiBUaGVcbiAgLy8gc3RyaWN0IGBkZWZpbmVgIGNoZWNrIGlzIG5lY2Vzc2FyeSBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIGByLmpzYC5cbiAgdmFyIGlzTG9hZGVyID0gdHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQ7XG5cbiAgLy8gQSBzZXQgb2YgdHlwZXMgdXNlZCB0byBkaXN0aW5ndWlzaCBvYmplY3RzIGZyb20gcHJpbWl0aXZlcy5cbiAgdmFyIG9iamVjdFR5cGVzID0ge1xuICAgIFwiZnVuY3Rpb25cIjogdHJ1ZSxcbiAgICBcIm9iamVjdFwiOiB0cnVlXG4gIH07XG5cbiAgLy8gRGV0ZWN0IHRoZSBgZXhwb3J0c2Agb2JqZWN0IGV4cG9zZWQgYnkgQ29tbW9uSlMgaW1wbGVtZW50YXRpb25zLlxuICB2YXIgZnJlZUV4cG9ydHMgPSBvYmplY3RUeXBlc1t0eXBlb2YgZXhwb3J0c10gJiYgZXhwb3J0cyAmJiAhZXhwb3J0cy5ub2RlVHlwZSAmJiBleHBvcnRzO1xuXG4gIC8vIFVzZSB0aGUgYGdsb2JhbGAgb2JqZWN0IGV4cG9zZWQgYnkgTm9kZSAoaW5jbHVkaW5nIEJyb3dzZXJpZnkgdmlhXG4gIC8vIGBpbnNlcnQtbW9kdWxlLWdsb2JhbHNgKSwgTmFyd2hhbCwgYW5kIFJpbmdvIGFzIHRoZSBkZWZhdWx0IGNvbnRleHQsXG4gIC8vIGFuZCB0aGUgYHdpbmRvd2Agb2JqZWN0IGluIGJyb3dzZXJzLiBSaGlubyBleHBvcnRzIGEgYGdsb2JhbGAgZnVuY3Rpb25cbiAgLy8gaW5zdGVhZC5cbiAgdmFyIHJvb3QgPSBvYmplY3RUeXBlc1t0eXBlb2Ygd2luZG93XSAmJiB3aW5kb3cgfHwgdGhpcyxcbiAgICAgIGZyZWVHbG9iYWwgPSBmcmVlRXhwb3J0cyAmJiBvYmplY3RUeXBlc1t0eXBlb2YgbW9kdWxlXSAmJiBtb2R1bGUgJiYgIW1vZHVsZS5ub2RlVHlwZSAmJiB0eXBlb2YgZ2xvYmFsID09IFwib2JqZWN0XCIgJiYgZ2xvYmFsO1xuXG4gIGlmIChmcmVlR2xvYmFsICYmIChmcmVlR2xvYmFsW1wiZ2xvYmFsXCJdID09PSBmcmVlR2xvYmFsIHx8IGZyZWVHbG9iYWxbXCJ3aW5kb3dcIl0gPT09IGZyZWVHbG9iYWwgfHwgZnJlZUdsb2JhbFtcInNlbGZcIl0gPT09IGZyZWVHbG9iYWwpKSB7XG4gICAgcm9vdCA9IGZyZWVHbG9iYWw7XG4gIH1cblxuICAvLyBQdWJsaWM6IEluaXRpYWxpemVzIEpTT04gMyB1c2luZyB0aGUgZ2l2ZW4gYGNvbnRleHRgIG9iamVjdCwgYXR0YWNoaW5nIHRoZVxuICAvLyBgc3RyaW5naWZ5YCBhbmQgYHBhcnNlYCBmdW5jdGlvbnMgdG8gdGhlIHNwZWNpZmllZCBgZXhwb3J0c2Agb2JqZWN0LlxuICBmdW5jdGlvbiBydW5JbkNvbnRleHQoY29udGV4dCwgZXhwb3J0cykge1xuICAgIGNvbnRleHQgfHwgKGNvbnRleHQgPSByb290W1wiT2JqZWN0XCJdKCkpO1xuICAgIGV4cG9ydHMgfHwgKGV4cG9ydHMgPSByb290W1wiT2JqZWN0XCJdKCkpO1xuXG4gICAgLy8gTmF0aXZlIGNvbnN0cnVjdG9yIGFsaWFzZXMuXG4gICAgdmFyIE51bWJlciA9IGNvbnRleHRbXCJOdW1iZXJcIl0gfHwgcm9vdFtcIk51bWJlclwiXSxcbiAgICAgICAgU3RyaW5nID0gY29udGV4dFtcIlN0cmluZ1wiXSB8fCByb290W1wiU3RyaW5nXCJdLFxuICAgICAgICBPYmplY3QgPSBjb250ZXh0W1wiT2JqZWN0XCJdIHx8IHJvb3RbXCJPYmplY3RcIl0sXG4gICAgICAgIERhdGUgPSBjb250ZXh0W1wiRGF0ZVwiXSB8fCByb290W1wiRGF0ZVwiXSxcbiAgICAgICAgU3ludGF4RXJyb3IgPSBjb250ZXh0W1wiU3ludGF4RXJyb3JcIl0gfHwgcm9vdFtcIlN5bnRheEVycm9yXCJdLFxuICAgICAgICBUeXBlRXJyb3IgPSBjb250ZXh0W1wiVHlwZUVycm9yXCJdIHx8IHJvb3RbXCJUeXBlRXJyb3JcIl0sXG4gICAgICAgIE1hdGggPSBjb250ZXh0W1wiTWF0aFwiXSB8fCByb290W1wiTWF0aFwiXSxcbiAgICAgICAgbmF0aXZlSlNPTiA9IGNvbnRleHRbXCJKU09OXCJdIHx8IHJvb3RbXCJKU09OXCJdO1xuXG4gICAgLy8gRGVsZWdhdGUgdG8gdGhlIG5hdGl2ZSBgc3RyaW5naWZ5YCBhbmQgYHBhcnNlYCBpbXBsZW1lbnRhdGlvbnMuXG4gICAgaWYgKHR5cGVvZiBuYXRpdmVKU09OID09IFwib2JqZWN0XCIgJiYgbmF0aXZlSlNPTikge1xuICAgICAgZXhwb3J0cy5zdHJpbmdpZnkgPSBuYXRpdmVKU09OLnN0cmluZ2lmeTtcbiAgICAgIGV4cG9ydHMucGFyc2UgPSBuYXRpdmVKU09OLnBhcnNlO1xuICAgIH1cblxuICAgIC8vIENvbnZlbmllbmNlIGFsaWFzZXMuXG4gICAgdmFyIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZSxcbiAgICAgICAgZ2V0Q2xhc3MgPSBvYmplY3RQcm90by50b1N0cmluZyxcbiAgICAgICAgaXNQcm9wZXJ0eSwgZm9yRWFjaCwgdW5kZWY7XG5cbiAgICAvLyBUZXN0IHRoZSBgRGF0ZSNnZXRVVEMqYCBtZXRob2RzLiBCYXNlZCBvbiB3b3JrIGJ5IEBZYWZmbGUuXG4gICAgdmFyIGlzRXh0ZW5kZWQgPSBuZXcgRGF0ZSgtMzUwOTgyNzMzNDU3MzI5Mik7XG4gICAgdHJ5IHtcbiAgICAgIC8vIFRoZSBgZ2V0VVRDRnVsbFllYXJgLCBgTW9udGhgLCBhbmQgYERhdGVgIG1ldGhvZHMgcmV0dXJuIG5vbnNlbnNpY2FsXG4gICAgICAvLyByZXN1bHRzIGZvciBjZXJ0YWluIGRhdGVzIGluIE9wZXJhID49IDEwLjUzLlxuICAgICAgaXNFeHRlbmRlZCA9IGlzRXh0ZW5kZWQuZ2V0VVRDRnVsbFllYXIoKSA9PSAtMTA5MjUyICYmIGlzRXh0ZW5kZWQuZ2V0VVRDTW9udGgoKSA9PT0gMCAmJiBpc0V4dGVuZGVkLmdldFVUQ0RhdGUoKSA9PT0gMSAmJlxuICAgICAgICAvLyBTYWZhcmkgPCAyLjAuMiBzdG9yZXMgdGhlIGludGVybmFsIG1pbGxpc2Vjb25kIHRpbWUgdmFsdWUgY29ycmVjdGx5LFxuICAgICAgICAvLyBidXQgY2xpcHMgdGhlIHZhbHVlcyByZXR1cm5lZCBieSB0aGUgZGF0ZSBtZXRob2RzIHRvIHRoZSByYW5nZSBvZlxuICAgICAgICAvLyBzaWduZWQgMzItYml0IGludGVnZXJzIChbLTIgKiogMzEsIDIgKiogMzEgLSAxXSkuXG4gICAgICAgIGlzRXh0ZW5kZWQuZ2V0VVRDSG91cnMoKSA9PSAxMCAmJiBpc0V4dGVuZGVkLmdldFVUQ01pbnV0ZXMoKSA9PSAzNyAmJiBpc0V4dGVuZGVkLmdldFVUQ1NlY29uZHMoKSA9PSA2ICYmIGlzRXh0ZW5kZWQuZ2V0VVRDTWlsbGlzZWNvbmRzKCkgPT0gNzA4O1xuICAgIH0gY2F0Y2ggKGV4Y2VwdGlvbikge31cblxuICAgIC8vIEludGVybmFsOiBEZXRlcm1pbmVzIHdoZXRoZXIgdGhlIG5hdGl2ZSBgSlNPTi5zdHJpbmdpZnlgIGFuZCBgcGFyc2VgXG4gICAgLy8gaW1wbGVtZW50YXRpb25zIGFyZSBzcGVjLWNvbXBsaWFudC4gQmFzZWQgb24gd29yayBieSBLZW4gU255ZGVyLlxuICAgIGZ1bmN0aW9uIGhhcyhuYW1lKSB7XG4gICAgICBpZiAoaGFzW25hbWVdICE9PSB1bmRlZikge1xuICAgICAgICAvLyBSZXR1cm4gY2FjaGVkIGZlYXR1cmUgdGVzdCByZXN1bHQuXG4gICAgICAgIHJldHVybiBoYXNbbmFtZV07XG4gICAgICB9XG4gICAgICB2YXIgaXNTdXBwb3J0ZWQ7XG4gICAgICBpZiAobmFtZSA9PSBcImJ1Zy1zdHJpbmctY2hhci1pbmRleFwiKSB7XG4gICAgICAgIC8vIElFIDw9IDcgZG9lc24ndCBzdXBwb3J0IGFjY2Vzc2luZyBzdHJpbmcgY2hhcmFjdGVycyB1c2luZyBzcXVhcmVcbiAgICAgICAgLy8gYnJhY2tldCBub3RhdGlvbi4gSUUgOCBvbmx5IHN1cHBvcnRzIHRoaXMgZm9yIHByaW1pdGl2ZXMuXG4gICAgICAgIGlzU3VwcG9ydGVkID0gXCJhXCJbMF0gIT0gXCJhXCI7XG4gICAgICB9IGVsc2UgaWYgKG5hbWUgPT0gXCJqc29uXCIpIHtcbiAgICAgICAgLy8gSW5kaWNhdGVzIHdoZXRoZXIgYm90aCBgSlNPTi5zdHJpbmdpZnlgIGFuZCBgSlNPTi5wYXJzZWAgYXJlXG4gICAgICAgIC8vIHN1cHBvcnRlZC5cbiAgICAgICAgaXNTdXBwb3J0ZWQgPSBoYXMoXCJqc29uLXN0cmluZ2lmeVwiKSAmJiBoYXMoXCJqc29uLXBhcnNlXCIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIHZhbHVlLCBzZXJpYWxpemVkID0gJ3tcImFcIjpbMSx0cnVlLGZhbHNlLG51bGwsXCJcXFxcdTAwMDBcXFxcYlxcXFxuXFxcXGZcXFxcclxcXFx0XCJdfSc7XG4gICAgICAgIC8vIFRlc3QgYEpTT04uc3RyaW5naWZ5YC5cbiAgICAgICAgaWYgKG5hbWUgPT0gXCJqc29uLXN0cmluZ2lmeVwiKSB7XG4gICAgICAgICAgdmFyIHN0cmluZ2lmeSA9IGV4cG9ydHMuc3RyaW5naWZ5LCBzdHJpbmdpZnlTdXBwb3J0ZWQgPSB0eXBlb2Ygc3RyaW5naWZ5ID09IFwiZnVuY3Rpb25cIiAmJiBpc0V4dGVuZGVkO1xuICAgICAgICAgIGlmIChzdHJpbmdpZnlTdXBwb3J0ZWQpIHtcbiAgICAgICAgICAgIC8vIEEgdGVzdCBmdW5jdGlvbiBvYmplY3Qgd2l0aCBhIGN1c3RvbSBgdG9KU09OYCBtZXRob2QuXG4gICAgICAgICAgICAodmFsdWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICAgICAgfSkudG9KU09OID0gdmFsdWU7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBzdHJpbmdpZnlTdXBwb3J0ZWQgPVxuICAgICAgICAgICAgICAgIC8vIEZpcmVmb3ggMy4xYjEgYW5kIGIyIHNlcmlhbGl6ZSBzdHJpbmcsIG51bWJlciwgYW5kIGJvb2xlYW5cbiAgICAgICAgICAgICAgICAvLyBwcmltaXRpdmVzIGFzIG9iamVjdCBsaXRlcmFscy5cbiAgICAgICAgICAgICAgICBzdHJpbmdpZnkoMCkgPT09IFwiMFwiICYmXG4gICAgICAgICAgICAgICAgLy8gRkYgMy4xYjEsIGIyLCBhbmQgSlNPTiAyIHNlcmlhbGl6ZSB3cmFwcGVkIHByaW1pdGl2ZXMgYXMgb2JqZWN0XG4gICAgICAgICAgICAgICAgLy8gbGl0ZXJhbHMuXG4gICAgICAgICAgICAgICAgc3RyaW5naWZ5KG5ldyBOdW1iZXIoKSkgPT09IFwiMFwiICYmXG4gICAgICAgICAgICAgICAgc3RyaW5naWZ5KG5ldyBTdHJpbmcoKSkgPT0gJ1wiXCInICYmXG4gICAgICAgICAgICAgICAgLy8gRkYgMy4xYjEsIDIgdGhyb3cgYW4gZXJyb3IgaWYgdGhlIHZhbHVlIGlzIGBudWxsYCwgYHVuZGVmaW5lZGAsIG9yXG4gICAgICAgICAgICAgICAgLy8gZG9lcyBub3QgZGVmaW5lIGEgY2Fub25pY2FsIEpTT04gcmVwcmVzZW50YXRpb24gKHRoaXMgYXBwbGllcyB0b1xuICAgICAgICAgICAgICAgIC8vIG9iamVjdHMgd2l0aCBgdG9KU09OYCBwcm9wZXJ0aWVzIGFzIHdlbGwsICp1bmxlc3MqIHRoZXkgYXJlIG5lc3RlZFxuICAgICAgICAgICAgICAgIC8vIHdpdGhpbiBhbiBvYmplY3Qgb3IgYXJyYXkpLlxuICAgICAgICAgICAgICAgIHN0cmluZ2lmeShnZXRDbGFzcykgPT09IHVuZGVmICYmXG4gICAgICAgICAgICAgICAgLy8gSUUgOCBzZXJpYWxpemVzIGB1bmRlZmluZWRgIGFzIGBcInVuZGVmaW5lZFwiYC4gU2FmYXJpIDw9IDUuMS43IGFuZFxuICAgICAgICAgICAgICAgIC8vIEZGIDMuMWIzIHBhc3MgdGhpcyB0ZXN0LlxuICAgICAgICAgICAgICAgIHN0cmluZ2lmeSh1bmRlZikgPT09IHVuZGVmICYmXG4gICAgICAgICAgICAgICAgLy8gU2FmYXJpIDw9IDUuMS43IGFuZCBGRiAzLjFiMyB0aHJvdyBgRXJyb3JgcyBhbmQgYFR5cGVFcnJvcmBzLFxuICAgICAgICAgICAgICAgIC8vIHJlc3BlY3RpdmVseSwgaWYgdGhlIHZhbHVlIGlzIG9taXR0ZWQgZW50aXJlbHkuXG4gICAgICAgICAgICAgICAgc3RyaW5naWZ5KCkgPT09IHVuZGVmICYmXG4gICAgICAgICAgICAgICAgLy8gRkYgMy4xYjEsIDIgdGhyb3cgYW4gZXJyb3IgaWYgdGhlIGdpdmVuIHZhbHVlIGlzIG5vdCBhIG51bWJlcixcbiAgICAgICAgICAgICAgICAvLyBzdHJpbmcsIGFycmF5LCBvYmplY3QsIEJvb2xlYW4sIG9yIGBudWxsYCBsaXRlcmFsLiBUaGlzIGFwcGxpZXMgdG9cbiAgICAgICAgICAgICAgICAvLyBvYmplY3RzIHdpdGggY3VzdG9tIGB0b0pTT05gIG1ldGhvZHMgYXMgd2VsbCwgdW5sZXNzIHRoZXkgYXJlIG5lc3RlZFxuICAgICAgICAgICAgICAgIC8vIGluc2lkZSBvYmplY3Qgb3IgYXJyYXkgbGl0ZXJhbHMuIFlVSSAzLjAuMGIxIGlnbm9yZXMgY3VzdG9tIGB0b0pTT05gXG4gICAgICAgICAgICAgICAgLy8gbWV0aG9kcyBlbnRpcmVseS5cbiAgICAgICAgICAgICAgICBzdHJpbmdpZnkodmFsdWUpID09PSBcIjFcIiAmJlxuICAgICAgICAgICAgICAgIHN0cmluZ2lmeShbdmFsdWVdKSA9PSBcIlsxXVwiICYmXG4gICAgICAgICAgICAgICAgLy8gUHJvdG90eXBlIDw9IDEuNi4xIHNlcmlhbGl6ZXMgYFt1bmRlZmluZWRdYCBhcyBgXCJbXVwiYCBpbnN0ZWFkIG9mXG4gICAgICAgICAgICAgICAgLy8gYFwiW251bGxdXCJgLlxuICAgICAgICAgICAgICAgIHN0cmluZ2lmeShbdW5kZWZdKSA9PSBcIltudWxsXVwiICYmXG4gICAgICAgICAgICAgICAgLy8gWVVJIDMuMC4wYjEgZmFpbHMgdG8gc2VyaWFsaXplIGBudWxsYCBsaXRlcmFscy5cbiAgICAgICAgICAgICAgICBzdHJpbmdpZnkobnVsbCkgPT0gXCJudWxsXCIgJiZcbiAgICAgICAgICAgICAgICAvLyBGRiAzLjFiMSwgMiBoYWx0cyBzZXJpYWxpemF0aW9uIGlmIGFuIGFycmF5IGNvbnRhaW5zIGEgZnVuY3Rpb246XG4gICAgICAgICAgICAgICAgLy8gYFsxLCB0cnVlLCBnZXRDbGFzcywgMV1gIHNlcmlhbGl6ZXMgYXMgXCJbMSx0cnVlLF0sXCIuIEZGIDMuMWIzXG4gICAgICAgICAgICAgICAgLy8gZWxpZGVzIG5vbi1KU09OIHZhbHVlcyBmcm9tIG9iamVjdHMgYW5kIGFycmF5cywgdW5sZXNzIHRoZXlcbiAgICAgICAgICAgICAgICAvLyBkZWZpbmUgY3VzdG9tIGB0b0pTT05gIG1ldGhvZHMuXG4gICAgICAgICAgICAgICAgc3RyaW5naWZ5KFt1bmRlZiwgZ2V0Q2xhc3MsIG51bGxdKSA9PSBcIltudWxsLG51bGwsbnVsbF1cIiAmJlxuICAgICAgICAgICAgICAgIC8vIFNpbXBsZSBzZXJpYWxpemF0aW9uIHRlc3QuIEZGIDMuMWIxIHVzZXMgVW5pY29kZSBlc2NhcGUgc2VxdWVuY2VzXG4gICAgICAgICAgICAgICAgLy8gd2hlcmUgY2hhcmFjdGVyIGVzY2FwZSBjb2RlcyBhcmUgZXhwZWN0ZWQgKGUuZy4sIGBcXGJgID0+IGBcXHUwMDA4YCkuXG4gICAgICAgICAgICAgICAgc3RyaW5naWZ5KHsgXCJhXCI6IFt2YWx1ZSwgdHJ1ZSwgZmFsc2UsIG51bGwsIFwiXFx4MDBcXGJcXG5cXGZcXHJcXHRcIl0gfSkgPT0gc2VyaWFsaXplZCAmJlxuICAgICAgICAgICAgICAgIC8vIEZGIDMuMWIxIGFuZCBiMiBpZ25vcmUgdGhlIGBmaWx0ZXJgIGFuZCBgd2lkdGhgIGFyZ3VtZW50cy5cbiAgICAgICAgICAgICAgICBzdHJpbmdpZnkobnVsbCwgdmFsdWUpID09PSBcIjFcIiAmJlxuICAgICAgICAgICAgICAgIHN0cmluZ2lmeShbMSwgMl0sIG51bGwsIDEpID09IFwiW1xcbiAxLFxcbiAyXFxuXVwiICYmXG4gICAgICAgICAgICAgICAgLy8gSlNPTiAyLCBQcm90b3R5cGUgPD0gMS43LCBhbmQgb2xkZXIgV2ViS2l0IGJ1aWxkcyBpbmNvcnJlY3RseVxuICAgICAgICAgICAgICAgIC8vIHNlcmlhbGl6ZSBleHRlbmRlZCB5ZWFycy5cbiAgICAgICAgICAgICAgICBzdHJpbmdpZnkobmV3IERhdGUoLTguNjRlMTUpKSA9PSAnXCItMjcxODIxLTA0LTIwVDAwOjAwOjAwLjAwMFpcIicgJiZcbiAgICAgICAgICAgICAgICAvLyBUaGUgbWlsbGlzZWNvbmRzIGFyZSBvcHRpb25hbCBpbiBFUyA1LCBidXQgcmVxdWlyZWQgaW4gNS4xLlxuICAgICAgICAgICAgICAgIHN0cmluZ2lmeShuZXcgRGF0ZSg4LjY0ZTE1KSkgPT0gJ1wiKzI3NTc2MC0wOS0xM1QwMDowMDowMC4wMDBaXCInICYmXG4gICAgICAgICAgICAgICAgLy8gRmlyZWZveCA8PSAxMS4wIGluY29ycmVjdGx5IHNlcmlhbGl6ZXMgeWVhcnMgcHJpb3IgdG8gMCBhcyBuZWdhdGl2ZVxuICAgICAgICAgICAgICAgIC8vIGZvdXItZGlnaXQgeWVhcnMgaW5zdGVhZCBvZiBzaXgtZGlnaXQgeWVhcnMuIENyZWRpdHM6IEBZYWZmbGUuXG4gICAgICAgICAgICAgICAgc3RyaW5naWZ5KG5ldyBEYXRlKC02MjE5ODc1NTJlNSkpID09ICdcIi0wMDAwMDEtMDEtMDFUMDA6MDA6MDAuMDAwWlwiJyAmJlxuICAgICAgICAgICAgICAgIC8vIFNhZmFyaSA8PSA1LjEuNSBhbmQgT3BlcmEgPj0gMTAuNTMgaW5jb3JyZWN0bHkgc2VyaWFsaXplIG1pbGxpc2Vjb25kXG4gICAgICAgICAgICAgICAgLy8gdmFsdWVzIGxlc3MgdGhhbiAxMDAwLiBDcmVkaXRzOiBAWWFmZmxlLlxuICAgICAgICAgICAgICAgIHN0cmluZ2lmeShuZXcgRGF0ZSgtMSkpID09ICdcIjE5NjktMTItMzFUMjM6NTk6NTkuOTk5WlwiJztcbiAgICAgICAgICAgIH0gY2F0Y2ggKGV4Y2VwdGlvbikge1xuICAgICAgICAgICAgICBzdHJpbmdpZnlTdXBwb3J0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaXNTdXBwb3J0ZWQgPSBzdHJpbmdpZnlTdXBwb3J0ZWQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVGVzdCBgSlNPTi5wYXJzZWAuXG4gICAgICAgIGlmIChuYW1lID09IFwianNvbi1wYXJzZVwiKSB7XG4gICAgICAgICAgdmFyIHBhcnNlID0gZXhwb3J0cy5wYXJzZTtcbiAgICAgICAgICBpZiAodHlwZW9mIHBhcnNlID09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgLy8gRkYgMy4xYjEsIGIyIHdpbGwgdGhyb3cgYW4gZXhjZXB0aW9uIGlmIGEgYmFyZSBsaXRlcmFsIGlzIHByb3ZpZGVkLlxuICAgICAgICAgICAgICAvLyBDb25mb3JtaW5nIGltcGxlbWVudGF0aW9ucyBzaG91bGQgYWxzbyBjb2VyY2UgdGhlIGluaXRpYWwgYXJndW1lbnQgdG9cbiAgICAgICAgICAgICAgLy8gYSBzdHJpbmcgcHJpb3IgdG8gcGFyc2luZy5cbiAgICAgICAgICAgICAgaWYgKHBhcnNlKFwiMFwiKSA9PT0gMCAmJiAhcGFyc2UoZmFsc2UpKSB7XG4gICAgICAgICAgICAgICAgLy8gU2ltcGxlIHBhcnNpbmcgdGVzdC5cbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHBhcnNlKHNlcmlhbGl6ZWQpO1xuICAgICAgICAgICAgICAgIHZhciBwYXJzZVN1cHBvcnRlZCA9IHZhbHVlW1wiYVwiXS5sZW5ndGggPT0gNSAmJiB2YWx1ZVtcImFcIl1bMF0gPT09IDE7XG4gICAgICAgICAgICAgICAgaWYgKHBhcnNlU3VwcG9ydGVkKSB7XG4gICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAvLyBTYWZhcmkgPD0gNS4xLjIgYW5kIEZGIDMuMWIxIGFsbG93IHVuZXNjYXBlZCB0YWJzIGluIHN0cmluZ3MuXG4gICAgICAgICAgICAgICAgICAgIHBhcnNlU3VwcG9ydGVkID0gIXBhcnNlKCdcIlxcdFwiJyk7XG4gICAgICAgICAgICAgICAgICB9IGNhdGNoIChleGNlcHRpb24pIHt9XG4gICAgICAgICAgICAgICAgICBpZiAocGFyc2VTdXBwb3J0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAvLyBGRiA0LjAgYW5kIDQuMC4xIGFsbG93IGxlYWRpbmcgYCtgIHNpZ25zIGFuZCBsZWFkaW5nXG4gICAgICAgICAgICAgICAgICAgICAgLy8gZGVjaW1hbCBwb2ludHMuIEZGIDQuMCwgNC4wLjEsIGFuZCBJRSA5LTEwIGFsc28gYWxsb3dcbiAgICAgICAgICAgICAgICAgICAgICAvLyBjZXJ0YWluIG9jdGFsIGxpdGVyYWxzLlxuICAgICAgICAgICAgICAgICAgICAgIHBhcnNlU3VwcG9ydGVkID0gcGFyc2UoXCIwMVwiKSAhPT0gMTtcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXhjZXB0aW9uKSB7fVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgaWYgKHBhcnNlU3VwcG9ydGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgLy8gRkYgNC4wLCA0LjAuMSwgYW5kIFJoaW5vIDEuN1IzLVI0IGFsbG93IHRyYWlsaW5nIGRlY2ltYWxcbiAgICAgICAgICAgICAgICAgICAgICAvLyBwb2ludHMuIFRoZXNlIGVudmlyb25tZW50cywgYWxvbmcgd2l0aCBGRiAzLjFiMSBhbmQgMixcbiAgICAgICAgICAgICAgICAgICAgICAvLyBhbHNvIGFsbG93IHRyYWlsaW5nIGNvbW1hcyBpbiBKU09OIG9iamVjdHMgYW5kIGFycmF5cy5cbiAgICAgICAgICAgICAgICAgICAgICBwYXJzZVN1cHBvcnRlZCA9IHBhcnNlKFwiMS5cIikgIT09IDE7XG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGV4Y2VwdGlvbikge31cbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gY2F0Y2ggKGV4Y2VwdGlvbikge1xuICAgICAgICAgICAgICBwYXJzZVN1cHBvcnRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpc1N1cHBvcnRlZCA9IHBhcnNlU3VwcG9ydGVkO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gaGFzW25hbWVdID0gISFpc1N1cHBvcnRlZDtcbiAgICB9XG5cbiAgICBpZiAoIWhhcyhcImpzb25cIikpIHtcbiAgICAgIC8vIENvbW1vbiBgW1tDbGFzc11dYCBuYW1lIGFsaWFzZXMuXG4gICAgICB2YXIgZnVuY3Rpb25DbGFzcyA9IFwiW29iamVjdCBGdW5jdGlvbl1cIixcbiAgICAgICAgICBkYXRlQ2xhc3MgPSBcIltvYmplY3QgRGF0ZV1cIixcbiAgICAgICAgICBudW1iZXJDbGFzcyA9IFwiW29iamVjdCBOdW1iZXJdXCIsXG4gICAgICAgICAgc3RyaW5nQ2xhc3MgPSBcIltvYmplY3QgU3RyaW5nXVwiLFxuICAgICAgICAgIGFycmF5Q2xhc3MgPSBcIltvYmplY3QgQXJyYXldXCIsXG4gICAgICAgICAgYm9vbGVhbkNsYXNzID0gXCJbb2JqZWN0IEJvb2xlYW5dXCI7XG5cbiAgICAgIC8vIERldGVjdCBpbmNvbXBsZXRlIHN1cHBvcnQgZm9yIGFjY2Vzc2luZyBzdHJpbmcgY2hhcmFjdGVycyBieSBpbmRleC5cbiAgICAgIHZhciBjaGFySW5kZXhCdWdneSA9IGhhcyhcImJ1Zy1zdHJpbmctY2hhci1pbmRleFwiKTtcblxuICAgICAgLy8gRGVmaW5lIGFkZGl0aW9uYWwgdXRpbGl0eSBtZXRob2RzIGlmIHRoZSBgRGF0ZWAgbWV0aG9kcyBhcmUgYnVnZ3kuXG4gICAgICBpZiAoIWlzRXh0ZW5kZWQpIHtcbiAgICAgICAgdmFyIGZsb29yID0gTWF0aC5mbG9vcjtcbiAgICAgICAgLy8gQSBtYXBwaW5nIGJldHdlZW4gdGhlIG1vbnRocyBvZiB0aGUgeWVhciBhbmQgdGhlIG51bWJlciBvZiBkYXlzIGJldHdlZW5cbiAgICAgICAgLy8gSmFudWFyeSAxc3QgYW5kIHRoZSBmaXJzdCBvZiB0aGUgcmVzcGVjdGl2ZSBtb250aC5cbiAgICAgICAgdmFyIE1vbnRocyA9IFswLCAzMSwgNTksIDkwLCAxMjAsIDE1MSwgMTgxLCAyMTIsIDI0MywgMjczLCAzMDQsIDMzNF07XG4gICAgICAgIC8vIEludGVybmFsOiBDYWxjdWxhdGVzIHRoZSBudW1iZXIgb2YgZGF5cyBiZXR3ZWVuIHRoZSBVbml4IGVwb2NoIGFuZCB0aGVcbiAgICAgICAgLy8gZmlyc3QgZGF5IG9mIHRoZSBnaXZlbiBtb250aC5cbiAgICAgICAgdmFyIGdldERheSA9IGZ1bmN0aW9uICh5ZWFyLCBtb250aCkge1xuICAgICAgICAgIHJldHVybiBNb250aHNbbW9udGhdICsgMzY1ICogKHllYXIgLSAxOTcwKSArIGZsb29yKCh5ZWFyIC0gMTk2OSArIChtb250aCA9ICsobW9udGggPiAxKSkpIC8gNCkgLSBmbG9vcigoeWVhciAtIDE5MDEgKyBtb250aCkgLyAxMDApICsgZmxvb3IoKHllYXIgLSAxNjAxICsgbW9udGgpIC8gNDAwKTtcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgLy8gSW50ZXJuYWw6IERldGVybWluZXMgaWYgYSBwcm9wZXJ0eSBpcyBhIGRpcmVjdCBwcm9wZXJ0eSBvZiB0aGUgZ2l2ZW5cbiAgICAgIC8vIG9iamVjdC4gRGVsZWdhdGVzIHRvIHRoZSBuYXRpdmUgYE9iamVjdCNoYXNPd25Qcm9wZXJ0eWAgbWV0aG9kLlxuICAgICAgaWYgKCEoaXNQcm9wZXJ0eSA9IG9iamVjdFByb3RvLmhhc093blByb3BlcnR5KSkge1xuICAgICAgICBpc1Byb3BlcnR5ID0gZnVuY3Rpb24gKHByb3BlcnR5KSB7XG4gICAgICAgICAgdmFyIG1lbWJlcnMgPSB7fSwgY29uc3RydWN0b3I7XG4gICAgICAgICAgaWYgKChtZW1iZXJzLl9fcHJvdG9fXyA9IG51bGwsIG1lbWJlcnMuX19wcm90b19fID0ge1xuICAgICAgICAgICAgLy8gVGhlICpwcm90byogcHJvcGVydHkgY2Fubm90IGJlIHNldCBtdWx0aXBsZSB0aW1lcyBpbiByZWNlbnRcbiAgICAgICAgICAgIC8vIHZlcnNpb25zIG9mIEZpcmVmb3ggYW5kIFNlYU1vbmtleS5cbiAgICAgICAgICAgIFwidG9TdHJpbmdcIjogMVxuICAgICAgICAgIH0sIG1lbWJlcnMpLnRvU3RyaW5nICE9IGdldENsYXNzKSB7XG4gICAgICAgICAgICAvLyBTYWZhcmkgPD0gMi4wLjMgZG9lc24ndCBpbXBsZW1lbnQgYE9iamVjdCNoYXNPd25Qcm9wZXJ0eWAsIGJ1dFxuICAgICAgICAgICAgLy8gc3VwcG9ydHMgdGhlIG11dGFibGUgKnByb3RvKiBwcm9wZXJ0eS5cbiAgICAgICAgICAgIGlzUHJvcGVydHkgPSBmdW5jdGlvbiAocHJvcGVydHkpIHtcbiAgICAgICAgICAgICAgLy8gQ2FwdHVyZSBhbmQgYnJlYWsgdGhlIG9iamVjdCdzIHByb3RvdHlwZSBjaGFpbiAoc2VlIHNlY3Rpb24gOC42LjJcbiAgICAgICAgICAgICAgLy8gb2YgdGhlIEVTIDUuMSBzcGVjKS4gVGhlIHBhcmVudGhlc2l6ZWQgZXhwcmVzc2lvbiBwcmV2ZW50cyBhblxuICAgICAgICAgICAgICAvLyB1bnNhZmUgdHJhbnNmb3JtYXRpb24gYnkgdGhlIENsb3N1cmUgQ29tcGlsZXIuXG4gICAgICAgICAgICAgIHZhciBvcmlnaW5hbCA9IHRoaXMuX19wcm90b19fLCByZXN1bHQgPSBwcm9wZXJ0eSBpbiAodGhpcy5fX3Byb3RvX18gPSBudWxsLCB0aGlzKTtcbiAgICAgICAgICAgICAgLy8gUmVzdG9yZSB0aGUgb3JpZ2luYWwgcHJvdG90eXBlIGNoYWluLlxuICAgICAgICAgICAgICB0aGlzLl9fcHJvdG9fXyA9IG9yaWdpbmFsO1xuICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gQ2FwdHVyZSBhIHJlZmVyZW5jZSB0byB0aGUgdG9wLWxldmVsIGBPYmplY3RgIGNvbnN0cnVjdG9yLlxuICAgICAgICAgICAgY29uc3RydWN0b3IgPSBtZW1iZXJzLmNvbnN0cnVjdG9yO1xuICAgICAgICAgICAgLy8gVXNlIHRoZSBgY29uc3RydWN0b3JgIHByb3BlcnR5IHRvIHNpbXVsYXRlIGBPYmplY3QjaGFzT3duUHJvcGVydHlgIGluXG4gICAgICAgICAgICAvLyBvdGhlciBlbnZpcm9ubWVudHMuXG4gICAgICAgICAgICBpc1Byb3BlcnR5ID0gZnVuY3Rpb24gKHByb3BlcnR5KSB7XG4gICAgICAgICAgICAgIHZhciBwYXJlbnQgPSAodGhpcy5jb25zdHJ1Y3RvciB8fCBjb25zdHJ1Y3RvcikucHJvdG90eXBlO1xuICAgICAgICAgICAgICByZXR1cm4gcHJvcGVydHkgaW4gdGhpcyAmJiAhKHByb3BlcnR5IGluIHBhcmVudCAmJiB0aGlzW3Byb3BlcnR5XSA9PT0gcGFyZW50W3Byb3BlcnR5XSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cbiAgICAgICAgICBtZW1iZXJzID0gbnVsbDtcbiAgICAgICAgICByZXR1cm4gaXNQcm9wZXJ0eS5jYWxsKHRoaXMsIHByb3BlcnR5KTtcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgLy8gSW50ZXJuYWw6IE5vcm1hbGl6ZXMgdGhlIGBmb3IuLi5pbmAgaXRlcmF0aW9uIGFsZ29yaXRobSBhY3Jvc3NcbiAgICAgIC8vIGVudmlyb25tZW50cy4gRWFjaCBlbnVtZXJhdGVkIGtleSBpcyB5aWVsZGVkIHRvIGEgYGNhbGxiYWNrYCBmdW5jdGlvbi5cbiAgICAgIGZvckVhY2ggPSBmdW5jdGlvbiAob2JqZWN0LCBjYWxsYmFjaykge1xuICAgICAgICB2YXIgc2l6ZSA9IDAsIFByb3BlcnRpZXMsIG1lbWJlcnMsIHByb3BlcnR5O1xuXG4gICAgICAgIC8vIFRlc3RzIGZvciBidWdzIGluIHRoZSBjdXJyZW50IGVudmlyb25tZW50J3MgYGZvci4uLmluYCBhbGdvcml0aG0uIFRoZVxuICAgICAgICAvLyBgdmFsdWVPZmAgcHJvcGVydHkgaW5oZXJpdHMgdGhlIG5vbi1lbnVtZXJhYmxlIGZsYWcgZnJvbVxuICAgICAgICAvLyBgT2JqZWN0LnByb3RvdHlwZWAgaW4gb2xkZXIgdmVyc2lvbnMgb2YgSUUsIE5ldHNjYXBlLCBhbmQgTW96aWxsYS5cbiAgICAgICAgKFByb3BlcnRpZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdGhpcy52YWx1ZU9mID0gMDtcbiAgICAgICAgfSkucHJvdG90eXBlLnZhbHVlT2YgPSAwO1xuXG4gICAgICAgIC8vIEl0ZXJhdGUgb3ZlciBhIG5ldyBpbnN0YW5jZSBvZiB0aGUgYFByb3BlcnRpZXNgIGNsYXNzLlxuICAgICAgICBtZW1iZXJzID0gbmV3IFByb3BlcnRpZXMoKTtcbiAgICAgICAgZm9yIChwcm9wZXJ0eSBpbiBtZW1iZXJzKSB7XG4gICAgICAgICAgLy8gSWdub3JlIGFsbCBwcm9wZXJ0aWVzIGluaGVyaXRlZCBmcm9tIGBPYmplY3QucHJvdG90eXBlYC5cbiAgICAgICAgICBpZiAoaXNQcm9wZXJ0eS5jYWxsKG1lbWJlcnMsIHByb3BlcnR5KSkge1xuICAgICAgICAgICAgc2l6ZSsrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBQcm9wZXJ0aWVzID0gbWVtYmVycyA9IG51bGw7XG5cbiAgICAgICAgLy8gTm9ybWFsaXplIHRoZSBpdGVyYXRpb24gYWxnb3JpdGhtLlxuICAgICAgICBpZiAoIXNpemUpIHtcbiAgICAgICAgICAvLyBBIGxpc3Qgb2Ygbm9uLWVudW1lcmFibGUgcHJvcGVydGllcyBpbmhlcml0ZWQgZnJvbSBgT2JqZWN0LnByb3RvdHlwZWAuXG4gICAgICAgICAgbWVtYmVycyA9IFtcInZhbHVlT2ZcIiwgXCJ0b1N0cmluZ1wiLCBcInRvTG9jYWxlU3RyaW5nXCIsIFwicHJvcGVydHlJc0VudW1lcmFibGVcIiwgXCJpc1Byb3RvdHlwZU9mXCIsIFwiaGFzT3duUHJvcGVydHlcIiwgXCJjb25zdHJ1Y3RvclwiXTtcbiAgICAgICAgICAvLyBJRSA8PSA4LCBNb3ppbGxhIDEuMCwgYW5kIE5ldHNjYXBlIDYuMiBpZ25vcmUgc2hhZG93ZWQgbm9uLWVudW1lcmFibGVcbiAgICAgICAgICAvLyBwcm9wZXJ0aWVzLlxuICAgICAgICAgIGZvckVhY2ggPSBmdW5jdGlvbiAob2JqZWN0LCBjYWxsYmFjaykge1xuICAgICAgICAgICAgdmFyIGlzRnVuY3Rpb24gPSBnZXRDbGFzcy5jYWxsKG9iamVjdCkgPT0gZnVuY3Rpb25DbGFzcywgcHJvcGVydHksIGxlbmd0aDtcbiAgICAgICAgICAgIHZhciBoYXNQcm9wZXJ0eSA9ICFpc0Z1bmN0aW9uICYmIHR5cGVvZiBvYmplY3QuY29uc3RydWN0b3IgIT0gXCJmdW5jdGlvblwiICYmIG9iamVjdFR5cGVzW3R5cGVvZiBvYmplY3QuaGFzT3duUHJvcGVydHldICYmIG9iamVjdC5oYXNPd25Qcm9wZXJ0eSB8fCBpc1Byb3BlcnR5O1xuICAgICAgICAgICAgZm9yIChwcm9wZXJ0eSBpbiBvYmplY3QpIHtcbiAgICAgICAgICAgICAgLy8gR2Vja28gPD0gMS4wIGVudW1lcmF0ZXMgdGhlIGBwcm90b3R5cGVgIHByb3BlcnR5IG9mIGZ1bmN0aW9ucyB1bmRlclxuICAgICAgICAgICAgICAvLyBjZXJ0YWluIGNvbmRpdGlvbnM7IElFIGRvZXMgbm90LlxuICAgICAgICAgICAgICBpZiAoIShpc0Z1bmN0aW9uICYmIHByb3BlcnR5ID09IFwicHJvdG90eXBlXCIpICYmIGhhc1Byb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSkpIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhwcm9wZXJ0eSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIE1hbnVhbGx5IGludm9rZSB0aGUgY2FsbGJhY2sgZm9yIGVhY2ggbm9uLWVudW1lcmFibGUgcHJvcGVydHkuXG4gICAgICAgICAgICBmb3IgKGxlbmd0aCA9IG1lbWJlcnMubGVuZ3RoOyBwcm9wZXJ0eSA9IG1lbWJlcnNbLS1sZW5ndGhdOyBoYXNQcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpICYmIGNhbGxiYWNrKHByb3BlcnR5KSk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIGlmIChzaXplID09IDIpIHtcbiAgICAgICAgICAvLyBTYWZhcmkgPD0gMi4wLjQgZW51bWVyYXRlcyBzaGFkb3dlZCBwcm9wZXJ0aWVzIHR3aWNlLlxuICAgICAgICAgIGZvckVhY2ggPSBmdW5jdGlvbiAob2JqZWN0LCBjYWxsYmFjaykge1xuICAgICAgICAgICAgLy8gQ3JlYXRlIGEgc2V0IG9mIGl0ZXJhdGVkIHByb3BlcnRpZXMuXG4gICAgICAgICAgICB2YXIgbWVtYmVycyA9IHt9LCBpc0Z1bmN0aW9uID0gZ2V0Q2xhc3MuY2FsbChvYmplY3QpID09IGZ1bmN0aW9uQ2xhc3MsIHByb3BlcnR5O1xuICAgICAgICAgICAgZm9yIChwcm9wZXJ0eSBpbiBvYmplY3QpIHtcbiAgICAgICAgICAgICAgLy8gU3RvcmUgZWFjaCBwcm9wZXJ0eSBuYW1lIHRvIHByZXZlbnQgZG91YmxlIGVudW1lcmF0aW9uLiBUaGVcbiAgICAgICAgICAgICAgLy8gYHByb3RvdHlwZWAgcHJvcGVydHkgb2YgZnVuY3Rpb25zIGlzIG5vdCBlbnVtZXJhdGVkIGR1ZSB0byBjcm9zcy1cbiAgICAgICAgICAgICAgLy8gZW52aXJvbm1lbnQgaW5jb25zaXN0ZW5jaWVzLlxuICAgICAgICAgICAgICBpZiAoIShpc0Z1bmN0aW9uICYmIHByb3BlcnR5ID09IFwicHJvdG90eXBlXCIpICYmICFpc1Byb3BlcnR5LmNhbGwobWVtYmVycywgcHJvcGVydHkpICYmIChtZW1iZXJzW3Byb3BlcnR5XSA9IDEpICYmIGlzUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KSkge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKHByb3BlcnR5KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gTm8gYnVncyBkZXRlY3RlZDsgdXNlIHRoZSBzdGFuZGFyZCBgZm9yLi4uaW5gIGFsZ29yaXRobS5cbiAgICAgICAgICBmb3JFYWNoID0gZnVuY3Rpb24gKG9iamVjdCwgY2FsbGJhY2spIHtcbiAgICAgICAgICAgIHZhciBpc0Z1bmN0aW9uID0gZ2V0Q2xhc3MuY2FsbChvYmplY3QpID09IGZ1bmN0aW9uQ2xhc3MsIHByb3BlcnR5LCBpc0NvbnN0cnVjdG9yO1xuICAgICAgICAgICAgZm9yIChwcm9wZXJ0eSBpbiBvYmplY3QpIHtcbiAgICAgICAgICAgICAgaWYgKCEoaXNGdW5jdGlvbiAmJiBwcm9wZXJ0eSA9PSBcInByb3RvdHlwZVwiKSAmJiBpc1Byb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSkgJiYgIShpc0NvbnN0cnVjdG9yID0gcHJvcGVydHkgPT09IFwiY29uc3RydWN0b3JcIikpIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhwcm9wZXJ0eSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIE1hbnVhbGx5IGludm9rZSB0aGUgY2FsbGJhY2sgZm9yIHRoZSBgY29uc3RydWN0b3JgIHByb3BlcnR5IGR1ZSB0b1xuICAgICAgICAgICAgLy8gY3Jvc3MtZW52aXJvbm1lbnQgaW5jb25zaXN0ZW5jaWVzLlxuICAgICAgICAgICAgaWYgKGlzQ29uc3RydWN0b3IgfHwgaXNQcm9wZXJ0eS5jYWxsKG9iamVjdCwgKHByb3BlcnR5ID0gXCJjb25zdHJ1Y3RvclwiKSkpIHtcbiAgICAgICAgICAgICAgY2FsbGJhY2socHJvcGVydHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZvckVhY2gob2JqZWN0LCBjYWxsYmFjayk7XG4gICAgICB9O1xuXG4gICAgICAvLyBQdWJsaWM6IFNlcmlhbGl6ZXMgYSBKYXZhU2NyaXB0IGB2YWx1ZWAgYXMgYSBKU09OIHN0cmluZy4gVGhlIG9wdGlvbmFsXG4gICAgICAvLyBgZmlsdGVyYCBhcmd1bWVudCBtYXkgc3BlY2lmeSBlaXRoZXIgYSBmdW5jdGlvbiB0aGF0IGFsdGVycyBob3cgb2JqZWN0IGFuZFxuICAgICAgLy8gYXJyYXkgbWVtYmVycyBhcmUgc2VyaWFsaXplZCwgb3IgYW4gYXJyYXkgb2Ygc3RyaW5ncyBhbmQgbnVtYmVycyB0aGF0XG4gICAgICAvLyBpbmRpY2F0ZXMgd2hpY2ggcHJvcGVydGllcyBzaG91bGQgYmUgc2VyaWFsaXplZC4gVGhlIG9wdGlvbmFsIGB3aWR0aGBcbiAgICAgIC8vIGFyZ3VtZW50IG1heSBiZSBlaXRoZXIgYSBzdHJpbmcgb3IgbnVtYmVyIHRoYXQgc3BlY2lmaWVzIHRoZSBpbmRlbnRhdGlvblxuICAgICAgLy8gbGV2ZWwgb2YgdGhlIG91dHB1dC5cbiAgICAgIGlmICghaGFzKFwianNvbi1zdHJpbmdpZnlcIikpIHtcbiAgICAgICAgLy8gSW50ZXJuYWw6IEEgbWFwIG9mIGNvbnRyb2wgY2hhcmFjdGVycyBhbmQgdGhlaXIgZXNjYXBlZCBlcXVpdmFsZW50cy5cbiAgICAgICAgdmFyIEVzY2FwZXMgPSB7XG4gICAgICAgICAgOTI6IFwiXFxcXFxcXFxcIixcbiAgICAgICAgICAzNDogJ1xcXFxcIicsXG4gICAgICAgICAgODogXCJcXFxcYlwiLFxuICAgICAgICAgIDEyOiBcIlxcXFxmXCIsXG4gICAgICAgICAgMTA6IFwiXFxcXG5cIixcbiAgICAgICAgICAxMzogXCJcXFxcclwiLFxuICAgICAgICAgIDk6IFwiXFxcXHRcIlxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIEludGVybmFsOiBDb252ZXJ0cyBgdmFsdWVgIGludG8gYSB6ZXJvLXBhZGRlZCBzdHJpbmcgc3VjaCB0aGF0IGl0c1xuICAgICAgICAvLyBsZW5ndGggaXMgYXQgbGVhc3QgZXF1YWwgdG8gYHdpZHRoYC4gVGhlIGB3aWR0aGAgbXVzdCBiZSA8PSA2LlxuICAgICAgICB2YXIgbGVhZGluZ1plcm9lcyA9IFwiMDAwMDAwXCI7XG4gICAgICAgIHZhciB0b1BhZGRlZFN0cmluZyA9IGZ1bmN0aW9uICh3aWR0aCwgdmFsdWUpIHtcbiAgICAgICAgICAvLyBUaGUgYHx8IDBgIGV4cHJlc3Npb24gaXMgbmVjZXNzYXJ5IHRvIHdvcmsgYXJvdW5kIGEgYnVnIGluXG4gICAgICAgICAgLy8gT3BlcmEgPD0gNy41NHUyIHdoZXJlIGAwID09IC0wYCwgYnV0IGBTdHJpbmcoLTApICE9PSBcIjBcImAuXG4gICAgICAgICAgcmV0dXJuIChsZWFkaW5nWmVyb2VzICsgKHZhbHVlIHx8IDApKS5zbGljZSgtd2lkdGgpO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIEludGVybmFsOiBEb3VibGUtcXVvdGVzIGEgc3RyaW5nIGB2YWx1ZWAsIHJlcGxhY2luZyBhbGwgQVNDSUkgY29udHJvbFxuICAgICAgICAvLyBjaGFyYWN0ZXJzIChjaGFyYWN0ZXJzIHdpdGggY29kZSB1bml0IHZhbHVlcyBiZXR3ZWVuIDAgYW5kIDMxKSB3aXRoXG4gICAgICAgIC8vIHRoZWlyIGVzY2FwZWQgZXF1aXZhbGVudHMuIFRoaXMgaXMgYW4gaW1wbGVtZW50YXRpb24gb2YgdGhlXG4gICAgICAgIC8vIGBRdW90ZSh2YWx1ZSlgIG9wZXJhdGlvbiBkZWZpbmVkIGluIEVTIDUuMSBzZWN0aW9uIDE1LjEyLjMuXG4gICAgICAgIHZhciB1bmljb2RlUHJlZml4ID0gXCJcXFxcdTAwXCI7XG4gICAgICAgIHZhciBxdW90ZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgIHZhciByZXN1bHQgPSAnXCInLCBpbmRleCA9IDAsIGxlbmd0aCA9IHZhbHVlLmxlbmd0aCwgdXNlQ2hhckluZGV4ID0gIWNoYXJJbmRleEJ1Z2d5IHx8IGxlbmd0aCA+IDEwO1xuICAgICAgICAgIHZhciBzeW1ib2xzID0gdXNlQ2hhckluZGV4ICYmIChjaGFySW5kZXhCdWdneSA/IHZhbHVlLnNwbGl0KFwiXCIpIDogdmFsdWUpO1xuICAgICAgICAgIGZvciAoOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgICAgdmFyIGNoYXJDb2RlID0gdmFsdWUuY2hhckNvZGVBdChpbmRleCk7XG4gICAgICAgICAgICAvLyBJZiB0aGUgY2hhcmFjdGVyIGlzIGEgY29udHJvbCBjaGFyYWN0ZXIsIGFwcGVuZCBpdHMgVW5pY29kZSBvclxuICAgICAgICAgICAgLy8gc2hvcnRoYW5kIGVzY2FwZSBzZXF1ZW5jZTsgb3RoZXJ3aXNlLCBhcHBlbmQgdGhlIGNoYXJhY3RlciBhcy1pcy5cbiAgICAgICAgICAgIHN3aXRjaCAoY2hhckNvZGUpIHtcbiAgICAgICAgICAgICAgY2FzZSA4OiBjYXNlIDk6IGNhc2UgMTA6IGNhc2UgMTI6IGNhc2UgMTM6IGNhc2UgMzQ6IGNhc2UgOTI6XG4gICAgICAgICAgICAgICAgcmVzdWx0ICs9IEVzY2FwZXNbY2hhckNvZGVdO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGlmIChjaGFyQ29kZSA8IDMyKSB7XG4gICAgICAgICAgICAgICAgICByZXN1bHQgKz0gdW5pY29kZVByZWZpeCArIHRvUGFkZGVkU3RyaW5nKDIsIGNoYXJDb2RlLnRvU3RyaW5nKDE2KSk7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmVzdWx0ICs9IHVzZUNoYXJJbmRleCA/IHN5bWJvbHNbaW5kZXhdIDogdmFsdWUuY2hhckF0KGluZGV4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdCArICdcIic7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gSW50ZXJuYWw6IFJlY3Vyc2l2ZWx5IHNlcmlhbGl6ZXMgYW4gb2JqZWN0LiBJbXBsZW1lbnRzIHRoZVxuICAgICAgICAvLyBgU3RyKGtleSwgaG9sZGVyKWAsIGBKTyh2YWx1ZSlgLCBhbmQgYEpBKHZhbHVlKWAgb3BlcmF0aW9ucy5cbiAgICAgICAgdmFyIHNlcmlhbGl6ZSA9IGZ1bmN0aW9uIChwcm9wZXJ0eSwgb2JqZWN0LCBjYWxsYmFjaywgcHJvcGVydGllcywgd2hpdGVzcGFjZSwgaW5kZW50YXRpb24sIHN0YWNrKSB7XG4gICAgICAgICAgdmFyIHZhbHVlLCBjbGFzc05hbWUsIHllYXIsIG1vbnRoLCBkYXRlLCB0aW1lLCBob3VycywgbWludXRlcywgc2Vjb25kcywgbWlsbGlzZWNvbmRzLCByZXN1bHRzLCBlbGVtZW50LCBpbmRleCwgbGVuZ3RoLCBwcmVmaXgsIHJlc3VsdDtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gTmVjZXNzYXJ5IGZvciBob3N0IG9iamVjdCBzdXBwb3J0LlxuICAgICAgICAgICAgdmFsdWUgPSBvYmplY3RbcHJvcGVydHldO1xuICAgICAgICAgIH0gY2F0Y2ggKGV4Y2VwdGlvbikge31cbiAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09IFwib2JqZWN0XCIgJiYgdmFsdWUpIHtcbiAgICAgICAgICAgIGNsYXNzTmFtZSA9IGdldENsYXNzLmNhbGwodmFsdWUpO1xuICAgICAgICAgICAgaWYgKGNsYXNzTmFtZSA9PSBkYXRlQ2xhc3MgJiYgIWlzUHJvcGVydHkuY2FsbCh2YWx1ZSwgXCJ0b0pTT05cIikpIHtcbiAgICAgICAgICAgICAgaWYgKHZhbHVlID4gLTEgLyAwICYmIHZhbHVlIDwgMSAvIDApIHtcbiAgICAgICAgICAgICAgICAvLyBEYXRlcyBhcmUgc2VyaWFsaXplZCBhY2NvcmRpbmcgdG8gdGhlIGBEYXRlI3RvSlNPTmAgbWV0aG9kXG4gICAgICAgICAgICAgICAgLy8gc3BlY2lmaWVkIGluIEVTIDUuMSBzZWN0aW9uIDE1LjkuNS40NC4gU2VlIHNlY3Rpb24gMTUuOS4xLjE1XG4gICAgICAgICAgICAgICAgLy8gZm9yIHRoZSBJU08gODYwMSBkYXRlIHRpbWUgc3RyaW5nIGZvcm1hdC5cbiAgICAgICAgICAgICAgICBpZiAoZ2V0RGF5KSB7XG4gICAgICAgICAgICAgICAgICAvLyBNYW51YWxseSBjb21wdXRlIHRoZSB5ZWFyLCBtb250aCwgZGF0ZSwgaG91cnMsIG1pbnV0ZXMsXG4gICAgICAgICAgICAgICAgICAvLyBzZWNvbmRzLCBhbmQgbWlsbGlzZWNvbmRzIGlmIHRoZSBgZ2V0VVRDKmAgbWV0aG9kcyBhcmVcbiAgICAgICAgICAgICAgICAgIC8vIGJ1Z2d5LiBBZGFwdGVkIGZyb20gQFlhZmZsZSdzIGBkYXRlLXNoaW1gIHByb2plY3QuXG4gICAgICAgICAgICAgICAgICBkYXRlID0gZmxvb3IodmFsdWUgLyA4NjRlNSk7XG4gICAgICAgICAgICAgICAgICBmb3IgKHllYXIgPSBmbG9vcihkYXRlIC8gMzY1LjI0MjUpICsgMTk3MCAtIDE7IGdldERheSh5ZWFyICsgMSwgMCkgPD0gZGF0ZTsgeWVhcisrKTtcbiAgICAgICAgICAgICAgICAgIGZvciAobW9udGggPSBmbG9vcigoZGF0ZSAtIGdldERheSh5ZWFyLCAwKSkgLyAzMC40Mik7IGdldERheSh5ZWFyLCBtb250aCArIDEpIDw9IGRhdGU7IG1vbnRoKyspO1xuICAgICAgICAgICAgICAgICAgZGF0ZSA9IDEgKyBkYXRlIC0gZ2V0RGF5KHllYXIsIG1vbnRoKTtcbiAgICAgICAgICAgICAgICAgIC8vIFRoZSBgdGltZWAgdmFsdWUgc3BlY2lmaWVzIHRoZSB0aW1lIHdpdGhpbiB0aGUgZGF5IChzZWUgRVNcbiAgICAgICAgICAgICAgICAgIC8vIDUuMSBzZWN0aW9uIDE1LjkuMS4yKS4gVGhlIGZvcm11bGEgYChBICUgQiArIEIpICUgQmAgaXMgdXNlZFxuICAgICAgICAgICAgICAgICAgLy8gdG8gY29tcHV0ZSBgQSBtb2R1bG8gQmAsIGFzIHRoZSBgJWAgb3BlcmF0b3IgZG9lcyBub3RcbiAgICAgICAgICAgICAgICAgIC8vIGNvcnJlc3BvbmQgdG8gdGhlIGBtb2R1bG9gIG9wZXJhdGlvbiBmb3IgbmVnYXRpdmUgbnVtYmVycy5cbiAgICAgICAgICAgICAgICAgIHRpbWUgPSAodmFsdWUgJSA4NjRlNSArIDg2NGU1KSAlIDg2NGU1O1xuICAgICAgICAgICAgICAgICAgLy8gVGhlIGhvdXJzLCBtaW51dGVzLCBzZWNvbmRzLCBhbmQgbWlsbGlzZWNvbmRzIGFyZSBvYnRhaW5lZCBieVxuICAgICAgICAgICAgICAgICAgLy8gZGVjb21wb3NpbmcgdGhlIHRpbWUgd2l0aGluIHRoZSBkYXkuIFNlZSBzZWN0aW9uIDE1LjkuMS4xMC5cbiAgICAgICAgICAgICAgICAgIGhvdXJzID0gZmxvb3IodGltZSAvIDM2ZTUpICUgMjQ7XG4gICAgICAgICAgICAgICAgICBtaW51dGVzID0gZmxvb3IodGltZSAvIDZlNCkgJSA2MDtcbiAgICAgICAgICAgICAgICAgIHNlY29uZHMgPSBmbG9vcih0aW1lIC8gMWUzKSAlIDYwO1xuICAgICAgICAgICAgICAgICAgbWlsbGlzZWNvbmRzID0gdGltZSAlIDFlMztcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgeWVhciA9IHZhbHVlLmdldFVUQ0Z1bGxZZWFyKCk7XG4gICAgICAgICAgICAgICAgICBtb250aCA9IHZhbHVlLmdldFVUQ01vbnRoKCk7XG4gICAgICAgICAgICAgICAgICBkYXRlID0gdmFsdWUuZ2V0VVRDRGF0ZSgpO1xuICAgICAgICAgICAgICAgICAgaG91cnMgPSB2YWx1ZS5nZXRVVENIb3VycygpO1xuICAgICAgICAgICAgICAgICAgbWludXRlcyA9IHZhbHVlLmdldFVUQ01pbnV0ZXMoKTtcbiAgICAgICAgICAgICAgICAgIHNlY29uZHMgPSB2YWx1ZS5nZXRVVENTZWNvbmRzKCk7XG4gICAgICAgICAgICAgICAgICBtaWxsaXNlY29uZHMgPSB2YWx1ZS5nZXRVVENNaWxsaXNlY29uZHMoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gU2VyaWFsaXplIGV4dGVuZGVkIHllYXJzIGNvcnJlY3RseS5cbiAgICAgICAgICAgICAgICB2YWx1ZSA9ICh5ZWFyIDw9IDAgfHwgeWVhciA+PSAxZTQgPyAoeWVhciA8IDAgPyBcIi1cIiA6IFwiK1wiKSArIHRvUGFkZGVkU3RyaW5nKDYsIHllYXIgPCAwID8gLXllYXIgOiB5ZWFyKSA6IHRvUGFkZGVkU3RyaW5nKDQsIHllYXIpKSArXG4gICAgICAgICAgICAgICAgICBcIi1cIiArIHRvUGFkZGVkU3RyaW5nKDIsIG1vbnRoICsgMSkgKyBcIi1cIiArIHRvUGFkZGVkU3RyaW5nKDIsIGRhdGUpICtcbiAgICAgICAgICAgICAgICAgIC8vIE1vbnRocywgZGF0ZXMsIGhvdXJzLCBtaW51dGVzLCBhbmQgc2Vjb25kcyBzaG91bGQgaGF2ZSB0d29cbiAgICAgICAgICAgICAgICAgIC8vIGRpZ2l0czsgbWlsbGlzZWNvbmRzIHNob3VsZCBoYXZlIHRocmVlLlxuICAgICAgICAgICAgICAgICAgXCJUXCIgKyB0b1BhZGRlZFN0cmluZygyLCBob3VycykgKyBcIjpcIiArIHRvUGFkZGVkU3RyaW5nKDIsIG1pbnV0ZXMpICsgXCI6XCIgKyB0b1BhZGRlZFN0cmluZygyLCBzZWNvbmRzKSArXG4gICAgICAgICAgICAgICAgICAvLyBNaWxsaXNlY29uZHMgYXJlIG9wdGlvbmFsIGluIEVTIDUuMCwgYnV0IHJlcXVpcmVkIGluIDUuMS5cbiAgICAgICAgICAgICAgICAgIFwiLlwiICsgdG9QYWRkZWRTdHJpbmcoMywgbWlsbGlzZWNvbmRzKSArIFwiWlwiO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhbHVlID0gbnVsbDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgdmFsdWUudG9KU09OID09IFwiZnVuY3Rpb25cIiAmJiAoKGNsYXNzTmFtZSAhPSBudW1iZXJDbGFzcyAmJiBjbGFzc05hbWUgIT0gc3RyaW5nQ2xhc3MgJiYgY2xhc3NOYW1lICE9IGFycmF5Q2xhc3MpIHx8IGlzUHJvcGVydHkuY2FsbCh2YWx1ZSwgXCJ0b0pTT05cIikpKSB7XG4gICAgICAgICAgICAgIC8vIFByb3RvdHlwZSA8PSAxLjYuMSBhZGRzIG5vbi1zdGFuZGFyZCBgdG9KU09OYCBtZXRob2RzIHRvIHRoZVxuICAgICAgICAgICAgICAvLyBgTnVtYmVyYCwgYFN0cmluZ2AsIGBEYXRlYCwgYW5kIGBBcnJheWAgcHJvdG90eXBlcy4gSlNPTiAzXG4gICAgICAgICAgICAgIC8vIGlnbm9yZXMgYWxsIGB0b0pTT05gIG1ldGhvZHMgb24gdGhlc2Ugb2JqZWN0cyB1bmxlc3MgdGhleSBhcmVcbiAgICAgICAgICAgICAgLy8gZGVmaW5lZCBkaXJlY3RseSBvbiBhbiBpbnN0YW5jZS5cbiAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS50b0pTT04ocHJvcGVydHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgIC8vIElmIGEgcmVwbGFjZW1lbnQgZnVuY3Rpb24gd2FzIHByb3ZpZGVkLCBjYWxsIGl0IHRvIG9idGFpbiB0aGUgdmFsdWVcbiAgICAgICAgICAgIC8vIGZvciBzZXJpYWxpemF0aW9uLlxuICAgICAgICAgICAgdmFsdWUgPSBjYWxsYmFjay5jYWxsKG9iamVjdCwgcHJvcGVydHksIHZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHZhbHVlID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gXCJudWxsXCI7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNsYXNzTmFtZSA9IGdldENsYXNzLmNhbGwodmFsdWUpO1xuICAgICAgICAgIGlmIChjbGFzc05hbWUgPT0gYm9vbGVhbkNsYXNzKSB7XG4gICAgICAgICAgICAvLyBCb29sZWFucyBhcmUgcmVwcmVzZW50ZWQgbGl0ZXJhbGx5LlxuICAgICAgICAgICAgcmV0dXJuIFwiXCIgKyB2YWx1ZTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGNsYXNzTmFtZSA9PSBudW1iZXJDbGFzcykge1xuICAgICAgICAgICAgLy8gSlNPTiBudW1iZXJzIG11c3QgYmUgZmluaXRlLiBgSW5maW5pdHlgIGFuZCBgTmFOYCBhcmUgc2VyaWFsaXplZCBhc1xuICAgICAgICAgICAgLy8gYFwibnVsbFwiYC5cbiAgICAgICAgICAgIHJldHVybiB2YWx1ZSA+IC0xIC8gMCAmJiB2YWx1ZSA8IDEgLyAwID8gXCJcIiArIHZhbHVlIDogXCJudWxsXCI7XG4gICAgICAgICAgfSBlbHNlIGlmIChjbGFzc05hbWUgPT0gc3RyaW5nQ2xhc3MpIHtcbiAgICAgICAgICAgIC8vIFN0cmluZ3MgYXJlIGRvdWJsZS1xdW90ZWQgYW5kIGVzY2FwZWQuXG4gICAgICAgICAgICByZXR1cm4gcXVvdGUoXCJcIiArIHZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gUmVjdXJzaXZlbHkgc2VyaWFsaXplIG9iamVjdHMgYW5kIGFycmF5cy5cbiAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgIC8vIENoZWNrIGZvciBjeWNsaWMgc3RydWN0dXJlcy4gVGhpcyBpcyBhIGxpbmVhciBzZWFyY2g7IHBlcmZvcm1hbmNlXG4gICAgICAgICAgICAvLyBpcyBpbnZlcnNlbHkgcHJvcG9ydGlvbmFsIHRvIHRoZSBudW1iZXIgb2YgdW5pcXVlIG5lc3RlZCBvYmplY3RzLlxuICAgICAgICAgICAgZm9yIChsZW5ndGggPSBzdGFjay5sZW5ndGg7IGxlbmd0aC0tOykge1xuICAgICAgICAgICAgICBpZiAoc3RhY2tbbGVuZ3RoXSA9PT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICAvLyBDeWNsaWMgc3RydWN0dXJlcyBjYW5ub3QgYmUgc2VyaWFsaXplZCBieSBgSlNPTi5zdHJpbmdpZnlgLlxuICAgICAgICAgICAgICAgIHRocm93IFR5cGVFcnJvcigpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBBZGQgdGhlIG9iamVjdCB0byB0aGUgc3RhY2sgb2YgdHJhdmVyc2VkIG9iamVjdHMuXG4gICAgICAgICAgICBzdGFjay5wdXNoKHZhbHVlKTtcbiAgICAgICAgICAgIHJlc3VsdHMgPSBbXTtcbiAgICAgICAgICAgIC8vIFNhdmUgdGhlIGN1cnJlbnQgaW5kZW50YXRpb24gbGV2ZWwgYW5kIGluZGVudCBvbmUgYWRkaXRpb25hbCBsZXZlbC5cbiAgICAgICAgICAgIHByZWZpeCA9IGluZGVudGF0aW9uO1xuICAgICAgICAgICAgaW5kZW50YXRpb24gKz0gd2hpdGVzcGFjZTtcbiAgICAgICAgICAgIGlmIChjbGFzc05hbWUgPT0gYXJyYXlDbGFzcykge1xuICAgICAgICAgICAgICAvLyBSZWN1cnNpdmVseSBzZXJpYWxpemUgYXJyYXkgZWxlbWVudHMuXG4gICAgICAgICAgICAgIGZvciAoaW5kZXggPSAwLCBsZW5ndGggPSB2YWx1ZS5sZW5ndGg7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudCA9IHNlcmlhbGl6ZShpbmRleCwgdmFsdWUsIGNhbGxiYWNrLCBwcm9wZXJ0aWVzLCB3aGl0ZXNwYWNlLCBpbmRlbnRhdGlvbiwgc3RhY2spO1xuICAgICAgICAgICAgICAgIHJlc3VsdHMucHVzaChlbGVtZW50ID09PSB1bmRlZiA/IFwibnVsbFwiIDogZWxlbWVudCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmVzdWx0ID0gcmVzdWx0cy5sZW5ndGggPyAod2hpdGVzcGFjZSA/IFwiW1xcblwiICsgaW5kZW50YXRpb24gKyByZXN1bHRzLmpvaW4oXCIsXFxuXCIgKyBpbmRlbnRhdGlvbikgKyBcIlxcblwiICsgcHJlZml4ICsgXCJdXCIgOiAoXCJbXCIgKyByZXN1bHRzLmpvaW4oXCIsXCIpICsgXCJdXCIpKSA6IFwiW11cIjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vIFJlY3Vyc2l2ZWx5IHNlcmlhbGl6ZSBvYmplY3QgbWVtYmVycy4gTWVtYmVycyBhcmUgc2VsZWN0ZWQgZnJvbVxuICAgICAgICAgICAgICAvLyBlaXRoZXIgYSB1c2VyLXNwZWNpZmllZCBsaXN0IG9mIHByb3BlcnR5IG5hbWVzLCBvciB0aGUgb2JqZWN0XG4gICAgICAgICAgICAgIC8vIGl0c2VsZi5cbiAgICAgICAgICAgICAgZm9yRWFjaChwcm9wZXJ0aWVzIHx8IHZhbHVlLCBmdW5jdGlvbiAocHJvcGVydHkpIHtcbiAgICAgICAgICAgICAgICB2YXIgZWxlbWVudCA9IHNlcmlhbGl6ZShwcm9wZXJ0eSwgdmFsdWUsIGNhbGxiYWNrLCBwcm9wZXJ0aWVzLCB3aGl0ZXNwYWNlLCBpbmRlbnRhdGlvbiwgc3RhY2spO1xuICAgICAgICAgICAgICAgIGlmIChlbGVtZW50ICE9PSB1bmRlZikge1xuICAgICAgICAgICAgICAgICAgLy8gQWNjb3JkaW5nIHRvIEVTIDUuMSBzZWN0aW9uIDE1LjEyLjM6IFwiSWYgYGdhcGAge3doaXRlc3BhY2V9XG4gICAgICAgICAgICAgICAgICAvLyBpcyBub3QgdGhlIGVtcHR5IHN0cmluZywgbGV0IGBtZW1iZXJgIHtxdW90ZShwcm9wZXJ0eSkgKyBcIjpcIn1cbiAgICAgICAgICAgICAgICAgIC8vIGJlIHRoZSBjb25jYXRlbmF0aW9uIG9mIGBtZW1iZXJgIGFuZCB0aGUgYHNwYWNlYCBjaGFyYWN0ZXIuXCJcbiAgICAgICAgICAgICAgICAgIC8vIFRoZSBcImBzcGFjZWAgY2hhcmFjdGVyXCIgcmVmZXJzIHRvIHRoZSBsaXRlcmFsIHNwYWNlXG4gICAgICAgICAgICAgICAgICAvLyBjaGFyYWN0ZXIsIG5vdCB0aGUgYHNwYWNlYCB7d2lkdGh9IGFyZ3VtZW50IHByb3ZpZGVkIHRvXG4gICAgICAgICAgICAgICAgICAvLyBgSlNPTi5zdHJpbmdpZnlgLlxuICAgICAgICAgICAgICAgICAgcmVzdWx0cy5wdXNoKHF1b3RlKHByb3BlcnR5KSArIFwiOlwiICsgKHdoaXRlc3BhY2UgPyBcIiBcIiA6IFwiXCIpICsgZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgcmVzdWx0ID0gcmVzdWx0cy5sZW5ndGggPyAod2hpdGVzcGFjZSA/IFwie1xcblwiICsgaW5kZW50YXRpb24gKyByZXN1bHRzLmpvaW4oXCIsXFxuXCIgKyBpbmRlbnRhdGlvbikgKyBcIlxcblwiICsgcHJlZml4ICsgXCJ9XCIgOiAoXCJ7XCIgKyByZXN1bHRzLmpvaW4oXCIsXCIpICsgXCJ9XCIpKSA6IFwie31cIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFJlbW92ZSB0aGUgb2JqZWN0IGZyb20gdGhlIHRyYXZlcnNlZCBvYmplY3Qgc3RhY2suXG4gICAgICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIFB1YmxpYzogYEpTT04uc3RyaW5naWZ5YC4gU2VlIEVTIDUuMSBzZWN0aW9uIDE1LjEyLjMuXG4gICAgICAgIGV4cG9ydHMuc3RyaW5naWZ5ID0gZnVuY3Rpb24gKHNvdXJjZSwgZmlsdGVyLCB3aWR0aCkge1xuICAgICAgICAgIHZhciB3aGl0ZXNwYWNlLCBjYWxsYmFjaywgcHJvcGVydGllcywgY2xhc3NOYW1lO1xuICAgICAgICAgIGlmIChvYmplY3RUeXBlc1t0eXBlb2YgZmlsdGVyXSAmJiBmaWx0ZXIpIHtcbiAgICAgICAgICAgIGlmICgoY2xhc3NOYW1lID0gZ2V0Q2xhc3MuY2FsbChmaWx0ZXIpKSA9PSBmdW5jdGlvbkNsYXNzKSB7XG4gICAgICAgICAgICAgIGNhbGxiYWNrID0gZmlsdGVyO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjbGFzc05hbWUgPT0gYXJyYXlDbGFzcykge1xuICAgICAgICAgICAgICAvLyBDb252ZXJ0IHRoZSBwcm9wZXJ0eSBuYW1lcyBhcnJheSBpbnRvIGEgbWFrZXNoaWZ0IHNldC5cbiAgICAgICAgICAgICAgcHJvcGVydGllcyA9IHt9O1xuICAgICAgICAgICAgICBmb3IgKHZhciBpbmRleCA9IDAsIGxlbmd0aCA9IGZpbHRlci5sZW5ndGgsIHZhbHVlOyBpbmRleCA8IGxlbmd0aDsgdmFsdWUgPSBmaWx0ZXJbaW5kZXgrK10sICgoY2xhc3NOYW1lID0gZ2V0Q2xhc3MuY2FsbCh2YWx1ZSkpLCBjbGFzc05hbWUgPT0gc3RyaW5nQ2xhc3MgfHwgY2xhc3NOYW1lID09IG51bWJlckNsYXNzKSAmJiAocHJvcGVydGllc1t2YWx1ZV0gPSAxKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICh3aWR0aCkge1xuICAgICAgICAgICAgaWYgKChjbGFzc05hbWUgPSBnZXRDbGFzcy5jYWxsKHdpZHRoKSkgPT0gbnVtYmVyQ2xhc3MpIHtcbiAgICAgICAgICAgICAgLy8gQ29udmVydCB0aGUgYHdpZHRoYCB0byBhbiBpbnRlZ2VyIGFuZCBjcmVhdGUgYSBzdHJpbmcgY29udGFpbmluZ1xuICAgICAgICAgICAgICAvLyBgd2lkdGhgIG51bWJlciBvZiBzcGFjZSBjaGFyYWN0ZXJzLlxuICAgICAgICAgICAgICBpZiAoKHdpZHRoIC09IHdpZHRoICUgMSkgPiAwKSB7XG4gICAgICAgICAgICAgICAgZm9yICh3aGl0ZXNwYWNlID0gXCJcIiwgd2lkdGggPiAxMCAmJiAod2lkdGggPSAxMCk7IHdoaXRlc3BhY2UubGVuZ3RoIDwgd2lkdGg7IHdoaXRlc3BhY2UgKz0gXCIgXCIpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNsYXNzTmFtZSA9PSBzdHJpbmdDbGFzcykge1xuICAgICAgICAgICAgICB3aGl0ZXNwYWNlID0gd2lkdGgubGVuZ3RoIDw9IDEwID8gd2lkdGggOiB3aWR0aC5zbGljZSgwLCAxMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIE9wZXJhIDw9IDcuNTR1MiBkaXNjYXJkcyB0aGUgdmFsdWVzIGFzc29jaWF0ZWQgd2l0aCBlbXB0eSBzdHJpbmcga2V5c1xuICAgICAgICAgIC8vIChgXCJcImApIG9ubHkgaWYgdGhleSBhcmUgdXNlZCBkaXJlY3RseSB3aXRoaW4gYW4gb2JqZWN0IG1lbWJlciBsaXN0XG4gICAgICAgICAgLy8gKGUuZy4sIGAhKFwiXCIgaW4geyBcIlwiOiAxfSlgKS5cbiAgICAgICAgICByZXR1cm4gc2VyaWFsaXplKFwiXCIsICh2YWx1ZSA9IHt9LCB2YWx1ZVtcIlwiXSA9IHNvdXJjZSwgdmFsdWUpLCBjYWxsYmFjaywgcHJvcGVydGllcywgd2hpdGVzcGFjZSwgXCJcIiwgW10pO1xuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICAvLyBQdWJsaWM6IFBhcnNlcyBhIEpTT04gc291cmNlIHN0cmluZy5cbiAgICAgIGlmICghaGFzKFwianNvbi1wYXJzZVwiKSkge1xuICAgICAgICB2YXIgZnJvbUNoYXJDb2RlID0gU3RyaW5nLmZyb21DaGFyQ29kZTtcblxuICAgICAgICAvLyBJbnRlcm5hbDogQSBtYXAgb2YgZXNjYXBlZCBjb250cm9sIGNoYXJhY3RlcnMgYW5kIHRoZWlyIHVuZXNjYXBlZFxuICAgICAgICAvLyBlcXVpdmFsZW50cy5cbiAgICAgICAgdmFyIFVuZXNjYXBlcyA9IHtcbiAgICAgICAgICA5MjogXCJcXFxcXCIsXG4gICAgICAgICAgMzQ6ICdcIicsXG4gICAgICAgICAgNDc6IFwiL1wiLFxuICAgICAgICAgIDk4OiBcIlxcYlwiLFxuICAgICAgICAgIDExNjogXCJcXHRcIixcbiAgICAgICAgICAxMTA6IFwiXFxuXCIsXG4gICAgICAgICAgMTAyOiBcIlxcZlwiLFxuICAgICAgICAgIDExNDogXCJcXHJcIlxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIEludGVybmFsOiBTdG9yZXMgdGhlIHBhcnNlciBzdGF0ZS5cbiAgICAgICAgdmFyIEluZGV4LCBTb3VyY2U7XG5cbiAgICAgICAgLy8gSW50ZXJuYWw6IFJlc2V0cyB0aGUgcGFyc2VyIHN0YXRlIGFuZCB0aHJvd3MgYSBgU3ludGF4RXJyb3JgLlxuICAgICAgICB2YXIgYWJvcnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgSW5kZXggPSBTb3VyY2UgPSBudWxsO1xuICAgICAgICAgIHRocm93IFN5bnRheEVycm9yKCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gSW50ZXJuYWw6IFJldHVybnMgdGhlIG5leHQgdG9rZW4sIG9yIGBcIiRcImAgaWYgdGhlIHBhcnNlciBoYXMgcmVhY2hlZFxuICAgICAgICAvLyB0aGUgZW5kIG9mIHRoZSBzb3VyY2Ugc3RyaW5nLiBBIHRva2VuIG1heSBiZSBhIHN0cmluZywgbnVtYmVyLCBgbnVsbGBcbiAgICAgICAgLy8gbGl0ZXJhbCwgb3IgQm9vbGVhbiBsaXRlcmFsLlxuICAgICAgICB2YXIgbGV4ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHZhciBzb3VyY2UgPSBTb3VyY2UsIGxlbmd0aCA9IHNvdXJjZS5sZW5ndGgsIHZhbHVlLCBiZWdpbiwgcG9zaXRpb24sIGlzU2lnbmVkLCBjaGFyQ29kZTtcbiAgICAgICAgICB3aGlsZSAoSW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgICAgIGNoYXJDb2RlID0gc291cmNlLmNoYXJDb2RlQXQoSW5kZXgpO1xuICAgICAgICAgICAgc3dpdGNoIChjaGFyQ29kZSkge1xuICAgICAgICAgICAgICBjYXNlIDk6IGNhc2UgMTA6IGNhc2UgMTM6IGNhc2UgMzI6XG4gICAgICAgICAgICAgICAgLy8gU2tpcCB3aGl0ZXNwYWNlIHRva2VucywgaW5jbHVkaW5nIHRhYnMsIGNhcnJpYWdlIHJldHVybnMsIGxpbmVcbiAgICAgICAgICAgICAgICAvLyBmZWVkcywgYW5kIHNwYWNlIGNoYXJhY3RlcnMuXG4gICAgICAgICAgICAgICAgSW5kZXgrKztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSAxMjM6IGNhc2UgMTI1OiBjYXNlIDkxOiBjYXNlIDkzOiBjYXNlIDU4OiBjYXNlIDQ0OlxuICAgICAgICAgICAgICAgIC8vIFBhcnNlIGEgcHVuY3R1YXRvciB0b2tlbiAoYHtgLCBgfWAsIGBbYCwgYF1gLCBgOmAsIG9yIGAsYCkgYXRcbiAgICAgICAgICAgICAgICAvLyB0aGUgY3VycmVudCBwb3NpdGlvbi5cbiAgICAgICAgICAgICAgICB2YWx1ZSA9IGNoYXJJbmRleEJ1Z2d5ID8gc291cmNlLmNoYXJBdChJbmRleCkgOiBzb3VyY2VbSW5kZXhdO1xuICAgICAgICAgICAgICAgIEluZGV4Kys7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgICAgICBjYXNlIDM0OlxuICAgICAgICAgICAgICAgIC8vIGBcImAgZGVsaW1pdHMgYSBKU09OIHN0cmluZzsgYWR2YW5jZSB0byB0aGUgbmV4dCBjaGFyYWN0ZXIgYW5kXG4gICAgICAgICAgICAgICAgLy8gYmVnaW4gcGFyc2luZyB0aGUgc3RyaW5nLiBTdHJpbmcgdG9rZW5zIGFyZSBwcmVmaXhlZCB3aXRoIHRoZVxuICAgICAgICAgICAgICAgIC8vIHNlbnRpbmVsIGBAYCBjaGFyYWN0ZXIgdG8gZGlzdGluZ3Vpc2ggdGhlbSBmcm9tIHB1bmN0dWF0b3JzIGFuZFxuICAgICAgICAgICAgICAgIC8vIGVuZC1vZi1zdHJpbmcgdG9rZW5zLlxuICAgICAgICAgICAgICAgIGZvciAodmFsdWUgPSBcIkBcIiwgSW5kZXgrKzsgSW5kZXggPCBsZW5ndGg7KSB7XG4gICAgICAgICAgICAgICAgICBjaGFyQ29kZSA9IHNvdXJjZS5jaGFyQ29kZUF0KEluZGV4KTtcbiAgICAgICAgICAgICAgICAgIGlmIChjaGFyQ29kZSA8IDMyKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFVuZXNjYXBlZCBBU0NJSSBjb250cm9sIGNoYXJhY3RlcnMgKHRob3NlIHdpdGggYSBjb2RlIHVuaXRcbiAgICAgICAgICAgICAgICAgICAgLy8gbGVzcyB0aGFuIHRoZSBzcGFjZSBjaGFyYWN0ZXIpIGFyZSBub3QgcGVybWl0dGVkLlxuICAgICAgICAgICAgICAgICAgICBhYm9ydCgpO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjaGFyQ29kZSA9PSA5Mikge1xuICAgICAgICAgICAgICAgICAgICAvLyBBIHJldmVyc2Ugc29saWR1cyAoYFxcYCkgbWFya3MgdGhlIGJlZ2lubmluZyBvZiBhbiBlc2NhcGVkXG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnRyb2wgY2hhcmFjdGVyIChpbmNsdWRpbmcgYFwiYCwgYFxcYCwgYW5kIGAvYCkgb3IgVW5pY29kZVxuICAgICAgICAgICAgICAgICAgICAvLyBlc2NhcGUgc2VxdWVuY2UuXG4gICAgICAgICAgICAgICAgICAgIGNoYXJDb2RlID0gc291cmNlLmNoYXJDb2RlQXQoKytJbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoY2hhckNvZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICBjYXNlIDkyOiBjYXNlIDM0OiBjYXNlIDQ3OiBjYXNlIDk4OiBjYXNlIDExNjogY2FzZSAxMTA6IGNhc2UgMTAyOiBjYXNlIDExNDpcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJldml2ZSBlc2NhcGVkIGNvbnRyb2wgY2hhcmFjdGVycy5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlICs9IFVuZXNjYXBlc1tjaGFyQ29kZV07XG4gICAgICAgICAgICAgICAgICAgICAgICBJbmRleCsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgY2FzZSAxMTc6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBgXFx1YCBtYXJrcyB0aGUgYmVnaW5uaW5nIG9mIGEgVW5pY29kZSBlc2NhcGUgc2VxdWVuY2UuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBBZHZhbmNlIHRvIHRoZSBmaXJzdCBjaGFyYWN0ZXIgYW5kIHZhbGlkYXRlIHRoZVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZm91ci1kaWdpdCBjb2RlIHBvaW50LlxuICAgICAgICAgICAgICAgICAgICAgICAgYmVnaW4gPSArK0luZGV4O1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChwb3NpdGlvbiA9IEluZGV4ICsgNDsgSW5kZXggPCBwb3NpdGlvbjsgSW5kZXgrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFyQ29kZSA9IHNvdXJjZS5jaGFyQ29kZUF0KEluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQSB2YWxpZCBzZXF1ZW5jZSBjb21wcmlzZXMgZm91ciBoZXhkaWdpdHMgKGNhc2UtXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGluc2Vuc2l0aXZlKSB0aGF0IGZvcm0gYSBzaW5nbGUgaGV4YWRlY2ltYWwgdmFsdWUuXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKGNoYXJDb2RlID49IDQ4ICYmIGNoYXJDb2RlIDw9IDU3IHx8IGNoYXJDb2RlID49IDk3ICYmIGNoYXJDb2RlIDw9IDEwMiB8fCBjaGFyQ29kZSA+PSA2NSAmJiBjaGFyQ29kZSA8PSA3MCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJbnZhbGlkIFVuaWNvZGUgZXNjYXBlIHNlcXVlbmNlLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFib3J0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJldml2ZSB0aGUgZXNjYXBlZCBjaGFyYWN0ZXIuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSArPSBmcm9tQ2hhckNvZGUoXCIweFwiICsgc291cmNlLnNsaWNlKGJlZ2luLCBJbmRleCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEludmFsaWQgZXNjYXBlIHNlcXVlbmNlLlxuICAgICAgICAgICAgICAgICAgICAgICAgYWJvcnQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoYXJDb2RlID09IDM0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgLy8gQW4gdW5lc2NhcGVkIGRvdWJsZS1xdW90ZSBjaGFyYWN0ZXIgbWFya3MgdGhlIGVuZCBvZiB0aGVcbiAgICAgICAgICAgICAgICAgICAgICAvLyBzdHJpbmcuXG4gICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2hhckNvZGUgPSBzb3VyY2UuY2hhckNvZGVBdChJbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIGJlZ2luID0gSW5kZXg7XG4gICAgICAgICAgICAgICAgICAgIC8vIE9wdGltaXplIGZvciB0aGUgY29tbW9uIGNhc2Ugd2hlcmUgYSBzdHJpbmcgaXMgdmFsaWQuXG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIChjaGFyQ29kZSA+PSAzMiAmJiBjaGFyQ29kZSAhPSA5MiAmJiBjaGFyQ29kZSAhPSAzNCkge1xuICAgICAgICAgICAgICAgICAgICAgIGNoYXJDb2RlID0gc291cmNlLmNoYXJDb2RlQXQoKytJbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gQXBwZW5kIHRoZSBzdHJpbmcgYXMtaXMuXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlICs9IHNvdXJjZS5zbGljZShiZWdpbiwgSW5kZXgpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoc291cmNlLmNoYXJDb2RlQXQoSW5kZXgpID09IDM0KSB7XG4gICAgICAgICAgICAgICAgICAvLyBBZHZhbmNlIHRvIHRoZSBuZXh0IGNoYXJhY3RlciBhbmQgcmV0dXJuIHRoZSByZXZpdmVkIHN0cmluZy5cbiAgICAgICAgICAgICAgICAgIEluZGV4Kys7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIFVudGVybWluYXRlZCBzdHJpbmcuXG4gICAgICAgICAgICAgICAgYWJvcnQoKTtcbiAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAvLyBQYXJzZSBudW1iZXJzIGFuZCBsaXRlcmFscy5cbiAgICAgICAgICAgICAgICBiZWdpbiA9IEluZGV4O1xuICAgICAgICAgICAgICAgIC8vIEFkdmFuY2UgcGFzdCB0aGUgbmVnYXRpdmUgc2lnbiwgaWYgb25lIGlzIHNwZWNpZmllZC5cbiAgICAgICAgICAgICAgICBpZiAoY2hhckNvZGUgPT0gNDUpIHtcbiAgICAgICAgICAgICAgICAgIGlzU2lnbmVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgIGNoYXJDb2RlID0gc291cmNlLmNoYXJDb2RlQXQoKytJbmRleCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIFBhcnNlIGFuIGludGVnZXIgb3IgZmxvYXRpbmctcG9pbnQgdmFsdWUuXG4gICAgICAgICAgICAgICAgaWYgKGNoYXJDb2RlID49IDQ4ICYmIGNoYXJDb2RlIDw9IDU3KSB7XG4gICAgICAgICAgICAgICAgICAvLyBMZWFkaW5nIHplcm9lcyBhcmUgaW50ZXJwcmV0ZWQgYXMgb2N0YWwgbGl0ZXJhbHMuXG4gICAgICAgICAgICAgICAgICBpZiAoY2hhckNvZGUgPT0gNDggJiYgKChjaGFyQ29kZSA9IHNvdXJjZS5jaGFyQ29kZUF0KEluZGV4ICsgMSkpLCBjaGFyQ29kZSA+PSA0OCAmJiBjaGFyQ29kZSA8PSA1NykpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gSWxsZWdhbCBvY3RhbCBsaXRlcmFsLlxuICAgICAgICAgICAgICAgICAgICBhYm9ydCgpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgaXNTaWduZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgIC8vIFBhcnNlIHRoZSBpbnRlZ2VyIGNvbXBvbmVudC5cbiAgICAgICAgICAgICAgICAgIGZvciAoOyBJbmRleCA8IGxlbmd0aCAmJiAoKGNoYXJDb2RlID0gc291cmNlLmNoYXJDb2RlQXQoSW5kZXgpKSwgY2hhckNvZGUgPj0gNDggJiYgY2hhckNvZGUgPD0gNTcpOyBJbmRleCsrKTtcbiAgICAgICAgICAgICAgICAgIC8vIEZsb2F0cyBjYW5ub3QgY29udGFpbiBhIGxlYWRpbmcgZGVjaW1hbCBwb2ludDsgaG93ZXZlciwgdGhpc1xuICAgICAgICAgICAgICAgICAgLy8gY2FzZSBpcyBhbHJlYWR5IGFjY291bnRlZCBmb3IgYnkgdGhlIHBhcnNlci5cbiAgICAgICAgICAgICAgICAgIGlmIChzb3VyY2UuY2hhckNvZGVBdChJbmRleCkgPT0gNDYpIHtcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb24gPSArK0luZGV4O1xuICAgICAgICAgICAgICAgICAgICAvLyBQYXJzZSB0aGUgZGVjaW1hbCBjb21wb25lbnQuXG4gICAgICAgICAgICAgICAgICAgIGZvciAoOyBwb3NpdGlvbiA8IGxlbmd0aCAmJiAoKGNoYXJDb2RlID0gc291cmNlLmNoYXJDb2RlQXQocG9zaXRpb24pKSwgY2hhckNvZGUgPj0gNDggJiYgY2hhckNvZGUgPD0gNTcpOyBwb3NpdGlvbisrKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBvc2l0aW9uID09IEluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgLy8gSWxsZWdhbCB0cmFpbGluZyBkZWNpbWFsLlxuICAgICAgICAgICAgICAgICAgICAgIGFib3J0KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgSW5kZXggPSBwb3NpdGlvbjtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIC8vIFBhcnNlIGV4cG9uZW50cy4gVGhlIGBlYCBkZW5vdGluZyB0aGUgZXhwb25lbnQgaXNcbiAgICAgICAgICAgICAgICAgIC8vIGNhc2UtaW5zZW5zaXRpdmUuXG4gICAgICAgICAgICAgICAgICBjaGFyQ29kZSA9IHNvdXJjZS5jaGFyQ29kZUF0KEluZGV4KTtcbiAgICAgICAgICAgICAgICAgIGlmIChjaGFyQ29kZSA9PSAxMDEgfHwgY2hhckNvZGUgPT0gNjkpIHtcbiAgICAgICAgICAgICAgICAgICAgY2hhckNvZGUgPSBzb3VyY2UuY2hhckNvZGVBdCgrK0luZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgLy8gU2tpcCBwYXN0IHRoZSBzaWduIGZvbGxvd2luZyB0aGUgZXhwb25lbnQsIGlmIG9uZSBpc1xuICAgICAgICAgICAgICAgICAgICAvLyBzcGVjaWZpZWQuXG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGFyQ29kZSA9PSA0MyB8fCBjaGFyQ29kZSA9PSA0NSkge1xuICAgICAgICAgICAgICAgICAgICAgIEluZGV4Kys7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gUGFyc2UgdGhlIGV4cG9uZW50aWFsIGNvbXBvbmVudC5cbiAgICAgICAgICAgICAgICAgICAgZm9yIChwb3NpdGlvbiA9IEluZGV4OyBwb3NpdGlvbiA8IGxlbmd0aCAmJiAoKGNoYXJDb2RlID0gc291cmNlLmNoYXJDb2RlQXQocG9zaXRpb24pKSwgY2hhckNvZGUgPj0gNDggJiYgY2hhckNvZGUgPD0gNTcpOyBwb3NpdGlvbisrKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBvc2l0aW9uID09IEluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgLy8gSWxsZWdhbCBlbXB0eSBleHBvbmVudC5cbiAgICAgICAgICAgICAgICAgICAgICBhYm9ydCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIEluZGV4ID0gcG9zaXRpb247XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAvLyBDb2VyY2UgdGhlIHBhcnNlZCB2YWx1ZSB0byBhIEphdmFTY3JpcHQgbnVtYmVyLlxuICAgICAgICAgICAgICAgICAgcmV0dXJuICtzb3VyY2Uuc2xpY2UoYmVnaW4sIEluZGV4KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gQSBuZWdhdGl2ZSBzaWduIG1heSBvbmx5IHByZWNlZGUgbnVtYmVycy5cbiAgICAgICAgICAgICAgICBpZiAoaXNTaWduZWQpIHtcbiAgICAgICAgICAgICAgICAgIGFib3J0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGB0cnVlYCwgYGZhbHNlYCwgYW5kIGBudWxsYCBsaXRlcmFscy5cbiAgICAgICAgICAgICAgICBpZiAoc291cmNlLnNsaWNlKEluZGV4LCBJbmRleCArIDQpID09IFwidHJ1ZVwiKSB7XG4gICAgICAgICAgICAgICAgICBJbmRleCArPSA0O1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzb3VyY2Uuc2xpY2UoSW5kZXgsIEluZGV4ICsgNSkgPT0gXCJmYWxzZVwiKSB7XG4gICAgICAgICAgICAgICAgICBJbmRleCArPSA1O1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc291cmNlLnNsaWNlKEluZGV4LCBJbmRleCArIDQpID09IFwibnVsbFwiKSB7XG4gICAgICAgICAgICAgICAgICBJbmRleCArPSA0O1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIFVucmVjb2duaXplZCB0b2tlbi5cbiAgICAgICAgICAgICAgICBhYm9ydCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBSZXR1cm4gdGhlIHNlbnRpbmVsIGAkYCBjaGFyYWN0ZXIgaWYgdGhlIHBhcnNlciBoYXMgcmVhY2hlZCB0aGUgZW5kXG4gICAgICAgICAgLy8gb2YgdGhlIHNvdXJjZSBzdHJpbmcuXG4gICAgICAgICAgcmV0dXJuIFwiJFwiO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIEludGVybmFsOiBQYXJzZXMgYSBKU09OIGB2YWx1ZWAgdG9rZW4uXG4gICAgICAgIHZhciBnZXQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICB2YXIgcmVzdWx0cywgaGFzTWVtYmVycztcbiAgICAgICAgICBpZiAodmFsdWUgPT0gXCIkXCIpIHtcbiAgICAgICAgICAgIC8vIFVuZXhwZWN0ZWQgZW5kIG9mIGlucHV0LlxuICAgICAgICAgICAgYWJvcnQoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICBpZiAoKGNoYXJJbmRleEJ1Z2d5ID8gdmFsdWUuY2hhckF0KDApIDogdmFsdWVbMF0pID09IFwiQFwiKSB7XG4gICAgICAgICAgICAgIC8vIFJlbW92ZSB0aGUgc2VudGluZWwgYEBgIGNoYXJhY3Rlci5cbiAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlLnNsaWNlKDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gUGFyc2Ugb2JqZWN0IGFuZCBhcnJheSBsaXRlcmFscy5cbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PSBcIltcIikge1xuICAgICAgICAgICAgICAvLyBQYXJzZXMgYSBKU09OIGFycmF5LCByZXR1cm5pbmcgYSBuZXcgSmF2YVNjcmlwdCBhcnJheS5cbiAgICAgICAgICAgICAgcmVzdWx0cyA9IFtdO1xuICAgICAgICAgICAgICBmb3IgKDs7IGhhc01lbWJlcnMgfHwgKGhhc01lbWJlcnMgPSB0cnVlKSkge1xuICAgICAgICAgICAgICAgIHZhbHVlID0gbGV4KCk7XG4gICAgICAgICAgICAgICAgLy8gQSBjbG9zaW5nIHNxdWFyZSBicmFja2V0IG1hcmtzIHRoZSBlbmQgb2YgdGhlIGFycmF5IGxpdGVyYWwuXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlID09IFwiXVwiKSB7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlIGFycmF5IGxpdGVyYWwgY29udGFpbnMgZWxlbWVudHMsIHRoZSBjdXJyZW50IHRva2VuXG4gICAgICAgICAgICAgICAgLy8gc2hvdWxkIGJlIGEgY29tbWEgc2VwYXJhdGluZyB0aGUgcHJldmlvdXMgZWxlbWVudCBmcm9tIHRoZVxuICAgICAgICAgICAgICAgIC8vIG5leHQuXG4gICAgICAgICAgICAgICAgaWYgKGhhc01lbWJlcnMpIHtcbiAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PSBcIixcIikge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IGxleCgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT0gXCJdXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAvLyBVbmV4cGVjdGVkIHRyYWlsaW5nIGAsYCBpbiBhcnJheSBsaXRlcmFsLlxuICAgICAgICAgICAgICAgICAgICAgIGFib3J0KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEEgYCxgIG11c3Qgc2VwYXJhdGUgZWFjaCBhcnJheSBlbGVtZW50LlxuICAgICAgICAgICAgICAgICAgICBhYm9ydCgpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBFbGlzaW9ucyBhbmQgbGVhZGluZyBjb21tYXMgYXJlIG5vdCBwZXJtaXR0ZWQuXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlID09IFwiLFwiKSB7XG4gICAgICAgICAgICAgICAgICBhYm9ydCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXN1bHRzLnB1c2goZ2V0KHZhbHVlKSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdHM7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHZhbHVlID09IFwie1wiKSB7XG4gICAgICAgICAgICAgIC8vIFBhcnNlcyBhIEpTT04gb2JqZWN0LCByZXR1cm5pbmcgYSBuZXcgSmF2YVNjcmlwdCBvYmplY3QuXG4gICAgICAgICAgICAgIHJlc3VsdHMgPSB7fTtcbiAgICAgICAgICAgICAgZm9yICg7OyBoYXNNZW1iZXJzIHx8IChoYXNNZW1iZXJzID0gdHJ1ZSkpIHtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IGxleCgpO1xuICAgICAgICAgICAgICAgIC8vIEEgY2xvc2luZyBjdXJseSBicmFjZSBtYXJrcyB0aGUgZW5kIG9mIHRoZSBvYmplY3QgbGl0ZXJhbC5cbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT0gXCJ9XCIpIHtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBJZiB0aGUgb2JqZWN0IGxpdGVyYWwgY29udGFpbnMgbWVtYmVycywgdGhlIGN1cnJlbnQgdG9rZW5cbiAgICAgICAgICAgICAgICAvLyBzaG91bGQgYmUgYSBjb21tYSBzZXBhcmF0b3IuXG4gICAgICAgICAgICAgICAgaWYgKGhhc01lbWJlcnMpIHtcbiAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PSBcIixcIikge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IGxleCgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT0gXCJ9XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAvLyBVbmV4cGVjdGVkIHRyYWlsaW5nIGAsYCBpbiBvYmplY3QgbGl0ZXJhbC5cbiAgICAgICAgICAgICAgICAgICAgICBhYm9ydCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBBIGAsYCBtdXN0IHNlcGFyYXRlIGVhY2ggb2JqZWN0IG1lbWJlci5cbiAgICAgICAgICAgICAgICAgICAgYWJvcnQoKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gTGVhZGluZyBjb21tYXMgYXJlIG5vdCBwZXJtaXR0ZWQsIG9iamVjdCBwcm9wZXJ0eSBuYW1lcyBtdXN0IGJlXG4gICAgICAgICAgICAgICAgLy8gZG91YmxlLXF1b3RlZCBzdHJpbmdzLCBhbmQgYSBgOmAgbXVzdCBzZXBhcmF0ZSBlYWNoIHByb3BlcnR5XG4gICAgICAgICAgICAgICAgLy8gbmFtZSBhbmQgdmFsdWUuXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlID09IFwiLFwiIHx8IHR5cGVvZiB2YWx1ZSAhPSBcInN0cmluZ1wiIHx8IChjaGFySW5kZXhCdWdneSA/IHZhbHVlLmNoYXJBdCgwKSA6IHZhbHVlWzBdKSAhPSBcIkBcIiB8fCBsZXgoKSAhPSBcIjpcIikge1xuICAgICAgICAgICAgICAgICAgYWJvcnQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmVzdWx0c1t2YWx1ZS5zbGljZSgxKV0gPSBnZXQobGV4KCkpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJldHVybiByZXN1bHRzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gVW5leHBlY3RlZCB0b2tlbiBlbmNvdW50ZXJlZC5cbiAgICAgICAgICAgIGFib3J0KCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBJbnRlcm5hbDogVXBkYXRlcyBhIHRyYXZlcnNlZCBvYmplY3QgbWVtYmVyLlxuICAgICAgICB2YXIgdXBkYXRlID0gZnVuY3Rpb24gKHNvdXJjZSwgcHJvcGVydHksIGNhbGxiYWNrKSB7XG4gICAgICAgICAgdmFyIGVsZW1lbnQgPSB3YWxrKHNvdXJjZSwgcHJvcGVydHksIGNhbGxiYWNrKTtcbiAgICAgICAgICBpZiAoZWxlbWVudCA9PT0gdW5kZWYpIHtcbiAgICAgICAgICAgIGRlbGV0ZSBzb3VyY2VbcHJvcGVydHldO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzb3VyY2VbcHJvcGVydHldID0gZWxlbWVudDtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gSW50ZXJuYWw6IFJlY3Vyc2l2ZWx5IHRyYXZlcnNlcyBhIHBhcnNlZCBKU09OIG9iamVjdCwgaW52b2tpbmcgdGhlXG4gICAgICAgIC8vIGBjYWxsYmFja2AgZnVuY3Rpb24gZm9yIGVhY2ggdmFsdWUuIFRoaXMgaXMgYW4gaW1wbGVtZW50YXRpb24gb2YgdGhlXG4gICAgICAgIC8vIGBXYWxrKGhvbGRlciwgbmFtZSlgIG9wZXJhdGlvbiBkZWZpbmVkIGluIEVTIDUuMSBzZWN0aW9uIDE1LjEyLjIuXG4gICAgICAgIHZhciB3YWxrID0gZnVuY3Rpb24gKHNvdXJjZSwgcHJvcGVydHksIGNhbGxiYWNrKSB7XG4gICAgICAgICAgdmFyIHZhbHVlID0gc291cmNlW3Byb3BlcnR5XSwgbGVuZ3RoO1xuICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gXCJvYmplY3RcIiAmJiB2YWx1ZSkge1xuICAgICAgICAgICAgLy8gYGZvckVhY2hgIGNhbid0IGJlIHVzZWQgdG8gdHJhdmVyc2UgYW4gYXJyYXkgaW4gT3BlcmEgPD0gOC41NFxuICAgICAgICAgICAgLy8gYmVjYXVzZSBpdHMgYE9iamVjdCNoYXNPd25Qcm9wZXJ0eWAgaW1wbGVtZW50YXRpb24gcmV0dXJucyBgZmFsc2VgXG4gICAgICAgICAgICAvLyBmb3IgYXJyYXkgaW5kaWNlcyAoZS5nLiwgYCFbMSwgMiwgM10uaGFzT3duUHJvcGVydHkoXCIwXCIpYCkuXG4gICAgICAgICAgICBpZiAoZ2V0Q2xhc3MuY2FsbCh2YWx1ZSkgPT0gYXJyYXlDbGFzcykge1xuICAgICAgICAgICAgICBmb3IgKGxlbmd0aCA9IHZhbHVlLmxlbmd0aDsgbGVuZ3RoLS07KSB7XG4gICAgICAgICAgICAgICAgdXBkYXRlKHZhbHVlLCBsZW5ndGgsIGNhbGxiYWNrKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgZm9yRWFjaCh2YWx1ZSwgZnVuY3Rpb24gKHByb3BlcnR5KSB7XG4gICAgICAgICAgICAgICAgdXBkYXRlKHZhbHVlLCBwcm9wZXJ0eSwgY2FsbGJhY2spO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGNhbGxiYWNrLmNhbGwoc291cmNlLCBwcm9wZXJ0eSwgdmFsdWUpO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIFB1YmxpYzogYEpTT04ucGFyc2VgLiBTZWUgRVMgNS4xIHNlY3Rpb24gMTUuMTIuMi5cbiAgICAgICAgZXhwb3J0cy5wYXJzZSA9IGZ1bmN0aW9uIChzb3VyY2UsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgdmFyIHJlc3VsdCwgdmFsdWU7XG4gICAgICAgICAgSW5kZXggPSAwO1xuICAgICAgICAgIFNvdXJjZSA9IFwiXCIgKyBzb3VyY2U7XG4gICAgICAgICAgcmVzdWx0ID0gZ2V0KGxleCgpKTtcbiAgICAgICAgICAvLyBJZiBhIEpTT04gc3RyaW5nIGNvbnRhaW5zIG11bHRpcGxlIHRva2VucywgaXQgaXMgaW52YWxpZC5cbiAgICAgICAgICBpZiAobGV4KCkgIT0gXCIkXCIpIHtcbiAgICAgICAgICAgIGFib3J0KCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIFJlc2V0IHRoZSBwYXJzZXIgc3RhdGUuXG4gICAgICAgICAgSW5kZXggPSBTb3VyY2UgPSBudWxsO1xuICAgICAgICAgIHJldHVybiBjYWxsYmFjayAmJiBnZXRDbGFzcy5jYWxsKGNhbGxiYWNrKSA9PSBmdW5jdGlvbkNsYXNzID8gd2FsaygodmFsdWUgPSB7fSwgdmFsdWVbXCJcIl0gPSByZXN1bHQsIHZhbHVlKSwgXCJcIiwgY2FsbGJhY2spIDogcmVzdWx0O1xuICAgICAgICB9O1xuICAgICAgfVxuICAgIH1cblxuICAgIGV4cG9ydHNbXCJydW5JbkNvbnRleHRcIl0gPSBydW5JbkNvbnRleHQ7XG4gICAgcmV0dXJuIGV4cG9ydHM7XG4gIH1cblxuICBpZiAoZnJlZUV4cG9ydHMgJiYgIWlzTG9hZGVyKSB7XG4gICAgLy8gRXhwb3J0IGZvciBDb21tb25KUyBlbnZpcm9ubWVudHMuXG4gICAgcnVuSW5Db250ZXh0KHJvb3QsIGZyZWVFeHBvcnRzKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBFeHBvcnQgZm9yIHdlYiBicm93c2VycyBhbmQgSmF2YVNjcmlwdCBlbmdpbmVzLlxuICAgIHZhciBuYXRpdmVKU09OID0gcm9vdC5KU09OLFxuICAgICAgICBwcmV2aW91c0pTT04gPSByb290W1wiSlNPTjNcIl0sXG4gICAgICAgIGlzUmVzdG9yZWQgPSBmYWxzZTtcblxuICAgIHZhciBKU09OMyA9IHJ1bkluQ29udGV4dChyb290LCAocm9vdFtcIkpTT04zXCJdID0ge1xuICAgICAgLy8gUHVibGljOiBSZXN0b3JlcyB0aGUgb3JpZ2luYWwgdmFsdWUgb2YgdGhlIGdsb2JhbCBgSlNPTmAgb2JqZWN0IGFuZFxuICAgICAgLy8gcmV0dXJucyBhIHJlZmVyZW5jZSB0byB0aGUgYEpTT04zYCBvYmplY3QuXG4gICAgICBcIm5vQ29uZmxpY3RcIjogZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIWlzUmVzdG9yZWQpIHtcbiAgICAgICAgICBpc1Jlc3RvcmVkID0gdHJ1ZTtcbiAgICAgICAgICByb290LkpTT04gPSBuYXRpdmVKU09OO1xuICAgICAgICAgIHJvb3RbXCJKU09OM1wiXSA9IHByZXZpb3VzSlNPTjtcbiAgICAgICAgICBuYXRpdmVKU09OID0gcHJldmlvdXNKU09OID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gSlNPTjM7XG4gICAgICB9XG4gICAgfSkpO1xuXG4gICAgcm9vdC5KU09OID0ge1xuICAgICAgXCJwYXJzZVwiOiBKU09OMy5wYXJzZSxcbiAgICAgIFwic3RyaW5naWZ5XCI6IEpTT04zLnN0cmluZ2lmeVxuICAgIH07XG4gIH1cblxuICAvLyBFeHBvcnQgZm9yIGFzeW5jaHJvbm91cyBtb2R1bGUgbG9hZGVycy5cbiAgaWYgKGlzTG9hZGVyKSB7XG4gICAgZGVmaW5lKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBKU09OMztcbiAgICB9KTtcbiAgfVxufSkuY2FsbCh0aGlzKTtcblxuLy8jIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyNcbi8vIEVsZW1lbnRzLmpzXG4vLyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI1xuXG4oZnVuY3Rpb24gKCkge1xuXG5cdC8qKlxuXHQgKiBDb252ZW5pZW5jZSBtZXRob2RzIGZvciBjcmVhdGluZyB2YXJpb3VzIGVsZW1lbnRzIHVzZWQgYnkgUHJlbGFvZEpTLlxuXHQgKlxuXHQgKiBAY2xhc3MgRG9tVXRpbHNcblx0ICovXG5cdHZhciBzID0ge307XG5cblx0cy5hID0gZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHMuZWwoXCJhXCIpO1xuXHR9XG5cblx0cy5zdmcgPSBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gcy5lbChcInN2Z1wiKTtcblx0fVxuXG5cdHMub2JqZWN0ID0gZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHMuZWwoXCJvYmplY3RcIik7XG5cdH1cblxuXHRzLmltYWdlID0gZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHMuZWwoXCJpbWFnZVwiKTtcblx0fVxuXG5cdHMuaW1nID0gZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHMuZWwoXCJpbWdcIik7XG5cdH1cblxuXHRzLnN0eWxlID0gZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHMuZWwoXCJzdHlsZVwiKTtcblx0fVxuXG5cdHMubGluayA9IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBzLmVsKFwibGlua1wiKTtcblx0fVxuXG5cdHMuc2NyaXB0ID0gZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHMuZWwoXCJzY3JpcHRcIik7XG5cdH1cblxuXHRzLmF1ZGlvID0gZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHMuZWwoXCJhdWRpb1wiKTtcblx0fVxuXG5cdHMudmlkZW8gPSBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gcy5lbChcInZpZGVvXCIpO1xuXHR9XG5cblx0cy50ZXh0ID0gZnVuY3Rpb24odmFsdWUpIHtcblx0XHRyZXR1cm4gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodmFsdWUpO1xuXHR9XG5cblx0cy5lbCA9IGZ1bmN0aW9uKG5hbWUpIHtcblx0XHRyZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChuYW1lKTtcblx0fVxuXG5cdGNyZWF0ZWpzLkVsZW1lbnRzID0gcztcblxufSgpKTtcblxuLy8jIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyNcbi8vIFVSTFV0aWxzLmpzXG4vLyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI1xuXG4oZnVuY3Rpb24gKCkge1xuXG5cdC8qKlxuXHQgKiBVdGlsaXRpZXMgdGhhdCBhc3Npc3Qgd2l0aCBwYXJzaW5nIGxvYWQgaXRlbXMsIGFuZCBkZXRlcm1pbmluZyBmaWxlIHR5cGVzLCBldGMuXG5cdCAqIEBjbGFzcyBVUkxVdGlsc1xuXHQgKi9cblx0dmFyIHMgPSB7fTtcblxuXHQvKipcblx0ICogVGhlIFJlZ3VsYXIgRXhwcmVzc2lvbiB1c2VkIHRvIHRlc3QgZmlsZSBVUkxTIGZvciBhbiBhYnNvbHV0ZSBwYXRoLlxuXHQgKiBAcHJvcGVydHkgQUJTT0xVVEVfUEFUSFxuXHQgKiBAdHlwZSB7UmVnRXhwfVxuXHQgKiBAc3RhdGljXG5cdCAqL1xuXHRzLkFCU09MVVRFX1BBVFQgPSAvXig/Olxcdys6KT9cXC97Mn0vaTtcblxuXHQvKipcblx0ICogVGhlIFJlZ3VsYXIgRXhwcmVzc2lvbiB1c2VkIHRvIHRlc3QgZmlsZSBVUkxTIGZvciBhIHJlbGF0aXZlIHBhdGguXG5cdCAqIEBwcm9wZXJ0eSBSRUxBVElWRV9QQVRIXG5cdCAqIEB0eXBlIHtSZWdFeHB9XG5cdCAqIEBzdGF0aWNcblx0ICovXG5cdHMuUkVMQVRJVkVfUEFUVCA9ICgvXlsuL10qP1xcLy9pKTtcblxuXHQvKipcblx0ICogVGhlIFJlZ3VsYXIgRXhwcmVzc2lvbiB1c2VkIHRvIHRlc3QgZmlsZSBVUkxTIGZvciBhbiBleHRlbnNpb24uIE5vdGUgdGhhdCBVUklzIG11c3QgYWxyZWFkeSBoYXZlIHRoZSBxdWVyeSBzdHJpbmdcblx0ICogcmVtb3ZlZC5cblx0ICogQHByb3BlcnR5IEVYVEVOU0lPTl9QQVRUXG5cdCAqIEB0eXBlIHtSZWdFeHB9XG5cdCAqIEBzdGF0aWNcblx0ICovXG5cdHMuRVhURU5TSU9OX1BBVFQgPSAvXFwvP1teL10rXFwuKFxcd3sxLDV9KSQvaTtcblxuXHQvKipcblx0ICogUGFyc2UgYSBmaWxlIHBhdGggdG8gZGV0ZXJtaW5lIHRoZSBpbmZvcm1hdGlvbiB3ZSBuZWVkIHRvIHdvcmsgd2l0aCBpdC4gQ3VycmVudGx5LCBQcmVsb2FkSlMgbmVlZHMgdG8ga25vdzpcblx0ICogPHVsPlxuXHQgKiAgICAgPGxpPklmIHRoZSBwYXRoIGlzIGFic29sdXRlLiBBYnNvbHV0ZSBwYXRocyBzdGFydCB3aXRoIGEgcHJvdG9jb2wgKHN1Y2ggYXMgYGh0dHA6Ly9gLCBgZmlsZTovL2AsIG9yXG5cdCAqICAgICBgLy9uZXR3b3JrUGF0aGApPC9saT5cblx0ICogICAgIDxsaT5JZiB0aGUgcGF0aCBpcyByZWxhdGl2ZS4gUmVsYXRpdmUgcGF0aHMgc3RhcnQgd2l0aCBgLi4vYCBvciBgL3BhdGhgIChvciBzaW1pbGFyKTwvbGk+XG5cdCAqICAgICA8bGk+VGhlIGZpbGUgZXh0ZW5zaW9uLiBUaGlzIGlzIGRldGVybWluZWQgYnkgdGhlIGZpbGVuYW1lIHdpdGggYW4gZXh0ZW5zaW9uLiBRdWVyeSBzdHJpbmdzIGFyZSBkcm9wcGVkLCBhbmRcblx0ICogICAgIHRoZSBmaWxlIHBhdGggaXMgZXhwZWN0ZWQgdG8gZm9sbG93IHRoZSBmb3JtYXQgYG5hbWUuZXh0YC48L2xpPlxuXHQgKiA8L3VsPlxuXHQgKlxuXHQgKiBAbWV0aG9kIHBhcnNlVVJJXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBwYXRoXG5cdCAqIEByZXR1cm5zIHtPYmplY3R9IEFuIE9iamVjdCB3aXRoIGFuIGBhYnNvbHV0ZWAgYW5kIGByZWxhdGl2ZWAgQm9vbGVhbiB2YWx1ZXMsXG5cdCAqIFx0dGhlIHBpZWNlcyBvZiB0aGUgcGF0aCAocHJvdG9jb2wsIGhvc3RuYW1lLCBwb3J0LCBwYXRobmFtZSwgc2VhcmNoLCBoYXNoLCBob3N0KVxuXHQgKiBcdGFzIHdlbGwgYXMgYW4gb3B0aW9uYWwgJ2V4dGVuc2lvbmAgcHJvcGVydHksIHdoaWNoIGlzIHRoZSBsb3dlcmNhc2UgZXh0ZW5zaW9uLlxuXHQgKlxuXHQgKiBAc3RhdGljXG5cdCAqL1xuXHRzLnBhcnNlVVJJID0gZnVuY3Rpb24gKHBhdGgpIHtcblx0XHR2YXIgaW5mbyA9IHtcblx0XHRcdGFic29sdXRlOiBmYWxzZSxcblx0XHRcdHJlbGF0aXZlOiBmYWxzZSxcblx0XHRcdHByb3RvY29sOiBudWxsLFxuXHRcdFx0aG9zdG5hbWU6IG51bGwsXG5cdFx0XHRwb3J0OiBudWxsLFxuXHRcdFx0cGF0aG5hbWU6IG51bGwsXG5cdFx0XHRzZWFyY2g6IG51bGwsXG5cdFx0XHRoYXNoOiBudWxsLFxuXHRcdFx0aG9zdDogbnVsbFxuXHRcdH07XG5cblx0XHRpZiAocGF0aCA9PSBudWxsKSB7IHJldHVybiBpbmZvOyB9XG5cblx0XHQvLyBJbmplY3QgdGhlIHBhdGggcGFydHMuXG5cdFx0dmFyIHBhcnNlciA9IGNyZWF0ZWpzLkVsZW1lbnRzLmEoKTtcblx0XHRwYXJzZXIuaHJlZiA9IHBhdGg7XG5cblx0XHRmb3IgKHZhciBuIGluIGluZm8pIHtcblx0XHRcdGlmIChuIGluIHBhcnNlcikge1xuXHRcdFx0XHRpbmZvW25dID0gcGFyc2VyW25dO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIERyb3AgdGhlIHF1ZXJ5IHN0cmluZ1xuXHRcdHZhciBxdWVyeUluZGV4ID0gcGF0aC5pbmRleE9mKFwiP1wiKTtcblx0XHRpZiAocXVlcnlJbmRleCA+IC0xKSB7XG5cdFx0XHRwYXRoID0gcGF0aC5zdWJzdHIoMCwgcXVlcnlJbmRleCk7XG5cdFx0fVxuXG5cdFx0Ly8gQWJzb2x1dGVcblx0XHR2YXIgbWF0Y2g7XG5cdFx0aWYgKHMuQUJTT0xVVEVfUEFUVC50ZXN0KHBhdGgpKSB7XG5cdFx0XHRpbmZvLmFic29sdXRlID0gdHJ1ZTtcblxuXHRcdFx0Ly8gUmVsYXRpdmVcblx0XHR9IGVsc2UgaWYgKHMuUkVMQVRJVkVfUEFUVC50ZXN0KHBhdGgpKSB7XG5cdFx0XHRpbmZvLnJlbGF0aXZlID0gdHJ1ZTtcblx0XHR9XG5cblx0XHQvLyBFeHRlbnNpb25cblx0XHRpZiAobWF0Y2ggPSBwYXRoLm1hdGNoKHMuRVhURU5TSU9OX1BBVFQpKSB7XG5cdFx0XHRpbmZvLmV4dGVuc2lvbiA9IG1hdGNoWzFdLnRvTG93ZXJDYXNlKCk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGluZm87XG5cdH07XG5cblx0LyoqXG5cdCAqIEZvcm1hdHMgYW4gb2JqZWN0IGludG8gYSBxdWVyeSBzdHJpbmcgZm9yIGVpdGhlciBhIFBPU1Qgb3IgR0VUIHJlcXVlc3QuXG5cdCAqIEBtZXRob2QgZm9ybWF0UXVlcnlTdHJpbmdcblx0ICogQHBhcmFtIHtPYmplY3R9IGRhdGEgVGhlIGRhdGEgdG8gY29udmVydCB0byBhIHF1ZXJ5IHN0cmluZy5cblx0ICogQHBhcmFtIHtBcnJheX0gW3F1ZXJ5XSBFeGlzdGluZyBuYW1lL3ZhbHVlIHBhaXJzIHRvIGFwcGVuZCBvbiB0byB0aGlzIHF1ZXJ5LlxuXHQgKiBAc3RhdGljXG5cdCAqL1xuXHRzLmZvcm1hdFF1ZXJ5U3RyaW5nID0gZnVuY3Rpb24gKGRhdGEsIHF1ZXJ5KSB7XG5cdFx0aWYgKGRhdGEgPT0gbnVsbCkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiWW91IG11c3Qgc3BlY2lmeSBkYXRhLlwiKTtcblx0XHR9XG5cdFx0dmFyIHBhcmFtcyA9IFtdO1xuXHRcdGZvciAodmFyIG4gaW4gZGF0YSkge1xuXHRcdFx0cGFyYW1zLnB1c2gobiArIFwiPVwiICsgZXNjYXBlKGRhdGFbbl0pKTtcblx0XHR9XG5cdFx0aWYgKHF1ZXJ5KSB7XG5cdFx0XHRwYXJhbXMgPSBwYXJhbXMuY29uY2F0KHF1ZXJ5KTtcblx0XHR9XG5cdFx0cmV0dXJuIHBhcmFtcy5qb2luKFwiJlwiKTtcblx0fTtcblxuXHQvKipcblx0ICogQSB1dGlsaXR5IG1ldGhvZCB0aGF0IGJ1aWxkcyBhIGZpbGUgcGF0aCB1c2luZyBhIHNvdXJjZSBhbmQgYSBkYXRhIG9iamVjdCwgYW5kIGZvcm1hdHMgaXQgaW50byBhIG5ldyBwYXRoLlxuXHQgKiBAbWV0aG9kIGJ1aWxkVVJJXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBzcmMgVGhlIHNvdXJjZSBwYXRoIHRvIGFkZCB2YWx1ZXMgdG8uXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBbZGF0YV0gT2JqZWN0IHVzZWQgdG8gYXBwZW5kIHZhbHVlcyB0byB0aGlzIHJlcXVlc3QgYXMgYSBxdWVyeSBzdHJpbmcuIEV4aXN0aW5nIHBhcmFtZXRlcnMgb24gdGhlXG5cdCAqIHBhdGggd2lsbCBiZSBwcmVzZXJ2ZWQuXG5cdCAqIEByZXR1cm5zIHtzdHJpbmd9IEEgZm9ybWF0dGVkIHN0cmluZyB0aGF0IGNvbnRhaW5zIHRoZSBwYXRoIGFuZCB0aGUgc3VwcGxpZWQgcGFyYW1ldGVycy5cblx0ICogQHN0YXRpY1xuXHQgKi9cblx0cy5idWlsZFVSSSA9IGZ1bmN0aW9uIChzcmMsIGRhdGEpIHtcblx0XHRpZiAoZGF0YSA9PSBudWxsKSB7XG5cdFx0XHRyZXR1cm4gc3JjO1xuXHRcdH1cblxuXHRcdHZhciBxdWVyeSA9IFtdO1xuXHRcdHZhciBpZHggPSBzcmMuaW5kZXhPZihcIj9cIik7XG5cblx0XHRpZiAoaWR4ICE9IC0xKSB7XG5cdFx0XHR2YXIgcSA9IHNyYy5zbGljZShpZHggKyAxKTtcblx0XHRcdHF1ZXJ5ID0gcXVlcnkuY29uY2F0KHEuc3BsaXQoXCImXCIpKTtcblx0XHR9XG5cblx0XHRpZiAoaWR4ICE9IC0xKSB7XG5cdFx0XHRyZXR1cm4gc3JjLnNsaWNlKDAsIGlkeCkgKyBcIj9cIiArIHRoaXMuZm9ybWF0UXVlcnlTdHJpbmcoZGF0YSwgcXVlcnkpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gc3JjICsgXCI/XCIgKyB0aGlzLmZvcm1hdFF1ZXJ5U3RyaW5nKGRhdGEsIHF1ZXJ5KTtcblx0XHR9XG5cdH07XG5cblx0LyoqXG5cdCAqIEBtZXRob2QgaXNDcm9zc0RvbWFpblxuXHQgKiBAcGFyYW0ge0xvYWRJdGVtfE9iamVjdH0gaXRlbSBBIGxvYWQgaXRlbSB3aXRoIGEgYHNyY2AgcHJvcGVydHkuXG5cdCAqIEByZXR1cm4ge0Jvb2xlYW59IElmIHRoZSBsb2FkIGl0ZW0gaXMgbG9hZGluZyBmcm9tIGEgZGlmZmVyZW50IGRvbWFpbiB0aGFuIHRoZSBjdXJyZW50IGxvY2F0aW9uLlxuXHQgKiBAc3RhdGljXG5cdCAqL1xuXHRzLmlzQ3Jvc3NEb21haW4gPSBmdW5jdGlvbiAoaXRlbSkge1xuXHRcdHZhciB0YXJnZXQgPSBjcmVhdGVqcy5FbGVtZW50cy5hKCk7XG5cdFx0dGFyZ2V0LmhyZWYgPSBpdGVtLnNyYztcblxuXHRcdHZhciBob3N0ID0gY3JlYXRlanMuRWxlbWVudHMuYSgpO1xuXHRcdGhvc3QuaHJlZiA9IGxvY2F0aW9uLmhyZWY7XG5cblx0XHR2YXIgY3Jvc3Nkb21haW4gPSAodGFyZ2V0Lmhvc3RuYW1lICE9IFwiXCIpICYmXG5cdFx0XHQodGFyZ2V0LnBvcnQgIT0gaG9zdC5wb3J0IHx8XG5cdFx0XHR0YXJnZXQucHJvdG9jb2wgIT0gaG9zdC5wcm90b2NvbCB8fFxuXHRcdFx0dGFyZ2V0Lmhvc3RuYW1lICE9IGhvc3QuaG9zdG5hbWUpO1xuXHRcdHJldHVybiBjcm9zc2RvbWFpbjtcblx0fTtcblxuXHQvKipcblx0ICogQG1ldGhvZCBpc0xvY2FsXG5cdCAqIEBwYXJhbSB7TG9hZEl0ZW18T2JqZWN0fSBpdGVtIEEgbG9hZCBpdGVtIHdpdGggYSBgc3JjYCBwcm9wZXJ0eVxuXHQgKiBAcmV0dXJuIHtCb29sZWFufSBJZiB0aGUgbG9hZCBpdGVtIGlzIGxvYWRpbmcgZnJvbSB0aGUgXCJmaWxlOlwiIHByb3RvY29sLiBBc3N1bWUgdGhhdCB0aGUgaG9zdCBtdXN0IGJlIGxvY2FsIGFzXG5cdCAqIHdlbGwuXG5cdCAqIEBzdGF0aWNcblx0ICovXG5cdHMuaXNMb2NhbCA9IGZ1bmN0aW9uIChpdGVtKSB7XG5cdFx0dmFyIHRhcmdldCA9IGNyZWF0ZWpzLkVsZW1lbnRzLmEoKTtcblx0XHR0YXJnZXQuaHJlZiA9IGl0ZW0uc3JjO1xuXHRcdHJldHVybiB0YXJnZXQuaG9zdG5hbWUgPT0gXCJcIiAmJiB0YXJnZXQucHJvdG9jb2wgPT0gXCJmaWxlOlwiO1xuXHR9O1xuXG5cdGNyZWF0ZWpzLlVSTFV0aWxzID0gcztcblxufSgpKTtcblxuLy8jIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyNcbi8vIERvbVV0aWxzLmpzXG4vLyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI1xuXG4oZnVuY3Rpb24gKCkge1xuXG5cdC8qKlxuXHQgKiBBIGZldyB1dGlsaXRpZXMgZm9yIGludGVyYWN0aW5nIHdpdGggdGhlIGRvbS5cblx0ICogQGNsYXNzIERvbVV0aWxzXG5cdCAqL1xuXHR2YXIgcyA9IHtcblx0XHRjb250YWluZXI6IG51bGxcblx0fTtcblxuXHRzLmFwcGVuZFRvSGVhZCA9IGZ1bmN0aW9uIChlbCkge1xuXHRcdHMuZ2V0SGVhZCgpLmFwcGVuZENoaWxkKGVsKTtcblx0fVxuXG5cdHMuYXBwZW5kVG9Cb2R5ID0gZnVuY3Rpb24gKGVsKSB7XG5cdFx0aWYgKHMuY29udGFpbmVyID09IG51bGwpIHtcblx0XHRcdHMuY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcblx0XHRcdHMuY29udGFpbmVyLmlkID0gXCJwcmVsb2FkanMtY29udGFpbmVyXCI7XG5cdFx0XHR2YXIgc3R5bGUgPSBzLmNvbnRhaW5lci5zdHlsZTtcblx0XHRcdHN0eWxlLnZpc2liaWxpdHkgPSBcImhpZGRlblwiO1xuXHRcdFx0c3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCI7XG5cdFx0XHRzdHlsZS53aWR0aCA9IHMuY29udGFpbmVyLnN0eWxlLmhlaWdodCA9IFwiMTBweFwiO1xuXHRcdFx0c3R5bGUub3ZlcmZsb3cgPSBcImhpZGRlblwiO1xuXHRcdFx0c3R5bGUudHJhbnNmb3JtID0gc3R5bGUubXNUcmFuc2Zvcm0gPSBzdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSBzdHlsZS5vVHJhbnNmb3JtID0gXCJ0cmFuc2xhdGUoLTEwcHgsIC0xMHB4KVwiOyAvL0xNOiBOb3Qgd29ya2luZ1xuXHRcdFx0cy5nZXRCb2R5KCkuYXBwZW5kQ2hpbGQocy5jb250YWluZXIpO1xuXHRcdH1cblx0XHRzLmNvbnRhaW5lci5hcHBlbmRDaGlsZChlbCk7XG5cdH1cblxuXHRzLmdldEhlYWQgPSBmdW5jdGlvbiAoKSB7XG5cdFx0cmV0dXJuIGRvY3VtZW50LmhlYWQgfHwgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJoZWFkXCIpWzBdO1xuXHR9XG5cblx0cy5nZXRCb2R5ID0gZnVuY3Rpb24gKCkge1xuXHRcdHJldHVybiBkb2N1bWVudC5ib2R5IHx8IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiYm9keVwiKVswXTtcblx0fVxuXG5cdHMucmVtb3ZlQ2hpbGQgPSBmdW5jdGlvbihlbCkge1xuXHRcdGlmIChlbC5wYXJlbnQpIHtcblx0XHRcdGVsLnBhcmVudC5yZW1vdmVDaGlsZChlbCk7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIENoZWNrIGlmIGl0ZW0gaXMgYSB2YWxpZCBIVE1MSW1hZ2VFbGVtZW50XG5cdCAqIEBtZXRob2QgaXNJbWFnZVRhZ1xuXHQgKiBAcGFyYW0ge09iamVjdH0gaXRlbVxuXHQgKiBAcmV0dXJucyB7Qm9vbGVhbn1cblx0ICogQHN0YXRpY1xuXHQgKi9cblx0cy5pc0ltYWdlVGFnID0gZnVuY3Rpb24oaXRlbSkge1xuXHRcdHJldHVybiBpdGVtIGluc3RhbmNlb2YgSFRNTEltYWdlRWxlbWVudDtcblx0fTtcblxuXHQvKipcblx0ICogQ2hlY2sgaWYgaXRlbSBpcyBhIHZhbGlkIEhUTUxBdWRpb0VsZW1lbnRcblx0ICogQG1ldGhvZCBpc0F1ZGlvVGFnXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBpdGVtXG5cdCAqIEByZXR1cm5zIHtCb29sZWFufVxuXHQgKiBAc3RhdGljXG5cdCAqL1xuXHRzLmlzQXVkaW9UYWcgPSBmdW5jdGlvbihpdGVtKSB7XG5cdFx0aWYgKHdpbmRvdy5IVE1MQXVkaW9FbGVtZW50KSB7XG5cdFx0XHRyZXR1cm4gaXRlbSBpbnN0YW5jZW9mIEhUTUxBdWRpb0VsZW1lbnQ7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cdH07XG5cblx0LyoqXG5cdCAqIENoZWNrIGlmIGl0ZW0gaXMgYSB2YWxpZCBIVE1MVmlkZW9FbGVtZW50XG5cdCAqIEBtZXRob2QgaXNWaWRlb1RhZ1xuXHQgKiBAcGFyYW0ge09iamVjdH0gaXRlbVxuXHQgKiBAcmV0dXJucyB7Qm9vbGVhbn1cblx0ICogQHN0YXRpY1xuXHQgKi9cblx0cy5pc1ZpZGVvVGFnID0gZnVuY3Rpb24oaXRlbSkge1xuXHRcdGlmICh3aW5kb3cuSFRNTFZpZGVvRWxlbWVudCkge1xuXHRcdFx0cmV0dXJuIGl0ZW0gaW5zdGFuY2VvZiBIVE1MVmlkZW9FbGVtZW50O1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXHR9O1xuXG5cdGNyZWF0ZWpzLkRvbVV0aWxzID0gcztcblxufSgpKTtcblxuLy8jIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyNcbi8vIERhdGFVdGlscy5qc1xuLy8jIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyNcblxuKGZ1bmN0aW9uICgpIHtcblxuXHQvKipcblx0ICogQSBmZXcgZGF0YSB1dGlsaXRpZXMgZm9yIGZvcm1hdHRpbmcgZGlmZmVyZW50IGRhdGEgdHlwZXMuXG5cdCAqIEBjbGFzcyBEYXRhVXRpbHNcblx0ICovXG5cdHZhciBzID0ge307XG5cblx0Ly8gc3RhdGljIG1ldGhvZHNcblx0LyoqXG5cdCAqIFBhcnNlIFhNTCB1c2luZyB0aGUgRE9NLiBUaGlzIGlzIHJlcXVpcmVkIHdoZW4gcHJlbG9hZGluZyBYTUwgb3IgU1ZHLlxuXHQgKiBAbWV0aG9kIHBhcnNlWE1MXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSB0ZXh0IFRoZSByYXcgdGV4dCBvciBYTUwgdGhhdCBpcyBsb2FkZWQgYnkgWEhSLlxuXHQgKiBAcmV0dXJuIHtYTUx9IEFuIFhNTCBkb2N1bWVudFxuXHQgKiBAc3RhdGljXG5cdCAqL1xuXHRzLnBhcnNlWE1MID0gZnVuY3Rpb24gKHRleHQpIHtcblx0XHR2YXIgeG1sID0gbnVsbDtcblx0XHQvLyBDb2Nvb25KUyBkb2VzIG5vdCBzdXBwb3J0IFhNTCBwYXJzaW5nIHdpdGggZWl0aGVyIG1ldGhvZC5cblxuXHRcdC8vIE1vc3QgYnJvd3NlcnMgd2lsbCB1c2UgRE9NUGFyc2VyXG5cdFx0Ly8gSUUgZmFpbHMgb24gY2VydGFpbiBTVkcgZmlsZXMsIHNvIHdlIGhhdmUgYSBmYWxsYmFjayBiZWxvdy5cblx0XHR0cnkge1xuXHRcdFx0aWYgKHdpbmRvdy5ET01QYXJzZXIpIHtcblx0XHRcdFx0dmFyIHBhcnNlciA9IG5ldyBET01QYXJzZXIoKTtcblx0XHRcdFx0eG1sID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyh0ZXh0LCBcInRleHQveG1sXCIpO1xuXHRcdFx0fVxuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHR9XG5cblx0XHQvLyBGYWxsYmFjayBmb3IgSUUgc3VwcG9ydC5cblx0XHRpZiAoIXhtbCkge1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0eG1sID0gbmV3IEFjdGl2ZVhPYmplY3QoXCJNaWNyb3NvZnQuWE1MRE9NXCIpO1xuXHRcdFx0XHR4bWwuYXN5bmMgPSBmYWxzZTtcblx0XHRcdFx0eG1sLmxvYWRYTUwodGV4dCk7XG5cdFx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRcdHhtbCA9IG51bGw7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHhtbDtcblx0fTtcblxuXHQvKipcblx0ICogUGFyc2UgYSBzdHJpbmcgaW50byBhbiBPYmplY3QuXG5cdCAqIEBtZXRob2QgcGFyc2VKU09OXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSB2YWx1ZSBUaGUgbG9hZGVkIEpTT04gc3RyaW5nXG5cdCAqIEByZXR1cm5zIHtPYmplY3R9IEEgSmF2YVNjcmlwdCBvYmplY3QuXG5cdCAqL1xuXHRzLnBhcnNlSlNPTiA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuXHRcdGlmICh2YWx1ZSA9PSBudWxsKSB7XG5cdFx0XHRyZXR1cm4gbnVsbDtcblx0XHR9XG5cblx0XHR0cnkge1xuXHRcdFx0cmV0dXJuIEpTT04ucGFyc2UodmFsdWUpO1xuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdC8vIFRPRE87IEhhbmRsZSB0aGlzIHdpdGggYSBjdXN0b20gZXJyb3I/XG5cdFx0XHR0aHJvdyBlO1xuXHRcdH1cblx0fTtcblxuXHRjcmVhdGVqcy5EYXRhVXRpbHMgPSBzO1xuXG59KCkpO1xuXG4vLyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI1xuLy8gVHlwZXMuanNcbi8vIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXG5cbihmdW5jdGlvbigpIHtcblx0dmFyIHMgPSB7fTtcblxuXHQvKipcblx0ICogVGhlIHByZWxvYWQgdHlwZSBmb3IgZ2VuZXJpYyBiaW5hcnkgdHlwZXMuIE5vdGUgdGhhdCBpbWFnZXMgYXJlIGxvYWRlZCBhcyBiaW5hcnkgZmlsZXMgd2hlbiB1c2luZyBYSFIuXG5cdCAqIEBwcm9wZXJ0eSBCSU5BUllcblx0ICogQHR5cGUge1N0cmluZ31cblx0ICogQGRlZmF1bHQgYmluYXJ5XG5cdCAqIEBzdGF0aWNcblx0ICogQHNpbmNlIDAuNi4wXG5cdCAqL1xuXHRzLkJJTkFSWSA9IFwiYmluYXJ5XCI7XG5cblx0LyoqXG5cdCAqIFRoZSBwcmVsb2FkIHR5cGUgZm9yIGNzcyBmaWxlcy4gQ1NTIGZpbGVzIGFyZSBsb2FkZWQgdXNpbmcgYSAmbHQ7bGluayZndDsgd2hlbiBsb2FkZWQgd2l0aCBYSFIsIG9yIGFcblx0ICogJmx0O3N0eWxlJmd0OyB0YWcgd2hlbiBsb2FkZWQgd2l0aCB0YWdzLlxuXHQgKiBAcHJvcGVydHkgQ1NTXG5cdCAqIEB0eXBlIHtTdHJpbmd9XG5cdCAqIEBkZWZhdWx0IGNzc1xuXHQgKiBAc3RhdGljXG5cdCAqIEBzaW5jZSAwLjYuMFxuXHQgKi9cblx0cy5DU1MgPSBcImNzc1wiO1xuXG5cdC8qKlxuXHQgKiBUaGUgcHJlbG9hZCB0eXBlIGZvciBmb250IGZpbGVzLlxuXHQgKiBAcHJvcGVydHkgRk9OVFxuXHQgKiBAdHlwZSB7U3RyaW5nfVxuXHQgKiBAZGVmYXVsdCBmb250XG5cdCAqIEBzdGF0aWNcblx0ICogQHNpbmNlIDAuOS4wXG5cdCAqL1xuXHRzLkZPTlQgPSBcImZvbnRcIjtcblxuXHQvKipcblx0ICogVGhlIHByZWxvYWQgdHlwZSBmb3IgZm9udHMgc3BlY2lmaWVkIHdpdGggQ1NTIChzdWNoIGFzIEdvb2dsZSBmb250cylcblx0ICogQHByb3BlcnR5IEZPTlRDU1Ncblx0ICogQHR5cGUge1N0cmluZ31cblx0ICogQGRlZmF1bHQgZm9udGNzc1xuXHQgKiBAc3RhdGljXG5cdCAqIEBzaW5jZSAwLjkuMFxuXHQgKi9cblx0cy5GT05UQ1NTID0gXCJmb250Y3NzXCI7XG5cblx0LyoqXG5cdCAqIFRoZSBwcmVsb2FkIHR5cGUgZm9yIGltYWdlIGZpbGVzLCB1c3VhbGx5IHBuZywgZ2lmLCBvciBqcGcvanBlZy4gSW1hZ2VzIGFyZSBsb2FkZWQgaW50byBhbiAmbHQ7aW1hZ2UmZ3Q7IHRhZy5cblx0ICogQHByb3BlcnR5IElNQUdFXG5cdCAqIEB0eXBlIHtTdHJpbmd9XG5cdCAqIEBkZWZhdWx0IGltYWdlXG5cdCAqIEBzdGF0aWNcblx0ICogQHNpbmNlIDAuNi4wXG5cdCAqL1xuXHRzLklNQUdFID0gXCJpbWFnZVwiO1xuXG5cdC8qKlxuXHQgKiBUaGUgcHJlbG9hZCB0eXBlIGZvciBqYXZhc2NyaXB0IGZpbGVzLCB1c3VhbGx5IHdpdGggdGhlIFwianNcIiBmaWxlIGV4dGVuc2lvbi4gSmF2YVNjcmlwdCBmaWxlcyBhcmUgbG9hZGVkIGludG8gYVxuXHQgKiAmbHQ7c2NyaXB0Jmd0OyB0YWcuXG5cdCAqXG5cdCAqIFNpbmNlIHZlcnNpb24gMC40LjErLCBkdWUgdG8gaG93IHRhZy1sb2FkZWQgc2NyaXB0cyB3b3JrLCBhbGwgSmF2YVNjcmlwdCBmaWxlcyBhcmUgYXV0b21hdGljYWxseSBpbmplY3RlZCBpbnRvXG5cdCAqIHRoZSBib2R5IG9mIHRoZSBkb2N1bWVudCB0byBtYWludGFpbiBwYXJpdHkgYmV0d2VlbiBYSFIgYW5kIHRhZy1sb2FkZWQgc2NyaXB0cy4gSW4gdmVyc2lvbiAwLjQuMCBhbmQgZWFybGllcixcblx0ICogb25seSB0YWctbG9hZGVkIHNjcmlwdHMgYXJlIGluamVjdGVkLlxuXHQgKiBAcHJvcGVydHkgSkFWQVNDUklQVFxuXHQgKiBAdHlwZSB7U3RyaW5nfVxuXHQgKiBAZGVmYXVsdCBqYXZhc2NyaXB0XG5cdCAqIEBzdGF0aWNcblx0ICogQHNpbmNlIDAuNi4wXG5cdCAqL1xuXHRzLkpBVkFTQ1JJUFQgPSBcImphdmFzY3JpcHRcIjtcblxuXHQvKipcblx0ICogVGhlIHByZWxvYWQgdHlwZSBmb3IganNvbiBmaWxlcywgdXN1YWxseSB3aXRoIHRoZSBcImpzb25cIiBmaWxlIGV4dGVuc2lvbi4gSlNPTiBkYXRhIGlzIGxvYWRlZCBhbmQgcGFyc2VkIGludG8gYVxuXHQgKiBKYXZhU2NyaXB0IG9iamVjdC4gTm90ZSB0aGF0IGlmIGEgYGNhbGxiYWNrYCBpcyBwcmVzZW50IG9uIHRoZSBsb2FkIGl0ZW0sIHRoZSBmaWxlIHdpbGwgYmUgbG9hZGVkIHdpdGggSlNPTlAsXG5cdCAqIG5vIG1hdHRlciB3aGF0IHRoZSB7eyNjcm9zc0xpbmsgXCJMb2FkUXVldWUvcHJlZmVyWEhSOnByb3BlcnR5XCJ9fXt7L2Nyb3NzTGlua319IHByb3BlcnR5IGlzIHNldCB0bywgYW5kIHRoZSBKU09OXG5cdCAqIG11c3QgY29udGFpbiBhIG1hdGNoaW5nIHdyYXBwZXIgZnVuY3Rpb24uXG5cdCAqIEBwcm9wZXJ0eSBKU09OXG5cdCAqIEB0eXBlIHtTdHJpbmd9XG5cdCAqIEBkZWZhdWx0IGpzb25cblx0ICogQHN0YXRpY1xuXHQgKiBAc2luY2UgMC42LjBcblx0ICovXG5cdHMuSlNPTiA9IFwianNvblwiO1xuXG5cdC8qKlxuXHQgKiBUaGUgcHJlbG9hZCB0eXBlIGZvciBqc29ucCBmaWxlcywgdXN1YWxseSB3aXRoIHRoZSBcImpzb25cIiBmaWxlIGV4dGVuc2lvbi4gSlNPTiBkYXRhIGlzIGxvYWRlZCBhbmQgcGFyc2VkIGludG8gYVxuXHQgKiBKYXZhU2NyaXB0IG9iamVjdC4gWW91IGFyZSByZXF1aXJlZCB0byBwYXNzIGEgY2FsbGJhY2sgcGFyYW1ldGVyIHRoYXQgbWF0Y2hlcyB0aGUgZnVuY3Rpb24gd3JhcHBlciBpbiB0aGUgSlNPTi5cblx0ICogTm90ZSB0aGF0IEpTT05QIHdpbGwgYWx3YXlzIGJlIHVzZWQgaWYgdGhlcmUgaXMgYSBjYWxsYmFjayBwcmVzZW50LCBubyBtYXR0ZXIgd2hhdCB0aGUge3sjY3Jvc3NMaW5rIFwiTG9hZFF1ZXVlL3ByZWZlclhIUjpwcm9wZXJ0eVwifX17ey9jcm9zc0xpbmt9fVxuXHQgKiBwcm9wZXJ0eSBpcyBzZXQgdG8uXG5cdCAqIEBwcm9wZXJ0eSBKU09OUFxuXHQgKiBAdHlwZSB7U3RyaW5nfVxuXHQgKiBAZGVmYXVsdCBqc29ucFxuXHQgKiBAc3RhdGljXG5cdCAqIEBzaW5jZSAwLjYuMFxuXHQgKi9cblx0cy5KU09OUCA9IFwianNvbnBcIjtcblxuXHQvKipcblx0ICogVGhlIHByZWxvYWQgdHlwZSBmb3IganNvbi1iYXNlZCBtYW5pZmVzdCBmaWxlcywgdXN1YWxseSB3aXRoIHRoZSBcImpzb25cIiBmaWxlIGV4dGVuc2lvbi4gVGhlIEpTT04gZGF0YSBpcyBsb2FkZWRcblx0ICogYW5kIHBhcnNlZCBpbnRvIGEgSmF2YVNjcmlwdCBvYmplY3QuIFByZWxvYWRKUyB3aWxsIHRoZW4gbG9vayBmb3IgYSBcIm1hbmlmZXN0XCIgcHJvcGVydHkgaW4gdGhlIEpTT04sIHdoaWNoIGlzIGFuXG5cdCAqIEFycmF5IG9mIGZpbGVzIHRvIGxvYWQsIGZvbGxvd2luZyB0aGUgc2FtZSBmb3JtYXQgYXMgdGhlIHt7I2Nyb3NzTGluayBcIkxvYWRRdWV1ZS9sb2FkTWFuaWZlc3RcIn19e3svY3Jvc3NMaW5rfX1cblx0ICogbWV0aG9kLiBJZiBhIFwiY2FsbGJhY2tcIiBpcyBzcGVjaWZpZWQgb24gdGhlIG1hbmlmZXN0IG9iamVjdCwgdGhlbiBpdCB3aWxsIGJlIGxvYWRlZCB1c2luZyBKU09OUCBpbnN0ZWFkLFxuXHQgKiByZWdhcmRsZXNzIG9mIHdoYXQgdGhlIHt7I2Nyb3NzTGluayBcIkxvYWRRdWV1ZS9wcmVmZXJYSFI6cHJvcGVydHlcIn19e3svY3Jvc3NMaW5rfX0gcHJvcGVydHkgaXMgc2V0IHRvLlxuXHQgKiBAcHJvcGVydHkgTUFOSUZFU1Rcblx0ICogQHR5cGUge1N0cmluZ31cblx0ICogQGRlZmF1bHQgbWFuaWZlc3Rcblx0ICogQHN0YXRpY1xuXHQgKiBAc2luY2UgMC42LjBcblx0ICovXG5cdHMuTUFOSUZFU1QgPSBcIm1hbmlmZXN0XCI7XG5cblx0LyoqXG5cdCAqIFRoZSBwcmVsb2FkIHR5cGUgZm9yIHNvdW5kIGZpbGVzLCB1c3VhbGx5IG1wMywgb2dnLCBvciB3YXYuIFdoZW4gbG9hZGluZyB2aWEgdGFncywgYXVkaW8gaXMgbG9hZGVkIGludG8gYW5cblx0ICogJmx0O2F1ZGlvJmd0OyB0YWcuXG5cdCAqIEBwcm9wZXJ0eSBTT1VORFxuXHQgKiBAdHlwZSB7U3RyaW5nfVxuXHQgKiBAZGVmYXVsdCBzb3VuZFxuXHQgKiBAc3RhdGljXG5cdCAqIEBzaW5jZSAwLjYuMFxuXHQgKi9cblx0cy5TT1VORCA9IFwic291bmRcIjtcblxuXHQvKipcblx0ICogVGhlIHByZWxvYWQgdHlwZSBmb3IgdmlkZW8gZmlsZXMsIHVzdWFsbHkgbXA0LCB0cywgb3Igb2dnLiBXaGVuIGxvYWRpbmcgdmlhIHRhZ3MsIHZpZGVvIGlzIGxvYWRlZCBpbnRvIGFuXG5cdCAqICZsdDt2aWRlbyZndDsgdGFnLlxuXHQgKiBAcHJvcGVydHkgVklERU9cblx0ICogQHR5cGUge1N0cmluZ31cblx0ICogQGRlZmF1bHQgdmlkZW9cblx0ICogQHN0YXRpY1xuXHQgKiBAc2luY2UgMC42LjBcblx0ICovXG5cdHMuVklERU8gPSBcInZpZGVvXCI7XG5cblx0LyoqXG5cdCAqIFRoZSBwcmVsb2FkIHR5cGUgZm9yIFNwcml0ZVNoZWV0IGZpbGVzLiBTcHJpdGVTaGVldCBmaWxlcyBhcmUgSlNPTiBmaWxlcyB0aGF0IGNvbnRhaW4gc3RyaW5nIGltYWdlIHBhdGhzLlxuXHQgKiBAcHJvcGVydHkgU1BSSVRFU0hFRVRcblx0ICogQHR5cGUge1N0cmluZ31cblx0ICogQGRlZmF1bHQgc3ByaXRlc2hlZXRcblx0ICogQHN0YXRpY1xuXHQgKiBAc2luY2UgMC42LjBcblx0ICovXG5cdHMuU1BSSVRFU0hFRVQgPSBcInNwcml0ZXNoZWV0XCI7XG5cblx0LyoqXG5cdCAqIFRoZSBwcmVsb2FkIHR5cGUgZm9yIFNWRyBmaWxlcy5cblx0ICogQHByb3BlcnR5IFNWR1xuXHQgKiBAdHlwZSB7U3RyaW5nfVxuXHQgKiBAZGVmYXVsdCBzdmdcblx0ICogQHN0YXRpY1xuXHQgKiBAc2luY2UgMC42LjBcblx0ICovXG5cdHMuU1ZHID0gXCJzdmdcIjtcblxuXHQvKipcblx0ICogVGhlIHByZWxvYWQgdHlwZSBmb3IgdGV4dCBmaWxlcywgd2hpY2ggaXMgYWxzbyB0aGUgZGVmYXVsdCBmaWxlIHR5cGUgaWYgdGhlIHR5cGUgY2FuIG5vdCBiZSBkZXRlcm1pbmVkLiBUZXh0IGlzXG5cdCAqIGxvYWRlZCBhcyByYXcgdGV4dC5cblx0ICogQHByb3BlcnR5IFRFWFRcblx0ICogQHR5cGUge1N0cmluZ31cblx0ICogQGRlZmF1bHQgdGV4dFxuXHQgKiBAc3RhdGljXG5cdCAqIEBzaW5jZSAwLjYuMFxuXHQgKi9cblx0cy5URVhUID0gXCJ0ZXh0XCI7XG5cblx0LyoqXG5cdCAqIFRoZSBwcmVsb2FkIHR5cGUgZm9yIHhtbCBmaWxlcy4gWE1MIGlzIGxvYWRlZCBpbnRvIGFuIFhNTCBkb2N1bWVudC5cblx0ICogQHByb3BlcnR5IFhNTFxuXHQgKiBAdHlwZSB7U3RyaW5nfVxuXHQgKiBAZGVmYXVsdCB4bWxcblx0ICogQHN0YXRpY1xuXHQgKiBAc2luY2UgMC42LjBcblx0ICovXG5cdHMuWE1MID0gXCJ4bWxcIjtcblxuXHRjcmVhdGVqcy5UeXBlcyA9IHM7XG59KCkpO1xuXG4vLyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI1xuLy8gTWV0aG9kcy5qc1xuLy8jIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyNcblxuKGZ1bmN0aW9uKCkge1xuXHR2YXIgcyA9IHt9O1xuXG5cdC8qKlxuXHQgKiBEZWZpbmVzIGEgUE9TVCByZXF1ZXN0LCB1c2UgZm9yIGEgbWV0aG9kIHZhbHVlIHdoZW4gbG9hZGluZyBkYXRhLlxuXHQgKiBAcHJvcGVydHkgUE9TVFxuXHQgKiBAdHlwZSB7c3RyaW5nfVxuXHQgKiBAZGVmYXVsdCBwb3N0XG5cdCAqIEBzdGF0aWNcblx0ICovXG5cdHMuUE9TVCA9IFwiUE9TVFwiO1xuXG5cdC8qKlxuXHQgKiBEZWZpbmVzIGEgR0VUIHJlcXVlc3QsIHVzZSBmb3IgYSBtZXRob2QgdmFsdWUgd2hlbiBsb2FkaW5nIGRhdGEuXG5cdCAqIEBwcm9wZXJ0eSBHRVRcblx0ICogQHR5cGUge3N0cmluZ31cblx0ICogQGRlZmF1bHQgZ2V0XG5cdCAqIEBzdGF0aWNcblx0ICovXG5cdHMuR0VUID0gXCJHRVRcIjtcblxuXHRjcmVhdGVqcy5NZXRob2RzID0gcztcbn0oKSk7XG5cbi8vIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXG4vLyBMb2FkSXRlbS5qc1xuLy8jIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyNcblxuKGZ1bmN0aW9uICgpIHtcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cblx0LyoqXG5cdCAqIEFsbCBsb2FkZXJzIGFjY2VwdCBhbiBpdGVtIGNvbnRhaW5pbmcgdGhlIHByb3BlcnRpZXMgZGVmaW5lZCBpbiB0aGlzIGNsYXNzLiBJZiBhIHJhdyBvYmplY3QgaXMgcGFzc2VkIGluc3RlYWQsXG5cdCAqIGl0IHdpbGwgbm90IGJlIGFmZmVjdGVkLCBidXQgaXQgbXVzdCBjb250YWluIGF0IGxlYXN0IGEge3sjY3Jvc3NMaW5rIFwic3JjOnByb3BlcnR5XCJ9fXt7L2Nyb3NzTGlua319IHByb3BlcnR5LiBBXG5cdCAqIHN0cmluZyBwYXRoIG9yIEhUTUwgdGFnIGlzIGFsc28gYWNjZXB0YWJsZSwgYnV0IGl0IHdpbGwgYmUgYXV0b21hdGljYWxseSBjb252ZXJ0ZWQgdG8gYSBMb2FkSXRlbSB1c2luZyB0aGVcblx0ICoge3sjY3Jvc3NMaW5rIFwiY3JlYXRlXCJ9fXt7L2Nyb3NzTGlua319IG1ldGhvZCBieSB7eyNjcm9zc0xpbmsgXCJBYnN0cmFjdExvYWRlclwifX17ey9jcm9zc0xpbmt9fVxuXHQgKiBAY2xhc3MgTG9hZEl0ZW1cblx0ICogQGNvbnN0cnVjdG9yXG5cdCAqIEBzaW5jZSAwLjYuMFxuXHQgKi9cblx0ZnVuY3Rpb24gTG9hZEl0ZW0oKSB7XG5cdFx0LyoqXG5cdFx0ICogVGhlIHNvdXJjZSBvZiB0aGUgZmlsZSB0aGF0IGlzIGJlaW5nIGxvYWRlZC4gVGhpcyBwcm9wZXJ0eSBpcyA8Yj5yZXF1aXJlZDwvYj4uIFRoZSBzb3VyY2UgY2FuIGVpdGhlciBiZSBhXG5cdFx0ICogc3RyaW5nIChyZWNvbW1lbmRlZCksIG9yIGFuIEhUTUwgdGFnLlxuXHRcdCAqIFRoaXMgY2FuIGFsc28gYmUgYW4gb2JqZWN0LCBidXQgaW4gdGhhdCBjYXNlIGl0IGhhcyB0byBpbmNsdWRlIGEgdHlwZSBhbmQgYmUgaGFuZGxlZCBieSBhIHBsdWdpbi5cblx0XHQgKiBAcHJvcGVydHkgc3JjXG5cdFx0ICogQHR5cGUge1N0cmluZ31cblx0XHQgKiBAZGVmYXVsdCBudWxsXG5cdFx0ICovXG5cdFx0dGhpcy5zcmMgPSBudWxsO1xuXG5cdFx0LyoqXG5cdFx0ICogVGhlIHR5cGUgZmlsZSB0aGF0IGlzIGJlaW5nIGxvYWRlZC4gVGhlIHR5cGUgb2YgdGhlIGZpbGUgaXMgdXN1YWxseSBpbmZlcnJlZCBieSB0aGUgZXh0ZW5zaW9uLCBidXQgY2FuIGFsc29cblx0XHQgKiBiZSBzZXQgbWFudWFsbHkuIFRoaXMgaXMgaGVscGZ1bCBpbiBjYXNlcyB3aGVyZSBhIGZpbGUgZG9lcyBub3QgaGF2ZSBhbiBleHRlbnNpb24uXG5cdFx0ICogQHByb3BlcnR5IHR5cGVcblx0XHQgKiBAdHlwZSB7U3RyaW5nfVxuXHRcdCAqIEBkZWZhdWx0IG51bGxcblx0XHQgKi9cblx0XHR0aGlzLnR5cGUgPSBudWxsO1xuXG5cdFx0LyoqXG5cdFx0ICogQSBzdHJpbmcgaWRlbnRpZmllciB3aGljaCBjYW4gYmUgdXNlZCB0byByZWZlcmVuY2UgdGhlIGxvYWRlZCBvYmplY3QuIElmIG5vbmUgaXMgcHJvdmlkZWQsIHRoaXMgd2lsbCBiZVxuXHRcdCAqIGF1dG9tYXRpY2FsbHkgc2V0IHRvIHRoZSB7eyNjcm9zc0xpbmsgXCJzcmM6cHJvcGVydHlcIn19e3svY3Jvc3NMaW5rfX0uXG5cdFx0ICogQHByb3BlcnR5IGlkXG5cdFx0ICogQHR5cGUge1N0cmluZ31cblx0XHQgKiBAZGVmYXVsdCBudWxsXG5cdFx0ICovXG5cdFx0dGhpcy5pZCA9IG51bGw7XG5cblx0XHQvKipcblx0XHQgKiBEZXRlcm1pbmVzIGlmIGEgbWFuaWZlc3Qgd2lsbCBtYWludGFpbiB0aGUgb3JkZXIgb2YgdGhpcyBpdGVtLCBpbiByZWxhdGlvbiB0byBvdGhlciBpdGVtcyBpbiB0aGUgbWFuaWZlc3Rcblx0XHQgKiB0aGF0IGhhdmUgYWxzbyBzZXQgdGhlIGBtYWludGFpbk9yZGVyYCBwcm9wZXJ0eSB0byBgdHJ1ZWAuIFRoaXMgb25seSBhcHBsaWVzIHdoZW4gdGhlIG1heCBjb25uZWN0aW9ucyBoYXNcblx0XHQgKiBiZWVuIHNldCBhYm92ZSAxICh1c2luZyB7eyNjcm9zc0xpbmsgXCJMb2FkUXVldWUvc2V0TWF4Q29ubmVjdGlvbnNcIn19e3svY3Jvc3NMaW5rfX0pLiBFdmVyeXRoaW5nIHdpdGggdGhpc1xuXHRcdCAqIHByb3BlcnR5IHNldCB0byBgZmFsc2VgIHdpbGwgZmluaXNoIGFzIGl0IGlzIGxvYWRlZC4gT3JkZXJlZCBpdGVtcyBhcmUgY29tYmluZWQgd2l0aCBzY3JpcHQgdGFncyBsb2FkaW5nIGluXG5cdFx0ICogb3JkZXIgd2hlbiB7eyNjcm9zc0xpbmsgXCJMb2FkUXVldWUvbWFpbnRhaW5TY3JpcHRPcmRlcjpwcm9wZXJ0eVwifX17ey9jcm9zc0xpbmt9fSBpcyBzZXQgdG8gYHRydWVgLlxuXHRcdCAqIEBwcm9wZXJ0eSBtYWludGFpbk9yZGVyXG5cdFx0ICogQHR5cGUge0Jvb2xlYW59XG5cdFx0ICogQGRlZmF1bHQgZmFsc2Vcblx0XHQgKi9cblx0XHR0aGlzLm1haW50YWluT3JkZXIgPSBmYWxzZTtcblxuXHRcdC8qKlxuXHRcdCAqIEEgY2FsbGJhY2sgdXNlZCBieSBKU09OUCByZXF1ZXN0cyB0aGF0IGRlZmluZXMgd2hhdCBnbG9iYWwgbWV0aG9kIHRvIGNhbGwgd2hlbiB0aGUgSlNPTlAgY29udGVudCBpcyBsb2FkZWQuXG5cdFx0ICogQHByb3BlcnR5IGNhbGxiYWNrXG5cdFx0ICogQHR5cGUge1N0cmluZ31cblx0XHQgKiBAZGVmYXVsdCBudWxsXG5cdFx0ICovXG5cdFx0dGhpcy5jYWxsYmFjayA9IG51bGw7XG5cblx0XHQvKipcblx0XHQgKiBBbiBhcmJpdHJhcnkgZGF0YSBvYmplY3QsIHdoaWNoIGlzIGluY2x1ZGVkIHdpdGggdGhlIGxvYWRlZCBvYmplY3QuXG5cdFx0ICogQHByb3BlcnR5IGRhdGFcblx0XHQgKiBAdHlwZSB7T2JqZWN0fVxuXHRcdCAqIEBkZWZhdWx0IG51bGxcblx0XHQgKi9cblx0XHR0aGlzLmRhdGEgPSBudWxsO1xuXG5cdFx0LyoqXG5cdFx0ICogVGhlIHJlcXVlc3QgbWV0aG9kIHVzZWQgZm9yIEhUVFAgY2FsbHMuIEJvdGgge3sjY3Jvc3NMaW5rIFwiTWV0aG9kcy9HRVQ6cHJvcGVydHlcIn19e3svY3Jvc3NMaW5rfX0gb3Jcblx0XHQgKiB7eyNjcm9zc0xpbmsgXCJNZXRob2RzL1BPU1Q6cHJvcGVydHlcIn19e3svY3Jvc3NMaW5rfX0gcmVxdWVzdCB0eXBlcyBhcmUgc3VwcG9ydGVkLCBhbmQgYXJlIGRlZmluZWQgYXNcblx0XHQgKiBjb25zdGFudHMgb24ge3sjY3Jvc3NMaW5rIFwiQWJzdHJhY3RMb2FkZXJcIn19e3svY3Jvc3NMaW5rfX0uXG5cdFx0ICogQHByb3BlcnR5IG1ldGhvZFxuXHRcdCAqIEB0eXBlIHtTdHJpbmd9XG5cdFx0ICogQGRlZmF1bHQgR0VUXG5cdFx0ICovXG5cdFx0dGhpcy5tZXRob2QgPSBjcmVhdGVqcy5NZXRob2RzLkdFVDtcblxuXHRcdC8qKlxuXHRcdCAqIEFuIG9iamVjdCBoYXNoIG9mIG5hbWUvdmFsdWUgcGFpcnMgdG8gc2VuZCB0byB0aGUgc2VydmVyLlxuXHRcdCAqIEBwcm9wZXJ0eSB2YWx1ZXNcblx0XHQgKiBAdHlwZSB7T2JqZWN0fVxuXHRcdCAqIEBkZWZhdWx0IG51bGxcblx0XHQgKi9cblx0XHR0aGlzLnZhbHVlcyA9IG51bGw7XG5cblx0XHQvKipcblx0XHQgKiBBbiBvYmplY3QgaGFzaCBvZiBoZWFkZXJzIHRvIGF0dGFjaCB0byBhbiBYSFIgcmVxdWVzdC4gUHJlbG9hZEpTIHdpbGwgYXV0b21hdGljYWxseSBhdHRhY2ggc29tZSBkZWZhdWx0XG5cdFx0ICogaGVhZGVycyB3aGVuIHJlcXVpcmVkLCBpbmNsdWRpbmcgXCJPcmlnaW5cIiwgXCJDb250ZW50LVR5cGVcIiwgYW5kIFwiWC1SZXF1ZXN0ZWQtV2l0aFwiLiBZb3UgbWF5IG92ZXJyaWRlIHRoZVxuXHRcdCAqIGRlZmF1bHQgaGVhZGVycyBieSBpbmNsdWRpbmcgdGhlbSBpbiB5b3VyIGhlYWRlcnMgb2JqZWN0LlxuXHRcdCAqIEBwcm9wZXJ0eSBoZWFkZXJzXG5cdFx0ICogQHR5cGUge09iamVjdH1cblx0XHQgKiBAZGVmYXVsdCBudWxsXG5cdFx0ICovXG5cdFx0dGhpcy5oZWFkZXJzID0gbnVsbDtcblxuXHRcdC8qKlxuXHRcdCAqIEVuYWJsZSBjcmVkZW50aWFscyBmb3IgWEhSIHJlcXVlc3RzLlxuXHRcdCAqIEBwcm9wZXJ0eSB3aXRoQ3JlZGVudGlhbHNcblx0XHQgKiBAdHlwZSB7Qm9vbGVhbn1cblx0XHQgKiBAZGVmYXVsdCBmYWxzZVxuXHRcdCAqL1xuXHRcdHRoaXMud2l0aENyZWRlbnRpYWxzID0gZmFsc2U7XG5cblx0XHQvKipcblx0XHQgKiBTZXQgdGhlIG1pbWUgdHlwZSBvZiBYSFItYmFzZWQgcmVxdWVzdHMuIFRoaXMgaXMgYXV0b21hdGljYWxseSBzZXQgdG8gXCJ0ZXh0L3BsYWluOyBjaGFyc2V0PXV0Zi04XCIgZm9yIHRleHRcblx0XHQgKiBiYXNlZCBmaWxlcyAoanNvbiwgeG1sLCB0ZXh0LCBjc3MsIGpzKS5cblx0XHQgKiBAcHJvcGVydHkgbWltZVR5cGVcblx0XHQgKiBAdHlwZSB7U3RyaW5nfVxuXHRcdCAqIEBkZWZhdWx0IG51bGxcblx0XHQgKi9cblx0XHR0aGlzLm1pbWVUeXBlID0gbnVsbDtcblxuXHRcdC8qKlxuXHRcdCAqIFNldHMgdGhlIGNyb3NzT3JpZ2luIGF0dHJpYnV0ZSBmb3IgQ09SUy1lbmFibGVkIGltYWdlcyBsb2FkaW5nIGNyb3NzLWRvbWFpbi5cblx0XHQgKiBAcHJvcGVydHkgY3Jvc3NPcmlnaW5cblx0XHQgKiBAdHlwZSB7Ym9vbGVhbn1cblx0XHQgKiBAZGVmYXVsdCBBbm9ueW1vdXNcblx0XHQgKi9cblx0XHR0aGlzLmNyb3NzT3JpZ2luID0gbnVsbDtcblxuXHRcdC8qKlxuXHRcdCAqIFRoZSBkdXJhdGlvbiBpbiBtaWxsaXNlY29uZHMgdG8gd2FpdCBiZWZvcmUgYSByZXF1ZXN0IHRpbWVzIG91dC4gVGhpcyBvbmx5IGFwcGxpZXMgdG8gdGFnLWJhc2VkIGFuZCBhbmQgWEhSXG5cdFx0ICogKGxldmVsIG9uZSkgbG9hZGluZywgYXMgWEhSIChsZXZlbCAyKSBwcm92aWRlcyBpdHMgb3duIHRpbWVvdXQgZXZlbnQuXG5cdFx0ICogQHByb3BlcnR5IGxvYWRUaW1lb3V0XG5cdFx0ICogQHR5cGUge051bWJlcn1cblx0XHQgKiBAZGVmYXVsdCA4MDAwICg4IHNlY29uZHMpXG5cdFx0ICovXG5cdFx0dGhpcy5sb2FkVGltZW91dCA9IHMuTE9BRF9USU1FT1VUX0RFRkFVTFQ7XG5cdH07XG5cblx0dmFyIHAgPSBMb2FkSXRlbS5wcm90b3R5cGUgPSB7fTtcblx0dmFyIHMgPSBMb2FkSXRlbTtcblxuXHQvKipcblx0ICogRGVmYXVsdCBkdXJhdGlvbiBpbiBtaWxsaXNlY29uZHMgdG8gd2FpdCBiZWZvcmUgYSByZXF1ZXN0IHRpbWVzIG91dC4gVGhpcyBvbmx5IGFwcGxpZXMgdG8gdGFnLWJhc2VkIGFuZCBhbmQgWEhSXG5cdCAqIChsZXZlbCBvbmUpIGxvYWRpbmcsIGFzIFhIUiAobGV2ZWwgMikgcHJvdmlkZXMgaXRzIG93biB0aW1lb3V0IGV2ZW50LlxuXHQgKiBAcHJvcGVydHkgTE9BRF9USU1FT1VUX0RFRkFVTFRcblx0ICogQHR5cGUge251bWJlcn1cblx0ICogQHN0YXRpY1xuXHQgKi9cblx0cy5MT0FEX1RJTUVPVVRfREVGQVVMVCA9IDgwMDA7XG5cblx0LyoqXG5cdCAqIENyZWF0ZSBhIExvYWRJdGVtLlxuXHQgKiA8dWw+XG5cdCAqICAgICA8bGk+U3RyaW5nLWJhc2VkIGl0ZW1zIGFyZSBjb252ZXJ0ZWQgdG8gYSBMb2FkSXRlbSB3aXRoIGEgcG9wdWxhdGVkIHt7I2Nyb3NzTGluayBcInNyYzpwcm9wZXJ0eVwifX17ey9jcm9zc0xpbmt9fS48L2xpPlxuXHQgKiAgICAgPGxpPkxvYWRJdGVtIGluc3RhbmNlcyBhcmUgcmV0dXJuZWQgYXMtaXM8L2xpPlxuXHQgKiAgICAgPGxpPk9iamVjdHMgYXJlIHJldHVybmVkIHdpdGggYW55IG5lZWRlZCBwcm9wZXJ0aWVzIGFkZGVkPC9saT5cblx0ICogPC91bD5cblx0ICogQG1ldGhvZCBjcmVhdGVcblx0ICogQHBhcmFtIHtMb2FkSXRlbXxTdHJpbmd8T2JqZWN0fSB2YWx1ZSBUaGUgbG9hZCBpdGVtIHZhbHVlXG5cdCAqIEByZXR1cm5zIHtMb2FkSXRlbXxPYmplY3R9XG5cdCAqIEBzdGF0aWNcblx0ICovXG5cdHMuY3JlYXRlID0gZnVuY3Rpb24gKHZhbHVlKSB7XG5cdFx0aWYgKHR5cGVvZiB2YWx1ZSA9PSBcInN0cmluZ1wiKSB7XG5cdFx0XHR2YXIgaXRlbSA9IG5ldyBMb2FkSXRlbSgpO1xuXHRcdFx0aXRlbS5zcmMgPSB2YWx1ZTtcblx0XHRcdHJldHVybiBpdGVtO1xuXHRcdH0gZWxzZSBpZiAodmFsdWUgaW5zdGFuY2VvZiBzKSB7XG5cdFx0XHRyZXR1cm4gdmFsdWU7XG5cdFx0fSBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIE9iamVjdCAmJiB2YWx1ZS5zcmMpIHtcblx0XHRcdGlmICh2YWx1ZS5sb2FkVGltZW91dCA9PSBudWxsKSB7XG5cdFx0XHRcdHZhbHVlLmxvYWRUaW1lb3V0ID0gcy5MT0FEX1RJTUVPVVRfREVGQVVMVDtcblx0XHRcdH1cblx0XHRcdHJldHVybiB2YWx1ZTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiVHlwZSBub3QgcmVjb2duaXplZC5cIik7XG5cdFx0fVxuXHR9O1xuXG5cdC8qKlxuXHQgKiBQcm92aWRlcyBhIGNoYWluYWJsZSBzaG9ydGN1dCBtZXRob2QgZm9yIHNldHRpbmcgYSBudW1iZXIgb2YgcHJvcGVydGllcyBvbiB0aGUgaW5zdGFuY2UuXG5cdCAqXG5cdCAqIDxoND5FeGFtcGxlPC9oND5cblx0ICpcblx0ICogICAgICB2YXIgbG9hZEl0ZW0gPSBuZXcgY3JlYXRlanMuTG9hZEl0ZW0oKS5zZXQoe3NyYzpcImltYWdlLnBuZ1wiLCBtYWludGFpbk9yZGVyOnRydWV9KTtcblx0ICpcblx0ICogQG1ldGhvZCBzZXRcblx0ICogQHBhcmFtIHtPYmplY3R9IHByb3BzIEEgZ2VuZXJpYyBvYmplY3QgY29udGFpbmluZyBwcm9wZXJ0aWVzIHRvIGNvcHkgdG8gdGhlIExvYWRJdGVtIGluc3RhbmNlLlxuXHQgKiBAcmV0dXJuIHtMb2FkSXRlbX0gUmV0dXJucyB0aGUgaW5zdGFuY2UgdGhlIG1ldGhvZCBpcyBjYWxsZWQgb24gKHVzZWZ1bCBmb3IgY2hhaW5pbmcgY2FsbHMuKVxuXHQqL1xuXHRwLnNldCA9IGZ1bmN0aW9uKHByb3BzKSB7XG5cdFx0Zm9yICh2YXIgbiBpbiBwcm9wcykgeyB0aGlzW25dID0gcHJvcHNbbl07IH1cblx0XHRyZXR1cm4gdGhpcztcblx0fTtcblxuXHRjcmVhdGVqcy5Mb2FkSXRlbSA9IHM7XG5cbn0oKSk7XG5cbi8vIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXG4vLyBSZXF1ZXN0VXRpbHMuanNcbi8vIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXG5cbihmdW5jdGlvbiAoKSB7XG5cblx0LyoqXG5cdCAqIFV0aWxpdGllcyB0aGF0IGFzc2lzdCB3aXRoIHBhcnNpbmcgbG9hZCBpdGVtcywgYW5kIGRldGVybWluaW5nIGZpbGUgdHlwZXMsIGV0Yy5cblx0ICogQGNsYXNzIFJlcXVlc3RVdGlsc1xuXHQgKi9cblx0dmFyIHMgPSB7fTtcblxuXHQvKipcblx0ICogRGV0ZXJtaW5lIGlmIGEgc3BlY2lmaWMgdHlwZSBzaG91bGQgYmUgbG9hZGVkIGFzIGEgYmluYXJ5IGZpbGUuIEN1cnJlbnRseSwgb25seSBpbWFnZXMgYW5kIGl0ZW1zIG1hcmtlZFxuXHQgKiBzcGVjaWZpY2FsbHkgYXMgXCJiaW5hcnlcIiBhcmUgbG9hZGVkIGFzIGJpbmFyeS4gTm90ZSB0aGF0IGF1ZGlvIGlzIDxiPm5vdDwvYj4gYSBiaW5hcnkgdHlwZSwgYXMgd2UgY2FuIG5vdCBwbGF5XG5cdCAqIGJhY2sgdXNpbmcgYW4gYXVkaW8gdGFnIGlmIGl0IGlzIGxvYWRlZCBhcyBiaW5hcnkuIFBsdWdpbnMgY2FuIGNoYW5nZSB0aGUgaXRlbSB0eXBlIHRvIGJpbmFyeSB0byBlbnN1cmUgdGhleSBnZXRcblx0ICogYSBiaW5hcnkgcmVzdWx0IHRvIHdvcmsgd2l0aC4gQmluYXJ5IGZpbGVzIGFyZSBsb2FkZWQgdXNpbmcgWEhSMi4gVHlwZXMgYXJlIGRlZmluZWQgYXMgc3RhdGljIGNvbnN0YW50cyBvblxuXHQgKiB7eyNjcm9zc0xpbmsgXCJBYnN0cmFjdExvYWRlclwifX17ey9jcm9zc0xpbmt9fS5cblx0ICogQG1ldGhvZCBpc0JpbmFyeVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gdHlwZSBUaGUgaXRlbSB0eXBlLlxuXHQgKiBAcmV0dXJuIHtCb29sZWFufSBJZiB0aGUgc3BlY2lmaWVkIHR5cGUgaXMgYmluYXJ5LlxuXHQgKiBAc3RhdGljXG5cdCAqL1xuXHRzLmlzQmluYXJ5ID0gZnVuY3Rpb24gKHR5cGUpIHtcblx0XHRzd2l0Y2ggKHR5cGUpIHtcblx0XHRcdGNhc2UgY3JlYXRlanMuVHlwZXMuSU1BR0U6XG5cdFx0XHRjYXNlIGNyZWF0ZWpzLlR5cGVzLkJJTkFSWTpcblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXHR9O1xuXG5cdC8qKlxuXHQgKiBEZXRlcm1pbmUgaWYgYSBzcGVjaWZpYyB0eXBlIGlzIGEgdGV4dC1iYXNlZCBhc3NldCwgYW5kIHNob3VsZCBiZSBsb2FkZWQgYXMgVVRGLTguXG5cdCAqIEBtZXRob2QgaXNUZXh0XG5cdCAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlIFRoZSBpdGVtIHR5cGUuXG5cdCAqIEByZXR1cm4ge0Jvb2xlYW59IElmIHRoZSBzcGVjaWZpZWQgdHlwZSBpcyB0ZXh0LlxuXHQgKiBAc3RhdGljXG5cdCAqL1xuXHRzLmlzVGV4dCA9IGZ1bmN0aW9uICh0eXBlKSB7XG5cdFx0c3dpdGNoICh0eXBlKSB7XG5cdFx0XHRjYXNlIGNyZWF0ZWpzLlR5cGVzLlRFWFQ6XG5cdFx0XHRjYXNlIGNyZWF0ZWpzLlR5cGVzLkpTT046XG5cdFx0XHRjYXNlIGNyZWF0ZWpzLlR5cGVzLk1BTklGRVNUOlxuXHRcdFx0Y2FzZSBjcmVhdGVqcy5UeXBlcy5YTUw6XG5cdFx0XHRjYXNlIGNyZWF0ZWpzLlR5cGVzLkNTUzpcblx0XHRcdGNhc2UgY3JlYXRlanMuVHlwZXMuU1ZHOlxuXHRcdFx0Y2FzZSBjcmVhdGVqcy5UeXBlcy5KQVZBU0NSSVBUOlxuXHRcdFx0Y2FzZSBjcmVhdGVqcy5UeXBlcy5TUFJJVEVTSEVFVDpcblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXHR9O1xuXG5cdC8qKlxuXHQgKiBEZXRlcm1pbmUgdGhlIHR5cGUgb2YgdGhlIG9iamVjdCB1c2luZyBjb21tb24gZXh0ZW5zaW9ucy4gTm90ZSB0aGF0IHRoZSB0eXBlIGNhbiBiZSBwYXNzZWQgaW4gd2l0aCB0aGUgbG9hZCBpdGVtXG5cdCAqIGlmIGl0IGlzIGFuIHVudXN1YWwgZXh0ZW5zaW9uLlxuXHQgKiBAbWV0aG9kIGdldFR5cGVCeUV4dGVuc2lvblxuXHQgKiBAcGFyYW0ge1N0cmluZ30gZXh0ZW5zaW9uIFRoZSBmaWxlIGV4dGVuc2lvbiB0byB1c2UgdG8gZGV0ZXJtaW5lIHRoZSBsb2FkIHR5cGUuXG5cdCAqIEByZXR1cm4ge1N0cmluZ30gVGhlIGRldGVybWluZWQgbG9hZCB0eXBlIChmb3IgZXhhbXBsZSwgYGNyZWF0ZWpzLlR5cGVzLklNQUdFYCkuIFdpbGwgcmV0dXJuIGBudWxsYCBpZlxuXHQgKiB0aGUgdHlwZSBjYW4gbm90IGJlIGRldGVybWluZWQgYnkgdGhlIGV4dGVuc2lvbi5cblx0ICogQHN0YXRpY1xuXHQgKi9cblx0cy5nZXRUeXBlQnlFeHRlbnNpb24gPSBmdW5jdGlvbiAoZXh0ZW5zaW9uKSB7XG5cdFx0aWYgKGV4dGVuc2lvbiA9PSBudWxsKSB7XG5cdFx0XHRyZXR1cm4gY3JlYXRlanMuVHlwZXMuVEVYVDtcblx0XHR9XG5cblx0XHRzd2l0Y2ggKGV4dGVuc2lvbi50b0xvd2VyQ2FzZSgpKSB7XG5cdFx0XHRjYXNlIFwianBlZ1wiOlxuXHRcdFx0Y2FzZSBcImpwZ1wiOlxuXHRcdFx0Y2FzZSBcImdpZlwiOlxuXHRcdFx0Y2FzZSBcInBuZ1wiOlxuXHRcdFx0Y2FzZSBcIndlYnBcIjpcblx0XHRcdGNhc2UgXCJibXBcIjpcblx0XHRcdFx0cmV0dXJuIGNyZWF0ZWpzLlR5cGVzLklNQUdFO1xuXHRcdFx0Y2FzZSBcIm9nZ1wiOlxuXHRcdFx0Y2FzZSBcIm1wM1wiOlxuXHRcdFx0Y2FzZSBcIndlYm1cIjpcblx0XHRcdFx0cmV0dXJuIGNyZWF0ZWpzLlR5cGVzLlNPVU5EO1xuXHRcdFx0Y2FzZSBcIm1wNFwiOlxuXHRcdFx0Y2FzZSBcIndlYm1cIjpcblx0XHRcdGNhc2UgXCJ0c1wiOlxuXHRcdFx0XHRyZXR1cm4gY3JlYXRlanMuVHlwZXMuVklERU87XG5cdFx0XHRjYXNlIFwianNvblwiOlxuXHRcdFx0XHRyZXR1cm4gY3JlYXRlanMuVHlwZXMuSlNPTjtcblx0XHRcdGNhc2UgXCJ4bWxcIjpcblx0XHRcdFx0cmV0dXJuIGNyZWF0ZWpzLlR5cGVzLlhNTDtcblx0XHRcdGNhc2UgXCJjc3NcIjpcblx0XHRcdFx0cmV0dXJuIGNyZWF0ZWpzLlR5cGVzLkNTUztcblx0XHRcdGNhc2UgXCJqc1wiOlxuXHRcdFx0XHRyZXR1cm4gY3JlYXRlanMuVHlwZXMuSkFWQVNDUklQVDtcblx0XHRcdGNhc2UgJ3N2Zyc6XG5cdFx0XHRcdHJldHVybiBjcmVhdGVqcy5UeXBlcy5TVkc7XG5cdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRyZXR1cm4gY3JlYXRlanMuVHlwZXMuVEVYVDtcblx0XHR9XG5cdH07XG5cblx0Y3JlYXRlanMuUmVxdWVzdFV0aWxzID0gcztcblxufSgpKTtcblxuLy8jIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyNcbi8vIEFic3RyYWN0TG9hZGVyLmpzXG4vLyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI1xuXG4oZnVuY3Rpb24gKCkge1xuXHRcInVzZSBzdHJpY3RcIjtcblxuLy8gY29uc3RydWN0b3Jcblx0LyoqXG5cdCAqIFRoZSBiYXNlIGxvYWRlciwgd2hpY2ggZGVmaW5lcyBhbGwgdGhlIGdlbmVyaWMgbWV0aG9kcywgcHJvcGVydGllcywgYW5kIGV2ZW50cy4gQWxsIGxvYWRlcnMgZXh0ZW5kIHRoaXMgY2xhc3MsXG5cdCAqIGluY2x1ZGluZyB0aGUge3sjY3Jvc3NMaW5rIFwiTG9hZFF1ZXVlXCJ9fXt7L2Nyb3NzTGlua319LlxuXHQgKiBAY2xhc3MgQWJzdHJhY3RMb2FkZXJcblx0ICogQHBhcmFtIHtMb2FkSXRlbXxvYmplY3R8c3RyaW5nfSBsb2FkSXRlbSBUaGUgaXRlbSB0byBiZSBsb2FkZWQuXG5cdCAqIEBwYXJhbSB7Qm9vbGVhbn0gW3ByZWZlclhIUl0gRGV0ZXJtaW5lcyBpZiB0aGUgTG9hZEl0ZW0gc2hvdWxkIDxlbT50cnk8L2VtPiBhbmQgbG9hZCB1c2luZyBYSFIsIG9yIHRha2UgYVxuXHQgKiB0YWctYmFzZWQgYXBwcm9hY2gsIHdoaWNoIGNhbiBiZSBiZXR0ZXIgaW4gY3Jvc3MtZG9tYWluIHNpdHVhdGlvbnMuIE5vdCBhbGwgbG9hZGVycyBjYW4gbG9hZCB1c2luZyBvbmUgb3IgdGhlXG5cdCAqIG90aGVyLCBzbyB0aGlzIGlzIGEgc3VnZ2VzdGVkIGRpcmVjdGl2ZS5cblx0ICogQHBhcmFtIHtTdHJpbmd9IFt0eXBlXSBUaGUgdHlwZSBvZiBsb2FkZXIuIExvYWRlciB0eXBlcyBhcmUgZGVmaW5lZCBhcyBjb25zdGFudHMgb24gdGhlIEFic3RyYWN0TG9hZGVyIGNsYXNzLFxuXHQgKiBzdWNoIGFzIHt7I2Nyb3NzTGluayBcIklNQUdFOnByb3BlcnR5XCJ9fXt7L2Nyb3NzTGlua319LCB7eyNjcm9zc0xpbmsgXCJDU1M6cHJvcGVydHlcIn19e3svY3Jvc3NMaW5rfX0sIGV0Yy5cblx0ICogQGV4dGVuZHMgRXZlbnREaXNwYXRjaGVyXG5cdCAqL1xuXHRmdW5jdGlvbiBBYnN0cmFjdExvYWRlcihsb2FkSXRlbSwgcHJlZmVyWEhSLCB0eXBlKSB7XG5cdFx0dGhpcy5FdmVudERpc3BhdGNoZXJfY29uc3RydWN0b3IoKTtcblxuXHRcdC8vIHB1YmxpYyBwcm9wZXJ0aWVzXG5cdFx0LyoqXG5cdFx0ICogSWYgdGhlIGxvYWRlciBoYXMgY29tcGxldGVkIGxvYWRpbmcuIFRoaXMgcHJvdmlkZXMgYSBxdWljayBjaGVjaywgYnV0IGFsc28gZW5zdXJlcyB0aGF0IHRoZSBkaWZmZXJlbnQgYXBwcm9hY2hlc1xuXHRcdCAqIHVzZWQgZm9yIGxvYWRpbmcgZG8gbm90IHBpbGUgdXAgcmVzdWx0aW5nIGluIG1vcmUgdGhhbiBvbmUgYGNvbXBsZXRlYCB7eyNjcm9zc0xpbmsgXCJFdmVudFwifX17ey9jcm9zc0xpbmt9fS5cblx0XHQgKiBAcHJvcGVydHkgbG9hZGVkXG5cdFx0ICogQHR5cGUge0Jvb2xlYW59XG5cdFx0ICogQGRlZmF1bHQgZmFsc2Vcblx0XHQgKi9cblx0XHR0aGlzLmxvYWRlZCA9IGZhbHNlO1xuXG5cdFx0LyoqXG5cdFx0ICogRGV0ZXJtaW5lIGlmIHRoZSBsb2FkZXIgd2FzIGNhbmNlbGVkLiBDYW5jZWxlZCBsb2FkcyB3aWxsIG5vdCBmaXJlIGNvbXBsZXRlIGV2ZW50cy4gTm90ZSB0aGF0IHRoaXMgcHJvcGVydHlcblx0XHQgKiBpcyByZWFkb25seSwgc28ge3sjY3Jvc3NMaW5rIFwiTG9hZFF1ZXVlXCJ9fXt7L2Nyb3NzTGlua319IHF1ZXVlcyBzaG91bGQgYmUgY2xvc2VkIHVzaW5nIHt7I2Nyb3NzTGluayBcIkxvYWRRdWV1ZS9jbG9zZVwifX17ey9jcm9zc0xpbmt9fVxuXHRcdCAqIGluc3RlYWQuXG5cdFx0ICogQHByb3BlcnR5IGNhbmNlbGVkXG5cdFx0ICogQHR5cGUge0Jvb2xlYW59XG5cdFx0ICogQGRlZmF1bHQgZmFsc2Vcblx0XHQgKiBAcmVhZG9ubHlcblx0XHQgKi9cblx0XHR0aGlzLmNhbmNlbGVkID0gZmFsc2U7XG5cblx0XHQvKipcblx0XHQgKiBUaGUgY3VycmVudCBsb2FkIHByb2dyZXNzIChwZXJjZW50YWdlKSBmb3IgdGhpcyBpdGVtLiBUaGlzIHdpbGwgYmUgYSBudW1iZXIgYmV0d2VlbiAwIGFuZCAxLlxuXHRcdCAqXG5cdFx0ICogPGg0PkV4YW1wbGU8L2g0PlxuXHRcdCAqXG5cdFx0ICogICAgIHZhciBxdWV1ZSA9IG5ldyBjcmVhdGVqcy5Mb2FkUXVldWUoKTtcblx0XHQgKiAgICAgcXVldWUubG9hZEZpbGUoXCJsYXJnZUltYWdlLnBuZ1wiKTtcblx0XHQgKiAgICAgcXVldWUub24oXCJwcm9ncmVzc1wiLCBmdW5jdGlvbigpIHtcblx0XHQgKiAgICAgICAgIGNvbnNvbGUubG9nKFwiUHJvZ3Jlc3M6XCIsIHF1ZXVlLnByb2dyZXNzLCBldmVudC5wcm9ncmVzcyk7XG5cdFx0ICogICAgIH0pO1xuXHRcdCAqXG5cdFx0ICogQHByb3BlcnR5IHByb2dyZXNzXG5cdFx0ICogQHR5cGUge051bWJlcn1cblx0XHQgKiBAZGVmYXVsdCAwXG5cdFx0ICovXG5cdFx0dGhpcy5wcm9ncmVzcyA9IDA7XG5cblx0XHQvKipcblx0XHQgKiBUaGUgdHlwZSBvZiBpdGVtIHRoaXMgbG9hZGVyIHdpbGwgbG9hZC4gU2VlIHt7I2Nyb3NzTGluayBcIkFic3RyYWN0TG9hZGVyXCJ9fXt7L2Nyb3NzTGlua319IGZvciBhIGZ1bGwgbGlzdCBvZlxuXHRcdCAqIHN1cHBvcnRlZCB0eXBlcy5cblx0XHQgKiBAcHJvcGVydHkgdHlwZVxuXHRcdCAqIEB0eXBlIHtTdHJpbmd9XG5cdFx0ICovXG5cdFx0dGhpcy50eXBlID0gdHlwZTtcblxuXHRcdC8qKlxuXHRcdCAqIEEgZm9ybWF0dGVyIGZ1bmN0aW9uIHRoYXQgY29udmVydHMgdGhlIGxvYWRlZCByYXcgcmVzdWx0IGludG8gdGhlIGZpbmFsIHJlc3VsdC4gRm9yIGV4YW1wbGUsIHRoZSBKU09OTG9hZGVyXG5cdFx0ICogY29udmVydHMgYSBzdHJpbmcgb2YgdGV4dCBpbnRvIGEgSmF2YVNjcmlwdCBvYmplY3QuIE5vdCBhbGwgbG9hZGVycyBoYXZlIGEgcmVzdWx0Rm9ybWF0dGVyLCBhbmQgdGhpcyBwcm9wZXJ0eVxuXHRcdCAqIGNhbiBiZSBvdmVycmlkZGVuIHRvIHByb3ZpZGUgY3VzdG9tIGZvcm1hdHRpbmcuXG5cdFx0ICpcblx0XHQgKiBPcHRpb25hbGx5LCBhIHJlc3VsdEZvcm1hdHRlciBjYW4gcmV0dXJuIGEgY2FsbGJhY2sgZnVuY3Rpb24gaW4gY2FzZXMgd2hlcmUgdGhlIGZvcm1hdHRpbmcgbmVlZHMgdG8gYmVcblx0XHQgKiBhc3luY2hyb25vdXMsIHN1Y2ggYXMgY3JlYXRpbmcgYSBuZXcgaW1hZ2UuIFRoZSBjYWxsYmFjayBmdW5jdGlvbiBpcyBwYXNzZWQgMiBwYXJhbWV0ZXJzLCB3aGljaCBhcmUgY2FsbGJhY2tzXG5cdFx0ICogdG8gaGFuZGxlIHN1Y2Nlc3MgYW5kIGVycm9yIGNvbmRpdGlvbnMgaW4gdGhlIHJlc3VsdEZvcm1hdHRlci4gTm90ZSB0aGF0IHRoZSByZXN1bHRGb3JtYXR0ZXIgbWV0aG9kIGlzXG5cdFx0ICogY2FsbGVkIGluIHRoZSBjdXJyZW50IHNjb3BlLCBhcyB3ZWxsIGFzIHRoZSBzdWNjZXNzIGFuZCBlcnJvciBjYWxsYmFja3MuXG5cdFx0ICpcblx0XHQgKiA8aDQ+RXhhbXBsZSBhc3luY2hyb25vdXMgcmVzdWx0Rm9ybWF0dGVyPC9oND5cblx0XHQgKlxuXHRcdCAqIFx0ZnVuY3Rpb24gX2Zvcm1hdFJlc3VsdChsb2FkZXIpIHtcblx0XHQgKiBcdFx0cmV0dXJuIGZ1bmN0aW9uKHN1Y2Nlc3MsIGVycm9yKSB7XG5cdFx0ICogXHRcdFx0aWYgKGVycm9yQ29uZGl0aW9uKSB7IGVycm9yKGVycm9yRGV0YWlsRXZlbnQpOyB9XG5cdFx0ICogXHRcdFx0c3VjY2VzcyhyZXN1bHQpO1xuXHRcdCAqIFx0XHR9XG5cdFx0ICogXHR9XG5cdFx0ICogQHByb3BlcnR5IHJlc3VsdEZvcm1hdHRlclxuXHRcdCAqIEB0eXBlIHtGdW5jdGlvbn1cblx0XHQgKiBAZGVmYXVsdCBudWxsXG5cdFx0ICovXG5cdFx0dGhpcy5yZXN1bHRGb3JtYXR0ZXIgPSBudWxsO1xuXG5cdFx0Ly8gcHJvdGVjdGVkIHByb3BlcnRpZXNcblx0XHQvKipcblx0XHQgKiBUaGUge3sjY3Jvc3NMaW5rIFwiTG9hZEl0ZW1cIn19e3svY3Jvc3NMaW5rfX0gdGhpcyBsb2FkZXIgcmVwcmVzZW50cy4gTm90ZSB0aGF0IHRoaXMgaXMgbnVsbCBpbiBhIHt7I2Nyb3NzTGluayBcIkxvYWRRdWV1ZVwifX17ey9jcm9zc0xpbmt9fSxcblx0XHQgKiBidXQgd2lsbCBiZSBhdmFpbGFibGUgb24gbG9hZGVycyBzdWNoIGFzIHt7I2Nyb3NzTGluayBcIlhNTExvYWRlclwifX17ey9jcm9zc0xpbmt9fSBhbmQge3sjY3Jvc3NMaW5rIFwiSW1hZ2VMb2FkZXJcIn19e3svY3Jvc3NMaW5rfX0uXG5cdFx0ICogQHByb3BlcnR5IF9pdGVtXG5cdFx0ICogQHR5cGUge0xvYWRJdGVtfE9iamVjdH1cblx0XHQgKiBAcHJpdmF0ZVxuXHRcdCAqL1xuXHRcdGlmIChsb2FkSXRlbSkge1xuXHRcdFx0dGhpcy5faXRlbSA9IGNyZWF0ZWpzLkxvYWRJdGVtLmNyZWF0ZShsb2FkSXRlbSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMuX2l0ZW0gPSBudWxsO1xuXHRcdH1cblxuXHRcdC8qKlxuXHRcdCAqIFdoZXRoZXIgdGhlIGxvYWRlciB3aWxsIHRyeSBhbmQgbG9hZCBjb250ZW50IHVzaW5nIFhIUiAodHJ1ZSkgb3IgSFRNTCB0YWdzIChmYWxzZSkuXG5cdFx0ICogQHByb3BlcnR5IF9wcmVmZXJYSFJcblx0XHQgKiBAdHlwZSB7Qm9vbGVhbn1cblx0XHQgKiBAcHJpdmF0ZVxuXHRcdCAqL1xuXHRcdHRoaXMuX3ByZWZlclhIUiA9IHByZWZlclhIUjtcblxuXHRcdC8qKlxuXHRcdCAqIFRoZSBsb2FkZWQgcmVzdWx0IGFmdGVyIGl0IGlzIGZvcm1hdHRlZCBieSBhbiBvcHRpb25hbCB7eyNjcm9zc0xpbmsgXCJyZXN1bHRGb3JtYXR0ZXJcIn19e3svY3Jvc3NMaW5rfX0uIEZvclxuXHRcdCAqIGl0ZW1zIHRoYXQgYXJlIG5vdCBmb3JtYXR0ZWQsIHRoaXMgd2lsbCBiZSB0aGUgc2FtZSBhcyB0aGUge3sjY3Jvc3NMaW5rIFwiX3Jhd1Jlc3VsdDpwcm9wZXJ0eVwifX17ey9jcm9zc0xpbmt9fS5cblx0XHQgKiBUaGUgcmVzdWx0IGlzIGFjY2Vzc2VkIHVzaW5nIHRoZSB7eyNjcm9zc0xpbmsgXCJnZXRSZXN1bHRcIn19e3svY3Jvc3NMaW5rfX0gbWV0aG9kLlxuXHRcdCAqIEBwcm9wZXJ0eSBfcmVzdWx0XG5cdFx0ICogQHR5cGUge09iamVjdHxTdHJpbmd9XG5cdFx0ICogQHByaXZhdGVcblx0XHQgKi9cblx0XHR0aGlzLl9yZXN1bHQgPSBudWxsO1xuXG5cdFx0LyoqXG5cdFx0ICogVGhlIGxvYWRlZCByZXN1bHQgYmVmb3JlIGl0IGlzIGZvcm1hdHRlZC4gVGhlIHJhd1Jlc3VsdCBpcyBhY2Nlc3NlZCB1c2luZyB0aGUge3sjY3Jvc3NMaW5rIFwiZ2V0UmVzdWx0XCJ9fXt7L2Nyb3NzTGlua319XG5cdFx0ICogbWV0aG9kLCBhbmQgcGFzc2luZyBgdHJ1ZWAuXG5cdFx0ICogQHByb3BlcnR5IF9yYXdSZXN1bHRcblx0XHQgKiBAdHlwZSB7T2JqZWN0fFN0cmluZ31cblx0XHQgKiBAcHJpdmF0ZVxuXHRcdCAqL1xuXHRcdHRoaXMuX3Jhd1Jlc3VsdCA9IG51bGw7XG5cblx0XHQvKipcblx0XHQgKiBBIGxpc3Qgb2YgaXRlbXMgdGhhdCBsb2FkZXJzIGxvYWQgYmVoaW5kIHRoZSBzY2VuZXMuIFRoaXMgZG9lcyBub3QgaW5jbHVkZSB0aGUgbWFpbiBpdGVtIHRoZSBsb2FkZXIgaXNcblx0XHQgKiByZXNwb25zaWJsZSBmb3IgbG9hZGluZy4gRXhhbXBsZXMgb2YgbG9hZGVycyB0aGF0IGhhdmUgc3ViLWl0ZW1zIGluY2x1ZGUgdGhlIHt7I2Nyb3NzTGluayBcIlNwcml0ZVNoZWV0TG9hZGVyXCJ9fXt7L2Nyb3NzTGlua319IGFuZFxuXHRcdCAqIHt7I2Nyb3NzTGluayBcIk1hbmlmZXN0TG9hZGVyXCJ9fXt7L2Nyb3NzTGlua319LlxuXHRcdCAqIEBwcm9wZXJ0eSBfbG9hZEl0ZW1zXG5cdFx0ICogQHR5cGUge251bGx9XG5cdFx0ICogQHByb3RlY3RlZFxuXHRcdCAqL1xuXHRcdHRoaXMuX2xvYWRlZEl0ZW1zID0gbnVsbDtcblxuXHRcdC8qKlxuXHRcdCAqIFRoZSBhdHRyaWJ1dGUgdGhlIGl0ZW1zIGxvYWRlZCB1c2luZyB0YWdzIHVzZSBmb3IgdGhlIHNvdXJjZS5cblx0XHQgKiBAdHlwZSB7c3RyaW5nfVxuXHRcdCAqIEBkZWZhdWx0IG51bGxcblx0XHQgKiBAcHJpdmF0ZVxuXHRcdCAqL1xuXHRcdHRoaXMuX3RhZ1NyY0F0dHJpYnV0ZSA9IG51bGw7XG5cblx0XHQvKipcblx0XHQgKiBBbiBIVE1MIHRhZyAob3Igc2ltaWxhcikgdGhhdCBhIGxvYWRlciBtYXkgdXNlIHRvIGxvYWQgSFRNTCBjb250ZW50LCBzdWNoIGFzIGltYWdlcywgc2NyaXB0cywgZXRjLlxuXHRcdCAqIEBwcm9wZXJ0eSBfdGFnXG5cdFx0ICogQHR5cGUge09iamVjdH1cblx0XHQgKiBAcHJpdmF0ZVxuXHRcdCAqL1xuXHRcdHRoaXMuX3RhZyA9IG51bGw7XG5cdH07XG5cblx0dmFyIHAgPSBjcmVhdGVqcy5leHRlbmQoQWJzdHJhY3RMb2FkZXIsIGNyZWF0ZWpzLkV2ZW50RGlzcGF0Y2hlcik7XG5cdHZhciBzID0gQWJzdHJhY3RMb2FkZXI7XG5cblx0Ly8gUmVtb3ZlIHRoZXNlIEBkZXByZWNhdGVkIHByb3BlcnRpZXMgYWZ0ZXIgMS4wXG5cdHRyeSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnRpZXMocywge1xuXHRcdFx0UE9TVDogeyBnZXQ6IGNyZWF0ZWpzLmRlcHJlY2F0ZShmdW5jdGlvbigpIHsgcmV0dXJuIGNyZWF0ZWpzLk1ldGhvZHMuUE9TVDsgfSwgXCJBYnN0cmFjdExvYWRlci5QT1NUXCIpIH0sXG5cdFx0XHRHRVQ6IHsgZ2V0OiBjcmVhdGVqcy5kZXByZWNhdGUoZnVuY3Rpb24oKSB7IHJldHVybiBjcmVhdGVqcy5NZXRob2RzLkdFVDsgfSwgXCJBYnN0cmFjdExvYWRlci5HRVRcIikgfSxcblxuXHRcdFx0QklOQVJZOiB7IGdldDogY3JlYXRlanMuZGVwcmVjYXRlKGZ1bmN0aW9uKCkgeyByZXR1cm4gY3JlYXRlanMuVHlwZXMuQklOQVJZOyB9LCBcIkFic3RyYWN0TG9hZGVyLkJJTkFSWVwiKSB9LFxuXHRcdFx0Q1NTOiB7IGdldDogY3JlYXRlanMuZGVwcmVjYXRlKGZ1bmN0aW9uKCkgeyByZXR1cm4gY3JlYXRlanMuVHlwZXMuQ1NTOyB9LCBcIkFic3RyYWN0TG9hZGVyLkNTU1wiKSB9LFxuXHRcdFx0Rk9OVDogeyBnZXQ6IGNyZWF0ZWpzLmRlcHJlY2F0ZShmdW5jdGlvbigpIHsgcmV0dXJuIGNyZWF0ZWpzLlR5cGVzLkZPTlQ7IH0sIFwiQWJzdHJhY3RMb2FkZXIuRk9OVFwiKSB9LFxuXHRcdFx0Rk9OVENTUzogeyBnZXQ6IGNyZWF0ZWpzLmRlcHJlY2F0ZShmdW5jdGlvbigpIHsgcmV0dXJuIGNyZWF0ZWpzLlR5cGVzLkZPTlRDU1M7IH0sIFwiQWJzdHJhY3RMb2FkZXIuRk9OVENTU1wiKSB9LFxuXHRcdFx0SU1BR0U6IHsgZ2V0OiBjcmVhdGVqcy5kZXByZWNhdGUoZnVuY3Rpb24oKSB7IHJldHVybiBjcmVhdGVqcy5UeXBlcy5JTUFHRTsgfSwgXCJBYnN0cmFjdExvYWRlci5JTUFHRVwiKSB9LFxuXHRcdFx0SkFWQVNDUklQVDogeyBnZXQ6IGNyZWF0ZWpzLmRlcHJlY2F0ZShmdW5jdGlvbigpIHsgcmV0dXJuIGNyZWF0ZWpzLlR5cGVzLkpBVkFTQ1JJUFQ7IH0sIFwiQWJzdHJhY3RMb2FkZXIuSkFWQVNDUklQVFwiKSB9LFxuXHRcdFx0SlNPTjogeyBnZXQ6IGNyZWF0ZWpzLmRlcHJlY2F0ZShmdW5jdGlvbigpIHsgcmV0dXJuIGNyZWF0ZWpzLlR5cGVzLkpTT047IH0sIFwiQWJzdHJhY3RMb2FkZXIuSlNPTlwiKSB9LFxuXHRcdFx0SlNPTlA6IHsgZ2V0OiBjcmVhdGVqcy5kZXByZWNhdGUoZnVuY3Rpb24oKSB7IHJldHVybiBjcmVhdGVqcy5UeXBlcy5KU09OUDsgfSwgXCJBYnN0cmFjdExvYWRlci5KU09OUFwiKSB9LFxuXHRcdFx0TUFOSUZFU1Q6IHsgZ2V0OiBjcmVhdGVqcy5kZXByZWNhdGUoZnVuY3Rpb24oKSB7IHJldHVybiBjcmVhdGVqcy5UeXBlcy5NQU5JRkVTVDsgfSwgXCJBYnN0cmFjdExvYWRlci5NQU5JRkVTVFwiKSB9LFxuXHRcdFx0U09VTkQ6IHsgZ2V0OiBjcmVhdGVqcy5kZXByZWNhdGUoZnVuY3Rpb24oKSB7IHJldHVybiBjcmVhdGVqcy5UeXBlcy5TT1VORDsgfSwgXCJBYnN0cmFjdExvYWRlci5TT1VORFwiKSB9LFxuXHRcdFx0VklERU86IHsgZ2V0OiBjcmVhdGVqcy5kZXByZWNhdGUoZnVuY3Rpb24oKSB7IHJldHVybiBjcmVhdGVqcy5UeXBlcy5WSURFTzsgfSwgXCJBYnN0cmFjdExvYWRlci5WSURFT1wiKSB9LFxuXHRcdFx0U1BSSVRFU0hFRVQ6IHsgZ2V0OiBjcmVhdGVqcy5kZXByZWNhdGUoZnVuY3Rpb24oKSB7IHJldHVybiBjcmVhdGVqcy5UeXBlcy5TUFJJVEVTSEVFVDsgfSwgXCJBYnN0cmFjdExvYWRlci5TUFJJVEVTSEVFVFwiKSB9LFxuXHRcdFx0U1ZHOiB7IGdldDogY3JlYXRlanMuZGVwcmVjYXRlKGZ1bmN0aW9uKCkgeyByZXR1cm4gY3JlYXRlanMuVHlwZXMuU1ZHOyB9LCBcIkFic3RyYWN0TG9hZGVyLlNWR1wiKSB9LFxuXHRcdFx0VEVYVDogeyBnZXQ6IGNyZWF0ZWpzLmRlcHJlY2F0ZShmdW5jdGlvbigpIHsgcmV0dXJuIGNyZWF0ZWpzLlR5cGVzLlRFWFQ7IH0sIFwiQWJzdHJhY3RMb2FkZXIuVEVYVFwiKSB9LFxuXHRcdFx0WE1MOiB7IGdldDogY3JlYXRlanMuZGVwcmVjYXRlKGZ1bmN0aW9uKCkgeyByZXR1cm4gY3JlYXRlanMuVHlwZXMuWE1MOyB9LCBcIkFic3RyYWN0TG9hZGVyLlhNTFwiKSB9XG5cdFx0fSk7XG5cdH0gY2F0Y2ggKGUpIHt9XG5cbi8vIEV2ZW50c1xuXHQvKipcblx0ICogVGhlIHt7I2Nyb3NzTGluayBcIlByb2dyZXNzRXZlbnRcIn19e3svY3Jvc3NMaW5rfX0gdGhhdCBpcyBmaXJlZCB3aGVuIHRoZSBvdmVyYWxsIHByb2dyZXNzIGNoYW5nZXMuIFByaW9yIHRvXG5cdCAqIHZlcnNpb24gMC42LjAsIHRoaXMgd2FzIGp1c3QgYSByZWd1bGFyIHt7I2Nyb3NzTGluayBcIkV2ZW50XCJ9fXt7L2Nyb3NzTGlua319LlxuXHQgKiBAZXZlbnQgcHJvZ3Jlc3Ncblx0ICogQHNpbmNlIDAuMy4wXG5cdCAqL1xuXG5cdC8qKlxuXHQgKiBUaGUge3sjY3Jvc3NMaW5rIFwiRXZlbnRcIn19e3svY3Jvc3NMaW5rfX0gdGhhdCBpcyBmaXJlZCB3aGVuIGEgbG9hZCBzdGFydHMuXG5cdCAqIEBldmVudCBsb2Fkc3RhcnRcblx0ICogQHBhcmFtIHtPYmplY3R9IHRhcmdldCBUaGUgb2JqZWN0IHRoYXQgZGlzcGF0Y2hlZCB0aGUgZXZlbnQuXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlIFRoZSBldmVudCB0eXBlLlxuXHQgKiBAc2luY2UgMC4zLjFcblx0ICovXG5cblx0LyoqXG5cdCAqIFRoZSB7eyNjcm9zc0xpbmsgXCJFdmVudFwifX17ey9jcm9zc0xpbmt9fSB0aGF0IGlzIGZpcmVkIHdoZW4gdGhlIGVudGlyZSBxdWV1ZSBoYXMgYmVlbiBsb2FkZWQuXG5cdCAqIEBldmVudCBjb21wbGV0ZVxuXHQgKiBAcGFyYW0ge09iamVjdH0gdGFyZ2V0IFRoZSBvYmplY3QgdGhhdCBkaXNwYXRjaGVkIHRoZSBldmVudC5cblx0ICogQHBhcmFtIHtTdHJpbmd9IHR5cGUgVGhlIGV2ZW50IHR5cGUuXG5cdCAqIEBzaW5jZSAwLjMuMFxuXHQgKi9cblxuXHQvKipcblx0ICogVGhlIHt7I2Nyb3NzTGluayBcIkVycm9yRXZlbnRcIn19e3svY3Jvc3NMaW5rfX0gdGhhdCBpcyBmaXJlZCB3aGVuIHRoZSBsb2FkZXIgZW5jb3VudGVycyBhbiBlcnJvci4gSWYgdGhlIGVycm9yIHdhc1xuXHQgKiBlbmNvdW50ZXJlZCBieSBhIGZpbGUsIHRoZSBldmVudCB3aWxsIGNvbnRhaW4gdGhlIGl0ZW0gdGhhdCBjYXVzZWQgdGhlIGVycm9yLiBQcmlvciB0byB2ZXJzaW9uIDAuNi4wLCB0aGlzIHdhc1xuXHQgKiBqdXN0IGEgcmVndWxhciB7eyNjcm9zc0xpbmsgXCJFdmVudFwifX17ey9jcm9zc0xpbmt9fS5cblx0ICogQGV2ZW50IGVycm9yXG5cdCAqIEBzaW5jZSAwLjMuMFxuXHQgKi9cblxuXHQvKipcblx0ICogVGhlIHt7I2Nyb3NzTGluayBcIkV2ZW50XCJ9fXt7L2Nyb3NzTGlua319IHRoYXQgaXMgZmlyZWQgd2hlbiB0aGUgbG9hZGVyIGVuY291bnRlcnMgYW4gaW50ZXJuYWwgZmlsZSBsb2FkIGVycm9yLlxuXHQgKiBUaGlzIGVuYWJsZXMgbG9hZGVycyB0byBtYWludGFpbiBpbnRlcm5hbCBxdWV1ZXMsIGFuZCBzdXJmYWNlIGZpbGUgbG9hZCBlcnJvcnMuXG5cdCAqIEBldmVudCBmaWxlZXJyb3Jcblx0ICogQHBhcmFtIHtPYmplY3R9IHRhcmdldCBUaGUgb2JqZWN0IHRoYXQgZGlzcGF0Y2hlZCB0aGUgZXZlbnQuXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlIFRoZSBldmVudCB0eXBlIChcImZpbGVlcnJvclwiKVxuXHQgKiBAcGFyYW0ge0xvYWRJdGVtfG9iamVjdH0gVGhlIGl0ZW0gdGhhdCBlbmNvdW50ZXJlZCB0aGUgZXJyb3Jcblx0ICogQHNpbmNlIDAuNi4wXG5cdCAqL1xuXG5cdC8qKlxuXHQgKiBUaGUge3sjY3Jvc3NMaW5rIFwiRXZlbnRcIn19e3svY3Jvc3NMaW5rfX0gdGhhdCBpcyBmaXJlZCB3aGVuIGEgbG9hZGVyIGludGVybmFsbHkgbG9hZHMgYSBmaWxlLiBUaGlzIGVuYWJsZXNcblx0ICogbG9hZGVycyBzdWNoIGFzIHt7I2Nyb3NzTGluayBcIk1hbmlmZXN0TG9hZGVyXCJ9fXt7L2Nyb3NzTGlua319IHRvIG1haW50YWluIGludGVybmFsIHt7I2Nyb3NzTGluayBcIkxvYWRRdWV1ZVwifX17ey9jcm9zc0xpbmt9fXNcblx0ICogYW5kIG5vdGlmeSB3aGVuIHRoZXkgaGF2ZSBsb2FkZWQgYSBmaWxlLiBUaGUge3sjY3Jvc3NMaW5rIFwiTG9hZFF1ZXVlXCJ9fXt7L2Nyb3NzTGlua319IGNsYXNzIGRpc3BhdGNoZXMgYVxuXHQgKiBzbGlnaHRseSBkaWZmZXJlbnQge3sjY3Jvc3NMaW5rIFwiTG9hZFF1ZXVlL2ZpbGVsb2FkOmV2ZW50XCJ9fXt7L2Nyb3NzTGlua319IGV2ZW50LlxuXHQgKiBAZXZlbnQgZmlsZWxvYWRcblx0ICogQHBhcmFtIHtPYmplY3R9IHRhcmdldCBUaGUgb2JqZWN0IHRoYXQgZGlzcGF0Y2hlZCB0aGUgZXZlbnQuXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlIFRoZSBldmVudCB0eXBlIChcImZpbGVsb2FkXCIpXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBpdGVtIFRoZSBmaWxlIGl0ZW0gd2hpY2ggd2FzIHNwZWNpZmllZCBpbiB0aGUge3sjY3Jvc3NMaW5rIFwiTG9hZFF1ZXVlL2xvYWRGaWxlXCJ9fXt7L2Nyb3NzTGlua319XG5cdCAqIG9yIHt7I2Nyb3NzTGluayBcIkxvYWRRdWV1ZS9sb2FkTWFuaWZlc3RcIn19e3svY3Jvc3NMaW5rfX0gY2FsbC4gSWYgb25seSBhIHN0cmluZyBwYXRoIG9yIHRhZyB3YXMgc3BlY2lmaWVkLCB0aGVcblx0ICogb2JqZWN0IHdpbGwgY29udGFpbiB0aGF0IHZhbHVlIGFzIGEgYHNyY2AgcHJvcGVydHkuXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSByZXN1bHQgVGhlIEhUTUwgdGFnIG9yIHBhcnNlZCByZXN1bHQgb2YgdGhlIGxvYWRlZCBpdGVtLlxuXHQgKiBAcGFyYW0ge09iamVjdH0gcmF3UmVzdWx0IFRoZSB1bnByb2Nlc3NlZCByZXN1bHQsIHVzdWFsbHkgdGhlIHJhdyB0ZXh0IG9yIGJpbmFyeSBkYXRhIGJlZm9yZSBpdCBpcyBjb252ZXJ0ZWRcblx0ICogdG8gYSB1c2FibGUgb2JqZWN0LlxuXHQgKiBAc2luY2UgMC42LjBcblx0ICovXG5cblx0LyoqXG5cdCAqIFRoZSB7eyNjcm9zc0xpbmsgXCJFdmVudFwifX17ey9jcm9zc0xpbmt9fSB0aGF0IGlzIGZpcmVkIGFmdGVyIHRoZSBpbnRlcm5hbCByZXF1ZXN0IGlzIGNyZWF0ZWQsIGJ1dCBiZWZvcmUgYSBsb2FkLlxuXHQgKiBUaGlzIGFsbG93cyB1cGRhdGVzIHRvIHRoZSBsb2FkZXIgZm9yIHNwZWNpZmljIGxvYWRpbmcgbmVlZHMsIHN1Y2ggYXMgYmluYXJ5IG9yIFhIUiBpbWFnZSBsb2FkaW5nLlxuXHQgKiBAZXZlbnQgaW5pdGlhbGl6ZVxuXHQgKiBAcGFyYW0ge09iamVjdH0gdGFyZ2V0IFRoZSBvYmplY3QgdGhhdCBkaXNwYXRjaGVkIHRoZSBldmVudC5cblx0ICogQHBhcmFtIHtTdHJpbmd9IHR5cGUgVGhlIGV2ZW50IHR5cGUgKFwiaW5pdGlhbGl6ZVwiKVxuXHQgKiBAcGFyYW0ge0Fic3RyYWN0TG9hZGVyfSBsb2FkZXIgVGhlIGxvYWRlciB0aGF0IGhhcyBiZWVuIGluaXRpYWxpemVkLlxuXHQgKi9cblxuXG5cdC8qKlxuXHQgKiBHZXQgYSByZWZlcmVuY2UgdG8gdGhlIG1hbmlmZXN0IGl0ZW0gdGhhdCBpcyBsb2FkZWQgYnkgdGhpcyBsb2FkZXIuIEluIHNvbWUgY2FzZXMgdGhpcyB3aWxsIGJlIHRoZSB2YWx1ZSB0aGF0IHdhc1xuXHQgKiBwYXNzZWQgaW50byB7eyNjcm9zc0xpbmsgXCJMb2FkUXVldWVcIn19e3svY3Jvc3NMaW5rfX0gdXNpbmcge3sjY3Jvc3NMaW5rIFwiTG9hZFF1ZXVlL2xvYWRGaWxlXCJ9fXt7L2Nyb3NzTGlua319IG9yXG5cdCAqIHt7I2Nyb3NzTGluayBcIkxvYWRRdWV1ZS9sb2FkTWFuaWZlc3RcIn19e3svY3Jvc3NMaW5rfX0uIEhvd2V2ZXIgaWYgb25seSBhIFN0cmluZyBwYXRoIHdhcyBwYXNzZWQgaW4sIHRoZW4gaXQgd2lsbFxuXHQgKiBiZSBhIHt7I2Nyb3NzTGluayBcIkxvYWRJdGVtXCJ9fXt7L2Nyb3NzTGlua319LlxuXHQgKiBAbWV0aG9kIGdldEl0ZW1cblx0ICogQHJldHVybiB7T2JqZWN0fSBUaGUgbWFuaWZlc3QgaXRlbSB0aGF0IHRoaXMgbG9hZGVyIGlzIHJlc3BvbnNpYmxlIGZvciBsb2FkaW5nLlxuXHQgKiBAc2luY2UgMC42LjBcblx0ICovXG5cdHAuZ2V0SXRlbSA9IGZ1bmN0aW9uICgpIHtcblx0XHRyZXR1cm4gdGhpcy5faXRlbTtcblx0fTtcblxuXHQvKipcblx0ICogR2V0IGEgcmVmZXJlbmNlIHRvIHRoZSBjb250ZW50IHRoYXQgd2FzIGxvYWRlZCBieSB0aGUgbG9hZGVyIChvbmx5IGF2YWlsYWJsZSBhZnRlciB0aGUge3sjY3Jvc3NMaW5rIFwiY29tcGxldGU6ZXZlbnRcIn19e3svY3Jvc3NMaW5rfX1cblx0ICogZXZlbnQgaXMgZGlzcGF0Y2hlZC5cblx0ICogQG1ldGhvZCBnZXRSZXN1bHRcblx0ICogQHBhcmFtIHtCb29sZWFufSBbcmF3PWZhbHNlXSBEZXRlcm1pbmVzIGlmIHRoZSByZXR1cm5lZCByZXN1bHQgd2lsbCBiZSB0aGUgZm9ybWF0dGVkIGNvbnRlbnQsIG9yIHRoZSByYXcgbG9hZGVkXG5cdCAqIGRhdGEgKGlmIGl0IGV4aXN0cykuXG5cdCAqIEByZXR1cm4ge09iamVjdH1cblx0ICogQHNpbmNlIDAuNi4wXG5cdCAqL1xuXHRwLmdldFJlc3VsdCA9IGZ1bmN0aW9uIChyYXcpIHtcblx0XHRyZXR1cm4gcmF3ID8gdGhpcy5fcmF3UmVzdWx0IDogdGhpcy5fcmVzdWx0O1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBSZXR1cm4gdGhlIGB0YWdgIHRoaXMgb2JqZWN0IGNyZWF0ZXMgb3IgdXNlcyBmb3IgbG9hZGluZy5cblx0ICogQG1ldGhvZCBnZXRUYWdcblx0ICogQHJldHVybiB7T2JqZWN0fSBUaGUgdGFnIGluc3RhbmNlXG5cdCAqIEBzaW5jZSAwLjYuMFxuXHQgKi9cblx0cC5nZXRUYWcgPSBmdW5jdGlvbiAoKSB7XG5cdFx0cmV0dXJuIHRoaXMuX3RhZztcblx0fTtcblxuXHQvKipcblx0ICogU2V0IHRoZSBgdGFnYCB0aGlzIGl0ZW0gdXNlcyBmb3IgbG9hZGluZy5cblx0ICogQG1ldGhvZCBzZXRUYWdcblx0ICogQHBhcmFtIHtPYmplY3R9IHRhZyBUaGUgdGFnIGluc3RhbmNlXG5cdCAqIEBzaW5jZSAwLjYuMFxuXHQgKi9cblx0cC5zZXRUYWcgPSBmdW5jdGlvbih0YWcpIHtcblx0ICB0aGlzLl90YWcgPSB0YWc7XG5cdH07XG5cblx0LyoqXG5cdCAqIEJlZ2luIGxvYWRpbmcgdGhlIGl0ZW0uIFRoaXMgbWV0aG9kIGlzIHJlcXVpcmVkIHdoZW4gdXNpbmcgYSBsb2FkZXIgYnkgaXRzZWxmLlxuXHQgKlxuXHQgKiA8aDQ+RXhhbXBsZTwvaDQ+XG5cdCAqXG5cdCAqICAgICAgdmFyIHF1ZXVlID0gbmV3IGNyZWF0ZWpzLkxvYWRRdWV1ZSgpO1xuXHQgKiAgICAgIHF1ZXVlLm9uKFwiY29tcGxldGVcIiwgaGFuZGxlQ29tcGxldGUpO1xuXHQgKiAgICAgIHF1ZXVlLmxvYWRNYW5pZmVzdChmaWxlQXJyYXksIGZhbHNlKTsgLy8gTm90ZSB0aGUgMm5kIGFyZ3VtZW50IHRoYXQgdGVsbHMgdGhlIHF1ZXVlIG5vdCB0byBzdGFydCBsb2FkaW5nIHlldFxuXHQgKiAgICAgIHF1ZXVlLmxvYWQoKTtcblx0ICpcblx0ICogQG1ldGhvZCBsb2FkXG5cdCAqL1xuXHRwLmxvYWQgPSBmdW5jdGlvbiAoKSB7XG5cdFx0dGhpcy5fY3JlYXRlUmVxdWVzdCgpO1xuXG5cdFx0dGhpcy5fcmVxdWVzdC5vbihcImNvbXBsZXRlXCIsIHRoaXMsIHRoaXMpO1xuXHRcdHRoaXMuX3JlcXVlc3Qub24oXCJwcm9ncmVzc1wiLCB0aGlzLCB0aGlzKTtcblx0XHR0aGlzLl9yZXF1ZXN0Lm9uKFwibG9hZFN0YXJ0XCIsIHRoaXMsIHRoaXMpO1xuXHRcdHRoaXMuX3JlcXVlc3Qub24oXCJhYm9ydFwiLCB0aGlzLCB0aGlzKTtcblx0XHR0aGlzLl9yZXF1ZXN0Lm9uKFwidGltZW91dFwiLCB0aGlzLCB0aGlzKTtcblx0XHR0aGlzLl9yZXF1ZXN0Lm9uKFwiZXJyb3JcIiwgdGhpcywgdGhpcyk7XG5cblx0XHR2YXIgZXZ0ID0gbmV3IGNyZWF0ZWpzLkV2ZW50KFwiaW5pdGlhbGl6ZVwiKTtcblx0XHRldnQubG9hZGVyID0gdGhpcy5fcmVxdWVzdDtcblx0XHR0aGlzLmRpc3BhdGNoRXZlbnQoZXZ0KTtcblxuXHRcdHRoaXMuX3JlcXVlc3QubG9hZCgpO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBDbG9zZSB0aGUgdGhlIGl0ZW0uIFRoaXMgd2lsbCBzdG9wIGFueSBvcGVuIHJlcXVlc3RzIChhbHRob3VnaCBkb3dubG9hZHMgdXNpbmcgSFRNTCB0YWdzIG1heSBzdGlsbCBjb250aW51ZSBpblxuXHQgKiB0aGUgYmFja2dyb3VuZCksIGJ1dCBldmVudHMgd2lsbCBub3QgbG9uZ2VyIGJlIGRpc3BhdGNoZWQuXG5cdCAqIEBtZXRob2QgY2FuY2VsXG5cdCAqL1xuXHRwLmNhbmNlbCA9IGZ1bmN0aW9uICgpIHtcblx0XHR0aGlzLmNhbmNlbGVkID0gdHJ1ZTtcblx0XHR0aGlzLmRlc3Ryb3koKTtcblx0fTtcblxuXHQvKipcblx0ICogQ2xlYW4gdXAgdGhlIGxvYWRlci5cblx0ICogQG1ldGhvZCBkZXN0cm95XG5cdCAqL1xuXHRwLmRlc3Ryb3kgPSBmdW5jdGlvbigpIHtcblx0XHRpZiAodGhpcy5fcmVxdWVzdCkge1xuXHRcdFx0dGhpcy5fcmVxdWVzdC5yZW1vdmVBbGxFdmVudExpc3RlbmVycygpO1xuXHRcdFx0dGhpcy5fcmVxdWVzdC5kZXN0cm95KCk7XG5cdFx0fVxuXG5cdFx0dGhpcy5fcmVxdWVzdCA9IG51bGw7XG5cblx0XHR0aGlzLl9pdGVtID0gbnVsbDtcblx0XHR0aGlzLl9yYXdSZXN1bHQgPSBudWxsO1xuXHRcdHRoaXMuX3Jlc3VsdCA9IG51bGw7XG5cblx0XHR0aGlzLl9sb2FkSXRlbXMgPSBudWxsO1xuXG5cdFx0dGhpcy5yZW1vdmVBbGxFdmVudExpc3RlbmVycygpO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBHZXQgYW55IGl0ZW1zIGxvYWRlZCBpbnRlcm5hbGx5IGJ5IHRoZSBsb2FkZXIuIFRoZSBlbmFibGVzIGxvYWRlcnMgc3VjaCBhcyB7eyNjcm9zc0xpbmsgXCJNYW5pZmVzdExvYWRlclwifX17ey9jcm9zc0xpbmt9fVxuXHQgKiB0byBleHBvc2UgaXRlbXMgaXQgbG9hZHMgaW50ZXJuYWxseS5cblx0ICogQG1ldGhvZCBnZXRMb2FkZWRJdGVtc1xuXHQgKiBAcmV0dXJuIHtBcnJheX0gQSBsaXN0IG9mIHRoZSBpdGVtcyBsb2FkZWQgYnkgdGhlIGxvYWRlci5cblx0ICogQHNpbmNlIDAuNi4wXG5cdCAqL1xuXHRwLmdldExvYWRlZEl0ZW1zID0gZnVuY3Rpb24gKCkge1xuXHRcdHJldHVybiB0aGlzLl9sb2FkZWRJdGVtcztcblx0fTtcblxuXG5cdC8vIFByaXZhdGUgbWV0aG9kc1xuXHQvKipcblx0ICogQ3JlYXRlIGFuIGludGVybmFsIHJlcXVlc3QgdXNlZCBmb3IgbG9hZGluZy4gQnkgZGVmYXVsdCwgYW4ge3sjY3Jvc3NMaW5rIFwiWEhSUmVxdWVzdFwifX17ey9jcm9zc0xpbmt9fSBvclxuXHQgKiB7eyNjcm9zc0xpbmsgXCJUYWdSZXF1ZXN0XCJ9fXt7L2Nyb3NzTGlua319IGlzIGNyZWF0ZWQsIGRlcGVuZGluZyBvbiB0aGUgdmFsdWUgb2Yge3sjY3Jvc3NMaW5rIFwicHJlZmVyWEhSOnByb3BlcnR5XCJ9fXt7L2Nyb3NzTGlua319LlxuXHQgKiBPdGhlciBsb2FkZXJzIG1heSBvdmVycmlkZSB0aGlzIHRvIHVzZSBkaWZmZXJlbnQgcmVxdWVzdCB0eXBlcywgc3VjaCBhcyB7eyNjcm9zc0xpbmsgXCJNYW5pZmVzdExvYWRlclwifX17ey9jcm9zc0xpbmt9fSxcblx0ICogd2hpY2ggdXNlcyB7eyNjcm9zc0xpbmsgXCJKU09OTG9hZGVyXCJ9fXt7L2Nyb3NzTGlua319IG9yIHt7I2Nyb3NzTGluayBcIkpTT05QTG9hZGVyXCJ9fXt7L2Nyb3NzTGlua319IHVuZGVyIHRoZSBob29kLlxuXHQgKiBAbWV0aG9kIF9jcmVhdGVSZXF1ZXN0XG5cdCAqIEBwcm90ZWN0ZWRcblx0ICovXG5cdHAuX2NyZWF0ZVJlcXVlc3QgPSBmdW5jdGlvbigpIHtcblx0XHRpZiAoIXRoaXMuX3ByZWZlclhIUikge1xuXHRcdFx0dGhpcy5fcmVxdWVzdCA9IG5ldyBjcmVhdGVqcy5UYWdSZXF1ZXN0KHRoaXMuX2l0ZW0sIHRoaXMuX3RhZyB8fCB0aGlzLl9jcmVhdGVUYWcoKSwgdGhpcy5fdGFnU3JjQXR0cmlidXRlKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5fcmVxdWVzdCA9IG5ldyBjcmVhdGVqcy5YSFJSZXF1ZXN0KHRoaXMuX2l0ZW0pO1xuXHRcdH1cblx0fTtcblxuXHQvKipcblx0ICogQ3JlYXRlIHRoZSBIVE1MIHRhZyB1c2VkIGZvciBsb2FkaW5nLiBUaGlzIG1ldGhvZCBkb2VzIG5vdGhpbmcgYnkgZGVmYXVsdCwgYW5kIG5lZWRzIHRvIGJlIGltcGxlbWVudGVkXG5cdCAqIGJ5IGxvYWRlcnMgdGhhdCByZXF1aXJlIHRhZyBsb2FkaW5nLlxuXHQgKiBAbWV0aG9kIF9jcmVhdGVUYWdcblx0ICogQHBhcmFtIHtTdHJpbmd9IHNyYyBUaGUgdGFnIHNvdXJjZVxuXHQgKiBAcmV0dXJuIHtIVE1MRWxlbWVudH0gVGhlIHRhZyB0aGF0IHdhcyBjcmVhdGVkXG5cdCAqIEBwcm90ZWN0ZWRcblx0ICovXG5cdHAuX2NyZWF0ZVRhZyA9IGZ1bmN0aW9uKHNyYykgeyByZXR1cm4gbnVsbDsgfTtcblxuXHQvKipcblx0ICogRGlzcGF0Y2ggYSBsb2Fkc3RhcnQge3sjY3Jvc3NMaW5rIFwiRXZlbnRcIn19e3svY3Jvc3NMaW5rfX0uIFBsZWFzZSBzZWUgdGhlIHt7I2Nyb3NzTGluayBcIkFic3RyYWN0TG9hZGVyL2xvYWRzdGFydDpldmVudFwifX17ey9jcm9zc0xpbmt9fVxuXHQgKiBldmVudCBmb3IgZGV0YWlscyBvbiB0aGUgZXZlbnQgcGF5bG9hZC5cblx0ICogQG1ldGhvZCBfc2VuZExvYWRTdGFydFxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqL1xuXHRwLl9zZW5kTG9hZFN0YXJ0ID0gZnVuY3Rpb24gKCkge1xuXHRcdGlmICh0aGlzLl9pc0NhbmNlbGVkKCkpIHsgcmV0dXJuOyB9XG5cdFx0dGhpcy5kaXNwYXRjaEV2ZW50KFwibG9hZHN0YXJ0XCIpO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBEaXNwYXRjaCBhIHt7I2Nyb3NzTGluayBcIlByb2dyZXNzRXZlbnRcIn19e3svY3Jvc3NMaW5rfX0uXG5cdCAqIEBtZXRob2QgX3NlbmRQcm9ncmVzc1xuXHQgKiBAcGFyYW0ge051bWJlciB8IE9iamVjdH0gdmFsdWUgVGhlIHByb2dyZXNzIG9mIHRoZSBsb2FkZWQgaXRlbSwgb3IgYW4gb2JqZWN0IGNvbnRhaW5pbmcgPGNvZGU+bG9hZGVkPC9jb2RlPlxuXHQgKiBhbmQgPGNvZGU+dG90YWw8L2NvZGU+IHByb3BlcnRpZXMuXG5cdCAqIEBwcm90ZWN0ZWRcblx0ICovXG5cdHAuX3NlbmRQcm9ncmVzcyA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuXHRcdGlmICh0aGlzLl9pc0NhbmNlbGVkKCkpIHsgcmV0dXJuOyB9XG5cdFx0dmFyIGV2ZW50ID0gbnVsbDtcblx0XHRpZiAodHlwZW9mKHZhbHVlKSA9PSBcIm51bWJlclwiKSB7XG5cdFx0XHR0aGlzLnByb2dyZXNzID0gdmFsdWU7XG5cdFx0XHRldmVudCA9IG5ldyBjcmVhdGVqcy5Qcm9ncmVzc0V2ZW50KHRoaXMucHJvZ3Jlc3MpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRldmVudCA9IHZhbHVlO1xuXHRcdFx0dGhpcy5wcm9ncmVzcyA9IHZhbHVlLmxvYWRlZCAvIHZhbHVlLnRvdGFsO1xuXHRcdFx0ZXZlbnQucHJvZ3Jlc3MgPSB0aGlzLnByb2dyZXNzO1xuXHRcdFx0aWYgKGlzTmFOKHRoaXMucHJvZ3Jlc3MpIHx8IHRoaXMucHJvZ3Jlc3MgPT0gSW5maW5pdHkpIHsgdGhpcy5wcm9ncmVzcyA9IDA7IH1cblx0XHR9XG5cdFx0dGhpcy5oYXNFdmVudExpc3RlbmVyKFwicHJvZ3Jlc3NcIikgJiYgdGhpcy5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcblx0fTtcblxuXHQvKipcblx0ICogRGlzcGF0Y2ggYSBjb21wbGV0ZSB7eyNjcm9zc0xpbmsgXCJFdmVudFwifX17ey9jcm9zc0xpbmt9fS4gUGxlYXNlIHNlZSB0aGUge3sjY3Jvc3NMaW5rIFwiQWJzdHJhY3RMb2FkZXIvY29tcGxldGU6ZXZlbnRcIn19e3svY3Jvc3NMaW5rfX0gZXZlbnRcblx0ICogQG1ldGhvZCBfc2VuZENvbXBsZXRlXG5cdCAqIEBwcm90ZWN0ZWRcblx0ICovXG5cdHAuX3NlbmRDb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcblx0XHRpZiAodGhpcy5faXNDYW5jZWxlZCgpKSB7IHJldHVybjsgfVxuXG5cdFx0dGhpcy5sb2FkZWQgPSB0cnVlO1xuXG5cdFx0dmFyIGV2ZW50ID0gbmV3IGNyZWF0ZWpzLkV2ZW50KFwiY29tcGxldGVcIik7XG5cdFx0ZXZlbnQucmF3UmVzdWx0ID0gdGhpcy5fcmF3UmVzdWx0O1xuXG5cdFx0aWYgKHRoaXMuX3Jlc3VsdCAhPSBudWxsKSB7XG5cdFx0XHRldmVudC5yZXN1bHQgPSB0aGlzLl9yZXN1bHQ7XG5cdFx0fVxuXG5cdFx0dGhpcy5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcblx0fTtcblxuXHQvKipcblx0ICogRGlzcGF0Y2ggYW4gZXJyb3Ige3sjY3Jvc3NMaW5rIFwiRXZlbnRcIn19e3svY3Jvc3NMaW5rfX0uIFBsZWFzZSBzZWUgdGhlIHt7I2Nyb3NzTGluayBcIkFic3RyYWN0TG9hZGVyL2Vycm9yOmV2ZW50XCJ9fXt7L2Nyb3NzTGlua319XG5cdCAqIGV2ZW50IGZvciBkZXRhaWxzIG9uIHRoZSBldmVudCBwYXlsb2FkLlxuXHQgKiBAbWV0aG9kIF9zZW5kRXJyb3Jcblx0ICogQHBhcmFtIHtFcnJvckV2ZW50fSBldmVudCBUaGUgZXZlbnQgb2JqZWN0IGNvbnRhaW5pbmcgc3BlY2lmaWMgZXJyb3IgcHJvcGVydGllcy5cblx0ICogQHByb3RlY3RlZFxuXHQgKi9cblx0cC5fc2VuZEVycm9yID0gZnVuY3Rpb24gKGV2ZW50KSB7XG5cdFx0aWYgKHRoaXMuX2lzQ2FuY2VsZWQoKSB8fCAhdGhpcy5oYXNFdmVudExpc3RlbmVyKFwiZXJyb3JcIikpIHsgcmV0dXJuOyB9XG5cdFx0aWYgKGV2ZW50ID09IG51bGwpIHtcblx0XHRcdGV2ZW50ID0gbmV3IGNyZWF0ZWpzLkVycm9yRXZlbnQoXCJQUkVMT0FEX0VSUk9SX0VNUFRZXCIpOyAvLyBUT0RPOiBQb3B1bGF0ZSBlcnJvclxuXHRcdH1cblx0XHR0aGlzLmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBEZXRlcm1pbmUgaWYgdGhlIGxvYWQgaGFzIGJlZW4gY2FuY2VsZWQuIFRoaXMgaXMgaW1wb3J0YW50IHRvIGVuc3VyZSB0aGF0IG1ldGhvZCBjYWxscyBvciBhc3luY2hyb25vdXMgZXZlbnRzXG5cdCAqIGRvIG5vdCBjYXVzZSBpc3N1ZXMgYWZ0ZXIgdGhlIHF1ZXVlIGhhcyBiZWVuIGNsZWFuZWQgdXAuXG5cdCAqIEBtZXRob2QgX2lzQ2FuY2VsZWRcblx0ICogQHJldHVybiB7Qm9vbGVhbn0gSWYgdGhlIGxvYWRlciBoYXMgYmVlbiBjYW5jZWxlZC5cblx0ICogQHByb3RlY3RlZFxuXHQgKi9cblx0cC5faXNDYW5jZWxlZCA9IGZ1bmN0aW9uICgpIHtcblx0XHRpZiAod2luZG93LmNyZWF0ZWpzID09IG51bGwgfHwgdGhpcy5jYW5jZWxlZCkge1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXHRcdHJldHVybiBmYWxzZTtcblx0fTtcblxuXHQvKipcblx0ICogQSBjdXN0b20gcmVzdWx0IGZvcm1hdHRlciBmdW5jdGlvbiwgd2hpY2ggaXMgY2FsbGVkIGp1c3QgYmVmb3JlIGEgcmVxdWVzdCBkaXNwYXRjaGVzIGl0cyBjb21wbGV0ZSBldmVudC4gTW9zdFxuXHQgKiBsb2FkZXIgdHlwZXMgYWxyZWFkeSBoYXZlIGFuIGludGVybmFsIGZvcm1hdHRlciwgYnV0IHRoaXMgY2FuIGJlIHVzZXItb3ZlcnJpZGRlbiBmb3IgY3VzdG9tIGZvcm1hdHRpbmcuIFRoZVxuXHQgKiBmb3JtYXR0ZWQgcmVzdWx0IHdpbGwgYmUgYXZhaWxhYmxlIG9uIExvYWRlcnMgdXNpbmcge3sjY3Jvc3NMaW5rIFwiZ2V0UmVzdWx0XCJ9fXt7L2Nyb3NzTGlua319LCBhbmQgcGFzc2luZyBgdHJ1ZWAuXG5cdCAqIEBwcm9wZXJ0eSByZXN1bHRGb3JtYXR0ZXJcblx0ICogQHR5cGUgRnVuY3Rpb25cblx0ICogQHJldHVybiB7T2JqZWN0fSBUaGUgZm9ybWF0dGVkIHJlc3VsdFxuXHQgKiBAc2luY2UgMC42LjBcblx0ICovXG5cdHAucmVzdWx0Rm9ybWF0dGVyID0gbnVsbDtcblxuXHQvKipcblx0ICogSGFuZGxlIGV2ZW50cyBmcm9tIGludGVybmFsIHJlcXVlc3RzLiBCeSBkZWZhdWx0LCBsb2FkZXJzIHdpbGwgaGFuZGxlLCBhbmQgcmVkaXNwYXRjaCB0aGUgbmVjZXNzYXJ5IGV2ZW50cywgYnV0XG5cdCAqIHRoaXMgbWV0aG9kIGNhbiBiZSBvdmVycmlkZGVuIGZvciBjdXN0b20gYmVoYXZpb3Vycy5cblx0ICogQG1ldGhvZCBoYW5kbGVFdmVudFxuXHQgKiBAcGFyYW0ge0V2ZW50fSBldmVudCBUaGUgZXZlbnQgdGhhdCB0aGUgaW50ZXJuYWwgcmVxdWVzdCBkaXNwYXRjaGVzLlxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqIEBzaW5jZSAwLjYuMFxuXHQgKi9cblx0cC5oYW5kbGVFdmVudCA9IGZ1bmN0aW9uIChldmVudCkge1xuXHRcdHN3aXRjaCAoZXZlbnQudHlwZSkge1xuXHRcdFx0Y2FzZSBcImNvbXBsZXRlXCI6XG5cdFx0XHRcdHRoaXMuX3Jhd1Jlc3VsdCA9IGV2ZW50LnRhcmdldC5fcmVzcG9uc2U7XG5cdFx0XHRcdHZhciByZXN1bHQgPSB0aGlzLnJlc3VsdEZvcm1hdHRlciAmJiB0aGlzLnJlc3VsdEZvcm1hdHRlcih0aGlzKTtcblx0XHRcdFx0Ly8gVGhlIHJlc3VsdEZvcm1hdHRlciBpcyBhc3luY2hyb25vdXNcblx0XHRcdFx0aWYgKHJlc3VsdCBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7XG5cdFx0XHRcdFx0cmVzdWx0LmNhbGwodGhpcyxcblx0XHRcdFx0XHRcdFx0Y3JlYXRlanMucHJveHkodGhpcy5fcmVzdWx0Rm9ybWF0U3VjY2VzcywgdGhpcyksXG5cdFx0XHRcdFx0XHRcdGNyZWF0ZWpzLnByb3h5KHRoaXMuX3Jlc3VsdEZvcm1hdEZhaWxlZCwgdGhpcylcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHQvLyBUaGUgcmVzdWx0IGZvcm1hdHRlciBpcyBzeW5jaHJvbm91c1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHRoaXMuX3Jlc3VsdCA9ICByZXN1bHQgfHwgdGhpcy5fcmF3UmVzdWx0O1xuXHRcdFx0XHRcdHRoaXMuX3NlbmRDb21wbGV0ZSgpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSBcInByb2dyZXNzXCI6XG5cdFx0XHRcdHRoaXMuX3NlbmRQcm9ncmVzcyhldmVudCk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSBcImVycm9yXCI6XG5cdFx0XHRcdHRoaXMuX3NlbmRFcnJvcihldmVudCk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSBcImxvYWRzdGFydFwiOlxuXHRcdFx0XHR0aGlzLl9zZW5kTG9hZFN0YXJ0KCk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSBcImFib3J0XCI6XG5cdFx0XHRjYXNlIFwidGltZW91dFwiOlxuXHRcdFx0XHRpZiAoIXRoaXMuX2lzQ2FuY2VsZWQoKSkge1xuXHRcdFx0XHRcdHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgY3JlYXRlanMuRXJyb3JFdmVudChcIlBSRUxPQURfXCIgKyBldmVudC50eXBlLnRvVXBwZXJDYXNlKCkgKyBcIl9FUlJPUlwiKSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0YnJlYWs7XG5cdFx0fVxuXHR9O1xuXG5cdC8qKlxuXHQgKiBUaGUgXCJzdWNjZXNzXCIgY2FsbGJhY2sgcGFzc2VkIHRvIHt7I2Nyb3NzTGluayBcIkFic3RyYWN0TG9hZGVyL3Jlc3VsdEZvcm1hdHRlclwifX17ey9jcm9zc0xpbmt9fSBhc3luY2hyb25vdXNcblx0ICogZnVuY3Rpb25zLlxuXHQgKiBAbWV0aG9kIF9yZXN1bHRGb3JtYXRTdWNjZXNzXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSByZXN1bHQgVGhlIGZvcm1hdHRlZCByZXN1bHRcblx0ICogQHByaXZhdGVcblx0ICovXG5cdHAuX3Jlc3VsdEZvcm1hdFN1Y2Nlc3MgPSBmdW5jdGlvbiAocmVzdWx0KSB7XG5cdFx0dGhpcy5fcmVzdWx0ID0gcmVzdWx0O1xuXHRcdHRoaXMuX3NlbmRDb21wbGV0ZSgpO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBUaGUgXCJlcnJvclwiIGNhbGxiYWNrIHBhc3NlZCB0byB7eyNjcm9zc0xpbmsgXCJBYnN0cmFjdExvYWRlci9yZXN1bHRGb3JtYXR0ZXJcIn19e3svY3Jvc3NMaW5rfX0gYXN5bmNocm9ub3VzXG5cdCAqIGZ1bmN0aW9ucy5cblx0ICogQG1ldGhvZCBfcmVzdWx0Rm9ybWF0U3VjY2Vzc1xuXHQgKiBAcGFyYW0ge09iamVjdH0gZXJyb3IgVGhlIGVycm9yIGV2ZW50XG5cdCAqIEBwcml2YXRlXG5cdCAqL1xuXHRwLl9yZXN1bHRGb3JtYXRGYWlsZWQgPSBmdW5jdGlvbiAoZXZlbnQpIHtcblx0XHR0aGlzLl9zZW5kRXJyb3IoZXZlbnQpO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBAbWV0aG9kIHRvU3RyaW5nXG5cdCAqIEByZXR1cm4ge1N0cmluZ30gYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIGluc3RhbmNlLlxuXHQgKi9cblx0cC50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcblx0XHRyZXR1cm4gXCJbUHJlbG9hZEpTIEFic3RyYWN0TG9hZGVyXVwiO1xuXHR9O1xuXG5cdGNyZWF0ZWpzLkFic3RyYWN0TG9hZGVyID0gY3JlYXRlanMucHJvbW90ZShBYnN0cmFjdExvYWRlciwgXCJFdmVudERpc3BhdGNoZXJcIik7XG5cbn0oKSk7XG5cbi8vIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXG4vLyBBYnN0cmFjdE1lZGlhTG9hZGVyLmpzXG4vLyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI1xuXG4oZnVuY3Rpb24gKCkge1xuXHRcInVzZSBzdHJpY3RcIjtcblxuXHQvLyBjb25zdHJ1Y3RvclxuXHQvKipcblx0ICogVGhlIEFic3RyYWN0TWVkaWFMb2FkZXIgaXMgYSBiYXNlIGNsYXNzIHRoYXQgaGFuZGxlcyBzb21lIG9mIHRoZSBzaGFyZWQgbWV0aG9kcyBhbmQgcHJvcGVydGllcyBvZiBsb2FkZXJzIHRoYXRcblx0ICogaGFuZGxlIEhUTUwgbWVkaWEgZWxlbWVudHMsIHN1Y2ggYXMgVmlkZW8gYW5kIEF1ZGlvLlxuXHQgKiBAY2xhc3MgQWJzdHJhY3RNZWRpYUxvYWRlclxuXHQgKiBAcGFyYW0ge0xvYWRJdGVtfE9iamVjdH0gbG9hZEl0ZW1cblx0ICogQHBhcmFtIHtCb29sZWFufSBwcmVmZXJYSFJcblx0ICogQHBhcmFtIHtTdHJpbmd9IHR5cGUgVGhlIHR5cGUgb2YgbWVkaWEgdG8gbG9hZC4gVXN1YWxseSBcInZpZGVvXCIgb3IgXCJhdWRpb1wiLlxuXHQgKiBAZXh0ZW5kcyBBYnN0cmFjdExvYWRlclxuXHQgKiBAY29uc3RydWN0b3Jcblx0ICovXG5cdGZ1bmN0aW9uIEFic3RyYWN0TWVkaWFMb2FkZXIobG9hZEl0ZW0sIHByZWZlclhIUiwgdHlwZSkge1xuXHRcdHRoaXMuQWJzdHJhY3RMb2FkZXJfY29uc3RydWN0b3IobG9hZEl0ZW0sIHByZWZlclhIUiwgdHlwZSk7XG5cblx0XHQvLyBwdWJsaWMgcHJvcGVydGllc1xuXHRcdHRoaXMucmVzdWx0Rm9ybWF0dGVyID0gdGhpcy5fZm9ybWF0UmVzdWx0O1xuXG5cdFx0Ly8gcHJvdGVjdGVkIHByb3BlcnRpZXNcblx0XHR0aGlzLl90YWdTcmNBdHRyaWJ1dGUgPSBcInNyY1wiO1xuXG4gICAgICAgIHRoaXMub24oXCJpbml0aWFsaXplXCIsIHRoaXMuX3VwZGF0ZVhIUiwgdGhpcyk7XG5cdH07XG5cblx0dmFyIHAgPSBjcmVhdGVqcy5leHRlbmQoQWJzdHJhY3RNZWRpYUxvYWRlciwgY3JlYXRlanMuQWJzdHJhY3RMb2FkZXIpO1xuXG5cdC8vIHN0YXRpYyBwcm9wZXJ0aWVzXG5cdC8vIHB1YmxpYyBtZXRob2RzXG5cdHAubG9hZCA9IGZ1bmN0aW9uICgpIHtcblx0XHQvLyBUYWdSZXF1ZXN0IHdpbGwgaGFuZGxlIG1vc3Qgb2YgdGhpcywgYnV0IFNvdW5kIC8gVmlkZW8gbmVlZCBhIGZldyBjdXN0b20gcHJvcGVydGllcywgc28ganVzdCBoYW5kbGUgdGhlbSBoZXJlLlxuXHRcdGlmICghdGhpcy5fdGFnKSB7XG5cdFx0XHR0aGlzLl90YWcgPSB0aGlzLl9jcmVhdGVUYWcodGhpcy5faXRlbS5zcmMpO1xuXHRcdH1cblxuXHRcdHRoaXMuX3RhZy5wcmVsb2FkID0gXCJhdXRvXCI7XG5cdFx0dGhpcy5fdGFnLmxvYWQoKTtcblxuXHRcdHRoaXMuQWJzdHJhY3RMb2FkZXJfbG9hZCgpO1xuXHR9O1xuXG5cdC8vIHByb3RlY3RlZCBtZXRob2RzXG5cdC8qKlxuXHQgKiBDcmVhdGVzIGEgbmV3IHRhZyBmb3IgbG9hZGluZyBpZiBpdCBkb2Vzbid0IGV4aXN0IHlldC5cblx0ICogQG1ldGhvZCBfY3JlYXRlVGFnXG5cdCAqIEBwcml2YXRlXG5cdCAqL1xuXHRwLl9jcmVhdGVUYWcgPSBmdW5jdGlvbiAoKSB7fTtcblxuXG5cdHAuX2NyZWF0ZVJlcXVlc3QgPSBmdW5jdGlvbigpIHtcblx0XHRpZiAoIXRoaXMuX3ByZWZlclhIUikge1xuXHRcdFx0dGhpcy5fcmVxdWVzdCA9IG5ldyBjcmVhdGVqcy5NZWRpYVRhZ1JlcXVlc3QodGhpcy5faXRlbSwgdGhpcy5fdGFnIHx8IHRoaXMuX2NyZWF0ZVRhZygpLCB0aGlzLl90YWdTcmNBdHRyaWJ1dGUpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLl9yZXF1ZXN0ID0gbmV3IGNyZWF0ZWpzLlhIUlJlcXVlc3QodGhpcy5faXRlbSk7XG5cdFx0fVxuXHR9O1xuXG4gICAgLy8gcHJvdGVjdGVkIG1ldGhvZHNcbiAgICAvKipcbiAgICAgKiBCZWZvcmUgdGhlIGl0ZW0gbG9hZHMsIHNldCBpdHMgbWltZVR5cGUgYW5kIHJlc3BvbnNlVHlwZS5cbiAgICAgKiBAcHJvcGVydHkgX3VwZGF0ZVhIUlxuICAgICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBwLl91cGRhdGVYSFIgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgLy8gT25seSBleGlzdHMgZm9yIFhIUlxuICAgICAgICBpZiAoZXZlbnQubG9hZGVyLnNldFJlc3BvbnNlVHlwZSkge1xuICAgICAgICAgICAgZXZlbnQubG9hZGVyLnNldFJlc3BvbnNlVHlwZShcImJsb2JcIik7XG4gICAgICAgIH1cbiAgICB9O1xuXG5cdC8qKlxuXHQgKiBUaGUgcmVzdWx0IGZvcm1hdHRlciBmb3IgbWVkaWEgZmlsZXMuXG5cdCAqIEBtZXRob2QgX2Zvcm1hdFJlc3VsdFxuXHQgKiBAcGFyYW0ge0Fic3RyYWN0TG9hZGVyfSBsb2FkZXJcblx0ICogQHJldHVybnMge0hUTUxWaWRlb0VsZW1lbnR8SFRNTEF1ZGlvRWxlbWVudH1cblx0ICogQHByaXZhdGVcblx0ICovXG5cdHAuX2Zvcm1hdFJlc3VsdCA9IGZ1bmN0aW9uIChsb2FkZXIpIHtcblx0XHR0aGlzLl90YWcucmVtb3ZlRXZlbnRMaXN0ZW5lciAmJiB0aGlzLl90YWcucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNhbnBsYXl0aHJvdWdoXCIsIHRoaXMuX2xvYWRlZEhhbmRsZXIpO1xuXHRcdHRoaXMuX3RhZy5vbnN0YWxsZWQgPSBudWxsO1xuXHRcdGlmICh0aGlzLl9wcmVmZXJYSFIpIHtcbiAgICAgICAgICAgIHZhciBVUkwgPSB3aW5kb3cuVVJMIHx8IHdpbmRvdy53ZWJraXRVUkw7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gbG9hZGVyLmdldFJlc3VsdCh0cnVlKTtcblxuXHRcdFx0bG9hZGVyLmdldFRhZygpLnNyYyA9IFVSTC5jcmVhdGVPYmplY3RVUkwocmVzdWx0KTtcblx0XHR9XG5cdFx0cmV0dXJuIGxvYWRlci5nZXRUYWcoKTtcblx0fTtcblxuXHRjcmVhdGVqcy5BYnN0cmFjdE1lZGlhTG9hZGVyID0gY3JlYXRlanMucHJvbW90ZShBYnN0cmFjdE1lZGlhTG9hZGVyLCBcIkFic3RyYWN0TG9hZGVyXCIpO1xuXG59KCkpO1xuXG4vLyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI1xuLy8gQWJzdHJhY3RSZXF1ZXN0LmpzXG4vLyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI1xuXG4oZnVuY3Rpb24gKCkge1xuXHRcInVzZSBzdHJpY3RcIjtcblxuXHQvKipcblx0ICogQSBiYXNlIGNsYXNzIGZvciBhY3R1YWwgZGF0YSByZXF1ZXN0cywgc3VjaCBhcyB7eyNjcm9zc0xpbmsgXCJYSFJSZXF1ZXN0XCJ9fXt7L2Nyb3NzTGlua319LCB7eyNjcm9zc0xpbmsgXCJUYWdSZXF1ZXN0XCJ9fXt7L2Nyb3NzTGlua319LFxuXHQgKiBhbmQge3sjY3Jvc3NMaW5rIFwiTWVkaWFSZXF1ZXN0XCJ9fXt7L2Nyb3NzTGlua319LiBQcmVsb2FkSlMgbG9hZGVycyB3aWxsIHR5cGljYWxseSB1c2UgYSBkYXRhIGxvYWRlciB1bmRlciB0aGVcblx0ICogaG9vZCB0byBnZXQgZGF0YS5cblx0ICogQGNsYXNzIEFic3RyYWN0UmVxdWVzdFxuXHQgKiBAcGFyYW0ge0xvYWRJdGVtfSBpdGVtXG5cdCAqIEBjb25zdHJ1Y3RvclxuXHQgKi9cblx0dmFyIEFic3RyYWN0UmVxdWVzdCA9IGZ1bmN0aW9uIChpdGVtKSB7XG5cdFx0dGhpcy5faXRlbSA9IGl0ZW07XG5cdH07XG5cblx0dmFyIHAgPSBjcmVhdGVqcy5leHRlbmQoQWJzdHJhY3RSZXF1ZXN0LCBjcmVhdGVqcy5FdmVudERpc3BhdGNoZXIpO1xuXG5cdC8vIHB1YmxpYyBtZXRob2RzXG5cdC8qKlxuXHQgKiBCZWdpbiBhIGxvYWQuXG5cdCAqIEBtZXRob2QgbG9hZFxuXHQgKi9cblx0cC5sb2FkID0gIGZ1bmN0aW9uKCkge307XG5cblx0LyoqXG5cdCAqIENsZWFuIHVwIGEgcmVxdWVzdC5cblx0ICogQG1ldGhvZCBkZXN0cm95XG5cdCAqL1xuXHRwLmRlc3Ryb3kgPSBmdW5jdGlvbigpIHt9O1xuXG5cdC8qKlxuXHQgKiBDYW5jZWwgYW4gaW4tcHJvZ3Jlc3MgcmVxdWVzdC5cblx0ICogQG1ldGhvZCBjYW5jZWxcblx0ICovXG5cdHAuY2FuY2VsID0gZnVuY3Rpb24oKSB7fTtcblxuXHRjcmVhdGVqcy5BYnN0cmFjdFJlcXVlc3QgPSBjcmVhdGVqcy5wcm9tb3RlKEFic3RyYWN0UmVxdWVzdCwgXCJFdmVudERpc3BhdGNoZXJcIik7XG5cbn0oKSk7XG5cbi8vIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXG4vLyBUYWdSZXF1ZXN0LmpzXG4vLyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI1xuXG4oZnVuY3Rpb24gKCkge1xuXHRcInVzZSBzdHJpY3RcIjtcblxuXHQvLyBjb25zdHJ1Y3RvclxuXHQvKipcblx0ICogQW4ge3sjY3Jvc3NMaW5rIFwiQWJzdHJhY3RSZXF1ZXN0XCJ9fXt7L2Nyb3NzTGlua319IHRoYXQgbG9hZHMgSFRNTCB0YWdzLCBzdWNoIGFzIGltYWdlcyBhbmQgc2NyaXB0cy5cblx0ICogQGNsYXNzIFRhZ1JlcXVlc3Rcblx0ICogQHBhcmFtIHtMb2FkSXRlbX0gbG9hZEl0ZW1cblx0ICogQHBhcmFtIHtIVE1MRWxlbWVudH0gdGFnXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBzcmNBdHRyaWJ1dGUgVGhlIHRhZyBhdHRyaWJ1dGUgdGhhdCBzcGVjaWZpZXMgdGhlIHNvdXJjZSwgc3VjaCBhcyBcInNyY1wiLCBcImhyZWZcIiwgZXRjLlxuXHQgKi9cblx0ZnVuY3Rpb24gVGFnUmVxdWVzdChsb2FkSXRlbSwgdGFnLCBzcmNBdHRyaWJ1dGUpIHtcblx0XHR0aGlzLkFic3RyYWN0UmVxdWVzdF9jb25zdHJ1Y3Rvcihsb2FkSXRlbSk7XG5cblx0XHQvLyBwcm90ZWN0ZWQgcHJvcGVydGllc1xuXHRcdC8qKlxuXHRcdCAqIFRoZSBIVE1MIHRhZyBpbnN0YW5jZSB0aGF0IGlzIHVzZWQgdG8gbG9hZC5cblx0XHQgKiBAcHJvcGVydHkgX3RhZ1xuXHRcdCAqIEB0eXBlIHtIVE1MRWxlbWVudH1cblx0XHQgKiBAcHJvdGVjdGVkXG5cdFx0ICovXG5cdFx0dGhpcy5fdGFnID0gdGFnO1xuXG5cdFx0LyoqXG5cdFx0ICogVGhlIHRhZyBhdHRyaWJ1dGUgdGhhdCBzcGVjaWZpZXMgdGhlIHNvdXJjZSwgc3VjaCBhcyBcInNyY1wiLCBcImhyZWZcIiwgZXRjLlxuXHRcdCAqIEBwcm9wZXJ0eSBfdGFnU3JjQXR0cmlidXRlXG5cdFx0ICogQHR5cGUge1N0cmluZ31cblx0XHQgKiBAcHJvdGVjdGVkXG5cdFx0ICovXG5cdFx0dGhpcy5fdGFnU3JjQXR0cmlidXRlID0gc3JjQXR0cmlidXRlO1xuXG5cdFx0LyoqXG5cdFx0ICogQSBtZXRob2QgY2xvc3VyZSB1c2VkIGZvciBoYW5kbGluZyB0aGUgdGFnIGxvYWQgZXZlbnQuXG5cdFx0ICogQHByb3BlcnR5IF9sb2FkZWRIYW5kbGVyXG5cdFx0ICogQHR5cGUge0Z1bmN0aW9ufVxuXHRcdCAqIEBwcml2YXRlXG5cdFx0ICovXG5cdFx0dGhpcy5fbG9hZGVkSGFuZGxlciA9IGNyZWF0ZWpzLnByb3h5KHRoaXMuX2hhbmRsZVRhZ0NvbXBsZXRlLCB0aGlzKTtcblxuXHRcdC8qKlxuXHRcdCAqIERldGVybWluZXMgaWYgdGhlIGVsZW1lbnQgd2FzIGFkZGVkIHRvIHRoZSBET00gYXV0b21hdGljYWxseSBieSBQcmVsb2FkSlMsIHNvIGl0IGNhbiBiZSBjbGVhbmVkIHVwIGFmdGVyLlxuXHRcdCAqIEBwcm9wZXJ0eSBfYWRkZWRUb0RPTVxuXHRcdCAqIEB0eXBlIHtCb29sZWFufVxuXHRcdCAqIEBwcml2YXRlXG5cdFx0ICovXG5cdFx0dGhpcy5fYWRkZWRUb0RPTSA9IGZhbHNlO1xuXG5cdH07XG5cblx0dmFyIHAgPSBjcmVhdGVqcy5leHRlbmQoVGFnUmVxdWVzdCwgY3JlYXRlanMuQWJzdHJhY3RSZXF1ZXN0KTtcblxuXHQvLyBwdWJsaWMgbWV0aG9kc1xuXHRwLmxvYWQgPSBmdW5jdGlvbiAoKSB7XG5cdFx0dGhpcy5fdGFnLm9ubG9hZCA9IGNyZWF0ZWpzLnByb3h5KHRoaXMuX2hhbmRsZVRhZ0NvbXBsZXRlLCB0aGlzKTtcblx0XHR0aGlzLl90YWcub25yZWFkeXN0YXRlY2hhbmdlID0gY3JlYXRlanMucHJveHkodGhpcy5faGFuZGxlUmVhZHlTdGF0ZUNoYW5nZSwgdGhpcyk7XG5cdFx0dGhpcy5fdGFnLm9uZXJyb3IgPSBjcmVhdGVqcy5wcm94eSh0aGlzLl9oYW5kbGVFcnJvciwgdGhpcyk7XG5cblx0XHR2YXIgZXZ0ID0gbmV3IGNyZWF0ZWpzLkV2ZW50KFwiaW5pdGlhbGl6ZVwiKTtcblx0XHRldnQubG9hZGVyID0gdGhpcy5fdGFnO1xuXG5cdFx0dGhpcy5kaXNwYXRjaEV2ZW50KGV2dCk7XG5cblx0XHR0aGlzLl9sb2FkVGltZW91dCA9IHNldFRpbWVvdXQoY3JlYXRlanMucHJveHkodGhpcy5faGFuZGxlVGltZW91dCwgdGhpcyksIHRoaXMuX2l0ZW0ubG9hZFRpbWVvdXQpO1xuXG5cdFx0dGhpcy5fdGFnW3RoaXMuX3RhZ1NyY0F0dHJpYnV0ZV0gPSB0aGlzLl9pdGVtLnNyYztcblxuXHRcdC8vIHdkZzo6IEFwcGVuZCB0aGUgdGFnIEFGVEVSIHNldHRpbmcgdGhlIHNyYywgb3IgU1ZHIGxvYWRpbmcgb24gaU9TIHdpbGwgZmFpbC5cblx0XHRpZiAodGhpcy5fdGFnLnBhcmVudE5vZGUgPT0gbnVsbCkge1xuXHRcdFx0Y3JlYXRlanMuRG9tVXRpbHMuYXBwZW5kVG9Cb2R5KHRoaXMuX3RhZyk7XG5cdFx0XHR0aGlzLl9hZGRlZFRvRE9NID0gdHJ1ZTtcblx0XHR9XG5cdH07XG5cblx0cC5kZXN0cm95ID0gZnVuY3Rpb24oKSB7XG5cdFx0dGhpcy5fY2xlYW4oKTtcblx0XHR0aGlzLl90YWcgPSBudWxsO1xuXG5cdFx0dGhpcy5BYnN0cmFjdFJlcXVlc3RfZGVzdHJveSgpO1xuXHR9O1xuXG5cdC8vIHByaXZhdGUgbWV0aG9kc1xuXHQvKipcblx0ICogSGFuZGxlIHRoZSByZWFkeVN0YXRlQ2hhbmdlIGV2ZW50IGZyb20gYSB0YWcuIFdlIG5lZWQgdGhpcyBpbiBwbGFjZSBvZiB0aGUgYG9ubG9hZGAgY2FsbGJhY2sgKG1haW5seSBTQ1JJUFRcblx0ICogYW5kIExJTksgdGFncyksIGJ1dCBvdGhlciBjYXNlcyBtYXkgZXhpc3QuXG5cdCAqIEBtZXRob2QgX2hhbmRsZVJlYWR5U3RhdGVDaGFuZ2Vcblx0ICogQHByaXZhdGVcblx0ICovXG5cdHAuX2hhbmRsZVJlYWR5U3RhdGVDaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG5cdFx0Y2xlYXJUaW1lb3V0KHRoaXMuX2xvYWRUaW1lb3V0KTtcblx0XHQvLyBUaGlzIGlzIHN0cmljdGx5IGZvciB0YWdzIGluIGJyb3dzZXJzIHRoYXQgZG8gbm90IHN1cHBvcnQgb25sb2FkLlxuXHRcdHZhciB0YWcgPSB0aGlzLl90YWc7XG5cblx0XHQvLyBDb21wbGV0ZSBpcyBmb3Igb2xkIElFIHN1cHBvcnQuXG5cdFx0aWYgKHRhZy5yZWFkeVN0YXRlID09IFwibG9hZGVkXCIgfHwgdGFnLnJlYWR5U3RhdGUgPT0gXCJjb21wbGV0ZVwiKSB7XG5cdFx0XHR0aGlzLl9oYW5kbGVUYWdDb21wbGV0ZSgpO1xuXHRcdH1cblx0fTtcblxuXHQvKipcblx0ICogSGFuZGxlIGFueSBlcnJvciBldmVudHMgZnJvbSB0aGUgdGFnLlxuXHQgKiBAbWV0aG9kIF9oYW5kbGVFcnJvclxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqL1xuXHRwLl9oYW5kbGVFcnJvciA9IGZ1bmN0aW9uKCkge1xuXHRcdHRoaXMuX2NsZWFuKCk7XG5cdFx0dGhpcy5kaXNwYXRjaEV2ZW50KFwiZXJyb3JcIik7XG5cdH07XG5cblx0LyoqXG5cdCAqIEhhbmRsZSB0aGUgdGFnJ3Mgb25sb2FkIGNhbGxiYWNrLlxuXHQgKiBAbWV0aG9kIF9oYW5kbGVUYWdDb21wbGV0ZVxuXHQgKiBAcHJpdmF0ZVxuXHQgKi9cblx0cC5faGFuZGxlVGFnQ29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG5cdFx0dGhpcy5fcmF3UmVzdWx0ID0gdGhpcy5fdGFnO1xuXHRcdHRoaXMuX3Jlc3VsdCA9IHRoaXMucmVzdWx0Rm9ybWF0dGVyICYmIHRoaXMucmVzdWx0Rm9ybWF0dGVyKHRoaXMpIHx8IHRoaXMuX3Jhd1Jlc3VsdDtcblxuXHRcdHRoaXMuX2NsZWFuKCk7XG5cblx0XHR0aGlzLmRpc3BhdGNoRXZlbnQoXCJjb21wbGV0ZVwiKTtcblx0fTtcblxuXHQvKipcblx0ICogVGhlIHRhZyByZXF1ZXN0IGhhcyBub3QgbG9hZGVkIHdpdGhpbiB0aGUgdGltZSBzcGVjaWZpZWQgaW4gbG9hZFRpbWVvdXQuXG5cdCAqIEBtZXRob2QgX2hhbmRsZUVycm9yXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBldmVudCBUaGUgWEhSIGVycm9yIGV2ZW50LlxuXHQgKiBAcHJpdmF0ZVxuXHQgKi9cblx0cC5faGFuZGxlVGltZW91dCA9IGZ1bmN0aW9uICgpIHtcblx0XHR0aGlzLl9jbGVhbigpO1xuXHRcdHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgY3JlYXRlanMuRXZlbnQoXCJ0aW1lb3V0XCIpKTtcblx0fTtcblxuXHQvKipcblx0ICogUmVtb3ZlIGV2ZW50IGxpc3RlbmVycywgYnV0IGRvbid0IGRlc3Ryb3kgdGhlIHJlcXVlc3Qgb2JqZWN0XG5cdCAqIEBtZXRob2QgX2NsZWFuXG5cdCAqIEBwcml2YXRlXG5cdCAqL1xuXHRwLl9jbGVhbiA9IGZ1bmN0aW9uKCkge1xuXHRcdHRoaXMuX3RhZy5vbmxvYWQgPSBudWxsO1xuXHRcdHRoaXMuX3RhZy5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBudWxsO1xuXHRcdHRoaXMuX3RhZy5vbmVycm9yID0gbnVsbDtcblx0XHRpZiAodGhpcy5fYWRkZWRUb0RPTSAmJiB0aGlzLl90YWcucGFyZW50Tm9kZSAhPSBudWxsKSB7XG5cdFx0XHR0aGlzLl90YWcucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLl90YWcpO1xuXHRcdH1cblx0XHRjbGVhclRpbWVvdXQodGhpcy5fbG9hZFRpbWVvdXQpO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBIYW5kbGUgYSBzdGFsbGVkIGF1ZGlvIGV2ZW50LiBUaGUgbWFpbiBwbGFjZSB0aGlzIGhhcHBlbnMgaXMgd2l0aCBIVE1MQXVkaW8gaW4gQ2hyb21lIHdoZW4gcGxheWluZyBiYWNrIGF1ZGlvXG5cdCAqIHRoYXQgaXMgYWxyZWFkeSBpbiBhIGxvYWQsIGJ1dCBub3QgY29tcGxldGUuXG5cdCAqIEBtZXRob2QgX2hhbmRsZVN0YWxsZWRcblx0ICogQHByaXZhdGVcblx0ICovXG5cdHAuX2hhbmRsZVN0YWxsZWQgPSBmdW5jdGlvbiAoKSB7XG5cdFx0Ly9JZ25vcmUsIGxldCB0aGUgdGltZW91dCB0YWtlIGNhcmUgb2YgaXQuIFNvbWV0aW1lcyBpdHMgbm90IHJlYWxseSBzdG9wcGVkLlxuXHR9O1xuXG5cdGNyZWF0ZWpzLlRhZ1JlcXVlc3QgPSBjcmVhdGVqcy5wcm9tb3RlKFRhZ1JlcXVlc3QsIFwiQWJzdHJhY3RSZXF1ZXN0XCIpO1xuXG59KCkpO1xuXG4vLyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI1xuLy8gTWVkaWFUYWdSZXF1ZXN0LmpzXG4vLyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI1xuXG4oZnVuY3Rpb24gKCkge1xuXHRcInVzZSBzdHJpY3RcIjtcblxuXHQvLyBjb25zdHJ1Y3RvclxuXHQvKipcblx0ICogQW4ge3sjY3Jvc3NMaW5rIFwiVGFnUmVxdWVzdFwifX17ey9jcm9zc0xpbmt9fSB0aGF0IGxvYWRzIEhUTUwgdGFncyBmb3IgdmlkZW8gYW5kIGF1ZGlvLlxuXHQgKiBAY2xhc3MgTWVkaWFUYWdSZXF1ZXN0XG5cdCAqIEBwYXJhbSB7TG9hZEl0ZW19IGxvYWRJdGVtXG5cdCAqIEBwYXJhbSB7SFRNTEF1ZGlvRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50fSB0YWdcblx0ICogQHBhcmFtIHtTdHJpbmd9IHNyY0F0dHJpYnV0ZSBUaGUgdGFnIGF0dHJpYnV0ZSB0aGF0IHNwZWNpZmllcyB0aGUgc291cmNlLCBzdWNoIGFzIFwic3JjXCIsIFwiaHJlZlwiLCBldGMuXG5cdCAqIEBjb25zdHJ1Y3RvclxuXHQgKi9cblx0ZnVuY3Rpb24gTWVkaWFUYWdSZXF1ZXN0KGxvYWRJdGVtLCB0YWcsIHNyY0F0dHJpYnV0ZSkge1xuXHRcdHRoaXMuQWJzdHJhY3RSZXF1ZXN0X2NvbnN0cnVjdG9yKGxvYWRJdGVtKTtcblxuXHRcdC8vIHByb3RlY3RlZCBwcm9wZXJ0aWVzXG5cdFx0dGhpcy5fdGFnID0gdGFnO1xuXHRcdHRoaXMuX3RhZ1NyY0F0dHJpYnV0ZSA9IHNyY0F0dHJpYnV0ZTtcblx0XHR0aGlzLl9sb2FkZWRIYW5kbGVyID0gY3JlYXRlanMucHJveHkodGhpcy5faGFuZGxlVGFnQ29tcGxldGUsIHRoaXMpO1xuXHR9O1xuXG5cdHZhciBwID0gY3JlYXRlanMuZXh0ZW5kKE1lZGlhVGFnUmVxdWVzdCwgY3JlYXRlanMuVGFnUmVxdWVzdCk7XG5cdHZhciBzID0gTWVkaWFUYWdSZXF1ZXN0O1xuXG5cdC8vIHB1YmxpYyBtZXRob2RzXG5cdHAubG9hZCA9IGZ1bmN0aW9uICgpIHtcblx0XHR2YXIgc2MgPSBjcmVhdGVqcy5wcm94eSh0aGlzLl9oYW5kbGVTdGFsbGVkLCB0aGlzKTtcblx0XHR0aGlzLl9zdGFsbGVkQ2FsbGJhY2sgPSBzYztcblxuXHRcdHZhciBwYyA9IGNyZWF0ZWpzLnByb3h5KHRoaXMuX2hhbmRsZVByb2dyZXNzLCB0aGlzKTtcblx0XHR0aGlzLl9oYW5kbGVQcm9ncmVzcyA9IHBjO1xuXG5cdFx0dGhpcy5fdGFnLmFkZEV2ZW50TGlzdGVuZXIoXCJzdGFsbGVkXCIsIHNjKTtcblx0XHR0aGlzLl90YWcuYWRkRXZlbnRMaXN0ZW5lcihcInByb2dyZXNzXCIsIHBjKTtcblxuXHRcdC8vIFRoaXMgd2lsbCB0ZWxsIHVzIHdoZW4gYXVkaW8gaXMgYnVmZmVyZWQgZW5vdWdoIHRvIHBsYXkgdGhyb3VnaCwgYnV0IG5vdCB3aGVuIGl0cyBsb2FkZWQuXG5cdFx0Ly8gVGhlIHRhZyBkb2Vzbid0IGtlZXAgbG9hZGluZyBpbiBDaHJvbWUgb25jZSBlbm91Z2ggaGFzIGJ1ZmZlcmVkLCBhbmQgd2UgaGF2ZSBkZWNpZGVkIHRoYXQgYmVoYXZpb3VyIGlzIHN1ZmZpY2llbnQuXG5cdFx0dGhpcy5fdGFnLmFkZEV2ZW50TGlzdGVuZXIgJiYgdGhpcy5fdGFnLmFkZEV2ZW50TGlzdGVuZXIoXCJjYW5wbGF5dGhyb3VnaFwiLCB0aGlzLl9sb2FkZWRIYW5kbGVyLCBmYWxzZSk7IC8vIGNhbnBsYXl0aHJvdWdoIGNhbGxiYWNrIGRvZXNuJ3Qgd29yayBpbiBDaHJvbWUsIHNvIHdlIHVzZSBhbiBldmVudC5cblxuXHRcdHRoaXMuVGFnUmVxdWVzdF9sb2FkKCk7XG5cdH07XG5cblx0Ly8gcHJpdmF0ZSBtZXRob2RzXG5cdHAuX2hhbmRsZVJlYWR5U3RhdGVDaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG5cdFx0Y2xlYXJUaW1lb3V0KHRoaXMuX2xvYWRUaW1lb3V0KTtcblx0XHQvLyBUaGlzIGlzIHN0cmljdGx5IGZvciB0YWdzIGluIGJyb3dzZXJzIHRoYXQgZG8gbm90IHN1cHBvcnQgb25sb2FkLlxuXHRcdHZhciB0YWcgPSB0aGlzLl90YWc7XG5cblx0XHQvLyBDb21wbGV0ZSBpcyBmb3Igb2xkIElFIHN1cHBvcnQuXG5cdFx0aWYgKHRhZy5yZWFkeVN0YXRlID09IFwibG9hZGVkXCIgfHwgdGFnLnJlYWR5U3RhdGUgPT0gXCJjb21wbGV0ZVwiKSB7XG5cdFx0XHR0aGlzLl9oYW5kbGVUYWdDb21wbGV0ZSgpO1xuXHRcdH1cblx0fTtcblxuXHRwLl9oYW5kbGVTdGFsbGVkID0gZnVuY3Rpb24gKCkge1xuXHRcdC8vSWdub3JlLCBsZXQgdGhlIHRpbWVvdXQgdGFrZSBjYXJlIG9mIGl0LiBTb21ldGltZXMgaXRzIG5vdCByZWFsbHkgc3RvcHBlZC5cblx0fTtcblxuXHQvKipcblx0ICogQW4gWEhSIHJlcXVlc3QgaGFzIHJlcG9ydGVkIHByb2dyZXNzLlxuXHQgKiBAbWV0aG9kIF9oYW5kbGVQcm9ncmVzc1xuXHQgKiBAcGFyYW0ge09iamVjdH0gZXZlbnQgVGhlIFhIUiBwcm9ncmVzcyBldmVudC5cblx0ICogQHByaXZhdGVcblx0ICovXG5cdHAuX2hhbmRsZVByb2dyZXNzID0gZnVuY3Rpb24gKGV2ZW50KSB7XG5cdFx0aWYgKCFldmVudCB8fCBldmVudC5sb2FkZWQgPiAwICYmIGV2ZW50LnRvdGFsID09IDApIHtcblx0XHRcdHJldHVybjsgLy8gU29tZXRpbWVzIHdlIGdldCBubyBcInRvdGFsXCIsIHNvIGp1c3QgaWdub3JlIHRoZSBwcm9ncmVzcyBldmVudC5cblx0XHR9XG5cblx0XHR2YXIgbmV3RXZlbnQgPSBuZXcgY3JlYXRlanMuUHJvZ3Jlc3NFdmVudChldmVudC5sb2FkZWQsIGV2ZW50LnRvdGFsKTtcblx0XHR0aGlzLmRpc3BhdGNoRXZlbnQobmV3RXZlbnQpO1xuXHR9O1xuXG5cdC8vIHByb3RlY3RlZCBtZXRob2RzXG5cdHAuX2NsZWFuID0gZnVuY3Rpb24gKCkge1xuXHRcdHRoaXMuX3RhZy5yZW1vdmVFdmVudExpc3RlbmVyICYmIHRoaXMuX3RhZy5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2FucGxheXRocm91Z2hcIiwgdGhpcy5fbG9hZGVkSGFuZGxlcik7XG5cdFx0dGhpcy5fdGFnLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzdGFsbGVkXCIsIHRoaXMuX3N0YWxsZWRDYWxsYmFjayk7XG5cdFx0dGhpcy5fdGFnLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJwcm9ncmVzc1wiLCB0aGlzLl9wcm9ncmVzc0NhbGxiYWNrKTtcblxuXHRcdHRoaXMuVGFnUmVxdWVzdF9fY2xlYW4oKTtcblx0fTtcblxuXHRjcmVhdGVqcy5NZWRpYVRhZ1JlcXVlc3QgPSBjcmVhdGVqcy5wcm9tb3RlKE1lZGlhVGFnUmVxdWVzdCwgXCJUYWdSZXF1ZXN0XCIpO1xuXG59KCkpO1xuXG4vLyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI1xuLy8gWEhSUmVxdWVzdC5qc1xuLy8jIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyNcblxuKGZ1bmN0aW9uICgpIHtcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cbi8vIGNvbnN0cnVjdG9yXG5cdC8qKlxuXHQgKiBBIHByZWxvYWRlciB0aGF0IGxvYWRzIGl0ZW1zIHVzaW5nIFhIUiByZXF1ZXN0cywgdXN1YWxseSBYTUxIdHRwUmVxdWVzdC4gSG93ZXZlciBYRG9tYWluUmVxdWVzdHMgd2lsbCBiZSB1c2VkXG5cdCAqIGZvciBjcm9zcy1kb21haW4gcmVxdWVzdHMgaWYgcG9zc2libGUsIGFuZCBvbGRlciB2ZXJzaW9ucyBvZiBJRSBmYWxsIGJhY2sgb24gdG8gQWN0aXZlWCBvYmplY3RzIHdoZW4gbmVjZXNzYXJ5LlxuXHQgKiBYSFIgcmVxdWVzdHMgbG9hZCB0aGUgY29udGVudCBhcyB0ZXh0IG9yIGJpbmFyeSBkYXRhLCBwcm92aWRlIHByb2dyZXNzIGFuZCBjb25zaXN0ZW50IGNvbXBsZXRpb24gZXZlbnRzLCBhbmRcblx0ICogY2FuIGJlIGNhbmNlbGVkIGR1cmluZyBsb2FkLiBOb3RlIHRoYXQgWEhSIGlzIG5vdCBzdXBwb3J0ZWQgaW4gSUUgNiBvciBlYXJsaWVyLCBhbmQgaXMgbm90IHJlY29tbWVuZGVkIGZvclxuXHQgKiBjcm9zcy1kb21haW4gbG9hZGluZy5cblx0ICogQGNsYXNzIFhIUlJlcXVlc3Rcblx0ICogQGNvbnN0cnVjdG9yXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBpdGVtIFRoZSBvYmplY3QgdGhhdCBkZWZpbmVzIHRoZSBmaWxlIHRvIGxvYWQuIFBsZWFzZSBzZWUgdGhlIHt7I2Nyb3NzTGluayBcIkxvYWRRdWV1ZS9sb2FkRmlsZVwifX17ey9jcm9zc0xpbmt9fVxuXHQgKiBmb3IgYW4gb3ZlcnZpZXcgb2Ygc3VwcG9ydGVkIGZpbGUgcHJvcGVydGllcy5cblx0ICogQGV4dGVuZHMgQWJzdHJhY3RMb2FkZXJcblx0ICovXG5cdGZ1bmN0aW9uIFhIUlJlcXVlc3QgKGl0ZW0pIHtcblx0XHR0aGlzLkFic3RyYWN0UmVxdWVzdF9jb25zdHJ1Y3RvcihpdGVtKTtcblxuXHRcdC8vIHByb3RlY3RlZCBwcm9wZXJ0aWVzXG5cdFx0LyoqXG5cdFx0ICogQSByZWZlcmVuY2UgdG8gdGhlIFhIUiByZXF1ZXN0IHVzZWQgdG8gbG9hZCB0aGUgY29udGVudC5cblx0XHQgKiBAcHJvcGVydHkgX3JlcXVlc3Rcblx0XHQgKiBAdHlwZSB7WE1MSHR0cFJlcXVlc3QgfCBYRG9tYWluUmVxdWVzdCB8IEFjdGl2ZVguWE1MSFRUUH1cblx0XHQgKiBAcHJpdmF0ZVxuXHRcdCAqL1xuXHRcdHRoaXMuX3JlcXVlc3QgPSBudWxsO1xuXG5cdFx0LyoqXG5cdFx0ICogQSBtYW51YWwgbG9hZCB0aW1lb3V0IHRoYXQgaXMgdXNlZCBmb3IgYnJvd3NlcnMgdGhhdCBkbyBub3Qgc3VwcG9ydCB0aGUgb25UaW1lb3V0IGV2ZW50IG9uIFhIUiAoWEhSIGxldmVsIDEsXG5cdFx0ICogdHlwaWNhbGx5IElFOSkuXG5cdFx0ICogQHByb3BlcnR5IF9sb2FkVGltZW91dFxuXHRcdCAqIEB0eXBlIHtOdW1iZXJ9XG5cdFx0ICogQHByaXZhdGVcblx0XHQgKi9cblx0XHR0aGlzLl9sb2FkVGltZW91dCA9IG51bGw7XG5cblx0XHQvKipcblx0XHQgKiBUaGUgYnJvd3NlcidzIFhIUiAoWE1MSFRUUFJlcXVlc3QpIHZlcnNpb24uIFN1cHBvcnRlZCB2ZXJzaW9ucyBhcmUgMSBhbmQgMi4gVGhlcmUgaXMgbm8gb2ZmaWNpYWwgd2F5IHRvIGRldGVjdFxuXHRcdCAqIHRoZSB2ZXJzaW9uLCBzbyB3ZSB1c2UgY2FwYWJpbGl0aWVzIHRvIG1ha2UgYSBiZXN0IGd1ZXNzLlxuXHRcdCAqIEBwcm9wZXJ0eSBfeGhyTGV2ZWxcblx0XHQgKiBAdHlwZSB7TnVtYmVyfVxuXHRcdCAqIEBkZWZhdWx0IDFcblx0XHQgKiBAcHJpdmF0ZVxuXHRcdCAqL1xuXHRcdHRoaXMuX3hockxldmVsID0gMTtcblxuXHRcdC8qKlxuXHRcdCAqIFRoZSByZXNwb25zZSBvZiBhIGxvYWRlZCBmaWxlLiBUaGlzIGlzIHNldCBiZWNhdXNlIGl0IGlzIGV4cGVuc2l2ZSB0byBsb29rIHVwIGNvbnN0YW50bHkuIFRoaXMgcHJvcGVydHkgd2lsbCBiZVxuXHRcdCAqIG51bGwgdW50aWwgdGhlIGZpbGUgaXMgbG9hZGVkLlxuXHRcdCAqIEBwcm9wZXJ0eSBfcmVzcG9uc2Vcblx0XHQgKiBAdHlwZSB7bWl4ZWR9XG5cdFx0ICogQHByaXZhdGVcblx0XHQgKi9cblx0XHR0aGlzLl9yZXNwb25zZSA9IG51bGw7XG5cblx0XHQvKipcblx0XHQgKiBUaGUgcmVzcG9uc2Ugb2YgdGhlIGxvYWRlZCBmaWxlIGJlZm9yZSBpdCBpcyBtb2RpZmllZC4gSW4gbW9zdCBjYXNlcywgY29udGVudCBpcyBjb252ZXJ0ZWQgZnJvbSByYXcgdGV4dCB0b1xuXHRcdCAqIGFuIEhUTUwgdGFnIG9yIGEgZm9ybWF0dGVkIG9iamVjdCB3aGljaCBpcyBzZXQgdG8gdGhlIDxjb2RlPnJlc3VsdDwvY29kZT4gcHJvcGVydHksIGJ1dCB0aGUgZGV2ZWxvcGVyIG1heSBzdGlsbFxuXHRcdCAqIHdhbnQgdG8gYWNjZXNzIHRoZSByYXcgY29udGVudCBhcyBpdCB3YXMgbG9hZGVkLlxuXHRcdCAqIEBwcm9wZXJ0eSBfcmF3UmVzcG9uc2Vcblx0XHQgKiBAdHlwZSB7U3RyaW5nfE9iamVjdH1cblx0XHQgKiBAcHJpdmF0ZVxuXHRcdCAqL1xuXHRcdHRoaXMuX3Jhd1Jlc3BvbnNlID0gbnVsbDtcblxuXHRcdHRoaXMuX2NhbmNlbGVkID0gZmFsc2U7XG5cblx0XHQvLyBTZXR1cCBvdXIgZXZlbnQgaGFuZGxlcnMgbm93LlxuXHRcdHRoaXMuX2hhbmRsZUxvYWRTdGFydFByb3h5ID0gY3JlYXRlanMucHJveHkodGhpcy5faGFuZGxlTG9hZFN0YXJ0LCB0aGlzKTtcblx0XHR0aGlzLl9oYW5kbGVQcm9ncmVzc1Byb3h5ID0gY3JlYXRlanMucHJveHkodGhpcy5faGFuZGxlUHJvZ3Jlc3MsIHRoaXMpO1xuXHRcdHRoaXMuX2hhbmRsZUFib3J0UHJveHkgPSBjcmVhdGVqcy5wcm94eSh0aGlzLl9oYW5kbGVBYm9ydCwgdGhpcyk7XG5cdFx0dGhpcy5faGFuZGxlRXJyb3JQcm94eSA9IGNyZWF0ZWpzLnByb3h5KHRoaXMuX2hhbmRsZUVycm9yLCB0aGlzKTtcblx0XHR0aGlzLl9oYW5kbGVUaW1lb3V0UHJveHkgPSBjcmVhdGVqcy5wcm94eSh0aGlzLl9oYW5kbGVUaW1lb3V0LCB0aGlzKTtcblx0XHR0aGlzLl9oYW5kbGVMb2FkUHJveHkgPSBjcmVhdGVqcy5wcm94eSh0aGlzLl9oYW5kbGVMb2FkLCB0aGlzKTtcblx0XHR0aGlzLl9oYW5kbGVSZWFkeVN0YXRlQ2hhbmdlUHJveHkgPSBjcmVhdGVqcy5wcm94eSh0aGlzLl9oYW5kbGVSZWFkeVN0YXRlQ2hhbmdlLCB0aGlzKTtcblxuXHRcdGlmICghdGhpcy5fY3JlYXRlWEhSKGl0ZW0pKSB7XG5cdFx0XHQvL1RPRE86IFRocm93IGVycm9yP1xuXHRcdH1cblx0fTtcblxuXHR2YXIgcCA9IGNyZWF0ZWpzLmV4dGVuZChYSFJSZXF1ZXN0LCBjcmVhdGVqcy5BYnN0cmFjdFJlcXVlc3QpO1xuXG4vLyBzdGF0aWMgcHJvcGVydGllc1xuXHQvKipcblx0ICogQSBsaXN0IG9mIFhNTEhUVFAgb2JqZWN0IElEcyB0byB0cnkgd2hlbiBidWlsZGluZyBhbiBBY3RpdmVYIG9iamVjdCBmb3IgWEhSIHJlcXVlc3RzIGluIGVhcmxpZXIgdmVyc2lvbnMgb2YgSUUuXG5cdCAqIEBwcm9wZXJ0eSBBQ1RJVkVYX1ZFUlNJT05TXG5cdCAqIEB0eXBlIHtBcnJheX1cblx0ICogQHNpbmNlIDAuNC4yXG5cdCAqIEBwcml2YXRlXG5cdCAqL1xuXHRYSFJSZXF1ZXN0LkFDVElWRVhfVkVSU0lPTlMgPSBbXG5cdFx0XCJNc3htbDIuWE1MSFRUUC42LjBcIixcblx0XHRcIk1zeG1sMi5YTUxIVFRQLjUuMFwiLFxuXHRcdFwiTXN4bWwyLlhNTEhUVFAuNC4wXCIsXG5cdFx0XCJNU1hNTDIuWE1MSFRUUC4zLjBcIixcblx0XHRcIk1TWE1MMi5YTUxIVFRQXCIsXG5cdFx0XCJNaWNyb3NvZnQuWE1MSFRUUFwiXG5cdF07XG5cbi8vIFB1YmxpYyBtZXRob2RzXG5cdC8qKlxuXHQgKiBMb29rIHVwIHRoZSBsb2FkZWQgcmVzdWx0LlxuXHQgKiBAbWV0aG9kIGdldFJlc3VsdFxuXHQgKiBAcGFyYW0ge0Jvb2xlYW59IFtyYXc9ZmFsc2VdIFJldHVybiBhIHJhdyByZXN1bHQgaW5zdGVhZCBvZiBhIGZvcm1hdHRlZCByZXN1bHQuIFRoaXMgYXBwbGllcyB0byBjb250ZW50XG5cdCAqIGxvYWRlZCB2aWEgWEhSIHN1Y2ggYXMgc2NyaXB0cywgWE1MLCBDU1MsIGFuZCBJbWFnZXMuIElmIHRoZXJlIGlzIG5vIHJhdyByZXN1bHQsIHRoZSBmb3JtYXR0ZWQgcmVzdWx0IHdpbGwgYmVcblx0ICogcmV0dXJuZWQgaW5zdGVhZC5cblx0ICogQHJldHVybiB7T2JqZWN0fSBBIHJlc3VsdCBvYmplY3QgY29udGFpbmluZyB0aGUgY29udGVudCB0aGF0IHdhcyBsb2FkZWQsIHN1Y2ggYXM6XG5cdCAqIDx1bD5cblx0ICogICAgICA8bGk+QW4gaW1hZ2UgdGFnICgmbHQ7aW1hZ2UgLyZndDspIGZvciBpbWFnZXM8L2xpPlxuXHQgKiAgICAgIDxsaT5BIHNjcmlwdCB0YWcgZm9yIEphdmFTY3JpcHQgKCZsdDtzY3JpcHQgLyZndDspLiBOb3RlIHRoYXQgc2NyaXB0cyBsb2FkZWQgd2l0aCB0YWdzIG1heSBiZSBhZGRlZCB0byB0aGVcblx0ICogICAgICBIVE1MIGhlYWQuPC9saT5cblx0ICogICAgICA8bGk+QSBzdHlsZSB0YWcgZm9yIENTUyAoJmx0O3N0eWxlIC8mZ3Q7KTwvbGk+XG5cdCAqICAgICAgPGxpPlJhdyB0ZXh0IGZvciBURVhUPC9saT5cblx0ICogICAgICA8bGk+QSBmb3JtYXR0ZWQgSmF2YVNjcmlwdCBvYmplY3QgZGVmaW5lZCBieSBKU09OPC9saT5cblx0ICogICAgICA8bGk+QW4gWE1MIGRvY3VtZW50PC9saT5cblx0ICogICAgICA8bGk+QW4gYmluYXJ5IGFycmF5YnVmZmVyIGxvYWRlZCBieSBYSFI8L2xpPlxuXHQgKiA8L3VsPlxuXHQgKiBOb3RlIHRoYXQgaWYgYSByYXcgcmVzdWx0IGlzIHJlcXVlc3RlZCwgYnV0IG5vdCBmb3VuZCwgdGhlIHJlc3VsdCB3aWxsIGJlIHJldHVybmVkIGluc3RlYWQuXG5cdCAqL1xuXHRwLmdldFJlc3VsdCA9IGZ1bmN0aW9uIChyYXcpIHtcblx0XHRpZiAocmF3ICYmIHRoaXMuX3Jhd1Jlc3BvbnNlKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5fcmF3UmVzcG9uc2U7XG5cdFx0fVxuXHRcdHJldHVybiB0aGlzLl9yZXNwb25zZTtcblx0fTtcblxuXHQvLyBPdmVycmlkZXMgYWJzdHJhY3QgbWV0aG9kIGluIEFic3RyYWN0UmVxdWVzdFxuXHRwLmNhbmNlbCA9IGZ1bmN0aW9uICgpIHtcblx0XHR0aGlzLmNhbmNlbGVkID0gdHJ1ZTtcblx0XHR0aGlzLl9jbGVhbigpO1xuXHRcdHRoaXMuX3JlcXVlc3QuYWJvcnQoKTtcblx0fTtcblxuXHQvLyBPdmVycmlkZXMgYWJzdHJhY3QgbWV0aG9kIGluIEFic3RyYWN0TG9hZGVyXG5cdHAubG9hZCA9IGZ1bmN0aW9uICgpIHtcblx0XHRpZiAodGhpcy5fcmVxdWVzdCA9PSBudWxsKSB7XG5cdFx0XHR0aGlzLl9oYW5kbGVFcnJvcigpO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vRXZlbnRzXG5cdFx0aWYgKHRoaXMuX3JlcXVlc3QuYWRkRXZlbnRMaXN0ZW5lciAhPSBudWxsKSB7XG5cdFx0XHR0aGlzLl9yZXF1ZXN0LmFkZEV2ZW50TGlzdGVuZXIoXCJsb2Fkc3RhcnRcIiwgdGhpcy5faGFuZGxlTG9hZFN0YXJ0UHJveHksIGZhbHNlKTtcblx0XHRcdHRoaXMuX3JlcXVlc3QuYWRkRXZlbnRMaXN0ZW5lcihcInByb2dyZXNzXCIsIHRoaXMuX2hhbmRsZVByb2dyZXNzUHJveHksIGZhbHNlKTtcblx0XHRcdHRoaXMuX3JlcXVlc3QuYWRkRXZlbnRMaXN0ZW5lcihcImFib3J0XCIsIHRoaXMuX2hhbmRsZUFib3J0UHJveHksIGZhbHNlKTtcblx0XHRcdHRoaXMuX3JlcXVlc3QuYWRkRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsIHRoaXMuX2hhbmRsZUVycm9yUHJveHksIGZhbHNlKTtcblx0XHRcdHRoaXMuX3JlcXVlc3QuYWRkRXZlbnRMaXN0ZW5lcihcInRpbWVvdXRcIiwgdGhpcy5faGFuZGxlVGltZW91dFByb3h5LCBmYWxzZSk7XG5cblx0XHRcdC8vIE5vdGU6IFdlIGRvbid0IGdldCBvbmxvYWQgaW4gYWxsIGJyb3dzZXJzIChlYXJsaWVyIEZGIGFuZCBJRSkuIG9uUmVhZHlTdGF0ZUNoYW5nZSBoYW5kbGVzIHRoZXNlLlxuXHRcdFx0dGhpcy5fcmVxdWVzdC5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCB0aGlzLl9oYW5kbGVMb2FkUHJveHksIGZhbHNlKTtcblx0XHRcdHRoaXMuX3JlcXVlc3QuYWRkRXZlbnRMaXN0ZW5lcihcInJlYWR5c3RhdGVjaGFuZ2VcIiwgdGhpcy5faGFuZGxlUmVhZHlTdGF0ZUNoYW5nZVByb3h5LCBmYWxzZSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIElFOSBzdXBwb3J0XG5cdFx0XHR0aGlzLl9yZXF1ZXN0Lm9ubG9hZHN0YXJ0ID0gdGhpcy5faGFuZGxlTG9hZFN0YXJ0UHJveHk7XG5cdFx0XHR0aGlzLl9yZXF1ZXN0Lm9ucHJvZ3Jlc3MgPSB0aGlzLl9oYW5kbGVQcm9ncmVzc1Byb3h5O1xuXHRcdFx0dGhpcy5fcmVxdWVzdC5vbmFib3J0ID0gdGhpcy5faGFuZGxlQWJvcnRQcm94eTtcblx0XHRcdHRoaXMuX3JlcXVlc3Qub25lcnJvciA9IHRoaXMuX2hhbmRsZUVycm9yUHJveHk7XG5cdFx0XHR0aGlzLl9yZXF1ZXN0Lm9udGltZW91dCA9IHRoaXMuX2hhbmRsZVRpbWVvdXRQcm94eTtcblxuXHRcdFx0Ly8gTm90ZTogV2UgZG9uJ3QgZ2V0IG9ubG9hZCBpbiBhbGwgYnJvd3NlcnMgKGVhcmxpZXIgRkYgYW5kIElFKS4gb25SZWFkeVN0YXRlQ2hhbmdlIGhhbmRsZXMgdGhlc2UuXG5cdFx0XHR0aGlzLl9yZXF1ZXN0Lm9ubG9hZCA9IHRoaXMuX2hhbmRsZUxvYWRQcm94eTtcblx0XHRcdHRoaXMuX3JlcXVlc3Qub25yZWFkeXN0YXRlY2hhbmdlID0gdGhpcy5faGFuZGxlUmVhZHlTdGF0ZUNoYW5nZVByb3h5O1xuXHRcdH1cblxuXHRcdC8vIFNldCB1cCBhIHRpbWVvdXQgaWYgd2UgZG9uJ3QgaGF2ZSBYSFIyXG5cdFx0aWYgKHRoaXMuX3hockxldmVsID09IDEpIHtcblx0XHRcdHRoaXMuX2xvYWRUaW1lb3V0ID0gc2V0VGltZW91dChjcmVhdGVqcy5wcm94eSh0aGlzLl9oYW5kbGVUaW1lb3V0LCB0aGlzKSwgdGhpcy5faXRlbS5sb2FkVGltZW91dCk7XG5cdFx0fVxuXG5cdFx0Ly8gU29tZXRpbWVzIHdlIGdldCBiYWNrIDQwNHMgaW1tZWRpYXRlbHksIHBhcnRpY3VsYXJseSB3aGVuIHRoZXJlIGlzIGEgY3Jvc3Mgb3JpZ2luIHJlcXVlc3QuICAvLyBub3RlIHRoaXMgZG9lcyBub3QgY2F0Y2ggaW4gQ2hyb21lXG5cdFx0dHJ5IHtcblx0XHRcdGlmICghdGhpcy5faXRlbS52YWx1ZXMpIHtcblx0XHRcdFx0dGhpcy5fcmVxdWVzdC5zZW5kKCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0aGlzLl9yZXF1ZXN0LnNlbmQoY3JlYXRlanMuVVJMVXRpbHMuZm9ybWF0UXVlcnlTdHJpbmcodGhpcy5faXRlbS52YWx1ZXMpKTtcblx0XHRcdH1cblx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0dGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBjcmVhdGVqcy5FcnJvckV2ZW50KFwiWEhSX1NFTkRcIiwgbnVsbCwgZXJyb3IpKTtcblx0XHR9XG5cdH07XG5cblx0cC5zZXRSZXNwb25zZVR5cGUgPSBmdW5jdGlvbiAodHlwZSkge1xuXHRcdC8vIFNvbWUgb2xkIGJyb3dzZXJzIGRvZXNuJ3Qgc3VwcG9ydCBibG9iLCBzbyB3ZSBjb252ZXJ0IGFycmF5YnVmZmVyIHRvIGJsb2IgYWZ0ZXIgcmVzcG9uc2UgaXMgZG93bmxvYWRlZFxuXHRcdGlmICh0eXBlID09PSAnYmxvYicpIHtcblx0XHRcdHR5cGUgPSB3aW5kb3cuVVJMID8gJ2Jsb2InIDogJ2FycmF5YnVmZmVyJztcblx0XHRcdHRoaXMuX3Jlc3BvbnNlVHlwZSA9IHR5cGU7XG5cdFx0fVxuXHRcdHRoaXMuX3JlcXVlc3QucmVzcG9uc2VUeXBlID0gdHlwZTtcblx0fTtcblxuXHQvKipcblx0ICogR2V0IGFsbCB0aGUgcmVzcG9uc2UgaGVhZGVycyBmcm9tIHRoZSBYbWxIdHRwUmVxdWVzdC5cblx0ICpcblx0ICogPHN0cm9uZz5Gcm9tIHRoZSBkb2NzOjwvc3Ryb25nPiBSZXR1cm4gYWxsIHRoZSBIVFRQIGhlYWRlcnMsIGV4Y2x1ZGluZyBoZWFkZXJzIHRoYXQgYXJlIGEgY2FzZS1pbnNlbnNpdGl2ZSBtYXRjaFxuXHQgKiBmb3IgU2V0LUNvb2tpZSBvciBTZXQtQ29va2llMiwgYXMgYSBzaW5nbGUgc3RyaW5nLCB3aXRoIGVhY2ggaGVhZGVyIGxpbmUgc2VwYXJhdGVkIGJ5IGEgVSswMDBEIENSIFUrMDAwQSBMRiBwYWlyLFxuXHQgKiBleGNsdWRpbmcgdGhlIHN0YXR1cyBsaW5lLCBhbmQgd2l0aCBlYWNoIGhlYWRlciBuYW1lIGFuZCBoZWFkZXIgdmFsdWUgc2VwYXJhdGVkIGJ5IGEgVSswMDNBIENPTE9OIFUrMDAyMCBTUEFDRVxuXHQgKiBwYWlyLlxuXHQgKiBAbWV0aG9kIGdldEFsbFJlc3BvbnNlSGVhZGVyc1xuXHQgKiBAcmV0dXJuIHtTdHJpbmd9XG5cdCAqIEBzaW5jZSAwLjQuMVxuXHQgKi9cblx0cC5nZXRBbGxSZXNwb25zZUhlYWRlcnMgPSBmdW5jdGlvbiAoKSB7XG5cdFx0aWYgKHRoaXMuX3JlcXVlc3QuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzIGluc3RhbmNlb2YgRnVuY3Rpb24pIHtcblx0XHRcdHJldHVybiB0aGlzLl9yZXF1ZXN0LmdldEFsbFJlc3BvbnNlSGVhZGVycygpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gbnVsbDtcblx0XHR9XG5cdH07XG5cblx0LyoqXG5cdCAqIEdldCBhIHNwZWNpZmljIHJlc3BvbnNlIGhlYWRlciBmcm9tIHRoZSBYbWxIdHRwUmVxdWVzdC5cblx0ICpcblx0ICogPHN0cm9uZz5Gcm9tIHRoZSBkb2NzOjwvc3Ryb25nPiBSZXR1cm5zIHRoZSBoZWFkZXIgZmllbGQgdmFsdWUgZnJvbSB0aGUgcmVzcG9uc2Ugb2Ygd2hpY2ggdGhlIGZpZWxkIG5hbWUgbWF0Y2hlc1xuXHQgKiBoZWFkZXIsIHVubGVzcyB0aGUgZmllbGQgbmFtZSBpcyBTZXQtQ29va2llIG9yIFNldC1Db29raWUyLlxuXHQgKiBAbWV0aG9kIGdldFJlc3BvbnNlSGVhZGVyXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBoZWFkZXIgVGhlIGhlYWRlciBuYW1lIHRvIHJldHJpZXZlLlxuXHQgKiBAcmV0dXJuIHtTdHJpbmd9XG5cdCAqIEBzaW5jZSAwLjQuMVxuXHQgKi9cblx0cC5nZXRSZXNwb25zZUhlYWRlciA9IGZ1bmN0aW9uIChoZWFkZXIpIHtcblx0XHRpZiAodGhpcy5fcmVxdWVzdC5nZXRSZXNwb25zZUhlYWRlciBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5fcmVxdWVzdC5nZXRSZXNwb25zZUhlYWRlcihoZWFkZXIpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gbnVsbDtcblx0XHR9XG5cdH07XG5cbi8vIHByb3RlY3RlZCBtZXRob2RzXG5cdC8qKlxuXHQgKiBUaGUgWEhSIHJlcXVlc3QgaGFzIHJlcG9ydGVkIHByb2dyZXNzLlxuXHQgKiBAbWV0aG9kIF9oYW5kbGVQcm9ncmVzc1xuXHQgKiBAcGFyYW0ge09iamVjdH0gZXZlbnQgVGhlIFhIUiBwcm9ncmVzcyBldmVudC5cblx0ICogQHByaXZhdGVcblx0ICovXG5cdHAuX2hhbmRsZVByb2dyZXNzID0gZnVuY3Rpb24gKGV2ZW50KSB7XG5cdFx0aWYgKCFldmVudCB8fCBldmVudC5sb2FkZWQgPiAwICYmIGV2ZW50LnRvdGFsID09IDApIHtcblx0XHRcdHJldHVybjsgLy8gU29tZXRpbWVzIHdlIGdldCBubyBcInRvdGFsXCIsIHNvIGp1c3QgaWdub3JlIHRoZSBwcm9ncmVzcyBldmVudC5cblx0XHR9XG5cblx0XHR2YXIgbmV3RXZlbnQgPSBuZXcgY3JlYXRlanMuUHJvZ3Jlc3NFdmVudChldmVudC5sb2FkZWQsIGV2ZW50LnRvdGFsKTtcblx0XHR0aGlzLmRpc3BhdGNoRXZlbnQobmV3RXZlbnQpO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBUaGUgWEhSIHJlcXVlc3QgaGFzIHJlcG9ydGVkIGEgbG9hZCBzdGFydC5cblx0ICogQG1ldGhvZCBfaGFuZGxlTG9hZFN0YXJ0XG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBldmVudCBUaGUgWEhSIGxvYWRTdGFydCBldmVudC5cblx0ICogQHByaXZhdGVcblx0ICovXG5cdHAuX2hhbmRsZUxvYWRTdGFydCA9IGZ1bmN0aW9uIChldmVudCkge1xuXHRcdGNsZWFyVGltZW91dCh0aGlzLl9sb2FkVGltZW91dCk7XG5cdFx0dGhpcy5kaXNwYXRjaEV2ZW50KFwibG9hZHN0YXJ0XCIpO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBUaGUgWEhSIHJlcXVlc3QgaGFzIHJlcG9ydGVkIGFuIGFib3J0IGV2ZW50LlxuXHQgKiBAbWV0aG9kIGhhbmRsZUFib3J0XG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBldmVudCBUaGUgWEhSIGFib3J0IGV2ZW50LlxuXHQgKiBAcHJpdmF0ZVxuXHQgKi9cblx0cC5faGFuZGxlQWJvcnQgPSBmdW5jdGlvbiAoZXZlbnQpIHtcblx0XHR0aGlzLl9jbGVhbigpO1xuXHRcdHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgY3JlYXRlanMuRXJyb3JFdmVudChcIlhIUl9BQk9SVEVEXCIsIG51bGwsIGV2ZW50KSk7XG5cdH07XG5cblx0LyoqXG5cdCAqIFRoZSBYSFIgcmVxdWVzdCBoYXMgcmVwb3J0ZWQgYW4gZXJyb3IgZXZlbnQuXG5cdCAqIEBtZXRob2QgX2hhbmRsZUVycm9yXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBldmVudCBUaGUgWEhSIGVycm9yIGV2ZW50LlxuXHQgKiBAcHJpdmF0ZVxuXHQgKi9cblx0cC5faGFuZGxlRXJyb3IgPSBmdW5jdGlvbiAoZXZlbnQpIHtcblx0XHR0aGlzLl9jbGVhbigpO1xuXHRcdHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgY3JlYXRlanMuRXJyb3JFdmVudChldmVudC5tZXNzYWdlKSk7XG5cdH07XG5cblx0LyoqXG5cdCAqIFRoZSBYSFIgcmVxdWVzdCBoYXMgcmVwb3J0ZWQgYSByZWFkeVN0YXRlIGNoYW5nZS4gTm90ZSB0aGF0IG9sZGVyIGJyb3dzZXJzIChJRSA3ICYgOCkgZG8gbm90IHByb3ZpZGUgYW4gb25sb2FkXG5cdCAqIGV2ZW50LCBzbyB3ZSBtdXN0IG1vbml0b3IgdGhlIHJlYWR5U3RhdGVDaGFuZ2UgdG8gZGV0ZXJtaW5lIGlmIHRoZSBmaWxlIGlzIGxvYWRlZC5cblx0ICogQG1ldGhvZCBfaGFuZGxlUmVhZHlTdGF0ZUNoYW5nZVxuXHQgKiBAcGFyYW0ge09iamVjdH0gZXZlbnQgVGhlIFhIUiByZWFkeVN0YXRlQ2hhbmdlIGV2ZW50LlxuXHQgKiBAcHJpdmF0ZVxuXHQgKi9cblx0cC5faGFuZGxlUmVhZHlTdGF0ZUNoYW5nZSA9IGZ1bmN0aW9uIChldmVudCkge1xuXHRcdGlmICh0aGlzLl9yZXF1ZXN0LnJlYWR5U3RhdGUgPT0gNCkge1xuXHRcdFx0dGhpcy5faGFuZGxlTG9hZCgpO1xuXHRcdH1cblx0fTtcblxuXHQvKipcblx0ICogVGhlIFhIUiByZXF1ZXN0IGhhcyBjb21wbGV0ZWQuIFRoaXMgaXMgY2FsbGVkIGJ5IHRoZSBYSFIgcmVxdWVzdCBkaXJlY3RseSwgb3IgYnkgYSByZWFkeVN0YXRlQ2hhbmdlIHRoYXQgaGFzXG5cdCAqIDxjb2RlPnJlcXVlc3QucmVhZHlTdGF0ZSA9PSA0PC9jb2RlPi4gT25seSB0aGUgZmlyc3QgY2FsbCB0byB0aGlzIG1ldGhvZCB3aWxsIGJlIHByb2Nlc3NlZC5cblx0ICpcblx0ICogTm90ZSB0aGF0IFRoaXMgbWV0aG9kIHVzZXMge3sjY3Jvc3NMaW5rIFwiX2NoZWNrRXJyb3JcIn19e3svY3Jvc3NMaW5rfX0gdG8gZGV0ZXJtaW5lIGlmIHRoZSBzZXJ2ZXIgaGFzIHJldHVybmVkIGFuXG5cdCAqIGVycm9yIGNvZGUuXG5cdCAqIEBtZXRob2QgX2hhbmRsZUxvYWRcblx0ICogQHBhcmFtIHtPYmplY3R9IGV2ZW50IFRoZSBYSFIgbG9hZCBldmVudC5cblx0ICogQHByaXZhdGVcblx0ICovXG5cdHAuX2hhbmRsZUxvYWQgPSBmdW5jdGlvbiAoZXZlbnQpIHtcblx0XHRpZiAodGhpcy5sb2FkZWQpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0dGhpcy5sb2FkZWQgPSB0cnVlO1xuXG5cdFx0dmFyIGVycm9yID0gdGhpcy5fY2hlY2tFcnJvcigpO1xuXHRcdGlmIChlcnJvcikge1xuXHRcdFx0dGhpcy5faGFuZGxlRXJyb3IoZXJyb3IpO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdHRoaXMuX3Jlc3BvbnNlID0gdGhpcy5fZ2V0UmVzcG9uc2UoKTtcblx0XHQvLyBDb252ZXJ0IGFycmF5YnVmZmVyIGJhY2sgdG8gYmxvYlxuXHRcdGlmICh0aGlzLl9yZXNwb25zZVR5cGUgPT09ICdhcnJheWJ1ZmZlcicpIHtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdHRoaXMuX3Jlc3BvbnNlID0gbmV3IEJsb2IoW3RoaXMuX3Jlc3BvbnNlXSk7XG5cdFx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRcdC8vIEZhbGxiYWNrIHRvIHVzZSBCbG9iQnVpbGRlciBpZiBCbG9iIGNvbnN0cnVjdG9yIGlzIG5vdCBzdXBwb3J0ZWRcblx0XHRcdFx0Ly8gVGVzdGVkIG9uIEFuZHJvaWQgMi4zIH4gNC4yIGFuZCBpT1M1IHNhZmFyaVxuXHRcdFx0XHR3aW5kb3cuQmxvYkJ1aWxkZXIgPSB3aW5kb3cuQmxvYkJ1aWxkZXIgfHwgd2luZG93LldlYktpdEJsb2JCdWlsZGVyIHx8IHdpbmRvdy5Nb3pCbG9iQnVpbGRlciB8fCB3aW5kb3cuTVNCbG9iQnVpbGRlcjtcblx0XHRcdFx0aWYgKGUubmFtZSA9PT0gJ1R5cGVFcnJvcicgJiYgd2luZG93LkJsb2JCdWlsZGVyKSB7XG5cdFx0XHRcdFx0dmFyIGJ1aWxkZXIgPSBuZXcgQmxvYkJ1aWxkZXIoKTtcblx0XHRcdFx0XHRidWlsZGVyLmFwcGVuZCh0aGlzLl9yZXNwb25zZSk7XG5cdFx0XHRcdFx0dGhpcy5fcmVzcG9uc2UgPSBidWlsZGVyLmdldEJsb2IoKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0XHR0aGlzLl9jbGVhbigpO1xuXG5cdFx0dGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBjcmVhdGVqcy5FdmVudChcImNvbXBsZXRlXCIpKTtcblx0fTtcblxuXHQvKipcblx0ICogVGhlIFhIUiByZXF1ZXN0IGhhcyB0aW1lZCBvdXQuIFRoaXMgaXMgY2FsbGVkIGJ5IHRoZSBYSFIgcmVxdWVzdCBkaXJlY3RseSwgb3IgdmlhIGEgPGNvZGU+c2V0VGltZW91dDwvY29kZT5cblx0ICogY2FsbGJhY2suXG5cdCAqIEBtZXRob2QgX2hhbmRsZVRpbWVvdXRcblx0ICogQHBhcmFtIHtPYmplY3R9IFtldmVudF0gVGhlIFhIUiB0aW1lb3V0IGV2ZW50LiBUaGlzIGlzIG9jY2FzaW9uYWxseSBudWxsIHdoZW4gY2FsbGVkIGJ5IHRoZSBiYWNrdXAgc2V0VGltZW91dC5cblx0ICogQHByaXZhdGVcblx0ICovXG5cdHAuX2hhbmRsZVRpbWVvdXQgPSBmdW5jdGlvbiAoZXZlbnQpIHtcblx0XHR0aGlzLl9jbGVhbigpO1xuXHRcdHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgY3JlYXRlanMuRXJyb3JFdmVudChcIlBSRUxPQURfVElNRU9VVFwiLCBudWxsLCBldmVudCkpO1xuXHR9O1xuXG4vLyBQcm90ZWN0ZWRcblx0LyoqXG5cdCAqIERldGVybWluZSBpZiB0aGVyZSBpcyBhbiBlcnJvciBpbiB0aGUgY3VycmVudCBsb2FkLlxuXHQgKiBDdXJyZW50bHkgdGhpcyBjaGVja3MgdGhlIHN0YXR1cyBvZiB0aGUgcmVxdWVzdCBmb3IgcHJvYmxlbSBjb2RlcywgYW5kIG5vdCBhY3R1YWwgcmVzcG9uc2UgY29udGVudDpcblx0ICogPHVsPlxuXHQgKiAgICAgPGxpPlN0YXR1cyBjb2RlcyBiZXR3ZWVuIDQwMCBhbmQgNTk5IChIVFRQIGVycm9yIHJhbmdlKTwvbGk+XG5cdCAqICAgICA8bGk+QSBzdGF0dXMgb2YgMCwgYnV0ICpvbmx5IHdoZW4gdGhlIGFwcGxpY2F0aW9uIGlzIHJ1bm5pbmcgb24gYSBzZXJ2ZXIqLiBJZiB0aGUgYXBwbGljYXRpb24gaXMgcnVubmluZ1xuXHQgKiAgICAgb24gYGZpbGU6YCwgdGhlbiBpdCBtYXkgaW5jb3JyZWN0bHkgdHJlYXQgYW4gZXJyb3Igb24gbG9jYWwgKG9yIGVtYmVkZGVkIGFwcGxpY2F0aW9ucykgYXMgYSBzdWNjZXNzZnVsXG5cdCAqICAgICBsb2FkLjwvbGk+XG5cdCAqIDwvdWw+XG5cdCAqIEBtZXRob2QgX2NoZWNrRXJyb3Jcblx0ICogQHJldHVybiB7RXJyb3J9IEFuIGVycm9yIHdpdGggdGhlIHN0YXR1cyBjb2RlIGluIHRoZSBgbWVzc2FnZWAgYXJndW1lbnQuXG5cdCAqIEBwcml2YXRlXG5cdCAqL1xuXHRwLl9jaGVja0Vycm9yID0gZnVuY3Rpb24gKCkge1xuXHRcdHZhciBzdGF0dXMgPSBwYXJzZUludCh0aGlzLl9yZXF1ZXN0LnN0YXR1cyk7XG5cdFx0aWYgKHN0YXR1cyA+PSA0MDAgJiYgc3RhdHVzIDw9IDU5OSkge1xuXHRcdFx0cmV0dXJuIG5ldyBFcnJvcihzdGF0dXMpO1xuXHRcdH0gZWxzZSBpZiAoc3RhdHVzID09IDApIHtcblx0XHRcdGlmICgoL15odHRwcz86LykudGVzdChsb2NhdGlvbi5wcm90b2NvbCkpIHsgcmV0dXJuIG5ldyBFcnJvcigwKTsgfVxuXHRcdFx0cmV0dXJuIG51bGw7IC8vIExpa2VseSBhbiBlbWJlZGRlZCBhcHAuXG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiBudWxsO1xuXHRcdH1cblx0fTtcblxuXG5cdC8qKlxuXHQgKiBWYWxpZGF0ZSB0aGUgcmVzcG9uc2UuIERpZmZlcmVudCBicm93c2VycyBoYXZlIGRpZmZlcmVudCBhcHByb2FjaGVzLCBzb21lIG9mIHdoaWNoIHRocm93IGVycm9ycyB3aGVuIGFjY2Vzc2VkXG5cdCAqIGluIG90aGVyIGJyb3dzZXJzLiBJZiB0aGVyZSBpcyBubyByZXNwb25zZSwgdGhlIDxjb2RlPl9yZXNwb25zZTwvY29kZT4gcHJvcGVydHkgd2lsbCByZW1haW4gbnVsbC5cblx0ICogQG1ldGhvZCBfZ2V0UmVzcG9uc2Vcblx0ICogQHByaXZhdGVcblx0ICovXG5cdHAuX2dldFJlc3BvbnNlID0gZnVuY3Rpb24gKCkge1xuXHRcdGlmICh0aGlzLl9yZXNwb25zZSAhPSBudWxsKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5fcmVzcG9uc2U7XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMuX3JlcXVlc3QucmVzcG9uc2UgIT0gbnVsbCkge1xuXHRcdFx0cmV0dXJuIHRoaXMuX3JlcXVlc3QucmVzcG9uc2U7XG5cdFx0fVxuXG5cdFx0Ly8gQW5kcm9pZCAyLjIgdXNlcyAucmVzcG9uc2VUZXh0XG5cdFx0dHJ5IHtcblx0XHRcdGlmICh0aGlzLl9yZXF1ZXN0LnJlc3BvbnNlVGV4dCAhPSBudWxsKSB7XG5cdFx0XHRcdHJldHVybiB0aGlzLl9yZXF1ZXN0LnJlc3BvbnNlVGV4dDtcblx0XHRcdH1cblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0fVxuXG5cdFx0Ly8gV2hlbiBsb2FkaW5nIFhNTCwgSUU5IGRvZXMgbm90IHJldHVybiAucmVzcG9uc2UsIGluc3RlYWQgaXQgcmV0dXJucyByZXNwb25zZVhNTC54bWxcblx0XHR0cnkge1xuXHRcdFx0aWYgKHRoaXMuX3JlcXVlc3QucmVzcG9uc2VYTUwgIT0gbnVsbCkge1xuXHRcdFx0XHRyZXR1cm4gdGhpcy5fcmVxdWVzdC5yZXNwb25zZVhNTDtcblx0XHRcdH1cblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIG51bGw7XG5cdH07XG5cblx0LyoqXG5cdCAqIENyZWF0ZSBhbiBYSFIgcmVxdWVzdC4gRGVwZW5kaW5nIG9uIGEgbnVtYmVyIG9mIGZhY3RvcnMsIHdlIGdldCB0b3RhbGx5IGRpZmZlcmVudCByZXN1bHRzLlxuXHQgKiA8b2w+PGxpPlNvbWUgYnJvd3NlcnMgZ2V0IGFuIDxjb2RlPlhEb21haW5SZXF1ZXN0PC9jb2RlPiB3aGVuIGxvYWRpbmcgY3Jvc3MtZG9tYWluLjwvbGk+XG5cdCAqICAgICAgPGxpPlhNTEh0dHBSZXF1ZXN0IGFyZSBjcmVhdGVkIHdoZW4gYXZhaWxhYmxlLjwvbGk+XG5cdCAqICAgICAgPGxpPkFjdGl2ZVguWE1MSFRUUCBvYmplY3RzIGFyZSB1c2VkIGluIG9sZGVyIElFIGJyb3dzZXJzLjwvbGk+XG5cdCAqICAgICAgPGxpPlRleHQgcmVxdWVzdHMgb3ZlcnJpZGUgdGhlIG1pbWUgdHlwZSBpZiBwb3NzaWJsZTwvbGk+XG5cdCAqICAgICAgPGxpPk9yaWdpbiBoZWFkZXJzIGFyZSBzZW50IGZvciBjcm9zc2RvbWFpbiByZXF1ZXN0cyBpbiBzb21lIGJyb3dzZXJzLjwvbGk+XG5cdCAqICAgICAgPGxpPkJpbmFyeSBsb2FkcyBzZXQgdGhlIHJlc3BvbnNlIHR5cGUgdG8gXCJhcnJheWJ1ZmZlclwiPC9saT48L29sPlxuXHQgKiBAbWV0aG9kIF9jcmVhdGVYSFJcblx0ICogQHBhcmFtIHtPYmplY3R9IGl0ZW0gVGhlIHJlcXVlc3RlZCBpdGVtIHRoYXQgaXMgYmVpbmcgbG9hZGVkLlxuXHQgKiBAcmV0dXJuIHtCb29sZWFufSBJZiBhbiBYSFIgcmVxdWVzdCBvciBlcXVpdmFsZW50IHdhcyBzdWNjZXNzZnVsbHkgY3JlYXRlZC5cblx0ICogQHByaXZhdGVcblx0ICovXG5cdHAuX2NyZWF0ZVhIUiA9IGZ1bmN0aW9uIChpdGVtKSB7XG5cdFx0Ly8gQ2hlY2sgZm9yIGNyb3NzLWRvbWFpbiBsb2Fkcy4gV2UgY2FuJ3QgZnVsbHkgc3VwcG9ydCB0aGVtLCBidXQgd2UgY2FuIHRyeS5cblx0XHR2YXIgY3Jvc3Nkb21haW4gPSBjcmVhdGVqcy5VUkxVdGlscy5pc0Nyb3NzRG9tYWluKGl0ZW0pO1xuXHRcdHZhciBoZWFkZXJzID0ge307XG5cblx0XHQvLyBDcmVhdGUgdGhlIHJlcXVlc3QuIEZhbGxiYWNrIHRvIHdoYXRldmVyIHN1cHBvcnQgd2UgaGF2ZS5cblx0XHR2YXIgcmVxID0gbnVsbDtcblx0XHRpZiAod2luZG93LlhNTEh0dHBSZXF1ZXN0KSB7XG5cdFx0XHRyZXEgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcblx0XHRcdC8vIFRoaXMgaXMgOCBvciA5LCBzbyB1c2UgWERvbWFpblJlcXVlc3QgaW5zdGVhZC5cblx0XHRcdGlmIChjcm9zc2RvbWFpbiAmJiByZXEud2l0aENyZWRlbnRpYWxzID09PSB1bmRlZmluZWQgJiYgd2luZG93LlhEb21haW5SZXF1ZXN0KSB7XG5cdFx0XHRcdHJlcSA9IG5ldyBYRG9tYWluUmVxdWVzdCgpO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7IC8vIE9sZCBJRSB2ZXJzaW9ucyB1c2UgYSBkaWZmZXJlbnQgYXBwcm9hY2hcblx0XHRcdGZvciAodmFyIGkgPSAwLCBsID0gcy5BQ1RJVkVYX1ZFUlNJT05TLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuXHRcdFx0XHR2YXIgYXhWZXJzaW9uID0gcy5BQ1RJVkVYX1ZFUlNJT05TW2ldO1xuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdHJlcSA9IG5ldyBBY3RpdmVYT2JqZWN0KGF4VmVyc2lvbik7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0aWYgKHJlcSA9PSBudWxsKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBEZWZhdWx0IHRvIHV0Zi04IGZvciBUZXh0IHJlcXVlc3RzLlxuXHRcdGlmIChpdGVtLm1pbWVUeXBlID09IG51bGwgJiYgY3JlYXRlanMuUmVxdWVzdFV0aWxzLmlzVGV4dChpdGVtLnR5cGUpKSB7XG5cdFx0XHRpdGVtLm1pbWVUeXBlID0gXCJ0ZXh0L3BsYWluOyBjaGFyc2V0PXV0Zi04XCI7XG5cdFx0fVxuXG5cdFx0Ly8gSUU5IGRvZXNuJ3Qgc3VwcG9ydCBvdmVycmlkZU1pbWVUeXBlKCksIHNvIHdlIG5lZWQgdG8gY2hlY2sgZm9yIGl0LlxuXHRcdGlmIChpdGVtLm1pbWVUeXBlICYmIHJlcS5vdmVycmlkZU1pbWVUeXBlKSB7XG5cdFx0XHRyZXEub3ZlcnJpZGVNaW1lVHlwZShpdGVtLm1pbWVUeXBlKTtcblx0XHR9XG5cblx0XHQvLyBEZXRlcm1pbmUgdGhlIFhIUiBsZXZlbFxuXHRcdHRoaXMuX3hockxldmVsID0gKHR5cGVvZiByZXEucmVzcG9uc2VUeXBlID09PSBcInN0cmluZ1wiKSA/IDIgOiAxO1xuXG5cdFx0dmFyIHNyYyA9IG51bGw7XG5cdFx0aWYgKGl0ZW0ubWV0aG9kID09IGNyZWF0ZWpzLk1ldGhvZHMuR0VUKSB7XG5cdFx0XHRzcmMgPSBjcmVhdGVqcy5VUkxVdGlscy5idWlsZFVSSShpdGVtLnNyYywgaXRlbS52YWx1ZXMpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRzcmMgPSBpdGVtLnNyYztcblx0XHR9XG5cblx0XHQvLyBPcGVuIHRoZSByZXF1ZXN0LiAgU2V0IGNyb3NzLWRvbWFpbiBmbGFncyBpZiBpdCBpcyBzdXBwb3J0ZWQgKFhIUiBsZXZlbCAxIG9ubHkpXG5cdFx0cmVxLm9wZW4oaXRlbS5tZXRob2QgfHwgY3JlYXRlanMuTWV0aG9kcy5HRVQsIHNyYywgdHJ1ZSk7XG5cblx0XHRpZiAoY3Jvc3Nkb21haW4gJiYgcmVxIGluc3RhbmNlb2YgWE1MSHR0cFJlcXVlc3QgJiYgdGhpcy5feGhyTGV2ZWwgPT0gMSkge1xuXHRcdFx0aGVhZGVyc1tcIk9yaWdpblwiXSA9IGxvY2F0aW9uLm9yaWdpbjtcblx0XHR9XG5cblx0XHQvLyBUbyBzZW5kIGRhdGEgd2UgbmVlZCB0byBzZXQgdGhlIENvbnRlbnQtdHlwZSBoZWFkZXIpXG5cdFx0aWYgKGl0ZW0udmFsdWVzICYmIGl0ZW0ubWV0aG9kID09IGNyZWF0ZWpzLk1ldGhvZHMuUE9TVCkge1xuXHRcdFx0aGVhZGVyc1tcIkNvbnRlbnQtVHlwZVwiXSA9IFwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCI7XG5cdFx0fVxuXG5cdFx0aWYgKCFjcm9zc2RvbWFpbiAmJiAhaGVhZGVyc1tcIlgtUmVxdWVzdGVkLVdpdGhcIl0pIHtcblx0XHRcdGhlYWRlcnNbXCJYLVJlcXVlc3RlZC1XaXRoXCJdID0gXCJYTUxIdHRwUmVxdWVzdFwiO1xuXHRcdH1cblxuXHRcdGlmIChpdGVtLmhlYWRlcnMpIHtcblx0XHRcdGZvciAodmFyIG4gaW4gaXRlbS5oZWFkZXJzKSB7XG5cdFx0XHRcdGhlYWRlcnNbbl0gPSBpdGVtLmhlYWRlcnNbbl07XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Zm9yIChuIGluIGhlYWRlcnMpIHtcblx0XHRcdHJlcS5zZXRSZXF1ZXN0SGVhZGVyKG4sIGhlYWRlcnNbbl0pXG5cdFx0fVxuXG5cdFx0aWYgKHJlcSBpbnN0YW5jZW9mIFhNTEh0dHBSZXF1ZXN0ICYmIGl0ZW0ud2l0aENyZWRlbnRpYWxzICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdHJlcS53aXRoQ3JlZGVudGlhbHMgPSBpdGVtLndpdGhDcmVkZW50aWFscztcblx0XHR9XG5cblx0XHR0aGlzLl9yZXF1ZXN0ID0gcmVxO1xuXG5cdFx0cmV0dXJuIHRydWU7XG5cdH07XG5cblx0LyoqXG5cdCAqIEEgcmVxdWVzdCBoYXMgY29tcGxldGVkIChvciBmYWlsZWQgb3IgY2FuY2VsZWQpLCBhbmQgbmVlZHMgdG8gYmUgZGlzcG9zZWQuXG5cdCAqIEBtZXRob2QgX2NsZWFuXG5cdCAqIEBwcml2YXRlXG5cdCAqL1xuXHRwLl9jbGVhbiA9IGZ1bmN0aW9uICgpIHtcblx0XHRjbGVhclRpbWVvdXQodGhpcy5fbG9hZFRpbWVvdXQpO1xuXG5cdFx0aWYgKHRoaXMuX3JlcXVlc3QucmVtb3ZlRXZlbnRMaXN0ZW5lciAhPSBudWxsKSB7XG5cdFx0XHR0aGlzLl9yZXF1ZXN0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJsb2Fkc3RhcnRcIiwgdGhpcy5faGFuZGxlTG9hZFN0YXJ0UHJveHkpO1xuXHRcdFx0dGhpcy5fcmVxdWVzdC5yZW1vdmVFdmVudExpc3RlbmVyKFwicHJvZ3Jlc3NcIiwgdGhpcy5faGFuZGxlUHJvZ3Jlc3NQcm94eSk7XG5cdFx0XHR0aGlzLl9yZXF1ZXN0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLCB0aGlzLl9oYW5kbGVBYm9ydFByb3h5KTtcblx0XHRcdHRoaXMuX3JlcXVlc3QucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsIHRoaXMuX2hhbmRsZUVycm9yUHJveHkpO1xuXHRcdFx0dGhpcy5fcmVxdWVzdC5yZW1vdmVFdmVudExpc3RlbmVyKFwidGltZW91dFwiLCB0aGlzLl9oYW5kbGVUaW1lb3V0UHJveHkpO1xuXHRcdFx0dGhpcy5fcmVxdWVzdC5yZW1vdmVFdmVudExpc3RlbmVyKFwibG9hZFwiLCB0aGlzLl9oYW5kbGVMb2FkUHJveHkpO1xuXHRcdFx0dGhpcy5fcmVxdWVzdC5yZW1vdmVFdmVudExpc3RlbmVyKFwicmVhZHlzdGF0ZWNoYW5nZVwiLCB0aGlzLl9oYW5kbGVSZWFkeVN0YXRlQ2hhbmdlUHJveHkpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLl9yZXF1ZXN0Lm9ubG9hZHN0YXJ0ID0gbnVsbDtcblx0XHRcdHRoaXMuX3JlcXVlc3Qub25wcm9ncmVzcyA9IG51bGw7XG5cdFx0XHR0aGlzLl9yZXF1ZXN0Lm9uYWJvcnQgPSBudWxsO1xuXHRcdFx0dGhpcy5fcmVxdWVzdC5vbmVycm9yID0gbnVsbDtcblx0XHRcdHRoaXMuX3JlcXVlc3Qub250aW1lb3V0ID0gbnVsbDtcblx0XHRcdHRoaXMuX3JlcXVlc3Qub25sb2FkID0gbnVsbDtcblx0XHRcdHRoaXMuX3JlcXVlc3Qub25yZWFkeXN0YXRlY2hhbmdlID0gbnVsbDtcblx0XHR9XG5cdH07XG5cblx0cC50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcblx0XHRyZXR1cm4gXCJbUHJlbG9hZEpTIFhIUlJlcXVlc3RdXCI7XG5cdH07XG5cblx0Y3JlYXRlanMuWEhSUmVxdWVzdCA9IGNyZWF0ZWpzLnByb21vdGUoWEhSUmVxdWVzdCwgXCJBYnN0cmFjdFJlcXVlc3RcIik7XG5cbn0oKSk7XG5cbi8vIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXG4vLyBMb2FkUXVldWUuanNcbi8vIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXG5cbi8qXG4gVE9ETzogV0lORE9XUyBJU1NVRVNcbiAqIE5vIGVycm9yIGZvciBIVE1MIGF1ZGlvIGluIElFIDY3OFxuICogU1ZHIG5vIGZhaWx1cmUgZXJyb3IgaW4gSUUgNjcgKG1heWJlIDgpIFRBR1MgQU5EIFhIUlxuICogTm8gc2NyaXB0IGNvbXBsZXRlIGhhbmRsZXIgaW4gSUUgNjcgVEFHUyAoWEhSIGlzIGZpbmUpXG4gKiBObyBYTUwvSlNPTiBpbiBJRTYgVEFHU1xuICogTmVlZCB0byBoaWRlIGxvYWRpbmcgU1ZHIGluIE9wZXJhIFRBR1NcbiAqIE5vIENTUyBvbmxvYWQvcmVhZHlzdGF0ZWNoYW5nZSBpbiBTYWZhcmkgb3IgQW5kcm9pZCBUQUdTIChyZXF1aXJlcyBydWxlIGNoZWNraW5nKVxuICogU1ZHIG5vIGxvYWQgb3IgZmFpbHVyZSBpbiBPcGVyYSBYSFJcbiAqIFJlcG9ydGVkIGlzc3VlcyB3aXRoIElFNy84XG4gKi9cblxuKGZ1bmN0aW9uICgpIHtcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cbi8vIGNvbnN0cnVjdG9yXG5cdC8qKlxuXHQgKiBUaGUgTG9hZFF1ZXVlIGNsYXNzIGlzIHRoZSBtYWluIEFQSSBmb3IgcHJlbG9hZGluZyBjb250ZW50LiBMb2FkUXVldWUgaXMgYSBsb2FkIG1hbmFnZXIsIHdoaWNoIGNhbiBwcmVsb2FkIGVpdGhlclxuXHQgKiBhIHNpbmdsZSBmaWxlLCBvciBxdWV1ZSBvZiBmaWxlcy5cblx0ICpcblx0ICogPGI+Q3JlYXRpbmcgYSBRdWV1ZTwvYj48YnIgLz5cblx0ICogVG8gdXNlIExvYWRRdWV1ZSwgY3JlYXRlIGEgTG9hZFF1ZXVlIGluc3RhbmNlLiBJZiB5b3Ugd2FudCB0byBmb3JjZSB0YWcgbG9hZGluZyB3aGVyZSBwb3NzaWJsZSwgc2V0IHRoZSBwcmVmZXJYSFJcblx0ICogYXJndW1lbnQgdG8gZmFsc2UuXG5cdCAqXG5cdCAqICAgICAgdmFyIHF1ZXVlID0gbmV3IGNyZWF0ZWpzLkxvYWRRdWV1ZSh0cnVlKTtcblx0ICpcblx0ICogPGI+TGlzdGVuaW5nIGZvciBFdmVudHM8L2I+PGJyIC8+XG5cdCAqIEFkZCBhbnkgbGlzdGVuZXJzIHlvdSB3YW50IHRvIHRoZSBxdWV1ZS4gU2luY2UgUHJlbG9hZEpTIDAuMy4wLCB0aGUge3sjY3Jvc3NMaW5rIFwiRXZlbnREaXNwYXRjaGVyXCJ9fXt7L2Nyb3NzTGlua319XG5cdCAqIGxldHMgeW91IGFkZCBhcyBtYW55IGxpc3RlbmVycyBhcyB5b3Ugd2FudCBmb3IgZXZlbnRzLiBZb3UgY2FuIHN1YnNjcmliZSB0byB0aGUgZm9sbG93aW5nIGV2ZW50czo8dWw+XG5cdCAqICAgICA8bGk+e3sjY3Jvc3NMaW5rIFwiQWJzdHJhY3RMb2FkZXIvY29tcGxldGU6ZXZlbnRcIn19e3svY3Jvc3NMaW5rfX06IGZpcmVkIHdoZW4gYSBxdWV1ZSBjb21wbGV0ZXMgbG9hZGluZyBhbGxcblx0ICogICAgIGZpbGVzPC9saT5cblx0ICogICAgIDxsaT57eyNjcm9zc0xpbmsgXCJBYnN0cmFjdExvYWRlci9lcnJvcjpldmVudFwifX17ey9jcm9zc0xpbmt9fTogZmlyZWQgd2hlbiB0aGUgcXVldWUgZW5jb3VudGVycyBhbiBlcnJvciB3aXRoXG5cdCAqICAgICBhbnkgZmlsZS48L2xpPlxuXHQgKiAgICAgPGxpPnt7I2Nyb3NzTGluayBcIkFic3RyYWN0TG9hZGVyL3Byb2dyZXNzOmV2ZW50XCJ9fXt7L2Nyb3NzTGlua319OiBQcm9ncmVzcyBmb3IgdGhlIGVudGlyZSBxdWV1ZSBoYXNcblx0ICogICAgIGNoYW5nZWQuPC9saT5cblx0ICogICAgIDxsaT57eyNjcm9zc0xpbmsgXCJMb2FkUXVldWUvZmlsZWxvYWQ6ZXZlbnRcIn19e3svY3Jvc3NMaW5rfX06IEEgc2luZ2xlIGZpbGUgaGFzIGNvbXBsZXRlZCBsb2FkaW5nLjwvbGk+XG5cdCAqICAgICA8bGk+e3sjY3Jvc3NMaW5rIFwiTG9hZFF1ZXVlL2ZpbGVwcm9ncmVzczpldmVudFwifX17ey9jcm9zc0xpbmt9fTogUHJvZ3Jlc3MgZm9yIGEgc2luZ2xlIGZpbGUgaGFzIGNoYW5nZXMuIE5vdGVcblx0ICogICAgIHRoYXQgb25seSBmaWxlcyBsb2FkZWQgd2l0aCBYSFIgKG9yIHBvc3NpYmx5IGJ5IHBsdWdpbnMpIHdpbGwgZmlyZSBwcm9ncmVzcyBldmVudHMgb3RoZXIgdGhhbiAwIG9yIDEwMCUuPC9saT5cblx0ICogPC91bD5cblx0ICpcblx0ICogICAgICBxdWV1ZS5vbihcImZpbGVsb2FkXCIsIGhhbmRsZUZpbGVMb2FkLCB0aGlzKTtcblx0ICogICAgICBxdWV1ZS5vbihcImNvbXBsZXRlXCIsIGhhbmRsZUNvbXBsZXRlLCB0aGlzKTtcblx0ICpcblx0ICogPGI+QWRkaW5nIGZpbGVzIGFuZCBtYW5pZmVzdHM8L2I+PGJyIC8+XG5cdCAqIEFkZCBmaWxlcyB5b3Ugd2FudCB0byBsb2FkIHVzaW5nIHt7I2Nyb3NzTGluayBcIkxvYWRRdWV1ZS9sb2FkRmlsZVwifX17ey9jcm9zc0xpbmt9fSBvciBhZGQgbXVsdGlwbGUgZmlsZXMgYXQgYVxuXHQgKiB0aW1lIHVzaW5nIGEgbGlzdCBvciBhIG1hbmlmZXN0IGRlZmluaXRpb24gdXNpbmcge3sjY3Jvc3NMaW5rIFwiTG9hZFF1ZXVlL2xvYWRNYW5pZmVzdFwifX17ey9jcm9zc0xpbmt9fS4gRmlsZXMgYXJlXG5cdCAqIGFwcGVuZGVkIHRvIHRoZSBlbmQgb2YgdGhlIGFjdGl2ZSBxdWV1ZSwgc28geW91IGNhbiB1c2UgdGhlc2UgbWV0aG9kcyBhcyBtYW55IHRpbWVzIGFzIHlvdSBsaWtlLCB3aGVuZXZlciB5b3Vcblx0ICogbGlrZS5cblx0ICpcblx0ICogICAgICBxdWV1ZS5sb2FkRmlsZShcImZpbGVQYXRoL2ZpbGUuanBnXCIpO1xuXHQgKiAgICAgIHF1ZXVlLmxvYWRGaWxlKHtpZDpcImltYWdlXCIsIHNyYzpcImZpbGVQYXRoL2ZpbGUuanBnXCJ9KTtcblx0ICogICAgICBxdWV1ZS5sb2FkTWFuaWZlc3QoW1wiZmlsZVBhdGgvZmlsZS5qcGdcIiwge2lkOlwiaW1hZ2VcIiwgc3JjOlwiZmlsZVBhdGgvZmlsZS5qcGdcIn1dKTtcblx0ICpcblx0ICogICAgICAvLyBVc2UgYW4gZXh0ZXJuYWwgbWFuaWZlc3Rcblx0ICogICAgICBxdWV1ZS5sb2FkTWFuaWZlc3QoXCJwYXRoL3RvL21hbmlmZXN0Lmpzb25cIik7XG5cdCAqICAgICAgcXVldWUubG9hZE1hbmlmZXN0KHtzcmM6XCJtYW5pZmVzdC5qc29uXCIsIHR5cGU6XCJtYW5pZmVzdFwifSk7XG5cdCAqXG5cdCAqIElmIHlvdSBwYXNzIGBmYWxzZWAgYXMgdGhlIGBsb2FkTm93YCBwYXJhbWV0ZXIsIHRoZSBxdWV1ZSB3aWxsIG5vdCBraWNrIG9mIHRoZSBsb2FkIG9mIHRoZSBmaWxlcywgYnV0IGl0IHdpbGwgbm90XG5cdCAqIHN0b3AgaWYgaXQgaGFzIGFscmVhZHkgYmVlbiBzdGFydGVkLiBDYWxsIHRoZSB7eyNjcm9zc0xpbmsgXCJBYnN0cmFjdExvYWRlci9sb2FkXCJ9fXt7L2Nyb3NzTGlua319IG1ldGhvZCB0byBiZWdpblxuXHQgKiBhIHBhdXNlZCBxdWV1ZS4gTm90ZSB0aGF0IGEgcGF1c2VkIHF1ZXVlIHdpbGwgYXV0b21hdGljYWxseSByZXN1bWUgd2hlbiBuZXcgZmlsZXMgYXJlIGFkZGVkIHRvIGl0IHdpdGggYVxuXHQgKiBgbG9hZE5vd2AgYXJndW1lbnQgb2YgYHRydWVgLlxuXHQgKlxuXHQgKiAgICAgIHF1ZXVlLmxvYWQoKTtcblx0ICpcblx0ICogPGI+RmlsZSBUeXBlczwvYj48YnIgLz5cblx0ICogVGhlIGZpbGUgdHlwZSBvZiBhIG1hbmlmZXN0IGl0ZW0gaXMgYXV0by1kZXRlcm1pbmVkIGJ5IHRoZSBmaWxlIGV4dGVuc2lvbi4gVGhlIHBhdHRlcm4gbWF0Y2hpbmcgaW4gUHJlbG9hZEpTXG5cdCAqIHNob3VsZCBoYW5kbGUgdGhlIG1ham9yaXR5IG9mIHN0YW5kYXJkIGZpbGUgYW5kIHVybCBmb3JtYXRzLCBhbmQgd29ya3Mgd2l0aCBjb21tb24gZmlsZSBleHRlbnNpb25zLiBJZiB5b3UgaGF2ZVxuXHQgKiBlaXRoZXIgYSBub24tc3RhbmRhcmQgZmlsZSBleHRlbnNpb24sIG9yIGFyZSBzZXJ2aW5nIHRoZSBmaWxlIHVzaW5nIGEgcHJveHkgc2NyaXB0LCB0aGVuIHlvdSBjYW4gcGFzcyBpbiBhXG5cdCAqIDxjb2RlPnR5cGU8L2NvZGU+IHByb3BlcnR5IHdpdGggYW55IG1hbmlmZXN0IGl0ZW0uXG5cdCAqXG5cdCAqICAgICAgcXVldWUubG9hZEZpbGUoe3NyYzpcInBhdGgvdG8vbXlGaWxlLm1wM3hcIiwgdHlwZTpjcmVhdGVqcy5UeXBlcy5TT1VORH0pO1xuXHQgKlxuXHQgKiAgICAgIC8vIE5vdGUgdGhhdCBQcmVsb2FkSlMgd2lsbCBub3QgcmVhZCBhIGZpbGUgZXh0ZW5zaW9uIGZyb20gdGhlIHF1ZXJ5IHN0cmluZ1xuXHQgKiAgICAgIHF1ZXVlLmxvYWRGaWxlKHtzcmM6XCJodHRwOi8vc2VydmVyLmNvbS9wcm94eT9maWxlPWltYWdlLmpwZ1wiLCB0eXBlOmNyZWF0ZWpzLlR5cGVzLklNQUdFfSk7XG5cdCAqXG5cdCAqIFN1cHBvcnRlZCB0eXBlcyBhcmUgZGVmaW5lZCBvbiB0aGUge3sjY3Jvc3NMaW5rIFwiQWJzdHJhY3RMb2FkZXJcIn19e3svY3Jvc3NMaW5rfX0gY2xhc3MsIGFuZCBpbmNsdWRlOlxuXHQgKiA8dWw+XG5cdCAqICAgICA8bGk+e3sjY3Jvc3NMaW5rIFwiVHlwZXMvQklOQVJZOnByb3BlcnR5XCJ9fXt7L2Nyb3NzTGlua319OiBSYXcgYmluYXJ5IGRhdGEgdmlhIFhIUjwvbGk+XG5cdCAqICAgICA8bGk+e3sjY3Jvc3NMaW5rIFwiVHlwZXMvQ1NTOnByb3BlcnR5XCJ9fXt7L2Nyb3NzTGlua319OiBDU1MgZmlsZXM8L2xpPlxuXHQgKiAgICAgPGxpPnt7I2Nyb3NzTGluayBcIlR5cGVzL0lNQUdFOnByb3BlcnR5XCJ9fXt7L2Nyb3NzTGlua319OiBDb21tb24gaW1hZ2UgZm9ybWF0czwvbGk+XG5cdCAqICAgICA8bGk+e3sjY3Jvc3NMaW5rIFwiVHlwZXMvSkFWQVNDUklQVDpwcm9wZXJ0eVwifX17ey9jcm9zc0xpbmt9fTogSmF2YVNjcmlwdCBmaWxlczwvbGk+XG5cdCAqICAgICA8bGk+e3sjY3Jvc3NMaW5rIFwiVHlwZXMvSlNPTjpwcm9wZXJ0eVwifX17ey9jcm9zc0xpbmt9fTogSlNPTiBkYXRhPC9saT5cblx0ICogICAgIDxsaT57eyNjcm9zc0xpbmsgXCJUeXBlcy9KU09OUDpwcm9wZXJ0eVwifX17ey9jcm9zc0xpbmt9fTogSlNPTiBmaWxlcyBjcm9zcy1kb21haW48L2xpPlxuXHQgKiAgICAgPGxpPnt7I2Nyb3NzTGluayBcIlR5cGVzL01BTklGRVNUOnByb3BlcnR5XCJ9fXt7L2Nyb3NzTGlua319OiBBIGxpc3Qgb2YgZmlsZXMgdG8gbG9hZCBpbiBKU09OIGZvcm1hdCwgc2VlXG5cdCAqICAgICB7eyNjcm9zc0xpbmsgXCJBYnN0cmFjdExvYWRlci9sb2FkTWFuaWZlc3RcIn19e3svY3Jvc3NMaW5rfX08L2xpPlxuXHQgKiAgICAgPGxpPnt7I2Nyb3NzTGluayBcIlR5cGVzL1NPVU5EOnByb3BlcnR5XCJ9fXt7L2Nyb3NzTGlua319OiBBdWRpbyBmaWxlIGZvcm1hdHM8L2xpPlxuXHQgKiAgICAgPGxpPnt7I2Nyb3NzTGluayBcIlR5cGVzL1NQUklURVNIRUVUOnByb3BlcnR5XCJ9fXt7L2Nyb3NzTGlua319OiBKU09OIFNwcml0ZVNoZWV0IGRlZmluaXRpb25zLiBUaGlzXG5cdCAqICAgICB3aWxsIGFsc28gbG9hZCBzdWItaW1hZ2VzLCBhbmQgcHJvdmlkZSBhIHt7I2Nyb3NzTGluayBcIlNwcml0ZVNoZWV0XCJ9fXt7L2Nyb3NzTGlua319IGluc3RhbmNlLjwvbGk+XG5cdCAqICAgICA8bGk+e3sjY3Jvc3NMaW5rIFwiVHlwZXMvU1ZHOnByb3BlcnR5XCJ9fXt7L2Nyb3NzTGlua319OiBTVkcgZmlsZXM8L2xpPlxuXHQgKiAgICAgPGxpPnt7I2Nyb3NzTGluayBcIlR5cGVzL1RFWFQ6cHJvcGVydHlcIn19e3svY3Jvc3NMaW5rfX06IFRleHQgZmlsZXMgLSBYSFIgb25seTwvbGk+XG4gICAgICogICAgIDxsaT57eyNjcm9zc0xpbmsgXCJUeXBlcy9WSURFTzpwcm9wZXJ0eVwifX17ey9jcm9zc0xpbmt9fTogVmlkZW8gb2JqZWN0czwvbGk+XG5cdCAqICAgICA8bGk+e3sjY3Jvc3NMaW5rIFwiVHlwZXMvWE1MOnByb3BlcnR5XCJ9fXt7L2Nyb3NzTGlua319OiBYTUwgZGF0YTwvbGk+XG5cdCAqIDwvdWw+XG5cdCAqXG5cdCAqIDxlbT5Ob3RlOiBMb2FkZXIgdHlwZXMgdXNlZCB0byBiZSBkZWZpbmVkIG9uIExvYWRRdWV1ZSwgYnV0IGhhdmUgYmVlbiBtb3ZlZCB0byB0aGUgVHlwZXMgY2xhc3M8L2VtPlxuXHQgKlxuXHQgKiA8Yj5IYW5kbGluZyBSZXN1bHRzPC9iPjxiciAvPlxuXHQgKiBXaGVuIGEgZmlsZSBpcyBmaW5pc2hlZCBkb3dubG9hZGluZywgYSB7eyNjcm9zc0xpbmsgXCJMb2FkUXVldWUvZmlsZWxvYWQ6ZXZlbnRcIn19e3svY3Jvc3NMaW5rfX0gZXZlbnQgaXNcblx0ICogZGlzcGF0Y2hlZC4gSW4gYW4gZXhhbXBsZSBhYm92ZSwgdGhlcmUgaXMgYW4gZXZlbnQgbGlzdGVuZXIgc25pcHBldCBmb3IgZmlsZWxvYWQuIExvYWRlZCBmaWxlcyBhcmUgdXN1YWxseSBhXG5cdCAqIGZvcm1hdHRlZCBvYmplY3QgdGhhdCBjYW4gYmUgdXNlZCBpbW1lZGlhdGVseSwgaW5jbHVkaW5nOlxuXHQgKiA8dWw+XG5cdCAqICAgICA8bGk+QmluYXJ5OiBUaGUgYmluYXJ5IGxvYWRlZCByZXN1bHQ8L2xpPlxuXHQgKiAgICAgPGxpPkNTUzogQSAmbHQ7bGluayAvJmd0OyB0YWc8L2xpPlxuXHQgKiAgICAgPGxpPkltYWdlOiBBbiAmbHQ7aW1nIC8mZ3Q7IHRhZzwvbGk+XG5cdCAqICAgICA8bGk+SmF2YVNjcmlwdDogQSAmbHQ7c2NyaXB0IC8mZ3Q7IHRhZzwvbGk+XG5cdCAqICAgICA8bGk+SlNPTi9KU09OUDogQSBmb3JtYXR0ZWQgSmF2YVNjcmlwdCBPYmplY3Q8L2xpPlxuXHQgKiAgICAgPGxpPk1hbmlmZXN0OiBBIEphdmFTY3JpcHQgb2JqZWN0LlxuXHQgKiAgICAgPGxpPlNvdW5kOiBBbiAmbHQ7YXVkaW8gLyZndDsgdGFnPC9hPlxuXHQgKiAgICAgPGxpPlNwcml0ZVNoZWV0OiBBIHt7I2Nyb3NzTGluayBcIlNwcml0ZVNoZWV0XCJ9fXt7L2Nyb3NzTGlua319IGluc3RhbmNlLCBjb250YWluaW5nIGxvYWRlZCBpbWFnZXMuXG5cdCAqICAgICA8bGk+U1ZHOiBBbiAmbHQ7b2JqZWN0IC8mZ3Q7IHRhZzwvbGk+XG5cdCAqICAgICA8bGk+VGV4dDogUmF3IHRleHQ8L2xpPlxuICAgICAqICAgICA8bGk+VmlkZW86IEEgVmlkZW8gRE9NIG5vZGU8L2xpPlxuXHQgKiAgICAgPGxpPlhNTDogQW4gWE1MIERPTSBub2RlPC9saT5cblx0ICogPC91bD5cblx0ICpcblx0ICogICAgICBmdW5jdGlvbiBoYW5kbGVGaWxlTG9hZChldmVudCkge1xuXHQgKiAgICAgICAgICB2YXIgaXRlbSA9IGV2ZW50Lml0ZW07IC8vIEEgcmVmZXJlbmNlIHRvIHRoZSBpdGVtIHRoYXQgd2FzIHBhc3NlZCBpbiB0byB0aGUgTG9hZFF1ZXVlXG5cdCAqICAgICAgICAgIHZhciB0eXBlID0gaXRlbS50eXBlO1xuXHQgKlxuXHQgKiAgICAgICAgICAvLyBBZGQgYW55IGltYWdlcyB0byB0aGUgcGFnZSBib2R5LlxuXHQgKiAgICAgICAgICBpZiAodHlwZSA9PSBjcmVhdGVqcy5UeXBlcy5JTUFHRSkge1xuXHQgKiAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChldmVudC5yZXN1bHQpO1xuXHQgKiAgICAgICAgICB9XG5cdCAqICAgICAgfVxuXHQgKlxuXHQgKiBBdCBhbnkgdGltZSBhZnRlciB0aGUgZmlsZSBoYXMgYmVlbiBsb2FkZWQgKHVzdWFsbHkgYWZ0ZXIgdGhlIHF1ZXVlIGhhcyBjb21wbGV0ZWQpLCBhbnkgcmVzdWx0IGNhbiBiZSBsb29rZWQgdXBcblx0ICogdmlhIGl0cyBcImlkXCIgdXNpbmcge3sjY3Jvc3NMaW5rIFwiTG9hZFF1ZXVlL2dldFJlc3VsdFwifX17ey9jcm9zc0xpbmt9fS4gSWYgbm8gaWQgd2FzIHByb3ZpZGVkLCB0aGVuIHRoZVxuXHQgKiBcInNyY1wiIG9yIGZpbGUgcGF0aCBjYW4gYmUgdXNlZCBpbnN0ZWFkLCBpbmNsdWRpbmcgdGhlIGBwYXRoYCBkZWZpbmVkIGJ5IGEgbWFuaWZlc3QsIGJ1dCA8c3Ryb25nPm5vdCBpbmNsdWRpbmc8L3N0cm9uZz5cblx0ICogYSBiYXNlIHBhdGggZGVmaW5lZCBvbiB0aGUgTG9hZFF1ZXVlLiBJdCBpcyByZWNvbW1lbmRlZCB0byBhbHdheXMgcGFzcyBhbiBpZCBpZiB5b3Ugd2FudCB0byBsb29rIHVwIGNvbnRlbnQuXG5cdCAqXG5cdCAqICAgICAgdmFyIGltYWdlID0gcXVldWUuZ2V0UmVzdWx0KFwiaW1hZ2VcIik7XG5cdCAqICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChpbWFnZSk7XG5cdCAqXG5cdCAqIFJhdyBsb2FkZWQgY29udGVudCBjYW4gYmUgYWNjZXNzZWQgdXNpbmcgdGhlIDxjb2RlPnJhd1Jlc3VsdDwvY29kZT4gcHJvcGVydHkgb2YgdGhlIHt7I2Nyb3NzTGluayBcIkxvYWRRdWV1ZS9maWxlbG9hZDpldmVudFwifX17ey9jcm9zc0xpbmt9fVxuXHQgKiBldmVudCwgb3IgY2FuIGJlIGxvb2tlZCB1cCB1c2luZyB7eyNjcm9zc0xpbmsgXCJMb2FkUXVldWUvZ2V0UmVzdWx0XCJ9fXt7L2Nyb3NzTGlua319LCBwYXNzaW5nIGB0cnVlYCBhcyB0aGUgMm5kXG5cdCAqIGFyZ3VtZW50LiBUaGlzIGlzIG9ubHkgYXBwbGljYWJsZSBmb3IgY29udGVudCB0aGF0IGhhcyBiZWVuIHBhcnNlZCBmb3IgdGhlIGJyb3dzZXIsIHNwZWNpZmljYWxseTogSmF2YVNjcmlwdCxcblx0ICogQ1NTLCBYTUwsIFNWRywgYW5kIEpTT04gb2JqZWN0cywgb3IgYW55dGhpbmcgbG9hZGVkIHdpdGggWEhSLlxuXHQgKlxuXHQgKiAgICAgIHZhciBpbWFnZSA9IHF1ZXVlLmdldFJlc3VsdChcImltYWdlXCIsIHRydWUpOyAvLyBsb2FkIHRoZSBiaW5hcnkgaW1hZ2UgZGF0YSBsb2FkZWQgd2l0aCBYSFIuXG5cdCAqXG5cdCAqIDxiPlBsdWdpbnM8L2I+PGJyIC8+XG5cdCAqIExvYWRRdWV1ZSBoYXMgYSBzaW1wbGUgcGx1Z2luIGFyY2hpdGVjdHVyZSB0byBoZWxwIHByb2Nlc3MgYW5kIHByZWxvYWQgY29udGVudC4gRm9yIGV4YW1wbGUsIHRvIHByZWxvYWQgYXVkaW8sXG5cdCAqIG1ha2Ugc3VyZSB0byBpbnN0YWxsIHRoZSA8YSBocmVmPVwiaHR0cDovL3NvdW5kanMuY29tXCI+U291bmRKUzwvYT4gU291bmQgY2xhc3MsIHdoaWNoIHdpbGwgaGVscCBsb2FkIEhUTUwgYXVkaW8sXG5cdCAqIEZsYXNoIGF1ZGlvLCBhbmQgV2ViQXVkaW8gZmlsZXMuIFRoaXMgc2hvdWxkIGJlIGluc3RhbGxlZCA8c3Ryb25nPmJlZm9yZTwvc3Ryb25nPiBsb2FkaW5nIGFueSBhdWRpbyBmaWxlcy5cblx0ICpcblx0ICogICAgICBxdWV1ZS5pbnN0YWxsUGx1Z2luKGNyZWF0ZWpzLlNvdW5kKTtcblx0ICpcblx0ICogPGg0Pktub3duIEJyb3dzZXIgSXNzdWVzPC9oND5cblx0ICogPHVsPlxuXHQgKiAgICAgPGxpPkJyb3dzZXJzIHdpdGhvdXQgYXVkaW8gc3VwcG9ydCBjYW4gbm90IGxvYWQgYXVkaW8gZmlsZXMuPC9saT5cblx0ICogICAgIDxsaT5TYWZhcmkgb24gTWFjIE9TIFggY2FuIG9ubHkgcGxheSBIVE1MIGF1ZGlvIGlmIFF1aWNrVGltZSBpcyBpbnN0YWxsZWQ8L2xpPlxuXHQgKiAgICAgPGxpPkhUTUwgQXVkaW8gdGFncyB3aWxsIG9ubHkgZG93bmxvYWQgdW50aWwgdGhlaXIgPGNvZGU+Y2FuUGxheVRocm91Z2g8L2NvZGU+IGV2ZW50IGlzIGZpcmVkLiBCcm93c2VycyBvdGhlclxuXHQgKiAgICAgdGhhbiBDaHJvbWUgd2lsbCBjb250aW51ZSB0byBkb3dubG9hZCBpbiB0aGUgYmFja2dyb3VuZC48L2xpPlxuXHQgKiAgICAgPGxpPldoZW4gbG9hZGluZyBzY3JpcHRzIHVzaW5nIHRhZ3MsIHRoZXkgYXJlIGF1dG9tYXRpY2FsbHkgYWRkZWQgdG8gdGhlIGRvY3VtZW50LjwvbGk+XG5cdCAqICAgICA8bGk+U2NyaXB0cyBsb2FkZWQgdmlhIFhIUiBtYXkgbm90IGJlIHByb3Blcmx5IGluc3BlY3RhYmxlIHdpdGggYnJvd3NlciB0b29scy48L2xpPlxuXHQgKiAgICAgPGxpPklFNiBhbmQgSUU3IChhbmQgc29tZSBvdGhlciBicm93c2VycykgbWF5IG5vdCBiZSBhYmxlIHRvIGxvYWQgWE1MLCBUZXh0LCBvciBKU09OLCBzaW5jZSB0aGV5IHJlcXVpcmVcblx0ICogICAgIFhIUiB0byB3b3JrLjwvbGk+XG5cdCAqICAgICA8bGk+Q29udGVudCBsb2FkZWQgdmlhIHRhZ3Mgd2lsbCBub3Qgc2hvdyBwcm9ncmVzcywgYW5kIHdpbGwgY29udGludWUgdG8gZG93bmxvYWQgaW4gdGhlIGJhY2tncm91bmQgd2hlblxuXHQgKiAgICAgY2FuY2VsZWQsIGFsdGhvdWdoIG5vIGV2ZW50cyB3aWxsIGJlIGRpc3BhdGNoZWQuPC9saT5cblx0ICogPC91bD5cblx0ICpcblx0ICogQGNsYXNzIExvYWRRdWV1ZVxuXHQgKiBAcGFyYW0ge0Jvb2xlYW59IFtwcmVmZXJYSFI9dHJ1ZV0gRGV0ZXJtaW5lcyB3aGV0aGVyIHRoZSBwcmVsb2FkIGluc3RhbmNlIHdpbGwgZmF2b3IgbG9hZGluZyB3aXRoIFhIUiAoWE1MIEhUVFBcblx0ICogUmVxdWVzdHMpLCBvciBIVE1MIHRhZ3MuIFdoZW4gdGhpcyBpcyBgZmFsc2VgLCB0aGUgcXVldWUgd2lsbCB1c2UgdGFnIGxvYWRpbmcgd2hlbiBwb3NzaWJsZSwgYW5kIGZhbGwgYmFjayBvbiBYSFJcblx0ICogd2hlbiBuZWNlc3NhcnkuXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBbYmFzZVBhdGg9XCJcIl0gQSBwYXRoIHRoYXQgd2lsbCBiZSBwcmVwZW5kZWQgb24gdG8gdGhlIHNvdXJjZSBwYXJhbWV0ZXIgb2YgYWxsIGl0ZW1zIGluIHRoZSBxdWV1ZVxuXHQgKiBiZWZvcmUgdGhleSBhcmUgbG9hZGVkLiAgU291cmNlcyBiZWdpbm5pbmcgd2l0aCBhIHByb3RvY29sIHN1Y2ggYXMgYGh0dHA6Ly9gIG9yIGEgcmVsYXRpdmUgcGF0aCBzdWNoIGFzIGAuLi9gXG5cdCAqIHdpbGwgbm90IHJlY2VpdmUgYSBiYXNlIHBhdGguXG5cdCAqIEBwYXJhbSB7U3RyaW5nfEJvb2xlYW59IFtjcm9zc09yaWdpbj1cIlwiXSBBbiBvcHRpb25hbCBmbGFnIHRvIHN1cHBvcnQgaW1hZ2VzIGxvYWRlZCBmcm9tIGEgQ09SUy1lbmFibGVkIHNlcnZlci4gVG9cblx0ICogdXNlIGl0LCBzZXQgdGhpcyB2YWx1ZSB0byBgdHJ1ZWAsIHdoaWNoIHdpbGwgZGVmYXVsdCB0aGUgY3Jvc3NPcmlnaW4gcHJvcGVydHkgb24gaW1hZ2VzIHRvIFwiQW5vbnltb3VzXCIuIEFueVxuXHQgKiBzdHJpbmcgdmFsdWUgd2lsbCBiZSBwYXNzZWQgdGhyb3VnaCwgYnV0IG9ubHkgXCJcIiBhbmQgXCJBbm9ueW1vdXNcIiBhcmUgcmVjb21tZW5kZWQuIDxzdHJvbmc+Tm90ZTogVGhlIGNyb3NzT3JpZ2luXG5cdCAqIHBhcmFtZXRlciBpcyBkZXByZWNhdGVkLiBVc2UgTG9hZEl0ZW0uY3Jvc3NPcmlnaW4gaW5zdGVhZDwvc3Ryb25nPlxuXHQgKlxuXHQgKiBAY29uc3RydWN0b3Jcblx0ICogQGV4dGVuZHMgQWJzdHJhY3RMb2FkZXJcblx0ICovXG5cdGZ1bmN0aW9uIExvYWRRdWV1ZSAocHJlZmVyWEhSLCBiYXNlUGF0aCwgY3Jvc3NPcmlnaW4pIHtcblx0XHR0aGlzLkFic3RyYWN0TG9hZGVyX2NvbnN0cnVjdG9yKCk7XG5cblx0XHQvKipcblx0XHQgKiBBbiBhcnJheSBvZiB0aGUgcGx1Z2lucyByZWdpc3RlcmVkIHVzaW5nIHt7I2Nyb3NzTGluayBcIkxvYWRRdWV1ZS9pbnN0YWxsUGx1Z2luXCJ9fXt7L2Nyb3NzTGlua319LlxuXHRcdCAqIEBwcm9wZXJ0eSBfcGx1Z2luc1xuXHRcdCAqIEB0eXBlIHtBcnJheX1cblx0XHQgKiBAcHJpdmF0ZVxuXHRcdCAqIEBzaW5jZSAwLjYuMVxuXHRcdCAqL1xuXHRcdHRoaXMuX3BsdWdpbnMgPSBbXTtcblxuXHRcdC8qKlxuXHRcdCAqIEFuIG9iamVjdCBoYXNoIG9mIGNhbGxiYWNrcyB0aGF0IGFyZSBmaXJlZCBmb3IgZWFjaCBmaWxlIHR5cGUgYmVmb3JlIHRoZSBmaWxlIGlzIGxvYWRlZCwgZ2l2aW5nIHBsdWdpbnMgdGhlXG5cdFx0ICogYWJpbGl0eSB0byBvdmVycmlkZSBwcm9wZXJ0aWVzIG9mIHRoZSBsb2FkLiBQbGVhc2Ugc2VlIHRoZSB7eyNjcm9zc0xpbmsgXCJMb2FkUXVldWUvaW5zdGFsbFBsdWdpblwifX17ey9jcm9zc0xpbmt9fVxuXHRcdCAqIG1ldGhvZCBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cblx0XHQgKiBAcHJvcGVydHkgX3R5cGVDYWxsYmFja3Ncblx0XHQgKiBAdHlwZSB7T2JqZWN0fVxuXHRcdCAqIEBwcml2YXRlXG5cdFx0ICovXG5cdFx0dGhpcy5fdHlwZUNhbGxiYWNrcyA9IHt9O1xuXG5cdFx0LyoqXG5cdFx0ICogQW4gb2JqZWN0IGhhc2ggb2YgY2FsbGJhY2tzIHRoYXQgYXJlIGZpcmVkIGZvciBlYWNoIGZpbGUgZXh0ZW5zaW9uIGJlZm9yZSB0aGUgZmlsZSBpcyBsb2FkZWQsIGdpdmluZyBwbHVnaW5zIHRoZVxuXHRcdCAqIGFiaWxpdHkgdG8gb3ZlcnJpZGUgcHJvcGVydGllcyBvZiB0aGUgbG9hZC4gUGxlYXNlIHNlZSB0aGUge3sjY3Jvc3NMaW5rIFwiTG9hZFF1ZXVlL2luc3RhbGxQbHVnaW5cIn19e3svY3Jvc3NMaW5rfX1cblx0XHQgKiBtZXRob2QgZm9yIG1vcmUgaW5mb3JtYXRpb24uXG5cdFx0ICogQHByb3BlcnR5IF9leHRlbnNpb25DYWxsYmFja3Ncblx0XHQgKiBAdHlwZSB7bnVsbH1cblx0XHQgKiBAcHJpdmF0ZVxuXHRcdCAqL1xuXHRcdHRoaXMuX2V4dGVuc2lvbkNhbGxiYWNrcyA9IHt9O1xuXG5cdFx0LyoqXG5cdFx0ICogVGhlIG5leHQgcHJlbG9hZCBxdWV1ZSB0byBwcm9jZXNzIHdoZW4gdGhpcyBvbmUgaXMgY29tcGxldGUuIElmIGFuIGVycm9yIGlzIHRocm93biBpbiB0aGUgY3VycmVudCBxdWV1ZSwgYW5kXG5cdFx0ICoge3sjY3Jvc3NMaW5rIFwiTG9hZFF1ZXVlL3N0b3BPbkVycm9yOnByb3BlcnR5XCJ9fXt7L2Nyb3NzTGlua319IGlzIGB0cnVlYCwgdGhlIG5leHQgcXVldWUgd2lsbCBub3QgYmUgcHJvY2Vzc2VkLlxuXHRcdCAqIEBwcm9wZXJ0eSBuZXh0XG5cdFx0ICogQHR5cGUge0xvYWRRdWV1ZX1cblx0XHQgKiBAZGVmYXVsdCBudWxsXG5cdFx0ICovXG5cdFx0dGhpcy5uZXh0ID0gbnVsbDtcblxuXHRcdC8qKlxuXHRcdCAqIEVuc3VyZSBsb2FkZWQgc2NyaXB0cyBcImNvbXBsZXRlXCIgaW4gdGhlIG9yZGVyIHRoZXkgYXJlIHNwZWNpZmllZC4gTG9hZGVkIHNjcmlwdHMgYXJlIGFkZGVkIHRvIHRoZSBkb2N1bWVudCBoZWFkXG5cdFx0ICogb25jZSB0aGV5IGFyZSBsb2FkZWQuIFNjcmlwdHMgbG9hZGVkIHZpYSB0YWdzIHdpbGwgbG9hZCBvbmUtYXQtYS10aW1lIHdoZW4gdGhpcyBwcm9wZXJ0eSBpcyBgdHJ1ZWAsIHdoZXJlYXNcblx0XHQgKiBzY3JpcHRzIGxvYWRlZCB1c2luZyBYSFIgY2FuIGxvYWQgaW4gYW55IG9yZGVyLCBidXQgd2lsbCBcImZpbmlzaFwiIGFuZCBiZSBhZGRlZCB0byB0aGUgZG9jdW1lbnQgaW4gdGhlIG9yZGVyXG5cdFx0ICogc3BlY2lmaWVkLlxuXHRcdCAqXG5cdFx0ICogQW55IGl0ZW1zIGNhbiBiZSBzZXQgdG8gbG9hZCBpbiBvcmRlciBieSBzZXR0aW5nIHRoZSB7eyNjcm9zc0xpbmsgXCJtYWludGFpbk9yZGVyOnByb3BlcnR5XCJ9fXt7L2Nyb3NzTGlua319XG5cdFx0ICogcHJvcGVydHkgb24gdGhlIGxvYWQgaXRlbSwgb3IgYnkgZW5zdXJpbmcgdGhhdCBvbmx5IG9uZSBjb25uZWN0aW9uIGNhbiBiZSBvcGVuIGF0IGEgdGltZSB1c2luZ1xuXHRcdCAqIHt7I2Nyb3NzTGluayBcIkxvYWRRdWV1ZS9zZXRNYXhDb25uZWN0aW9uc1wifX17ey9jcm9zc0xpbmt9fS4gTm90ZSB0aGF0IHdoZW4gdGhlIGBtYWludGFpblNjcmlwdE9yZGVyYCBwcm9wZXJ0eVxuXHRcdCAqIGlzIHNldCB0byBgdHJ1ZWAsIHNjcmlwdHMgaXRlbXMgYXJlIGF1dG9tYXRpY2FsbHkgc2V0IHRvIGBtYWludGFpbk9yZGVyPXRydWVgLCBhbmQgY2hhbmdpbmcgdGhlXG5cdFx0ICogYG1haW50YWluU2NyaXB0T3JkZXJgIHRvIGBmYWxzZWAgZHVyaW5nIGEgbG9hZCB3aWxsIG5vdCBjaGFuZ2UgaXRlbXMgYWxyZWFkeSBpbiBhIHF1ZXVlLlxuXHRcdCAqXG5cdFx0ICogPGg0PkV4YW1wbGU8L2g0PlxuXHRcdCAqXG5cdFx0ICogICAgICB2YXIgcXVldWUgPSBuZXcgY3JlYXRlanMuTG9hZFF1ZXVlKCk7XG5cdFx0ICogICAgICBxdWV1ZS5zZXRNYXhDb25uZWN0aW9ucygzKTsgLy8gU2V0IGEgaGlnaGVyIG51bWJlciB0byBsb2FkIG11bHRpcGxlIGl0ZW1zIGF0IG9uY2Vcblx0XHQgKiAgICAgIHF1ZXVlLm1haW50YWluU2NyaXB0T3JkZXIgPSB0cnVlOyAvLyBFbnN1cmUgc2NyaXB0cyBhcmUgbG9hZGVkIGluIG9yZGVyXG5cdFx0ICogICAgICBxdWV1ZS5sb2FkTWFuaWZlc3QoW1xuXHRcdCAqICAgICAgICAgIFwic2NyaXB0MS5qc1wiLFxuXHRcdCAqICAgICAgICAgIFwic2NyaXB0Mi5qc1wiLFxuXHRcdCAqICAgICAgICAgIFwiaW1hZ2UucG5nXCIsIC8vIExvYWQgYW55IHRpbWVcblx0XHQgKiAgICAgICAgICB7c3JjOiBcImltYWdlMi5wbmdcIiwgbWFpbnRhaW5PcmRlcjogdHJ1ZX0gLy8gV2lsbCB3YWl0IGZvciBzY3JpcHQyLmpzXG5cdFx0ICogICAgICAgICAgXCJpbWFnZTMucG5nXCIsXG5cdFx0ICogICAgICAgICAgXCJzY3JpcHQzLmpzXCIgLy8gV2lsbCB3YWl0IGZvciBpbWFnZTIucG5nIGJlZm9yZSBsb2FkaW5nIChvciBjb21wbGV0aW5nIHdoZW4gbG9hZGluZyB3aXRoIFhIUilcblx0XHQgKiAgICAgIF0pO1xuXHRcdCAqXG5cdFx0ICogQHByb3BlcnR5IG1haW50YWluU2NyaXB0T3JkZXJcblx0XHQgKiBAdHlwZSB7Qm9vbGVhbn1cblx0XHQgKiBAZGVmYXVsdCB0cnVlXG5cdFx0ICovXG5cdFx0dGhpcy5tYWludGFpblNjcmlwdE9yZGVyID0gdHJ1ZTtcblxuXHRcdC8qKlxuXHRcdCAqIERldGVybWluZXMgaWYgdGhlIExvYWRRdWV1ZSB3aWxsIHN0b3AgcHJvY2Vzc2luZyB0aGUgY3VycmVudCBxdWV1ZSB3aGVuIGFuIGVycm9yIGlzIGVuY291bnRlcmVkLlxuXHRcdCAqIEBwcm9wZXJ0eSBzdG9wT25FcnJvclxuXHRcdCAqIEB0eXBlIHtCb29sZWFufVxuXHRcdCAqIEBkZWZhdWx0IGZhbHNlXG5cdFx0ICovXG5cdFx0dGhpcy5zdG9wT25FcnJvciA9IGZhbHNlO1xuXG5cdFx0LyoqXG5cdFx0ICogVGhlIG51bWJlciBvZiBtYXhpbXVtIG9wZW4gY29ubmVjdGlvbnMgdGhhdCBhIGxvYWRRdWV1ZSB0cmllcyB0byBtYWludGFpbi4gUGxlYXNlIHNlZVxuXHRcdCAqIHt7I2Nyb3NzTGluayBcIkxvYWRRdWV1ZS9zZXRNYXhDb25uZWN0aW9uc1wifX17ey9jcm9zc0xpbmt9fSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cblx0XHQgKiBAcHJvcGVydHkgX21heENvbm5lY3Rpb25zXG5cdFx0ICogQHR5cGUge051bWJlcn1cblx0XHQgKiBAZGVmYXVsdCAxXG5cdFx0ICogQHByaXZhdGVcblx0XHQgKi9cblx0XHR0aGlzLl9tYXhDb25uZWN0aW9ucyA9IDE7XG5cblx0XHQvKipcblx0XHQgKiBBbiBpbnRlcm5hbCBsaXN0IG9mIGFsbCB0aGUgZGVmYXVsdCBMb2FkZXJzIHRoYXQgYXJlIGluY2x1ZGVkIHdpdGggUHJlbG9hZEpTLiBCZWZvcmUgYW4gaXRlbSBpcyBsb2FkZWQsIHRoZVxuXHRcdCAqIGF2YWlsYWJsZSBsb2FkZXIgbGlzdCBpcyBpdGVyYXRlZCwgaW4gdGhlIG9yZGVyIHRoZXkgYXJlIGluY2x1ZGVkLCBhbmQgYXMgc29vbiBhcyBhIGxvYWRlciBpbmRpY2F0ZXMgaXQgY2FuXG5cdFx0ICogaGFuZGxlIHRoZSBjb250ZW50LCBpdCB3aWxsIGJlIHNlbGVjdGVkLiBUaGUgZGVmYXVsdCBsb2FkZXIsICh7eyNjcm9zc0xpbmsgXCJUZXh0TG9hZGVyXCJ9fXt7L2Nyb3NzTGlua319IGlzXG5cdFx0ICogbGFzdCBpbiB0aGUgbGlzdCwgc28gaXQgd2lsbCBiZSB1c2VkIGlmIG5vIG90aGVyIG1hdGNoIGlzIGZvdW5kLiBUeXBpY2FsbHksIGxvYWRlcnMgd2lsbCBtYXRjaCBiYXNlZCBvbiB0aGVcblx0XHQgKiB7eyNjcm9zc0xpbmsgXCJMb2FkSXRlbS90eXBlXCJ9fXt7L2Nyb3NzTGlua319LCB3aGljaCBpcyBhdXRvbWF0aWNhbGx5IGRldGVybWluZWQgdXNpbmcgdGhlIGZpbGUgZXh0ZW5zaW9uIG9mXG5cdFx0ICogdGhlIHt7I2Nyb3NzTGluayBcIkxvYWRJdGVtL3NyYzpwcm9wZXJ0eVwifX17ey9jcm9zc0xpbmt9fS5cblx0XHQgKlxuXHRcdCAqIExvYWRlcnMgY2FuIGJlIHJlbW92ZWQgZnJvbSBQcmVsb2FkSlMgYnkgc2ltcGx5IG5vdCBpbmNsdWRpbmcgdGhlbS5cblx0XHQgKlxuXHRcdCAqIEN1c3RvbSBsb2FkZXJzIGluc3RhbGxlZCB1c2luZyB7eyNjcm9zc0xpbmsgXCJyZWdpc3RlckxvYWRlclwifX17ey9jcm9zc0xpbmt9fSB3aWxsIGJlIHByZXBlbmRlZCB0byB0aGlzIGxpc3Rcblx0XHQgKiBzbyB0aGF0IHRoZXkgYXJlIGNoZWNrZWQgZmlyc3QuXG5cdFx0ICogQHByb3BlcnR5IF9hdmFpbGFibGVMb2FkZXJzXG5cdFx0ICogQHR5cGUge0FycmF5fVxuXHRcdCAqIEBwcml2YXRlXG5cdFx0ICogQHNpbmNlIDAuNi4wXG5cdFx0ICovXG5cdFx0dGhpcy5fYXZhaWxhYmxlTG9hZGVycyA9IFtcbiAgICAgICAgICAgIGNyZWF0ZWpzLkZvbnRMb2FkZXIsXG5cdFx0XHRjcmVhdGVqcy5JbWFnZUxvYWRlcixcblx0XHRcdGNyZWF0ZWpzLkphdmFTY3JpcHRMb2FkZXIsXG5cdFx0XHRjcmVhdGVqcy5DU1NMb2FkZXIsXG5cdFx0XHRjcmVhdGVqcy5KU09OTG9hZGVyLFxuXHRcdFx0Y3JlYXRlanMuSlNPTlBMb2FkZXIsXG5cdFx0XHRjcmVhdGVqcy5Tb3VuZExvYWRlcixcblx0XHRcdGNyZWF0ZWpzLk1hbmlmZXN0TG9hZGVyLFxuXHRcdFx0Y3JlYXRlanMuU3ByaXRlU2hlZXRMb2FkZXIsXG5cdFx0XHRjcmVhdGVqcy5YTUxMb2FkZXIsXG5cdFx0XHRjcmVhdGVqcy5TVkdMb2FkZXIsXG5cdFx0XHRjcmVhdGVqcy5CaW5hcnlMb2FkZXIsXG5cdFx0XHRjcmVhdGVqcy5WaWRlb0xvYWRlcixcblx0XHRcdGNyZWF0ZWpzLlRleHRMb2FkZXJcblx0XHRdO1xuXG5cdFx0LyoqXG5cdFx0ICogVGhlIG51bWJlciBvZiBidWlsdCBpbiBsb2FkZXJzLCBzbyB0aGV5IGNhbid0IGJlIHJlbW92ZWQgYnkge3sjY3Jvc3NMaW5rIFwidW5yZWdpc3RlckxvYWRlclwifX17ey9jcm9zc0xpbmt9LlxuXHRcdFx0XHQgKiBAcHJvcGVydHkgX2RlZmF1bHRMb2FkZXJMZW5ndGhcblx0XHQgKiBAdHlwZSB7TnVtYmVyfVxuXHRcdCAqIEBwcml2YXRlXG5cdFx0ICogQHNpbmNlIDAuNi4wXG5cdFx0ICovXG5cdFx0dGhpcy5fZGVmYXVsdExvYWRlckxlbmd0aCA9IHRoaXMuX2F2YWlsYWJsZUxvYWRlcnMubGVuZ3RoO1xuXG5cdFx0dGhpcy5pbml0KHByZWZlclhIUiwgYmFzZVBhdGgsIGNyb3NzT3JpZ2luKTtcblx0fVxuXG5cdHZhciBwID0gY3JlYXRlanMuZXh0ZW5kKExvYWRRdWV1ZSwgY3JlYXRlanMuQWJzdHJhY3RMb2FkZXIpO1xuXHR2YXIgcyA9IExvYWRRdWV1ZTtcblxuXHQvLyBSZW1vdmUgdGhlc2UgQGRlcHJlY2F0ZWQgcHJvcGVydGllcyBhZnRlciAxLjBcblx0dHJ5IHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydGllcyhzLCB7XG5cdFx0XHRQT1NUOiB7IGdldDogY3JlYXRlanMuZGVwcmVjYXRlKGZ1bmN0aW9uKCkgeyByZXR1cm4gY3JlYXRlanMuTWV0aG9kcy5QT1NUOyB9LCBcIkFic3RyYWN0TG9hZGVyLlBPU1RcIikgfSxcblx0XHRcdEdFVDogeyBnZXQ6IGNyZWF0ZWpzLmRlcHJlY2F0ZShmdW5jdGlvbigpIHsgcmV0dXJuIGNyZWF0ZWpzLk1ldGhvZHMuR0VUOyB9LCBcIkFic3RyYWN0TG9hZGVyLkdFVFwiKSB9LFxuXG5cdFx0XHRCSU5BUlk6IHsgZ2V0OiBjcmVhdGVqcy5kZXByZWNhdGUoZnVuY3Rpb24oKSB7IHJldHVybiBjcmVhdGVqcy5UeXBlcy5CSU5BUlk7IH0sIFwiQWJzdHJhY3RMb2FkZXIuQklOQVJZXCIpIH0sXG5cdFx0XHRDU1M6IHsgZ2V0OiBjcmVhdGVqcy5kZXByZWNhdGUoZnVuY3Rpb24oKSB7IHJldHVybiBjcmVhdGVqcy5UeXBlcy5DU1M7IH0sIFwiQWJzdHJhY3RMb2FkZXIuQ1NTXCIpIH0sXG5cdFx0XHRGT05UOiB7IGdldDogY3JlYXRlanMuZGVwcmVjYXRlKGZ1bmN0aW9uKCkgeyByZXR1cm4gY3JlYXRlanMuVHlwZXMuRk9OVDsgfSwgXCJBYnN0cmFjdExvYWRlci5GT05UXCIpIH0sXG5cdFx0XHRGT05UQ1NTOiB7IGdldDogY3JlYXRlanMuZGVwcmVjYXRlKGZ1bmN0aW9uKCkgeyByZXR1cm4gY3JlYXRlanMuVHlwZXMuRk9OVENTUzsgfSwgXCJBYnN0cmFjdExvYWRlci5GT05UQ1NTXCIpIH0sXG5cdFx0XHRJTUFHRTogeyBnZXQ6IGNyZWF0ZWpzLmRlcHJlY2F0ZShmdW5jdGlvbigpIHsgcmV0dXJuIGNyZWF0ZWpzLlR5cGVzLklNQUdFOyB9LCBcIkFic3RyYWN0TG9hZGVyLklNQUdFXCIpIH0sXG5cdFx0XHRKQVZBU0NSSVBUOiB7IGdldDogY3JlYXRlanMuZGVwcmVjYXRlKGZ1bmN0aW9uKCkgeyByZXR1cm4gY3JlYXRlanMuVHlwZXMuSkFWQVNDUklQVDsgfSwgXCJBYnN0cmFjdExvYWRlci5KQVZBU0NSSVBUXCIpIH0sXG5cdFx0XHRKU09OOiB7IGdldDogY3JlYXRlanMuZGVwcmVjYXRlKGZ1bmN0aW9uKCkgeyByZXR1cm4gY3JlYXRlanMuVHlwZXMuSlNPTjsgfSwgXCJBYnN0cmFjdExvYWRlci5KU09OXCIpIH0sXG5cdFx0XHRKU09OUDogeyBnZXQ6IGNyZWF0ZWpzLmRlcHJlY2F0ZShmdW5jdGlvbigpIHsgcmV0dXJuIGNyZWF0ZWpzLlR5cGVzLkpTT05QOyB9LCBcIkFic3RyYWN0TG9hZGVyLkpTT05QXCIpIH0sXG5cdFx0XHRNQU5JRkVTVDogeyBnZXQ6IGNyZWF0ZWpzLmRlcHJlY2F0ZShmdW5jdGlvbigpIHsgcmV0dXJuIGNyZWF0ZWpzLlR5cGVzLk1BTklGRVNUOyB9LCBcIkFic3RyYWN0TG9hZGVyLk1BTklGRVNUXCIpIH0sXG5cdFx0XHRTT1VORDogeyBnZXQ6IGNyZWF0ZWpzLmRlcHJlY2F0ZShmdW5jdGlvbigpIHsgcmV0dXJuIGNyZWF0ZWpzLlR5cGVzLlNPVU5EOyB9LCBcIkFic3RyYWN0TG9hZGVyLlNPVU5EXCIpIH0sXG5cdFx0XHRWSURFTzogeyBnZXQ6IGNyZWF0ZWpzLmRlcHJlY2F0ZShmdW5jdGlvbigpIHsgcmV0dXJuIGNyZWF0ZWpzLlR5cGVzLlZJREVPOyB9LCBcIkFic3RyYWN0TG9hZGVyLlZJREVPXCIpIH0sXG5cdFx0XHRTUFJJVEVTSEVFVDogeyBnZXQ6IGNyZWF0ZWpzLmRlcHJlY2F0ZShmdW5jdGlvbigpIHsgcmV0dXJuIGNyZWF0ZWpzLlR5cGVzLlNQUklURVNIRUVUOyB9LCBcIkFic3RyYWN0TG9hZGVyLlNQUklURVNIRUVUXCIpIH0sXG5cdFx0XHRTVkc6IHsgZ2V0OiBjcmVhdGVqcy5kZXByZWNhdGUoZnVuY3Rpb24oKSB7IHJldHVybiBjcmVhdGVqcy5UeXBlcy5TVkc7IH0sIFwiQWJzdHJhY3RMb2FkZXIuU1ZHXCIpIH0sXG5cdFx0XHRURVhUOiB7IGdldDogY3JlYXRlanMuZGVwcmVjYXRlKGZ1bmN0aW9uKCkgeyByZXR1cm4gY3JlYXRlanMuVHlwZXMuVEVYVDsgfSwgXCJBYnN0cmFjdExvYWRlci5URVhUXCIpIH0sXG5cdFx0XHRYTUw6IHsgZ2V0OiBjcmVhdGVqcy5kZXByZWNhdGUoZnVuY3Rpb24oKSB7IHJldHVybiBjcmVhdGVqcy5UeXBlcy5YTUw7IH0sIFwiQWJzdHJhY3RMb2FkZXIuWE1MXCIpIH1cblx0XHR9KTtcblx0fSBjYXRjaCAoZSkge31cblxuXHQvKipcblx0ICogQW4gaW50ZXJuYWwgaW5pdGlhbGl6YXRpb24gbWV0aG9kLCB3aGljaCBpcyB1c2VkIGZvciBpbml0aWFsIHNldCB1cCwgYnV0IGFsc28gdG8gcmVzZXQgdGhlIExvYWRRdWV1ZS5cblx0ICogQG1ldGhvZCBpbml0XG5cdCAqIEBwYXJhbSBwcmVmZXJYSFJcblx0ICogQHBhcmFtIGJhc2VQYXRoXG5cdCAqIEBwYXJhbSBjcm9zc09yaWdpblxuXHQgKiBAcHJpdmF0ZVxuXHQgKi9cblx0cC5pbml0ID0gZnVuY3Rpb24gKHByZWZlclhIUiwgYmFzZVBhdGgsIGNyb3NzT3JpZ2luKSB7XG5cblx0XHQvLyBwdWJsaWMgcHJvcGVydGllc1xuXG5cdFx0LyoqXG5cdFx0ICogVHJ5IGFuZCB1c2UgWE1MSHR0cFJlcXVlc3QgKFhIUikgd2hlbiBwb3NzaWJsZS4gTm90ZSB0aGF0IExvYWRRdWV1ZSB3aWxsIGRlZmF1bHQgdG8gdGFnIGxvYWRpbmcgb3IgWEhSXG5cdFx0ICogbG9hZGluZyBkZXBlbmRpbmcgb24gdGhlIHJlcXVpcmVtZW50cyBmb3IgYSBtZWRpYSB0eXBlLiBGb3IgZXhhbXBsZSwgSFRNTCBhdWRpbyBjYW4gbm90IGJlIGxvYWRlZCB3aXRoIFhIUixcblx0XHQgKiBhbmQgcGxhaW4gdGV4dCBjYW4gbm90IGJlIGxvYWRlZCB3aXRoIHRhZ3MsIHNvIGl0IHdpbGwgZGVmYXVsdCB0aGUgdGhlIGNvcnJlY3QgdHlwZSBpbnN0ZWFkIG9mIHVzaW5nIHRoZVxuXHRcdCAqIHVzZXItZGVmaW5lZCB0eXBlLlxuXHRcdCAqIEB0eXBlIHtCb29sZWFufVxuXHRcdCAqIEBkZWZhdWx0IHRydWVcblx0XHQgKiBAc2luY2UgMC42LjBcblx0XHQgKi9cblx0XHR0aGlzLnByZWZlclhIUiA9IHRydWU7IC8vVE9ETzogR2V0L1NldFxuXHRcdHRoaXMuX3ByZWZlclhIUiA9IHRydWU7XG5cdFx0dGhpcy5zZXRQcmVmZXJYSFIocHJlZmVyWEhSKTtcblxuXHRcdC8vIHByb3RlY3RlZCBwcm9wZXJ0aWVzXG5cdFx0LyoqXG5cdFx0ICogV2hldGhlciB0aGUgcXVldWUgaXMgY3VycmVudGx5IHBhdXNlZCBvciBub3QuXG5cdFx0ICogQHByb3BlcnR5IF9wYXVzZWRcblx0XHQgKiBAdHlwZSB7Ym9vbGVhbn1cblx0XHQgKiBAcHJpdmF0ZVxuXHRcdCAqL1xuXHRcdHRoaXMuX3BhdXNlZCA9IGZhbHNlO1xuXG5cdFx0LyoqXG5cdFx0ICogQSBwYXRoIHRoYXQgd2lsbCBiZSBwcmVwZW5kZWQgb24gdG8gdGhlIGl0ZW0ncyB7eyNjcm9zc0xpbmsgXCJMb2FkSXRlbS9zcmM6cHJvcGVydHlcIn19e3svY3Jvc3NMaW5rfX0uIFRoZVxuXHRcdCAqIGBfYmFzZVBhdGhgIHByb3BlcnR5IHdpbGwgb25seSBiZSB1c2VkIGlmIGFuIGl0ZW0ncyBzb3VyY2UgaXMgcmVsYXRpdmUsIGFuZCBkb2VzIG5vdCBpbmNsdWRlIGEgcHJvdG9jb2wgc3VjaFxuXHRcdCAqIGFzIGBodHRwOi8vYCwgb3IgYSByZWxhdGl2ZSBwYXRoIHN1Y2ggYXMgYC4uL2AuXG5cdFx0ICogQHByb3BlcnR5IF9iYXNlUGF0aFxuXHRcdCAqIEB0eXBlIHtTdHJpbmd9XG5cdFx0ICogQHByaXZhdGVcblx0XHQgKiBAc2luY2UgMC4zLjFcblx0XHQgKi9cblx0XHR0aGlzLl9iYXNlUGF0aCA9IGJhc2VQYXRoO1xuXG5cdFx0LyoqXG5cdFx0ICogQW4gb3B0aW9uYWwgZmxhZyB0byBzZXQgb24gaW1hZ2VzIHRoYXQgYXJlIGxvYWRlZCB1c2luZyBQcmVsb2FkSlMsIHdoaWNoIGVuYWJsZXMgQ09SUyBzdXBwb3J0LiBJbWFnZXMgbG9hZGVkXG5cdFx0ICogY3Jvc3MtZG9tYWluIGJ5IHNlcnZlcnMgdGhhdCBzdXBwb3J0IENPUlMgcmVxdWlyZSB0aGUgY3Jvc3NPcmlnaW4gZmxhZyB0byBiZSBsb2FkZWQgYW5kIGludGVyYWN0ZWQgd2l0aCBieVxuXHRcdCAqIGEgY2FudmFzLiBXaGVuIGxvYWRpbmcgbG9jYWxseSwgb3Igd2l0aCBhIHNlcnZlciB3aXRoIG5vIENPUlMgc3VwcG9ydCwgdGhpcyBmbGFnIGNhbiBjYXVzZSBvdGhlciBzZWN1cml0eSBpc3N1ZXMsXG5cdFx0ICogc28gaXQgaXMgcmVjb21tZW5kZWQgdG8gb25seSBzZXQgaXQgaWYgeW91IGFyZSBzdXJlIHRoZSBzZXJ2ZXIgc3VwcG9ydHMgaXQuIEN1cnJlbnRseSwgc3VwcG9ydGVkIHZhbHVlcyBhcmUgXCJcIlxuXHRcdCAqIGFuZCBcIkFub255bW91c1wiLlxuXHRcdCAqIEBwcm9wZXJ0eSBfY3Jvc3NPcmlnaW5cblx0XHQgKiBAdHlwZSB7U3RyaW5nfVxuXHRcdCAqIEBkZWZhdWx0IFwiXCJcblx0XHQgKiBAcHJpdmF0ZVxuXHRcdCAqIEBzaW5jZSAwLjQuMVxuXHRcdCAqL1xuXHRcdHRoaXMuX2Nyb3NzT3JpZ2luID0gY3Jvc3NPcmlnaW47XG5cblx0XHQvKipcblx0XHQgKiBEZXRlcm1pbmVzIGlmIHRoZSBsb2FkU3RhcnQgZXZlbnQgd2FzIGRpc3BhdGNoZWQgYWxyZWFkeS4gVGhpcyBldmVudCBpcyBvbmx5IGZpcmVkIG9uZSB0aW1lLCB3aGVuIHRoZSBmaXJzdFxuXHRcdCAqIGZpbGUgaXMgcmVxdWVzdGVkLlxuXHRcdCAqIEBwcm9wZXJ0eSBfbG9hZFN0YXJ0V2FzRGlzcGF0Y2hlZFxuXHRcdCAqIEB0eXBlIHtCb29sZWFufVxuXHRcdCAqIEBkZWZhdWx0IGZhbHNlXG5cdFx0ICogQHByaXZhdGVcblx0XHQgKi9cblx0XHR0aGlzLl9sb2FkU3RhcnRXYXNEaXNwYXRjaGVkID0gZmFsc2U7XG5cblx0XHQvKipcblx0XHQgKiBEZXRlcm1pbmVzIGlmIHRoZXJlIGlzIGN1cnJlbnRseSBhIHNjcmlwdCBsb2FkaW5nLiBUaGlzIGhlbHBzIGVuc3VyZSB0aGF0IG9ubHkgYSBzaW5nbGUgc2NyaXB0IGxvYWRzIGF0IG9uY2Ugd2hlblxuXHRcdCAqIHVzaW5nIGEgc2NyaXB0IHRhZyB0byBkbyBwcmVsb2FkaW5nLlxuXHRcdCAqIEBwcm9wZXJ0eSBfY3VycmVudGx5TG9hZGluZ1NjcmlwdFxuXHRcdCAqIEB0eXBlIHtCb29sZWFufVxuXHRcdCAqIEBwcml2YXRlXG5cdFx0ICovXG5cdFx0dGhpcy5fY3VycmVudGx5TG9hZGluZ1NjcmlwdCA9IG51bGw7XG5cblx0XHQvKipcblx0XHQgKiBBbiBhcnJheSBjb250YWluaW5nIHRoZSBjdXJyZW50bHkgZG93bmxvYWRpbmcgZmlsZXMuXG5cdFx0ICogQHByb3BlcnR5IF9jdXJyZW50TG9hZHNcblx0XHQgKiBAdHlwZSB7QXJyYXl9XG5cdFx0ICogQHByaXZhdGVcblx0XHQgKi9cblx0XHR0aGlzLl9jdXJyZW50TG9hZHMgPSBbXTtcblxuXHRcdC8qKlxuXHRcdCAqIEFuIGFycmF5IGNvbnRhaW5pbmcgdGhlIHF1ZXVlZCBpdGVtcyB0aGF0IGhhdmUgbm90IHlldCBzdGFydGVkIGRvd25sb2FkaW5nLlxuXHRcdCAqIEBwcm9wZXJ0eSBfbG9hZFF1ZXVlXG5cdFx0ICogQHR5cGUge0FycmF5fVxuXHRcdCAqIEBwcml2YXRlXG5cdFx0ICovXG5cdFx0dGhpcy5fbG9hZFF1ZXVlID0gW107XG5cblx0XHQvKipcblx0XHQgKiBBbiBhcnJheSBjb250YWluaW5nIGRvd25sb2FkcyB0aGF0IGhhdmUgbm90IGNvbXBsZXRlZCwgc28gdGhhdCB0aGUgTG9hZFF1ZXVlIGNhbiBiZSBwcm9wZXJseSByZXNldC5cblx0XHQgKiBAcHJvcGVydHkgX2xvYWRRdWV1ZUJhY2t1cFxuXHRcdCAqIEB0eXBlIHtBcnJheX1cblx0XHQgKiBAcHJpdmF0ZVxuXHRcdCAqL1xuXHRcdHRoaXMuX2xvYWRRdWV1ZUJhY2t1cCA9IFtdO1xuXG5cdFx0LyoqXG5cdFx0ICogQW4gb2JqZWN0IGhhc2ggb2YgaXRlbXMgdGhhdCBoYXZlIGZpbmlzaGVkIGRvd25sb2FkaW5nLCBpbmRleGVkIGJ5IHRoZSB7eyNjcm9zc0xpbmsgXCJMb2FkSXRlbVwifX17ey9jcm9zc0xpbmt9fVxuXHRcdCAqIGlkLlxuXHRcdCAqIEBwcm9wZXJ0eSBfbG9hZEl0ZW1zQnlJZFxuXHRcdCAqIEB0eXBlIHtPYmplY3R9XG5cdFx0ICogQHByaXZhdGVcblx0XHQgKi9cblx0XHR0aGlzLl9sb2FkSXRlbXNCeUlkID0ge307XG5cblx0XHQvKipcblx0XHQgKiBBbiBvYmplY3QgaGFzaCBvZiBpdGVtcyB0aGF0IGhhdmUgZmluaXNoZWQgZG93bmxvYWRpbmcsIGluZGV4ZWQgYnkge3sjY3Jvc3NMaW5rIFwiTG9hZEl0ZW1cIn19e3svY3Jvc3NMaW5rfX1cblx0XHQgKiBzb3VyY2UuXG5cdFx0ICogQHByb3BlcnR5IF9sb2FkSXRlbXNCeVNyY1xuXHRcdCAqIEB0eXBlIHtPYmplY3R9XG5cdFx0ICogQHByaXZhdGVcblx0XHQgKi9cblx0XHR0aGlzLl9sb2FkSXRlbXNCeVNyYyA9IHt9O1xuXG5cdFx0LyoqXG5cdFx0ICogQW4gb2JqZWN0IGhhc2ggb2YgbG9hZGVkIGl0ZW1zLCBpbmRleGVkIGJ5IHRoZSBJRCBvZiB0aGUge3sjY3Jvc3NMaW5rIFwiTG9hZEl0ZW1cIn19e3svY3Jvc3NMaW5rfX0uXG5cdFx0ICogQHByb3BlcnR5IF9sb2FkZWRSZXN1bHRzXG5cdFx0ICogQHR5cGUge09iamVjdH1cblx0XHQgKiBAcHJpdmF0ZVxuXHRcdCAqL1xuXHRcdHRoaXMuX2xvYWRlZFJlc3VsdHMgPSB7fTtcblxuXHRcdC8qKlxuXHRcdCAqIEFuIG9iamVjdCBoYXNoIG9mIHVuLXBhcnNlZCBsb2FkZWQgaXRlbXMsIGluZGV4ZWQgYnkgdGhlIElEIG9mIHRoZSB7eyNjcm9zc0xpbmsgXCJMb2FkSXRlbVwifX17ey9jcm9zc0xpbmt9fS5cblx0XHQgKiBAcHJvcGVydHkgX2xvYWRlZFJhd1Jlc3VsdHNcblx0XHQgKiBAdHlwZSB7T2JqZWN0fVxuXHRcdCAqIEBwcml2YXRlXG5cdFx0ICovXG5cdFx0dGhpcy5fbG9hZGVkUmF3UmVzdWx0cyA9IHt9O1xuXG5cdFx0LyoqXG5cdFx0ICogVGhlIG51bWJlciBvZiBpdGVtcyB0aGF0IGhhdmUgYmVlbiByZXF1ZXN0ZWQuIFRoaXMgaGVscHMgbWFuYWdlIGFuIG92ZXJhbGwgcHJvZ3Jlc3Mgd2l0aG91dCBrbm93aW5nIGhvdyBsYXJnZVxuXHRcdCAqIHRoZSBmaWxlcyBhcmUgYmVmb3JlIHRoZXkgYXJlIGRvd25sb2FkZWQuIFRoaXMgZG9lcyBub3QgaW5jbHVkZSBpdGVtcyBpbnNpZGUgb2YgbG9hZGVycyBzdWNoIGFzIHRoZVxuXHRcdCAqIHt7I2Nyb3NzTGluayBcIk1hbmlmZXN0TG9hZGVyXCJ9fXt7L2Nyb3NzTGlua319LlxuXHRcdCAqIEBwcm9wZXJ0eSBfbnVtSXRlbXNcblx0XHQgKiBAdHlwZSB7TnVtYmVyfVxuXHRcdCAqIEBkZWZhdWx0IDBcblx0XHQgKiBAcHJpdmF0ZVxuXHRcdCAqL1xuXHRcdHRoaXMuX251bUl0ZW1zID0gMDtcblxuXHRcdC8qKlxuXHRcdCAqIFRoZSBudW1iZXIgb2YgaXRlbXMgdGhhdCBoYXZlIGNvbXBsZXRlZCBsb2FkZWQuIFRoaXMgaGVscHMgbWFuYWdlIGFuIG92ZXJhbGwgcHJvZ3Jlc3Mgd2l0aG91dCBrbm93aW5nIGhvdyBsYXJnZVxuXHRcdCAqIHRoZSBmaWxlcyBhcmUgYmVmb3JlIHRoZXkgYXJlIGRvd25sb2FkZWQuXG5cdFx0ICogQHByb3BlcnR5IF9udW1JdGVtc0xvYWRlZFxuXHRcdCAqIEB0eXBlIHtOdW1iZXJ9XG5cdFx0ICogQGRlZmF1bHQgMFxuXHRcdCAqIEBwcml2YXRlXG5cdFx0ICovXG5cdFx0dGhpcy5fbnVtSXRlbXNMb2FkZWQgPSAwO1xuXG5cdFx0LyoqXG5cdFx0ICogQSBsaXN0IG9mIHNjcmlwdHMgaW4gdGhlIG9yZGVyIHRoZXkgd2VyZSByZXF1ZXN0ZWQuIFRoaXMgaGVscHMgZW5zdXJlIHRoYXQgc2NyaXB0cyBhcmUgXCJjb21wbGV0ZWRcIiBpbiB0aGUgcmlnaHRcblx0XHQgKiBvcmRlci5cblx0XHQgKiBAcHJvcGVydHkgX3NjcmlwdE9yZGVyXG5cdFx0ICogQHR5cGUge0FycmF5fVxuXHRcdCAqIEBwcml2YXRlXG5cdFx0ICovXG5cdFx0dGhpcy5fc2NyaXB0T3JkZXIgPSBbXTtcblxuXHRcdC8qKlxuXHRcdCAqIEEgbGlzdCBvZiBzY3JpcHRzIHRoYXQgaGF2ZSBiZWVuIGxvYWRlZC4gSXRlbXMgYXJlIGFkZGVkIHRvIHRoaXMgbGlzdCBhcyA8Y29kZT5udWxsPC9jb2RlPiB3aGVuIHRoZXkgYXJlXG5cdFx0ICogcmVxdWVzdGVkLCBjb250YWluIHRoZSBsb2FkZWQgaXRlbSBpZiBpdCBoYXMgY29tcGxldGVkLCBidXQgbm90IGJlZW4gZGlzcGF0Y2hlZCB0byB0aGUgdXNlciwgYW5kIDxjb2RlPnRydWU8L3RydWU+XG5cdFx0ICogb25jZSB0aGV5IGFyZSBjb21wbGV0ZSBhbmQgaGF2ZSBiZWVuIGRpc3BhdGNoZWQuXG5cdFx0ICogQHByb3BlcnR5IF9sb2FkZWRTY3JpcHRzXG5cdFx0ICogQHR5cGUge0FycmF5fVxuXHRcdCAqIEBwcml2YXRlXG5cdFx0ICovXG5cdFx0dGhpcy5fbG9hZGVkU2NyaXB0cyA9IFtdO1xuXG5cdFx0LyoqXG5cdFx0ICogVGhlIGxhc3QgcHJvZ3Jlc3MgYW1vdW50LiBUaGlzIGlzIHVzZWQgdG8gc3VwcHJlc3MgZHVwbGljYXRlIHByb2dyZXNzIGV2ZW50cy5cblx0XHQgKiBAcHJvcGVydHkgX2xhc3RQcm9ncmVzc1xuXHRcdCAqIEB0eXBlIHtOdW1iZXJ9XG5cdFx0ICogQHByaXZhdGVcblx0XHQgKiBAc2luY2UgMC42LjBcblx0XHQgKi9cblx0XHR0aGlzLl9sYXN0UHJvZ3Jlc3MgPSBOYU47XG5cblx0fTtcblxuLy8gc3RhdGljIHByb3BlcnRpZXNcblxuLy8gZXZlbnRzXG5cdC8qKlxuXHQgKiBUaGlzIGV2ZW50IGlzIGZpcmVkIHdoZW4gYW4gaW5kaXZpZHVhbCBmaWxlIGhhcyBsb2FkZWQsIGFuZCBiZWVuIHByb2Nlc3NlZC5cblx0ICogQGV2ZW50IGZpbGVsb2FkXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSB0YXJnZXQgVGhlIG9iamVjdCB0aGF0IGRpc3BhdGNoZWQgdGhlIGV2ZW50LlxuXHQgKiBAcGFyYW0ge1N0cmluZ30gdHlwZSBUaGUgZXZlbnQgdHlwZS5cblx0ICogQHBhcmFtIHtPYmplY3R9IGl0ZW0gVGhlIGZpbGUgaXRlbSB3aGljaCB3YXMgc3BlY2lmaWVkIGluIHRoZSB7eyNjcm9zc0xpbmsgXCJMb2FkUXVldWUvbG9hZEZpbGVcIn19e3svY3Jvc3NMaW5rfX1cblx0ICogb3Ige3sjY3Jvc3NMaW5rIFwiTG9hZFF1ZXVlL2xvYWRNYW5pZmVzdFwifX17ey9jcm9zc0xpbmt9fSBjYWxsLiBJZiBvbmx5IGEgc3RyaW5nIHBhdGggb3IgdGFnIHdhcyBzcGVjaWZpZWQsIHRoZVxuXHQgKiBvYmplY3Qgd2lsbCBjb250YWluIHRoYXQgdmFsdWUgYXMgYSBgc3JjYCBwcm9wZXJ0eS5cblx0ICogQHBhcmFtIHtPYmplY3R9IHJlc3VsdCBUaGUgSFRNTCB0YWcgb3IgcGFyc2VkIHJlc3VsdCBvZiB0aGUgbG9hZGVkIGl0ZW0uXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSByYXdSZXN1bHQgVGhlIHVucHJvY2Vzc2VkIHJlc3VsdCwgdXN1YWxseSB0aGUgcmF3IHRleHQgb3IgYmluYXJ5IGRhdGEgYmVmb3JlIGl0IGlzIGNvbnZlcnRlZFxuXHQgKiB0byBhIHVzYWJsZSBvYmplY3QuXG5cdCAqIEBzaW5jZSAwLjMuMFxuXHQgKi9cblxuXHQvKipcblx0ICogVGhpcyB7eyNjcm9zc0xpbmsgXCJQcm9ncmVzc0V2ZW50XCJ9fXt7L2Nyb3NzTGlua319IHRoYXQgaXMgZmlyZWQgd2hlbiBhbiBhbiBpbmRpdmlkdWFsIGZpbGUncyBwcm9ncmVzcyBjaGFuZ2VzLlxuXHQgKiBAZXZlbnQgZmlsZXByb2dyZXNzXG5cdCAqIEBzaW5jZSAwLjMuMFxuXHQgKi9cblxuXHQvKipcblx0ICogVGhpcyBldmVudCBpcyBmaXJlZCB3aGVuIGFuIGluZGl2aWR1YWwgZmlsZSBzdGFydHMgdG8gbG9hZC5cblx0ICogQGV2ZW50IGZpbGVzdGFydFxuXHQgKiBAcGFyYW0ge09iamVjdH0gdGFyZ2V0IFRoZSBvYmplY3QgdGhhdCBkaXNwYXRjaGVkIHRoZSBldmVudC5cblx0ICogQHBhcmFtIHtTdHJpbmd9IHR5cGUgVGhlIGV2ZW50IHR5cGUuXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBpdGVtIFRoZSBmaWxlIGl0ZW0gd2hpY2ggd2FzIHNwZWNpZmllZCBpbiB0aGUge3sjY3Jvc3NMaW5rIFwiTG9hZFF1ZXVlL2xvYWRGaWxlXCJ9fXt7L2Nyb3NzTGlua319XG5cdCAqIG9yIHt7I2Nyb3NzTGluayBcIkxvYWRRdWV1ZS9sb2FkTWFuaWZlc3RcIn19e3svY3Jvc3NMaW5rfX0gY2FsbC4gSWYgb25seSBhIHN0cmluZyBwYXRoIG9yIHRhZyB3YXMgc3BlY2lmaWVkLCB0aGVcblx0ICogb2JqZWN0IHdpbGwgY29udGFpbiB0aGF0IHZhbHVlIGFzIGEgcHJvcGVydHkuXG5cdCAqL1xuXG5cdC8qKlxuXHQgKiBBbHRob3VnaCBpdCBleHRlbmRzIHt7I2Nyb3NzTGluayBcIkFic3RyYWN0TG9hZGVyXCJ9fXt7L2Nyb3NzTGlua319LCB0aGUgYGluaXRpYWxpemVgIGV2ZW50IGlzIG5ldmVyIGZpcmVkIGZyb21cblx0ICogYSBMb2FkUXVldWUgaW5zdGFuY2UuXG5cdCAqIEBldmVudCBpbml0aWFsaXplXG5cdCAqIEBwcml2YXRlXG5cdCAqL1xuXG4vLyBwdWJsaWMgbWV0aG9kc1xuXHQvKipcblx0ICogUmVnaXN0ZXIgYSBjdXN0b20gbG9hZGVycyBjbGFzcy4gTmV3IGxvYWRlcnMgYXJlIGdpdmVuIHByZWNlZGVuY2Ugb3ZlciBsb2FkZXJzIGFkZGVkIGVhcmxpZXIgYW5kIGRlZmF1bHQgbG9hZGVycy5cblx0ICogSXQgaXMgcmVjb21tZW5kZWQgdGhhdCBsb2FkZXJzIGV4dGVuZCB7eyNjcm9zc0xpbmsgXCJBYnN0cmFjdExvYWRlclwifX17ey9jcm9zc0xpbmt9fS4gTG9hZGVycyBjYW4gb25seSBiZSBhZGRlZFxuXHQgKiBvbmNlLCBhbmQgd2lsbCBiZSBwcmVwZW5kZWQgdG8gdGhlIGxpc3Qgb2YgYXZhaWxhYmxlIGxvYWRlcnMuXG5cdCAqIEBtZXRob2QgcmVnaXN0ZXJMb2FkZXJcblx0ICogQHBhcmFtIHtGdW5jdGlvbnxBYnN0cmFjdExvYWRlcn0gbG9hZGVyIFRoZSBBYnN0cmFjdExvYWRlciBjbGFzcyB0byBhZGQuXG5cdCAqIEBzaW5jZSAwLjYuMFxuXHQgKi9cblx0cC5yZWdpc3RlckxvYWRlciA9IGZ1bmN0aW9uIChsb2FkZXIpIHtcblx0XHRpZiAoIWxvYWRlciB8fCAhbG9hZGVyLmNhbkxvYWRJdGVtKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJsb2FkZXIgaXMgb2YgYW4gaW5jb3JyZWN0IHR5cGUuXCIpO1xuXHRcdH0gZWxzZSBpZiAodGhpcy5fYXZhaWxhYmxlTG9hZGVycy5pbmRleE9mKGxvYWRlcikgIT0gLTEpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcImxvYWRlciBhbHJlYWR5IGV4aXN0cy5cIik7IC8vTE06IE1heWJlIGp1c3Qgc2lsZW50bHkgZmFpbCBoZXJlXG5cdFx0fVxuXG5cdFx0dGhpcy5fYXZhaWxhYmxlTG9hZGVycy51bnNoaWZ0KGxvYWRlcik7XG5cdH07XG5cblx0LyoqXG5cdCAqIFJlbW92ZSBhIGN1c3RvbSBsb2FkZXIgYWRkZWQgdXNpbmcge3sjY3Jvc3NMaW5rIFwicmVnaXN0ZXJMb2FkZXJcIn19e3svY3Jvc3NMaW5rfX0uIE9ubHkgY3VzdG9tIGxvYWRlcnMgY2FuIGJlXG5cdCAqIHVucmVnaXN0ZXJlZCwgdGhlIGRlZmF1bHQgbG9hZGVycyB3aWxsIGFsd2F5cyBiZSBhdmFpbGFibGUuXG5cdCAqIEBtZXRob2QgdW5yZWdpc3RlckxvYWRlclxuXHQgKiBAcGFyYW0ge0Z1bmN0aW9ufEFic3RyYWN0TG9hZGVyfSBsb2FkZXIgVGhlIEFic3RyYWN0TG9hZGVyIGNsYXNzIHRvIHJlbW92ZVxuXHQgKi9cblx0cC51bnJlZ2lzdGVyTG9hZGVyID0gZnVuY3Rpb24gKGxvYWRlcikge1xuXHRcdHZhciBpZHggPSB0aGlzLl9hdmFpbGFibGVMb2FkZXJzLmluZGV4T2YobG9hZGVyKTtcblx0XHRpZiAoaWR4ICE9IC0xICYmIGlkeCA8IHRoaXMuX2RlZmF1bHRMb2FkZXJMZW5ndGggLSAxKSB7XG5cdFx0XHR0aGlzLl9hdmFpbGFibGVMb2FkZXJzLnNwbGljZShpZHgsIDEpO1xuXHRcdH1cblx0fTtcblxuXHQvKipcblx0ICogQ2hhbmdlIHRoZSB7eyNjcm9zc0xpbmsgXCJwcmVmZXJYSFI6cHJvcGVydHlcIn19e3svY3Jvc3NMaW5rfX0gdmFsdWUuIE5vdGUgdGhhdCBpZiB0aGlzIGlzIHNldCB0byBgdHJ1ZWAsIGl0IG1heVxuXHQgKiBmYWlsLCBvciBiZSBpZ25vcmVkIGRlcGVuZGluZyBvbiB0aGUgYnJvd3NlcidzIGNhcGFiaWxpdGllcyBhbmQgdGhlIGxvYWQgdHlwZS5cblx0ICogQG1ldGhvZCBzZXRQcmVmZXJYSFJcblx0ICogQHBhcmFtIHtCb29sZWFufSB2YWx1ZVxuXHQgKiBAcmV0dXJucyB7Qm9vbGVhbn0gVGhlIHZhbHVlIG9mIHt7I2Nyb3NzTGluayBcInByZWZlclhIUlwifX17ey9jcm9zc0xpbmt9fSB0aGF0IHdhcyBzdWNjZXNzZnVsbHkgc2V0LlxuXHQgKiBAc2luY2UgMC42LjBcblx0ICovXG5cdHAuc2V0UHJlZmVyWEhSID0gZnVuY3Rpb24gKHZhbHVlKSB7XG5cdFx0Ly8gRGV0ZXJtaW5lIGlmIHdlIGNhbiB1c2UgWEhSLiBYSFIgZGVmYXVsdHMgdG8gVFJVRSwgYnV0IHRoZSBicm93c2VyIG1heSBub3Qgc3VwcG9ydCBpdC5cblx0XHQvL1RPRE86IFNob3VsZCB3ZSBiZSBjaGVja2luZyBmb3IgdGhlIG90aGVyIFhIUiB0eXBlcz8gTWlnaHQgaGF2ZSB0byBkbyBhIHRyeS9jYXRjaCBvbiB0aGUgZGlmZmVyZW50IHR5cGVzIHNpbWlsYXIgdG8gY3JlYXRlWEhSLlxuXHRcdHRoaXMucHJlZmVyWEhSID0gKHZhbHVlICE9IGZhbHNlICYmIHdpbmRvdy5YTUxIdHRwUmVxdWVzdCAhPSBudWxsKTtcblx0XHRyZXR1cm4gdGhpcy5wcmVmZXJYSFI7XG5cdH07XG5cblx0LyoqXG5cdCAqIFN0b3BzIGFsbCBxdWV1ZWQgYW5kIGxvYWRpbmcgaXRlbXMsIGFuZCBjbGVhcnMgdGhlIHF1ZXVlLiBUaGlzIGFsc28gcmVtb3ZlcyBhbGwgaW50ZXJuYWwgcmVmZXJlbmNlcyB0byBsb2FkZWRcblx0ICogY29udGVudCwgYW5kIGFsbG93cyB0aGUgcXVldWUgdG8gYmUgdXNlZCBhZ2Fpbi5cblx0ICogQG1ldGhvZCByZW1vdmVBbGxcblx0ICogQHNpbmNlIDAuMy4wXG5cdCAqL1xuXHRwLnJlbW92ZUFsbCA9IGZ1bmN0aW9uICgpIHtcblx0XHR0aGlzLnJlbW92ZSgpO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBTdG9wcyBhbiBpdGVtIGZyb20gYmVpbmcgbG9hZGVkLCBhbmQgcmVtb3ZlcyBpdCBmcm9tIHRoZSBxdWV1ZS4gSWYgbm90aGluZyBpcyBwYXNzZWQsIGFsbCBpdGVtcyBhcmUgcmVtb3ZlZC5cblx0ICogVGhpcyBhbHNvIHJlbW92ZXMgaW50ZXJuYWwgcmVmZXJlbmNlcyB0byBsb2FkZWQgaXRlbShzKS5cblx0ICpcblx0ICogPGg0PkV4YW1wbGU8L2g0PlxuXHQgKlxuXHQgKiAgICAgIHF1ZXVlLmxvYWRNYW5pZmVzdChbXG5cdCAqICAgICAgICAgIHtzcmM6XCJ0ZXN0LnBuZ1wiLCBpZDpcInBuZ1wifSxcblx0ICogICAgICAgICAge3NyYzpcInRlc3QuanBnXCIsIGlkOlwianBnXCJ9LFxuXHQgKiAgICAgICAgICB7c3JjOlwidGVzdC5tcDNcIiwgaWQ6XCJtcDNcIn1cblx0ICogICAgICBdKTtcblx0ICogICAgICBxdWV1ZS5yZW1vdmUoXCJwbmdcIik7IC8vIFNpbmdsZSBpdGVtIGJ5IElEXG5cdCAqICAgICAgcXVldWUucmVtb3ZlKFwicG5nXCIsIFwidGVzdC5qcGdcIik7IC8vIEl0ZW1zIGFzIGFyZ3VtZW50cy4gTWl4ZWQgaWQgYW5kIHNyYy5cblx0ICogICAgICBxdWV1ZS5yZW1vdmUoW1widGVzdC5wbmdcIiwgXCJqcGdcIl0pOyAvLyBJdGVtcyBpbiBhbiBBcnJheS4gTWl4ZWQgaWQgYW5kIHNyYy5cblx0ICpcblx0ICogQG1ldGhvZCByZW1vdmVcblx0ICogQHBhcmFtIHtTdHJpbmcgfCBBcnJheX0gaWRzT3JVcmxzKiBUaGUgaWQgb3IgaWRzIHRvIHJlbW92ZSBmcm9tIHRoaXMgcXVldWUuIFlvdSBjYW4gcGFzcyBhbiBpdGVtLCBhbiBhcnJheSBvZlxuXHQgKiBpdGVtcywgb3IgbXVsdGlwbGUgaXRlbXMgYXMgYXJndW1lbnRzLlxuXHQgKiBAc2luY2UgMC4zLjBcblx0ICovXG5cdHAucmVtb3ZlID0gZnVuY3Rpb24gKGlkc09yVXJscykge1xuXHRcdHZhciBhcmdzID0gbnVsbDtcblxuXHRcdGlmIChpZHNPclVybHMgJiYgIUFycmF5LmlzQXJyYXkoaWRzT3JVcmxzKSkge1xuXHRcdFx0YXJncyA9IFtpZHNPclVybHNdO1xuXHRcdH0gZWxzZSBpZiAoaWRzT3JVcmxzKSB7XG5cdFx0XHRhcmdzID0gaWRzT3JVcmxzO1xuXHRcdH0gZWxzZSBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHR2YXIgaXRlbXNXZXJlUmVtb3ZlZCA9IGZhbHNlO1xuXG5cdFx0Ly8gRGVzdHJveSBldmVyeXRoaW5nXG5cdFx0aWYgKCFhcmdzKSB7XG5cdFx0XHR0aGlzLmNsb3NlKCk7XG5cdFx0XHRmb3IgKHZhciBuIGluIHRoaXMuX2xvYWRJdGVtc0J5SWQpIHtcblx0XHRcdFx0dGhpcy5fZGlzcG9zZUl0ZW0odGhpcy5fbG9hZEl0ZW1zQnlJZFtuXSk7XG5cdFx0XHR9XG5cdFx0XHR0aGlzLmluaXQodGhpcy5wcmVmZXJYSFIsIHRoaXMuX2Jhc2VQYXRoKTtcblxuXHRcdFx0Ly8gUmVtb3ZlIHNwZWNpZmljIGl0ZW1zXG5cdFx0fSBlbHNlIHtcblx0XHRcdHdoaWxlIChhcmdzLmxlbmd0aCkge1xuXHRcdFx0XHR2YXIgaXRlbSA9IGFyZ3MucG9wKCk7XG5cdFx0XHRcdHZhciByID0gdGhpcy5nZXRSZXN1bHQoaXRlbSk7XG5cblx0XHRcdFx0Ly9SZW1vdmUgZnJvbSB0aGUgbWFpbiBsb2FkIFF1ZXVlXG5cdFx0XHRcdGZvciAoaSA9IHRoaXMuX2xvYWRRdWV1ZS5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuXHRcdFx0XHRcdGxvYWRJdGVtID0gdGhpcy5fbG9hZFF1ZXVlW2ldLmdldEl0ZW0oKTtcblx0XHRcdFx0XHRpZiAobG9hZEl0ZW0uaWQgPT0gaXRlbSB8fCBsb2FkSXRlbS5zcmMgPT0gaXRlbSkge1xuXHRcdFx0XHRcdFx0dGhpcy5fbG9hZFF1ZXVlLnNwbGljZShpLCAxKVswXS5jYW5jZWwoKTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vUmVtb3ZlIGZyb20gdGhlIGJhY2t1cCBxdWV1ZVxuXHRcdFx0XHRmb3IgKGkgPSB0aGlzLl9sb2FkUXVldWVCYWNrdXAubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcblx0XHRcdFx0XHRsb2FkSXRlbSA9IHRoaXMuX2xvYWRRdWV1ZUJhY2t1cFtpXS5nZXRJdGVtKCk7XG5cdFx0XHRcdFx0aWYgKGxvYWRJdGVtLmlkID09IGl0ZW0gfHwgbG9hZEl0ZW0uc3JjID09IGl0ZW0pIHtcblx0XHRcdFx0XHRcdHRoaXMuX2xvYWRRdWV1ZUJhY2t1cC5zcGxpY2UoaSwgMSlbMF0uY2FuY2VsKCk7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAocikge1xuXHRcdFx0XHRcdHRoaXMuX2Rpc3Bvc2VJdGVtKHRoaXMuZ2V0SXRlbShpdGVtKSk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Zm9yICh2YXIgaSA9IHRoaXMuX2N1cnJlbnRMb2Fkcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuXHRcdFx0XHRcdFx0dmFyIGxvYWRJdGVtID0gdGhpcy5fY3VycmVudExvYWRzW2ldLmdldEl0ZW0oKTtcblx0XHRcdFx0XHRcdGlmIChsb2FkSXRlbS5pZCA9PSBpdGVtIHx8IGxvYWRJdGVtLnNyYyA9PSBpdGVtKSB7XG5cdFx0XHRcdFx0XHRcdHRoaXMuX2N1cnJlbnRMb2Fkcy5zcGxpY2UoaSwgMSlbMF0uY2FuY2VsKCk7XG5cdFx0XHRcdFx0XHRcdGl0ZW1zV2VyZVJlbW92ZWQgPSB0cnVlO1xuXHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gSWYgdGhpcyB3YXMgY2FsbGVkIGR1cmluZyBhIGxvYWQsIHRyeSB0byBsb2FkIHRoZSBuZXh0IGl0ZW0uXG5cdFx0XHRpZiAoaXRlbXNXZXJlUmVtb3ZlZCkge1xuXHRcdFx0XHR0aGlzLl9sb2FkTmV4dCgpO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcblxuXHQvKipcblx0ICogU3RvcHMgYWxsIG9wZW4gbG9hZHMsIGRlc3Ryb3lzIGFueSBsb2FkZWQgaXRlbXMsIGFuZCByZXNldHMgdGhlIHF1ZXVlLCBzbyBhbGwgaXRlbXMgY2FuXG5cdCAqIGJlIHJlbG9hZGVkIGFnYWluIGJ5IGNhbGxpbmcge3sjY3Jvc3NMaW5rIFwiQWJzdHJhY3RMb2FkZXIvbG9hZFwifX17ey9jcm9zc0xpbmt9fS4gSXRlbXMgYXJlIG5vdCByZW1vdmVkIGZyb20gdGhlXG5cdCAqIHF1ZXVlLiBUbyByZW1vdmUgaXRlbXMgdXNlIHRoZSB7eyNjcm9zc0xpbmsgXCJMb2FkUXVldWUvcmVtb3ZlXCJ9fXt7L2Nyb3NzTGlua319IG9yXG5cdCAqIHt7I2Nyb3NzTGluayBcIkxvYWRRdWV1ZS9yZW1vdmVBbGxcIn19e3svY3Jvc3NMaW5rfX0gbWV0aG9kLlxuXHQgKiBAbWV0aG9kIHJlc2V0XG5cdCAqIEBzaW5jZSAwLjMuMFxuXHQgKi9cblx0cC5yZXNldCA9IGZ1bmN0aW9uICgpIHtcblx0XHR0aGlzLmNsb3NlKCk7XG5cdFx0Zm9yICh2YXIgbiBpbiB0aGlzLl9sb2FkSXRlbXNCeUlkKSB7XG5cdFx0XHR0aGlzLl9kaXNwb3NlSXRlbSh0aGlzLl9sb2FkSXRlbXNCeUlkW25dKTtcblx0XHR9XG5cblx0XHQvL1Jlc2V0IHRoZSBxdWV1ZSB0byBpdHMgc3RhcnQgc3RhdGVcblx0XHR2YXIgYSA9IFtdO1xuXHRcdGZvciAodmFyIGkgPSAwLCBsID0gdGhpcy5fbG9hZFF1ZXVlQmFja3VwLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuXHRcdFx0YS5wdXNoKHRoaXMuX2xvYWRRdWV1ZUJhY2t1cFtpXS5nZXRJdGVtKCkpO1xuXHRcdH1cblxuXHRcdHRoaXMubG9hZE1hbmlmZXN0KGEsIGZhbHNlKTtcblx0fTtcblxuXHQvKipcblx0ICogUmVnaXN0ZXIgYSBwbHVnaW4uIFBsdWdpbnMgY2FuIG1hcCB0byBsb2FkIHR5cGVzIChzb3VuZCwgaW1hZ2UsIGV0YyksIG9yIHNwZWNpZmljIGV4dGVuc2lvbnMgKHBuZywgbXAzLCBldGMpLlxuXHQgKiBDdXJyZW50bHksIG9ubHkgb25lIHBsdWdpbiBjYW4gZXhpc3QgcGVyIHR5cGUvZXh0ZW5zaW9uLlxuXHQgKlxuXHQgKiBXaGVuIGEgcGx1Z2luIGlzIGluc3RhbGxlZCwgYSA8Y29kZT5nZXRQcmVsb2FkSGFuZGxlcnMoKTwvY29kZT4gbWV0aG9kIHdpbGwgYmUgY2FsbGVkIG9uIGl0LiBGb3IgbW9yZSBpbmZvcm1hdGlvblxuXHQgKiBvbiB0aGlzIG1ldGhvZCwgY2hlY2sgb3V0IHRoZSB7eyNjcm9zc0xpbmsgXCJTYW1wbGVQbHVnaW4vZ2V0UHJlbG9hZEhhbmRsZXJzXCJ9fXt7L2Nyb3NzTGlua319IG1ldGhvZCBpbiB0aGVcblx0ICoge3sjY3Jvc3NMaW5rIFwiU2FtcGxlUGx1Z2luXCJ9fXt7L2Nyb3NzTGlua319IGNsYXNzLlxuXHQgKlxuXHQgKiBCZWZvcmUgYSBmaWxlIGlzIGxvYWRlZCwgYSBtYXRjaGluZyBwbHVnaW4gaGFzIGFuIG9wcG9ydHVuaXR5IHRvIG1vZGlmeSB0aGUgbG9hZC4gSWYgYSBgY2FsbGJhY2tgIGlzIHJldHVybmVkXG5cdCAqIGZyb20gdGhlIHt7I2Nyb3NzTGluayBcIlNhbXBsZVBsdWdpbi9nZXRQcmVsb2FkSGFuZGxlcnNcIn19e3svY3Jvc3NMaW5rfX0gbWV0aG9kLCBpdCB3aWxsIGJlIGludm9rZWQgZmlyc3QsIGFuZCBpdHNcblx0ICogcmVzdWx0IG1heSBjYW5jZWwgb3IgbW9kaWZ5IHRoZSBpdGVtLiBUaGUgY2FsbGJhY2sgbWV0aG9kIGNhbiBhbHNvIHJldHVybiBhIGBjb21wbGV0ZUhhbmRsZXJgIHRvIGJlIGZpcmVkIHdoZW5cblx0ICogdGhlIGZpbGUgaXMgbG9hZGVkLCBvciBhIGB0YWdgIG9iamVjdCwgd2hpY2ggd2lsbCBtYW5hZ2UgdGhlIGFjdHVhbCBkb3dubG9hZC4gRm9yIG1vcmUgaW5mb3JtYXRpb24gb24gdGhlc2Vcblx0ICogbWV0aG9kcywgY2hlY2sgb3V0IHRoZSB7eyNjcm9zc0xpbmsgXCJTYW1wbGVQbHVnaW4vcHJlbG9hZEhhbmRsZXJcIn19e3svY3Jvc3NMaW5rfX0gYW5kIHt7I2Nyb3NzTGluayBcIlNhbXBsZVBsdWdpbi9maWxlTG9hZEhhbmRsZXJcIn19e3svY3Jvc3NMaW5rfX1cblx0ICogbWV0aG9kcyBvbiB0aGUge3sjY3Jvc3NMaW5rIFwiU2FtcGxlUGx1Z2luXCJ9fXt7L2Nyb3NzTGlua319LlxuXHQgKlxuXHQgKiBAbWV0aG9kIGluc3RhbGxQbHVnaW5cblx0ICogQHBhcmFtIHtGdW5jdGlvbn0gcGx1Z2luIFRoZSBwbHVnaW4gY2xhc3MgdG8gaW5zdGFsbC5cblx0ICovXG5cdHAuaW5zdGFsbFBsdWdpbiA9IGZ1bmN0aW9uIChwbHVnaW4pIHtcblx0XHRpZiAocGx1Z2luID09IG51bGwpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRpZiAocGx1Z2luLmdldFByZWxvYWRIYW5kbGVycyAhPSBudWxsKSB7XG5cdFx0XHR0aGlzLl9wbHVnaW5zLnB1c2gocGx1Z2luKTtcblx0XHRcdHZhciBtYXAgPSBwbHVnaW4uZ2V0UHJlbG9hZEhhbmRsZXJzKCk7XG5cdFx0XHRtYXAuc2NvcGUgPSBwbHVnaW47XG5cblx0XHRcdGlmIChtYXAudHlwZXMgIT0gbnVsbCkge1xuXHRcdFx0XHRmb3IgKHZhciBpID0gMCwgbCA9IG1hcC50eXBlcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcblx0XHRcdFx0XHR0aGlzLl90eXBlQ2FsbGJhY2tzW21hcC50eXBlc1tpXV0gPSBtYXA7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0aWYgKG1hcC5leHRlbnNpb25zICE9IG51bGwpIHtcblx0XHRcdFx0Zm9yIChpID0gMCwgbCA9IG1hcC5leHRlbnNpb25zLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuXHRcdFx0XHRcdHRoaXMuX2V4dGVuc2lvbkNhbGxiYWNrc1ttYXAuZXh0ZW5zaW9uc1tpXV0gPSBtYXA7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH07XG5cblx0LyoqXG5cdCAqIFNldCB0aGUgbWF4aW11bSBudW1iZXIgb2YgY29uY3VycmVudCBjb25uZWN0aW9ucy4gTm90ZSB0aGF0IGJyb3dzZXJzIGFuZCBzZXJ2ZXJzIG1heSBoYXZlIGEgYnVpbHQtaW4gbWF4aW11bVxuXHQgKiBudW1iZXIgb2Ygb3BlbiBjb25uZWN0aW9ucywgc28gYW55IGFkZGl0aW9uYWwgY29ubmVjdGlvbnMgbWF5IHJlbWFpbiBpbiBhIHBlbmRpbmcgc3RhdGUgdW50aWwgdGhlIGJyb3dzZXJcblx0ICogb3BlbnMgdGhlIGNvbm5lY3Rpb24uIFdoZW4gbG9hZGluZyBzY3JpcHRzIHVzaW5nIHRhZ3MsIGFuZCB3aGVuIHt7I2Nyb3NzTGluayBcIkxvYWRRdWV1ZS9tYWludGFpblNjcmlwdE9yZGVyOnByb3BlcnR5XCJ9fXt7L2Nyb3NzTGlua319XG5cdCAqIGlzIGB0cnVlYCwgb25seSBvbmUgc2NyaXB0IGlzIGxvYWRlZCBhdCBhIHRpbWUgZHVlIHRvIGJyb3dzZXIgbGltaXRhdGlvbnMuXG5cdCAqXG5cdCAqIDxoND5FeGFtcGxlPC9oND5cblx0ICpcblx0ICogICAgICB2YXIgcXVldWUgPSBuZXcgY3JlYXRlanMuTG9hZFF1ZXVlKCk7XG5cdCAqICAgICAgcXVldWUuc2V0TWF4Q29ubmVjdGlvbnMoMTApOyAvLyBBbGxvdyAxMCBjb25jdXJyZW50IGxvYWRzXG5cdCAqXG5cdCAqIEBtZXRob2Qgc2V0TWF4Q29ubmVjdGlvbnNcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHZhbHVlIFRoZSBudW1iZXIgb2YgY29uY3VycmVudCBsb2FkcyB0byBhbGxvdy4gQnkgZGVmYXVsdCwgb25seSBhIHNpbmdsZSBjb25uZWN0aW9uIHBlciBMb2FkUXVldWVcblx0ICogaXMgb3BlbiBhdCBhbnkgdGltZS5cblx0ICovXG5cdHAuc2V0TWF4Q29ubmVjdGlvbnMgPSBmdW5jdGlvbiAodmFsdWUpIHtcblx0XHR0aGlzLl9tYXhDb25uZWN0aW9ucyA9IHZhbHVlO1xuXHRcdGlmICghdGhpcy5fcGF1c2VkICYmIHRoaXMuX2xvYWRRdWV1ZS5sZW5ndGggPiAwKSB7XG5cdFx0XHR0aGlzLl9sb2FkTmV4dCgpO1xuXHRcdH1cblx0fTtcblxuXHQvKipcblx0ICogTG9hZCBhIHNpbmdsZSBmaWxlLiBUbyBhZGQgbXVsdGlwbGUgZmlsZXMgYXQgb25jZSwgdXNlIHRoZSB7eyNjcm9zc0xpbmsgXCJMb2FkUXVldWUvbG9hZE1hbmlmZXN0XCJ9fXt7L2Nyb3NzTGlua319XG5cdCAqIG1ldGhvZC5cblx0ICpcblx0ICogRmlsZXMgYXJlIGFsd2F5cyBhcHBlbmRlZCB0byB0aGUgY3VycmVudCBxdWV1ZSwgc28gdGhpcyBtZXRob2QgY2FuIGJlIHVzZWQgbXVsdGlwbGUgdGltZXMgdG8gYWRkIGZpbGVzLlxuXHQgKiBUbyBjbGVhciB0aGUgcXVldWUgZmlyc3QsIHVzZSB0aGUge3sjY3Jvc3NMaW5rIFwiQWJzdHJhY3RMb2FkZXIvY2xvc2VcIn19e3svY3Jvc3NMaW5rfX0gbWV0aG9kLlxuXHQgKiBAbWV0aG9kIGxvYWRGaWxlXG5cdCAqIEBwYXJhbSB7TG9hZEl0ZW18T2JqZWN0fFN0cmluZ30gZmlsZSBUaGUgZmlsZSBvYmplY3Qgb3IgcGF0aCB0byBsb2FkLiBBIGZpbGUgY2FuIGJlIGVpdGhlclxuXHQgKiA8dWw+XG5cdCAqICAgICA8bGk+QSB7eyNjcm9zc0xpbmsgXCJMb2FkSXRlbVwifX17ey9jcm9zc0xpbmt9fSBpbnN0YW5jZTwvbGk+XG5cdCAqICAgICA8bGk+QW4gb2JqZWN0IGNvbnRhaW5pbmcgcHJvcGVydGllcyBkZWZpbmVkIGJ5IHt7I2Nyb3NzTGluayBcIkxvYWRJdGVtXCJ9fXt7L2Nyb3NzTGlua319PC9saT5cblx0ICogICAgIDxsaT5PUiBBIHN0cmluZyBwYXRoIHRvIGEgcmVzb3VyY2UuIE5vdGUgdGhhdCB0aGlzIGtpbmQgb2YgbG9hZCBpdGVtIHdpbGwgYmUgY29udmVydGVkIHRvIGEge3sjY3Jvc3NMaW5rIFwiTG9hZEl0ZW1cIn19e3svY3Jvc3NMaW5rfX1cblx0ICogICAgIGluIHRoZSBiYWNrZ3JvdW5kLjwvbGk+XG5cdCAqIDwvdWw+XG5cdCAqIEBwYXJhbSB7Qm9vbGVhbn0gW2xvYWROb3c9dHJ1ZV0gS2ljayBvZmYgYW4gaW1tZWRpYXRlIGxvYWQgKHRydWUpIG9yIHdhaXQgZm9yIGEgbG9hZCBjYWxsIChmYWxzZSkuIFRoZSBkZWZhdWx0XG5cdCAqIHZhbHVlIGlzIHRydWUuIElmIHRoZSBxdWV1ZSBpcyBwYXVzZWQgdXNpbmcge3sjY3Jvc3NMaW5rIFwiTG9hZFF1ZXVlL3NldFBhdXNlZFwifX17ey9jcm9zc0xpbmt9fSwgYW5kIHRoZSB2YWx1ZSBpc1xuXHQgKiBgdHJ1ZWAsIHRoZSBxdWV1ZSB3aWxsIHJlc3VtZSBhdXRvbWF0aWNhbGx5LlxuXHQgKiBAcGFyYW0ge1N0cmluZ30gW2Jhc2VQYXRoXSBBIGJhc2UgcGF0aCB0aGF0IHdpbGwgYmUgcHJlcGVuZGVkIHRvIGVhY2ggZmlsZS4gVGhlIGJhc2VQYXRoIGFyZ3VtZW50IG92ZXJyaWRlcyB0aGVcblx0ICogcGF0aCBzcGVjaWZpZWQgaW4gdGhlIGNvbnN0cnVjdG9yLiBOb3RlIHRoYXQgaWYgeW91IGxvYWQgYSBtYW5pZmVzdCB1c2luZyBhIGZpbGUgb2YgdHlwZSB7eyNjcm9zc0xpbmsgXCJUeXBlcy9NQU5JRkVTVDpwcm9wZXJ0eVwifX17ey9jcm9zc0xpbmt9fSxcblx0ICogaXRzIGZpbGVzIHdpbGwgPHN0cm9uZz5OT1Q8L3N0cm9uZz4gdXNlIHRoZSBiYXNlUGF0aCBwYXJhbWV0ZXIuIDxzdHJvbmc+VGhlIGJhc2VQYXRoIHBhcmFtZXRlciBpcyBkZXByZWNhdGVkLjwvc3Ryb25nPlxuXHQgKiBUaGlzIHBhcmFtZXRlciB3aWxsIGJlIHJlbW92ZWQgaW4gYSBmdXR1cmUgdmVyc2lvbi4gUGxlYXNlIGVpdGhlciB1c2UgdGhlIGBiYXNlUGF0aGAgcGFyYW1ldGVyIGluIHRoZSBMb2FkUXVldWVcblx0ICogY29uc3RydWN0b3IsIG9yIGEgYHBhdGhgIHByb3BlcnR5IGluIGEgbWFuaWZlc3QgZGVmaW5pdGlvbi5cblx0ICovXG5cdHAubG9hZEZpbGUgPSBmdW5jdGlvbiAoZmlsZSwgbG9hZE5vdywgYmFzZVBhdGgpIHtcblx0XHRpZiAoZmlsZSA9PSBudWxsKSB7XG5cdFx0XHR2YXIgZXZlbnQgPSBuZXcgY3JlYXRlanMuRXJyb3JFdmVudChcIlBSRUxPQURfTk9fRklMRVwiKTtcblx0XHRcdHRoaXMuX3NlbmRFcnJvcihldmVudCk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdHRoaXMuX2FkZEl0ZW0oZmlsZSwgbnVsbCwgYmFzZVBhdGgpO1xuXG5cdFx0aWYgKGxvYWROb3cgIT09IGZhbHNlKSB7XG5cdFx0XHR0aGlzLnNldFBhdXNlZChmYWxzZSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMuc2V0UGF1c2VkKHRydWUpO1xuXHRcdH1cblx0fTtcblxuXHQvKipcblx0ICogTG9hZCBhbiBhcnJheSBvZiBmaWxlcy4gVG8gbG9hZCBhIHNpbmdsZSBmaWxlLCB1c2UgdGhlIHt7I2Nyb3NzTGluayBcIkxvYWRRdWV1ZS9sb2FkRmlsZVwifX17ey9jcm9zc0xpbmt9fSBtZXRob2QuXG5cdCAqIFRoZSBmaWxlcyBpbiB0aGUgbWFuaWZlc3QgYXJlIHJlcXVlc3RlZCBpbiB0aGUgc2FtZSBvcmRlciwgYnV0IG1heSBjb21wbGV0ZSBpbiBhIGRpZmZlcmVudCBvcmRlciBpZiB0aGUgbWF4XG5cdCAqIGNvbm5lY3Rpb25zIGFyZSBzZXQgYWJvdmUgMSB1c2luZyB7eyNjcm9zc0xpbmsgXCJMb2FkUXVldWUvc2V0TWF4Q29ubmVjdGlvbnNcIn19e3svY3Jvc3NMaW5rfX0uIFNjcmlwdHMgd2lsbCBsb2FkXG5cdCAqIGluIHRoZSByaWdodCBvcmRlciBhcyBsb25nIGFzIHt7I2Nyb3NzTGluayBcIkxvYWRRdWV1ZS9tYWludGFpblNjcmlwdE9yZGVyXCJ9fXt7L2Nyb3NzTGlua319IGlzIHRydWUgKHdoaWNoIGlzXG5cdCAqIGRlZmF1bHQpLlxuXHQgKlxuXHQgKiBGaWxlcyBhcmUgYWx3YXlzIGFwcGVuZGVkIHRvIHRoZSBjdXJyZW50IHF1ZXVlLCBzbyB0aGlzIG1ldGhvZCBjYW4gYmUgdXNlZCBtdWx0aXBsZSB0aW1lcyB0byBhZGQgZmlsZXMuXG5cdCAqIFRvIGNsZWFyIHRoZSBxdWV1ZSBmaXJzdCwgdXNlIHRoZSB7eyNjcm9zc0xpbmsgXCJBYnN0cmFjdExvYWRlci9jbG9zZVwifX17ey9jcm9zc0xpbmt9fSBtZXRob2QuXG5cdCAqIEBtZXRob2QgbG9hZE1hbmlmZXN0XG5cdCAqIEBwYXJhbSB7QXJyYXl8U3RyaW5nfE9iamVjdH0gbWFuaWZlc3QgQW4gbGlzdCBvZiBmaWxlcyB0byBsb2FkLiBUaGUgbG9hZE1hbmlmZXN0IGNhbGwgc3VwcG9ydHMgZm91ciB0eXBlcyBvZlxuXHQgKiBtYW5pZmVzdHM6XG5cdCAqIDxvbD5cblx0ICogICAgIDxsaT5BIHN0cmluZyBwYXRoLCB3aGljaCBwb2ludHMgdG8gYSBtYW5pZmVzdCBmaWxlLCB3aGljaCBpcyBhIEpTT04gZmlsZSB0aGF0IGNvbnRhaW5zIGEgXCJtYW5pZmVzdFwiIHByb3BlcnR5LFxuXHQgKiAgICAgd2hpY2ggZGVmaW5lcyB0aGUgbGlzdCBvZiBmaWxlcyB0byBsb2FkLCBhbmQgY2FuIG9wdGlvbmFsbHkgY29udGFpbiBhIFwicGF0aFwiIHByb3BlcnR5LCB3aGljaCB3aWxsIGJlXG5cdCAqICAgICBwcmVwZW5kZWQgdG8gZWFjaCBmaWxlIGluIHRoZSBsaXN0LjwvbGk+XG5cdCAqICAgICA8bGk+QW4gb2JqZWN0IHdoaWNoIGRlZmluZXMgYSBcInNyY1wiLCB3aGljaCBpcyBhIEpTT04gb3IgSlNPTlAgZmlsZS4gQSBcImNhbGxiYWNrXCIgY2FuIGJlIGRlZmluZWQgZm9yIEpTT05QXG5cdCAqICAgICBmaWxlLiBUaGUgSlNPTi9KU09OUCBmaWxlIHNob3VsZCBjb250YWluIGEgXCJtYW5pZmVzdFwiIHByb3BlcnR5LCB3aGljaCBkZWZpbmVzIHRoZSBsaXN0IG9mIGZpbGVzIHRvIGxvYWQsXG5cdCAqICAgICBhbmQgY2FuIG9wdGlvbmFsbHkgY29udGFpbiBhIFwicGF0aFwiIHByb3BlcnR5LCB3aGljaCB3aWxsIGJlIHByZXBlbmRlZCB0byBlYWNoIGZpbGUgaW4gdGhlIGxpc3QuPC9saT5cblx0ICogICAgIDxsaT5BbiBvYmplY3Qgd2hpY2ggY29udGFpbnMgYSBcIm1hbmlmZXN0XCIgcHJvcGVydHksIHdoaWNoIGRlZmluZXMgdGhlIGxpc3Qgb2YgZmlsZXMgdG8gbG9hZCwgYW5kIGNhblxuXHQgKiAgICAgb3B0aW9uYWxseSBjb250YWluIGEgXCJwYXRoXCIgcHJvcGVydHksIHdoaWNoIHdpbGwgYmUgcHJlcGVuZGVkIHRvIGVhY2ggZmlsZSBpbiB0aGUgbGlzdC48L2xpPlxuXHQgKiAgICAgPGxpPkFuIEFycmF5IG9mIGZpbGVzIHRvIGxvYWQuPC9saT5cblx0ICogPC9vbD5cblx0ICpcblx0ICogRWFjaCBcImZpbGVcIiBpbiBhIG1hbmlmZXN0IGNhbiBiZSBlaXRoZXI6XG5cdCAqIDx1bD5cblx0ICogICAgIDxsaT5BIHt7I2Nyb3NzTGluayBcIkxvYWRJdGVtXCJ9fXt7L2Nyb3NzTGlua319IGluc3RhbmNlPC9saT5cblx0ICogICAgIDxsaT5BbiBvYmplY3QgY29udGFpbmluZyBwcm9wZXJ0aWVzIGRlZmluZWQgYnkge3sjY3Jvc3NMaW5rIFwiTG9hZEl0ZW1cIn19e3svY3Jvc3NMaW5rfX08L2xpPlxuXHQgKiAgICAgPGxpPk9SIEEgc3RyaW5nIHBhdGggdG8gYSByZXNvdXJjZS4gTm90ZSB0aGF0IHRoaXMga2luZCBvZiBsb2FkIGl0ZW0gd2lsbCBiZSBjb252ZXJ0ZWQgdG8gYSB7eyNjcm9zc0xpbmsgXCJMb2FkSXRlbVwifX17ey9jcm9zc0xpbmt9fVxuXHQgKiAgICAgaW4gdGhlIGJhY2tncm91bmQuPC9saT5cblx0ICogPC91bD5cblx0ICpcblx0ICogQHBhcmFtIHtCb29sZWFufSBbbG9hZE5vdz10cnVlXSBLaWNrIG9mZiBhbiBpbW1lZGlhdGUgbG9hZCAodHJ1ZSkgb3Igd2FpdCBmb3IgYSBsb2FkIGNhbGwgKGZhbHNlKS4gVGhlIGRlZmF1bHRcblx0ICogdmFsdWUgaXMgdHJ1ZS4gSWYgdGhlIHF1ZXVlIGlzIHBhdXNlZCB1c2luZyB7eyNjcm9zc0xpbmsgXCJMb2FkUXVldWUvc2V0UGF1c2VkXCJ9fXt7L2Nyb3NzTGlua319IGFuZCB0aGlzIHZhbHVlIGlzXG5cdCAqIGB0cnVlYCwgdGhlIHF1ZXVlIHdpbGwgcmVzdW1lIGF1dG9tYXRpY2FsbHkuXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBbYmFzZVBhdGhdIEEgYmFzZSBwYXRoIHRoYXQgd2lsbCBiZSBwcmVwZW5kZWQgdG8gZWFjaCBmaWxlLiBUaGUgYmFzZVBhdGggYXJndW1lbnQgb3ZlcnJpZGVzIHRoZVxuXHQgKiBwYXRoIHNwZWNpZmllZCBpbiB0aGUgY29uc3RydWN0b3IuIE5vdGUgdGhhdCBpZiB5b3UgbG9hZCBhIG1hbmlmZXN0IHVzaW5nIGEgZmlsZSBvZiB0eXBlIHt7I2Nyb3NzTGluayBcIkxvYWRRdWV1ZS9NQU5JRkVTVDpwcm9wZXJ0eVwifX17ey9jcm9zc0xpbmt9fSxcblx0ICogaXRzIGZpbGVzIHdpbGwgPHN0cm9uZz5OT1Q8L3N0cm9uZz4gdXNlIHRoZSBiYXNlUGF0aCBwYXJhbWV0ZXIuIDxzdHJvbmc+VGhlIGJhc2VQYXRoIHBhcmFtZXRlciBpcyBkZXByZWNhdGVkLjwvc3Ryb25nPlxuXHQgKiBUaGlzIHBhcmFtZXRlciB3aWxsIGJlIHJlbW92ZWQgaW4gYSBmdXR1cmUgdmVyc2lvbi4gUGxlYXNlIGVpdGhlciB1c2UgdGhlIGBiYXNlUGF0aGAgcGFyYW1ldGVyIGluIHRoZSBMb2FkUXVldWVcblx0ICogY29uc3RydWN0b3IsIG9yIGEgYHBhdGhgIHByb3BlcnR5IGluIGEgbWFuaWZlc3QgZGVmaW5pdGlvbi5cblx0ICovXG5cdHAubG9hZE1hbmlmZXN0ID0gZnVuY3Rpb24gKG1hbmlmZXN0LCBsb2FkTm93LCBiYXNlUGF0aCkge1xuXHRcdHZhciBmaWxlTGlzdCA9IG51bGw7XG5cdFx0dmFyIHBhdGggPSBudWxsO1xuXG5cdFx0Ly8gQXJyYXktYmFzZWQgbGlzdCBvZiBpdGVtc1xuXHRcdGlmIChBcnJheS5pc0FycmF5KG1hbmlmZXN0KSkge1xuXHRcdFx0aWYgKG1hbmlmZXN0Lmxlbmd0aCA9PSAwKSB7XG5cdFx0XHRcdHZhciBldmVudCA9IG5ldyBjcmVhdGVqcy5FcnJvckV2ZW50KFwiUFJFTE9BRF9NQU5JRkVTVF9FTVBUWVwiKTtcblx0XHRcdFx0dGhpcy5fc2VuZEVycm9yKGV2ZW50KTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdFx0ZmlsZUxpc3QgPSBtYW5pZmVzdDtcblxuXHRcdFx0Ly8gU3RyaW5nLWJhc2VkLiBPbmx5IGZpbGUgbWFuaWZlc3RzIGNhbiBiZSBzcGVjaWZpZWQgdGhpcyB3YXkuIEFueSBvdGhlciB0eXBlcyB3aWxsIGNhdXNlIGFuIGVycm9yIHdoZW4gbG9hZGVkLlxuXHRcdH0gZWxzZSBpZiAodHlwZW9mKG1hbmlmZXN0KSA9PT0gXCJzdHJpbmdcIikge1xuXHRcdFx0ZmlsZUxpc3QgPSBbXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRzcmM6IG1hbmlmZXN0LFxuXHRcdFx0XHRcdHR5cGU6IHMuTUFOSUZFU1Rcblx0XHRcdFx0fVxuXHRcdFx0XTtcblxuXHRcdH0gZWxzZSBpZiAodHlwZW9mKG1hbmlmZXN0KSA9PSBcIm9iamVjdFwiKSB7XG5cblx0XHRcdC8vIEFuIG9iamVjdCB0aGF0IGRlZmluZXMgYSBtYW5pZmVzdCBwYXRoXG5cdFx0XHRpZiAobWFuaWZlc3Quc3JjICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0aWYgKG1hbmlmZXN0LnR5cGUgPT0gbnVsbCkge1xuXHRcdFx0XHRcdG1hbmlmZXN0LnR5cGUgPSBzLk1BTklGRVNUO1xuXHRcdFx0XHR9IGVsc2UgaWYgKG1hbmlmZXN0LnR5cGUgIT0gcy5NQU5JRkVTVCkge1xuXHRcdFx0XHRcdHZhciBldmVudCA9IG5ldyBjcmVhdGVqcy5FcnJvckV2ZW50KFwiUFJFTE9BRF9NQU5JRkVTVF9UWVBFXCIpO1xuXHRcdFx0XHRcdHRoaXMuX3NlbmRFcnJvcihldmVudCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0ZmlsZUxpc3QgPSBbbWFuaWZlc3RdO1xuXG5cdFx0XHRcdC8vIEFuIG9iamVjdCB0aGF0IGRlZmluZXMgYSBtYW5pZmVzdFxuXHRcdFx0fSBlbHNlIGlmIChtYW5pZmVzdC5tYW5pZmVzdCAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdGZpbGVMaXN0ID0gbWFuaWZlc3QubWFuaWZlc3Q7XG5cdFx0XHRcdHBhdGggPSBtYW5pZmVzdC5wYXRoO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBVbnN1cHBvcnRlZC4gVGhpcyB3aWxsIHRocm93IGFuIGVycm9yLlxuXHRcdH0gZWxzZSB7XG5cdFx0XHR2YXIgZXZlbnQgPSBuZXcgY3JlYXRlanMuRXJyb3JFdmVudChcIlBSRUxPQURfTUFOSUZFU1RfTlVMTFwiKTtcblx0XHRcdHRoaXMuX3NlbmRFcnJvcihldmVudCk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Zm9yICh2YXIgaSA9IDAsIGwgPSBmaWxlTGlzdC5sZW5ndGg7IGkgPCBsOyBpKyspIHtcblx0XHRcdHRoaXMuX2FkZEl0ZW0oZmlsZUxpc3RbaV0sIHBhdGgsIGJhc2VQYXRoKTtcblx0XHR9XG5cblx0XHRpZiAobG9hZE5vdyAhPT0gZmFsc2UpIHtcblx0XHRcdHRoaXMuc2V0UGF1c2VkKGZhbHNlKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5zZXRQYXVzZWQodHJ1ZSk7XG5cdFx0fVxuXG5cdH07XG5cblx0LyoqXG5cdCAqIFN0YXJ0IGEgTG9hZFF1ZXVlIHRoYXQgd2FzIGNyZWF0ZWQsIGJ1dCBub3QgYXV0b21hdGljYWxseSBzdGFydGVkLlxuXHQgKiBAbWV0aG9kIGxvYWRcblx0ICovXG5cdHAubG9hZCA9IGZ1bmN0aW9uICgpIHtcblx0XHR0aGlzLnNldFBhdXNlZChmYWxzZSk7XG5cdH07XG5cblx0LyoqXG5cdCAqIExvb2sgdXAgYSB7eyNjcm9zc0xpbmsgXCJMb2FkSXRlbVwifX17ey9jcm9zc0xpbmt9fSB1c2luZyBlaXRoZXIgdGhlIFwiaWRcIiBvciBcInNyY1wiIHRoYXQgd2FzIHNwZWNpZmllZCB3aGVuIGxvYWRpbmcgaXQuIE5vdGUgdGhhdCBpZiBubyBcImlkXCIgd2FzXG5cdCAqIHN1cHBsaWVkIHdpdGggdGhlIGxvYWQgaXRlbSwgdGhlIElEIHdpbGwgYmUgdGhlIFwic3JjXCIsIGluY2x1ZGluZyBhIGBwYXRoYCBwcm9wZXJ0eSBkZWZpbmVkIGJ5IGEgbWFuaWZlc3QuIFRoZVxuXHQgKiBgYmFzZVBhdGhgIHdpbGwgbm90IGJlIHBhcnQgb2YgdGhlIElELlxuXHQgKiBAbWV0aG9kIGdldEl0ZW1cblx0ICogQHBhcmFtIHtTdHJpbmd9IHZhbHVlIFRoZSA8Y29kZT5pZDwvY29kZT4gb3IgPGNvZGU+c3JjPC9jb2RlPiBvZiB0aGUgbG9hZCBpdGVtLlxuXHQgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBsb2FkIGl0ZW0gdGhhdCB3YXMgaW5pdGlhbGx5IHJlcXVlc3RlZCB1c2luZyB7eyNjcm9zc0xpbmsgXCJMb2FkUXVldWUvbG9hZEZpbGVcIn19e3svY3Jvc3NMaW5rfX1cblx0ICogb3Ige3sjY3Jvc3NMaW5rIFwiTG9hZFF1ZXVlL2xvYWRNYW5pZmVzdFwifX17ey9jcm9zc0xpbmt9fS4gVGhpcyBvYmplY3QgaXMgYWxzbyByZXR1cm5lZCB2aWEgdGhlIHt7I2Nyb3NzTGluayBcIkxvYWRRdWV1ZS9maWxlbG9hZDpldmVudFwifX17ey9jcm9zc0xpbmt9fVxuXHQgKiBldmVudCBhcyB0aGUgYGl0ZW1gIHBhcmFtZXRlci5cblx0ICovXG5cdHAuZ2V0SXRlbSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuXHRcdHJldHVybiB0aGlzLl9sb2FkSXRlbXNCeUlkW3ZhbHVlXSB8fCB0aGlzLl9sb2FkSXRlbXNCeVNyY1t2YWx1ZV07XG5cdH07XG5cblx0LyoqXG5cdCAqIExvb2sgdXAgYSBsb2FkZWQgcmVzdWx0IHVzaW5nIGVpdGhlciB0aGUgXCJpZFwiIG9yIFwic3JjXCIgdGhhdCB3YXMgc3BlY2lmaWVkIHdoZW4gbG9hZGluZyBpdC4gTm90ZSB0aGF0IGlmIG5vIFwiaWRcIlxuXHQgKiB3YXMgc3VwcGxpZWQgd2l0aCB0aGUgbG9hZCBpdGVtLCB0aGUgSUQgd2lsbCBiZSB0aGUgXCJzcmNcIiwgaW5jbHVkaW5nIGEgYHBhdGhgIHByb3BlcnR5IGRlZmluZWQgYnkgYSBtYW5pZmVzdC4gVGhlXG5cdCAqIGBiYXNlUGF0aGAgd2lsbCBub3QgYmUgcGFydCBvZiB0aGUgSUQuXG5cdCAqIEBtZXRob2QgZ2V0UmVzdWx0XG5cdCAqIEBwYXJhbSB7U3RyaW5nfSB2YWx1ZSBUaGUgPGNvZGU+aWQ8L2NvZGU+IG9yIDxjb2RlPnNyYzwvY29kZT4gb2YgdGhlIGxvYWQgaXRlbS5cblx0ICogQHBhcmFtIHtCb29sZWFufSBbcmF3UmVzdWx0PWZhbHNlXSBSZXR1cm4gYSByYXcgcmVzdWx0IGluc3RlYWQgb2YgYSBmb3JtYXR0ZWQgcmVzdWx0LiBUaGlzIGFwcGxpZXMgdG8gY29udGVudFxuXHQgKiBsb2FkZWQgdmlhIFhIUiBzdWNoIGFzIHNjcmlwdHMsIFhNTCwgQ1NTLCBhbmQgSW1hZ2VzLiBJZiB0aGVyZSBpcyBubyByYXcgcmVzdWx0LCB0aGUgZm9ybWF0dGVkIHJlc3VsdCB3aWxsIGJlXG5cdCAqIHJldHVybmVkIGluc3RlYWQuXG5cdCAqIEByZXR1cm4ge09iamVjdH0gQSByZXN1bHQgb2JqZWN0IGNvbnRhaW5pbmcgdGhlIGNvbnRlbnQgdGhhdCB3YXMgbG9hZGVkLCBzdWNoIGFzOlxuXHQgKiA8dWw+XG5cdCAqICAgICAgPGxpPkFuIGltYWdlIHRhZyAoJmx0O2ltYWdlIC8mZ3Q7KSBmb3IgaW1hZ2VzPC9saT5cblx0ICogICAgICA8bGk+QSBzY3JpcHQgdGFnIGZvciBKYXZhU2NyaXB0ICgmbHQ7c2NyaXB0IC8mZ3Q7KS4gTm90ZSB0aGF0IHNjcmlwdHMgYXJlIGF1dG9tYXRpY2FsbHkgYWRkZWQgdG8gdGhlIEhUTUxcblx0ICogICAgICBET00uPC9saT5cblx0ICogICAgICA8bGk+QSBzdHlsZSB0YWcgZm9yIENTUyAoJmx0O3N0eWxlIC8mZ3Q7IG9yICZsdDtsaW5rICZndDspPC9saT5cblx0ICogICAgICA8bGk+UmF3IHRleHQgZm9yIFRFWFQ8L2xpPlxuXHQgKiAgICAgIDxsaT5BIGZvcm1hdHRlZCBKYXZhU2NyaXB0IG9iamVjdCBkZWZpbmVkIGJ5IEpTT048L2xpPlxuXHQgKiAgICAgIDxsaT5BbiBYTUwgZG9jdW1lbnQ8L2xpPlxuXHQgKiAgICAgIDxsaT5BIGJpbmFyeSBhcnJheWJ1ZmZlciBsb2FkZWQgYnkgWEhSPC9saT5cblx0ICogICAgICA8bGk+QW4gYXVkaW8gdGFnICgmbHQ7YXVkaW8gJmd0OykgZm9yIEhUTUwgYXVkaW8uIE5vdGUgdGhhdCBpdCBpcyByZWNvbW1lbmRlZCB0byB1c2UgU291bmRKUyBBUElzIHRvIHBsYXlcblx0ICogICAgICBsb2FkZWQgYXVkaW8uIFNwZWNpZmljYWxseSwgYXVkaW8gbG9hZGVkIGJ5IEZsYXNoIGFuZCBXZWJBdWRpbyB3aWxsIHJldHVybiBhIGxvYWRlciBvYmplY3QgdXNpbmcgdGhpcyBtZXRob2Rcblx0ICogICAgICB3aGljaCBjYW4gbm90IGJlIHVzZWQgdG8gcGxheSBhdWRpbyBiYWNrLjwvbGk+XG5cdCAqIDwvdWw+XG5cdCAqIFRoaXMgb2JqZWN0IGlzIGFsc28gcmV0dXJuZWQgdmlhIHRoZSB7eyNjcm9zc0xpbmsgXCJMb2FkUXVldWUvZmlsZWxvYWQ6ZXZlbnRcIn19e3svY3Jvc3NMaW5rfX0gZXZlbnQgYXMgdGhlICdpdGVtYFxuXHQgKiBwYXJhbWV0ZXIuIE5vdGUgdGhhdCBpZiBhIHJhdyByZXN1bHQgaXMgcmVxdWVzdGVkLCBidXQgbm90IGZvdW5kLCB0aGUgcmVzdWx0IHdpbGwgYmUgcmV0dXJuZWQgaW5zdGVhZC5cblx0ICovXG5cdHAuZ2V0UmVzdWx0ID0gZnVuY3Rpb24gKHZhbHVlLCByYXdSZXN1bHQpIHtcblx0XHR2YXIgaXRlbSA9IHRoaXMuX2xvYWRJdGVtc0J5SWRbdmFsdWVdIHx8IHRoaXMuX2xvYWRJdGVtc0J5U3JjW3ZhbHVlXTtcblx0XHRpZiAoaXRlbSA9PSBudWxsKSB7XG5cdFx0XHRyZXR1cm4gbnVsbDtcblx0XHR9XG5cdFx0dmFyIGlkID0gaXRlbS5pZDtcblx0XHRpZiAocmF3UmVzdWx0ICYmIHRoaXMuX2xvYWRlZFJhd1Jlc3VsdHNbaWRdKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5fbG9hZGVkUmF3UmVzdWx0c1tpZF07XG5cdFx0fVxuXHRcdHJldHVybiB0aGlzLl9sb2FkZWRSZXN1bHRzW2lkXTtcblx0fTtcblxuXHQvKipcblx0ICogR2VuZXJhdGUgYW4gbGlzdCBvZiBpdGVtcyBsb2FkZWQgYnkgdGhpcyBxdWV1ZS5cblx0ICogQG1ldGhvZCBnZXRJdGVtc1xuXHQgKiBAcGFyYW0ge0Jvb2xlYW59IGxvYWRlZCBEZXRlcm1pbmVzIGlmIG9ubHkgaXRlbXMgdGhhdCBoYXZlIGJlZW4gbG9hZGVkIHNob3VsZCBiZSByZXR1cm5lZC4gSWYgZmFsc2UsIGluLXByb2dyZXNzXG5cdCAqIGFuZCBmYWlsZWQgbG9hZCBpdGVtcyB3aWxsIGFsc28gYmUgaW5jbHVkZWQuXG5cdCAqIEByZXR1cm5zIHtBcnJheX0gQSBsaXN0IG9mIG9iamVjdHMgdGhhdCBoYXZlIGJlZW4gbG9hZGVkLiBFYWNoIGl0ZW0gaW5jbHVkZXMgdGhlIHt7I2Nyb3NzTGluayBcIkxvYWRJdGVtXCJ9fXt7L2Nyb3NzTGlua319LFxuXHQgKiByZXN1bHQsIGFuZCByYXdSZXN1bHQuXG5cdCAqIEBzaW5jZSAwLjYuMFxuXHQgKi9cblx0cC5nZXRJdGVtcyA9IGZ1bmN0aW9uIChsb2FkZWQpIHtcblx0XHR2YXIgYXJyID0gW107XG5cdFx0Zm9yICh2YXIgbiBpbiB0aGlzLl9sb2FkSXRlbXNCeUlkKSB7XG5cdFx0XHR2YXIgaXRlbSA9IHRoaXMuX2xvYWRJdGVtc0J5SWRbbl07XG5cdFx0XHR2YXIgcmVzdWx0ID0gdGhpcy5nZXRSZXN1bHQobik7XG5cdFx0XHRpZiAobG9hZGVkID09PSB0cnVlICYmIHJlc3VsdCA9PSBudWxsKSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXHRcdFx0YXJyLnB1c2goe1xuXHRcdFx0XHRpdGVtOiBpdGVtLFxuXHRcdFx0XHRyZXN1bHQ6IHJlc3VsdCxcblx0XHRcdFx0cmF3UmVzdWx0OiB0aGlzLmdldFJlc3VsdChuLCB0cnVlKVxuXHRcdFx0fSk7XG5cdFx0fVxuXHRcdHJldHVybiBhcnI7XG5cdH07XG5cblx0LyoqXG5cdCAqIFBhdXNlIG9yIHJlc3VtZSB0aGUgY3VycmVudCBsb2FkLiBBY3RpdmUgbG9hZHMgd2lsbCBub3QgYmUgY2FuY2VsbGVkLCBidXQgdGhlIG5leHQgaXRlbXMgaW4gdGhlIHF1ZXVlIHdpbGwgbm90XG5cdCAqIGJlIHByb2Nlc3NlZCB3aGVuIGFjdGl2ZSBsb2FkcyBjb21wbGV0ZS4gTG9hZFF1ZXVlcyBhcmUgbm90IHBhdXNlZCBieSBkZWZhdWx0LlxuXHQgKlxuXHQgKiBOb3RlIHRoYXQgaWYgbmV3IGl0ZW1zIGFyZSBhZGRlZCB0byB0aGUgcXVldWUgdXNpbmcge3sjY3Jvc3NMaW5rIFwiTG9hZFF1ZXVlL2xvYWRGaWxlXCJ9fXt7L2Nyb3NzTGlua319IG9yXG5cdCAqIHt7I2Nyb3NzTGluayBcIkxvYWRRdWV1ZS9sb2FkTWFuaWZlc3RcIn19e3svY3Jvc3NMaW5rfX0sIGEgcGF1c2VkIHF1ZXVlIHdpbGwgYmUgcmVzdW1lZCwgdW5sZXNzIHRoZSBgbG9hZE5vd2Bcblx0ICogYXJndW1lbnQgaXMgYGZhbHNlYC5cblx0ICogQG1ldGhvZCBzZXRQYXVzZWRcblx0ICogQHBhcmFtIHtCb29sZWFufSB2YWx1ZSBXaGV0aGVyIHRoZSBxdWV1ZSBzaG91bGQgYmUgcGF1c2VkIG9yIG5vdC5cblx0ICovXG5cdHAuc2V0UGF1c2VkID0gZnVuY3Rpb24gKHZhbHVlKSB7XG5cdFx0dGhpcy5fcGF1c2VkID0gdmFsdWU7XG5cdFx0aWYgKCF0aGlzLl9wYXVzZWQpIHtcblx0XHRcdHRoaXMuX2xvYWROZXh0KCk7XG5cdFx0fVxuXHR9O1xuXG5cdC8qKlxuXHQgKiBDbG9zZSB0aGUgYWN0aXZlIHF1ZXVlLiBDbG9zaW5nIGEgcXVldWUgY29tcGxldGVseSBlbXB0aWVzIHRoZSBxdWV1ZSwgYW5kIHByZXZlbnRzIGFueSByZW1haW5pbmcgaXRlbXMgZnJvbVxuXHQgKiBzdGFydGluZyB0byBkb3dubG9hZC4gTm90ZSB0aGF0IGN1cnJlbnRseSBhbnkgYWN0aXZlIGxvYWRzIHdpbGwgcmVtYWluIG9wZW4sIGFuZCBldmVudHMgbWF5IGJlIHByb2Nlc3NlZC5cblx0ICpcblx0ICogVG8gc3RvcCBhbmQgcmVzdGFydCBhIHF1ZXVlLCB1c2UgdGhlIHt7I2Nyb3NzTGluayBcIkxvYWRRdWV1ZS9zZXRQYXVzZWRcIn19e3svY3Jvc3NMaW5rfX0gbWV0aG9kIGluc3RlYWQuXG5cdCAqIEBtZXRob2QgY2xvc2Vcblx0ICovXG5cdHAuY2xvc2UgPSBmdW5jdGlvbiAoKSB7XG5cdFx0d2hpbGUgKHRoaXMuX2N1cnJlbnRMb2Fkcy5sZW5ndGgpIHtcblx0XHRcdHRoaXMuX2N1cnJlbnRMb2Fkcy5wb3AoKS5jYW5jZWwoKTtcblx0XHR9XG5cdFx0dGhpcy5fc2NyaXB0T3JkZXIubGVuZ3RoID0gMDtcblx0XHR0aGlzLl9sb2FkZWRTY3JpcHRzLmxlbmd0aCA9IDA7XG5cdFx0dGhpcy5sb2FkU3RhcnRXYXNEaXNwYXRjaGVkID0gZmFsc2U7XG5cdFx0dGhpcy5faXRlbUNvdW50ID0gMDtcblx0XHR0aGlzLl9sYXN0UHJvZ3Jlc3MgPSBOYU47XG5cdH07XG5cbi8vIHByb3RlY3RlZCBtZXRob2RzXG5cdC8qKlxuXHQgKiBBZGQgYW4gaXRlbSB0byB0aGUgcXVldWUuIEl0ZW1zIGFyZSBmb3JtYXR0ZWQgaW50byBhIHVzYWJsZSBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIHByb3BlcnRpZXMgbmVjZXNzYXJ5IHRvXG5cdCAqIGxvYWQgdGhlIGNvbnRlbnQuIFRoZSBsb2FkIHF1ZXVlIGlzIHBvcHVsYXRlZCB3aXRoIHRoZSBsb2FkZXIgaW5zdGFuY2UgdGhhdCBoYW5kbGVzIHByZWxvYWRpbmcsIGFuZCBub3QgdGhlIGxvYWRcblx0ICogaXRlbSB0aGF0IHdhcyBwYXNzZWQgaW4gYnkgdGhlIHVzZXIuIFRvIGxvb2sgdXAgdGhlIGxvYWQgaXRlbSBieSBpZCBvciBzcmMsIHVzZSB0aGUge3sjY3Jvc3NMaW5rIFwiTG9hZFF1ZXVlLmdldEl0ZW1cIn19e3svY3Jvc3NMaW5rfX1cblx0ICogbWV0aG9kLlxuXHQgKiBAbWV0aG9kIF9hZGRJdGVtXG5cdCAqIEBwYXJhbSB7U3RyaW5nfE9iamVjdH0gdmFsdWUgVGhlIGl0ZW0gdG8gYWRkIHRvIHRoZSBxdWV1ZS5cblx0ICogQHBhcmFtIHtTdHJpbmd9IFtwYXRoXSBBbiBvcHRpb25hbCBwYXRoIHByZXBlbmRlZCB0byB0aGUgYHNyY2AuIFRoZSBwYXRoIHdpbGwgb25seSBiZSBwcmVwZW5kZWQgaWYgdGhlIHNyYyBpc1xuXHQgKiByZWxhdGl2ZSwgYW5kIGRvZXMgbm90IHN0YXJ0IHdpdGggYSBwcm90b2NvbCBzdWNoIGFzIGBodHRwOi8vYCwgb3IgYSBwYXRoIGxpa2UgYC4uL2AuIElmIHRoZSBMb2FkUXVldWUgd2FzXG5cdCAqIHByb3ZpZGVkIGEge3sjY3Jvc3NMaW5rIFwiX2Jhc2VQYXRoXCJ9fXt7L2Nyb3NzTGlua319LCB0aGVuIGl0IHdpbGwgb3B0aW9uYWxseSBiZSBwcmVwZW5kZWQgYWZ0ZXIuXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBbYmFzZVBhdGhdIDxzdHJvbmc+RGVwcmVjYXRlZDwvc3Ryb25nPkFuIG9wdGlvbmFsIGJhc2VQYXRoIHBhc3NlZCBpbnRvIGEge3sjY3Jvc3NMaW5rIFwiTG9hZFF1ZXVlL2xvYWRNYW5pZmVzdFwifX17ey9jcm9zc0xpbmt9fVxuXHQgKiBvciB7eyNjcm9zc0xpbmsgXCJMb2FkUXVldWUvbG9hZEZpbGVcIn19e3svY3Jvc3NMaW5rfX0gY2FsbC4gVGhpcyBwYXJhbWV0ZXIgd2lsbCBiZSByZW1vdmVkIGluIGEgZnV0dXJlIHRhZ2dlZFxuXHQgKiB2ZXJzaW9uLlxuXHQgKiBAcHJpdmF0ZVxuXHQgKi9cblx0cC5fYWRkSXRlbSA9IGZ1bmN0aW9uICh2YWx1ZSwgcGF0aCwgYmFzZVBhdGgpIHtcblx0XHR2YXIgaXRlbSA9IHRoaXMuX2NyZWF0ZUxvYWRJdGVtKHZhbHVlLCBwYXRoLCBiYXNlUGF0aCk7IC8vIGJhc2VQYXRoIGFuZCBtYW5pZmVzdCBwYXRoIGFyZSBhZGRlZCB0byB0aGUgc3JjLlxuXHRcdGlmIChpdGVtID09IG51bGwpIHtcblx0XHRcdHJldHVybjtcblx0XHR9IC8vIFNvbWV0aW1lcyBwbHVnaW5zIG9yIHR5cGVzIHNob3VsZCBiZSBza2lwcGVkLlxuXHRcdHZhciBsb2FkZXIgPSB0aGlzLl9jcmVhdGVMb2FkZXIoaXRlbSk7XG5cdFx0aWYgKGxvYWRlciAhPSBudWxsKSB7XG5cdFx0XHRpZiAoXCJwbHVnaW5zXCIgaW4gbG9hZGVyKSB7XG5cdFx0XHRcdGxvYWRlci5wbHVnaW5zID0gdGhpcy5fcGx1Z2lucztcblx0XHRcdH1cblx0XHRcdGl0ZW0uX2xvYWRlciA9IGxvYWRlcjtcblx0XHRcdHRoaXMuX2xvYWRRdWV1ZS5wdXNoKGxvYWRlcik7XG5cdFx0XHR0aGlzLl9sb2FkUXVldWVCYWNrdXAucHVzaChsb2FkZXIpO1xuXG5cdFx0XHR0aGlzLl9udW1JdGVtcysrO1xuXHRcdFx0dGhpcy5fdXBkYXRlUHJvZ3Jlc3MoKTtcblxuXHRcdFx0Ly8gT25seSB3b3JyeSBhYm91dCBzY3JpcHQgb3JkZXIgd2hlbiB1c2luZyBYSFIgdG8gbG9hZCBzY3JpcHRzLiBUYWdzIGFyZSBvbmx5IGxvYWRpbmcgb25lIGF0IGEgdGltZS5cblx0XHRcdGlmICgodGhpcy5tYWludGFpblNjcmlwdE9yZGVyXG5cdFx0XHRcdFx0JiYgaXRlbS50eXBlID09IGNyZWF0ZWpzLlR5cGVzLkpBVkFTQ1JJUFRcblx0XHRcdFx0XHRcdC8vJiYgbG9hZGVyIGluc3RhbmNlb2YgY3JlYXRlanMuWEhSTG9hZGVyIC8vTk9URTogSGF2ZSB0byB0cmFjayBhbGwgSlMgZmlsZXMgdGhpcyB3YXlcblx0XHRcdFx0XHQpXG5cdFx0XHRcdFx0fHwgaXRlbS5tYWludGFpbk9yZGVyID09PSB0cnVlKSB7XG5cdFx0XHRcdHRoaXMuX3NjcmlwdE9yZGVyLnB1c2goaXRlbSk7XG5cdFx0XHRcdHRoaXMuX2xvYWRlZFNjcmlwdHMucHVzaChudWxsKTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG5cblx0LyoqXG5cdCAqIENyZWF0ZSBhIHJlZmluZWQge3sjY3Jvc3NMaW5rIFwiTG9hZEl0ZW1cIn19e3svY3Jvc3NMaW5rfX0sIHdoaWNoIGNvbnRhaW5zIGFsbCB0aGUgcmVxdWlyZWQgcHJvcGVydGllcy4gVGhlIHR5cGUgb2Zcblx0ICogaXRlbSBpcyBkZXRlcm1pbmVkIGJ5IGJyb3dzZXIgc3VwcG9ydCwgcmVxdWlyZW1lbnRzIGJhc2VkIG9uIHRoZSBmaWxlIHR5cGUsIGFuZCBkZXZlbG9wZXIgc2V0dGluZ3MuIEZvciBleGFtcGxlLFxuXHQgKiBYSFIgaXMgb25seSB1c2VkIGZvciBmaWxlIHR5cGVzIHRoYXQgc3VwcG9ydCBpdCBpbiBuZXcgYnJvd3NlcnMuXG5cdCAqXG5cdCAqIEJlZm9yZSB0aGUgaXRlbSBpcyByZXR1cm5lZCwgYW55IHBsdWdpbnMgcmVnaXN0ZXJlZCB0byBoYW5kbGUgdGhlIHR5cGUgb3IgZXh0ZW5zaW9uIHdpbGwgYmUgZmlyZWQsIHdoaWNoIG1heVxuXHQgKiBhbHRlciB0aGUgbG9hZCBpdGVtLlxuXHQgKiBAbWV0aG9kIF9jcmVhdGVMb2FkSXRlbVxuXHQgKiBAcGFyYW0ge1N0cmluZyB8IE9iamVjdCB8IEhUTUxBdWRpb0VsZW1lbnQgfCBIVE1MSW1hZ2VFbGVtZW50fSB2YWx1ZSBUaGUgaXRlbSB0aGF0IG5lZWRzIHRvIGJlIHByZWxvYWRlZC5cblx0ICogQHBhcmFtIHtTdHJpbmd9IFtwYXRoXSBBIHBhdGggdG8gcHJlcGVuZCB0byB0aGUgaXRlbSdzIHNvdXJjZS4gU291cmNlcyBiZWdpbm5pbmcgd2l0aCBodHRwOi8vIG9yIHNpbWlsYXIgd2lsbFxuXHQgKiBub3QgcmVjZWl2ZSBhIHBhdGguIFNpbmNlIFByZWxvYWRKUyAwLjQuMSwgdGhlIHNyYyB3aWxsIGJlIG1vZGlmaWVkIHRvIGluY2x1ZGUgdGhlIGBwYXRoYCBhbmQge3sjY3Jvc3NMaW5rIFwiTG9hZFF1ZXVlL19iYXNlUGF0aDpwcm9wZXJ0eVwifX17ey9jcm9zc0xpbmt9fVxuXHQgKiB3aGVuIGl0IGlzIGFkZGVkLlxuXHQgKiBAcGFyYW0ge1N0cmluZ30gW2Jhc2VQYXRoXSA8c3Ryb25nPkRlcHJlY3RhdGVkPC9zdHJvbmc+IEEgYmFzZSBwYXRoIHRvIHByZXBlbmQgdG8gdGhlIGl0ZW1zIHNvdXJjZSBpbiBhZGRpdGlvbiB0b1xuXHQgKiB0aGUgcGF0aCBhcmd1bWVudC5cblx0ICogQHJldHVybiB7T2JqZWN0fSBUaGUgbG9hZGVyIGluc3RhbmNlIHRoYXQgd2lsbCBiZSB1c2VkLlxuXHQgKiBAcHJpdmF0ZVxuXHQgKi9cblx0cC5fY3JlYXRlTG9hZEl0ZW0gPSBmdW5jdGlvbiAodmFsdWUsIHBhdGgsIGJhc2VQYXRoKSB7XG5cdFx0dmFyIGl0ZW0gPSBjcmVhdGVqcy5Mb2FkSXRlbS5jcmVhdGUodmFsdWUpO1xuXHRcdGlmIChpdGVtID09IG51bGwpIHtcblx0XHRcdHJldHVybiBudWxsO1xuXHRcdH1cblxuXHRcdHZhciBicCA9IFwiXCI7IC8vIFN0b3JlIHRoZSBnZW5lcmF0ZWQgYmFzZVBhdGhcblx0XHR2YXIgdXNlQmFzZVBhdGggPSBiYXNlUGF0aCB8fCB0aGlzLl9iYXNlUGF0aDtcblxuXHRcdGlmIChpdGVtLnNyYyBpbnN0YW5jZW9mIE9iamVjdCkge1xuXHRcdFx0aWYgKCFpdGVtLnR5cGUpIHtcblx0XHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0XHR9IC8vIHRoZSB0aGUgc3JjIGlzIGFuIG9iamVjdCwgdHlwZSBpcyByZXF1aXJlZCB0byBwYXNzIG9mZiB0byBwbHVnaW5cblx0XHRcdGlmIChwYXRoKSB7XG5cdFx0XHRcdGJwID0gcGF0aDtcblx0XHRcdFx0dmFyIHBhdGhNYXRjaCA9IGNyZWF0ZWpzLlVSTFV0aWxzLnBhcnNlVVJJKHBhdGgpO1xuXHRcdFx0XHQvLyBBbHNvIGFwcGVuZCBiYXNlUGF0aFxuXHRcdFx0XHRpZiAodXNlQmFzZVBhdGggIT0gbnVsbCAmJiAhcGF0aE1hdGNoLmFic29sdXRlICYmICFwYXRoTWF0Y2gucmVsYXRpdmUpIHtcblx0XHRcdFx0XHRicCA9IHVzZUJhc2VQYXRoICsgYnA7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSBpZiAodXNlQmFzZVBhdGggIT0gbnVsbCkge1xuXHRcdFx0XHRicCA9IHVzZUJhc2VQYXRoO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBEZXRlcm1pbmUgRXh0ZW5zaW9uLCBldGMuXG5cdFx0XHR2YXIgbWF0Y2ggPSBjcmVhdGVqcy5VUkxVdGlscy5wYXJzZVVSSShpdGVtLnNyYyk7XG5cdFx0XHRpZiAobWF0Y2guZXh0ZW5zaW9uKSB7XG5cdFx0XHRcdGl0ZW0uZXh0ID0gbWF0Y2guZXh0ZW5zaW9uO1xuXHRcdFx0fVxuXHRcdFx0aWYgKGl0ZW0udHlwZSA9PSBudWxsKSB7XG5cdFx0XHRcdGl0ZW0udHlwZSA9IGNyZWF0ZWpzLlJlcXVlc3RVdGlscy5nZXRUeXBlQnlFeHRlbnNpb24oaXRlbS5leHQpO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBJbmplY3QgcGF0aCAmIGJhc2VQYXRoXG5cdFx0XHR2YXIgYXV0b0lkID0gaXRlbS5zcmM7XG5cdFx0XHRpZiAoIW1hdGNoLmFic29sdXRlICYmICFtYXRjaC5yZWxhdGl2ZSkge1xuXHRcdFx0XHRpZiAocGF0aCkge1xuXHRcdFx0XHRcdGJwID0gcGF0aDtcblx0XHRcdFx0XHR2YXIgcGF0aE1hdGNoID0gY3JlYXRlanMuVVJMVXRpbHMucGFyc2VVUkkocGF0aCk7XG5cdFx0XHRcdFx0YXV0b0lkID0gcGF0aCArIGF1dG9JZDtcblx0XHRcdFx0XHQvLyBBbHNvIGFwcGVuZCBiYXNlUGF0aFxuXHRcdFx0XHRcdGlmICh1c2VCYXNlUGF0aCAhPSBudWxsICYmICFwYXRoTWF0Y2guYWJzb2x1dGUgJiYgIXBhdGhNYXRjaC5yZWxhdGl2ZSkge1xuXHRcdFx0XHRcdFx0YnAgPSB1c2VCYXNlUGF0aCArIGJwO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBlbHNlIGlmICh1c2VCYXNlUGF0aCAhPSBudWxsKSB7XG5cdFx0XHRcdFx0YnAgPSB1c2VCYXNlUGF0aDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0aXRlbS5zcmMgPSBicCArIGl0ZW0uc3JjO1xuXHRcdH1cblx0XHRpdGVtLnBhdGggPSBicDtcblxuXHRcdC8vIElmIHRoZXJlJ3Mgbm8gaWQsIHNldCBvbmUgbm93LlxuXHRcdGlmIChpdGVtLmlkID09PSB1bmRlZmluZWQgfHwgaXRlbS5pZCA9PT0gbnVsbCB8fCBpdGVtLmlkID09PSBcIlwiKSB7XG5cdFx0XHRpdGVtLmlkID0gYXV0b0lkO1xuXHRcdH1cblxuXHRcdC8vIEdpdmUgcGx1Z2lucyBhIGNoYW5jZSB0byBtb2RpZnkgdGhlIGxvYWRJdGVtOlxuXHRcdHZhciBjdXN0b21IYW5kbGVyID0gdGhpcy5fdHlwZUNhbGxiYWNrc1tpdGVtLnR5cGVdIHx8IHRoaXMuX2V4dGVuc2lvbkNhbGxiYWNrc1tpdGVtLmV4dF07XG5cdFx0aWYgKGN1c3RvbUhhbmRsZXIpIHtcblx0XHRcdC8vIFBsdWdpbnMgYXJlIG5vdyBwYXNzZWQgYm90aCB0aGUgZnVsbCBzb3VyY2UsIGFzIHdlbGwgYXMgYSBjb21iaW5lZCBwYXRoK2Jhc2VQYXRoIChhcHByb3ByaWF0ZWx5KVxuXHRcdFx0dmFyIHJlc3VsdCA9IGN1c3RvbUhhbmRsZXIuY2FsbGJhY2suY2FsbChjdXN0b21IYW5kbGVyLnNjb3BlLCBpdGVtLCB0aGlzKTtcblxuXHRcdFx0Ly8gVGhlIHBsdWdpbiB3aWxsIGhhbmRsZSB0aGUgbG9hZCwgb3IgaGFzIGNhbmNlbGVkIGl0LiBJZ25vcmUgaXQuXG5cdFx0XHRpZiAocmVzdWx0ID09PSBmYWxzZSkge1xuXHRcdFx0XHRyZXR1cm4gbnVsbDtcblxuXHRcdFx0XHQvLyBMb2FkIGFzIG5vcm1hbDpcblx0XHRcdH0gZWxzZSBpZiAocmVzdWx0ID09PSB0cnVlKSB7XG5cdFx0XHRcdC8vIERvIE5vdGhpbmdcblxuXHRcdFx0XHQvLyBSZXN1bHQgaXMgYSBsb2FkZXIgY2xhc3M6XG5cdFx0XHR9IGVsc2UgaWYgKHJlc3VsdCAhPSBudWxsKSB7XG5cdFx0XHRcdGl0ZW0uX2xvYWRlciA9IHJlc3VsdDtcblx0XHRcdH1cblxuXHRcdFx0Ly8gVXBkYXRlIHRoZSBleHRlbnNpb24gaW4gY2FzZSB0aGUgdHlwZSBjaGFuZ2VkOlxuXHRcdFx0bWF0Y2ggPSBjcmVhdGVqcy5VUkxVdGlscy5wYXJzZVVSSShpdGVtLnNyYyk7XG5cdFx0XHRpZiAobWF0Y2guZXh0ZW5zaW9uICE9IG51bGwpIHtcblx0XHRcdFx0aXRlbS5leHQgPSBtYXRjaC5leHRlbnNpb247XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gU3RvcmUgdGhlIGl0ZW0gZm9yIGxvb2t1cC4gVGhpcyBhbHNvIGhlbHBzIGNsZWFuLXVwIGxhdGVyLlxuXHRcdHRoaXMuX2xvYWRJdGVtc0J5SWRbaXRlbS5pZF0gPSBpdGVtO1xuXHRcdHRoaXMuX2xvYWRJdGVtc0J5U3JjW2l0ZW0uc3JjXSA9IGl0ZW07XG5cblx0XHRpZiAoaXRlbS5jcm9zc09yaWdpbiA9PSBudWxsKSB7XG5cdFx0XHRpdGVtLmNyb3NzT3JpZ2luID0gdGhpcy5fY3Jvc3NPcmlnaW47XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGl0ZW07XG5cdH07XG5cblx0LyoqXG5cdCAqIENyZWF0ZSBhIGxvYWRlciBmb3IgYSBsb2FkIGl0ZW0uXG5cdCAqIEBtZXRob2QgX2NyZWF0ZUxvYWRlclxuXHQgKiBAcGFyYW0ge09iamVjdH0gaXRlbSBBIGZvcm1hdHRlZCBsb2FkIGl0ZW0gdGhhdCBjYW4gYmUgdXNlZCB0byBnZW5lcmF0ZSBhIGxvYWRlci5cblx0ICogQHJldHVybiB7QWJzdHJhY3RMb2FkZXJ9IEEgbG9hZGVyIHRoYXQgY2FuIGJlIHVzZWQgdG8gbG9hZCBjb250ZW50LlxuXHQgKiBAcHJpdmF0ZVxuXHQgKi9cblx0cC5fY3JlYXRlTG9hZGVyID0gZnVuY3Rpb24gKGl0ZW0pIHtcblx0XHRpZiAoaXRlbS5fbG9hZGVyICE9IG51bGwpIHsgLy8gQSBwbHVnaW4gYWxyZWFkeSBzcGVjaWZpZWQgYSBsb2FkZXJcblx0XHRcdHJldHVybiBpdGVtLl9sb2FkZXI7XG5cdFx0fVxuXG5cdFx0Ly8gSW5pdGlhbGx5LCB0cnkgYW5kIHVzZSB0aGUgcHJvdmlkZWQvc3VwcG9ydGVkIFhIUiBtb2RlOlxuXHRcdHZhciBwcmVmZXJYSFIgPSB0aGlzLnByZWZlclhIUjtcblxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5fYXZhaWxhYmxlTG9hZGVycy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGxvYWRlciA9IHRoaXMuX2F2YWlsYWJsZUxvYWRlcnNbaV07XG5cdFx0XHRpZiAobG9hZGVyICYmIGxvYWRlci5jYW5Mb2FkSXRlbShpdGVtKSkge1xuXHRcdFx0XHRyZXR1cm4gbmV3IGxvYWRlcihpdGVtLCBwcmVmZXJYSFIpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIFRPRE86IExvZyBlcnJvciAocmVxdWlyZXMgY3JlYXRlanMubG9nKVxuXHRcdHJldHVybiBudWxsO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBMb2FkIHRoZSBuZXh0IGl0ZW0gaW4gdGhlIHF1ZXVlLiBJZiB0aGUgcXVldWUgaXMgZW1wdHkgKGFsbCBpdGVtcyBoYXZlIGJlZW4gbG9hZGVkKSwgdGhlbiB0aGUgY29tcGxldGUgZXZlbnRcblx0ICogaXMgcHJvY2Vzc2VkLiBUaGUgcXVldWUgd2lsbCBcImZpbGwgdXBcIiBhbnkgZW1wdHkgc2xvdHMsIHVwIHRvIHRoZSBtYXggY29ubmVjdGlvbiBzcGVjaWZpZWQgdXNpbmdcblx0ICoge3sjY3Jvc3NMaW5rIFwiTG9hZFF1ZXVlLnNldE1heENvbm5lY3Rpb25zXCJ9fXt7L2Nyb3NzTGlua319IG1ldGhvZC4gVGhlIG9ubHkgZXhjZXB0aW9uIGlzIHNjcmlwdHMgdGhhdCBhcmUgbG9hZGVkXG5cdCAqIHVzaW5nIHRhZ3MsIHdoaWNoIGhhdmUgdG8gYmUgbG9hZGVkIG9uZSBhdCBhIHRpbWUgdG8gbWFpbnRhaW4gbG9hZCBvcmRlci5cblx0ICogQG1ldGhvZCBfbG9hZE5leHRcblx0ICogQHByaXZhdGVcblx0ICovXG5cdHAuX2xvYWROZXh0ID0gZnVuY3Rpb24gKCkge1xuXHRcdGlmICh0aGlzLl9wYXVzZWQpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBPbmx5IGRpc3BhdGNoIGxvYWRzdGFydCBldmVudCB3aGVuIHRoZSBmaXJzdCBmaWxlIGlzIGxvYWRlZC5cblx0XHRpZiAoIXRoaXMuX2xvYWRTdGFydFdhc0Rpc3BhdGNoZWQpIHtcblx0XHRcdHRoaXMuX3NlbmRMb2FkU3RhcnQoKTtcblx0XHRcdHRoaXMuX2xvYWRTdGFydFdhc0Rpc3BhdGNoZWQgPSB0cnVlO1xuXHRcdH1cblxuXHRcdC8vIFRoZSBxdWV1ZSBoYXMgY29tcGxldGVkLlxuXHRcdGlmICh0aGlzLl9udW1JdGVtcyA9PSB0aGlzLl9udW1JdGVtc0xvYWRlZCkge1xuXHRcdFx0dGhpcy5sb2FkZWQgPSB0cnVlO1xuXHRcdFx0dGhpcy5fc2VuZENvbXBsZXRlKCk7XG5cblx0XHRcdC8vIExvYWQgdGhlIG5leHQgcXVldWUsIGlmIGl0IGhhcyBiZWVuIGRlZmluZWQuXG5cdFx0XHRpZiAodGhpcy5uZXh0ICYmIHRoaXMubmV4dC5sb2FkKSB7XG5cdFx0XHRcdHRoaXMubmV4dC5sb2FkKCk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMubG9hZGVkID0gZmFsc2U7XG5cdFx0fVxuXG5cdFx0Ly8gTXVzdCBpdGVyYXRlIGZvcndhcmRzIHRvIGxvYWQgaW4gdGhlIHJpZ2h0IG9yZGVyLlxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5fbG9hZFF1ZXVlLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRpZiAodGhpcy5fY3VycmVudExvYWRzLmxlbmd0aCA+PSB0aGlzLl9tYXhDb25uZWN0aW9ucykge1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHRcdHZhciBsb2FkZXIgPSB0aGlzLl9sb2FkUXVldWVbaV07XG5cblx0XHRcdC8vIERldGVybWluZSBpZiB3ZSBzaG91bGQgYmUgb25seSBsb2FkaW5nIG9uZSB0YWctc2NyaXB0IGF0IGEgdGltZTpcblx0XHRcdC8vIE5vdGU6IG1haW50YWluT3JkZXIgaXRlbXMgZG9uJ3QgZG8gYW55dGhpbmcgaGVyZSBiZWNhdXNlIHdlIGNhbiBob2xkIG9udG8gdGhlaXIgbG9hZGVkIHZhbHVlXG5cdFx0XHRpZiAoIXRoaXMuX2NhblN0YXJ0TG9hZChsb2FkZXIpKSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXHRcdFx0dGhpcy5fbG9hZFF1ZXVlLnNwbGljZShpLCAxKTtcblx0XHRcdGktLTtcblx0XHRcdHRoaXMuX2xvYWRJdGVtKGxvYWRlcik7XG5cdFx0fVxuXHR9O1xuXG5cdC8qKlxuXHQgKiBCZWdpbiBsb2FkaW5nIGFuIGl0ZW0uIEV2ZW50IGxpc3RlbmVycyBhcmUgbm90IGFkZGVkIHRvIHRoZSBsb2FkZXJzIHVudGlsIHRoZSBsb2FkIHN0YXJ0cy5cblx0ICogQG1ldGhvZCBfbG9hZEl0ZW1cblx0ICogQHBhcmFtIHtBYnN0cmFjdExvYWRlcn0gbG9hZGVyIFRoZSBsb2FkZXIgaW5zdGFuY2UgdG8gc3RhcnQuIEN1cnJlbnRseSwgdGhpcyB3aWxsIGJlIGFuIFhIUkxvYWRlciBvciBUYWdMb2FkZXIuXG5cdCAqIEBwcml2YXRlXG5cdCAqL1xuXHRwLl9sb2FkSXRlbSA9IGZ1bmN0aW9uIChsb2FkZXIpIHtcblx0XHRsb2FkZXIub24oXCJmaWxlbG9hZFwiLCB0aGlzLl9oYW5kbGVGaWxlTG9hZCwgdGhpcyk7XG5cdFx0bG9hZGVyLm9uKFwicHJvZ3Jlc3NcIiwgdGhpcy5faGFuZGxlUHJvZ3Jlc3MsIHRoaXMpO1xuXHRcdGxvYWRlci5vbihcImNvbXBsZXRlXCIsIHRoaXMuX2hhbmRsZUZpbGVDb21wbGV0ZSwgdGhpcyk7XG5cdFx0bG9hZGVyLm9uKFwiZXJyb3JcIiwgdGhpcy5faGFuZGxlRXJyb3IsIHRoaXMpO1xuXHRcdGxvYWRlci5vbihcImZpbGVlcnJvclwiLCB0aGlzLl9oYW5kbGVGaWxlRXJyb3IsIHRoaXMpO1xuXHRcdHRoaXMuX2N1cnJlbnRMb2Fkcy5wdXNoKGxvYWRlcik7XG5cdFx0dGhpcy5fc2VuZEZpbGVTdGFydChsb2FkZXIuZ2V0SXRlbSgpKTtcblx0XHRsb2FkZXIubG9hZCgpO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBUaGUgY2FsbGJhY2sgdGhhdCBpcyBmaXJlZCB3aGVuIGEgbG9hZGVyIGxvYWRzIGEgZmlsZS4gVGhpcyBlbmFibGVzIGxvYWRlcnMgbGlrZSB7eyNjcm9zc0xpbmsgXCJNYW5pZmVzdExvYWRlclwifX17ey9jcm9zc0xpbmt9fVxuXHQgKiB0byBtYWludGFpbiBpbnRlcm5hbCBxdWV1ZXMsIGJ1dCBmb3IgdGhpcyBxdWV1ZSB0byBkaXNwYXRjaCB0aGUge3sjY3Jvc3NMaW5rIFwiZmlsZWxvYWQ6ZXZlbnRcIn19e3svY3Jvc3NMaW5rfX1cblx0ICogZXZlbnRzLlxuXHQgKiBAcGFyYW0ge0V2ZW50fSBldmVudCBUaGUge3sjY3Jvc3NMaW5rIFwiQWJzdHJhY3RMb2FkZXIvZmlsZWxvYWQ6ZXZlbnRcIn19e3svY3Jvc3NMaW5rfX0gZXZlbnQgZnJvbSB0aGUgbG9hZGVyLlxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAc2luY2UgMC42LjBcblx0ICovXG5cdHAuX2hhbmRsZUZpbGVMb2FkID0gZnVuY3Rpb24gKGV2ZW50KSB7XG5cdFx0ZXZlbnQudGFyZ2V0ID0gbnVsbDtcblx0XHR0aGlzLmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBUaGUgY2FsbGJhY2sgdGhhdCBpcyBmaXJlZCB3aGVuIGEgbG9hZGVyIGVuY291bnRlcnMgYW4gZXJyb3IgZnJvbSBhbiBpbnRlcm5hbCBmaWxlIGxvYWQgb3BlcmF0aW9uLiBUaGlzIGVuYWJsZXNcblx0ICogbG9hZGVycyBsaWtlIE1cblx0ICogQHBhcmFtIGV2ZW50XG5cdCAqIEBwcml2YXRlXG5cdCAqL1xuXHRwLl9oYW5kbGVGaWxlRXJyb3IgPSBmdW5jdGlvbiAoZXZlbnQpIHtcblx0XHR2YXIgbmV3RXZlbnQgPSBuZXcgY3JlYXRlanMuRXJyb3JFdmVudChcIkZJTEVfTE9BRF9FUlJPUlwiLCBudWxsLCBldmVudC5pdGVtKTtcblx0XHR0aGlzLl9zZW5kRXJyb3IobmV3RXZlbnQpO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBUaGUgY2FsbGJhY2sgdGhhdCBpcyBmaXJlZCB3aGVuIGEgbG9hZGVyIGVuY291bnRlcnMgYW4gZXJyb3IuIFRoZSBxdWV1ZSB3aWxsIGNvbnRpbnVlIGxvYWRpbmcgdW5sZXNzIHt7I2Nyb3NzTGluayBcIkxvYWRRdWV1ZS9zdG9wT25FcnJvcjpwcm9wZXJ0eVwifX17ey9jcm9zc0xpbmt9fVxuXHQgKiBpcyBzZXQgdG8gYHRydWVgLlxuXHQgKiBAbWV0aG9kIF9oYW5kbGVFcnJvclxuXHQgKiBAcGFyYW0ge0Vycm9yRXZlbnR9IGV2ZW50IFRoZSBlcnJvciBldmVudCwgY29udGFpbmluZyByZWxldmFudCBlcnJvciBpbmZvcm1hdGlvbi5cblx0ICogQHByaXZhdGVcblx0ICovXG5cdHAuX2hhbmRsZUVycm9yID0gZnVuY3Rpb24gKGV2ZW50KSB7XG5cdFx0dmFyIGxvYWRlciA9IGV2ZW50LnRhcmdldDtcblx0XHR0aGlzLl9udW1JdGVtc0xvYWRlZCsrO1xuXG5cdFx0dGhpcy5fZmluaXNoT3JkZXJlZEl0ZW0obG9hZGVyLCB0cnVlKTtcblx0XHR0aGlzLl91cGRhdGVQcm9ncmVzcygpO1xuXG5cdFx0dmFyIG5ld0V2ZW50ID0gbmV3IGNyZWF0ZWpzLkVycm9yRXZlbnQoXCJGSUxFX0xPQURfRVJST1JcIiwgbnVsbCwgbG9hZGVyLmdldEl0ZW0oKSk7XG5cdFx0Ly8gVE9ETzogUHJvcGFnYXRlIGFjdHVhbCBlcnJvciBtZXNzYWdlLlxuXG5cdFx0dGhpcy5fc2VuZEVycm9yKG5ld0V2ZW50KTtcblxuXHRcdGlmICghdGhpcy5zdG9wT25FcnJvcikge1xuXHRcdFx0dGhpcy5fcmVtb3ZlTG9hZEl0ZW0obG9hZGVyKTtcblx0XHRcdHRoaXMuX2NsZWFuTG9hZEl0ZW0obG9hZGVyKTtcblx0XHRcdHRoaXMuX2xvYWROZXh0KCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMuc2V0UGF1c2VkKHRydWUpO1xuXHRcdH1cblx0fTtcblxuXHQvKipcblx0ICogQW4gaXRlbSBoYXMgZmluaXNoZWQgbG9hZGluZy4gV2UgY2FuIGFzc3VtZSB0aGF0IGl0IGlzIHRvdGFsbHkgbG9hZGVkLCBoYXMgYmVlbiBwYXJzZWQgZm9yIGltbWVkaWF0ZSB1c2UsIGFuZFxuXHQgKiBpcyBhdmFpbGFibGUgYXMgdGhlIFwicmVzdWx0XCIgcHJvcGVydHkgb24gdGhlIGxvYWQgaXRlbS4gVGhlIHJhdyB0ZXh0IHJlc3VsdCBmb3IgYSBwYXJzZWQgaXRlbSAoc3VjaCBhcyBKU09OLCBYTUwsXG5cdCAqIENTUywgSmF2YVNjcmlwdCwgZXRjKSBpcyBhdmFpbGFibGUgYXMgdGhlIFwicmF3UmVzdWx0XCIgcHJvcGVydHksIGFuZCBjYW4gYWxzbyBiZSBsb29rZWQgdXAgdXNpbmcge3sjY3Jvc3NMaW5rIFwiTG9hZFF1ZXVlL2dldFJlc3VsdFwifX17ey9jcm9zc0xpbmt9fS5cblx0ICogQG1ldGhvZCBfaGFuZGxlRmlsZUNvbXBsZXRlXG5cdCAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50IFRoZSBldmVudCBvYmplY3QgZnJvbSB0aGUgbG9hZGVyLlxuXHQgKiBAcHJpdmF0ZVxuXHQgKi9cblx0cC5faGFuZGxlRmlsZUNvbXBsZXRlID0gZnVuY3Rpb24gKGV2ZW50KSB7XG5cdFx0dmFyIGxvYWRlciA9IGV2ZW50LnRhcmdldDtcblx0XHR2YXIgaXRlbSA9IGxvYWRlci5nZXRJdGVtKCk7XG5cblx0XHR2YXIgcmVzdWx0ID0gbG9hZGVyLmdldFJlc3VsdCgpO1xuXHRcdHRoaXMuX2xvYWRlZFJlc3VsdHNbaXRlbS5pZF0gPSByZXN1bHQ7XG5cdFx0dmFyIHJhd1Jlc3VsdCA9IGxvYWRlci5nZXRSZXN1bHQodHJ1ZSk7XG5cdFx0aWYgKHJhd1Jlc3VsdCAhPSBudWxsICYmIHJhd1Jlc3VsdCAhPT0gcmVzdWx0KSB7XG5cdFx0XHR0aGlzLl9sb2FkZWRSYXdSZXN1bHRzW2l0ZW0uaWRdID0gcmF3UmVzdWx0O1xuXHRcdH1cblxuXHRcdHRoaXMuX3NhdmVMb2FkZWRJdGVtcyhsb2FkZXIpO1xuXG5cdFx0Ly8gUmVtb3ZlIHRoZSBsb2FkIGl0ZW1cblx0XHR0aGlzLl9yZW1vdmVMb2FkSXRlbShsb2FkZXIpO1xuXG5cdFx0aWYgKCF0aGlzLl9maW5pc2hPcmRlcmVkSXRlbShsb2FkZXIpKSB7XG5cdFx0XHQvLyBUaGUgaXRlbSB3YXMgTk9UIG1hbmFnZWQsIHNvIHByb2Nlc3MgaXQgbm93XG5cdFx0XHR0aGlzLl9wcm9jZXNzRmluaXNoZWRMb2FkKGl0ZW0sIGxvYWRlcik7XG5cdFx0fVxuXG5cdFx0Ly8gQ2xlYW4gdXAgdGhlIGxvYWQgaXRlbVxuXHRcdHRoaXMuX2NsZWFuTG9hZEl0ZW0obG9hZGVyKTtcblx0fTtcblxuXHQvKipcblx0ICogU29tZSBsb2FkZXJzIG1pZ2h0IGxvYWQgYWRkaXRpb25hbCBjb250ZW50LCBvdGhlciB0aGFuIHRoZSBpdGVtIHRoZXkgd2VyZSBwYXNzZWQgKHN1Y2ggYXMge3sjY3Jvc3NMaW5rIFwiTWFuaWZlc3RMb2FkZXJcIn19e3svY3Jvc3NMaW5rfX0pLlxuXHQgKiBBbnkgaXRlbXMgZXhwb3NlZCBieSB0aGUgbG9hZGVyIHVzaW5nIHt7I2Nyb3NzTGluayBcIkFic3RyYWN0TG9hZGVyL2dldExvYWRJdGVtc1wifX17ey9jcm9zc0xpbmt9fSBhcmUgYWRkZWQgdG8gdGhlXG5cdCAqIExvYWRRdWV1ZSdzIGxvb2stdXBzLCBpbmNsdWRpbmcge3sjY3Jvc3NMaW5rIFwiZ2V0SXRlbVwifX17ey9jcm9zc0xpbmt9fSBhbmQge3sjY3Jvc3NMaW5rIFwiZ2V0UmVzdWx0XCJ9fXt7L2Nyb3NzTGlua319XG5cdCAqIG1ldGhvZHMuXG5cdCAqIEBtZXRob2QgX3NhdmVMb2FkZWRJdGVtc1xuXHQgKiBAcGFyYW0ge0Fic3RyYWN0TG9hZGVyfSBsb2FkZXJcblx0ICogQHByb3RlY3RlZFxuXHQgKiBAc2luY2UgMC42LjBcblx0ICovXG5cdHAuX3NhdmVMb2FkZWRJdGVtcyA9IGZ1bmN0aW9uIChsb2FkZXIpIHtcblx0XHQvLyBUT0RPOiBOb3Qgc3VyZSBob3cgdG8gaGFuZGxlIHRoaXMuIFdvdWxkIGJlIG5pY2UgdG8gZXhwb3NlIHRoZSBpdGVtcy5cblx0XHQvLyBMb2FkZXJzIG1heSBsb2FkIHN1Yi1pdGVtcy4gVGhpcyBhZGRzIHRoZW0gdG8gdGhpcyBxdWV1ZVxuXHRcdHZhciBsaXN0ID0gbG9hZGVyLmdldExvYWRlZEl0ZW1zKCk7XG5cdFx0aWYgKGxpc3QgPT09IG51bGwpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBpdGVtID0gbGlzdFtpXS5pdGVtO1xuXG5cdFx0XHQvLyBTdG9yZSBpdGVtIGxvb2t1cHNcblx0XHRcdHRoaXMuX2xvYWRJdGVtc0J5U3JjW2l0ZW0uc3JjXSA9IGl0ZW07XG5cdFx0XHR0aGlzLl9sb2FkSXRlbXNCeUlkW2l0ZW0uaWRdID0gaXRlbTtcblxuXHRcdFx0Ly8gU3RvcmUgbG9hZGVkIGNvbnRlbnRcblx0XHRcdHRoaXMuX2xvYWRlZFJlc3VsdHNbaXRlbS5pZF0gPSBsaXN0W2ldLnJlc3VsdDtcblx0XHRcdHRoaXMuX2xvYWRlZFJhd1Jlc3VsdHNbaXRlbS5pZF0gPSBsaXN0W2ldLnJhd1Jlc3VsdDtcblx0XHR9XG5cdH07XG5cblx0LyoqXG5cdCAqIEZsYWcgYW4gaXRlbSBhcyBmaW5pc2hlZC4gSWYgdGhlIGl0ZW0ncyBvcmRlciBpcyBiZWluZyBtYW5hZ2VkLCB0aGVuIGVuc3VyZSB0aGF0IGl0IGlzIGFsbG93ZWQgdG8gZmluaXNoLCBhbmQgaWZcblx0ICogc28sIHRyaWdnZXIgcHJpb3IgaXRlbXMgdG8gdHJpZ2dlciBhcyB3ZWxsLlxuXHQgKiBAbWV0aG9kIF9maW5pc2hPcmRlcmVkSXRlbVxuXHQgKiBAcGFyYW0ge0Fic3RyYWN0TG9hZGVyfSBsb2FkZXJcblx0ICogQHBhcmFtIHtCb29sZWFufSBsb2FkRmFpbGVkXG5cdCAqIEByZXR1cm4ge0Jvb2xlYW59IElmIHRoZSBpdGVtJ3Mgb3JkZXIgaXMgYmVpbmcgbWFuYWdlZC4gVGhpcyBhbGxvd3MgdGhlIGNhbGxlciB0byB0YWtlIGFuIGFsdGVybmF0ZVxuXHQgKiBiZWhhdmlvdXIgaWYgaXQgaXMuXG5cdCAqIEBwcml2YXRlXG5cdCAqL1xuXHRwLl9maW5pc2hPcmRlcmVkSXRlbSA9IGZ1bmN0aW9uIChsb2FkZXIsIGxvYWRGYWlsZWQpIHtcblx0XHR2YXIgaXRlbSA9IGxvYWRlci5nZXRJdGVtKCk7XG5cblx0XHRpZiAoKHRoaXMubWFpbnRhaW5TY3JpcHRPcmRlciAmJiBpdGVtLnR5cGUgPT0gY3JlYXRlanMuVHlwZXMuSkFWQVNDUklQVClcblx0XHRcdFx0fHwgaXRlbS5tYWludGFpbk9yZGVyKSB7XG5cblx0XHRcdC8vVE9ETzogRXZhbHVhdGUgcmVtb3ZhbCBvZiB0aGUgX2N1cnJlbnRseUxvYWRpbmdTY3JpcHRcblx0XHRcdGlmIChsb2FkZXIgaW5zdGFuY2VvZiBjcmVhdGVqcy5KYXZhU2NyaXB0TG9hZGVyKSB7XG5cdFx0XHRcdHRoaXMuX2N1cnJlbnRseUxvYWRpbmdTY3JpcHQgPSBmYWxzZTtcblx0XHRcdH1cblxuXHRcdFx0dmFyIGluZGV4ID0gY3JlYXRlanMuaW5kZXhPZih0aGlzLl9zY3JpcHRPcmRlciwgaXRlbSk7XG5cdFx0XHRpZiAoaW5kZXggPT0gLTEpIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fSAvLyBUaGlzIGxvYWRlciBubyBsb25nZXIgZXhpc3RzXG5cdFx0XHR0aGlzLl9sb2FkZWRTY3JpcHRzW2luZGV4XSA9IChsb2FkRmFpbGVkID09PSB0cnVlKSA/IHRydWUgOiBpdGVtO1xuXG5cdFx0XHR0aGlzLl9jaGVja1NjcmlwdExvYWRPcmRlcigpO1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBFbnN1cmUgdGhlIHNjcmlwdHMgbG9hZCBhbmQgZGlzcGF0Y2ggaW4gdGhlIGNvcnJlY3Qgb3JkZXIuIFdoZW4gdXNpbmcgWEhSLCBzY3JpcHRzIGFyZSBzdG9yZWQgaW4gYW4gYXJyYXkgaW4gdGhlXG5cdCAqIG9yZGVyIHRoZXkgd2VyZSBhZGRlZCwgYnV0IHdpdGggYSBcIm51bGxcIiB2YWx1ZS4gV2hlbiB0aGV5IGFyZSBjb21wbGV0ZWQsIHRoZSB2YWx1ZSBpcyBzZXQgdG8gdGhlIGxvYWQgaXRlbSxcblx0ICogYW5kIHRoZW4gd2hlbiB0aGV5IGFyZSBwcm9jZXNzZWQgYW5kIGRpc3BhdGNoZWQsIHRoZSB2YWx1ZSBpcyBzZXQgdG8gYHRydWVgLiBUaGlzIG1ldGhvZCBzaW1wbHlcblx0ICogaXRlcmF0ZXMgdGhlIGFycmF5LCBhbmQgZW5zdXJlcyB0aGF0IGFueSBsb2FkZWQgaXRlbXMgdGhhdCBhcmUgbm90IHByZWNlZGVkIGJ5IGEgYG51bGxgIHZhbHVlIGFyZVxuXHQgKiBkaXNwYXRjaGVkLlxuXHQgKiBAbWV0aG9kIF9jaGVja1NjcmlwdExvYWRPcmRlclxuXHQgKiBAcHJpdmF0ZVxuXHQgKi9cblx0cC5fY2hlY2tTY3JpcHRMb2FkT3JkZXIgPSBmdW5jdGlvbiAoKSB7XG5cdFx0dmFyIGwgPSB0aGlzLl9sb2FkZWRTY3JpcHRzLmxlbmd0aDtcblxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgbDsgaSsrKSB7XG5cdFx0XHR2YXIgaXRlbSA9IHRoaXMuX2xvYWRlZFNjcmlwdHNbaV07XG5cdFx0XHRpZiAoaXRlbSA9PT0gbnVsbCkge1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH0gLy8gVGhpcyBpcyBzdGlsbCBsb2FkaW5nLiBEbyBub3QgcHJvY2VzcyBmdXJ0aGVyLlxuXHRcdFx0aWYgKGl0ZW0gPT09IHRydWUpIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9IC8vIFRoaXMgaGFzIGNvbXBsZXRlZCwgYW5kIGJlZW4gcHJvY2Vzc2VkLiBNb3ZlIG9uLlxuXG5cdFx0XHR2YXIgbG9hZEl0ZW0gPSB0aGlzLl9sb2FkZWRSZXN1bHRzW2l0ZW0uaWRdO1xuXHRcdFx0aWYgKGl0ZW0udHlwZSA9PSBjcmVhdGVqcy5UeXBlcy5KQVZBU0NSSVBUKSB7XG5cdFx0XHRcdC8vIEFwcGVuZCBzY3JpcHQgdGFncyB0byB0aGUgaGVhZCBhdXRvbWF0aWNhbGx5LlxuXHRcdFx0XHRjcmVhdGVqcy5Eb21VdGlscy5hcHBlbmRUb0hlYWQobG9hZEl0ZW0pO1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgbG9hZGVyID0gaXRlbS5fbG9hZGVyO1xuXHRcdFx0dGhpcy5fcHJvY2Vzc0ZpbmlzaGVkTG9hZChpdGVtLCBsb2FkZXIpO1xuXHRcdFx0dGhpcy5fbG9hZGVkU2NyaXB0c1tpXSA9IHRydWU7XG5cdFx0fVxuXHR9O1xuXG5cdC8qKlxuXHQgKiBBIGZpbGUgaGFzIGNvbXBsZXRlZCBsb2FkaW5nLCBhbmQgdGhlIExvYWRRdWV1ZSBjYW4gbW92ZSBvbi4gVGhpcyB0cmlnZ2VycyB0aGUgY29tcGxldGUgZXZlbnQsIGFuZCBraWNrLXN0YXJ0c1xuXHQgKiB0aGUgbmV4dCBpdGVtLlxuXHQgKiBAbWV0aG9kIF9wcm9jZXNzRmluaXNoZWRMb2FkXG5cdCAqIEBwYXJhbSB7TG9hZEl0ZW18T2JqZWN0fSBpdGVtXG5cdCAqIEBwYXJhbSB7QWJzdHJhY3RMb2FkZXJ9IGxvYWRlclxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqL1xuXHRwLl9wcm9jZXNzRmluaXNoZWRMb2FkID0gZnVuY3Rpb24gKGl0ZW0sIGxvYWRlcikge1xuXHRcdHRoaXMuX251bUl0ZW1zTG9hZGVkKys7XG5cblx0XHQvLyBTaW5jZSBMb2FkUXVldWUgbmVlZHMgbWFpbnRhaW4gb3JkZXIsIHdlIGNhbid0IGFwcGVuZCBzY3JpcHRzIGluIHRoZSBsb2FkZXIuXG5cdFx0Ly8gU28gd2UgZG8gaXQgaGVyZSBpbnN0ZWFkLiBPciBpbiBfY2hlY2tTY3JpcHRMb2FkT3JkZXIoKTtcblx0XHRpZiAoIXRoaXMubWFpbnRhaW5TY3JpcHRPcmRlciAmJiBpdGVtLnR5cGUgPT0gY3JlYXRlanMuVHlwZXMuSkFWQVNDUklQVCkge1xuXHRcdFx0dmFyIHRhZyA9IGxvYWRlci5nZXRUYWcoKTtcblx0XHRcdGNyZWF0ZWpzLkRvbVV0aWxzLmFwcGVuZFRvSGVhZCh0YWcpO1xuXHRcdH1cblxuXHRcdHRoaXMuX3VwZGF0ZVByb2dyZXNzKCk7XG5cdFx0dGhpcy5fc2VuZEZpbGVDb21wbGV0ZShpdGVtLCBsb2FkZXIpO1xuXHRcdHRoaXMuX2xvYWROZXh0KCk7XG5cdH07XG5cblx0LyoqXG5cdCAqIEVuc3VyZSBpdGVtcyB3aXRoIGBtYWludGFpbk9yZGVyPXRydWVgIHRoYXQgYXJlIGJlZm9yZSB0aGUgc3BlY2lmaWVkIGl0ZW0gaGF2ZSBsb2FkZWQuIFRoaXMgb25seSBhcHBsaWVzIHRvXG5cdCAqIEphdmFTY3JpcHQgaXRlbXMgdGhhdCBhcmUgYmVpbmcgbG9hZGVkIHdpdGggYSBUYWdMb2FkZXIsIHNpbmNlIHRoZXkgaGF2ZSB0byBiZSBsb2FkZWQgYW5kIGNvbXBsZXRlZCA8c3Ryb25nPmJlZm9yZTwvc3Ryb25nPlxuXHQgKiB0aGUgc2NyaXB0IGNhbiBldmVuIGJlIHN0YXJ0ZWQsIHNpbmNlIGl0IGV4aXN0IGluIHRoZSBET00gd2hpbGUgbG9hZGluZy5cblx0ICogQG1ldGhvZCBfY2FuU3RhcnRMb2FkXG5cdCAqIEBwYXJhbSB7QWJzdHJhY3RMb2FkZXJ9IGxvYWRlciBUaGUgbG9hZGVyIGZvciB0aGUgaXRlbVxuXHQgKiBAcmV0dXJuIHtCb29sZWFufSBXaGV0aGVyIHRoZSBpdGVtIGNhbiBzdGFydCBhIGxvYWQgb3Igbm90LlxuXHQgKiBAcHJpdmF0ZVxuXHQgKi9cblx0cC5fY2FuU3RhcnRMb2FkID0gZnVuY3Rpb24gKGxvYWRlcikge1xuXHRcdGlmICghdGhpcy5tYWludGFpblNjcmlwdE9yZGVyIHx8IGxvYWRlci5wcmVmZXJYSFIpIHtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH1cblx0XHR2YXIgaXRlbSA9IGxvYWRlci5nZXRJdGVtKCk7XG5cdFx0aWYgKGl0ZW0udHlwZSAhPSBjcmVhdGVqcy5UeXBlcy5KQVZBU0NSSVBUKSB7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cdFx0aWYgKHRoaXMuX2N1cnJlbnRseUxvYWRpbmdTY3JpcHQpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHR2YXIgaW5kZXggPSB0aGlzLl9zY3JpcHRPcmRlci5pbmRleE9mKGl0ZW0pO1xuXHRcdHZhciBpID0gMDtcblx0XHR3aGlsZSAoaSA8IGluZGV4KSB7XG5cdFx0XHR2YXIgY2hlY2tJdGVtID0gdGhpcy5fbG9hZGVkU2NyaXB0c1tpXTtcblx0XHRcdGlmIChjaGVja0l0ZW0gPT0gbnVsbCkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cdFx0XHRpKys7XG5cdFx0fVxuXHRcdHRoaXMuX2N1cnJlbnRseUxvYWRpbmdTY3JpcHQgPSB0cnVlO1xuXHRcdHJldHVybiB0cnVlO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBBIGxvYWQgaXRlbSBpcyBjb21wbGV0ZWQgb3Igd2FzIGNhbmNlbGVkLCBhbmQgbmVlZHMgdG8gYmUgcmVtb3ZlZCBmcm9tIHRoZSBMb2FkUXVldWUuXG5cdCAqIEBtZXRob2QgX3JlbW92ZUxvYWRJdGVtXG5cdCAqIEBwYXJhbSB7QWJzdHJhY3RMb2FkZXJ9IGxvYWRlciBBIGxvYWRlciBpbnN0YW5jZSB0byByZW1vdmUuXG5cdCAqIEBwcml2YXRlXG5cdCAqL1xuXHRwLl9yZW1vdmVMb2FkSXRlbSA9IGZ1bmN0aW9uIChsb2FkZXIpIHtcblx0XHR2YXIgbCA9IHRoaXMuX2N1cnJlbnRMb2Fkcy5sZW5ndGg7XG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBsOyBpKyspIHtcblx0XHRcdGlmICh0aGlzLl9jdXJyZW50TG9hZHNbaV0gPT0gbG9hZGVyKSB7XG5cdFx0XHRcdHRoaXMuX2N1cnJlbnRMb2Fkcy5zcGxpY2UoaSwgMSk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcblxuXHQvKipcblx0ICogUmVtb3ZlIHVubmVlZGVkIHJlZmVyZW5jZXMgZnJvbSBhIGxvYWRlci5cblx0ICpcblx0ICogQHBhcmFtIGxvYWRlclxuXHQgKiBAcHJpdmF0ZVxuXHQgKi9cblx0cC5fY2xlYW5Mb2FkSXRlbSA9IGZ1bmN0aW9uKGxvYWRlcikge1xuXHRcdHZhciBpdGVtID0gbG9hZGVyLmdldEl0ZW0oKTtcblx0XHRpZiAoaXRlbSkge1xuXHRcdFx0ZGVsZXRlIGl0ZW0uX2xvYWRlcjtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogQW4gaXRlbSBoYXMgZGlzcGF0Y2hlZCBwcm9ncmVzcy4gUHJvcGFnYXRlIHRoYXQgcHJvZ3Jlc3MsIGFuZCB1cGRhdGUgdGhlIExvYWRRdWV1ZSdzIG92ZXJhbGwgcHJvZ3Jlc3MuXG5cdCAqIEBtZXRob2QgX2hhbmRsZVByb2dyZXNzXG5cdCAqIEBwYXJhbSB7UHJvZ3Jlc3NFdmVudH0gZXZlbnQgVGhlIHByb2dyZXNzIGV2ZW50IGZyb20gdGhlIGl0ZW0uXG5cdCAqIEBwcml2YXRlXG5cdCAqL1xuXHRwLl9oYW5kbGVQcm9ncmVzcyA9IGZ1bmN0aW9uIChldmVudCkge1xuXHRcdHZhciBsb2FkZXIgPSBldmVudC50YXJnZXQ7XG5cdFx0dGhpcy5fc2VuZEZpbGVQcm9ncmVzcyhsb2FkZXIuZ2V0SXRlbSgpLCBsb2FkZXIucHJvZ3Jlc3MpO1xuXHRcdHRoaXMuX3VwZGF0ZVByb2dyZXNzKCk7XG5cdH07XG5cblx0LyoqXG5cdCAqIE92ZXJhbGwgcHJvZ3Jlc3MgaGFzIGNoYW5nZWQsIHNvIGRldGVybWluZSB0aGUgbmV3IHByb2dyZXNzIGFtb3VudCBhbmQgZGlzcGF0Y2ggaXQuIFRoaXMgY2hhbmdlcyBhbnkgdGltZSBhblxuXHQgKiBpdGVtIGRpc3BhdGNoZXMgcHJvZ3Jlc3Mgb3IgY29tcGxldGVzLiBOb3RlIHRoYXQgc2luY2Ugd2UgZG9uJ3QgYWx3YXlzIGtub3cgdGhlIGFjdHVhbCBmaWxlc2l6ZSBvZiBpdGVtcyBiZWZvcmVcblx0ICogdGhleSBhcmUgbG9hZGVkLiBJbiB0aGlzIGNhc2UsIHdlIGRlZmluZSBhIFwic2xvdFwiIGZvciBlYWNoIGl0ZW0gKDEgaXRlbSBpbiAxMCB3b3VsZCBnZXQgMTAlKSwgYW5kIHRoZW4gYXBwZW5kXG5cdCAqIGxvYWRlZCBwcm9ncmVzcyBvbiB0b3Agb2YgdGhlIGFscmVhZHktbG9hZGVkIGl0ZW1zLlxuXHQgKlxuXHQgKiBGb3IgZXhhbXBsZSwgaWYgNS8xMCBpdGVtcyBoYXZlIGxvYWRlZCwgYW5kIGl0ZW0gNiBpcyAyMCUgbG9hZGVkLCB0aGUgdG90YWwgcHJvZ3Jlc3Mgd291bGQgYmU6XG5cdCAqIDx1bD5cblx0ICogICAgICA8bGk+NS8xMCBvZiB0aGUgaXRlbXMgaW4gdGhlIHF1ZXVlICg1MCUpPC9saT5cblx0ICogICAgICA8bGk+cGx1cyAyMCUgb2YgaXRlbSA2J3Mgc2xvdCAoMiUpPC9saT5cblx0ICogICAgICA8bGk+ZXF1YWxzIDUyJTwvbGk+XG5cdCAqIDwvdWw+XG5cdCAqIEBtZXRob2QgX3VwZGF0ZVByb2dyZXNzXG5cdCAqIEBwcml2YXRlXG5cdCAqL1xuXHRwLl91cGRhdGVQcm9ncmVzcyA9IGZ1bmN0aW9uICgpIHtcblx0XHR2YXIgbG9hZGVkID0gdGhpcy5fbnVtSXRlbXNMb2FkZWQgLyB0aGlzLl9udW1JdGVtczsgLy8gRnVsbHkgTG9hZGVkIFByb2dyZXNzXG5cdFx0dmFyIHJlbWFpbmluZyA9IHRoaXMuX251bUl0ZW1zIC0gdGhpcy5fbnVtSXRlbXNMb2FkZWQ7XG5cdFx0aWYgKHJlbWFpbmluZyA+IDApIHtcblx0XHRcdHZhciBjaHVuayA9IDA7XG5cdFx0XHRmb3IgKHZhciBpID0gMCwgbCA9IHRoaXMuX2N1cnJlbnRMb2Fkcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcblx0XHRcdFx0Y2h1bmsgKz0gdGhpcy5fY3VycmVudExvYWRzW2ldLnByb2dyZXNzO1xuXHRcdFx0fVxuXHRcdFx0bG9hZGVkICs9IChjaHVuayAvIHJlbWFpbmluZykgKiAocmVtYWluaW5nIC8gdGhpcy5fbnVtSXRlbXMpO1xuXHRcdH1cblxuXHRcdGlmICh0aGlzLl9sYXN0UHJvZ3Jlc3MgIT0gbG9hZGVkKSB7XG5cdFx0XHR0aGlzLl9zZW5kUHJvZ3Jlc3MobG9hZGVkKTtcblx0XHRcdHRoaXMuX2xhc3RQcm9ncmVzcyA9IGxvYWRlZDtcblx0XHR9XG5cdH07XG5cblx0LyoqXG5cdCAqIENsZWFuIG91dCBpdGVtIHJlc3VsdHMsIHRvIGZyZWUgdGhlbSBmcm9tIG1lbW9yeS4gTWFpbmx5LCB0aGUgbG9hZGVkIGl0ZW0gYW5kIHJlc3VsdHMgYXJlIGNsZWFyZWQgZnJvbSBpbnRlcm5hbFxuXHQgKiBoYXNoZXMuXG5cdCAqIEBtZXRob2QgX2Rpc3Bvc2VJdGVtXG5cdCAqIEBwYXJhbSB7TG9hZEl0ZW18T2JqZWN0fSBpdGVtIFRoZSBpdGVtIHRoYXQgd2FzIHBhc3NlZCBpbiBmb3IgcHJlbG9hZGluZy5cblx0ICogQHByaXZhdGVcblx0ICovXG5cdHAuX2Rpc3Bvc2VJdGVtID0gZnVuY3Rpb24gKGl0ZW0pIHtcblx0XHRkZWxldGUgdGhpcy5fbG9hZGVkUmVzdWx0c1tpdGVtLmlkXTtcblx0XHRkZWxldGUgdGhpcy5fbG9hZGVkUmF3UmVzdWx0c1tpdGVtLmlkXTtcblx0XHRkZWxldGUgdGhpcy5fbG9hZEl0ZW1zQnlJZFtpdGVtLmlkXTtcblx0XHRkZWxldGUgdGhpcy5fbG9hZEl0ZW1zQnlTcmNbaXRlbS5zcmNdO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBEaXNwYXRjaCBhIFwiZmlsZXByb2dyZXNzXCIge3sjY3Jvc3NMaW5rIFwiRXZlbnRcIn19e3svY3Jvc3NMaW5rfX0uIFBsZWFzZSBzZWUgdGhlIExvYWRRdWV1ZSB7eyNjcm9zc0xpbmsgXCJMb2FkUXVldWUvZmlsZXByb2dyZXNzOmV2ZW50XCJ9fXt7L2Nyb3NzTGlua319XG5cdCAqIGV2ZW50IGZvciBkZXRhaWxzIG9uIHRoZSBldmVudCBwYXlsb2FkLlxuXHQgKiBAbWV0aG9kIF9zZW5kRmlsZVByb2dyZXNzXG5cdCAqIEBwYXJhbSB7TG9hZEl0ZW18T2JqZWN0fSBpdGVtIFRoZSBpdGVtIHRoYXQgaXMgYmVpbmcgbG9hZGVkLlxuXHQgKiBAcGFyYW0ge051bWJlcn0gcHJvZ3Jlc3MgVGhlIGFtb3VudCB0aGUgaXRlbSBoYXMgYmVlbiBsb2FkZWQgKGJldHdlZW4gMCBhbmQgMSkuXG5cdCAqIEBwcm90ZWN0ZWRcblx0ICovXG5cdHAuX3NlbmRGaWxlUHJvZ3Jlc3MgPSBmdW5jdGlvbiAoaXRlbSwgcHJvZ3Jlc3MpIHtcblx0XHRpZiAodGhpcy5faXNDYW5jZWxlZCgpIHx8IHRoaXMuX3BhdXNlZCkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHRpZiAoIXRoaXMuaGFzRXZlbnRMaXN0ZW5lcihcImZpbGVwcm9ncmVzc1wiKSkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vTE06IFJld29yayBQcm9ncmVzc0V2ZW50IHRvIHN1cHBvcnQgdGhpcz9cblx0XHR2YXIgZXZlbnQgPSBuZXcgY3JlYXRlanMuRXZlbnQoXCJmaWxlcHJvZ3Jlc3NcIik7XG5cdFx0ZXZlbnQucHJvZ3Jlc3MgPSBwcm9ncmVzcztcblx0XHRldmVudC5sb2FkZWQgPSBwcm9ncmVzcztcblx0XHRldmVudC50b3RhbCA9IDE7XG5cdFx0ZXZlbnQuaXRlbSA9IGl0ZW07XG5cblx0XHR0aGlzLmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBEaXNwYXRjaCBhIGZpbGVsb2FkIHt7I2Nyb3NzTGluayBcIkV2ZW50XCJ9fXt7L2Nyb3NzTGlua319LiBQbGVhc2Ugc2VlIHRoZSB7eyNjcm9zc0xpbmsgXCJMb2FkUXVldWUvZmlsZWxvYWQ6ZXZlbnRcIn19e3svY3Jvc3NMaW5rfX0gZXZlbnQgZm9yXG5cdCAqIGRldGFpbHMgb24gdGhlIGV2ZW50IHBheWxvYWQuXG5cdCAqIEBtZXRob2QgX3NlbmRGaWxlQ29tcGxldGVcblx0ICogQHBhcmFtIHtMb2FkSXRlbU9iamVjdH0gaXRlbSBUaGUgaXRlbSB0aGF0IGlzIGJlaW5nIGxvYWRlZC5cblx0ICogQHBhcmFtIHtBYnN0cmFjdExvYWRlcn0gbG9hZGVyXG5cdCAqIEBwcm90ZWN0ZWRcblx0ICovXG5cdHAuX3NlbmRGaWxlQ29tcGxldGUgPSBmdW5jdGlvbiAoaXRlbSwgbG9hZGVyKSB7XG5cdFx0aWYgKHRoaXMuX2lzQ2FuY2VsZWQoKSB8fCB0aGlzLl9wYXVzZWQpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHR2YXIgZXZlbnQgPSBuZXcgY3JlYXRlanMuRXZlbnQoXCJmaWxlbG9hZFwiKTtcblx0XHRldmVudC5sb2FkZXIgPSBsb2FkZXI7XG5cdFx0ZXZlbnQuaXRlbSA9IGl0ZW07XG5cdFx0ZXZlbnQucmVzdWx0ID0gdGhpcy5fbG9hZGVkUmVzdWx0c1tpdGVtLmlkXTtcblx0XHRldmVudC5yYXdSZXN1bHQgPSB0aGlzLl9sb2FkZWRSYXdSZXN1bHRzW2l0ZW0uaWRdO1xuXG5cdFx0Ly8gVGhpcyBjYWxscyBhIGhhbmRsZXIgc3BlY2lmaWVkIG9uIHRoZSBhY3R1YWwgbG9hZCBpdGVtLiBDdXJyZW50bHksIHRoZSBTb3VuZEpTIHBsdWdpbiB1c2VzIHRoaXMuXG5cdFx0aWYgKGl0ZW0uY29tcGxldGVIYW5kbGVyKSB7XG5cdFx0XHRpdGVtLmNvbXBsZXRlSGFuZGxlcihldmVudCk7XG5cdFx0fVxuXG5cdFx0dGhpcy5oYXNFdmVudExpc3RlbmVyKFwiZmlsZWxvYWRcIikgJiYgdGhpcy5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcblx0fTtcblxuXHQvKipcblx0ICogRGlzcGF0Y2ggYSBmaWxlc3RhcnQge3sjY3Jvc3NMaW5rIFwiRXZlbnRcIn19e3svY3Jvc3NMaW5rfX0gaW1tZWRpYXRlbHkgYmVmb3JlIGEgZmlsZSBzdGFydHMgdG8gbG9hZC4gUGxlYXNlIHNlZVxuXHQgKiB0aGUge3sjY3Jvc3NMaW5rIFwiTG9hZFF1ZXVlL2ZpbGVzdGFydDpldmVudFwifX17ey9jcm9zc0xpbmt9fSBldmVudCBmb3IgZGV0YWlscyBvbiB0aGUgZXZlbnQgcGF5bG9hZC5cblx0ICogQG1ldGhvZCBfc2VuZEZpbGVTdGFydFxuXHQgKiBAcGFyYW0ge0xvYWRJdGVtfE9iamVjdH0gaXRlbSBUaGUgaXRlbSB0aGF0IGlzIGJlaW5nIGxvYWRlZC5cblx0ICogQHByb3RlY3RlZFxuXHQgKi9cblx0cC5fc2VuZEZpbGVTdGFydCA9IGZ1bmN0aW9uIChpdGVtKSB7XG5cdFx0dmFyIGV2ZW50ID0gbmV3IGNyZWF0ZWpzLkV2ZW50KFwiZmlsZXN0YXJ0XCIpO1xuXHRcdGV2ZW50Lml0ZW0gPSBpdGVtO1xuXHRcdHRoaXMuaGFzRXZlbnRMaXN0ZW5lcihcImZpbGVzdGFydFwiKSAmJiB0aGlzLmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuXHR9O1xuXG5cdHAudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG5cdFx0cmV0dXJuIFwiW1ByZWxvYWRKUyBMb2FkUXVldWVdXCI7XG5cdH07XG5cblx0Y3JlYXRlanMuTG9hZFF1ZXVlID0gY3JlYXRlanMucHJvbW90ZShMb2FkUXVldWUsIFwiQWJzdHJhY3RMb2FkZXJcIik7XG59KCkpO1xuXG4vLyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI1xuLy8gVGV4dExvYWRlci5qc1xuLy8jIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyNcblxuKGZ1bmN0aW9uICgpIHtcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cblx0Ly8gY29uc3RydWN0b3Jcblx0LyoqXG5cdCAqIEEgbG9hZGVyIGZvciBUZXh0IGZpbGVzLlxuXHQgKiBAY2xhc3MgVGV4dExvYWRlclxuXHQgKiBAcGFyYW0ge0xvYWRJdGVtfE9iamVjdH0gbG9hZEl0ZW1cblx0ICogQGV4dGVuZHMgQWJzdHJhY3RMb2FkZXJcblx0ICogQGNvbnN0cnVjdG9yXG5cdCAqL1xuXHRmdW5jdGlvbiBUZXh0TG9hZGVyKGxvYWRJdGVtKSB7XG5cdFx0dGhpcy5BYnN0cmFjdExvYWRlcl9jb25zdHJ1Y3Rvcihsb2FkSXRlbSwgdHJ1ZSwgY3JlYXRlanMuVHlwZXMuVEVYVCk7XG5cdH07XG5cblx0dmFyIHAgPSBjcmVhdGVqcy5leHRlbmQoVGV4dExvYWRlciwgY3JlYXRlanMuQWJzdHJhY3RMb2FkZXIpO1xuXHR2YXIgcyA9IFRleHRMb2FkZXI7XG5cblx0Ly8gc3RhdGljIG1ldGhvZHNcblx0LyoqXG5cdCAqIERldGVybWluZXMgaWYgdGhlIGxvYWRlciBjYW4gbG9hZCBhIHNwZWNpZmljIGl0ZW0uIFRoaXMgbG9hZGVyIGxvYWRzIGl0ZW1zIHRoYXQgYXJlIG9mIHR5cGUge3sjY3Jvc3NMaW5rIFwiVHlwZXMvVEVYVDpwcm9wZXJ0eVwifX17ey9jcm9zc0xpbmt9fSxcblx0ICogYnV0IGlzIGFsc28gdGhlIGRlZmF1bHQgbG9hZGVyIGlmIGEgZmlsZSB0eXBlIGNhbiBub3QgYmUgZGV0ZXJtaW5lZC5cblx0ICogQG1ldGhvZCBjYW5Mb2FkSXRlbVxuXHQgKiBAcGFyYW0ge0xvYWRJdGVtfE9iamVjdH0gaXRlbSBUaGUgTG9hZEl0ZW0gdGhhdCBhIExvYWRRdWV1ZSBpcyB0cnlpbmcgdG8gbG9hZC5cblx0ICogQHJldHVybnMge0Jvb2xlYW59IFdoZXRoZXIgdGhlIGxvYWRlciBjYW4gbG9hZCB0aGUgaXRlbS5cblx0ICogQHN0YXRpY1xuXHQgKi9cblx0cy5jYW5Mb2FkSXRlbSA9IGZ1bmN0aW9uIChpdGVtKSB7XG5cdFx0cmV0dXJuIGl0ZW0udHlwZSA9PSBjcmVhdGVqcy5UeXBlcy5URVhUO1xuXHR9O1xuXG5cdGNyZWF0ZWpzLlRleHRMb2FkZXIgPSBjcmVhdGVqcy5wcm9tb3RlKFRleHRMb2FkZXIsIFwiQWJzdHJhY3RMb2FkZXJcIik7XG5cbn0oKSk7XG5cbi8vIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXG4vLyBCaW5hcnlMb2FkZXIuanNcbi8vIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXG5cbihmdW5jdGlvbiAoKSB7XG5cdFwidXNlIHN0cmljdFwiO1xuXG5cdC8vIGNvbnN0cnVjdG9yXG5cdC8qKlxuXHQgKiBBIGxvYWRlciBmb3IgYmluYXJ5IGZpbGVzLiBUaGlzIGlzIHVzZWZ1bCBmb3IgbG9hZGluZyB3ZWIgYXVkaW8sIG9yIGNvbnRlbnQgdGhhdCByZXF1aXJlcyBhbiBBcnJheUJ1ZmZlci5cblx0ICogQGNsYXNzIEJpbmFyeUxvYWRlclxuXHQgKiBAcGFyYW0ge0xvYWRJdGVtfE9iamVjdH0gbG9hZEl0ZW1cblx0ICogQGV4dGVuZHMgQWJzdHJhY3RMb2FkZXJcblx0ICogQGNvbnN0cnVjdG9yXG5cdCAqL1xuXHRmdW5jdGlvbiBCaW5hcnlMb2FkZXIobG9hZEl0ZW0pIHtcblx0XHR0aGlzLkFic3RyYWN0TG9hZGVyX2NvbnN0cnVjdG9yKGxvYWRJdGVtLCB0cnVlLCBjcmVhdGVqcy5UeXBlcy5CSU5BUlkpO1xuXHRcdHRoaXMub24oXCJpbml0aWFsaXplXCIsIHRoaXMuX3VwZGF0ZVhIUiwgdGhpcyk7XG5cdH07XG5cblx0dmFyIHAgPSBjcmVhdGVqcy5leHRlbmQoQmluYXJ5TG9hZGVyLCBjcmVhdGVqcy5BYnN0cmFjdExvYWRlcik7XG5cdHZhciBzID0gQmluYXJ5TG9hZGVyO1xuXG5cdC8vIHN0YXRpYyBtZXRob2RzXG5cdC8qKlxuXHQgKiBEZXRlcm1pbmVzIGlmIHRoZSBsb2FkZXIgY2FuIGxvYWQgYSBzcGVjaWZpYyBpdGVtLiBUaGlzIGxvYWRlciBjYW4gb25seSBsb2FkIGl0ZW1zIHRoYXQgYXJlIG9mIHR5cGVcblx0ICoge3sjY3Jvc3NMaW5rIFwiVHlwZXMvQklOQVJZOnByb3BlcnR5XCJ9fXt7L2Nyb3NzTGlua319XG5cdCAqIEBtZXRob2QgY2FuTG9hZEl0ZW1cblx0ICogQHBhcmFtIHtMb2FkSXRlbXxPYmplY3R9IGl0ZW0gVGhlIExvYWRJdGVtIHRoYXQgYSBMb2FkUXVldWUgaXMgdHJ5aW5nIHRvIGxvYWQuXG5cdCAqIEByZXR1cm5zIHtCb29sZWFufSBXaGV0aGVyIHRoZSBsb2FkZXIgY2FuIGxvYWQgdGhlIGl0ZW0uXG5cdCAqIEBzdGF0aWNcblx0ICovXG5cdHMuY2FuTG9hZEl0ZW0gPSBmdW5jdGlvbiAoaXRlbSkge1xuXHRcdHJldHVybiBpdGVtLnR5cGUgPT0gY3JlYXRlanMuVHlwZXMuQklOQVJZO1xuXHR9O1xuXG5cdC8vIHByaXZhdGUgbWV0aG9kc1xuXHQvKipcblx0ICogQmVmb3JlIHRoZSBpdGVtIGxvYWRzLCBzZXQgdGhlIHJlc3BvbnNlIHR5cGUgdG8gXCJhcnJheWJ1ZmZlclwiXG5cdCAqIEBwcm9wZXJ0eSBfdXBkYXRlWEhSXG5cdCAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50XG5cdCAqIEBwcml2YXRlXG5cdCAqL1xuXHRwLl91cGRhdGVYSFIgPSBmdW5jdGlvbiAoZXZlbnQpIHtcblx0XHRldmVudC5sb2FkZXIuc2V0UmVzcG9uc2VUeXBlKFwiYXJyYXlidWZmZXJcIik7XG5cdH07XG5cblx0Y3JlYXRlanMuQmluYXJ5TG9hZGVyID0gY3JlYXRlanMucHJvbW90ZShCaW5hcnlMb2FkZXIsIFwiQWJzdHJhY3RMb2FkZXJcIik7XG5cbn0oKSk7XG5cbi8vIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXG4vLyBDU1NMb2FkZXIuanNcbi8vIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXG5cbihmdW5jdGlvbiAoKSB7XG5cdFwidXNlIHN0cmljdFwiO1xuXG5cdC8vIGNvbnN0cnVjdG9yXG5cdC8qKlxuXHQgKiBBIGxvYWRlciBmb3IgQ1NTIGZpbGVzLlxuXHQgKiBAY2xhc3MgQ1NTTG9hZGVyXG5cdCAqIEBwYXJhbSB7TG9hZEl0ZW18T2JqZWN0fSBsb2FkSXRlbVxuXHQgKiBAcGFyYW0ge0Jvb2xlYW59IHByZWZlclhIUlxuXHQgKiBAZXh0ZW5kcyBBYnN0cmFjdExvYWRlclxuXHQgKiBAY29uc3RydWN0b3Jcblx0ICovXG5cdGZ1bmN0aW9uIENTU0xvYWRlcihsb2FkSXRlbSwgcHJlZmVyWEhSKSB7XG5cdFx0dGhpcy5BYnN0cmFjdExvYWRlcl9jb25zdHJ1Y3Rvcihsb2FkSXRlbSwgcHJlZmVyWEhSLCBjcmVhdGVqcy5UeXBlcy5DU1MpO1xuXG5cdFx0Ly8gcHVibGljIHByb3BlcnRpZXNcblx0XHR0aGlzLnJlc3VsdEZvcm1hdHRlciA9IHRoaXMuX2Zvcm1hdFJlc3VsdDtcblxuXHRcdC8vIHByb3RlY3RlZCBwcm9wZXJ0aWVzXG5cdFx0dGhpcy5fdGFnU3JjQXR0cmlidXRlID0gXCJocmVmXCI7XG5cblx0XHRpZiAocHJlZmVyWEhSKSB7XG5cdFx0XHR0aGlzLl90YWcgPSBjcmVhdGVqcy5FbGVtZW50cy5zdHlsZSgpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLl90YWcgPSBjcmVhdGVqcy5FbGVtZW50cy5saW5rKCk7XG5cdFx0fVxuXG5cdFx0dGhpcy5fdGFnLnJlbCA9IFwic3R5bGVzaGVldFwiO1xuXHRcdHRoaXMuX3RhZy50eXBlID0gXCJ0ZXh0L2Nzc1wiO1xuXHR9O1xuXG5cdHZhciBwID0gY3JlYXRlanMuZXh0ZW5kKENTU0xvYWRlciwgY3JlYXRlanMuQWJzdHJhY3RMb2FkZXIpO1xuXHR2YXIgcyA9IENTU0xvYWRlcjtcblxuXHQvLyBzdGF0aWMgbWV0aG9kc1xuXHQvKipcblx0ICogRGV0ZXJtaW5lcyBpZiB0aGUgbG9hZGVyIGNhbiBsb2FkIGEgc3BlY2lmaWMgaXRlbS4gVGhpcyBsb2FkZXIgY2FuIG9ubHkgbG9hZCBpdGVtcyB0aGF0IGFyZSBvZiB0eXBlXG5cdCAqIHt7I2Nyb3NzTGluayBcIlR5cGVzL0NTUzpwcm9wZXJ0eVwifX17ey9jcm9zc0xpbmt9fS5cblx0ICogQG1ldGhvZCBjYW5Mb2FkSXRlbVxuXHQgKiBAcGFyYW0ge0xvYWRJdGVtfE9iamVjdH0gaXRlbSBUaGUgTG9hZEl0ZW0gdGhhdCBhIExvYWRRdWV1ZSBpcyB0cnlpbmcgdG8gbG9hZC5cblx0ICogQHJldHVybnMge0Jvb2xlYW59IFdoZXRoZXIgdGhlIGxvYWRlciBjYW4gbG9hZCB0aGUgaXRlbS5cblx0ICogQHN0YXRpY1xuXHQgKi9cblx0cy5jYW5Mb2FkSXRlbSA9IGZ1bmN0aW9uIChpdGVtKSB7XG5cdFx0cmV0dXJuIGl0ZW0udHlwZSA9PSBjcmVhdGVqcy5UeXBlcy5DU1M7XG5cdH07XG5cblx0Ly8gcHJvdGVjdGVkIG1ldGhvZHNcblx0LyoqXG5cdCAqIFRoZSByZXN1bHQgZm9ybWF0dGVyIGZvciBDU1MgZmlsZXMuXG5cdCAqIEBtZXRob2QgX2Zvcm1hdFJlc3VsdFxuXHQgKiBAcGFyYW0ge0Fic3RyYWN0TG9hZGVyfSBsb2FkZXJcblx0ICogQHJldHVybnMge0hUTUxMaW5rRWxlbWVudHxIVE1MU3R5bGVFbGVtZW50fVxuXHQgKiBAcHJpdmF0ZVxuXHQgKi9cblx0cC5fZm9ybWF0UmVzdWx0ID0gZnVuY3Rpb24gKGxvYWRlcikge1xuXHRcdGlmICh0aGlzLl9wcmVmZXJYSFIpIHtcblx0XHRcdHZhciB0YWcgPSBsb2FkZXIuZ2V0VGFnKCk7XG5cblx0XHRcdGlmICh0YWcuc3R5bGVTaGVldCkgeyAvLyBJRVxuXHRcdFx0XHR0YWcuc3R5bGVTaGVldC5jc3NUZXh0ID0gbG9hZGVyLmdldFJlc3VsdCh0cnVlKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHZhciB0ZXh0Tm9kZSA9IGNyZWF0ZWpzLkVsZW1lbnRzLnRleHQobG9hZGVyLmdldFJlc3VsdCh0cnVlKSk7XG5cdFx0XHRcdHRhZy5hcHBlbmRDaGlsZCh0ZXh0Tm9kZSk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRhZyA9IHRoaXMuX3RhZztcblx0XHR9XG5cblx0XHRjcmVhdGVqcy5Eb21VdGlscy5hcHBlbmRUb0hlYWQodGFnKTtcblxuXHRcdHJldHVybiB0YWc7XG5cdH07XG5cblx0Y3JlYXRlanMuQ1NTTG9hZGVyID0gY3JlYXRlanMucHJvbW90ZShDU1NMb2FkZXIsIFwiQWJzdHJhY3RMb2FkZXJcIik7XG5cbn0oKSk7XG5cbi8vIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXG4vLyBGb250TG9hZGVyLmpzXG4vLyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI1xuXG4oZnVuY3Rpb24gKCkge1xuXHRcInVzZSBzdHJpY3RcIjtcblxuLy8gY29uc3RydWN0b3I6XG5cdC8qKlxuXHQgKiBBIGxvYWRlciB0aGF0IGhhbmRsZXMgZm9udCBmaWxlcywgQ1NTIGRlZmluaXRpb25zLCBhbmQgQ1NTIHBhdGhzLiBGb250TG9hZGVyIGRvZXNuJ3QgYWN0dWFsbHkgcHJlbG9hZCBmb250c1xuXHQgKiB0aGVtc2VsdmVzLCBidXQgcmF0aGVyIGdlbmVyYXRlcyBDU1MgZGVmaW5pdGlvbnMsIGFuZCB0aGVuIHRlc3RzIHRoZSBzaXplIGNoYW5nZXMgb24gYW4gSFRNTDUgQ2FudmFzIGVsZW1lbnQuXG5cdCAqXG5cdCAqIE5vdGUgdGhhdCBGb250TG9hZGVyIGRvZXMgbm90IHN1cHBvcnQgdGFnLWJhc2VkIGxvYWRpbmcgZHVlIHRvIHRoZSByZXF1aXJlbWVudCB0aGF0IENTUyBiZSByZWFkIHRvIGRldGVybWluZSB0aGVcblx0ICogZm9udCBkZWZpbml0aW9ucyB0byB0ZXN0IGZvci5cblx0ICogQGNsYXNzIEZvbnRMb2FkZXJcblx0ICogQHBhcmFtIHtMb2FkSXRlbXxvYmplY3R8c3RyaW5nfSBsb2FkSXRlbSBUaGUgaXRlbSB0byBiZSBsb2FkZWQuXG5cdCAqIEBleHRlbmRzIEFic3RyYWN0TG9hZGVyXG5cdCAqIEBjb25zdHJ1Y3RvclxuXHQgKiovXG5cdGZ1bmN0aW9uIEZvbnRMb2FkZXIobG9hZEl0ZW0sIHByZWZlclhIUikge1xuXHRcdHRoaXMuQWJzdHJhY3RMb2FkZXJfY29uc3RydWN0b3IobG9hZEl0ZW0sIHByZWZlclhIUiwgbG9hZEl0ZW0udHlwZSk7XG5cblx0XHQvLyBwcml2YXRlIHByb3BlcnRpZXM6XG5cdFx0LyoqXG5cdFx0ICogQSBsb29rdXAgb2YgZm9udCBmYWNlcyB0byBsb2FkLlxuXHRcdCAqIEBwcm9wZXJ0eSBfZmFjZXNcblx0XHQgKiBAcHJvdGVjdGVkXG5cdFx0ICogQHR5cGUgT2JqZWN0XG5cdFx0ICoqL1xuXHRcdHRoaXMuX2ZhY2VzID0ge307XG5cblx0XHQvKipcblx0XHQgKiBBIGxpc3Qgb2YgZm9udCBmYWNlcyBjdXJyZW50bHkgYmVpbmcgXCJ3YXRjaGVkXCIuIFdhdGNoZWQgZm9udHMgd2lsbCBiZSB0ZXN0ZWQgb24gYSByZWd1bGFyIGludGVydmFsLCBhbmQgYmVcblx0XHQgKiByZW1vdmVkIGZyb20gdGhpcyBsaXN0IHdoZW4gdGhleSBhcmUgY29tcGxldGUuXG5cdFx0ICogQG9yb3BlcnR5IF93YXRjaGVkXG5cdFx0ICogQHR5cGUge0FycmF5fVxuXHRcdCAqIEBwcm90ZWN0ZWRcblx0XHQgKi9cblx0XHR0aGlzLl93YXRjaGVkID0gW107XG5cblx0XHQvKipcblx0XHQgKiBBIGNvdW50IG9mIHRoZSB0b3RhbCBmb250IGZhY2VzIHRvIGxvYWQuXG5cdFx0ICogQHByb3BlcnR5IF9jb3VudFxuXHRcdCAqIEB0eXBlIHtudW1iZXJ9XG5cdFx0ICogQHByb3RlY3RlZFxuXHRcdCAqIEBkZWZhdWx0IDBcblx0XHQgKi9cblx0XHR0aGlzLl9jb3VudCA9IDA7XG5cblx0XHQvKipcblx0XHQgKiBUaGUgaW50ZXJ2YWwgZm9yIGNoZWNraW5nIGlmIGZvbnRzIGhhdmUgYmVlbiBsb2FkZWQuXG5cdFx0ICogQHByb3BlcnR5IF93YXRjaEludGVydmFsXG5cdFx0ICogQHR5cGUge051bWJlcn1cblx0XHQgKiBAcHJvdGVjdGVkXG5cdFx0ICovXG5cdFx0dGhpcy5fd2F0Y2hJbnRlcnZhbCA9IG51bGw7XG5cblx0XHQvKipcblx0XHQgKiBUaGUgdGltZW91dCBmb3IgZGV0ZXJtaW5pbmcgaWYgYSBmb250IGNhbid0IGJlIGxvYWRlZC4gVXNlcyB0aGUgTG9hZEl0ZW0ge3sjY3Jvc3NMaW5rIFwiTG9hZEltdGUvdGltZW91dDpwcm9wZXJ0eVwifX17ey9jcm9zc0xpbmt9fVxuXHRcdCAqIHZhbHVlLlxuXHRcdCAqIEBwcm9wZXJ0eSBfbG9hZFRpbWVvdXRcblx0XHQgKiBAdHlwZSB7TnVtYmVyfVxuXHRcdCAqIEBwcm90ZWN0ZWRcblx0XHQgKi9cblx0XHR0aGlzLl9sb2FkVGltZW91dCA9IG51bGw7XG5cdFx0LyoqXG5cdFx0ICogRGV0ZXJtaW5lcyBpZiBnZW5lcmF0ZWQgQ1NTIHNob3VsZCBiZSBpbmplY3RlZCBpbnRvIHRoZSBkb2N1bWVudC5cblx0XHQgKiBAcHJvcGVydHkgX2luamVjdENTU1xuXHRcdCAqIEB0eXBlIHtib29sZWFufVxuXHRcdCAqIEBwcm90ZWN0ZWRcblx0XHQgKi9cblx0XHR0aGlzLl9pbmplY3RDU1MgPSAobG9hZEl0ZW0uaW5qZWN0Q1NTID09PSB1bmRlZmluZWQpID8gdHJ1ZSA6IGxvYWRJdGVtLmluamVjdENTUztcblxuXHRcdHRoaXMuZGlzcGF0Y2hFdmVudChcImluaXRpYWxpemVcIik7XG5cdH1cblx0dmFyIHAgPSBjcmVhdGVqcy5leHRlbmQoRm9udExvYWRlciwgY3JlYXRlanMuQWJzdHJhY3RMb2FkZXIpO1xuICAgIFxuICAgIC8qKlxuICAgICAqIERldGVybWluZXMgaWYgdGhlIGxvYWRlciBjYW4gbG9hZCBhIHNwZWNpZmljIGl0ZW0uIFRoaXMgbG9hZGVyIGNhbiBvbmx5IGxvYWQgaXRlbXMgdGhhdCBhcmUgb2YgdHlwZVxuICAgICAqIHt7I2Nyb3NzTGluayBcIlR5cGVzL0ZPTlQ6cHJvcGVydHlcIn19e3svY3Jvc3NMaW5rfX0uXG4gICAgICogQG1ldGhvZCBjYW5Mb2FkSXRlbVxuICAgICAqIEBwYXJhbSB7TG9hZEl0ZW18T2JqZWN0fSBpdGVtIFRoZSBMb2FkSXRlbSB0aGF0IGEgTG9hZFF1ZXVlIGlzIHRyeWluZyB0byBsb2FkLlxuICAgICAqIEByZXR1cm5zIHtCb29sZWFufSBXaGV0aGVyIHRoZSBsb2FkZXIgY2FuIGxvYWQgdGhlIGl0ZW0uXG4gICAgICogQHN0YXRpY1xuICAgICAqL1xuICAgIEZvbnRMb2FkZXIuY2FuTG9hZEl0ZW0gPSBmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICByZXR1cm4gaXRlbS50eXBlID09IGNyZWF0ZWpzLlR5cGVzLkZPTlQgfHwgaXRlbS50eXBlID09IGNyZWF0ZWpzLlR5cGVzLkZPTlRDU1M7XG4gICAgfTtcblxuLy8gc3RhdGljIHByb3BlcnRpZXM6XG5cdC8qKlxuXHQgKiBTYW1wbGUgdGV4dCB1c2VkIGJ5IHRoZSBGb250TG9hZGVyIHRvIGRldGVybWluZSBpZiB0aGUgZm9udCBoYXMgYmVlbiBsb2FkZWQuIFRoZSBzYW1wbGUgdGV4dCBzaXplIGlzIGNvbXBhcmVkXG5cdCAqIHRvIHRoZSBsb2FkZWQgZm9udCBzaXplLCBhbmQgYSBjaGFuZ2UgaW5kaWNhdGVzIHRoYXQgdGhlIGZvbnQgaGFzIGNvbXBsZXRlZC5cblx0ICogQHByb3BlcnR5IHNhbXBsZVRleHRcblx0ICogQHR5cGUge1N0cmluZ31cblx0ICogQGRlZmF1bHQgYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXogQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVpcblx0ICogQHN0YXRpY1xuXHQgKiBAcHJpdmF0ZVxuXHQgKi9cblx0Rm9udExvYWRlci5zYW1wbGVUZXh0ID0gXCJhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5eiBBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWlwiO1xuXG5cdC8qKlxuXHQgKiBUaGUgY2FudmFzIGNvbnRleHQgdXNlZCB0byB0ZXN0IHRoZSBmb250IHNpemUuIE5vdGUgdGhhdCB0aGlzIGN1cnJlbnRseSByZXF1aXJlcyBhbiBIVE1MIERPTS5cblx0ICogQHByb3BlcnR5IF9jdHhcblx0ICogQHR5cGUge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH1cblx0ICogQHN0YXRpY1xuXHQgKiBAcHJpdmF0ZVxuXHQgKi9cblx0Rm9udExvYWRlci5fY3R4ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKS5nZXRDb250ZXh0KFwiMmRcIik7IC8vIFRPRE86IENvbnNpZGVyIGEgbWV0aG9kIHRvIGRvIHRoaXMgbGlrZSBFYXNlbEpTIFN0YWdlIGhhcy5cblxuXHQvKipcblx0ICogQSBsaXN0IG9mIHJlZmVyZW5jZSBmb250cyB0byB0ZXN0LiBNdWx0aXBsZSBmYWNlcyBhcmUgdGVzdGVkIHRvIGFkZHJlc3MgdGhlIHJhcmUgY2FzZSBvZiBhIGxvYWRlZCBmb250IGJlaW5nIHRoZVxuXHQgKiBleGFjdCBzYW1lIGRpbWVuc2lvbnMgYXMgdGhlIHRlc3QgZm9udC5cblx0ICogQHByb3BlcnR5IF9yZWZlcmVuY2VGb250c1xuXHQgKiBAdHlwZSB7QXJyYXl9XG5cdCAqIEBkZWZhdWx0IFtcInNlcmlmXCIsIFwibW9ub3NwYWNlXCJdXG5cdCAqIEBwcml2YXRlXG5cdCAqL1xuXHRGb250TG9hZGVyLl9yZWZlcmVuY2VGb250cyA9IFtcInNlcmlmXCIsXCJtb25vc3BhY2VcIl07XG5cblx0LyoqXG5cdCAqIEEgcmVndWxhciBleHByZXNzaW9uIHRoYXQgcHVsbHMgb3V0IHBvc3NpYmxlIHN0eWxlIHZhbHVlcyBmcm9tIHRoZSBmb250IG5hbWUuXG5cdCAqIDx1bD5cblx0ICogICAgIDxsaT5UaGlzIGluY2x1ZGVzIGZvbnQgbmFtZXMgdGhhdCBpbmNsdWRlIHRoaW4sIG5vcm1hbCwgYm9vaywgcmVndWxhciwgbWVkaXVtLCBibGFjaywgYW5kIGhlYXZ5IChzdWNoIGFzXG5cdCAqICAgICBcIkFyaWFsIEJsYWNrXCIpPC9saT5cblx0ICogICAgIDxsaT5XZWlnaHQgbW9kaWZpZXJzIGluY2x1ZGluZyBleHRyYSwgdWx0cmEsIHNlbWksIGRlbWksIGxpZ2h0LCBhbmQgYm9sZCAoc3VjaCBhcyBcIldvcmtTYW5zIFNlbWlCb2xkXCIpPC9saT5cblx0ICogPC91bD5cblx0ICpcblx0ICogV2VpZ2h0IGRlc2NyaXB0aW9ucyBtYXAgdG8gZm9udCB3ZWlnaHQgdmFsdWVzIGJ5IGRlZmF1bHQgdXNpbmcgdGhlIGZvbGxvd2luZyAoZnJvbVxuXHQgKiBodHRwOi8vd3d3LnczLm9yZy9UUi9jc3MzLWZvbnRzLyNmb250LXdlaWdodC1udW1lcmljLXZhbHVlcyk6XG5cdCAqIDx1bD5cblx0ICogICAgIDxsaT4xMDAgLSBUaGluPC9saT5cblx0ICogXHQgICA8bGk+MjAwIC0gRXh0cmEgTGlnaHQsIFVsdHJhIExpZ2h0PC9saT5cblx0ICogICAgIDxsaT4zMDAgLSBMaWdodCwgU2VtaSBMaWdodCwgRGVtaSBMaWdodDwvbGk+XG5cdCAqICAgICA8bGk+NDAwIC0gTm9ybWFsLCBCb29rLCBSZWd1bGFyPC9saT5cblx0ICogICAgIDxsaT41MDAgLSBNZWRpdW08L2xpPlxuXHQgKiAgICAgPGxpPjYwMCAtIFNlbWkgQm9sZCwgRGVtaSBCb2xkPC9saT5cblx0ICogICAgIDxsaT43MDAgLSBCb2xkPC9saT5cblx0ICogICAgIDxsaT44MDAgLSBFeHRyYSBCb2xkLCBVbHRyYSBCb2xkPC9saT5cblx0ICogICAgIDxsaT45MDAgLSBCbGFjaywgSGVhdnk8L2xpPlxuXHQgKiA8L3VsPlxuXHQgKiBAcHJvcGVydHkgV0VJR0hUX1JFR0VYXG5cdCAqIEB0eXBlIHtSZWdFeHB9XG5cdCAqIEBzdGF0aWNcblx0ICovXG5cdEZvbnRMb2FkZXIuV0VJR0hUX1JFR0VYID0gL1stIC5fXSoodGhpbnxub3JtYWx8Ym9va3xyZWd1bGFyfG1lZGl1bXxibGFja3xoZWF2eXxbMS05XTAwfCg/OmV4dHJhfHVsdHJhfHNlbWl8ZGVtaSk/Wy0gLl9dKig/OmxpZ2h0fGJvbGQpKVstIC5fXSovaWc7XG5cblx0LyoqXG5cdCAqIEEgcmVndWxhciBleHByZXNzaW9uIHRoYXQgcHVsbHMgb3V0IHBvc3NpYmxlIHN0eWxlIHZhbHVlcyBmcm9tIHRoZSBmb250IG5hbWUuIFRoZXNlIGluY2x1ZGUgXCJpdGFsaWNcIlxuXHQgKiBhbmQgXCJvYmxpcXVlXCIuXG5cdCAqIEBwcm9wZXJ0eSBTVFlMRV9SRUdFWFxuXHQgKiBAdHlwZSB7UmVnRXhwfVxuXHQgKiBAc3RhdGljXG5cdCAqL1xuXHRGb250TG9hZGVyLlNUWUxFX1JFR0VYID0gL1stIC5fXSooaXRhbGljfG9ibGlxdWUpWy0gLl9dKi9pZztcblxuXHQvKipcblx0ICogQSBsb29rdXAgb2YgZm9udCB0eXBlcyBmb3IgZ2VuZXJhdGluZyBhIENTUyBkZWZpbml0aW9uLiBGb3IgZXhhbXBsZSwgVFRGIGZvbnRzIHJlcXVpcmVzIGEgXCJ0cnVldHlwZVwiIHR5cGUuXG5cdCAqIEBwcm9wZXJ0eSBGT05UX0ZPUk1BVFxuXHQgKiBAdHlwZSB7T2JqZWN0fVxuXHQgKiBAc3RhdGljXG5cdCAqL1xuXHRGb250TG9hZGVyLkZPTlRfRk9STUFUID0ge3dvZmYyOlwid29mZjJcIiwgd29mZjpcIndvZmZcIiwgdHRmOlwidHJ1ZXR5cGVcIiwgb3RmOlwidHJ1ZXR5cGVcIn07XG5cblx0LyoqXG5cdCAqIEEgbG9va3VwIG9mIGZvbnQgd2VpZ2h0cyBiYXNlZCBvbiBhIG5hbWUuIFRoZXNlIHZhbHVlcyBhcmUgZnJvbSBodHRwOi8vd3d3LnczLm9yZy9UUi9jc3MzLWZvbnRzLyNmb250LXdlaWdodC1udW1lcmljLXZhbHVlcy5cblx0ICogQHByb3BlcnR5IEZPTlRfV0VJR0hUXG5cdCAqIEB0eXBlIHtPYmplY3R9XG5cdCAqIEBzdGF0aWNcblx0ICovXG5cdEZvbnRMb2FkZXIuRk9OVF9XRUlHSFQgPSB7dGhpbjoxMDAsIGV4dHJhbGlnaHQ6MjAwLCB1bHRyYWxpZ2h0OjIwMCwgbGlnaHQ6MzAwLCBzZW1pbGlnaHQ6MzAwLCBkZW1pbGlnaHQ6MzAwLCBib29rOlwibm9ybWFsXCIsIHJlZ3VsYXI6XCJub3JtYWxcIiwgc2VtaWJvbGQ6NjAwLCBkZW1pYm9sZDo2MDAsIGV4dHJhYm9sZDo4MDAsIHVsdHJhYm9sZDo4MDAsIGJsYWNrOjkwMCwgaGVhdnk6OTAwfTtcblxuXHQvKipcblx0ICogVGhlIGZyZXF1ZW5jeSBpbiBtaWxsaXNlY29uZHMgdG8gY2hlY2sgZm9yIGxvYWRlZCBmb250cy5cblx0ICogQHByb3BlcnR5IFdBVENIX0RVUkFUSU9OXG5cdCAqIEB0eXBlIHtudW1iZXJ9XG5cdCAqIEBkZWZhdWx0IDEwXG5cdCAqIEBzdGF0aWNcblx0ICovXG5cdEZvbnRMb2FkZXIuV0FUQ0hfRFVSQVRJT04gPSAxMDtcbi8vIHB1YmxpYyBtZXRob2RzOlxuXHRwLmxvYWQgPSBmdW5jdGlvbigpIHtcblx0XHRpZiAodGhpcy50eXBlID09IGNyZWF0ZWpzLlR5cGVzLkZPTlRDU1MpIHtcblx0XHRcdHZhciBsb2FkZWQgPSB0aGlzLl93YXRjaENTUygpO1xuXG5cdFx0XHQvLyBJZiB0aGUgQ1NTIGlzIG5vdCByZWFkeSwgaXQgd2lsbCBjcmVhdGUgYSByZXF1ZXN0LCB3aGljaCBBYnN0cmFjdExvYWRlciBjYW4gaGFuZGxlLlxuXHRcdFx0aWYgKCFsb2FkZWQpIHtcblx0XHRcdFx0dGhpcy5BYnN0cmFjdExvYWRlcl9sb2FkKCk7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdH0gZWxzZSBpZiAodGhpcy5faXRlbS5zcmMgaW5zdGFuY2VvZiBBcnJheSkge1xuXHRcdFx0dGhpcy5fd2F0Y2hGb250QXJyYXkoKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dmFyIGRlZiA9IHRoaXMuX2RlZkZyb21TcmModGhpcy5faXRlbS5zcmMpO1xuXHRcdFx0dGhpcy5fd2F0Y2hGb250KGRlZik7XG5cdFx0XHR0aGlzLl9pbmplY3RTdHlsZVRhZyh0aGlzLl9jc3NGcm9tRGVmKGRlZikpO1xuXHRcdH1cblxuXHRcdHRoaXMuX2xvYWRUaW1lb3V0ID0gc2V0VGltZW91dChjcmVhdGVqcy5wcm94eSh0aGlzLl9oYW5kbGVUaW1lb3V0LCB0aGlzKSwgdGhpcy5faXRlbS5sb2FkVGltZW91dCk7XG5cblx0XHR0aGlzLmRpc3BhdGNoRXZlbnQoXCJsb2Fkc3RhcnRcIik7XG5cdH07XG5cblx0LyoqXG5cdCAqIFRoZSBmb250IGxvYWQgaGFzIHRpbWVkIG91dC4gVGhpcyBpcyBjYWxsZWQgdmlhIGEgPGNvZGU+c2V0VGltZW91dDwvY29kZT4uXG5cdCAqIGNhbGxiYWNrLlxuXHQgKiBAbWV0aG9kIF9oYW5kbGVUaW1lb3V0XG5cdCAqIEBwcm90ZWN0ZWRcblx0ICovXG5cdHAuX2hhbmRsZVRpbWVvdXQgPSBmdW5jdGlvbiAoKSB7XG5cdFx0dGhpcy5fc3RvcFdhdGNoaW5nKCk7XG5cdFx0dGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBjcmVhdGVqcy5FcnJvckV2ZW50KFwiUFJFTE9BRF9USU1FT1VUXCIpKTtcblx0fTtcblxuXHQvLyBXYXRjaENTUyBkb2VzIHRoZSB3b3JrIGZvciB1cywgYW5kIHByb3ZpZGVzIGEgbW9kaWZpZWQgc3JjLlxuXHRwLl9jcmVhdGVSZXF1ZXN0ID0gZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMuX3JlcXVlc3Q7XG5cdH07XG5cblx0Ly8gRXZlbnRzIGNvbWUgZnJvbSB0aGUgaW50ZXJuYWwgWEhSIGxvYWRlci5cblx0cC5oYW5kbGVFdmVudCA9IGZ1bmN0aW9uIChldmVudCkge1xuXHRcdHN3aXRjaCAoZXZlbnQudHlwZSkge1xuXHRcdFx0Y2FzZSBcImNvbXBsZXRlXCI6XG5cdFx0XHRcdHRoaXMuX3Jhd1Jlc3VsdCA9IGV2ZW50LnRhcmdldC5fcmVzcG9uc2U7XG5cdFx0XHRcdHRoaXMuX3Jlc3VsdCA9IHRydWU7XG5cdFx0XHRcdHRoaXMuX3BhcnNlQ1NTKHRoaXMuX3Jhd1Jlc3VsdCk7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlIFwiZXJyb3JcIjpcblx0XHRcdFx0dGhpcy5fc3RvcFdhdGNoaW5nKCk7XG5cdFx0XHRcdHRoaXMuQWJzdHJhY3RMb2FkZXJfaGFuZGxlRXZlbnQoZXZlbnQpO1xuXHRcdFx0XHRicmVhaztcblx0XHR9XG5cdH07XG5cbi8vIHByaXZhdGUgbWV0aG9kczpcblx0LyoqXG5cdCAqIERldGVybWluZSBpZiB0aGUgcHJvdmlkZWQgQ1NTIGlzIGEgc3RyaW5nIGRlZmluaXRpb24sIENTUyBIVE1MIGVsZW1lbnQsIG9yIGEgQ1NTIGZpbGUgVVJJLiBEZXBlbmRpbmcgb24gdGhlXG5cdCAqIGZvcm1hdCwgdGhlIENTUyB3aWxsIGJlIHBhcnNlZCwgb3IgbG9hZGVkLlxuXHQgKiBAbWV0aG9kIF93YXRjaENTU1xuXHQgKiBAcmV0dXJucyB7Ym9vbGVhbn0gV2hldGhlciBvciBub3QgdGhlIENTUyBpcyByZWFkeVxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqL1xuXHRwLl93YXRjaENTUyA9IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBzcmMgPSB0aGlzLl9pdGVtLnNyYztcblxuXHRcdC8vIEFuIEhUTUxFbGVtZW50IHdhcyBwYXNzZWQgaW4uIEp1c3QgdXNlIGl0LlxuXHRcdGlmIChzcmMgaW5zdGFuY2VvZiBIVE1MU3R5bGVFbGVtZW50KSB7XG5cdFx0XHRpZiAodGhpcy5faW5qZWN0Q1NTICYmICFzcmMucGFyZW50Tm9kZSkgeyAoZG9jdW1lbnQuaGVhZCB8fCBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaGVhZCcpWzBdKS5hcHBlbmRDaGlsZChzcmMpOyB9XG5cdFx0XHR0aGlzLl9pbmplY3RDU1MgPSBmYWxzZTtcblx0XHRcdHNyYyA9IFwiXFxuXCIrc3JjLnRleHRDb250ZW50O1xuXHRcdH1cblxuXHRcdC8vIEEgQ1NTIHN0cmluZyB3YXMgcGFzc2VkIGluLiBQYXJzZSBhbmQgdXNlIGl0XG5cdFx0aWYgKHNyYy5zZWFyY2goL1xcbnxcXHJ8QGZvbnQtZmFjZS9pKSAhPT0gLTEpIHsgLy8gY3NzIHN0cmluZy5cblx0XHRcdHRoaXMuX3BhcnNlQ1NTKHNyYyk7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cblx0XHQvLyBMb2FkIGEgQ1NTIFBhdGguIE5vdGUgdGhhdCB3ZSBDQU4gTk9UIGxvYWQgaXQgd2l0aG91dCBYSFIgYmVjYXVzZSB3ZSBuZWVkIHRvIHJlYWQgdGhlIENTUyBkZWZpbml0aW9uXG5cdFx0dGhpcy5fcmVxdWVzdCA9IG5ldyBjcmVhdGVqcy5YSFJSZXF1ZXN0KHRoaXMuX2l0ZW0pO1xuXHRcdHJldHVybiBmYWxzZTtcblx0fTtcblxuXHQvKipcblx0ICogUGFyc2UgYSBDU1Mgc3RyaW5nIHRvIGRldGVybWluZSB0aGUgZm9udHMgdG8gbG9hZC5cblx0ICogQG1ldGhvZCBfcGFyc2VDU1Ncblx0ICogQHBhcmFtIHtTdHJpbmd9IGNzcyBUaGUgQ1NTIHN0cmluZyB0byBwYXJzZVxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqL1xuXHRwLl9wYXJzZUNTUyA9IGZ1bmN0aW9uKGNzcykge1xuXHRcdHZhciByZWdleCA9IC9AZm9udC1mYWNlXFxzKlxceyhbXn1dKyl9L2dcblx0XHR3aGlsZSAodHJ1ZSkge1xuXHRcdFx0dmFyIHJlc3VsdCA9IHJlZ2V4LmV4ZWMoY3NzKTtcblx0XHRcdGlmICghcmVzdWx0KSB7IGJyZWFrOyB9XG5cdFx0XHR0aGlzLl93YXRjaEZvbnQodGhpcy5fcGFyc2VGb250RmFjZShyZXN1bHRbMV0pKTtcblx0XHR9XG5cdFx0dGhpcy5faW5qZWN0U3R5bGVUYWcoY3NzKTtcblx0fTtcblxuXHQvKipcblx0ICogVGhlIHByb3ZpZGVkIGZvbnRzIHdlcmUgYW4gYXJyYXkgb2Ygb2JqZWN0IG9yIHN0cmluZyBkZWZpbml0aW9ucy4gUGFyc2UgdGhlbSwgYW5kIGluamVjdCBhbnkgdGhhdCBhcmUgcmVhZHkuXG5cdCAqIEBtZXRob2QgX3dhdGNoRm9udEFycmF5XG5cdCAqIEBwcm90ZWN0ZWRcblx0ICovXG5cdHAuX3dhdGNoRm9udEFycmF5ID0gZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGFyciA9IHRoaXMuX2l0ZW0uc3JjLCBjc3MgPSBcIlwiLCBkZWY7XG5cdFx0Zm9yICh2YXIgaT1hcnIubGVuZ3RoLTE7IGk+PTA7IGktLSkge1xuXHRcdFx0dmFyIG8gPSBhcnJbaV07XG5cdFx0XHRpZiAodHlwZW9mIG8gPT09IFwic3RyaW5nXCIpIHsgZGVmID0gdGhpcy5fZGVmRnJvbVNyYyhvKSB9XG5cdFx0XHRlbHNlIHsgZGVmID0gdGhpcy5fZGVmRnJvbU9iaihvKTsgfVxuXHRcdFx0dGhpcy5fd2F0Y2hGb250KGRlZik7XG5cdFx0XHRjc3MgKz0gdGhpcy5fY3NzRnJvbURlZihkZWYpK1wiXFxuXCI7XG5cdFx0fVxuXHRcdHRoaXMuX2luamVjdFN0eWxlVGFnKGNzcyk7XG5cdH07XG5cblx0LyoqXG5cdCAqIEluamVjdCBhbnkgc3R5bGUgZGVmaW5pdGlvbnMgaW50byB0aGUgZG9jdW1lbnQgaGVhZC4gVGhpcyBpcyBuZWNlc3Nhcnkgd2hlbiB0aGUgZGVmaW5pdGlvbiBpcyBqdXN0IGEgc3RyaW5nIG9yXG5cdCAqIG9iamVjdCBkZWZpbml0aW9uIGluIG9yZGVyIGZvciB0aGUgc3R5bGVzIHRvIGJlIGFwcGxpZWQgdG8gdGhlIGRvY3VtZW50LiBJZiB0aGUgbG9hZGVkIGZvbnRzIGFyZSBhbHJlYWR5IEhUTUwgQ1NTXG5cdCAqIGVsZW1lbnRzLCB0aGV5IGRvbid0IG5lZWQgdG8gYmUgYXBwZW5kZWQgYWdhaW4uXG5cdCAqIEBtZXRob2QgX2luamVjdFN0eWxlVGFnXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBjc3MgVGhlIENTUyBzdHJpbmcgY29udGVudCB0byBiZSBhcHBlbmRlZCB0byB0aGVcblx0ICogQHByb3RlY3RlZFxuXHQgKi9cblx0cC5faW5qZWN0U3R5bGVUYWcgPSBmdW5jdGlvbihjc3MpIHtcblx0XHRpZiAoIXRoaXMuX2luamVjdENTUykgeyByZXR1cm47IH1cblx0XHR2YXIgaGVhZCA9IGRvY3VtZW50LmhlYWQgfHwgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2hlYWQnKVswXTtcblx0XHR2YXIgc3R5bGVUYWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG5cdFx0c3R5bGVUYWcudHlwZSA9IFwidGV4dC9jc3NcIjtcblx0XHRpZiAoc3R5bGVUYWcuc3R5bGVTaGVldCl7XG5cdFx0XHRzdHlsZVRhZy5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHN0eWxlVGFnLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xuXHRcdH1cblx0XHRoZWFkLmFwcGVuZENoaWxkKHN0eWxlVGFnKTtcblx0fTtcblxuXHQvKipcblx0ICogRGV0ZXJtaW5lIHRoZSBmb250IGZhY2UgZnJvbSBhIENTUyBkZWZpbml0aW9uLlxuXHQgKiBAbWV0aG9kIF9wYXJzZUZvbnRGYWNlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBzdHIgVGhlIENTUyBzdHJpbmcgZGVmaW5pdGlvblxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqIEByZXR1cm4ge1N0cmluZ30gQSBtb2RpZmllZCBDU1Mgb2JqZWN0IGNvbnRhaW5pbmcgZmFtaWx5IG5hbWUsIHNyYywgc3R5bGUsIGFuZCB3ZWlnaHRcblx0ICovXG5cdHAuX3BhcnNlRm9udEZhY2UgPSBmdW5jdGlvbihzdHIpIHtcblx0XHR2YXIgZmFtaWx5ID0gdGhpcy5fZ2V0Q1NTVmFsdWUoc3RyLCBcImZvbnQtZmFtaWx5XCIpLCBzcmMgPSB0aGlzLl9nZXRDU1NWYWx1ZShzdHIsIFwic3JjXCIpO1xuXHRcdGlmICghZmFtaWx5IHx8ICFzcmMpIHsgcmV0dXJuIG51bGw7IH1cblx0XHRyZXR1cm4gdGhpcy5fZGVmRnJvbU9iaih7XG5cdFx0XHRmYW1pbHk6IGZhbWlseSxcblx0XHRcdHNyYzogc3JjLFxuXHRcdFx0c3R5bGU6IHRoaXMuX2dldENTU1ZhbHVlKHN0ciwgXCJmb250LXN0eWxlXCIpLFxuXHRcdFx0d2VpZ2h0OiB0aGlzLl9nZXRDU1NWYWx1ZShzdHIsIFwiZm9udC13ZWlnaHRcIilcblx0XHR9KTtcblx0fTtcblxuXHQvKipcblx0ICogQWRkIGEgZm9udCB0byB0aGUgbGlzdCBvZiBmb250cyBjdXJyZW50bHkgYmVpbmcgd2F0Y2hlZC4gSWYgdGhlIGZvbnQgaXMgYWxyZWFkeSB3YXRjaGVkIG9yIGxvYWRlZCwgaXQgd29uJ3QgYmVcblx0ICogYWRkZWQgYWdhaW4uXG5cdCAqIEBtZXRob2QgX3dhdGNoRm9udFxuXHQgKiBAcGFyYW0ge09iamVjdH0gZGVmIFRoZSBmb250IGRlZmluaXRpb25cblx0ICogQHByb3RlY3RlZFxuXHQgKi9cblx0cC5fd2F0Y2hGb250ID0gZnVuY3Rpb24oZGVmKSB7XG5cdFx0aWYgKCFkZWYgfHwgdGhpcy5fZmFjZXNbZGVmLmlkXSkgeyByZXR1cm47IH1cblx0XHR0aGlzLl9mYWNlc1tkZWYuaWRdID0gZGVmO1xuXHRcdHRoaXMuX3dhdGNoZWQucHVzaChkZWYpO1xuXHRcdHRoaXMuX2NvdW50Kys7XG5cblx0XHR0aGlzLl9jYWxjdWxhdGVSZWZlcmVuY2VTaXplcyhkZWYpO1xuXHRcdHRoaXMuX3N0YXJ0V2F0Y2hpbmcoKTtcblx0fTtcblxuXHQvKipcblx0ICogQ3JlYXRlIGEgaW50ZXJ2YWwgdG8gY2hlY2sgZm9yIGxvYWRlZCBmb250cy4gT25seSBvbmUgaW50ZXJ2YWwgaXMgdXNlZCBmb3IgYWxsIGZvbnRzLiBUaGUgZm9udHMgYXJlIGNoZWNrZWQgYmFzZWRcblx0ICogb24gdGhlIHt7I2Nyb3NzTGluayBcIkZvbnRMb2FkZXIvV0FUQ0hfRFVSQVRJT046cHJvcGVydHlcIn19e3svY3Jvc3NMaW5rfX0uXG5cdCAqIEBtZXRob2QgX3N0YXJ0V2F0Y2hpbmdcblx0ICogQHByb3RlY3RlZFxuXHQgKi9cblx0cC5fc3RhcnRXYXRjaGluZyA9IGZ1bmN0aW9uKCkge1xuXHRcdGlmICh0aGlzLl93YXRjaEludGVydmFsICE9IG51bGwpIHsgcmV0dXJuOyB9XG5cdFx0dGhpcy5fd2F0Y2hJbnRlcnZhbCA9IHNldEludGVydmFsKGNyZWF0ZWpzLnByb3h5KHRoaXMuX3dhdGNoLCB0aGlzKSwgRm9udExvYWRlci5XQVRDSF9EVVJBVElPTik7XG5cdH07XG5cblx0LyoqXG5cdCAqIENsZWFyIHRoZSBpbnRlcnZhbCB1c2VkIHRvIGNoZWNrIGZvbnRzLiBUaGlzIGhhcHBlbnMgd2hlbiBhbGwgZm9udHMgYXJlIGxvYWRlZCwgb3IgYW4gZXJyb3Igb2NjdXJzLCBzdWNoIGFzIGFcblx0ICogQ1NTIGZpbGUgZXJyb3IsIG9yIGEgbG9hZCB0aW1lb3V0LlxuXHQgKiBAbWV0aG9kIF9zdG9wV2F0Y2hpbmdcblx0ICogQHByb3RlY3RlZFxuXHQgKi9cblx0cC5fc3RvcFdhdGNoaW5nID0gZnVuY3Rpb24oKSB7XG5cdFx0Y2xlYXJJbnRlcnZhbCh0aGlzLl93YXRjaEludGVydmFsKTtcblx0XHRjbGVhclRpbWVvdXQodGhpcy5fbG9hZFRpbWVvdXQpO1xuXHRcdHRoaXMuX3dhdGNoSW50ZXJ2YWwgPSBudWxsO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBDaGVjayBhbGwgdGhlIGZvbnRzIHRoYXQgaGF2ZSBub3QgYmVlbiBsb2FkZWQuIFRoZSBmb250cyBhcmUgZHJhd24gdG8gYSBjYW52YXMgaW4gbWVtb3J5LCBhbmQgaWYgdGhlaXIgZm9udCBzaXplXG5cdCAqIHZhcmllcyBmcm9tIHRoZSBkZWZhdWx0IHRleHQgc2l6ZSwgdGhlbiB0aGUgZm9udCBpcyBjb25zaWRlcmVkIGxvYWRlZC5cblx0ICpcblx0ICogQSB7eyNjcm9zc0xpbmsgXCJBYnN0cmFjdExvYWRlci9maWxlbG9hZFwifX17ey9jcm9zc0xpbmt9fSBldmVudCB3aWxsIGJlIGRpc3BhdGNoZWQgd2hlbiBlYWNoIGZpbGUgaXMgbG9hZGVkLCBhbG9uZ1xuXHQgKiB3aXRoIHRoZSBmb250IGZhbWlseSBuYW1lIGFzIHRoZSBgaXRlbWAgdmFsdWUuIEEge3sjY3Jvc3NMaW5rIFwiUHJvZ3Jlc3NFdmVudFwifX17ey9jcm9zc0xpbmt9fSBpcyBkaXNwYXRjaGVkIGFcblx0ICogbWF4aW11bSBvZiBvbmUgdGltZSBwZXIgY2hlY2sgd2hlbiBhbnkgZm9udHMgYXJlIGxvYWRlZCwgd2l0aCB0aGUge3sjY3Jvc3NMaW5rIFwiUHJvZ3Jlc3NFdmVudC9wcm9ncmVzczpwcm9wZXJ0eVwifX17ey9jcm9zc0xpbmt9fVxuXHQgKiB2YWx1ZSBzaG93aW5nIHRoZSBwZXJjZW50YWdlIG9mIGZvbnRzIHRoYXQgaGF2ZSBsb2FkZWQuXG5cdCAqIEBtZXRob2QgX3dhdGNoXG5cdCAqIEBwcm90ZWN0ZWRcblx0ICovXG5cdHAuX3dhdGNoID0gZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGRlZnMgPSB0aGlzLl93YXRjaGVkLCByZWZGb250cyA9IEZvbnRMb2FkZXIuX3JlZmVyZW5jZUZvbnRzLCBsID0gZGVmcy5sZW5ndGg7XG5cdFx0Zm9yICh2YXIgaSA9IGwgLSAxOyBpID49IDA7IGktLSkge1xuXHRcdFx0dmFyIGRlZiA9IGRlZnNbaV0sIHJlZnMgPSBkZWYucmVmcztcblx0XHRcdGZvciAodmFyIGogPSByZWZzLmxlbmd0aCAtIDE7IGogPj0gMDsgai0tKSB7XG5cdFx0XHRcdHZhciB3ID0gdGhpcy5fZ2V0VGV4dFdpZHRoKGRlZi5mYW1pbHkgKyBcIixcIiArIHJlZkZvbnRzW2pdLCBkZWYud2VpZ2h0LCBkZWYuc3R5bGUpO1xuXHRcdFx0XHRpZiAodyAhPSByZWZzW2pdKSB7XG5cdFx0XHRcdFx0dmFyIGV2ZW50ID0gbmV3IGNyZWF0ZWpzLkV2ZW50KFwiZmlsZWxvYWRcIik7XG5cdFx0XHRcdFx0ZGVmLnR5cGUgPSBcImZvbnQtZmFtaWx5XCI7XG5cdFx0XHRcdFx0ZXZlbnQuaXRlbSA9IGRlZjtcblx0XHRcdFx0XHR0aGlzLmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuXHRcdFx0XHRcdGRlZnMuc3BsaWNlKGksIDEpO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGlmIChsICE9PSBkZWZzLmxlbmd0aCkge1xuXHRcdFx0dmFyIGV2ZW50ID0gbmV3IGNyZWF0ZWpzLlByb2dyZXNzRXZlbnQodGhpcy5fY291bnQtZGVmcy5sZW5ndGgsIHRoaXMuX2NvdW50KTtcblx0XHRcdHRoaXMuZGlzcGF0Y2hFdmVudChldmVudCk7XG5cdFx0fVxuXHRcdGlmIChsID09PSAwKSB7XG5cdFx0XHR0aGlzLl9zdG9wV2F0Y2hpbmcoKTtcblx0XHRcdHRoaXMuX3NlbmRDb21wbGV0ZSgpO1xuXHRcdH1cblx0fTtcblxuXHQvKipcblx0ICogRGV0ZXJtaW5lIHRoZSBkZWZhdWx0IHNpemUgb2YgdGhlIHJlZmVyZW5jZSBmb250cyB1c2VkIHRvIGNvbXBhcmUgYWdhaW5zdCBsb2FkZWQgZm9udHMuXG5cdCAqIEBtZXRob2QgX2NhbGN1bGF0ZVJlZmVyZW5jZVNpemVzXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBkZWYgVGhlIGZvbnQgZGVmaW5pdGlvbiB0byBnZXQgdGhlIHNpemUgb2YuXG5cdCAqIEBwcm90ZWN0ZWRcblx0ICovXG5cdHAuX2NhbGN1bGF0ZVJlZmVyZW5jZVNpemVzID0gZnVuY3Rpb24oZGVmKSB7XG5cdFx0dmFyIHJlZkZvbnRzID0gRm9udExvYWRlci5fcmVmZXJlbmNlRm9udHM7XG5cdFx0dmFyIHJlZnMgPSBkZWYucmVmcyA9IFtdO1xuXHRcdGZvciAodmFyIGk9MDsgaTxyZWZGb250cy5sZW5ndGg7IGkrKykge1xuXHRcdFx0cmVmc1tpXSA9IHRoaXMuX2dldFRleHRXaWR0aChyZWZGb250c1tpXSwgZGVmLndlaWdodCwgZGVmLnN0eWxlKTtcblx0XHR9XG5cdH07XG5cblx0LyoqXG5cdCAqIEdldCBhIENTUyBkZWZpbml0aW9uIGZyb20gYSBmb250IHNvdXJjZSBhbmQgbmFtZS5cblx0ICogQG1ldGhvZCBfZGVmRnJvbVNyY1xuXHQgKiBAcGFyYW0ge1N0cmluZ30gc3JjIFRoZSBmb250IHNvdXJjZVxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqL1xuXHRwLl9kZWZGcm9tU3JjID0gZnVuY3Rpb24oc3JjKSB7XG5cdFx0dmFyIHJlID0gL1stIC5fXSsvZywgbmFtZSA9IHNyYywgZXh0ID0gbnVsbCwgaW5kZXg7XG5cdFx0XG5cdFx0aW5kZXggPSBuYW1lLnNlYXJjaCgvWz8jXS8pO1xuXHRcdGlmIChpbmRleCAhPT0gLTEpIHtcblx0XHRcdG5hbWUgPSBuYW1lLnN1YnN0cigwLGluZGV4KTtcblx0XHR9XG5cdFx0aW5kZXggPSBuYW1lLmxhc3RJbmRleE9mKFwiLlwiKTtcblx0XHRpZiAoaW5kZXggIT09IC0xKSB7XG5cdFx0XHRleHQgPSBuYW1lLnN1YnN0cihpbmRleCsxKTtcblx0XHRcdG5hbWUgPSBuYW1lLnN1YnN0cigwLGluZGV4KTtcblx0XHR9XG5cdFx0aW5kZXggPSBuYW1lLmxhc3RJbmRleE9mKFwiL1wiKTtcblx0XHRpZiAoaW5kZXggIT09IC0xKSB7XG5cdFx0XHRuYW1lID0gbmFtZS5zdWJzdHIoaW5kZXgrMSk7XG5cdFx0fVxuXHRcdFxuXHRcdHZhciBmYW1pbHkgPSBuYW1lLFxuXHRcdFx0XHR3ZWlnaHQgPSBmYW1pbHkubWF0Y2goRm9udExvYWRlci5XRUlHSFRfUkVHRVgpO1xuXHRcdGlmICh3ZWlnaHQpIHtcblx0XHRcdHdlaWdodCA9IHdlaWdodFswXTtcblx0XHRcdGZhbWlseSA9IGZhbWlseS5yZXBsYWNlKHdlaWdodCwgXCJcIik7XG5cdFx0XHR3ZWlnaHQgPSB3ZWlnaHQucmVwbGFjZShyZSwgXCJcIikudG9Mb3dlckNhc2UoKTtcblx0XHR9XG5cdFx0dmFyIHN0eWxlID0gbmFtZS5tYXRjaChGb250TG9hZGVyLlNUWUxFX1JFR0VYKTtcblx0XHRpZiAoc3R5bGUpIHtcblx0XHRcdGZhbWlseSA9IGZhbWlseS5yZXBsYWNlKHN0eWxlWzBdLCBcIlwiKTtcblx0XHRcdHN0eWxlID0gXCJpdGFsaWNcIjtcblx0XHR9XG5cdFx0ZmFtaWx5ID0gZmFtaWx5LnJlcGxhY2UocmUsIFwiXCIpO1xuXHRcdFxuXHRcdHZhciBjc3NTcmMgPSBcImxvY2FsKCdcIituYW1lLnJlcGxhY2UocmUsXCIgXCIpK1wiJyksIHVybCgnXCIrc3JjK1wiJylcIjtcblx0XHR2YXIgZm9ybWF0ID0gRm9udExvYWRlci5GT05UX0ZPUk1BVFtleHRdO1xuXHRcdGlmIChmb3JtYXQpIHsgY3NzU3JjICs9IFwiIGZvcm1hdCgnXCIrZm9ybWF0K1wiJylcIjsgfVxuXHRcdFxuXHRcdHJldHVybiB0aGlzLl9kZWZGcm9tT2JqKHtcblx0XHRcdGZhbWlseTogZmFtaWx5LFxuXHRcdFx0d2VpZ2h0OiBGb250TG9hZGVyLkZPTlRfV0VJR0hUW3dlaWdodF18fHdlaWdodCxcblx0XHRcdHN0eWxlOiBzdHlsZSxcblx0XHRcdHNyYzogY3NzU3JjXG5cdFx0fSk7XG5cdH07XG5cblx0LyoqXG5cdCAqIEdldCBhIGZvbnQgZGVmaW5pdGlvbiBmcm9tIGEgcmF3IGZvbnQgb2JqZWN0LlxuXHQgKiBAbWV0aG9kIF9kZWZGcm9tT2JqXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBvIEEgcmF3IG9iamVjdCBwcm92aWRlZCB0byB0aGUgRm9udExvYWRlclxuXHQgKiBAcmV0dXJucyB7T2JqZWN0fSBBIHN0YW5kYXJkIGZvbnQgb2JqZWN0IHRoYXQgdGhlIEZvbnRMb2FkZXIgdW5kZXJzdGFuZHNcblx0ICogQHByb3RlY3RlZFxuXHQgKi9cblx0cC5fZGVmRnJvbU9iaiA9IGZ1bmN0aW9uKG8pIHtcblx0XHR2YXIgZGVmID0ge1xuXHRcdFx0ZmFtaWx5OiBvLmZhbWlseSxcblx0XHRcdHNyYzogby5zcmMsXG5cdFx0XHRzdHlsZTogby5zdHlsZSB8fCBcIm5vcm1hbFwiLFxuXHRcdFx0d2VpZ2h0OiBvLndlaWdodCB8fCBcIm5vcm1hbFwiXG5cdFx0fTtcblx0XHRkZWYuaWQgPSBkZWYuZmFtaWx5ICsgXCI7XCIgKyBkZWYuc3R5bGUgKyBcIjtcIiArIGRlZi53ZWlnaHQ7XG5cdFx0cmV0dXJuIGRlZjtcblx0fTtcblxuXHQvKipcblx0ICogR2V0IENTUyBmcm9tIGEgZm9udCBkZWZpbml0aW9uLlxuXHQgKiBAbWV0aG9kIF9jc3NGcm9tRGVmXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBkZWYgQSBmb250IGRlZmluaXRpb25cblx0ICogQHJldHVybnMge3N0cmluZ30gQSBDU1Mgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgb2JqZWN0XG5cdCAqIEBwcm90ZWN0ZWRcblx0ICovXG5cdHAuX2Nzc0Zyb21EZWYgPSBmdW5jdGlvbihkZWYpIHtcblx0XHRyZXR1cm4gXCJAZm9udC1mYWNlIHtcXG5cIiArXG5cdFx0XHRcIlxcdGZvbnQtZmFtaWx5OiAnXCIrZGVmLmZhbWlseStcIic7XFxuXCIgK1xuXHRcdFx0XCJcXHRmb250LXN0eWxlOiBcIitkZWYuc3R5bGUrXCI7XFxuXCIgK1xuXHRcdFx0XCJcXHRmb250LXdlaWdodDogXCIrZGVmLndlaWdodCtcIjtcXG5cIiArXG5cdFx0XHRcIlxcdHNyYzogXCIrZGVmLnNyYytcIjtcXG5cIiArXG5cdFx0XHRcIn1cIjtcblx0fTtcblxuXHQvKipcblx0ICogR2V0IHRoZSB0ZXh0IHdpZHRoIG9mIHRleHQgdXNpbmcgdGhlIGZhbWlseSwgd2VpZ2h0LCBhbmQgc3R5bGVcblx0ICogQG1ldGhvZCBfZ2V0VGV4dFdpZHRoXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBmYW1pbHkgVGhlIGZvbnQgZmFtaWx5XG5cdCAqIEBwYXJhbSB7U3RyaW5nfSB3ZWlnaHQgVGhlIGZvbnQgd2VpZ2h0XG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBzdHlsZSBUaGUgZm9udCBzdHlsZVxuXHQgKiBAcmV0dXJucyB7TnVtYmVyfSBUaGUgcGl4ZWwgbWVhc3VyZW1lbnQgb2YgdGhlIGZvbnQuXG5cdCAqIEBwcm90ZWN0ZWRcblx0ICovXG5cdHAuX2dldFRleHRXaWR0aCA9IGZ1bmN0aW9uKGZhbWlseSwgd2VpZ2h0LCBzdHlsZSkge1xuXHRcdHZhciBjdHggPSBGb250TG9hZGVyLl9jdHg7XG5cdFx0Y3R4LmZvbnQgPSBzdHlsZStcIiBcIit3ZWlnaHQrXCIgNzJweCBcIitmYW1pbHk7XG5cdFx0cmV0dXJuIGN0eC5tZWFzdXJlVGV4dChGb250TG9hZGVyLnNhbXBsZVRleHQpLndpZHRoO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBHZXQgdGhlIHZhbHVlIG9mIGEgcHJvcGVydHkgZnJvbSBhIENTUyBzdHJpbmcuIEZvciBleGFtcGxlLCBzZWFyY2hlcyBhIENTUyBzdHJpbmcgZm9yIHRoZSB2YWx1ZSBvZiB0aGVcblx0ICogXCJmb250LWZhbWlseVwiIHByb3BlcnR5LlxuXHQgKiBAbWV0aG9kIF9nZXRDU1NWYWx1ZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gc3RyIFRoZSBDU1Mgc3RyaW5nIHRvIHNlYXJjaFxuXHQgKiBAcGFyYW0ge1N0cmluZ30gcHJvcE5hbWUgVGhlIHByb3BlcnR5IG5hbWUgdG8gZ2V0IHRoZSB2YWx1ZSBmb3Jcblx0ICogQHJldHVybnMge1N0cmluZ30gVGhlIHZhbHVlIGluIHRoZSBDU1MgZm9yIHRoZSBwcm92aWRlZCBwcm9wZXJ0eSBuYW1lXG5cdCAqIEBwcm90ZWN0ZWRcblx0ICovXG5cdHAuX2dldENTU1ZhbHVlID0gZnVuY3Rpb24oc3RyLCBwcm9wTmFtZSkge1xuXHRcdHZhciByZWdleCA9IG5ldyBSZWdFeHAocHJvcE5hbWUrXCI6XFxzKihbXjt9XSs/KVxccypbO31dXCIpO1xuXHRcdHZhciByZXN1bHQgPSByZWdleC5leGVjKHN0cik7XG5cdFx0aWYgKCFyZXN1bHQgfHwgIXJlc3VsdFsxXSkgeyByZXR1cm4gbnVsbDsgfVxuXHRcdHJldHVybiByZXN1bHRbMV07XG5cdH07XG5cblx0Y3JlYXRlanMuRm9udExvYWRlciA9IGNyZWF0ZWpzLnByb21vdGUoRm9udExvYWRlciwgXCJBYnN0cmFjdExvYWRlclwiKTtcblxufSkoKTtcblxuLy8jIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyNcbi8vIEltYWdlTG9hZGVyLmpzXG4vLyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI1xuXG4oZnVuY3Rpb24gKCkge1xuXHRcInVzZSBzdHJpY3RcIjtcblxuXHQvLyBjb25zdHJ1Y3RvclxuXHQvKipcblx0ICogQSBsb2FkZXIgZm9yIGltYWdlIGZpbGVzLlxuXHQgKiBAY2xhc3MgSW1hZ2VMb2FkZXJcblx0ICogQHBhcmFtIHtMb2FkSXRlbXxPYmplY3R9IGxvYWRJdGVtXG5cdCAqIEBwYXJhbSB7Qm9vbGVhbn0gcHJlZmVyWEhSXG5cdCAqIEBleHRlbmRzIEFic3RyYWN0TG9hZGVyXG5cdCAqIEBjb25zdHJ1Y3RvclxuXHQgKi9cblx0ZnVuY3Rpb24gSW1hZ2VMb2FkZXIgKGxvYWRJdGVtLCBwcmVmZXJYSFIpIHtcblx0XHR0aGlzLkFic3RyYWN0TG9hZGVyX2NvbnN0cnVjdG9yKGxvYWRJdGVtLCBwcmVmZXJYSFIsIGNyZWF0ZWpzLlR5cGVzLklNQUdFKTtcblxuXHRcdC8vIHB1YmxpYyBwcm9wZXJ0aWVzXG5cdFx0dGhpcy5yZXN1bHRGb3JtYXR0ZXIgPSB0aGlzLl9mb3JtYXRSZXN1bHQ7XG5cblx0XHQvLyBwcm90ZWN0ZWQgcHJvcGVydGllc1xuXHRcdHRoaXMuX3RhZ1NyY0F0dHJpYnV0ZSA9IFwic3JjXCI7XG5cblx0XHQvLyBDaGVjayBpZiB0aGUgcHJlbG9hZCBpdGVtIGlzIGFscmVhZHkgYSB0YWcuXG5cdFx0aWYgKGNyZWF0ZWpzLkRvbVV0aWxzLmlzSW1hZ2VUYWcobG9hZEl0ZW0pKSB7XG5cdFx0XHR0aGlzLl90YWcgPSBsb2FkSXRlbTtcblx0XHR9IGVsc2UgaWYgKGNyZWF0ZWpzLkRvbVV0aWxzLmlzSW1hZ2VUYWcobG9hZEl0ZW0uc3JjKSkge1xuXHRcdFx0dGhpcy5fdGFnID0gbG9hZEl0ZW0uc3JjO1xuXHRcdH0gZWxzZSBpZiAoY3JlYXRlanMuRG9tVXRpbHMuaXNJbWFnZVRhZyhsb2FkSXRlbS50YWcpKSB7XG5cdFx0XHR0aGlzLl90YWcgPSBsb2FkSXRlbS50YWc7XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMuX3RhZyAhPSBudWxsKSB7XG5cdFx0XHR0aGlzLl9wcmVmZXJYSFIgPSBmYWxzZTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5fdGFnID0gY3JlYXRlanMuRWxlbWVudHMuaW1nKCk7XG5cdFx0fVxuXG5cdFx0dGhpcy5vbihcImluaXRpYWxpemVcIiwgdGhpcy5fdXBkYXRlWEhSLCB0aGlzKTtcblx0fTtcblxuXHR2YXIgcCA9IGNyZWF0ZWpzLmV4dGVuZChJbWFnZUxvYWRlciwgY3JlYXRlanMuQWJzdHJhY3RMb2FkZXIpO1xuXHR2YXIgcyA9IEltYWdlTG9hZGVyO1xuXG5cdC8vIHN0YXRpYyBtZXRob2RzXG5cdC8qKlxuXHQgKiBEZXRlcm1pbmVzIGlmIHRoZSBsb2FkZXIgY2FuIGxvYWQgYSBzcGVjaWZpYyBpdGVtLiBUaGlzIGxvYWRlciBjYW4gb25seSBsb2FkIGl0ZW1zIHRoYXQgYXJlIG9mIHR5cGVcblx0ICoge3sjY3Jvc3NMaW5rIFwiVHlwZXMvSU1BR0U6cHJvcGVydHlcIn19e3svY3Jvc3NMaW5rfX0uXG5cdCAqIEBtZXRob2QgY2FuTG9hZEl0ZW1cblx0ICogQHBhcmFtIHtMb2FkSXRlbXxPYmplY3R9IGl0ZW0gVGhlIExvYWRJdGVtIHRoYXQgYSBMb2FkUXVldWUgaXMgdHJ5aW5nIHRvIGxvYWQuXG5cdCAqIEByZXR1cm5zIHtCb29sZWFufSBXaGV0aGVyIHRoZSBsb2FkZXIgY2FuIGxvYWQgdGhlIGl0ZW0uXG5cdCAqIEBzdGF0aWNcblx0ICovXG5cdHMuY2FuTG9hZEl0ZW0gPSBmdW5jdGlvbiAoaXRlbSkge1xuXHRcdHJldHVybiBpdGVtLnR5cGUgPT0gY3JlYXRlanMuVHlwZXMuSU1BR0U7XG5cdH07XG5cblx0Ly8gcHVibGljIG1ldGhvZHNcblx0cC5sb2FkID0gZnVuY3Rpb24gKCkge1xuXHRcdGlmICh0aGlzLl90YWcuc3JjICE9IFwiXCIgJiYgdGhpcy5fdGFnLmNvbXBsZXRlKSB7XG5cdFx0XHR0aGlzLl9zZW5kQ29tcGxldGUoKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHR2YXIgY3Jvc3NPcmlnaW4gPSB0aGlzLl9pdGVtLmNyb3NzT3JpZ2luO1xuXHRcdGlmIChjcm9zc09yaWdpbiA9PSB0cnVlKSB7IGNyb3NzT3JpZ2luID0gXCJBbm9ueW1vdXNcIjsgfVxuXHRcdGlmIChjcm9zc09yaWdpbiAhPSBudWxsICYmICFjcmVhdGVqcy5VUkxVdGlscy5pc0xvY2FsKHRoaXMuX2l0ZW0pKSB7XG5cdFx0XHR0aGlzLl90YWcuY3Jvc3NPcmlnaW4gPSBjcm9zc09yaWdpbjtcblx0XHR9XG5cblx0XHR0aGlzLkFic3RyYWN0TG9hZGVyX2xvYWQoKTtcblx0fTtcblxuXHQvLyBwcm90ZWN0ZWQgbWV0aG9kc1xuXHQvKipcblx0ICogQmVmb3JlIHRoZSBpdGVtIGxvYWRzLCBzZXQgaXRzIG1pbWVUeXBlIGFuZCByZXNwb25zZVR5cGUuXG5cdCAqIEBwcm9wZXJ0eSBfdXBkYXRlWEhSXG5cdCAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50XG5cdCAqIEBwcml2YXRlXG5cdCAqL1xuXHRwLl91cGRhdGVYSFIgPSBmdW5jdGlvbiAoZXZlbnQpIHtcblx0XHRldmVudC5sb2FkZXIubWltZVR5cGUgPSAndGV4dC9wbGFpbjsgY2hhcnNldD14LXVzZXItZGVmaW5lZC1iaW5hcnknO1xuXG5cdFx0Ly8gT25seSBleGlzdHMgZm9yIFhIUlxuXHRcdGlmIChldmVudC5sb2FkZXIuc2V0UmVzcG9uc2VUeXBlKSB7XG5cdFx0XHRldmVudC5sb2FkZXIuc2V0UmVzcG9uc2VUeXBlKFwiYmxvYlwiKTtcblx0XHR9XG5cdH07XG5cblx0LyoqXG5cdCAqIFRoZSByZXN1bHQgZm9ybWF0dGVyIGZvciBJbWFnZSBmaWxlcy5cblx0ICogQG1ldGhvZCBfZm9ybWF0UmVzdWx0XG5cdCAqIEBwYXJhbSB7QWJzdHJhY3RMb2FkZXJ9IGxvYWRlclxuXHQgKiBAcmV0dXJucyB7SFRNTEltYWdlRWxlbWVudH1cblx0ICogQHByaXZhdGVcblx0ICovXG5cdHAuX2Zvcm1hdFJlc3VsdCA9IGZ1bmN0aW9uIChsb2FkZXIpIHtcblx0XHRyZXR1cm4gdGhpcy5fZm9ybWF0SW1hZ2U7XG5cdH07XG5cblx0LyoqXG5cdCAqIFRoZSBhc3luY2hyb25vdXMgaW1hZ2UgZm9ybWF0dGVyIGZ1bmN0aW9uLiBUaGlzIGlzIHJlcXVpcmVkIGJlY2F1c2UgaW1hZ2VzIGhhdmVcblx0ICogYSBzaG9ydCBkZWxheSBiZWZvcmUgdGhleSBhcmUgcmVhZHkuXG5cdCAqIEBtZXRob2QgX2Zvcm1hdEltYWdlXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IHN1Y2Nlc3NDYWxsYmFjayBUaGUgbWV0aG9kIHRvIGNhbGwgd2hlbiB0aGUgcmVzdWx0IGhhcyBmaW5pc2hlZCBmb3JtYXR0aW5nXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IGVycm9yQ2FsbGJhY2sgVGhlIG1ldGhvZCB0byBjYWxsIGlmIGFuIGVycm9yIG9jY3VycyBkdXJpbmcgZm9ybWF0dGluZ1xuXHQgKiBAcHJpdmF0ZVxuXHQgKi9cblx0cC5fZm9ybWF0SW1hZ2UgPSBmdW5jdGlvbiAoc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrKSB7XG5cdFx0dmFyIHRhZyA9IHRoaXMuX3RhZztcblx0XHR2YXIgVVJMID0gd2luZG93LlVSTCB8fCB3aW5kb3cud2Via2l0VVJMO1xuXG5cdFx0aWYgKCF0aGlzLl9wcmVmZXJYSFIpIHtcblxuXHRcdFx0Ly9kb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHRhZyk7XG5cdFx0fSBlbHNlIGlmIChVUkwpIHtcblx0XHRcdHZhciBvYmpVUkwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKHRoaXMuZ2V0UmVzdWx0KHRydWUpKTtcblx0XHRcdHRhZy5zcmMgPSBvYmpVUkw7XG5cblx0XHRcdHRhZy5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCB0aGlzLl9jbGVhblVwVVJMLCBmYWxzZSk7XG5cdFx0XHR0YWcuYWRkRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsIHRoaXMuX2NsZWFuVXBVUkwsIGZhbHNlKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGFnLnNyYyA9IHRoaXMuX2l0ZW0uc3JjO1xuXHRcdH1cblxuXHRcdGlmICh0YWcuY29tcGxldGUpIHtcblx0XHRcdHN1Y2Nlc3NDYWxsYmFjayh0YWcpO1xuXHRcdH0gZWxzZSB7XG4gICAgICAgICAgICB0YWcub25sb2FkID0gY3JlYXRlanMucHJveHkoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgc3VjY2Vzc0NhbGxiYWNrKHRoaXMuX3RhZyk7XG4gICAgICAgICAgICAgICAgdGFnLm9ubG9hZCA9IHRhZy5vbmVycm9yID0gbnVsbDtcbiAgICAgICAgICAgIH0sIHRoaXMpO1xuXG4gICAgICAgICAgICB0YWcub25lcnJvciA9IGNyZWF0ZWpzLnByb3h5KGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgZXJyb3JDYWxsYmFjayhuZXcgY3JlYXRlanMuRXJyb3JFdmVudCgnSU1BR0VfRk9STUFUJywgbnVsbCwgZXZlbnQpKTtcbiAgICAgICAgICAgICAgICB0YWcub25sb2FkID0gdGFnLm9uZXJyb3IgPSBudWxsO1xuICAgICAgICAgICAgfSwgdGhpcyk7XG5cdFx0fVxuXHR9O1xuXG5cdC8qKlxuXHQgKiBDbGVhbiB1cCB0aGUgT2JqZWN0VVJMLCB0aGUgdGFnIGlzIGRvbmUgd2l0aCBpdC4gTm90ZSB0aGF0IHRoaXMgZnVuY3Rpb24gaXMgcnVuXG5cdCAqIGFzIGFuIGV2ZW50IGxpc3RlbmVyIHdpdGhvdXQgYSBwcm94eS9jbG9zdXJlLCBhcyBpdCBkb2Vzbid0IHJlcXVpcmUgaXQgLSBzbyBkbyBub3Rcblx0ICogaW5jbHVkZSBhbnkgZnVuY3Rpb25hbGl0eSB0aGF0IHJlcXVpcmVzIHNjb3BlIHdpdGhvdXQgY2hhbmdpbmcgaXQuXG5cdCAqIEBtZXRob2QgX2NsZWFuVXBVUkxcblx0ICogQHBhcmFtIGV2ZW50XG5cdCAqIEBwcml2YXRlXG5cdCAqL1xuXHRwLl9jbGVhblVwVVJMID0gZnVuY3Rpb24gKGV2ZW50KSB7XG5cdFx0dmFyIFVSTCA9IHdpbmRvdy5VUkwgfHwgd2luZG93LndlYmtpdFVSTDtcblx0XHRVUkwucmV2b2tlT2JqZWN0VVJMKGV2ZW50LnRhcmdldC5zcmMpO1xuXHR9O1xuXG5cdGNyZWF0ZWpzLkltYWdlTG9hZGVyID0gY3JlYXRlanMucHJvbW90ZShJbWFnZUxvYWRlciwgXCJBYnN0cmFjdExvYWRlclwiKTtcblxufSgpKTtcblxuLy8jIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyNcbi8vIEphdmFTY3JpcHRMb2FkZXIuanNcbi8vIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXG5cbihmdW5jdGlvbiAoKSB7XG5cdFwidXNlIHN0cmljdFwiO1xuXG5cdC8vIGNvbnN0cnVjdG9yXG5cdC8qKlxuXHQgKiBBIGxvYWRlciBmb3IgSmF2YVNjcmlwdCBmaWxlcy5cblx0ICogQGNsYXNzIEphdmFTY3JpcHRMb2FkZXJcblx0ICogQHBhcmFtIHtMb2FkSXRlbXxPYmplY3R9IGxvYWRJdGVtXG5cdCAqIEBwYXJhbSB7Qm9vbGVhbn0gcHJlZmVyWEhSXG5cdCAqIEBleHRlbmRzIEFic3RyYWN0TG9hZGVyXG5cdCAqIEBjb25zdHJ1Y3RvclxuXHQgKi9cblx0ZnVuY3Rpb24gSmF2YVNjcmlwdExvYWRlcihsb2FkSXRlbSwgcHJlZmVyWEhSKSB7XG5cdFx0dGhpcy5BYnN0cmFjdExvYWRlcl9jb25zdHJ1Y3Rvcihsb2FkSXRlbSwgcHJlZmVyWEhSLCBjcmVhdGVqcy5UeXBlcy5KQVZBU0NSSVBUKTtcblxuXHRcdC8vIHB1YmxpYyBwcm9wZXJ0aWVzXG5cdFx0dGhpcy5yZXN1bHRGb3JtYXR0ZXIgPSB0aGlzLl9mb3JtYXRSZXN1bHQ7XG5cblx0XHQvLyBwcm90ZWN0ZWQgcHJvcGVydGllc1xuXHRcdHRoaXMuX3RhZ1NyY0F0dHJpYnV0ZSA9IFwic3JjXCI7XG5cdFx0dGhpcy5zZXRUYWcoY3JlYXRlanMuRWxlbWVudHMuc2NyaXB0KCkpO1xuXHR9O1xuXG5cdHZhciBwID0gY3JlYXRlanMuZXh0ZW5kKEphdmFTY3JpcHRMb2FkZXIsIGNyZWF0ZWpzLkFic3RyYWN0TG9hZGVyKTtcblx0dmFyIHMgPSBKYXZhU2NyaXB0TG9hZGVyO1xuXG5cdC8vIHN0YXRpYyBtZXRob2RzXG5cdC8qKlxuXHQgKiBEZXRlcm1pbmVzIGlmIHRoZSBsb2FkZXIgY2FuIGxvYWQgYSBzcGVjaWZpYyBpdGVtLiBUaGlzIGxvYWRlciBjYW4gb25seSBsb2FkIGl0ZW1zIHRoYXQgYXJlIG9mIHR5cGVcblx0ICoge3sjY3Jvc3NMaW5rIFwiVHlwZXMvSkFWQVNDUklQVDpwcm9wZXJ0eVwifX17ey9jcm9zc0xpbmt9fVxuXHQgKiBAbWV0aG9kIGNhbkxvYWRJdGVtXG5cdCAqIEBwYXJhbSB7TG9hZEl0ZW18T2JqZWN0fSBpdGVtIFRoZSBMb2FkSXRlbSB0aGF0IGEgTG9hZFF1ZXVlIGlzIHRyeWluZyB0byBsb2FkLlxuXHQgKiBAcmV0dXJucyB7Qm9vbGVhbn0gV2hldGhlciB0aGUgbG9hZGVyIGNhbiBsb2FkIHRoZSBpdGVtLlxuXHQgKiBAc3RhdGljXG5cdCAqL1xuXHRzLmNhbkxvYWRJdGVtID0gZnVuY3Rpb24gKGl0ZW0pIHtcblx0XHRyZXR1cm4gaXRlbS50eXBlID09IGNyZWF0ZWpzLlR5cGVzLkpBVkFTQ1JJUFQ7XG5cdH07XG5cblx0Ly8gcHJvdGVjdGVkIG1ldGhvZHNcblx0LyoqXG5cdCAqIFRoZSByZXN1bHQgZm9ybWF0dGVyIGZvciBKYXZhU2NyaXB0IGZpbGVzLlxuXHQgKiBAbWV0aG9kIF9mb3JtYXRSZXN1bHRcblx0ICogQHBhcmFtIHtBYnN0cmFjdExvYWRlcn0gbG9hZGVyXG5cdCAqIEByZXR1cm5zIHtIVE1MTGlua0VsZW1lbnR8SFRNTFN0eWxlRWxlbWVudH1cblx0ICogQHByaXZhdGVcblx0ICovXG5cdHAuX2Zvcm1hdFJlc3VsdCA9IGZ1bmN0aW9uIChsb2FkZXIpIHtcblx0XHR2YXIgdGFnID0gbG9hZGVyLmdldFRhZygpO1xuXHRcdGlmICh0aGlzLl9wcmVmZXJYSFIpIHtcblx0XHRcdHRhZy50ZXh0ID0gbG9hZGVyLmdldFJlc3VsdCh0cnVlKTtcblx0XHR9XG5cdFx0cmV0dXJuIHRhZztcblx0fTtcblxuXHRjcmVhdGVqcy5KYXZhU2NyaXB0TG9hZGVyID0gY3JlYXRlanMucHJvbW90ZShKYXZhU2NyaXB0TG9hZGVyLCBcIkFic3RyYWN0TG9hZGVyXCIpO1xuXG59KCkpO1xuXG4vLyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI1xuLy8gSlNPTkxvYWRlci5qc1xuLy8jIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyNcblxuKGZ1bmN0aW9uICgpIHtcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cblx0Ly8gY29uc3RydWN0b3Jcblx0LyoqXG5cdCAqIEEgbG9hZGVyIGZvciBKU09OIGZpbGVzLiBUbyBsb2FkIEpTT04gY3Jvc3MtZG9tYWluLCB1c2UgSlNPTlAgYW5kIHRoZSB7eyNjcm9zc0xpbmsgXCJKU09OUExvYWRlclwifX17ey9jcm9zc0xpbmt9fVxuXHQgKiBpbnN0ZWFkLiBUbyBsb2FkIEpTT04tZm9ybWF0dGVkIG1hbmlmZXN0cywgdXNlIHt7I2Nyb3NzTGluayBcIk1hbmlmZXN0TG9hZGVyXCJ9fXt7L2Nyb3NzTGlua319LCBhbmQgdG9cblx0ICogbG9hZCBFYXNlbEpTIFNwcml0ZVNoZWV0cywgdXNlIHt7I2Nyb3NzTGluayBcIlNwcml0ZVNoZWV0TG9hZGVyXCJ9fXt7L2Nyb3NzTGlua319LlxuXHQgKiBAY2xhc3MgSlNPTkxvYWRlclxuXHQgKiBAcGFyYW0ge0xvYWRJdGVtfE9iamVjdH0gbG9hZEl0ZW1cblx0ICogQGV4dGVuZHMgQWJzdHJhY3RMb2FkZXJcblx0ICogQGNvbnN0cnVjdG9yXG5cdCAqL1xuXHRmdW5jdGlvbiBKU09OTG9hZGVyKGxvYWRJdGVtKSB7XG5cdFx0dGhpcy5BYnN0cmFjdExvYWRlcl9jb25zdHJ1Y3Rvcihsb2FkSXRlbSwgdHJ1ZSwgY3JlYXRlanMuVHlwZXMuSlNPTik7XG5cblx0XHQvLyBwdWJsaWMgcHJvcGVydGllc1xuXHRcdHRoaXMucmVzdWx0Rm9ybWF0dGVyID0gdGhpcy5fZm9ybWF0UmVzdWx0O1xuXHR9O1xuXG5cdHZhciBwID0gY3JlYXRlanMuZXh0ZW5kKEpTT05Mb2FkZXIsIGNyZWF0ZWpzLkFic3RyYWN0TG9hZGVyKTtcblx0dmFyIHMgPSBKU09OTG9hZGVyO1xuXG5cdC8vIHN0YXRpYyBtZXRob2RzXG5cdC8qKlxuXHQgKiBEZXRlcm1pbmVzIGlmIHRoZSBsb2FkZXIgY2FuIGxvYWQgYSBzcGVjaWZpYyBpdGVtLiBUaGlzIGxvYWRlciBjYW4gb25seSBsb2FkIGl0ZW1zIHRoYXQgYXJlIG9mIHR5cGVcblx0ICoge3sjY3Jvc3NMaW5rIFwiVHlwZXMvSlNPTjpwcm9wZXJ0eVwifX17ey9jcm9zc0xpbmt9fS5cblx0ICogQG1ldGhvZCBjYW5Mb2FkSXRlbVxuXHQgKiBAcGFyYW0ge0xvYWRJdGVtfE9iamVjdH0gaXRlbSBUaGUgTG9hZEl0ZW0gdGhhdCBhIExvYWRRdWV1ZSBpcyB0cnlpbmcgdG8gbG9hZC5cblx0ICogQHJldHVybnMge0Jvb2xlYW59IFdoZXRoZXIgdGhlIGxvYWRlciBjYW4gbG9hZCB0aGUgaXRlbS5cblx0ICogQHN0YXRpY1xuXHQgKi9cblx0cy5jYW5Mb2FkSXRlbSA9IGZ1bmN0aW9uIChpdGVtKSB7XG5cdFx0cmV0dXJuIGl0ZW0udHlwZSA9PSBjcmVhdGVqcy5UeXBlcy5KU09OO1xuXHR9O1xuXG5cdC8vIHByb3RlY3RlZCBtZXRob2RzXG5cdC8qKlxuXHQgKiBUaGUgcmVzdWx0IGZvcm1hdHRlciBmb3IgSlNPTiBmaWxlcy5cblx0ICogQG1ldGhvZCBfZm9ybWF0UmVzdWx0XG5cdCAqIEBwYXJhbSB7QWJzdHJhY3RMb2FkZXJ9IGxvYWRlclxuXHQgKiBAcmV0dXJucyB7SFRNTExpbmtFbGVtZW50fEhUTUxTdHlsZUVsZW1lbnR9XG5cdCAqIEBwcml2YXRlXG5cdCAqL1xuXHRwLl9mb3JtYXRSZXN1bHQgPSBmdW5jdGlvbiAobG9hZGVyKSB7XG5cdFx0dmFyIGpzb24gPSBudWxsO1xuXHRcdHRyeSB7XG5cdFx0XHRqc29uID0gY3JlYXRlanMuRGF0YVV0aWxzLnBhcnNlSlNPTihsb2FkZXIuZ2V0UmVzdWx0KHRydWUpKTtcblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHR2YXIgZXZlbnQgPSBuZXcgY3JlYXRlanMuRXJyb3JFdmVudChcIkpTT05fRk9STUFUXCIsIG51bGwsIGUpO1xuXHRcdFx0dGhpcy5fc2VuZEVycm9yKGV2ZW50KTtcblx0XHRcdHJldHVybiBlO1xuXHRcdH1cblxuXHRcdHJldHVybiBqc29uO1xuXHR9O1xuXG5cdGNyZWF0ZWpzLkpTT05Mb2FkZXIgPSBjcmVhdGVqcy5wcm9tb3RlKEpTT05Mb2FkZXIsIFwiQWJzdHJhY3RMb2FkZXJcIik7XG5cbn0oKSk7XG5cbi8vIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXG4vLyBKU09OUExvYWRlci5qc1xuLy8jIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyNcblxuKGZ1bmN0aW9uICgpIHtcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cblx0Ly8gY29uc3RydWN0b3Jcblx0LyoqXG5cdCAqIEEgbG9hZGVyIGZvciBKU09OUCBmaWxlcywgd2hpY2ggYXJlIEpTT04tZm9ybWF0dGVkIHRleHQgZmlsZXMsIHdyYXBwZWQgaW4gYSBjYWxsYmFjay4gVG8gbG9hZCByZWd1bGFyIEpTT05cblx0ICogd2l0aG91dCBhIGNhbGxiYWNrIHVzZSB0aGUge3sjY3Jvc3NMaW5rIFwiSlNPTkxvYWRlclwifX17ey9jcm9zc0xpbmt9fSBpbnN0ZWFkLiBUbyBsb2FkIEpTT04tZm9ybWF0dGVkIG1hbmlmZXN0cyxcblx0ICogdXNlIHt7I2Nyb3NzTGluayBcIk1hbmlmZXN0TG9hZGVyXCJ9fXt7L2Nyb3NzTGlua319LCBhbmQgdG8gbG9hZCBFYXNlbEpTIFNwcml0ZVNoZWV0cywgdXNlXG5cdCAqIHt7I2Nyb3NzTGluayBcIlNwcml0ZVNoZWV0TG9hZGVyXCJ9fXt7L2Nyb3NzTGlua319LlxuXHQgKlxuXHQgKiBKU09OUCBpcyBhIGZvcm1hdCB0aGF0IHByb3ZpZGVzIGEgc29sdXRpb24gZm9yIGxvYWRpbmcgSlNPTiBmaWxlcyBjcm9zcy1kb21haW4gPGVtPndpdGhvdXQ8L2VtPiByZXF1aXJpbmcgQ09SUy5cblx0ICogSlNPTlAgZmlsZXMgYXJlIGxvYWRlZCBhcyBKYXZhU2NyaXB0LCBhbmQgdGhlIFwiY2FsbGJhY2tcIiBpcyBleGVjdXRlZCBvbmNlIHRoZXkgYXJlIGxvYWRlZC4gVGhlIGNhbGxiYWNrIGluIHRoZVxuXHQgKiBKU09OUCBtdXN0IG1hdGNoIHRoZSBjYWxsYmFjayBwYXNzZWQgdG8gdGhlIGxvYWRJdGVtLlxuXHQgKlxuXHQgKiA8aDQ+RXhhbXBsZSBKU09OUDwvaDQ+XG5cdCAqXG5cdCAqIFx0XHRjYWxsYmFja05hbWUoe1xuXHQgKiBcdFx0XHRcIm5hbWVcIjogXCJ2YWx1ZVwiLFxuXHQgKlx0IFx0XHRcIm51bVwiOiAzLFxuXHQgKlx0XHRcdFwib2JqXCI6IHsgXCJib29sXCI6dHJ1ZSB9XG5cdCAqIFx0XHR9KTtcblx0ICpcblx0ICogPGg0PkV4YW1wbGU8L2g0PlxuXHQgKlxuXHQgKiBcdFx0dmFyIGxvYWRJdGVtID0ge2lkOlwianNvblwiLCB0eXBlOlwianNvbnBcIiwgc3JjOlwiaHR0cDovL3NlcnZlci5jb20vdGV4dC5qc29uXCIsIGNhbGxiYWNrOlwiY2FsbGJhY2tOYW1lXCJ9XG5cdCAqIFx0XHR2YXIgcXVldWUgPSBuZXcgY3JlYXRlanMuTG9hZFF1ZXVlKCk7XG5cdCAqIFx0XHRxdWV1ZS5vbihcImNvbXBsZXRlXCIsIGhhbmRsZUNvbXBsZXRlKTtcblx0ICogXHRcdHF1ZXVlLmxvYWRJdGVtKGxvYWRJdGVtKTtcblx0ICpcblx0ICogXHRcdGZ1bmN0aW9uIGhhbmRsZUNvbXBsZXRlKGV2ZW50KSB9XG5cdCAqIFx0XHRcdHZhciBqc29uID0gcXVldWUuZ2V0UmVzdWx0KFwianNvblwiKTtcblx0ICogXHRcdFx0Y29uc29sZS5sb2coanNvbi5vYmouYm9vbCk7IC8vIHRydWVcblx0ICogXHRcdH1cblx0ICpcblx0ICogSlNPTlAgZmlsZXMgbG9hZGVkIGNvbmN1cnJlbnRseSByZXF1aXJlIGEgPGVtPnVuaXF1ZTwvZW0+IGNhbGxiYWNrLiBUbyBlbnN1cmUgSlNPTlAgZmlsZXMgYXJlIGxvYWRlZCBpbiBvcmRlcixcblx0ICogZWl0aGVyIHVzZSB0aGUge3sjY3Jvc3NMaW5rIFwiTG9hZFF1ZXVlL3NldE1heENvbm5lY3Rpb25zXCJ9fXt7L2Nyb3NzTGlua319IG1ldGhvZCAoc2V0IHRvIDEpLCBvciBzZXRcblx0ICoge3sjY3Jvc3NMaW5rIFwiTG9hZEl0ZW0vbWFpbnRhaW5PcmRlcjpwcm9wZXJ0eVwifX17ey9jcm9zc0xpbmt9fSBvbiBpdGVtcyB3aXRoIHRoZSBzYW1lIGNhbGxiYWNrLlxuXHQgKlxuXHQgKiBJbXBvcnRhbnQgbm90ZTogU29tZSBicm93c2VycyB3aWxsIHByZXZlbnQgSlNPTlAgZnJvbSBmaXJpbmcgdGhlIGNhbGxiYWNrIGlmIHRoZSBmaWxlIHdhcyBsb2FkZWQgYXMgSlNPTiwgYW5kIG5vdFxuXHQgKiBKYXZhU2NyaXB0LiBZb3UgbWF5IGhhdmUgdG8gaGF2ZSB5b3VyIHNlcnZlciBnaXZlIHlvdSBhIEphdmFTY3JpcHQgbWltZS10eXBlIGZvciB0aGlzIHRvIHdvcmsuXG5cdCAqXG5cdCAqIEBjbGFzcyBKU09OUExvYWRlclxuXHQgKiBAcGFyYW0ge0xvYWRJdGVtfE9iamVjdH0gbG9hZEl0ZW1cblx0ICogQGV4dGVuZHMgQWJzdHJhY3RMb2FkZXJcblx0ICogQGNvbnN0cnVjdG9yXG5cdCAqL1xuXHRmdW5jdGlvbiBKU09OUExvYWRlcihsb2FkSXRlbSkge1xuXHRcdHRoaXMuQWJzdHJhY3RMb2FkZXJfY29uc3RydWN0b3IobG9hZEl0ZW0sIGZhbHNlLCBjcmVhdGVqcy5UeXBlcy5KU09OUCk7XG5cdFx0dGhpcy5zZXRUYWcoY3JlYXRlanMuRWxlbWVudHMuc2NyaXB0KCkpO1xuXHRcdHRoaXMuZ2V0VGFnKCkudHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCI7XG5cdH07XG5cblx0dmFyIHAgPSBjcmVhdGVqcy5leHRlbmQoSlNPTlBMb2FkZXIsIGNyZWF0ZWpzLkFic3RyYWN0TG9hZGVyKTtcblx0dmFyIHMgPSBKU09OUExvYWRlcjtcblxuXG5cdC8vIHN0YXRpYyBtZXRob2RzXG5cdC8qKlxuXHQgKiBEZXRlcm1pbmVzIGlmIHRoZSBsb2FkZXIgY2FuIGxvYWQgYSBzcGVjaWZpYyBpdGVtLiBUaGlzIGxvYWRlciBjYW4gb25seSBsb2FkIGl0ZW1zIHRoYXQgYXJlIG9mIHR5cGVcblx0ICoge3sjY3Jvc3NMaW5rIFwiVHlwZXMvSlNPTlA6cHJvcGVydHlcIn19e3svY3Jvc3NMaW5rfX0uXG5cdCAqIEBtZXRob2QgY2FuTG9hZEl0ZW1cblx0ICogQHBhcmFtIHtMb2FkSXRlbXxPYmplY3R9IGl0ZW0gVGhlIExvYWRJdGVtIHRoYXQgYSBMb2FkUXVldWUgaXMgdHJ5aW5nIHRvIGxvYWQuXG5cdCAqIEByZXR1cm5zIHtCb29sZWFufSBXaGV0aGVyIHRoZSBsb2FkZXIgY2FuIGxvYWQgdGhlIGl0ZW0uXG5cdCAqIEBzdGF0aWNcblx0ICovXG5cdHMuY2FuTG9hZEl0ZW0gPSBmdW5jdGlvbiAoaXRlbSkge1xuXHRcdHJldHVybiBpdGVtLnR5cGUgPT0gY3JlYXRlanMuVHlwZXMuSlNPTlA7XG5cdH07XG5cblx0Ly8gcHVibGljIG1ldGhvZHNcblx0cC5jYW5jZWwgPSBmdW5jdGlvbiAoKSB7XG5cdFx0dGhpcy5BYnN0cmFjdExvYWRlcl9jYW5jZWwoKTtcblx0XHR0aGlzLl9kaXNwb3NlKCk7XG5cdH07XG5cblx0LyoqXG5cdCAqIExvYWRzIHRoZSBKU09OcCBmaWxlLiAgQmVjYXVzZSBvZiB0aGUgdW5pcXVlIGxvYWRpbmcgbmVlZHMgb2YgSlNPTnBcblx0ICogd2UgZG9uJ3QgdXNlIHRoZSBBYnN0cmFjdExvYWRlci5sb2FkKCkgbWV0aG9kLlxuXHQgKlxuXHQgKiBAbWV0aG9kIGxvYWRcblx0ICpcblx0ICovXG5cdHAubG9hZCA9IGZ1bmN0aW9uICgpIHtcblx0XHRpZiAodGhpcy5faXRlbS5jYWxsYmFjayA9PSBudWxsKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ2NhbGxiYWNrIGlzIHJlcXVpcmVkIGZvciBsb2FkaW5nIEpTT05QIHJlcXVlc3RzLicpO1xuXHRcdH1cblxuXHRcdC8vIFRPRE86IExvb2sgaW50byBjcmVhdGluZyBvdXIgb3duIGlGcmFtZSB0byBoYW5kbGUgdGhlIGxvYWRcblx0XHQvLyBJbiB0aGUgZmlyc3QgYXR0ZW1wdCwgRkYgZGlkIG5vdCBnZXQgdGhlIHJlc3VsdFxuXHRcdC8vICAgcmVzdWx0IGluc3RhbmNlb2YgT2JqZWN0IGRpZCBub3Qgd29yayBlaXRoZXJcblx0XHQvLyAgIHNvIHdlIHdvdWxkIG5lZWQgdG8gY2xvbmUgdGhlIHJlc3VsdC5cblx0XHRpZiAod2luZG93W3RoaXMuX2l0ZW0uY2FsbGJhY2tdICE9IG51bGwpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcblx0XHRcdFx0XCJKU09OUCBjYWxsYmFjayAnXCIgK1xuXHRcdFx0XHR0aGlzLl9pdGVtLmNhbGxiYWNrICtcblx0XHRcdFx0XCInIGFscmVhZHkgZXhpc3RzIG9uIHdpbmRvdy4gWW91IG5lZWQgdG8gc3BlY2lmeSBhIGRpZmZlcmVudCBjYWxsYmFjayBvciByZS1uYW1lIHRoZSBjdXJyZW50IG9uZS5cIik7XG5cdFx0fVxuXG5cdFx0d2luZG93W3RoaXMuX2l0ZW0uY2FsbGJhY2tdID0gY3JlYXRlanMucHJveHkodGhpcy5faGFuZGxlTG9hZCwgdGhpcyk7XG5cdFx0Y3JlYXRlanMuRG9tVXRpbHMuYXBwZW5kVG9Cb2R5KHRoaXMuX3RhZyk7XG5cblx0XHR0aGlzLl9sb2FkVGltZW91dCA9IHNldFRpbWVvdXQoY3JlYXRlanMucHJveHkodGhpcy5faGFuZGxlVGltZW91dCwgdGhpcyksIHRoaXMuX2l0ZW0ubG9hZFRpbWVvdXQpO1xuXG5cdFx0Ly8gTG9hZCB0aGUgdGFnXG5cdFx0dGhpcy5fdGFnLnNyYyA9IHRoaXMuX2l0ZW0uc3JjO1xuXHR9O1xuXG5cdC8vIHByaXZhdGUgbWV0aG9kc1xuXHQvKipcblx0ICogSGFuZGxlIHRoZSBKU09OUCBjYWxsYmFjaywgd2hpY2ggaXMgYSBwdWJsaWMgbWV0aG9kIGRlZmluZWQgb24gYHdpbmRvd2AuXG5cdCAqIEBtZXRob2QgX2hhbmRsZUxvYWRcblx0ICogQHBhcmFtIHtPYmplY3R9IGRhdGEgVGhlIGZvcm1hdHRlZCBKU09OIGRhdGEuXG5cdCAqIEBwcml2YXRlXG5cdCAqL1xuXHRwLl9oYW5kbGVMb2FkID0gZnVuY3Rpb24gKGRhdGEpIHtcblx0XHR0aGlzLl9yZXN1bHQgPSB0aGlzLl9yYXdSZXN1bHQgPSBkYXRhO1xuXHRcdHRoaXMuX3NlbmRDb21wbGV0ZSgpO1xuXG5cdFx0dGhpcy5fZGlzcG9zZSgpO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBUaGUgdGFnIHJlcXVlc3QgaGFzIG5vdCBsb2FkZWQgd2l0aGluIHRoZSB0aW1lIHNwZWNmaWVkIGluIGxvYWRUaW1lb3V0LlxuXHQgKiBAbWV0aG9kIF9oYW5kbGVFcnJvclxuXHQgKiBAcGFyYW0ge09iamVjdH0gZXZlbnQgVGhlIFhIUiBlcnJvciBldmVudC5cblx0ICogQHByaXZhdGVcblx0ICovXG5cdHAuX2hhbmRsZVRpbWVvdXQgPSBmdW5jdGlvbiAoKSB7XG5cdFx0dGhpcy5fZGlzcG9zZSgpO1xuXHRcdHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgY3JlYXRlanMuRXJyb3JFdmVudChcInRpbWVvdXRcIikpO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBDbGVhbiB1cCB0aGUgSlNPTlAgbG9hZC4gVGhpcyBjbGVhcnMgb3V0IHRoZSBjYWxsYmFjayBhbmQgc2NyaXB0IHRhZyB0aGF0IHRoaXMgbG9hZGVyIGNyZWF0ZXMuXG5cdCAqIEBtZXRob2QgX2Rpc3Bvc2Vcblx0ICogQHByaXZhdGVcblx0ICovXG5cdHAuX2Rpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XG5cdFx0Y3JlYXRlanMuRG9tVXRpbHMucmVtb3ZlQ2hpbGQodGhpcy5fdGFnKTtcblx0XHRkZWxldGUgd2luZG93W3RoaXMuX2l0ZW0uY2FsbGJhY2tdO1xuXG5cdFx0Y2xlYXJUaW1lb3V0KHRoaXMuX2xvYWRUaW1lb3V0KTtcblx0fTtcblxuXHRjcmVhdGVqcy5KU09OUExvYWRlciA9IGNyZWF0ZWpzLnByb21vdGUoSlNPTlBMb2FkZXIsIFwiQWJzdHJhY3RMb2FkZXJcIik7XG5cbn0oKSk7XG5cbi8vIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXG4vLyBNYW5pZmVzdExvYWRlci5qc1xuLy8jIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyNcblxuKGZ1bmN0aW9uICgpIHtcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cblx0Ly8gY29uc3RydWN0b3Jcblx0LyoqXG5cdCAqIEEgbG9hZGVyIGZvciBKU09OIG1hbmlmZXN0cy4gSXRlbXMgaW5zaWRlIHRoZSBtYW5pZmVzdCBhcmUgbG9hZGVkIGJlZm9yZSB0aGUgbG9hZGVyIGNvbXBsZXRlcy4gVG8gbG9hZCBtYW5pZmVzdHNcblx0ICogdXNpbmcgSlNPTlAsIHNwZWNpZnkgYSB7eyNjcm9zc0xpbmsgXCJMb2FkSXRlbS9jYWxsYmFjazpwcm9wZXJ0eVwifX17ey9jcm9zc0xpbmt9fSBhcyBwYXJ0IG9mIHRoZVxuXHQgKiB7eyNjcm9zc0xpbmsgXCJMb2FkSXRlbVwifX17ey9jcm9zc0xpbmt9fS5cblx0ICpcblx0ICogVGhlIGxpc3Qgb2YgZmlsZXMgaW4gdGhlIG1hbmlmZXN0IG11c3QgYmUgZGVmaW5lZCBvbiB0aGUgdG9wLWxldmVsIEpTT04gb2JqZWN0IGluIGEgYG1hbmlmZXN0YCBwcm9wZXJ0eS4gVGhpc1xuXHQgKiBleGFtcGxlIHNob3dzIGEgc2FtcGxlIG1hbmlmZXN0IGRlZmluaXRpb24sIGFzIHdlbGwgYXMgaG93IHRvIHRvIGluY2x1ZGUgYSBzdWItbWFuaWZlc3QuXG5cdCAqXG5cdCAqIFx0XHR7XG5cdCAqIFx0XHRcdFwicGF0aFwiOiBcImFzc2V0cy9cIixcblx0ICpcdCBcdCAgICBcIm1hbmlmZXN0XCI6IFtcblx0ICpcdFx0XHRcdFwiaW1hZ2UucG5nXCIsXG5cdCAqXHRcdFx0XHR7XCJzcmNcIjogXCJpbWFnZTIucG5nXCIsIFwiaWRcIjpcImltYWdlMlwifSxcblx0ICpcdFx0XHRcdHtcInNyY1wiOiBcInN1Yi1tYW5pZmVzdC5qc29uXCIsIFwidHlwZVwiOlwibWFuaWZlc3RcIiwgXCJjYWxsYmFja1wiOlwianNvbkNhbGxiYWNrXCJ9XG5cdCAqXHQgXHQgICAgXVxuXHQgKlx0IFx0fVxuXHQgKlxuXHQgKiBXaGVuIGEgTWFuaWZlc3RMb2FkZXIgaGFzIGNvbXBsZXRlZCBsb2FkaW5nLCB0aGUgcGFyZW50IGxvYWRlciAodXN1YWxseSBhIHt7I2Nyb3NzTGluayBcIkxvYWRRdWV1ZVwifX17ey9jcm9zc0xpbmt9fSxcblx0ICogYnV0IGNvdWxkIGFsc28gYmUgYW5vdGhlciBNYW5pZmVzdExvYWRlcikgd2lsbCBpbmhlcml0IGFsbCB0aGUgbG9hZGVkIGl0ZW1zLCBzbyB5b3UgY2FuIGFjY2VzcyB0aGVtIGRpcmVjdGx5LlxuXHQgKlxuXHQgKiBOb3RlIHRoYXQgdGhlIHt7I2Nyb3NzTGluayBcIkpTT05Mb2FkZXJcIn19e3svY3Jvc3NMaW5rfX0gYW5kIHt7I2Nyb3NzTGluayBcIkpTT05QTG9hZGVyXCJ9fXt7L2Nyb3NzTGlua319IGFyZVxuXHQgKiBoaWdoZXIgcHJpb3JpdHkgbG9hZGVycywgc28gbWFuaWZlc3RzIDxzdHJvbmc+bXVzdDwvc3Ryb25nPiBzZXQgdGhlIHt7I2Nyb3NzTGluayBcIkxvYWRJdGVtXCJ9fXt7L2Nyb3NzTGlua319XG5cdCAqIHt7I2Nyb3NzTGluayBcIkxvYWRJdGVtL3R5cGU6cHJvcGVydHlcIn19e3svY3Jvc3NMaW5rfX0gcHJvcGVydHkgdG8ge3sjY3Jvc3NMaW5rIFwiVHlwZXMvTUFOSUZFU1Q6cHJvcGVydHlcIn19e3svY3Jvc3NMaW5rfX0uXG5cdCAqXG5cdCAqIEFkZGl0aW9uYWxseSwgc29tZSBicm93c2VycyByZXF1aXJlIHRoZSBzZXJ2ZXIgdG8gc2VydmUgYSBKYXZhU2NyaXB0IG1pbWUtdHlwZSBmb3IgSlNPTlAsIHNvIGl0IG1heSBub3Qgd29yayBpblxuXHQgKiBzb21lIGNvbmRpdGlvbnMuXG5cdCAqIEBjbGFzcyBNYW5pZmVzdExvYWRlclxuXHQgKiBAcGFyYW0ge0xvYWRJdGVtfE9iamVjdH0gbG9hZEl0ZW1cblx0ICogQGV4dGVuZHMgQWJzdHJhY3RMb2FkZXJcblx0ICogQGNvbnN0cnVjdG9yXG5cdCAqL1xuXHRmdW5jdGlvbiBNYW5pZmVzdExvYWRlcihsb2FkSXRlbSwgcHJlZmVyWEhSKSB7XG5cdFx0dGhpcy5BYnN0cmFjdExvYWRlcl9jb25zdHJ1Y3Rvcihsb2FkSXRlbSwgcHJlZmVyWEhSLCBjcmVhdGVqcy5UeXBlcy5NQU5JRkVTVCk7XG5cblx0Ly8gUHVibGljIFByb3BlcnRpZXNcblx0XHQvKipcblx0XHQgKiBBbiBhcnJheSBvZiB0aGUgcGx1Z2lucyByZWdpc3RlcmVkIHVzaW5nIHt7I2Nyb3NzTGluayBcIkxvYWRRdWV1ZS9pbnN0YWxsUGx1Z2luXCJ9fXt7L2Nyb3NzTGlua319LFxuXHRcdCAqIHVzZWQgdG8gcGFzcyBwbHVnaW5zIHRvIG5ldyBMb2FkUXVldWVzIHRoYXQgbWF5IGJlIGNyZWF0ZWQuXG5cdFx0ICogQHByb3BlcnR5IF9wbHVnaW5zXG5cdFx0ICogQHR5cGUge0FycmF5fVxuXHRcdCAqIEBwcml2YXRlXG5cdFx0ICogQHNpbmNlIDAuNi4xXG5cdFx0ICovXG5cdFx0dGhpcy5wbHVnaW5zID0gbnVsbDtcblxuXG5cdC8vIFByb3RlY3RlZCBQcm9wZXJ0aWVzXG5cdFx0LyoqXG5cdFx0ICogQW4gaW50ZXJuYWwge3sjY3Jvc3NMaW5rIFwiTG9hZFF1ZXVlXCJ9fXt7L2Nyb3NzTGlua319IHRoYXQgbG9hZHMgdGhlIGNvbnRlbnRzIG9mIHRoZSBtYW5pZmVzdC5cblx0XHQgKiBAcHJvcGVydHkgX21hbmlmZXN0UXVldWVcblx0XHQgKiBAdHlwZSB7TG9hZFF1ZXVlfVxuXHRcdCAqIEBwcml2YXRlXG5cdFx0ICovXG5cdFx0dGhpcy5fbWFuaWZlc3RRdWV1ZSA9IG51bGw7XG5cdH07XG5cblx0dmFyIHAgPSBjcmVhdGVqcy5leHRlbmQoTWFuaWZlc3RMb2FkZXIsIGNyZWF0ZWpzLkFic3RyYWN0TG9hZGVyKTtcblx0dmFyIHMgPSBNYW5pZmVzdExvYWRlcjtcblxuXHQvLyBzdGF0aWMgcHJvcGVydGllc1xuXHQvKipcblx0ICogVGhlIGFtb3VudCBvZiBwcm9ncmVzcyB0aGF0IHRoZSBtYW5pZmVzdCBpdHNlbGYgdGFrZXMgdXAuXG5cdCAqIEBwcm9wZXJ0eSBNQU5JRkVTVF9QUk9HUkVTU1xuXHQgKiBAdHlwZSB7bnVtYmVyfVxuXHQgKiBAZGVmYXVsdCAwLjI1ICgyNSUpXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBzdGF0aWNcblx0ICovXG5cdHMuTUFOSUZFU1RfUFJPR1JFU1MgPSAwLjI1O1xuXG5cdC8vIHN0YXRpYyBtZXRob2RzXG5cdC8qKlxuXHQgKiBEZXRlcm1pbmVzIGlmIHRoZSBsb2FkZXIgY2FuIGxvYWQgYSBzcGVjaWZpYyBpdGVtLiBUaGlzIGxvYWRlciBjYW4gb25seSBsb2FkIGl0ZW1zIHRoYXQgYXJlIG9mIHR5cGVcblx0ICoge3sjY3Jvc3NMaW5rIFwiVHlwZXMvTUFOSUZFU1Q6cHJvcGVydHlcIn19e3svY3Jvc3NMaW5rfX1cblx0ICogQG1ldGhvZCBjYW5Mb2FkSXRlbVxuXHQgKiBAcGFyYW0ge0xvYWRJdGVtfE9iamVjdH0gaXRlbSBUaGUgTG9hZEl0ZW0gdGhhdCBhIExvYWRRdWV1ZSBpcyB0cnlpbmcgdG8gbG9hZC5cblx0ICogQHJldHVybnMge0Jvb2xlYW59IFdoZXRoZXIgdGhlIGxvYWRlciBjYW4gbG9hZCB0aGUgaXRlbS5cblx0ICogQHN0YXRpY1xuXHQgKi9cblx0cy5jYW5Mb2FkSXRlbSA9IGZ1bmN0aW9uIChpdGVtKSB7XG5cdFx0cmV0dXJuIGl0ZW0udHlwZSA9PSBjcmVhdGVqcy5UeXBlcy5NQU5JRkVTVDtcblx0fTtcblxuXHQvLyBwdWJsaWMgbWV0aG9kc1xuXHRwLmxvYWQgPSBmdW5jdGlvbiAoKSB7XG5cdFx0dGhpcy5BYnN0cmFjdExvYWRlcl9sb2FkKCk7XG5cdH07XG5cblx0Ly8gcHJvdGVjdGVkIG1ldGhvZHNcblx0cC5fY3JlYXRlUmVxdWVzdCA9IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBjYWxsYmFjayA9IHRoaXMuX2l0ZW0uY2FsbGJhY2s7XG5cdFx0aWYgKGNhbGxiYWNrICE9IG51bGwpIHtcblx0XHRcdHRoaXMuX3JlcXVlc3QgPSBuZXcgY3JlYXRlanMuSlNPTlBMb2FkZXIodGhpcy5faXRlbSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMuX3JlcXVlc3QgPSBuZXcgY3JlYXRlanMuSlNPTkxvYWRlcih0aGlzLl9pdGVtKTtcblx0XHR9XG5cdH07XG5cblx0cC5oYW5kbGVFdmVudCA9IGZ1bmN0aW9uIChldmVudCkge1xuXHRcdHN3aXRjaCAoZXZlbnQudHlwZSkge1xuXHRcdFx0Y2FzZSBcImNvbXBsZXRlXCI6XG5cdFx0XHRcdHRoaXMuX3Jhd1Jlc3VsdCA9IGV2ZW50LnRhcmdldC5nZXRSZXN1bHQodHJ1ZSk7XG5cdFx0XHRcdHRoaXMuX3Jlc3VsdCA9IGV2ZW50LnRhcmdldC5nZXRSZXN1bHQoKTtcblx0XHRcdFx0dGhpcy5fc2VuZFByb2dyZXNzKHMuTUFOSUZFU1RfUFJPR1JFU1MpO1xuXHRcdFx0XHR0aGlzLl9sb2FkTWFuaWZlc3QodGhpcy5fcmVzdWx0KTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0Y2FzZSBcInByb2dyZXNzXCI6XG5cdFx0XHRcdGV2ZW50LmxvYWRlZCAqPSBzLk1BTklGRVNUX1BST0dSRVNTO1xuXHRcdFx0XHR0aGlzLnByb2dyZXNzID0gZXZlbnQubG9hZGVkIC8gZXZlbnQudG90YWw7XG5cdFx0XHRcdGlmIChpc05hTih0aGlzLnByb2dyZXNzKSB8fCB0aGlzLnByb2dyZXNzID09IEluZmluaXR5KSB7IHRoaXMucHJvZ3Jlc3MgPSAwOyB9XG5cdFx0XHRcdHRoaXMuX3NlbmRQcm9ncmVzcyhldmVudCk7XG5cdFx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0dGhpcy5BYnN0cmFjdExvYWRlcl9oYW5kbGVFdmVudChldmVudCk7XG5cdH07XG5cblx0cC5kZXN0cm95ID0gZnVuY3Rpb24oKSB7XG5cdFx0dGhpcy5BYnN0cmFjdExvYWRlcl9kZXN0cm95KCk7XG5cdFx0dGhpcy5fbWFuaWZlc3RRdWV1ZS5jbG9zZSgpO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBDcmVhdGUgYW5kIGxvYWQgdGhlIG1hbmlmZXN0IGl0ZW1zIG9uY2UgdGhlIGFjdHVhbCBtYW5pZmVzdCBoYXMgYmVlbiBsb2FkZWQuXG5cdCAqIEBtZXRob2QgX2xvYWRNYW5pZmVzdFxuXHQgKiBAcGFyYW0ge09iamVjdH0ganNvblxuXHQgKiBAcHJpdmF0ZVxuXHQgKi9cblx0cC5fbG9hZE1hbmlmZXN0ID0gZnVuY3Rpb24gKGpzb24pIHtcblx0XHRpZiAoanNvbiAmJiBqc29uLm1hbmlmZXN0KSB7XG5cdFx0XHR2YXIgcXVldWUgPSB0aGlzLl9tYW5pZmVzdFF1ZXVlID0gbmV3IGNyZWF0ZWpzLkxvYWRRdWV1ZSh0aGlzLl9wcmVmZXJYSFIpO1xuXHRcdFx0cXVldWUub24oXCJmaWxlbG9hZFwiLCB0aGlzLl9oYW5kbGVNYW5pZmVzdEZpbGVMb2FkLCB0aGlzKTtcblx0XHRcdHF1ZXVlLm9uKFwicHJvZ3Jlc3NcIiwgdGhpcy5faGFuZGxlTWFuaWZlc3RQcm9ncmVzcywgdGhpcyk7XG5cdFx0XHRxdWV1ZS5vbihcImNvbXBsZXRlXCIsIHRoaXMuX2hhbmRsZU1hbmlmZXN0Q29tcGxldGUsIHRoaXMsIHRydWUpO1xuXHRcdFx0cXVldWUub24oXCJlcnJvclwiLCB0aGlzLl9oYW5kbGVNYW5pZmVzdEVycm9yLCB0aGlzLCB0cnVlKTtcblx0XHRcdGZvcih2YXIgaSA9IDAsIGwgPSB0aGlzLnBsdWdpbnMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XHQvLyBjb25zZXJ2ZSBvcmRlciBvZiBwbHVnaW5zXG5cdFx0XHRcdHF1ZXVlLmluc3RhbGxQbHVnaW4odGhpcy5wbHVnaW5zW2ldKTtcblx0XHRcdH1cblx0XHRcdHF1ZXVlLmxvYWRNYW5pZmVzdChqc29uKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5fc2VuZENvbXBsZXRlKCk7XG5cdFx0fVxuXHR9O1xuXG5cdC8qKlxuXHQgKiBBbiBpdGVtIGZyb20gdGhlIHt7I2Nyb3NzTGluayBcIl9tYW5pZmVzdFF1ZXVlOnByb3BlcnR5XCJ9fXt7L2Nyb3NzTGlua319IGhhcyBjb21wbGV0ZWQuXG5cdCAqIEBtZXRob2QgX2hhbmRsZU1hbmlmZXN0RmlsZUxvYWRcblx0ICogQHBhcmFtIHtFdmVudH0gZXZlbnRcblx0ICogQHByaXZhdGVcblx0ICovXG5cdHAuX2hhbmRsZU1hbmlmZXN0RmlsZUxvYWQgPSBmdW5jdGlvbiAoZXZlbnQpIHtcblx0XHRldmVudC50YXJnZXQgPSBudWxsO1xuXHRcdHRoaXMuZGlzcGF0Y2hFdmVudChldmVudCk7XG5cdH07XG5cblx0LyoqXG5cdCAqIFRoZSBtYW5pZmVzdCBoYXMgY29tcGxldGVkIGxvYWRpbmcuIFRoaXMgdHJpZ2dlcnMgdGhlIHt7I2Nyb3NzTGluayBcIkFic3RyYWN0TG9hZGVyL2NvbXBsZXRlOmV2ZW50XCJ9fXt7L2Nyb3NzTGlua319XG5cdCAqIHt7I2Nyb3NzTGluayBcIkV2ZW50XCJ9fXt7L2Nyb3NzTGlua319IGZyb20gdGhlIE1hbmlmZXN0TG9hZGVyLlxuXHQgKiBAbWV0aG9kIF9oYW5kbGVNYW5pZmVzdENvbXBsZXRlXG5cdCAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50XG5cdCAqIEBwcml2YXRlXG5cdCAqL1xuXHRwLl9oYW5kbGVNYW5pZmVzdENvbXBsZXRlID0gZnVuY3Rpb24gKGV2ZW50KSB7XG5cdFx0dGhpcy5fbG9hZGVkSXRlbXMgPSB0aGlzLl9tYW5pZmVzdFF1ZXVlLmdldEl0ZW1zKHRydWUpO1xuXHRcdHRoaXMuX3NlbmRDb21wbGV0ZSgpO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBUaGUgbWFuaWZlc3QgaGFzIHJlcG9ydGVkIHByb2dyZXNzLlxuXHQgKiBAbWV0aG9kIF9oYW5kbGVNYW5pZmVzdFByb2dyZXNzXG5cdCAqIEBwYXJhbSB7UHJvZ3Jlc3NFdmVudH0gZXZlbnRcblx0ICogQHByaXZhdGVcblx0ICovXG5cdHAuX2hhbmRsZU1hbmlmZXN0UHJvZ3Jlc3MgPSBmdW5jdGlvbiAoZXZlbnQpIHtcblx0XHR0aGlzLnByb2dyZXNzID0gZXZlbnQucHJvZ3Jlc3MgKiAoMSAtIHMuTUFOSUZFU1RfUFJPR1JFU1MpICsgcy5NQU5JRkVTVF9QUk9HUkVTUztcblx0XHR0aGlzLl9zZW5kUHJvZ3Jlc3ModGhpcy5wcm9ncmVzcyk7XG5cdH07XG5cblx0LyoqXG5cdCAqIFRoZSBtYW5pZmVzdCBoYXMgcmVwb3J0ZWQgYW4gZXJyb3Igd2l0aCBvbmUgb2YgdGhlIGZpbGVzLlxuXHQgKiBAbWV0aG9kIF9oYW5kbGVNYW5pZmVzdEVycm9yXG5cdCAqIEBwYXJhbSB7RXJyb3JFdmVudH0gZXZlbnRcblx0ICogQHByaXZhdGVcblx0ICovXG5cdHAuX2hhbmRsZU1hbmlmZXN0RXJyb3IgPSBmdW5jdGlvbiAoZXZlbnQpIHtcblx0XHR2YXIgbmV3RXZlbnQgPSBuZXcgY3JlYXRlanMuRXZlbnQoXCJmaWxlZXJyb3JcIik7XG5cdFx0bmV3RXZlbnQuaXRlbSA9IGV2ZW50LmRhdGE7XG5cdFx0dGhpcy5kaXNwYXRjaEV2ZW50KG5ld0V2ZW50KTtcblx0fTtcblxuXHRjcmVhdGVqcy5NYW5pZmVzdExvYWRlciA9IGNyZWF0ZWpzLnByb21vdGUoTWFuaWZlc3RMb2FkZXIsIFwiQWJzdHJhY3RMb2FkZXJcIik7XG5cbn0oKSk7XG5cbi8vIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXG4vLyBTb3VuZExvYWRlci5qc1xuLy8jIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyNcblxuKGZ1bmN0aW9uICgpIHtcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cblx0Ly8gY29uc3RydWN0b3Jcblx0LyoqXG5cdCAqIEEgbG9hZGVyIGZvciBIVE1MIGF1ZGlvIGZpbGVzLiBQcmVsb2FkSlMgY2FuIG5vdCBsb2FkIFdlYkF1ZGlvIGZpbGVzLCBhcyBhIFdlYkF1ZGlvIGNvbnRleHQgaXMgcmVxdWlyZWQsIHdoaWNoXG5cdCAqIHNob3VsZCBiZSBjcmVhdGVkIGJ5IGVpdGhlciBhIGxpYnJhcnkgcGxheWluZyB0aGUgc291bmQgKHN1Y2ggYXMgPGEgaHJlZj1cImh0dHA6Ly9zb3VuZGpzLmNvbVwiPlNvdW5kSlM8L2E+LCBvciBhblxuXHQgKiBleHRlcm5hbCBmcmFtZXdvcmsgdGhhdCBoYW5kbGVzIGF1ZGlvIHBsYXliYWNrLiBUbyBsb2FkIGNvbnRlbnQgdGhhdCBjYW4gYmUgcGxheWVkIGJ5IFdlYkF1ZGlvLCB1c2UgdGhlXG5cdCAqIHt7I2Nyb3NzTGluayBcIkJpbmFyeUxvYWRlclwifX17ey9jcm9zc0xpbmt9fSwgYW5kIGhhbmRsZSB0aGUgYXVkaW8gY29udGV4dCBkZWNvZGluZyBtYW51YWxseS5cblx0ICogQGNsYXNzIFNvdW5kTG9hZGVyXG5cdCAqIEBwYXJhbSB7TG9hZEl0ZW18T2JqZWN0fSBsb2FkSXRlbVxuXHQgKiBAcGFyYW0ge0Jvb2xlYW59IHByZWZlclhIUlxuXHQgKiBAZXh0ZW5kcyBBYnN0cmFjdE1lZGlhTG9hZGVyXG5cdCAqIEBjb25zdHJ1Y3RvclxuXHQgKi9cblx0ZnVuY3Rpb24gU291bmRMb2FkZXIobG9hZEl0ZW0sIHByZWZlclhIUikge1xuXHRcdHRoaXMuQWJzdHJhY3RNZWRpYUxvYWRlcl9jb25zdHJ1Y3Rvcihsb2FkSXRlbSwgcHJlZmVyWEhSLCBjcmVhdGVqcy5UeXBlcy5TT1VORCk7XG5cblx0XHQvLyBwcm90ZWN0ZWQgcHJvcGVydGllc1xuXHRcdGlmIChjcmVhdGVqcy5Eb21VdGlscy5pc0F1ZGlvVGFnKGxvYWRJdGVtKSkge1xuXHRcdFx0dGhpcy5fdGFnID0gbG9hZEl0ZW07XG5cdFx0fSBlbHNlIGlmIChjcmVhdGVqcy5Eb21VdGlscy5pc0F1ZGlvVGFnKGxvYWRJdGVtLnNyYykpIHtcblx0XHRcdHRoaXMuX3RhZyA9IGxvYWRJdGVtO1xuXHRcdH0gZWxzZSBpZiAoY3JlYXRlanMuRG9tVXRpbHMuaXNBdWRpb1RhZyhsb2FkSXRlbS50YWcpKSB7XG5cdFx0XHR0aGlzLl90YWcgPSBjcmVhdGVqcy5Eb21VdGlscy5pc0F1ZGlvVGFnKGxvYWRJdGVtKSA/IGxvYWRJdGVtIDogbG9hZEl0ZW0uc3JjO1xuXHRcdH1cblxuXHRcdGlmICh0aGlzLl90YWcgIT0gbnVsbCkge1xuXHRcdFx0dGhpcy5fcHJlZmVyWEhSID0gZmFsc2U7XG5cdFx0fVxuXHR9O1xuXG5cdHZhciBwID0gY3JlYXRlanMuZXh0ZW5kKFNvdW5kTG9hZGVyLCBjcmVhdGVqcy5BYnN0cmFjdE1lZGlhTG9hZGVyKTtcblx0dmFyIHMgPSBTb3VuZExvYWRlcjtcblxuXHQvLyBzdGF0aWMgbWV0aG9kc1xuXHQvKipcblx0ICogRGV0ZXJtaW5lcyBpZiB0aGUgbG9hZGVyIGNhbiBsb2FkIGEgc3BlY2lmaWMgaXRlbS4gVGhpcyBsb2FkZXIgY2FuIG9ubHkgbG9hZCBpdGVtcyB0aGF0IGFyZSBvZiB0eXBlXG5cdCAqIHt7I2Nyb3NzTGluayBcIlR5cGVzL1NPVU5EOnByb3BlcnR5XCJ9fXt7L2Nyb3NzTGlua319LlxuXHQgKiBAbWV0aG9kIGNhbkxvYWRJdGVtXG5cdCAqIEBwYXJhbSB7TG9hZEl0ZW18T2JqZWN0fSBpdGVtIFRoZSBMb2FkSXRlbSB0aGF0IGEgTG9hZFF1ZXVlIGlzIHRyeWluZyB0byBsb2FkLlxuXHQgKiBAcmV0dXJucyB7Qm9vbGVhbn0gV2hldGhlciB0aGUgbG9hZGVyIGNhbiBsb2FkIHRoZSBpdGVtLlxuXHQgKiBAc3RhdGljXG5cdCAqL1xuXHRzLmNhbkxvYWRJdGVtID0gZnVuY3Rpb24gKGl0ZW0pIHtcblx0XHRyZXR1cm4gaXRlbS50eXBlID09IGNyZWF0ZWpzLlR5cGVzLlNPVU5EO1xuXHR9O1xuXG5cdC8vIHByb3RlY3RlZCBtZXRob2RzXG5cdHAuX2NyZWF0ZVRhZyA9IGZ1bmN0aW9uIChzcmMpIHtcblx0XHR2YXIgdGFnID0gY3JlYXRlanMuRWxlbWVudHMuYXVkaW8oKTtcblx0XHR0YWcuYXV0b3BsYXkgPSBmYWxzZTtcblx0XHR0YWcucHJlbG9hZCA9IFwibm9uZVwiO1xuXG5cdFx0Ly9MTTogRmlyZWZveCBmYWlscyB3aGVuIHRoaXMgdGhlIHByZWxvYWQ9XCJub25lXCIgZm9yIG90aGVyIHRhZ3MsIGJ1dCBpdCBuZWVkcyB0byBiZSBcIm5vbmVcIiB0byBlbnN1cmUgUHJlbG9hZEpTIHdvcmtzLlxuXHRcdHRhZy5zcmMgPSBzcmM7XG5cdFx0cmV0dXJuIHRhZztcblx0fTtcblxuXHRjcmVhdGVqcy5Tb3VuZExvYWRlciA9IGNyZWF0ZWpzLnByb21vdGUoU291bmRMb2FkZXIsIFwiQWJzdHJhY3RNZWRpYUxvYWRlclwiKTtcblxufSgpKTtcblxuLy8jIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyNcbi8vIFZpZGVvTG9hZGVyLmpzXG4vLyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI1xuXG4oZnVuY3Rpb24gKCkge1xuXHRcInVzZSBzdHJpY3RcIjtcblxuXHQvLyBjb25zdHJ1Y3RvclxuXHQvKipcblx0ICogQSBsb2FkZXIgZm9yIHZpZGVvIGZpbGVzLlxuXHQgKiBAY2xhc3MgVmlkZW9Mb2FkZXJcblx0ICogQHBhcmFtIHtMb2FkSXRlbXxPYmplY3R9IGxvYWRJdGVtXG5cdCAqIEBwYXJhbSB7Qm9vbGVhbn0gcHJlZmVyWEhSXG5cdCAqIEBleHRlbmRzIEFic3RyYWN0TWVkaWFMb2FkZXJcblx0ICogQGNvbnN0cnVjdG9yXG5cdCAqL1xuXHRmdW5jdGlvbiBWaWRlb0xvYWRlcihsb2FkSXRlbSwgcHJlZmVyWEhSKSB7XG5cdFx0dGhpcy5BYnN0cmFjdE1lZGlhTG9hZGVyX2NvbnN0cnVjdG9yKGxvYWRJdGVtLCBwcmVmZXJYSFIsIGNyZWF0ZWpzLlR5cGVzLlZJREVPKTtcblxuXHRcdGlmIChjcmVhdGVqcy5Eb21VdGlscy5pc1ZpZGVvVGFnKGxvYWRJdGVtKSB8fCBjcmVhdGVqcy5Eb21VdGlscy5pc1ZpZGVvVGFnKGxvYWRJdGVtLnNyYykpIHtcblx0XHRcdHRoaXMuc2V0VGFnKGNyZWF0ZWpzLkRvbVV0aWxzLmlzVmlkZW9UYWcobG9hZEl0ZW0pP2xvYWRJdGVtOmxvYWRJdGVtLnNyYyk7XG5cblx0XHRcdC8vIFdlIGNhbid0IHVzZSBYSFIgZm9yIGEgdGFnIHRoYXQncyBwYXNzZWQgaW4uXG5cdFx0XHR0aGlzLl9wcmVmZXJYSFIgPSBmYWxzZTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5zZXRUYWcodGhpcy5fY3JlYXRlVGFnKCkpO1xuXHRcdH1cblx0fTtcblxuXHR2YXIgcCA9IGNyZWF0ZWpzLmV4dGVuZChWaWRlb0xvYWRlciwgY3JlYXRlanMuQWJzdHJhY3RNZWRpYUxvYWRlcik7XG5cdHZhciBzID0gVmlkZW9Mb2FkZXI7XG5cblx0LyoqXG5cdCAqIENyZWF0ZSBhIG5ldyB2aWRlbyB0YWdcblx0ICpcblx0ICogQHJldHVybnMge0hUTUxFbGVtZW50fVxuXHQgKiBAcHJpdmF0ZVxuXHQgKi9cblx0cC5fY3JlYXRlVGFnID0gZnVuY3Rpb24gKCkge1xuXHRcdHJldHVybiBjcmVhdGVqcy5FbGVtZW50cy52aWRlbygpO1xuXHR9O1xuXG5cdC8vIHN0YXRpYyBtZXRob2RzXG5cdC8qKlxuXHQgKiBEZXRlcm1pbmVzIGlmIHRoZSBsb2FkZXIgY2FuIGxvYWQgYSBzcGVjaWZpYyBpdGVtLiBUaGlzIGxvYWRlciBjYW4gb25seSBsb2FkIGl0ZW1zIHRoYXQgYXJlIG9mIHR5cGVcblx0ICoge3sjY3Jvc3NMaW5rIFwiVHlwZXMvVklERU86cHJvcGVydHlcIn19e3svY3Jvc3NMaW5rfX0uXG5cdCAqIEBtZXRob2QgY2FuTG9hZEl0ZW1cblx0ICogQHBhcmFtIHtMb2FkSXRlbXxPYmplY3R9IGl0ZW0gVGhlIExvYWRJdGVtIHRoYXQgYSBMb2FkUXVldWUgaXMgdHJ5aW5nIHRvIGxvYWQuXG5cdCAqIEByZXR1cm5zIHtCb29sZWFufSBXaGV0aGVyIHRoZSBsb2FkZXIgY2FuIGxvYWQgdGhlIGl0ZW0uXG5cdCAqIEBzdGF0aWNcblx0ICovXG5cdHMuY2FuTG9hZEl0ZW0gPSBmdW5jdGlvbiAoaXRlbSkge1xuXHRcdHJldHVybiBpdGVtLnR5cGUgPT0gY3JlYXRlanMuVHlwZXMuVklERU87XG5cdH07XG5cblx0Y3JlYXRlanMuVmlkZW9Mb2FkZXIgPSBjcmVhdGVqcy5wcm9tb3RlKFZpZGVvTG9hZGVyLCBcIkFic3RyYWN0TWVkaWFMb2FkZXJcIik7XG5cbn0oKSk7XG5cbi8vIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXG4vLyBTcHJpdGVTaGVldExvYWRlci5qc1xuLy8jIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyNcblxuKGZ1bmN0aW9uICgpIHtcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cblx0Ly8gY29uc3RydWN0b3Jcblx0LyoqXG5cdCAqIEEgbG9hZGVyIGZvciBFYXNlbEpTIFNwcml0ZVNoZWV0cy4gSW1hZ2VzIGluc2lkZSB0aGUgc3ByaXRlc2hlZXQgZGVmaW5pdGlvbiBhcmUgbG9hZGVkIGJlZm9yZSB0aGUgbG9hZGVyXG5cdCAqIGNvbXBsZXRlcy4gVG8gbG9hZCBTcHJpdGVTaGVldHMgdXNpbmcgSlNPTlAsIHNwZWNpZnkgYSB7eyNjcm9zc0xpbmsgXCJMb2FkSXRlbS9jYWxsYmFjazpwcm9wZXJ0eVwifX17ey9jcm9zc0xpbmt9fVxuXHQgKiBhcyBwYXJ0IG9mIHRoZSB7eyNjcm9zc0xpbmsgXCJMb2FkSXRlbVwifX17ey9jcm9zc0xpbmt9fS4gTm90ZSB0aGF0IHRoZSB7eyNjcm9zc0xpbmsgXCJKU09OTG9hZGVyXCJ9fXt7L2Nyb3NzTGlua319XG5cdCAqIGFuZCB7eyNjcm9zc0xpbmsgXCJKU09OUExvYWRlclwifX17ey9jcm9zc0xpbmt9fSBhcmUgaGlnaGVyIHByaW9yaXR5IGxvYWRlcnMsIHNvIFNwcml0ZVNoZWV0cyA8c3Ryb25nPm11c3Q8L3N0cm9uZz5cblx0ICogc2V0IHRoZSB7eyNjcm9zc0xpbmsgXCJMb2FkSXRlbVwifX17ey9jcm9zc0xpbmt9fSB7eyNjcm9zc0xpbmsgXCJMb2FkSXRlbS90eXBlOnByb3BlcnR5XCJ9fXt7L2Nyb3NzTGlua319IHByb3BlcnR5XG5cdCAqIHRvIHt7I2Nyb3NzTGluayBcIlR5cGVzL1NQUklURVNIRUVUOnByb3BlcnR5XCJ9fXt7L2Nyb3NzTGlua319LlxuXHQgKlxuXHQgKiBUaGUge3sjY3Jvc3NMaW5rIFwiTG9hZEl0ZW1cIn19e3svY3Jvc3NMaW5rfX0ge3sjY3Jvc3NMaW5rIFwiTG9hZEl0ZW0vY3Jvc3NPcmlnaW46cHJvcGVydHlcIn19e3svY3Jvc3NMaW5rfX0gYXMgd2VsbFxuXHQgKiBhcyB0aGUge3sjY3Jvc3NMaW5rIFwiTG9hZFF1ZXVlJ3NcIn19e3svY3Jvc3NMaW5rfX0gYGJhc2VQYXRoYCBhcmd1bWVudCBhbmQge3sjY3Jvc3NMaW5rIFwiTG9hZFF1ZXVlL19wcmVmZXJYSFJcIn19e3svY3Jvc3NMaW5rfX1cblx0ICogcHJvcGVydHkgc3VwcGxpZWQgdG8gdGhlIHt7I2Nyb3NzTGluayBcIkxvYWRRdWV1ZVwifX17ey9jcm9zc0xpbmt9fSBhcmUgcGFzc2VkIG9uIHRvIHRoZSBzdWItbWFuaWZlc3QgdGhhdCBsb2Fkc1xuXHQgKiB0aGUgU3ByaXRlU2hlZXQgaW1hZ2VzLlxuXHQgKlxuXHQgKiBOb3RlIHRoYXQgdGhlIFNwcml0ZVNoZWV0IEpTT04gZG9lcyBub3QgcmVzcGVjdCB0aGUge3sjY3Jvc3NMaW5rIFwiTG9hZFF1ZXVlL19wcmVmZXJYSFI6cHJvcGVydHlcIn19e3svY3Jvc3NMaW5rfX1cblx0ICogcHJvcGVydHksIHdoaWNoIHNob3VsZCBpbnN0ZWFkIGJlIGRldGVybWluZWQgYnkgdGhlIHByZXNlbmNlIG9mIGEge3sjY3Jvc3NMaW5rIFwiTG9hZEl0ZW0vY2FsbGJhY2s6cHJvcGVydHlcIn19e3svY3Jvc3NMaW5rfX1cblx0ICogcHJvcGVydHkgb24gdGhlIFNwcml0ZVNoZWV0IGxvYWQgaXRlbS4gVGhpcyBpcyBiZWNhdXNlIHRoZSBKU09OIGxvYWRlZCB3aWxsIGhhdmUgYSBkaWZmZXJlbnQgZm9ybWF0IGRlcGVuZGluZyBvblxuXHQgKiBpZiBpdCBpcyBsb2FkZWQgYXMgSlNPTiwgc28ganVzdCBjaGFuZ2luZyBgcHJlZmVyWEhSYCBpcyBub3QgZW5vdWdoIHRvIGNoYW5nZSBob3cgaXQgaXMgbG9hZGVkLlxuXHQgKiBAY2xhc3MgU3ByaXRlU2hlZXRMb2FkZXJcblx0ICogQHBhcmFtIHtMb2FkSXRlbXxPYmplY3R9IGxvYWRJdGVtXG5cdCAqIEBleHRlbmRzIEFic3RyYWN0TG9hZGVyXG5cdCAqIEBjb25zdHJ1Y3RvclxuXHQgKi9cblx0ZnVuY3Rpb24gU3ByaXRlU2hlZXRMb2FkZXIobG9hZEl0ZW0sIHByZWZlclhIUikge1xuXHRcdHRoaXMuQWJzdHJhY3RMb2FkZXJfY29uc3RydWN0b3IobG9hZEl0ZW0sIHByZWZlclhIUiwgY3JlYXRlanMuVHlwZXMuU1BSSVRFU0hFRVQpO1xuXG5cdFx0Ly8gcHJvdGVjdGVkIHByb3BlcnRpZXNcblx0XHQvKipcblx0XHQgKiBBbiBpbnRlcm5hbCBxdWV1ZSB3aGljaCBsb2FkcyB0aGUgU3ByaXRlU2hlZXQncyBpbWFnZXMuXG5cdFx0ICogQG1ldGhvZCBfbWFuaWZlc3RRdWV1ZVxuXHRcdCAqIEB0eXBlIHtMb2FkUXVldWV9XG5cdFx0ICogQHByaXZhdGVcblx0XHQgKi9cblx0XHR0aGlzLl9tYW5pZmVzdFF1ZXVlID0gbnVsbDtcblx0fVxuXG5cdHZhciBwID0gY3JlYXRlanMuZXh0ZW5kKFNwcml0ZVNoZWV0TG9hZGVyLCBjcmVhdGVqcy5BYnN0cmFjdExvYWRlcik7XG5cdHZhciBzID0gU3ByaXRlU2hlZXRMb2FkZXI7XG5cblx0Ly8gc3RhdGljIHByb3BlcnRpZXNcblx0LyoqXG5cdCAqIFRoZSBhbW91bnQgb2YgcHJvZ3Jlc3MgdGhhdCB0aGUgbWFuaWZlc3QgaXRzZWxmIHRha2VzIHVwLlxuXHQgKiBAcHJvcGVydHkgU1BSSVRFU0hFRVRfUFJPR1JFU1Ncblx0ICogQHR5cGUge251bWJlcn1cblx0ICogQGRlZmF1bHQgMC4yNSAoMjUlKVxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAc3RhdGljXG5cdCAqL1xuXHRzLlNQUklURVNIRUVUX1BST0dSRVNTID0gMC4yNTtcblxuXHQvLyBzdGF0aWMgbWV0aG9kc1xuXHQvKipcblx0ICogRGV0ZXJtaW5lcyBpZiB0aGUgbG9hZGVyIGNhbiBsb2FkIGEgc3BlY2lmaWMgaXRlbS4gVGhpcyBsb2FkZXIgY2FuIG9ubHkgbG9hZCBpdGVtcyB0aGF0IGFyZSBvZiB0eXBlXG5cdCAqIHt7I2Nyb3NzTGluayBcIlR5cGVzL1NQUklURVNIRUVUOnByb3BlcnR5XCJ9fXt7L2Nyb3NzTGlua319XG5cdCAqIEBtZXRob2QgY2FuTG9hZEl0ZW1cblx0ICogQHBhcmFtIHtMb2FkSXRlbXxPYmplY3R9IGl0ZW0gVGhlIExvYWRJdGVtIHRoYXQgYSBMb2FkUXVldWUgaXMgdHJ5aW5nIHRvIGxvYWQuXG5cdCAqIEByZXR1cm5zIHtCb29sZWFufSBXaGV0aGVyIHRoZSBsb2FkZXIgY2FuIGxvYWQgdGhlIGl0ZW0uXG5cdCAqIEBzdGF0aWNcblx0ICovXG5cdHMuY2FuTG9hZEl0ZW0gPSBmdW5jdGlvbiAoaXRlbSkge1xuXHRcdHJldHVybiBpdGVtLnR5cGUgPT0gY3JlYXRlanMuVHlwZXMuU1BSSVRFU0hFRVQ7XG5cdH07XG5cblx0Ly8gcHVibGljIG1ldGhvZHNcblx0cC5kZXN0cm95ID0gZnVuY3Rpb24oKSB7XG5cdFx0dGhpcy5BYnN0cmFjdExvYWRlcl9kZXN0cm95KCk7XG5cdFx0dGhpcy5fbWFuaWZlc3RRdWV1ZS5jbG9zZSgpO1xuXHR9O1xuXG5cdC8vIHByb3RlY3RlZCBtZXRob2RzXG5cdHAuX2NyZWF0ZVJlcXVlc3QgPSBmdW5jdGlvbigpIHtcblx0XHR2YXIgY2FsbGJhY2sgPSB0aGlzLl9pdGVtLmNhbGxiYWNrO1xuXHRcdGlmIChjYWxsYmFjayAhPSBudWxsKSB7XG5cdFx0XHR0aGlzLl9yZXF1ZXN0ID0gbmV3IGNyZWF0ZWpzLkpTT05QTG9hZGVyKHRoaXMuX2l0ZW0pO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLl9yZXF1ZXN0ID0gbmV3IGNyZWF0ZWpzLkpTT05Mb2FkZXIodGhpcy5faXRlbSk7XG5cdFx0fVxuXHR9O1xuXG5cdHAuaGFuZGxlRXZlbnQgPSBmdW5jdGlvbiAoZXZlbnQpIHtcblx0XHRzd2l0Y2ggKGV2ZW50LnR5cGUpIHtcblx0XHRcdGNhc2UgXCJjb21wbGV0ZVwiOlxuXHRcdFx0XHR0aGlzLl9yYXdSZXN1bHQgPSBldmVudC50YXJnZXQuZ2V0UmVzdWx0KHRydWUpO1xuXHRcdFx0XHR0aGlzLl9yZXN1bHQgPSBldmVudC50YXJnZXQuZ2V0UmVzdWx0KCk7XG5cdFx0XHRcdHRoaXMuX3NlbmRQcm9ncmVzcyhzLlNQUklURVNIRUVUX1BST0dSRVNTKTtcblx0XHRcdFx0dGhpcy5fbG9hZE1hbmlmZXN0KHRoaXMuX3Jlc3VsdCk7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdGNhc2UgXCJwcm9ncmVzc1wiOlxuXHRcdFx0XHRldmVudC5sb2FkZWQgKj0gcy5TUFJJVEVTSEVFVF9QUk9HUkVTUztcblx0XHRcdFx0dGhpcy5wcm9ncmVzcyA9IGV2ZW50LmxvYWRlZCAvIGV2ZW50LnRvdGFsO1xuXHRcdFx0XHRpZiAoaXNOYU4odGhpcy5wcm9ncmVzcykgfHwgdGhpcy5wcm9ncmVzcyA9PSBJbmZpbml0eSkgeyB0aGlzLnByb2dyZXNzID0gMDsgfVxuXHRcdFx0XHR0aGlzLl9zZW5kUHJvZ3Jlc3MoZXZlbnQpO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdHRoaXMuQWJzdHJhY3RMb2FkZXJfaGFuZGxlRXZlbnQoZXZlbnQpO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBDcmVhdGUgYW5kIGxvYWQgdGhlIGltYWdlcyBvbmNlIHRoZSBTcHJpdGVTaGVldCBKU09OIGhhcyBiZWVuIGxvYWRlZC5cblx0ICogQG1ldGhvZCBfbG9hZE1hbmlmZXN0XG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBqc29uXG5cdCAqIEBwcml2YXRlXG5cdCAqL1xuXHRwLl9sb2FkTWFuaWZlc3QgPSBmdW5jdGlvbiAoanNvbikge1xuXHRcdGlmIChqc29uICYmIGpzb24uaW1hZ2VzKSB7XG5cdFx0XHR2YXIgcXVldWUgPSB0aGlzLl9tYW5pZmVzdFF1ZXVlID0gbmV3IGNyZWF0ZWpzLkxvYWRRdWV1ZSh0aGlzLl9wcmVmZXJYSFIsIHRoaXMuX2l0ZW0ucGF0aCwgdGhpcy5faXRlbS5jcm9zc09yaWdpbik7XG5cdFx0XHRxdWV1ZS5vbihcImNvbXBsZXRlXCIsIHRoaXMuX2hhbmRsZU1hbmlmZXN0Q29tcGxldGUsIHRoaXMsIHRydWUpO1xuXHRcdFx0cXVldWUub24oXCJmaWxlbG9hZFwiLCB0aGlzLl9oYW5kbGVNYW5pZmVzdEZpbGVMb2FkLCB0aGlzKTtcblx0XHRcdHF1ZXVlLm9uKFwicHJvZ3Jlc3NcIiwgdGhpcy5faGFuZGxlTWFuaWZlc3RQcm9ncmVzcywgdGhpcyk7XG5cdFx0XHRxdWV1ZS5vbihcImVycm9yXCIsIHRoaXMuX2hhbmRsZU1hbmlmZXN0RXJyb3IsIHRoaXMsIHRydWUpO1xuXHRcdFx0cXVldWUubG9hZE1hbmlmZXN0KGpzb24uaW1hZ2VzKTtcblx0XHR9XG5cdH07XG5cblx0LyoqXG5cdCAqIEFuIGl0ZW0gZnJvbSB0aGUge3sjY3Jvc3NMaW5rIFwiX21hbmlmZXN0UXVldWU6cHJvcGVydHlcIn19e3svY3Jvc3NMaW5rfX0gaGFzIGNvbXBsZXRlZC5cblx0ICogQG1ldGhvZCBfaGFuZGxlTWFuaWZlc3RGaWxlTG9hZFxuXHQgKiBAcGFyYW0ge0V2ZW50fSBldmVudFxuXHQgKiBAcHJpdmF0ZVxuXHQgKi9cblx0cC5faGFuZGxlTWFuaWZlc3RGaWxlTG9hZCA9IGZ1bmN0aW9uIChldmVudCkge1xuXHRcdHZhciBpbWFnZSA9IGV2ZW50LnJlc3VsdDtcblx0XHRpZiAoaW1hZ2UgIT0gbnVsbCkge1xuXHRcdFx0dmFyIGltYWdlcyA9IHRoaXMuZ2V0UmVzdWx0KCkuaW1hZ2VzO1xuXHRcdFx0dmFyIHBvcyA9IGltYWdlcy5pbmRleE9mKGV2ZW50Lml0ZW0uc3JjKTtcblx0XHRcdGltYWdlc1twb3NdID0gaW1hZ2U7XG5cdFx0fVxuXHR9O1xuXG5cdC8qKlxuXHQgKiBUaGUgaW1hZ2VzIGhhdmUgY29tcGxldGVkIGxvYWRpbmcuIFRoaXMgdHJpZ2dlcnMgdGhlIHt7I2Nyb3NzTGluayBcIkFic3RyYWN0TG9hZGVyL2NvbXBsZXRlOmV2ZW50XCJ9fXt7L2Nyb3NzTGlua319XG5cdCAqIHt7I2Nyb3NzTGluayBcIkV2ZW50XCJ9fXt7L2Nyb3NzTGlua319IGZyb20gdGhlIFNwcml0ZVNoZWV0TG9hZGVyLlxuXHQgKiBAbWV0aG9kIF9oYW5kbGVNYW5pZmVzdENvbXBsZXRlXG5cdCAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50XG5cdCAqIEBwcml2YXRlXG5cdCAqL1xuXHRwLl9oYW5kbGVNYW5pZmVzdENvbXBsZXRlID0gZnVuY3Rpb24gKGV2ZW50KSB7XG5cdFx0dGhpcy5fcmVzdWx0ID0gbmV3IGNyZWF0ZWpzLlNwcml0ZVNoZWV0KHRoaXMuX3Jlc3VsdCk7XG5cdFx0dGhpcy5fbG9hZGVkSXRlbXMgPSB0aGlzLl9tYW5pZmVzdFF1ZXVlLmdldEl0ZW1zKHRydWUpO1xuXHRcdHRoaXMuX3NlbmRDb21wbGV0ZSgpO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBUaGUgaW1hZ2VzIHt7I2Nyb3NzTGluayBcIkxvYWRRdWV1ZVwifX17ey9jcm9zc0xpbmt9fSBoYXMgcmVwb3J0ZWQgcHJvZ3Jlc3MuXG5cdCAqIEBtZXRob2QgX2hhbmRsZU1hbmlmZXN0UHJvZ3Jlc3Ncblx0ICogQHBhcmFtIHtQcm9ncmVzc0V2ZW50fSBldmVudFxuXHQgKiBAcHJpdmF0ZVxuXHQgKi9cblx0cC5faGFuZGxlTWFuaWZlc3RQcm9ncmVzcyA9IGZ1bmN0aW9uIChldmVudCkge1xuXHRcdHRoaXMucHJvZ3Jlc3MgPSBldmVudC5wcm9ncmVzcyAqICgxIC0gcy5TUFJJVEVTSEVFVF9QUk9HUkVTUykgKyBzLlNQUklURVNIRUVUX1BST0dSRVNTO1xuXHRcdHRoaXMuX3NlbmRQcm9ncmVzcyh0aGlzLnByb2dyZXNzKTtcblx0fTtcblxuXHQvKipcblx0ICogQW4gaW1hZ2UgaGFzIHJlcG9ydGVkIGFuIGVycm9yLlxuXHQgKiBAbWV0aG9kIF9oYW5kbGVNYW5pZmVzdEVycm9yXG5cdCAqIEBwYXJhbSB7RXJyb3JFdmVudH0gZXZlbnRcblx0ICogQHByaXZhdGVcblx0ICovXG5cdHAuX2hhbmRsZU1hbmlmZXN0RXJyb3IgPSBmdW5jdGlvbiAoZXZlbnQpIHtcblx0XHR2YXIgbmV3RXZlbnQgPSBuZXcgY3JlYXRlanMuRXZlbnQoXCJmaWxlZXJyb3JcIik7XG5cdFx0bmV3RXZlbnQuaXRlbSA9IGV2ZW50LmRhdGE7XG5cdFx0dGhpcy5kaXNwYXRjaEV2ZW50KG5ld0V2ZW50KTtcblx0fTtcblxuXHRjcmVhdGVqcy5TcHJpdGVTaGVldExvYWRlciA9IGNyZWF0ZWpzLnByb21vdGUoU3ByaXRlU2hlZXRMb2FkZXIsIFwiQWJzdHJhY3RMb2FkZXJcIik7XG5cbn0oKSk7XG5cbi8vIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXG4vLyBTVkdMb2FkZXIuanNcbi8vIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXG5cbihmdW5jdGlvbiAoKSB7XG5cdFwidXNlIHN0cmljdFwiO1xuXG5cdC8vIGNvbnN0cnVjdG9yXG5cdC8qKlxuXHQgKiBBIGxvYWRlciBmb3IgU1ZHIGZpbGVzLlxuXHQgKiBAY2xhc3MgU1ZHTG9hZGVyXG5cdCAqIEBwYXJhbSB7TG9hZEl0ZW18T2JqZWN0fSBsb2FkSXRlbVxuXHQgKiBAcGFyYW0ge0Jvb2xlYW59IHByZWZlclhIUlxuXHQgKiBAZXh0ZW5kcyBBYnN0cmFjdExvYWRlclxuXHQgKiBAY29uc3RydWN0b3Jcblx0ICovXG5cdGZ1bmN0aW9uIFNWR0xvYWRlcihsb2FkSXRlbSwgcHJlZmVyWEhSKSB7XG5cdFx0dGhpcy5BYnN0cmFjdExvYWRlcl9jb25zdHJ1Y3Rvcihsb2FkSXRlbSwgcHJlZmVyWEhSLCBjcmVhdGVqcy5UeXBlcy5TVkcpO1xuXG5cdFx0Ly8gcHVibGljIHByb3BlcnRpZXNcblx0XHR0aGlzLnJlc3VsdEZvcm1hdHRlciA9IHRoaXMuX2Zvcm1hdFJlc3VsdDtcblxuXHRcdC8vIHByb3RlY3RlZCBwcm9wZXJ0aWVzXG5cdFx0dGhpcy5fdGFnU3JjQXR0cmlidXRlID0gXCJkYXRhXCI7XG5cblx0XHRpZiAocHJlZmVyWEhSKSB7XG5cdFx0XHR0aGlzLnNldFRhZyhjcmVhdGVqcy5FbGVtZW50cy5zdmcoKSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMuc2V0VGFnKGNyZWF0ZWpzLkVsZW1lbnRzLm9iamVjdCgpKTtcblx0XHRcdHRoaXMuZ2V0VGFnKCkudHlwZSA9IFwiaW1hZ2Uvc3ZnK3htbFwiO1xuXHRcdH1cblx0fTtcblxuXHR2YXIgcCA9IGNyZWF0ZWpzLmV4dGVuZChTVkdMb2FkZXIsIGNyZWF0ZWpzLkFic3RyYWN0TG9hZGVyKTtcblx0dmFyIHMgPSBTVkdMb2FkZXI7XG5cblx0Ly8gc3RhdGljIG1ldGhvZHNcblx0LyoqXG5cdCAqIERldGVybWluZXMgaWYgdGhlIGxvYWRlciBjYW4gbG9hZCBhIHNwZWNpZmljIGl0ZW0uIFRoaXMgbG9hZGVyIGNhbiBvbmx5IGxvYWQgaXRlbXMgdGhhdCBhcmUgb2YgdHlwZVxuXHQgKiB7eyNjcm9zc0xpbmsgXCJUeXBlcy9TVkc6cHJvcGVydHlcIn19e3svY3Jvc3NMaW5rfX1cblx0ICogQG1ldGhvZCBjYW5Mb2FkSXRlbVxuXHQgKiBAcGFyYW0ge0xvYWRJdGVtfE9iamVjdH0gaXRlbSBUaGUgTG9hZEl0ZW0gdGhhdCBhIExvYWRRdWV1ZSBpcyB0cnlpbmcgdG8gbG9hZC5cblx0ICogQHJldHVybnMge0Jvb2xlYW59IFdoZXRoZXIgdGhlIGxvYWRlciBjYW4gbG9hZCB0aGUgaXRlbS5cblx0ICogQHN0YXRpY1xuXHQgKi9cblx0cy5jYW5Mb2FkSXRlbSA9IGZ1bmN0aW9uIChpdGVtKSB7XG5cdFx0cmV0dXJuIGl0ZW0udHlwZSA9PSBjcmVhdGVqcy5UeXBlcy5TVkc7XG5cdH07XG5cblx0Ly8gcHJvdGVjdGVkIG1ldGhvZHNcblx0LyoqXG5cdCAqIFRoZSByZXN1bHQgZm9ybWF0dGVyIGZvciBTVkcgZmlsZXMuXG5cdCAqIEBtZXRob2QgX2Zvcm1hdFJlc3VsdFxuXHQgKiBAcGFyYW0ge0Fic3RyYWN0TG9hZGVyfSBsb2FkZXJcblx0ICogQHJldHVybnMge09iamVjdH1cblx0ICogQHByaXZhdGVcblx0ICovXG5cdHAuX2Zvcm1hdFJlc3VsdCA9IGZ1bmN0aW9uIChsb2FkZXIpIHtcblx0XHQvLyBtaW1lIHNob3VsZCBiZSBpbWFnZS9zdmcreG1sLCBidXQgT3BlcmEgcmVxdWlyZXMgdGV4dC94bWxcblx0XHR2YXIgeG1sID0gY3JlYXRlanMuRGF0YVV0aWxzLnBhcnNlWE1MKGxvYWRlci5nZXRSZXN1bHQodHJ1ZSkpO1xuXHRcdHZhciB0YWcgPSBsb2FkZXIuZ2V0VGFnKCk7XG5cblx0XHRpZiAoIXRoaXMuX3ByZWZlclhIUiAmJiBkb2N1bWVudC5ib2R5LmNvbnRhaW5zKHRhZykpIHtcblx0XHRcdGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQodGFnKTtcblx0XHR9XG5cblx0XHRpZiAoeG1sLmRvY3VtZW50RWxlbWVudCAhPSBudWxsKSB7XG5cdFx0XHR2YXIgZWxlbWVudCA9IHhtbC5kb2N1bWVudEVsZW1lbnQ7XG5cdFx0XHQvLyBTdXBwb3J0IGxvYWRpbmcgYW4gU1ZHIGZyb20gYSBkaWZmZXJlbnQgZG9tYWluIGluIElEXG5cdFx0XHRpZiAoZG9jdW1lbnQuaW1wb3J0Tm9kZSkge1xuXHRcdFx0XHRlbGVtZW50ID0gZG9jdW1lbnQuaW1wb3J0Tm9kZShlbGVtZW50LCB0cnVlKTtcblx0XHRcdH1cblx0XHRcdHRhZy5hcHBlbmRDaGlsZChlbGVtZW50KTtcblx0XHRcdHJldHVybiB0YWc7XG5cdFx0fSBlbHNlIHsgLy8gRm9yIGJyb3dzZXJzIHRoYXQgZG9uJ3Qgc3VwcG9ydCBTVkcsIGp1c3QgZ2l2ZSB0aGVtIHRoZSBYTUwuIChJRSA5LTgpXG5cdFx0XHRyZXR1cm4geG1sO1xuXHRcdH1cblx0fTtcblxuXHRjcmVhdGVqcy5TVkdMb2FkZXIgPSBjcmVhdGVqcy5wcm9tb3RlKFNWR0xvYWRlciwgXCJBYnN0cmFjdExvYWRlclwiKTtcblxufSgpKTtcblxuLy8jIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyNcbi8vIFhNTExvYWRlci5qc1xuLy8jIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyNcblxuKGZ1bmN0aW9uICgpIHtcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cblx0Ly8gY29uc3RydWN0b3Jcblx0LyoqXG5cdCAqIEEgbG9hZGVyIGZvciBDU1MgZmlsZXMuXG5cdCAqIEBjbGFzcyBYTUxMb2FkZXJcblx0ICogQHBhcmFtIHtMb2FkSXRlbXxPYmplY3R9IGxvYWRJdGVtXG5cdCAqIEBleHRlbmRzIEFic3RyYWN0TG9hZGVyXG5cdCAqIEBjb25zdHJ1Y3RvclxuXHQgKi9cblx0ZnVuY3Rpb24gWE1MTG9hZGVyKGxvYWRJdGVtKSB7XG5cdFx0dGhpcy5BYnN0cmFjdExvYWRlcl9jb25zdHJ1Y3Rvcihsb2FkSXRlbSwgdHJ1ZSwgY3JlYXRlanMuVHlwZXMuWE1MKTtcblxuXHRcdC8vIHB1YmxpYyBwcm9wZXJ0aWVzXG5cdFx0dGhpcy5yZXN1bHRGb3JtYXR0ZXIgPSB0aGlzLl9mb3JtYXRSZXN1bHQ7XG5cdH07XG5cblx0dmFyIHAgPSBjcmVhdGVqcy5leHRlbmQoWE1MTG9hZGVyLCBjcmVhdGVqcy5BYnN0cmFjdExvYWRlcik7XG5cdHZhciBzID0gWE1MTG9hZGVyO1xuXG5cdC8vIHN0YXRpYyBtZXRob2RzXG5cdC8qKlxuXHQgKiBEZXRlcm1pbmVzIGlmIHRoZSBsb2FkZXIgY2FuIGxvYWQgYSBzcGVjaWZpYyBpdGVtLiBUaGlzIGxvYWRlciBjYW4gb25seSBsb2FkIGl0ZW1zIHRoYXQgYXJlIG9mIHR5cGVcblx0ICoge3sjY3Jvc3NMaW5rIFwiVHlwZXMvWE1MOnByb3BlcnR5XCJ9fXt7L2Nyb3NzTGlua319LlxuXHQgKiBAbWV0aG9kIGNhbkxvYWRJdGVtXG5cdCAqIEBwYXJhbSB7TG9hZEl0ZW18T2JqZWN0fSBpdGVtIFRoZSBMb2FkSXRlbSB0aGF0IGEgTG9hZFF1ZXVlIGlzIHRyeWluZyB0byBsb2FkLlxuXHQgKiBAcmV0dXJucyB7Qm9vbGVhbn0gV2hldGhlciB0aGUgbG9hZGVyIGNhbiBsb2FkIHRoZSBpdGVtLlxuXHQgKiBAc3RhdGljXG5cdCAqL1xuXHRzLmNhbkxvYWRJdGVtID0gZnVuY3Rpb24gKGl0ZW0pIHtcblx0XHRyZXR1cm4gaXRlbS50eXBlID09IGNyZWF0ZWpzLlR5cGVzLlhNTDtcblx0fTtcblxuXHQvLyBwcm90ZWN0ZWQgbWV0aG9kc1xuXHQvKipcblx0ICogVGhlIHJlc3VsdCBmb3JtYXR0ZXIgZm9yIFhNTCBmaWxlcy5cblx0ICogQG1ldGhvZCBfZm9ybWF0UmVzdWx0XG5cdCAqIEBwYXJhbSB7QWJzdHJhY3RMb2FkZXJ9IGxvYWRlclxuXHQgKiBAcmV0dXJucyB7WE1MRG9jdW1lbnR9XG5cdCAqIEBwcml2YXRlXG5cdCAqL1xuXHRwLl9mb3JtYXRSZXN1bHQgPSBmdW5jdGlvbiAobG9hZGVyKSB7XG5cdFx0cmV0dXJuIGNyZWF0ZWpzLkRhdGFVdGlscy5wYXJzZVhNTChsb2FkZXIuZ2V0UmVzdWx0KHRydWUpKTtcblx0fTtcblxuXHRjcmVhdGVqcy5YTUxMb2FkZXIgPSBjcmVhdGVqcy5wcm9tb3RlKFhNTExvYWRlciwgXCJBYnN0cmFjdExvYWRlclwiKTtcblxufSgpKTtcblxuLy8jIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyNcbi8vIHZlcnNpb24uanNcbi8vIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXG5cbihmdW5jdGlvbiAoKSB7XG5cblx0LyoqXG5cdCAqIFN0YXRpYyBjbGFzcyBob2xkaW5nIGxpYnJhcnkgc3BlY2lmaWMgaW5mb3JtYXRpb24gc3VjaCBhcyB0aGUgdmVyc2lvbiBhbmQgYnVpbGREYXRlIG9mIHRoZSBsaWJyYXJ5LlxuXHQgKiBUaGUgU291bmRKUyBjbGFzcyBoYXMgYmVlbiByZW5hbWVkIHt7I2Nyb3NzTGluayBcIlNvdW5kXCJ9fXt7L2Nyb3NzTGlua319LiAgUGxlYXNlIHNlZSB7eyNjcm9zc0xpbmsgXCJTb3VuZFwifX17ey9jcm9zc0xpbmt9fVxuXHQgKiBmb3IgaW5mb3JtYXRpb24gb24gdXNpbmcgc291bmQuXG5cdCAqIEBjbGFzcyBTb3VuZEpTXG5cdCAqKi9cblx0dmFyIHMgPSBjcmVhdGVqcy5Tb3VuZEpTID0gY3JlYXRlanMuU291bmRKUyB8fCB7fTtcblxuXHQvKipcblx0ICogVGhlIHZlcnNpb24gc3RyaW5nIGZvciB0aGlzIHJlbGVhc2UuXG5cdCAqIEBwcm9wZXJ0eSB2ZXJzaW9uXG5cdCAqIEB0eXBlIFN0cmluZ1xuXHQgKiBAc3RhdGljXG5cdCAqKi9cblx0cy52ZXJzaW9uID0gLyo9dmVyc2lvbiovXCJORVhUXCI7IC8vIGluamVjdGVkIGJ5IGJ1aWxkIHByb2Nlc3NcblxuXHQvKipcblx0ICogVGhlIGJ1aWxkIGRhdGUgZm9yIHRoaXMgcmVsZWFzZSBpbiBVVEMgZm9ybWF0LlxuXHQgKiBAcHJvcGVydHkgYnVpbGREYXRlXG5cdCAqIEB0eXBlIFN0cmluZ1xuXHQgKiBAc3RhdGljXG5cdCAqKi9cblx0cy5idWlsZERhdGUgPSAvKj1kYXRlKi9cIlRodSwgMTQgU2VwIDIwMTcgMjI6MTk6NDUgR01UXCI7IC8vIGluamVjdGVkIGJ5IGJ1aWxkIHByb2Nlc3NcblxufSkoKTtcblxuLy8jIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyNcbi8vIEJyb3dzZXJEZXRlY3QuanNcbi8vIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXG5cbi8qKlxuICogQGNsYXNzIFV0aWxpdHkgTWV0aG9kc1xuICovXG4oZnVuY3Rpb24oKSB7XG5cdFwidXNlIHN0cmljdFwiO1xuXG5cdC8qKlxuXHQgKiBBbiBvYmplY3QgdGhhdCBkZXRlcm1pbmVzIHRoZSBjdXJyZW50IGJyb3dzZXIsIHZlcnNpb24sIG9wZXJhdGluZyBzeXN0ZW0sIGFuZCBvdGhlciBlbnZpcm9ubWVudFxuXHQgKiB2YXJpYWJsZXMgdmlhIHVzZXIgYWdlbnQgc3RyaW5nLlxuXHQgKlxuXHQgKiBVc2VkIGZvciBhdWRpbyBiZWNhdXNlIGZlYXR1cmUgZGV0ZWN0aW9uIGlzIHVuYWJsZSB0byBkZXRlY3QgdGhlIG1hbnkgbGltaXRhdGlvbnMgb2YgbW9iaWxlIGRldmljZXMuXG5cdCAqXG5cdCAqIDxoND5FeGFtcGxlPC9oND5cblx0ICpcblx0ICogICAgICBpZiAoY3JlYXRlanMuQnJvd3NlckRldGVjdC5pc0lPUykgeyAvLyBkbyBzdHVmZiB9XG5cdCAqXG5cdCAqIEBwcm9wZXJ0eSBCcm93c2VyRGV0ZWN0XG5cdCAqIEB0eXBlIHtPYmplY3R9XG5cdCAqIEBwYXJhbSB7Qm9vbGVhbn0gaXNGaXJlZm94IFRydWUgaWYgb3VyIGJyb3dzZXIgaXMgRmlyZWZveC5cblx0ICogQHBhcmFtIHtCb29sZWFufSBpc09wZXJhIFRydWUgaWYgb3VyIGJyb3dzZXIgaXMgb3BlcmEuXG5cdCAqIEBwYXJhbSB7Qm9vbGVhbn0gaXNDaHJvbWUgVHJ1ZSBpZiBvdXIgYnJvd3NlciBpcyBDaHJvbWUuICBOb3RlIHRoYXQgQ2hyb21lIGZvciBBbmRyb2lkIHJldHVybnMgdHJ1ZSwgYnV0IGlzIGFcblx0ICogY29tcGxldGVseSBkaWZmZXJlbnQgYnJvd3NlciB3aXRoIGRpZmZlcmVudCBhYmlsaXRpZXMuXG5cdCAqIEBwYXJhbSB7Qm9vbGVhbn0gaXNJT1MgVHJ1ZSBpZiBvdXIgYnJvd3NlciBpcyBzYWZhcmkgZm9yIGlPUyBkZXZpY2VzIChpUGFkLCBpUGhvbmUsIGFuZCBpUG9kKS5cblx0ICogQHBhcmFtIHtCb29sZWFufSBpc0FuZHJvaWQgVHJ1ZSBpZiBvdXIgYnJvd3NlciBpcyBBbmRyb2lkLlxuXHQgKiBAcGFyYW0ge0Jvb2xlYW59IGlzQmxhY2tiZXJyeSBUcnVlIGlmIG91ciBicm93c2VyIGlzIEJsYWNrYmVycnkuXG5cdCAqIEBjb25zdHJ1Y3RvclxuXHQgKiBAc3RhdGljXG5cdCAqL1xuXHRmdW5jdGlvbiBCcm93c2VyRGV0ZWN0KCkge1xuXHRcdHRocm93IFwiQnJvd3NlckRldGVjdCBjYW5ub3QgYmUgaW5zdGFudGlhdGVkXCI7XG5cdH07XG5cblx0dmFyIGFnZW50ID0gQnJvd3NlckRldGVjdC5hZ2VudCA9IHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50O1xuXHRCcm93c2VyRGV0ZWN0LmlzV2luZG93UGhvbmUgPSAoYWdlbnQuaW5kZXhPZihcIklFTW9iaWxlXCIpID4gLTEpIHx8IChhZ2VudC5pbmRleE9mKFwiV2luZG93cyBQaG9uZVwiKSA+IC0xKTtcblx0QnJvd3NlckRldGVjdC5pc0ZpcmVmb3ggPSAoYWdlbnQuaW5kZXhPZihcIkZpcmVmb3hcIikgPiAtMSk7XG5cdEJyb3dzZXJEZXRlY3QuaXNPcGVyYSA9ICh3aW5kb3cub3BlcmEgIT0gbnVsbCk7XG5cdEJyb3dzZXJEZXRlY3QuaXNDaHJvbWUgPSAoYWdlbnQuaW5kZXhPZihcIkNocm9tZVwiKSA+IC0xKTsgIC8vIE5PVEUgdGhhdCBDaHJvbWUgb24gQW5kcm9pZCByZXR1cm5zIHRydWUgYnV0IGlzIGEgY29tcGxldGVseSBkaWZmZXJlbnQgYnJvd3NlciB3aXRoIGRpZmZlcmVudCBhYmlsaXRpZXNcblx0QnJvd3NlckRldGVjdC5pc0lPUyA9IChhZ2VudC5pbmRleE9mKFwiaVBvZFwiKSA+IC0xIHx8IGFnZW50LmluZGV4T2YoXCJpUGhvbmVcIikgPiAtMSB8fCBhZ2VudC5pbmRleE9mKFwiaVBhZFwiKSA+IC0xKSAmJiAhQnJvd3NlckRldGVjdC5pc1dpbmRvd1Bob25lO1xuXHRCcm93c2VyRGV0ZWN0LmlzQW5kcm9pZCA9IChhZ2VudC5pbmRleE9mKFwiQW5kcm9pZFwiKSA+IC0xKSAmJiAhQnJvd3NlckRldGVjdC5pc1dpbmRvd1Bob25lO1xuXHRCcm93c2VyRGV0ZWN0LmlzQmxhY2tiZXJyeSA9IChhZ2VudC5pbmRleE9mKFwiQmxhY2tiZXJyeVwiKSA+IC0xKTtcblxuXHRjcmVhdGVqcy5Ccm93c2VyRGV0ZWN0ID0gQnJvd3NlckRldGVjdDtcblxufSgpKTtcblxuLy8jIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyNcbi8vIEF1ZGlvU3ByaXRlLmpzXG4vLyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI1xuXG4vLyAgTk9URSB0aGlzIGlzIFwiQ2xhc3NcIiBpcyBwdXJlbHkgdG8gZG9jdW1lbnQgYXVkaW9TcHJpdGUgU2V0dXAgYW5kIHVzYWdlLlxuXG5cbi8qKlxuICogPHN0cm9uZz5Ob3RlOiBBdWRpb1Nwcml0ZSBpcyBub3QgYSBjbGFzcywgYnV0IGl0cyB1c2FnZSBpcyBlYXNpbHkgbG9zdCBpbiB0aGUgZG9jdW1lbnRhdGlvbiwgc28gaXQgaGFzIGJlZW4gY2FsbGVkXG4gKiBvdXQgaGVyZSBmb3IgcXVpY2sgcmVmZXJlbmNlLjwvc3Ryb25nPlxuICpcbiAqIEF1ZGlvIHNwcml0ZXMgYXJlIG11Y2ggbGlrZSBDU1Mgc3ByaXRlcyBvciBpbWFnZSBzcHJpdGUgc2hlZXRzOiBtdWx0aXBsZSBhdWRpbyBhc3NldHMgZ3JvdXBlZCBpbnRvIGEgc2luZ2xlIGZpbGUuXG4gKiBBdWRpbyBzcHJpdGVzIHdvcmsgYXJvdW5kIGxpbWl0YXRpb25zIGluIGNlcnRhaW4gYnJvd3NlcnMsIHdoZXJlIG9ubHkgYSBzaW5nbGUgc291bmQgY2FuIGJlIGxvYWRlZCBhbmQgcGxheWVkIGF0IGFcbiAqIHRpbWUuIFdlIHJlY29tbWVuZCBhdCBsZWFzdCAzMDBtcyBvZiBzaWxlbmNlIGJldHdlZW4gYXVkaW8gY2xpcHMgdG8gZGVhbCB3aXRoIEhUTUwgYXVkaW8gdGFnIGluYWNjdXJhY3ksIGFuZCB0byBwcmV2ZW50XG4gKiBhY2NpZGVudGFsbHkgcGxheWluZyBiaXRzIG9mIHRoZSBuZWlnaGJvdXJpbmcgY2xpcHMuXG4gKlxuICogPHN0cm9uZz5CZW5lZml0cyBvZiBBdWRpbyBTcHJpdGVzOjwvc3Ryb25nPlxuICogPHVsPlxuICogICAgIDxsaT5Nb3JlIHJvYnVzdCBzdXBwb3J0IGZvciBvbGRlciBicm93c2VycyBhbmQgZGV2aWNlcyB0aGF0IG9ubHkgYWxsb3cgYSBzaW5nbGUgYXVkaW8gaW5zdGFuY2UsIHN1Y2ggYXMgaU9TIDUuPC9saT5cbiAqICAgICA8bGk+VGhleSBwcm92aWRlIGEgd29yayBhcm91bmQgZm9yIHRoZSBJbnRlcm5ldCBFeHBsb3JlciA5IGF1ZGlvIHRhZyBsaW1pdCwgd2hpY2ggcmVzdHJpY3RzIGhvdyBtYW55IGRpZmZlcmVudFxuICogICAgIHNvdW5kcyB0aGF0IGNvdWxkIGJlIGxvYWRlZCBhdCBvbmNlLjwvbGk+XG4gKiAgICAgPGxpPkZhc3RlciBsb2FkaW5nIGJ5IG9ubHkgcmVxdWlyaW5nIGEgc2luZ2xlIG5ldHdvcmsgcmVxdWVzdCBmb3Igc2V2ZXJhbCBzb3VuZHMsIGVzcGVjaWFsbHkgb24gbW9iaWxlIGRldmljZXNcbiAqIHdoZXJlIHRoZSBuZXR3b3JrIHJvdW5kIHRyaXAgZm9yIGVhY2ggZmlsZSBjYW4gYWRkIHNpZ25pZmljYW50IGxhdGVuY3kuPC9saT5cbiAqIDwvdWw+XG4gKlxuICogPHN0cm9uZz5EcmF3YmFja3Mgb2YgQXVkaW8gU3ByaXRlczwvc3Ryb25nPlxuICogPHVsPlxuICogICAgIDxsaT5ObyBndWFyYW50ZWUgb2Ygc21vb3RoIGxvb3Bpbmcgd2hlbiB1c2luZyBIVE1MIG9yIEZsYXNoIGF1ZGlvLiBJZiB5b3UgaGF2ZSBhIHRyYWNrIHRoYXQgbmVlZHMgdG8gbG9vcFxuICogXHRcdHNtb290aGx5IGFuZCB5b3UgYXJlIHN1cHBvcnRpbmcgbm9uLXdlYiBhdWRpbyBicm93c2VycywgZG8gbm90IHVzZSBhdWRpbyBzcHJpdGVzIGZvciB0aGF0IHNvdW5kIGlmIHlvdSBjYW4gYXZvaWRcbiAqIFx0XHRpdC48L2xpPlxuICogICAgIDxsaT5ObyBndWFyYW50ZWUgdGhhdCBIVE1MIGF1ZGlvIHdpbGwgcGxheSBiYWNrIGltbWVkaWF0ZWx5LCBlc3BlY2lhbGx5IHRoZSBmaXJzdCB0aW1lLiBJbiBzb21lIGJyb3dzZXJzXG4gKiAgICAgKENocm9tZSEpLCBIVE1MIGF1ZGlvIHdpbGwgb25seSBsb2FkIGVub3VnaCB0byBwbGF5IHRocm91Z2ggYXQgdGhlIGN1cnJlbnQgZG93bmxvYWQgc3BlZWQg4oCTIHNvIHdlIHJlbHkgb24gdGhlXG4gKiAgICAgYGNhbnBsYXl0aHJvdWdoYCBldmVudCB0byBkZXRlcm1pbmUgaWYgdGhlIGF1ZGlvIGlzIGxvYWRlZC4gU2luY2UgYXVkaW8gc3ByaXRlcyBtdXN0IGp1bXAgYWhlYWQgdG8gcGxheSBzcGVjaWZpY1xuICogICAgIHNvdW5kcywgdGhlIGF1ZGlvIG1heSBub3QgeWV0IGhhdmUgZG93bmxvYWRlZCBmdWxseS48L2xpPlxuICogICAgIDxsaT5BdWRpbyBzcHJpdGVzIHNoYXJlIHRoZSBzYW1lIGNvcmUgc291cmNlLCBzbyBpZiB5b3UgaGF2ZSBhIHNwcml0ZSB3aXRoIDUgc291bmRzIGFuZCBhcmUgbGltaXRlZCB0byAyXG4gKiBcdFx0Y29uY3VycmVudGx5IHBsYXlpbmcgaW5zdGFuY2VzLCB5b3UgY2FuIG9ubHkgcGxheSAyIG9mIHRoZSBzb3VuZHMgYXQgdGhlIHNhbWUgdGltZS48L2xpPlxuICogPC91bD5cbiAqXG4gKiA8aDQ+RXhhbXBsZTwvaDQ+XG4gKlxuICpcdFx0Y3JlYXRlanMuU291bmQuaW5pdGlhbGl6ZURlZmF1bHRQbHVnaW5zKCk7XG4gKlx0XHR2YXIgYXNzZXRzUGF0aCA9IFwiLi9hc3NldHMvXCI7XG4gKlx0XHR2YXIgc291bmRzID0gW3tcbiAqXHRcdFx0c3JjOlwiTXlBdWRpb1Nwcml0ZS5vZ2dcIiwgZGF0YToge1xuICpcdFx0XHRcdGF1ZGlvU3ByaXRlOiBbXG4gKlx0XHRcdFx0XHR7aWQ6XCJzb3VuZDFcIiwgc3RhcnRUaW1lOjAsIGR1cmF0aW9uOjUwMH0sXG4gKlx0XHRcdFx0XHR7aWQ6XCJzb3VuZDJcIiwgc3RhcnRUaW1lOjEwMDAsIGR1cmF0aW9uOjQwMH0sXG4gKlx0XHRcdFx0XHR7aWQ6XCJzb3VuZDNcIiwgc3RhcnRUaW1lOjE3MDAsIGR1cmF0aW9uOiAxMDAwfVxuICpcdFx0XHRcdF19XG4gKlx0XHRcdH1cbiAqXHRcdF07XG4gKlx0XHRjcmVhdGVqcy5Tb3VuZC5hbHRlcm5hdGVFeHRlbnNpb25zID0gW1wibXAzXCJdO1xuICpcdFx0Y3JlYXRlanMuU291bmQub24oXCJmaWxlbG9hZFwiLCBsb2FkU291bmQpO1xuICpcdFx0Y3JlYXRlanMuU291bmQucmVnaXN0ZXJTb3VuZHMoc291bmRzLCBhc3NldHNQYXRoKTtcbiAqXHRcdC8vIGFmdGVyIGxvYWQgaXMgY29tcGxldGVcbiAqXHRcdGNyZWF0ZWpzLlNvdW5kLnBsYXkoXCJzb3VuZDJcIik7XG4gKlxuICogWW91IGNhbiBhbHNvIGNyZWF0ZSBhdWRpbyBzcHJpdGVzIG9uIHRoZSBmbHkgYnkgc2V0dGluZyB0aGUgc3RhcnRUaW1lIGFuZCBkdXJhdGlvbiB3aGVuIGNyZWF0aW5nIGFuIG5ldyBBYnN0cmFjdFNvdW5kSW5zdGFuY2UuXG4gKlxuICogXHRcdGNyZWF0ZWpzLlNvdW5kLnBsYXkoXCJNeUF1ZGlvU3ByaXRlXCIsIHtzdGFydFRpbWU6IDEwMDAsIGR1cmF0aW9uOiA0MDB9KTtcbiAqXG4gKiBUaGUgZXhjZWxsZW50IENyZWF0ZUpTIGNvbW11bml0eSBoYXMgY3JlYXRlZCBhIHRvb2wgdG8gY3JlYXRlIGF1ZGlvIHNwcml0ZXMsIGF2YWlsYWJsZSBhdFxuICogPGEgaHJlZj1cImh0dHBzOi8vZ2l0aHViLmNvbS90b25pc3RpaWdpL2F1ZGlvc3ByaXRlXCIgdGFyZ2V0PVwiX2JsYW5rXCI+aHR0cHM6Ly9naXRodWIuY29tL3RvbmlzdGlpZ2kvYXVkaW9zcHJpdGU8L2E+LFxuICogYXMgd2VsbCBhcyBhIDxhIGhyZWY9XCJodHRwOi8vanNmaWRkbGUubmV0L2JoYXJhdF9iYXR0dS9nOGZGUC8xMi9cIiB0YXJnZXQ9XCJfYmxhbmtcIj5qc2ZpZGRsZTwvYT4gdG8gY29udmVydCB0aGUgb3V0cHV0XG4gKiB0byBTb3VuZEpTIGZvcm1hdC5cbiAqXG4gKiBAY2xhc3MgQXVkaW9TcHJpdGVcbiAqIEBzaW5jZSAwLjYuMFxuICovXG5cbi8vIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXG4vLyBQbGF5UHJvcHNDb25maWcuanNcbi8vIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXG5cbihmdW5jdGlvbiAoKSB7XG5cdFwidXNlIHN0cmljdFwiO1xuXHQvKipcblx0ICogQSBjbGFzcyB0byBzdG9yZSB0aGUgb3B0aW9uYWwgcGxheSBwcm9wZXJ0aWVzIHBhc3NlZCBpbiB7eyNjcm9zc0xpbmsgXCJTb3VuZC9wbGF5XCJ9fXt7L2Nyb3NzTGlua319IGFuZFxuXHQgKiB7eyNjcm9zc0xpbmsgXCJBYnN0cmFjdFNvdW5kSW5zdGFuY2UvcGxheVwifX17ey9jcm9zc0xpbmt9fSBjYWxscy5cblx0ICpcblx0ICogT3B0aW9uYWwgUGxheSBQcm9wZXJ0aWVzIEluY2x1ZGU6XG5cdCAqIDx1bD5cblx0ICogPGxpPmludGVycnVwdCAtIEhvdyB0byBpbnRlcnJ1cHQgYW55IGN1cnJlbnRseSBwbGF5aW5nIGluc3RhbmNlcyBvZiBhdWRpbyB3aXRoIHRoZSBzYW1lIHNvdXJjZSxcblx0ICogaWYgdGhlIG1heGltdW0gbnVtYmVyIG9mIGluc3RhbmNlcyBvZiB0aGUgc291bmQgYXJlIGFscmVhZHkgcGxheWluZy4gVmFsdWVzIGFyZSBkZWZpbmVkIGFzIDxjb2RlPklOVEVSUlVQVF9UWVBFPC9jb2RlPlxuXHQgKiBjb25zdGFudHMgb24gdGhlIFNvdW5kIGNsYXNzLCB3aXRoIHRoZSBkZWZhdWx0IGRlZmluZWQgYnkge3sjY3Jvc3NMaW5rIFwiU291bmQvZGVmYXVsdEludGVycnVwdEJlaGF2aW9yOnByb3BlcnR5XCJ9fXt7L2Nyb3NzTGlua319LjwvbGk+XG5cdCAqIDxsaT5kZWxheSAtIFRoZSBhbW91bnQgb2YgdGltZSB0byBkZWxheSB0aGUgc3RhcnQgb2YgYXVkaW8gcGxheWJhY2ssIGluIG1pbGxpc2Vjb25kcy48L2xpPlxuXHQgKiA8bGk+b2Zmc2V0IC0gVGhlIG9mZnNldCBmcm9tIHRoZSBzdGFydCBvZiB0aGUgYXVkaW8gdG8gYmVnaW4gcGxheWJhY2ssIGluIG1pbGxpc2Vjb25kcy48L2xpPlxuXHQgKiA8bGk+bG9vcCAtIEhvdyBtYW55IHRpbWVzIHRoZSBhdWRpbyBsb29wcyB3aGVuIGl0IHJlYWNoZXMgdGhlIGVuZCBvZiBwbGF5YmFjay4gVGhlIGRlZmF1bHQgaXMgMCAobm9cblx0ICogbG9vcHMpLCBhbmQgLTEgY2FuIGJlIHVzZWQgZm9yIGluZmluaXRlIHBsYXliYWNrLjwvbGk+XG5cdCAqIDxsaT52b2x1bWUgLSBUaGUgdm9sdW1lIG9mIHRoZSBzb3VuZCwgYmV0d2VlbiAwIGFuZCAxLiBOb3RlIHRoYXQgdGhlIG1hc3RlciB2b2x1bWUgaXMgYXBwbGllZFxuXHQgKiBhZ2FpbnN0IHRoZSBpbmRpdmlkdWFsIHZvbHVtZS48L2xpPlxuXHQgKiA8bGk+cGFuIC0gVGhlIGxlZnQtcmlnaHQgcGFuIG9mIHRoZSBzb3VuZCAoaWYgc3VwcG9ydGVkKSwgYmV0d2VlbiAtMSAobGVmdCkgYW5kIDEgKHJpZ2h0KS48L2xpPlxuXHQgKiA8bGk+c3RhcnRUaW1lIC0gVG8gY3JlYXRlIGFuIGF1ZGlvIHNwcml0ZSAod2l0aCBkdXJhdGlvbiksIHRoZSBpbml0aWFsIG9mZnNldCB0byBzdGFydCBwbGF5YmFjayBhbmQgbG9vcCBmcm9tLCBpbiBtaWxsaXNlY29uZHMuPC9saT5cblx0ICogPGxpPmR1cmF0aW9uIC0gVG8gY3JlYXRlIGFuIGF1ZGlvIHNwcml0ZSAod2l0aCBzdGFydFRpbWUpLCB0aGUgYW1vdW50IG9mIHRpbWUgdG8gcGxheSB0aGUgY2xpcCBmb3IsIGluIG1pbGxpc2Vjb25kcy48L2xpPlxuXHQgKiA8L3VsPlxuXHQgKlxuXHQgKiA8aDQ+RXhhbXBsZTwvaDQ+XG5cdCAqXG5cdCAqIFx0dmFyIHByb3BzID0gbmV3IGNyZWF0ZWpzLlBsYXlQcm9wc0NvbmZpZygpLnNldCh7aW50ZXJydXB0OiBjcmVhdGVqcy5Tb3VuZC5JTlRFUlJVUFRfQU5ZLCBsb29wOiAtMSwgdm9sdW1lOiAwLjV9KVxuXHQgKiBcdGNyZWF0ZWpzLlNvdW5kLnBsYXkoXCJteVNvdW5kXCIsIHByb3BzKTtcblx0ICogXHQvLyBPUlxuXHQgKiBcdG15U291bmRJbnN0YW5jZS5wbGF5KHByb3BzKTtcblx0ICpcblx0ICogQGNsYXNzIFBsYXlQcm9wc0NvbmZpZ1xuXHQgKiBAY29uc3RydWN0b3Jcblx0ICogQHNpbmNlIDAuNi4xXG5cdCAqL1xuXHQvLyBUT0RPIHRoaW5rIG9mIGEgYmV0dGVyIG5hbWUgZm9yIHRoaXMgY2xhc3Ncblx0dmFyIFBsYXlQcm9wc0NvbmZpZyA9IGZ1bmN0aW9uICgpIHtcbi8vIFB1YmxpYyBQcm9wZXJ0aWVzXG5cdFx0LyoqXG5cdFx0ICogSG93IHRvIGludGVycnVwdCBhbnkgY3VycmVudGx5IHBsYXlpbmcgaW5zdGFuY2VzIG9mIGF1ZGlvIHdpdGggdGhlIHNhbWUgc291cmNlLFxuXHRcdCAqIGlmIHRoZSBtYXhpbXVtIG51bWJlciBvZiBpbnN0YW5jZXMgb2YgdGhlIHNvdW5kIGFyZSBhbHJlYWR5IHBsYXlpbmcuIFZhbHVlcyBhcmUgZGVmaW5lZCBhc1xuXHRcdCAqIDxjb2RlPklOVEVSUlVQVF9UWVBFPC9jb2RlPiBjb25zdGFudHMgb24gdGhlIFNvdW5kIGNsYXNzLCB3aXRoIHRoZSBkZWZhdWx0IGRlZmluZWQgYnlcblx0XHQgKiB7eyNjcm9zc0xpbmsgXCJTb3VuZC9kZWZhdWx0SW50ZXJydXB0QmVoYXZpb3I6cHJvcGVydHlcIn19e3svY3Jvc3NMaW5rfX0uXG5cdFx0ICogQHByb3BlcnR5IGludGVycnVwdFxuXHRcdCAqIEB0eXBlIHtzdHJpbmd9XG5cdFx0ICogQGRlZmF1bHQgbnVsbFxuXHRcdCAqL1xuXHRcdHRoaXMuaW50ZXJydXB0ID0gbnVsbDtcblxuXHRcdC8qKlxuXHRcdCAqIFRoZSBhbW91bnQgb2YgdGltZSB0byBkZWxheSB0aGUgc3RhcnQgb2YgYXVkaW8gcGxheWJhY2ssIGluIG1pbGxpc2Vjb25kcy5cblx0XHQgKiBAcHJvcGVydHkgZGVsYXlcblx0XHQgKiBAdHlwZSB7TnVtYmVyfVxuXHRcdCAqIEBkZWZhdWx0IG51bGxcblx0XHQgKi9cblx0XHR0aGlzLmRlbGF5ID0gbnVsbDtcblxuXHRcdC8qKlxuXHRcdCAqIFRoZSBvZmZzZXQgZnJvbSB0aGUgc3RhcnQgb2YgdGhlIGF1ZGlvIHRvIGJlZ2luIHBsYXliYWNrLCBpbiBtaWxsaXNlY29uZHMuXG5cdFx0ICogQHByb3BlcnR5IG9mZnNldFxuXHRcdCAqIEB0eXBlIHtudW1iZXJ9XG5cdFx0ICogQGRlZmF1bHQgbnVsbFxuXHRcdCAqL1xuXHRcdHRoaXMub2Zmc2V0ID0gbnVsbDtcblxuXHRcdC8qKlxuXHRcdCAqIEhvdyBtYW55IHRpbWVzIHRoZSBhdWRpbyBsb29wcyB3aGVuIGl0IHJlYWNoZXMgdGhlIGVuZCBvZiBwbGF5YmFjay4gVGhlIGRlZmF1bHQgaXMgMCAobm9cblx0XHQgKiBsb29wcyksIGFuZCAtMSBjYW4gYmUgdXNlZCBmb3IgaW5maW5pdGUgcGxheWJhY2suXG5cdFx0ICogQHByb3BlcnR5IGxvb3Bcblx0XHQgKiBAdHlwZSB7bnVtYmVyfVxuXHRcdCAqIEBkZWZhdWx0IG51bGxcblx0XHQgKi9cblx0XHR0aGlzLmxvb3AgPSBudWxsO1xuXG5cdFx0LyoqXG5cdFx0ICogVGhlIHZvbHVtZSBvZiB0aGUgc291bmQsIGJldHdlZW4gMCBhbmQgMS4gTm90ZSB0aGF0IHRoZSBtYXN0ZXIgdm9sdW1lIGlzIGFwcGxpZWRcblx0XHQgKiBhZ2FpbnN0IHRoZSBpbmRpdmlkdWFsIHZvbHVtZS5cblx0XHQgKiBAcHJvcGVydHkgdm9sdW1lXG5cdFx0ICogQHR5cGUge251bWJlcn1cblx0XHQgKiBAZGVmYXVsdCBudWxsXG5cdFx0ICovXG5cdFx0dGhpcy52b2x1bWUgPSBudWxsO1xuXG5cdFx0LyoqXG5cdFx0ICogVGhlIGxlZnQtcmlnaHQgcGFuIG9mIHRoZSBzb3VuZCAoaWYgc3VwcG9ydGVkKSwgYmV0d2VlbiAtMSAobGVmdCkgYW5kIDEgKHJpZ2h0KS5cblx0XHQgKiBAcHJvcGVydHkgcGFuXG5cdFx0ICogQHR5cGUge251bWJlcn1cblx0XHQgKiBAZGVmYXVsdCBudWxsXG5cdFx0ICovXG5cdFx0dGhpcy5wYW4gPSBudWxsO1xuXG5cdFx0LyoqXG5cdFx0ICogVXNlZCB0byBjcmVhdGUgYW4gYXVkaW8gc3ByaXRlICh3aXRoIGR1cmF0aW9uKSwgdGhlIGluaXRpYWwgb2Zmc2V0IHRvIHN0YXJ0IHBsYXliYWNrIGFuZCBsb29wIGZyb20sIGluIG1pbGxpc2Vjb25kcy5cblx0XHQgKiBAcHJvcGVydHkgc3RhcnRUaW1lXG5cdFx0ICogQHR5cGUge251bWJlcn1cblx0XHQgKiBAZGVmYXVsdCBudWxsXG5cdFx0ICovXG5cdFx0dGhpcy5zdGFydFRpbWUgPSBudWxsO1xuXG5cdFx0LyoqXG5cdFx0ICogVXNlZCB0byBjcmVhdGUgYW4gYXVkaW8gc3ByaXRlICh3aXRoIHN0YXJ0VGltZSksIHRoZSBhbW91bnQgb2YgdGltZSB0byBwbGF5IHRoZSBjbGlwIGZvciwgaW4gbWlsbGlzZWNvbmRzLlxuXHRcdCAqIEBwcm9wZXJ0eSBkdXJhdGlvblxuXHRcdCAqIEB0eXBlIHtudW1iZXJ9XG5cdFx0ICogQGRlZmF1bHQgbnVsbFxuXHRcdCAqL1xuXHRcdHRoaXMuZHVyYXRpb24gPSBudWxsO1xuXHR9O1xuXHR2YXIgcCA9IFBsYXlQcm9wc0NvbmZpZy5wcm90b3R5cGUgPSB7fTtcblx0dmFyIHMgPSBQbGF5UHJvcHNDb25maWc7XG5cblxuLy8gU3RhdGljIE1ldGhvZHNcblx0LyoqXG5cdCAqIENyZWF0ZXMgYSBQbGF5UHJvcHNDb25maWcgZnJvbSBhbm90aGVyIFBsYXlQcm9wc0NvbmZpZyBvciBhbiBPYmplY3QuXG5cdCAqXG5cdCAqIEBtZXRob2QgY3JlYXRlXG5cdCAqIEBwYXJhbSB7UGxheVByb3BzQ29uZmlnfE9iamVjdH0gdmFsdWUgVGhlIHBsYXkgcHJvcGVydGllc1xuXHQgKiBAcmV0dXJucyB7UGxheVByb3BzQ29uZmlnfVxuXHQgKiBAc3RhdGljXG5cdCAqL1xuXHRzLmNyZWF0ZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuXHRcdGlmICh0eXBlb2YodmFsdWUpID09PSBcInN0cmluZ1wiKSB7XG5cdFx0XHQvLyBIYW5kbGUgdGhlIG9sZCBBUEkgZ3JhY2VmdWxseS5cblx0XHRcdGNvbnNvbGUgJiYgKGNvbnNvbGUud2FybiB8fCBjb25zb2xlLmxvZykoXCJEZXByZWNhdGVkIGJlaGF2aW91ci4gU291bmQucGxheSB0YWtlcyBhIGNvbmZpZ3VyYXRpb24gb2JqZWN0IGluc3RlYWQgb2YgaW5kaXZpZHVhbCBhcmd1bWVudHMuIFNlZSBkb2NzIGZvciBpbmZvLlwiKTtcblx0XHRcdHJldHVybiBuZXcgY3JlYXRlanMuUGxheVByb3BzQ29uZmlnKCkuc2V0KHtpbnRlcnJ1cHQ6dmFsdWV9KTtcblx0XHR9IGVsc2UgaWYgKHZhbHVlID09IG51bGwgfHwgdmFsdWUgaW5zdGFuY2VvZiBzIHx8IHZhbHVlIGluc3RhbmNlb2YgT2JqZWN0KSB7XG5cdFx0XHRyZXR1cm4gbmV3IGNyZWF0ZWpzLlBsYXlQcm9wc0NvbmZpZygpLnNldCh2YWx1ZSk7XG5cdFx0fSBlbHNlIGlmICh2YWx1ZSA9PSBudWxsKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJQbGF5UHJvcHMgY29uZmlndXJhdGlvbiBub3QgcmVjb2duaXplZC5cIik7XG5cdFx0fVxuXHR9O1xuXG4vLyBQdWJsaWMgTWV0aG9kc1xuXHQvKipcblx0ICogUHJvdmlkZXMgYSBjaGFpbmFibGUgc2hvcnRjdXQgbWV0aG9kIGZvciBzZXR0aW5nIGEgbnVtYmVyIG9mIHByb3BlcnRpZXMgb24gdGhlIGluc3RhbmNlLlxuXHQgKlxuXHQgKiA8aDQ+RXhhbXBsZTwvaDQ+XG5cdCAqXG5cdCAqICAgICAgdmFyIFBsYXlQcm9wc0NvbmZpZyA9IG5ldyBjcmVhdGVqcy5QbGF5UHJvcHNDb25maWcoKS5zZXQoe2xvb3A6LTEsIHZvbHVtZTowLjd9KTtcblx0ICpcblx0ICogQG1ldGhvZCBzZXRcblx0ICogQHBhcmFtIHtPYmplY3R9IHByb3BzIEEgZ2VuZXJpYyBvYmplY3QgY29udGFpbmluZyBwcm9wZXJ0aWVzIHRvIGNvcHkgdG8gdGhlIFBsYXlQcm9wc0NvbmZpZyBpbnN0YW5jZS5cblx0ICogQHJldHVybiB7UGxheVByb3BzQ29uZmlnfSBSZXR1cm5zIHRoZSBpbnN0YW5jZSB0aGUgbWV0aG9kIGlzIGNhbGxlZCBvbiAodXNlZnVsIGZvciBjaGFpbmluZyBjYWxscy4pXG5cdCovXG5cdHAuc2V0ID0gZnVuY3Rpb24ocHJvcHMpIHtcblx0XHRpZiAocHJvcHMgIT0gbnVsbCkge1xuXHRcdFx0Zm9yICh2YXIgbiBpbiBwcm9wcykgeyB0aGlzW25dID0gcHJvcHNbbl07IH1cblx0XHR9XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH07XG5cblx0cC50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBcIltQbGF5UHJvcHNDb25maWddXCI7XG5cdH07XG5cblx0Y3JlYXRlanMuUGxheVByb3BzQ29uZmlnID0gcztcblxufSgpKTtcblxuLy8jIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyNcbi8vIFNvdW5kLmpzXG4vLyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI1xuXG4oZnVuY3Rpb24gKCkge1xuXHRcInVzZSBzdHJpY3RcIjtcblxuXHQvKipcblx0ICogVGhlIFNvdW5kIGNsYXNzIGlzIHRoZSBwdWJsaWMgQVBJIGZvciBjcmVhdGluZyBzb3VuZHMsIGNvbnRyb2xsaW5nIHRoZSBvdmVyYWxsIHNvdW5kIGxldmVscywgYW5kIG1hbmFnaW5nIHBsdWdpbnMuXG5cdCAqIEFsbCBTb3VuZCBBUElzIG9uIHRoaXMgY2xhc3MgYXJlIHN0YXRpYy5cblx0ICpcblx0ICogPGI+UmVnaXN0ZXJpbmcgYW5kIFByZWxvYWRpbmc8L2I+PGJyIC8+XG5cdCAqIEJlZm9yZSB5b3UgY2FuIHBsYXkgYSBzb3VuZCwgaXQgPGI+bXVzdDwvYj4gYmUgcmVnaXN0ZXJlZC4gWW91IGNhbiBkbyB0aGlzIHdpdGgge3sjY3Jvc3NMaW5rIFwiU291bmQvcmVnaXN0ZXJTb3VuZFwifX17ey9jcm9zc0xpbmt9fSxcblx0ICogb3IgcmVnaXN0ZXIgbXVsdGlwbGUgc291bmRzIHVzaW5nIHt7I2Nyb3NzTGluayBcIlNvdW5kL3JlZ2lzdGVyU291bmRzXCJ9fXt7L2Nyb3NzTGlua319LiBJZiB5b3UgZG9uJ3QgcmVnaXN0ZXIgYVxuXHQgKiBzb3VuZCBwcmlvciB0byBhdHRlbXB0aW5nIHRvIHBsYXkgaXQgdXNpbmcge3sjY3Jvc3NMaW5rIFwiU291bmQvcGxheVwifX17ey9jcm9zc0xpbmt9fSBvciBjcmVhdGUgaXQgdXNpbmcge3sjY3Jvc3NMaW5rIFwiU291bmQvY3JlYXRlSW5zdGFuY2VcIn19e3svY3Jvc3NMaW5rfX0sXG5cdCAqIHRoZSBzb3VuZCBzb3VyY2Ugd2lsbCBiZSBhdXRvbWF0aWNhbGx5IHJlZ2lzdGVyZWQgYnV0IHBsYXliYWNrIHdpbGwgZmFpbCBhcyB0aGUgc291cmNlIHdpbGwgbm90IGJlIHJlYWR5LiBJZiB5b3UgdXNlXG5cdCAqIDxhIGhyZWY9XCJodHRwOi8vcHJlbG9hZGpzLmNvbVwiIHRhcmdldD1cIl9ibGFua1wiPlByZWxvYWRKUzwvYT4sIHJlZ2lzdHJhdGlvbiBpcyBoYW5kbGVkIGZvciB5b3Ugd2hlbiB0aGUgc291bmQgaXNcblx0ICogcHJlbG9hZGVkLiBJdCBpcyByZWNvbW1lbmRlZCB0byBwcmVsb2FkIHNvdW5kcyBlaXRoZXIgaW50ZXJuYWxseSB1c2luZyB0aGUgcmVnaXN0ZXIgZnVuY3Rpb25zIG9yIGV4dGVybmFsbHkgdXNpbmdcblx0ICogUHJlbG9hZEpTIHNvIHRoZXkgYXJlIHJlYWR5IHdoZW4geW91IHdhbnQgdG8gdXNlIHRoZW0uXG5cdCAqXG5cdCAqIDxiPlBsYXliYWNrPC9iPjxiciAvPlxuXHQgKiBUbyBwbGF5IGEgc291bmQgb25jZSBpdCdzIGJlZW4gcmVnaXN0ZXJlZCBhbmQgcHJlbG9hZGVkLCB1c2UgdGhlIHt7I2Nyb3NzTGluayBcIlNvdW5kL3BsYXlcIn19e3svY3Jvc3NMaW5rfX0gbWV0aG9kLlxuXHQgKiBUaGlzIG1ldGhvZCByZXR1cm5zIGEge3sjY3Jvc3NMaW5rIFwiQWJzdHJhY3RTb3VuZEluc3RhbmNlXCJ9fXt7L2Nyb3NzTGlua319IHdoaWNoIGNhbiBiZSBwYXVzZWQsIHJlc3VtZWQsIG11dGVkLCBldGMuXG5cdCAqIFBsZWFzZSBzZWUgdGhlIHt7I2Nyb3NzTGluayBcIkFic3RyYWN0U291bmRJbnN0YW5jZVwifX17ey9jcm9zc0xpbmt9fSBkb2N1bWVudGF0aW9uIGZvciBtb3JlIG9uIHRoZSBpbnN0YW5jZSBjb250cm9sIEFQSXMuXG5cdCAqXG5cdCAqIDxiPlBsdWdpbnM8L2I+PGJyIC8+XG5cdCAqIEJ5IGRlZmF1bHQsIHRoZSB7eyNjcm9zc0xpbmsgXCJXZWJBdWRpb1BsdWdpblwifX17ey9jcm9zc0xpbmt9fSBvciB0aGUge3sjY3Jvc3NMaW5rIFwiSFRNTEF1ZGlvUGx1Z2luXCJ9fXt7L2Nyb3NzTGlua319XG5cdCAqIGFyZSB1c2VkICh3aGVuIGF2YWlsYWJsZSksIGFsdGhvdWdoIGRldmVsb3BlcnMgY2FuIGNoYW5nZSBwbHVnaW4gcHJpb3JpdHkgb3IgYWRkIG5ldyBwbHVnaW5zIChzdWNoIGFzIHRoZVxuXHQgKiBwcm92aWRlZCB7eyNjcm9zc0xpbmsgXCJGbGFzaEF1ZGlvUGx1Z2luXCJ9fXt7L2Nyb3NzTGlua319KS4gUGxlYXNlIHNlZSB0aGUge3sjY3Jvc3NMaW5rIFwiU291bmRcIn19e3svY3Jvc3NMaW5rfX0gQVBJXG5cdCAqIG1ldGhvZHMgZm9yIG1vcmUgb24gdGhlIHBsYXliYWNrIGFuZCBwbHVnaW4gQVBJcy4gVG8gaW5zdGFsbCBwbHVnaW5zLCBvciBzcGVjaWZ5IGEgZGlmZmVyZW50IHBsdWdpbiBvcmRlciwgc2VlXG5cdCAqIHt7I2Nyb3NzTGluayBcIlNvdW5kL2luc3RhbGxQbHVnaW5zXCJ9fXt7L2Nyb3NzTGlua319LlxuXHQgKlxuXHQgKiA8aDQ+RXhhbXBsZTwvaDQ+XG5cdCAqXG5cdCAqICAgICAgY3JlYXRlanMuRmxhc2hBdWRpb1BsdWdpbi5zd2ZQYXRoID0gXCIuLi9zcmMvc291bmRqcy9mbGFzaGF1ZGlvXCI7XG5cdCAqICAgICAgY3JlYXRlanMuU291bmQucmVnaXN0ZXJQbHVnaW5zKFtjcmVhdGVqcy5XZWJBdWRpb1BsdWdpbiwgY3JlYXRlanMuRmxhc2hBdWRpb1BsdWdpbl0pO1xuXHQgKiAgICAgIGNyZWF0ZWpzLlNvdW5kLmFsdGVybmF0ZUV4dGVuc2lvbnMgPSBbXCJtcDNcIl07XG5cdCAqICAgICAgY3JlYXRlanMuU291bmQub24oXCJmaWxlbG9hZFwiLCB0aGlzLmxvYWRIYW5kbGVyLCB0aGlzKTtcblx0ICogICAgICBjcmVhdGVqcy5Tb3VuZC5yZWdpc3RlclNvdW5kKFwicGF0aC90by9teVNvdW5kLm9nZ1wiLCBcInNvdW5kXCIpO1xuXHQgKiAgICAgIGZ1bmN0aW9uIGxvYWRIYW5kbGVyKGV2ZW50KSB7XG4gICAgICogICAgICAgICAgLy8gVGhpcyBpcyBmaXJlZCBmb3IgZWFjaCBzb3VuZCB0aGF0IGlzIHJlZ2lzdGVyZWQuXG4gICAgICogICAgICAgICAgdmFyIGluc3RhbmNlID0gY3JlYXRlanMuU291bmQucGxheShcInNvdW5kXCIpOyAgLy8gcGxheSB1c2luZyBpZC4gIENvdWxkIGFsc28gdXNlIGZ1bGwgc291cmNlIHBhdGggb3IgZXZlbnQuc3JjLlxuICAgICAqICAgICAgICAgIGluc3RhbmNlLm9uKFwiY29tcGxldGVcIiwgdGhpcy5oYW5kbGVDb21wbGV0ZSwgdGhpcyk7XG4gICAgICogICAgICAgICAgaW5zdGFuY2Uudm9sdW1lID0gMC41O1xuXHQgKiAgICAgIH1cblx0ICpcblx0ICogVGhlIG1heGltdW0gbnVtYmVyIG9mIGNvbmN1cnJlbnRseSBwbGF5aW5nIGluc3RhbmNlcyBvZiB0aGUgc2FtZSBzb3VuZCBjYW4gYmUgc3BlY2lmaWVkIGluIHRoZSBcImRhdGFcIiBhcmd1bWVudFxuXHQgKiBvZiB7eyNjcm9zc0xpbmsgXCJTb3VuZC9yZWdpc3RlclNvdW5kXCJ9fXt7L2Nyb3NzTGlua319LiAgTm90ZSB0aGF0IGlmIG5vdCBzcGVjaWZpZWQsIHRoZSBhY3RpdmUgcGx1Z2luIHdpbGwgYXBwbHlcblx0ICogYSBkZWZhdWx0IGxpbWl0LiAgQ3VycmVudGx5IEhUTUxBdWRpb1BsdWdpbiBzZXRzIGEgZGVmYXVsdCBsaW1pdCBvZiAyLCB3aGlsZSBXZWJBdWRpb1BsdWdpbiBhbmQgRmxhc2hBdWRpb1BsdWdpbiBzZXQgYVxuXHQgKiBkZWZhdWx0IGxpbWl0IG9mIDEwMC5cblx0ICpcblx0ICogICAgICBjcmVhdGVqcy5Tb3VuZC5yZWdpc3RlclNvdW5kKFwic291bmQubXAzXCIsIFwic291bmRJZFwiLCA0KTtcblx0ICpcblx0ICogU291bmQgY2FuIGJlIHVzZWQgYXMgYSBwbHVnaW4gd2l0aCBQcmVsb2FkSlMgdG8gaGVscCBwcmVsb2FkIGF1ZGlvIHByb3Blcmx5LiBBdWRpbyBwcmVsb2FkZWQgd2l0aCBQcmVsb2FkSlMgaXNcblx0ICogYXV0b21hdGljYWxseSByZWdpc3RlcmVkIHdpdGggdGhlIFNvdW5kIGNsYXNzLiBXaGVuIGF1ZGlvIGlzIG5vdCBwcmVsb2FkZWQsIFNvdW5kIHdpbGwgZG8gYW4gYXV0b21hdGljIGludGVybmFsXG5cdCAqIGxvYWQuIEFzIGEgcmVzdWx0LCBpdCBtYXkgZmFpbCB0byBwbGF5IHRoZSBmaXJzdCB0aW1lIHBsYXkgaXMgY2FsbGVkIGlmIHRoZSBhdWRpbyBpcyBub3QgZmluaXNoZWQgbG9hZGluZy4gVXNlXG5cdCAqIHRoZSB7eyNjcm9zc0xpbmsgXCJTb3VuZC9maWxlbG9hZDpldmVudFwifX17ey9jcm9zc0xpbmt9fSBldmVudCB0byBkZXRlcm1pbmUgd2hlbiBhIHNvdW5kIGhhcyBmaW5pc2hlZCBpbnRlcm5hbGx5XG5cdCAqIHByZWxvYWRpbmcuIEl0IGlzIHJlY29tbWVuZGVkIHRoYXQgYWxsIGF1ZGlvIGlzIHByZWxvYWRlZCBiZWZvcmUgaXQgaXMgcGxheWVkLlxuXHQgKlxuXHQgKiAgICAgIHZhciBxdWV1ZSA9IG5ldyBjcmVhdGVqcy5Mb2FkUXVldWUoKTtcblx0ICpcdFx0cXVldWUuaW5zdGFsbFBsdWdpbihjcmVhdGVqcy5Tb3VuZCk7XG5cdCAqXG5cdCAqIDxiPkF1ZGlvIFNwcml0ZXM8L2I+PGJyIC8+XG5cdCAqIFNvdW5kSlMgaGFzIGFkZGVkIHN1cHBvcnQgZm9yIHt7I2Nyb3NzTGluayBcIkF1ZGlvU3ByaXRlXCJ9fXt7L2Nyb3NzTGlua319LCBhdmFpbGFibGUgYXMgb2YgdmVyc2lvbiAwLjYuMC5cblx0ICogRm9yIHRob3NlIHVuZmFtaWxpYXIgd2l0aCBhdWRpbyBzcHJpdGVzLCB0aGV5IGFyZSBtdWNoIGxpa2UgQ1NTIHNwcml0ZXMgb3Igc3ByaXRlIHNoZWV0czogbXVsdGlwbGUgYXVkaW8gYXNzZXRzXG5cdCAqIGdyb3VwZWQgaW50byBhIHNpbmdsZSBmaWxlLlxuXHQgKlxuXHQgKiA8aDQ+RXhhbXBsZTwvaDQ+XG5cdCAqXG5cdCAqXHRcdHZhciBhc3NldHNQYXRoID0gXCIuL2Fzc2V0cy9cIjtcblx0ICpcdFx0dmFyIHNvdW5kcyA9IFt7XG5cdCAqXHRcdFx0c3JjOlwiTXlBdWRpb1Nwcml0ZS5vZ2dcIiwgZGF0YToge1xuXHQgKlx0XHRcdFx0YXVkaW9TcHJpdGU6IFtcblx0ICpcdFx0XHRcdFx0e2lkOlwic291bmQxXCIsIHN0YXJ0VGltZTowLCBkdXJhdGlvbjo1MDB9LFxuXHQgKlx0XHRcdFx0XHR7aWQ6XCJzb3VuZDJcIiwgc3RhcnRUaW1lOjEwMDAsIGR1cmF0aW9uOjQwMH0sXG5cdCAqXHRcdFx0XHRcdHtpZDpcInNvdW5kM1wiLCBzdGFydFRpbWU6MTcwMCwgZHVyYXRpb246IDEwMDB9XG5cdCAqXHRcdFx0XHRdfVxuIFx0ICpcdFx0XHR9XG5cdCAqXHRcdF07XG5cdCAqXHRcdGNyZWF0ZWpzLlNvdW5kLmFsdGVybmF0ZUV4dGVuc2lvbnMgPSBbXCJtcDNcIl07XG5cdCAqXHRcdGNyZWF0ZWpzLlNvdW5kLm9uKFwiZmlsZWxvYWRcIiwgbG9hZFNvdW5kKTtcblx0ICpcdFx0Y3JlYXRlanMuU291bmQucmVnaXN0ZXJTb3VuZHMoc291bmRzLCBhc3NldHNQYXRoKTtcblx0ICpcdFx0Ly8gYWZ0ZXIgbG9hZCBpcyBjb21wbGV0ZVxuXHQgKlx0XHRjcmVhdGVqcy5Tb3VuZC5wbGF5KFwic291bmQyXCIpO1xuXHQgKlxuXHQgKiA8Yj5Nb2JpbGUgUGxheWJhY2s8L2I+PGJyIC8+XG5cdCAqIERldmljZXMgcnVubmluZyBpT1MgcmVxdWlyZSB0aGUgV2ViQXVkaW8gY29udGV4dCB0byBiZSBcInVubG9ja2VkXCIgYnkgcGxheWluZyBhdCBsZWFzdCBvbmUgc291bmQgaW5zaWRlIG9mIGEgdXNlci1cblx0ICogaW5pdGlhdGVkIGV2ZW50IChzdWNoIGFzIHRvdWNoL2NsaWNrKS4gRWFybGllciB2ZXJzaW9ucyBvZiBTb3VuZEpTIGluY2x1ZGVkIGEgXCJNb2JpbGVTYWZlXCIgc2FtcGxlLCBidXQgdGhpcyBpcyBub1xuXHQgKiBsb25nZXIgbmVjZXNzYXJ5IGFzIG9mIFNvdW5kSlMgMC42LjIuXG5cdCAqIDx1bD5cblx0ICogICAgIDxsaT5cblx0ICogICAgICAgICBJbiBTb3VuZEpTIDAuNC4xIGFuZCBhYm92ZSwgeW91IGNhbiBlaXRoZXIgaW5pdGlhbGl6ZSBwbHVnaW5zIG9yIHVzZSB0aGUge3sjY3Jvc3NMaW5rIFwiV2ViQXVkaW9QbHVnaW4vcGxheUVtcHR5U291bmRcIn19e3svY3Jvc3NMaW5rfX1cblx0ICogICAgICAgICBtZXRob2QgaW4gdGhlIGNhbGwgc3RhY2sgb2YgYSB1c2VyIGlucHV0IGV2ZW50IHRvIG1hbnVhbGx5IHVubG9jayB0aGUgYXVkaW8gY29udGV4dC5cblx0ICogICAgIDwvbGk+XG5cdCAqICAgICA8bGk+XG5cdCAqICAgICAgICAgSW4gU291bmRKUyAwLjYuMiBhbmQgYWJvdmUsIFNvdW5kSlMgd2lsbCBhdXRvbWF0aWNhbGx5IGxpc3RlbiBmb3IgdGhlIGZpcnN0IGRvY3VtZW50LWxldmVsIFwibW91c2Vkb3duXCJcblx0ICogICAgICAgICBhbmQgXCJ0b3VjaGVuZFwiIGV2ZW50LCBhbmQgdW5sb2NrIFdlYkF1ZGlvLiBUaGlzIHdpbGwgY29udGludWUgdG8gY2hlY2sgdGhlc2UgZXZlbnRzIHVudGlsIHRoZSBXZWJBdWRpb1xuXHQgKiAgICAgICAgIGNvbnRleHQgYmVjb21lcyBcInVubG9ja2VkXCIgKGNoYW5nZXMgZnJvbSBcInN1c3BlbmRlZFwiIHRvIFwicnVubmluZ1wiKVxuXHQgKiAgICAgPC9saT5cblx0ICogICAgIDxsaT5cblx0ICogICAgICAgICBCb3RoIHRoZSBcIm1vdXNlZG93blwiIGFuZCBcInRvdWNoZW5kXCIgZXZlbnRzIGNhbiBiZSB1c2VkIHRvIHVubG9jayBhdWRpbyBpbiBpT1M5KywgdGhlIFwidG91Y2hzdGFydFwiIGV2ZW50XG5cdCAqICAgICAgICAgd2lsbCB3b3JrIGluIGlPUzggYW5kIGJlbG93LiBUaGUgXCJ0b3VjaGVuZFwiIGV2ZW50IHdpbGwgb25seSB3b3JrIGluIGlPUzkgd2hlbiB0aGUgZ2VzdHVyZSBpcyBpbnRlcnByZXRlZFxuXHQgKiAgICAgICAgIGFzIGEgXCJjbGlja1wiLCBzbyBpZiB0aGUgdXNlciBsb25nLXByZXNzZXMgdGhlIGJ1dHRvbiwgaXQgd2lsbCBubyBsb25nZXIgd29yay5cblx0ICogICAgIDwvbGk+XG5cdCAqICAgICA8bGk+XG5cdCAqICAgICAgICAgV2hlbiB1c2luZyB0aGUgPGEgaHJlZj1cImh0dHA6Ly93d3cuY3JlYXRlanMuY29tL2RvY3MvZWFzZWxqcy9jbGFzc2VzL1RvdWNoLmh0bWxcIj5FYXNlbEpTIFRvdWNoIGNsYXNzPC9hPixcblx0ICogICAgICAgICB0aGUgXCJtb3VzZWRvd25cIiBldmVudCB3aWxsIG5vdCBmaXJlIHdoZW4gYSBjYW52YXMgaXMgY2xpY2tlZCwgc2luY2UgTW91c2VFdmVudHMgYXJlIHByZXZlbnRlZCwgdG8gZW5zdXJlXG5cdCAqICAgICAgICAgb25seSB0b3VjaCBldmVudHMgZmlyZS4gVG8gZ2V0IGFyb3VuZCB0aGlzLCB5b3UgY2FuIGVpdGhlciByZWx5IG9uIFwidG91Y2hlbmRcIiwgb3I6XG5cdCAqICAgICAgICAgPG9sPlxuXHQgKiAgICAgICAgICAgICA8bGk+U2V0IHRoZSBgYWxsb3dEZWZhdWx0YCBwcm9wZXJ0eSBvbiB0aGUgVG91Y2ggY2xhc3MgY29uc3RydWN0b3IgdG8gYHRydWVgIChkZWZhdWx0cyB0byBgZmFsc2VgKS48L2xpPlxuXHQgKiAgICAgICAgICAgICA8bGk+U2V0IHRoZSBgcHJldmVudFNlbGVjdGlvbmAgcHJvcGVydHkgb24gdGhlIEVhc2VsSlMgYFN0YWdlYCB0byBgZmFsc2VgLjwvbGk+XG5cdCAqICAgICAgICAgPC9vbD5cblx0ICogICAgICAgICBUaGVzZSBzZXR0aW5ncyBtYXkgY2hhbmdlIGhvdyB5b3VyIGFwcGxpY2F0aW9uIGJlaGF2ZXMsIGFuZCBhcmUgbm90IHJlY29tbWVuZGVkLlxuXHQgKiAgICAgPC9saT5cblx0ICogPC91bD5cblx0ICpcblx0ICogPGI+TG9hZGluZyBBbHRlcm5hdGUgUGF0aHMgYW5kIEV4dGVuc2lvbi1sZXNzIEZpbGVzPC9iPjxiciAvPlxuXHQgKiBTb3VuZEpTIHN1cHBvcnRzIGxvYWRpbmcgYWx0ZXJuYXRlIHBhdGhzIGFuZCBleHRlbnNpb24tbGVzcyBmaWxlcyBieSBwYXNzaW5nIGFuIG9iamVjdCBpbnN0ZWFkIG9mIGEgc3RyaW5nIGZvclxuXHQgKiB0aGUgYHNyY2AgcHJvcGVydHksIHdoaWNoIGlzIGEgaGFzaCB1c2luZyB0aGUgZm9ybWF0IGB7ZXh0ZW5zaW9uOlwicGF0aFwiLCBleHRlbnNpb24yOlwicGF0aDJcIn1gLiBUaGVzZSBsYWJlbHMgYXJlXG5cdCAqIGhvdyBTb3VuZEpTIGRldGVybWluZXMgaWYgdGhlIGJyb3dzZXIgd2lsbCBzdXBwb3J0IHRoZSBzb3VuZC4gVGhpcyBhbHNvIGVuYWJsZXMgbXVsdGlwbGUgZm9ybWF0cyB0byBsaXZlIGluXG5cdCAqIGRpZmZlcmVudCBmb2xkZXJzLCBvciBvbiBDRE5zLCB3aGljaCBvZnRlbiBoYXMgY29tcGxldGVseSBkaWZmZXJlbnQgZmlsZW5hbWVzIGZvciBlYWNoIGZpbGUuXG5cdCAqXG5cdCAqIFByaW9yaXR5IGlzIGRldGVybWluZWQgYnkgdGhlIHByb3BlcnR5IG9yZGVyIChmaXJzdCBwcm9wZXJ0eSBpcyB0cmllZCBmaXJzdCkuICBUaGlzIGlzIHN1cHBvcnRlZCBieSBib3RoIGludGVybmFsIGxvYWRpbmdcblx0ICogYW5kIGxvYWRpbmcgd2l0aCBQcmVsb2FkSlMuXG5cdCAqXG5cdCAqIDxlbT5Ob3RlOiBhbiBpZCBpcyByZXF1aXJlZCBmb3IgcGxheWJhY2suPC9lbT5cblx0ICpcblx0ICogPGg0PkV4YW1wbGU8L2g0PlxuXHQgKlxuXHQgKlx0XHR2YXIgc291bmRzID0ge3BhdGg6XCIuL2F1ZGlvUGF0aC9cIixcblx0ICogXHRcdFx0XHRtYW5pZmVzdDogW1xuXHQgKlx0XHRcdFx0e2lkOiBcImNvb2xcIiwgc3JjOiB7bXAzOlwibXAzL2F3ZXNvbWUubXAzXCIsIG9nZzpcIm5vRXh0ZW5zaW9uT2dnRmlsZVwifX1cblx0ICpcdFx0XX07XG5cdCAqXG5cdCAqXHRcdGNyZWF0ZWpzLlNvdW5kLmFsdGVybmF0ZUV4dGVuc2lvbnMgPSBbXCJtcDNcIl07XG5cdCAqXHRcdGNyZWF0ZWpzLlNvdW5kLmFkZEV2ZW50TGlzdGVuZXIoXCJmaWxlbG9hZFwiLCBoYW5kbGVMb2FkKTtcblx0ICpcdFx0Y3JlYXRlanMuU291bmQucmVnaXN0ZXJTb3VuZHMoc291bmRzKTtcblx0ICpcblx0ICogPGgzPktub3duIEJyb3dzZXIgYW5kIE9TIGlzc3VlczwvaDM+XG5cdCAqIDxiPklFIDkgSFRNTCBBdWRpbyBsaW1pdGF0aW9uczwvYj48YnIgLz5cblx0ICogPHVsPjxsaT5UaGVyZSBpcyBhIGRlbGF5IGluIGFwcGx5aW5nIHZvbHVtZSBjaGFuZ2VzIHRvIHRhZ3MgdGhhdCBvY2N1cnMgb25jZSBwbGF5YmFjayBpcyBzdGFydGVkLiBTbyBpZiB5b3UgaGF2ZVxuXHQgKiBtdXRlZCBhbGwgc291bmRzLCB0aGV5IHdpbGwgYWxsIHBsYXkgZHVyaW5nIHRoaXMgZGVsYXkgdW50aWwgdGhlIG11dGUgYXBwbGllcyBpbnRlcm5hbGx5LiBUaGlzIGhhcHBlbnMgcmVnYXJkbGVzcyBvZlxuXHQgKiB3aGVuIG9yIGhvdyB5b3UgYXBwbHkgdGhlIHZvbHVtZSBjaGFuZ2UsIGFzIHRoZSB0YWcgc2VlbXMgdG8gbmVlZCB0byBwbGF5IHRvIGFwcGx5IGl0LjwvbGk+XG4gICAgICogPGxpPk1QMyBlbmNvZGluZyB3aWxsIG5vdCBhbHdheXMgd29yayBmb3IgYXVkaW8gdGFncywgcGFydGljdWxhcmx5IGluIEludGVybmV0IEV4cGxvcmVyLiBXZSd2ZSBmb3VuZCBkZWZhdWx0XG5cdCAqIGVuY29kaW5nIHdpdGggNjRrYnBzIHdvcmtzLjwvbGk+XG5cdCAqIDxsaT5PY2Nhc2lvbmFsbHkgdmVyeSBzaG9ydCBzYW1wbGVzIHdpbGwgZ2V0IGN1dCBvZmYuPC9saT5cblx0ICogPGxpPlRoZXJlIGlzIGEgbGltaXQgdG8gaG93IG1hbnkgYXVkaW8gdGFncyB5b3UgY2FuIGxvYWQgYW5kIHBsYXkgYXQgb25jZSwgd2hpY2ggYXBwZWFycyB0byBiZSBkZXRlcm1pbmVkIGJ5XG5cdCAqIGhhcmR3YXJlIGFuZCBicm93c2VyIHNldHRpbmdzLiAgU2VlIHt7I2Nyb3NzTGluayBcIkhUTUxBdWRpb1BsdWdpbi5NQVhfSU5TVEFOQ0VTXCJ9fXt7L2Nyb3NzTGlua319IGZvciBhIHNhZmVcblx0ICogZXN0aW1hdGUuPC9saT48L3VsPlxuXHQgKlxuXHQgKiA8Yj5GaXJlZm94IDI1IFdlYiBBdWRpbyBsaW1pdGF0aW9uczwvYj5cblx0ICogPHVsPjxsaT5tcDMgYXVkaW8gZmlsZXMgZG8gbm90IGxvYWQgcHJvcGVybHkgb24gYWxsIHdpbmRvd3MgbWFjaGluZXMsIHJlcG9ydGVkXG5cdCAqIDxhIGhyZWY9XCJodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD05Mjk5NjlcIiB0YXJnZXQ9XCJfYmxhbmtcIj5oZXJlPC9hPi4gPC9icj5cblx0ICogRm9yIHRoaXMgcmVhc29uIGl0IGlzIHJlY29tbWVuZGVkIHRvIHBhc3MgYW5vdGhlciBGRiBzdXBwb3J0ZWQgdHlwZSAoaWUgb2dnKSBmaXJzdCB1bnRpbCB0aGlzIGJ1ZyBpcyByZXNvbHZlZCwgaWZcblx0ICogcG9zc2libGUuPC9saT48L3VsPlxuXG5cdCAqIDxiPlNhZmFyaSBsaW1pdGF0aW9uczwvYj48YnIgLz5cblx0ICogPHVsPjxsaT5TYWZhcmkgcmVxdWlyZXMgUXVpY2t0aW1lIHRvIGJlIGluc3RhbGxlZCBmb3IgYXVkaW8gcGxheWJhY2suPC9saT48L3VsPlxuXHQgKlxuXHQgKiA8Yj5pT1MgNiBXZWIgQXVkaW8gbGltaXRhdGlvbnM8L2I+PGJyIC8+XG5cdCAqIDx1bD48bGk+U291bmQgaXMgaW5pdGlhbGx5IGxvY2tlZCwgYW5kIG11c3QgYmUgdW5sb2NrZWQgdmlhIGEgdXNlci1pbml0aWF0ZWQgZXZlbnQuIFBsZWFzZSBzZWUgdGhlIHNlY3Rpb24gb25cblx0ICogTW9iaWxlIFBsYXliYWNrIGFib3ZlLjwvbGk+XG5cdCAqIDxsaT5BIGJ1ZyBleGlzdHMgdGhhdCB3aWxsIGRpc3RvcnQgdW4tY2FjaGVkIHdlYiBhdWRpbyB3aGVuIGEgdmlkZW8gZWxlbWVudCBpcyBwcmVzZW50IGluIHRoZSBET00gdGhhdCBoYXMgYXVkaW9cblx0ICogYXQgYSBkaWZmZXJlbnQgc2FtcGxlUmF0ZS48L2xpPlxuXHQgKiA8L3VsPlxuXHQgKlxuXHQgKiA8Yj5BbmRyb2lkIEhUTUwgQXVkaW8gbGltaXRhdGlvbnM8L2I+PGJyIC8+XG5cdCAqIDx1bD48bGk+V2UgaGF2ZSBubyBjb250cm9sIG92ZXIgYXVkaW8gdm9sdW1lLiBPbmx5IHRoZSB1c2VyIGNhbiBzZXQgdm9sdW1lIG9uIHRoZWlyIGRldmljZS48L2xpPlxuXHQgKiA8bGk+V2UgY2FuIG9ubHkgcGxheSBhdWRpbyBpbnNpZGUgYSB1c2VyIGV2ZW50ICh0b3VjaC9jbGljaykuICBUaGlzIGN1cnJlbnRseSBtZWFucyB5b3UgY2Fubm90IGxvb3Agc291bmQgb3IgdXNlXG5cdCAqIGEgZGVsYXkuPC9saT48L3VsPlxuXHQgKlxuXHQgKiA8Yj5XZWIgQXVkaW8gYW5kIFByZWxvYWRKUzwvYj48YnIgLz5cblx0ICogPHVsPjxsaT5XZWIgQXVkaW8gbXVzdCBiZSBsb2FkZWQgdGhyb3VnaCBYSFIsIHRoZXJlZm9yZSB3aGVuIHVzZWQgd2l0aCBQcmVsb2FkSlMsIHRhZyBsb2FkaW5nIGlzIG5vdCBwb3NzaWJsZS5cblx0ICogVGhpcyBtZWFucyB0aGF0IHRhZyBsb2FkaW5nIGNhbiBub3QgYmUgdXNlZCB0byBhdm9pZCBjcm9zcyBkb21haW4gaXNzdWVzLjwvbGk+PHVsPlxuXHQgKlxuXHQgKiBAY2xhc3MgU291bmRcblx0ICogQHN0YXRpY1xuXHQgKiBAdXNlcyBFdmVudERpc3BhdGNoZXJcblx0ICovXG5cdGZ1bmN0aW9uIFNvdW5kKCkge1xuXHRcdHRocm93IFwiU291bmQgY2Fubm90IGJlIGluc3RhbnRpYXRlZFwiO1xuXHR9XG5cblx0dmFyIHMgPSBTb3VuZDtcblxuXG4vLyBTdGF0aWMgUHJvcGVydGllc1xuXHQvKipcblx0ICogVGhlIGludGVycnVwdCB2YWx1ZSB0byBpbnRlcnJ1cHQgYW55IGN1cnJlbnRseSBwbGF5aW5nIGluc3RhbmNlIHdpdGggdGhlIHNhbWUgc291cmNlLCBpZiB0aGUgbWF4aW11bSBudW1iZXIgb2Zcblx0ICogaW5zdGFuY2VzIG9mIHRoZSBzb3VuZCBhcmUgYWxyZWFkeSBwbGF5aW5nLlxuXHQgKiBAcHJvcGVydHkgSU5URVJSVVBUX0FOWVxuXHQgKiBAdHlwZSB7U3RyaW5nfVxuXHQgKiBAZGVmYXVsdCBhbnlcblx0ICogQHN0YXRpY1xuXHQgKi9cblx0cy5JTlRFUlJVUFRfQU5ZID0gXCJhbnlcIjtcblxuXHQvKipcblx0ICogVGhlIGludGVycnVwdCB2YWx1ZSB0byBpbnRlcnJ1cHQgdGhlIGVhcmxpZXN0IGN1cnJlbnRseSBwbGF5aW5nIGluc3RhbmNlIHdpdGggdGhlIHNhbWUgc291cmNlIHRoYXQgcHJvZ3Jlc3NlZCB0aGVcblx0ICogbGVhc3QgZGlzdGFuY2UgaW4gdGhlIGF1ZGlvIHRyYWNrLCBpZiB0aGUgbWF4aW11bSBudW1iZXIgb2YgaW5zdGFuY2VzIG9mIHRoZSBzb3VuZCBhcmUgYWxyZWFkeSBwbGF5aW5nLlxuXHQgKiBAcHJvcGVydHkgSU5URVJSVVBUX0VBUkxZXG5cdCAqIEB0eXBlIHtTdHJpbmd9XG5cdCAqIEBkZWZhdWx0IGVhcmx5XG5cdCAqIEBzdGF0aWNcblx0ICovXG5cdHMuSU5URVJSVVBUX0VBUkxZID0gXCJlYXJseVwiO1xuXG5cdC8qKlxuXHQgKiBUaGUgaW50ZXJydXB0IHZhbHVlIHRvIGludGVycnVwdCB0aGUgY3VycmVudGx5IHBsYXlpbmcgaW5zdGFuY2Ugd2l0aCB0aGUgc2FtZSBzb3VyY2UgdGhhdCBwcm9ncmVzc2VkIHRoZSBtb3N0XG5cdCAqIGRpc3RhbmNlIGluIHRoZSBhdWRpbyB0cmFjaywgaWYgdGhlIG1heGltdW0gbnVtYmVyIG9mIGluc3RhbmNlcyBvZiB0aGUgc291bmQgYXJlIGFscmVhZHkgcGxheWluZy5cblx0ICogQHByb3BlcnR5IElOVEVSUlVQVF9MQVRFXG5cdCAqIEB0eXBlIHtTdHJpbmd9XG5cdCAqIEBkZWZhdWx0IGxhdGVcblx0ICogQHN0YXRpY1xuXHQgKi9cblx0cy5JTlRFUlJVUFRfTEFURSA9IFwibGF0ZVwiO1xuXG5cdC8qKlxuXHQgKiBUaGUgaW50ZXJydXB0IHZhbHVlIHRvIG5vdCBpbnRlcnJ1cHQgYW55IGN1cnJlbnRseSBwbGF5aW5nIGluc3RhbmNlcyB3aXRoIHRoZSBzYW1lIHNvdXJjZSwgaWYgdGhlIG1heGltdW0gbnVtYmVyIG9mXG5cdCAqIGluc3RhbmNlcyBvZiB0aGUgc291bmQgYXJlIGFscmVhZHkgcGxheWluZy5cblx0ICogQHByb3BlcnR5IElOVEVSUlVQVF9OT05FXG5cdCAqIEB0eXBlIHtTdHJpbmd9XG5cdCAqIEBkZWZhdWx0IG5vbmVcblx0ICogQHN0YXRpY1xuXHQgKi9cblx0cy5JTlRFUlJVUFRfTk9ORSA9IFwibm9uZVwiO1xuXG5cdC8qKlxuXHQgKiBEZWZpbmVzIHRoZSBwbGF5U3RhdGUgb2YgYW4gaW5zdGFuY2UgdGhhdCBpcyBzdGlsbCBpbml0aWFsaXppbmcuXG5cdCAqIEBwcm9wZXJ0eSBQTEFZX0lOSVRFRFxuXHQgKiBAdHlwZSB7U3RyaW5nfVxuXHQgKiBAZGVmYXVsdCBwbGF5SW5pdGVkXG5cdCAqIEBzdGF0aWNcblx0ICovXG5cdHMuUExBWV9JTklURUQgPSBcInBsYXlJbml0ZWRcIjtcblxuXHQvKipcblx0ICogRGVmaW5lcyB0aGUgcGxheVN0YXRlIG9mIGFuIGluc3RhbmNlIHRoYXQgaXMgY3VycmVudGx5IHBsYXlpbmcgb3IgcGF1c2VkLlxuXHQgKiBAcHJvcGVydHkgUExBWV9TVUNDRUVERURcblx0ICogQHR5cGUge1N0cmluZ31cblx0ICogQGRlZmF1bHQgcGxheVN1Y2NlZWRlZFxuXHQgKiBAc3RhdGljXG5cdCAqL1xuXHRzLlBMQVlfU1VDQ0VFREVEID0gXCJwbGF5U3VjY2VlZGVkXCI7XG5cblx0LyoqXG5cdCAqIERlZmluZXMgdGhlIHBsYXlTdGF0ZSBvZiBhbiBpbnN0YW5jZSB0aGF0IHdhcyBpbnRlcnJ1cHRlZCBieSBhbm90aGVyIGluc3RhbmNlLlxuXHQgKiBAcHJvcGVydHkgUExBWV9JTlRFUlJVUFRFRFxuXHQgKiBAdHlwZSB7U3RyaW5nfVxuXHQgKiBAZGVmYXVsdCBwbGF5SW50ZXJydXB0ZWRcblx0ICogQHN0YXRpY1xuXHQgKi9cblx0cy5QTEFZX0lOVEVSUlVQVEVEID0gXCJwbGF5SW50ZXJydXB0ZWRcIjtcblxuXHQvKipcblx0ICogRGVmaW5lcyB0aGUgcGxheVN0YXRlIG9mIGFuIGluc3RhbmNlIHRoYXQgY29tcGxldGVkIHBsYXliYWNrLlxuXHQgKiBAcHJvcGVydHkgUExBWV9GSU5JU0hFRFxuXHQgKiBAdHlwZSB7U3RyaW5nfVxuXHQgKiBAZGVmYXVsdCBwbGF5RmluaXNoZWRcblx0ICogQHN0YXRpY1xuXHQgKi9cblx0cy5QTEFZX0ZJTklTSEVEID0gXCJwbGF5RmluaXNoZWRcIjtcblxuXHQvKipcblx0ICogRGVmaW5lcyB0aGUgcGxheVN0YXRlIG9mIGFuIGluc3RhbmNlIHRoYXQgZmFpbGVkIHRvIHBsYXkuIFRoaXMgaXMgdXN1YWxseSBjYXVzZWQgYnkgYSBsYWNrIG9mIGF2YWlsYWJsZSBjaGFubmVsc1xuXHQgKiB3aGVuIHRoZSBpbnRlcnJ1cHQgbW9kZSB3YXMgXCJJTlRFUlJVUFRfTk9ORVwiLCB0aGUgcGxheWJhY2sgc3RhbGxlZCwgb3IgdGhlIHNvdW5kIGNvdWxkIG5vdCBiZSBmb3VuZC5cblx0ICogQHByb3BlcnR5IFBMQVlfRkFJTEVEXG5cdCAqIEB0eXBlIHtTdHJpbmd9XG5cdCAqIEBkZWZhdWx0IHBsYXlGYWlsZWRcblx0ICogQHN0YXRpY1xuXHQgKi9cblx0cy5QTEFZX0ZBSUxFRCA9IFwicGxheUZhaWxlZFwiO1xuXG5cdC8qKlxuXHQgKiBBIGxpc3Qgb2YgdGhlIGRlZmF1bHQgc3VwcG9ydGVkIGV4dGVuc2lvbnMgdGhhdCBTb3VuZCB3aWxsIDxpPnRyeTwvaT4gdG8gcGxheS4gUGx1Z2lucyB3aWxsIGNoZWNrIGlmIHRoZSBicm93c2VyXG5cdCAqIGNhbiBwbGF5IHRoZXNlIHR5cGVzLCBzbyBtb2RpZnlpbmcgdGhpcyBsaXN0IGJlZm9yZSBhIHBsdWdpbiBpcyBpbml0aWFsaXplZCB3aWxsIGFsbG93IHRoZSBwbHVnaW5zIHRvIHRyeSB0b1xuXHQgKiBzdXBwb3J0IGFkZGl0aW9uYWwgbWVkaWEgdHlwZXMuXG5cdCAqXG5cdCAqIE5PVEUgdGhpcyBkb2VzIG5vdCBjdXJyZW50bHkgd29yayBmb3Ige3sjY3Jvc3NMaW5rIFwiRmxhc2hBdWRpb1BsdWdpblwifX17ey9jcm9zc0xpbmt9fS5cblx0ICpcblx0ICogTW9yZSBkZXRhaWxzIG9uIGZpbGUgZm9ybWF0cyBjYW4gYmUgZm91bmQgYXQgPGEgaHJlZj1cImh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQXVkaW9fZmlsZV9mb3JtYXRcIiB0YXJnZXQ9XCJfYmxhbmtcIj5odHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0F1ZGlvX2ZpbGVfZm9ybWF0PC9hPi48YnIgLz5cblx0ICogQSB2ZXJ5IGRldGFpbGVkIGxpc3Qgb2YgZmlsZSBmb3JtYXRzIGNhbiBiZSBmb3VuZCBhdCA8YSBocmVmPVwiaHR0cDovL3d3dy5maWxlaW5mby5jb20vZmlsZXR5cGVzL2F1ZGlvXCIgdGFyZ2V0PVwiX2JsYW5rXCI+aHR0cDovL3d3dy5maWxlaW5mby5jb20vZmlsZXR5cGVzL2F1ZGlvPC9hPi5cblx0ICogQHByb3BlcnR5IFNVUFBPUlRFRF9FWFRFTlNJT05TXG5cdCAqIEB0eXBlIHtBcnJheVtTdHJpbmddfVxuXHQgKiBAZGVmYXVsdCBbXCJtcDNcIiwgXCJvZ2dcIiwgXCJvcHVzXCIsIFwibXBlZ1wiLCBcIndhdlwiLCBcIm00YVwiLCBcIm1wNFwiLCBcImFpZmZcIiwgXCJ3bWFcIiwgXCJtaWRcIl1cblx0ICogQHNpbmNlIDAuNC4wXG5cdCAqIEBzdGF0aWNcblx0ICovXG5cdHMuU1VQUE9SVEVEX0VYVEVOU0lPTlMgPSBbXCJtcDNcIiwgXCJvZ2dcIiwgXCJvcHVzXCIsIFwibXBlZ1wiLCBcIndhdlwiLCBcIm00YVwiLCBcIm1wNFwiLCBcImFpZmZcIiwgXCJ3bWFcIiwgXCJtaWRcIl07XG5cblx0LyoqXG5cdCAqIFNvbWUgZXh0ZW5zaW9ucyB1c2UgYW5vdGhlciB0eXBlIG9mIGV4dGVuc2lvbiBzdXBwb3J0IHRvIHBsYXkgKG9uZSBvZiB0aGVtIGlzIGEgY29kZXgpLiAgVGhpcyBhbGxvd3MgeW91IHRvIG1hcFxuXHQgKiB0aGF0IHN1cHBvcnQgc28gcGx1Z2lucyBjYW4gYWNjdXJhdGVseSBkZXRlcm1pbmUgaWYgYW4gZXh0ZW5zaW9uIGlzIHN1cHBvcnRlZC4gIEFkZGluZyB0byB0aGlzIGxpc3QgY2FuIGhlbHBcblx0ICogcGx1Z2lucyBkZXRlcm1pbmUgbW9yZSBhY2N1cmF0ZWx5IGlmIGFuIGV4dGVuc2lvbiBpcyBzdXBwb3J0ZWQuXG5cdCAqXG4gXHQgKiBBIHVzZWZ1bCBsaXN0IG9mIGV4dGVuc2lvbnMgZm9yIGVhY2ggZm9ybWF0IGNhbiBiZSBmb3VuZCBhdCA8YSBocmVmPVwiaHR0cDovL2h0bWw1ZG9jdG9yLmNvbS9odG1sNS1hdWRpby10aGUtc3RhdGUtb2YtcGxheS9cIiB0YXJnZXQ9XCJfYmxhbmtcIj5odHRwOi8vaHRtbDVkb2N0b3IuY29tL2h0bWw1LWF1ZGlvLXRoZS1zdGF0ZS1vZi1wbGF5LzwvYT4uXG5cdCAqIEBwcm9wZXJ0eSBFWFRFTlNJT05fTUFQXG5cdCAqIEB0eXBlIHtPYmplY3R9XG5cdCAqIEBzaW5jZSAwLjQuMFxuXHQgKiBAZGVmYXVsdCB7bTRhOlwibXA0XCJ9XG5cdCAqIEBzdGF0aWNcblx0ICovXG5cdHMuRVhURU5TSU9OX01BUCA9IHtcblx0XHRtNGE6XCJtcDRcIlxuXHR9O1xuXG5cdC8qKlxuXHQgKiBUaGUgUmVnRXhwIHBhdHRlcm4gdXNlZCB0byBwYXJzZSBmaWxlIFVSSXMuIFRoaXMgc3VwcG9ydHMgc2ltcGxlIGZpbGUgbmFtZXMsIGFzIHdlbGwgYXMgZnVsbCBkb21haW4gVVJJcyB3aXRoXG5cdCAqIHF1ZXJ5IHN0cmluZ3MuIFRoZSByZXN1bHRpbmcgbWF0Y2ggaXM6IHByb3RvY29sOiQxIGRvbWFpbjokMiBwYXRoOiQzIGZpbGU6JDQgZXh0ZW5zaW9uOiQ1IHF1ZXJ5OiQ2LlxuXHQgKiBAcHJvcGVydHkgRklMRV9QQVRURVJOXG5cdCAqIEB0eXBlIHtSZWdFeHB9XG5cdCAqIEBzdGF0aWNcblx0ICogQHByaXZhdGVcblx0ICovXG5cdHMuRklMRV9QQVRURVJOID0gL14oPzooXFx3KzopXFwvezJ9KFxcdysoPzpcXC5cXHcrKSpcXC8/KSk/KFsvLl0qPyg/OlteP10rKT9cXC8pPygoPzpbXi8/XSspXFwuKFxcdyspKSg/OlxcPyhcXFMrKT8pPyQvO1xuXG5cbi8vIENsYXNzIFB1YmxpYyBwcm9wZXJ0aWVzXG5cdC8qKlxuXHQgKiBEZXRlcm1pbmVzIHRoZSBkZWZhdWx0IGJlaGF2aW9yIGZvciBpbnRlcnJ1cHRpbmcgb3RoZXIgY3VycmVudGx5IHBsYXlpbmcgaW5zdGFuY2VzIHdpdGggdGhlIHNhbWUgc291cmNlLCBpZiB0aGVcblx0ICogbWF4aW11bSBudW1iZXIgb2YgaW5zdGFuY2VzIG9mIHRoZSBzb3VuZCBhcmUgYWxyZWFkeSBwbGF5aW5nLiAgQ3VycmVudGx5IHRoZSBkZWZhdWx0IGlzIHt7I2Nyb3NzTGluayBcIlNvdW5kL0lOVEVSUlVQVF9OT05FOnByb3BlcnR5XCJ9fXt7L2Nyb3NzTGlua319XG5cdCAqIGJ1dCB0aGlzIGNhbiBiZSBzZXQgYW5kIHdpbGwgY2hhbmdlIHBsYXliYWNrIGJlaGF2aW9yIGFjY29yZGluZ2x5LiAgVGhpcyBpcyBvbmx5IHVzZWQgd2hlbiB7eyNjcm9zc0xpbmsgXCJTb3VuZC9wbGF5XCJ9fXt7L2Nyb3NzTGlua319XG5cdCAqIGlzIGNhbGxlZCB3aXRob3V0IHBhc3NpbmcgYSB2YWx1ZSBmb3IgaW50ZXJydXB0LlxuXHQgKiBAcHJvcGVydHkgZGVmYXVsdEludGVycnVwdEJlaGF2aW9yXG5cdCAqIEB0eXBlIHtTdHJpbmd9XG5cdCAqIEBkZWZhdWx0IFNvdW5kLklOVEVSUlVQVF9OT05FLCBvciBcIm5vbmVcIlxuXHQgKiBAc3RhdGljXG5cdCAqIEBzaW5jZSAwLjQuMFxuXHQgKi9cblx0cy5kZWZhdWx0SW50ZXJydXB0QmVoYXZpb3IgPSBzLklOVEVSUlVQVF9OT05FOyAgLy8gT0pSIGRvZXMgcy5JTlRFUlJVUFRfQU5ZIG1ha2UgbW9yZSBzZW5zZSBhcyBkZWZhdWx0PyAgTmVlZHMgZ2FtZSBkZXYgdGVzdGluZyB0byBzZWUgd2hpY2ggY2FzZSBtYWtlcyBtb3JlIHNlbnNlLlxuXG5cdC8qKlxuXHQgKiBBbiBhcnJheSBvZiBleHRlbnNpb25zIHRvIGF0dGVtcHQgdG8gdXNlIHdoZW4gbG9hZGluZyBzb3VuZCwgaWYgdGhlIGRlZmF1bHQgaXMgdW5zdXBwb3J0ZWQgYnkgdGhlIGFjdGl2ZSBwbHVnaW4uXG5cdCAqIFRoZXNlIGFyZSBhcHBsaWVkIGluIG9yZGVyLCBzbyBpZiB5b3UgdHJ5IHRvIExvYWQgVGh1bmRlci5vZ2cgaW4gYSBicm93c2VyIHRoYXQgZG9lcyBub3Qgc3VwcG9ydCBvZ2csIGFuZCB5b3VyXG5cdCAqIGV4dGVuc2lvbnMgYXJyYXkgaXMgW1wibXAzXCIsIFwibTRhXCIsIFwid2F2XCJdIGl0IHdpbGwgY2hlY2sgbXAzIHN1cHBvcnQsIHRoZW4gbTRhLCB0aGVuIHdhdi4gVGhlIGF1ZGlvIGZpbGVzIG5lZWRcblx0ICogdG8gZXhpc3QgaW4gdGhlIHNhbWUgbG9jYXRpb24sIGFzIG9ubHkgdGhlIGV4dGVuc2lvbiBpcyBhbHRlcmVkLlxuXHQgKlxuXHQgKiBOb3RlIHRoYXQgcmVnYXJkbGVzcyBvZiB3aGljaCBmaWxlIGlzIGxvYWRlZCwgeW91IGNhbiBjYWxsIHt7I2Nyb3NzTGluayBcIlNvdW5kL2NyZWF0ZUluc3RhbmNlXCJ9fXt7L2Nyb3NzTGlua319XG5cdCAqIGFuZCB7eyNjcm9zc0xpbmsgXCJTb3VuZC9wbGF5XCJ9fXt7L2Nyb3NzTGlua319IHVzaW5nIHRoZSBzYW1lIGlkIG9yIGZ1bGwgc291cmNlIHBhdGggcGFzc2VkIGZvciBsb2FkaW5nLlxuXHQgKlxuXHQgKiA8aDQ+RXhhbXBsZTwvaDQ+XG5cdCAqXG5cdCAqXHR2YXIgc291bmRzID0gW1xuXHQgKlx0XHR7c3JjOlwibXlQYXRoL215U291bmQub2dnXCIsIGlkOlwiZXhhbXBsZVwifSxcblx0ICpcdF07XG5cdCAqXHRjcmVhdGVqcy5Tb3VuZC5hbHRlcm5hdGVFeHRlbnNpb25zID0gW1wibXAzXCJdOyAvLyBub3cgaWYgb2dnIGlzIG5vdCBzdXBwb3J0ZWQsIFNvdW5kSlMgd2lsbCB0cnkgYXNzZXQwLm1wM1xuXHQgKlx0Y3JlYXRlanMuU291bmQub24oXCJmaWxlbG9hZFwiLCBoYW5kbGVMb2FkKTsgLy8gY2FsbCBoYW5kbGVMb2FkIHdoZW4gZWFjaCBzb3VuZCBsb2Fkc1xuXHQgKlx0Y3JlYXRlanMuU291bmQucmVnaXN0ZXJTb3VuZHMoc291bmRzLCBhc3NldFBhdGgpO1xuXHQgKlx0Ly8gLi4uXG5cdCAqXHRjcmVhdGVqcy5Tb3VuZC5wbGF5KFwibXlQYXRoL215U291bmQub2dnXCIpOyAvLyB3b3JrcyByZWdhcmRsZXNzIG9mIHdoYXQgZXh0ZW5zaW9uIGlzIHN1cHBvcnRlZC4gIE5vdGUgY2FsbGluZyB3aXRoIElEIGlzIGEgYmV0dGVyIGFwcHJvYWNoXG5cdCAqXG5cdCAqIEBwcm9wZXJ0eSBhbHRlcm5hdGVFeHRlbnNpb25zXG5cdCAqIEB0eXBlIHtBcnJheX1cblx0ICogQHNpbmNlIDAuNS4yXG5cdCAqIEBzdGF0aWNcblx0ICovXG5cdHMuYWx0ZXJuYXRlRXh0ZW5zaW9ucyA9IFtdO1xuXG5cdC8qKlxuXHQgKiBUaGUgY3VycmVudGx5IGFjdGl2ZSBwbHVnaW4uIElmIHRoaXMgaXMgbnVsbCwgdGhlbiBubyBwbHVnaW4gY291bGQgYmUgaW5pdGlhbGl6ZWQuIElmIG5vIHBsdWdpbiB3YXMgc3BlY2lmaWVkLFxuXHQgKiBTb3VuZCBhdHRlbXB0cyB0byBhcHBseSB0aGUgZGVmYXVsdCBwbHVnaW5zOiB7eyNjcm9zc0xpbmsgXCJXZWJBdWRpb1BsdWdpblwifX17ey9jcm9zc0xpbmt9fSwgZm9sbG93ZWQgYnlcblx0ICoge3sjY3Jvc3NMaW5rIFwiSFRNTEF1ZGlvUGx1Z2luXCJ9fXt7L2Nyb3NzTGlua319LlxuXHQgKiBAcHJvcGVydHkgYWN0aXZlUGx1Z2luXG5cdCAqIEB0eXBlIHtPYmplY3R9XG5cdCAqIEBzdGF0aWNcblx0ICovXG4gICAgcy5hY3RpdmVQbHVnaW4gPSBudWxsO1xuXG5cbi8vIGNsYXNzIGdldHRlciAvIHNldHRlciBwcm9wZXJ0aWVzXG5cblx0LyoqXG5cdCAqIFNldCB0aGUgbWFzdGVyIHZvbHVtZSBvZiBTb3VuZC4gVGhlIG1hc3RlciB2b2x1bWUgaXMgbXVsdGlwbGllZCBhZ2FpbnN0IGVhY2ggc291bmQncyBpbmRpdmlkdWFsIHZvbHVtZS4gIEZvclxuXHQgKiBleGFtcGxlLCBpZiBtYXN0ZXIgdm9sdW1lIGlzIDAuNSBhbmQgYSBzb3VuZCdzIHZvbHVtZSBpcyAwLjUsIHRoZSByZXN1bHRpbmcgdm9sdW1lIGlzIDAuMjUuIFRvIHNldCBpbmRpdmlkdWFsXG5cdCAqIHNvdW5kIHZvbHVtZSwgdXNlIEFic3RyYWN0U291bmRJbnN0YW5jZSB7eyNjcm9zc0xpbmsgXCJBYnN0cmFjdFNvdW5kSW5zdGFuY2Uvdm9sdW1lOnByb3BlcnR5XCJ9fXt7L2Nyb3NzTGlua319XG5cdCAqIGluc3RlYWQuXG5cdCAqXG5cdCAqIDxoND5FeGFtcGxlPC9oND5cblx0ICpcblx0ICogICAgIGNyZWF0ZWpzLlNvdW5kLnZvbHVtZSA9IDAuNTtcblx0ICpcblx0ICogQHByb3BlcnR5IHZvbHVtZVxuXHQgKiBAdHlwZSB7TnVtYmVyfVxuXHQgKiBAZGVmYXVsdCAxXG5cdCAqIEBzaW5jZSAwLjYuMVxuXHQgKi9cblxuXHQvKipcblx0ICogVGhlIGludGVybmFsIHZvbHVtZSBsZXZlbC4gVXNlIHt7I2Nyb3NzTGluayBcIlNvdW5kL3ZvbHVtZTpwcm9wZXJ0eVwifX17ey9jcm9zc0xpbmt9fSB0byBhZGp1c3QgdGhlIG1hc3RlciB2b2x1bWUuXG5cdCAqIEBwcm9wZXJ0eSBfbWFzdGVyVm9sdW1lXG5cdCAqIEB0eXBlIHtudW1iZXJ9XG5cdCAqIEBkZWZhdWx0IDFcblx0ICogQHByaXZhdGVcblx0ICovXG5cdHMuX21hc3RlclZvbHVtZSA9IDE7XG5cblx0LyoqXG5cdCAqIFVzZSB0aGUge3sjY3Jvc3NMaW5rIFwiU291bmQvdm9sdW1lOnByb3BlcnR5XCJ9fXt7L2Nyb3NzTGlua319IHByb3BlcnR5IGluc3RlYWQuXG5cdCAqIEBtZXRob2QgX2dldE1hc3RlclZvbHVtZVxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAc3RhdGljXG5cdCAqIEByZXR1cm4ge051bWJlcn1cblx0ICoqL1xuXHRzLl9nZXRNYXN0ZXJWb2x1bWUgPSBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gdGhpcy5fbWFzdGVyVm9sdW1lO1xuXHR9O1xuXHQvLyBTb3VuZC5nZXRNYXN0ZXJWb2x1bWUgaXMgQGRlcHJlY2F0ZWQuIFJlbW92ZSBmb3IgMS4xK1xuXHRzLmdldFZvbHVtZSA9IGNyZWF0ZWpzLmRlcHJlY2F0ZShzLl9nZXRNYXN0ZXJWb2x1bWUsIFwiU291bmQuZ2V0Vm9sdW1lXCIpO1xuXHQvKipcblx0ICogVXNlIHRoZSB7eyNjcm9zc0xpbmsgXCJTb3VuZC92b2x1bWU6cHJvcGVydHlcIn19e3svY3Jvc3NMaW5rfX0gcHJvcGVydHkgaW5zdGVhZC5cblx0ICogQG1ldGhvZCBfc2V0TWFzdGVyVm9sdW1lXG5cdCAqIEBzdGF0aWNcblx0ICogQHByaXZhdGVcblx0ICoqL1xuXHRzLl9zZXRNYXN0ZXJWb2x1bWUgPSBmdW5jdGlvbih2YWx1ZSkge1xuXHRcdGlmIChOdW1iZXIodmFsdWUpID09IG51bGwpIHsgcmV0dXJuOyB9XG5cdFx0dmFsdWUgPSBNYXRoLm1heCgwLCBNYXRoLm1pbigxLCB2YWx1ZSkpO1xuXHRcdHMuX21hc3RlclZvbHVtZSA9IHZhbHVlO1xuXHRcdGlmICghdGhpcy5hY3RpdmVQbHVnaW4gfHwgIXRoaXMuYWN0aXZlUGx1Z2luLnNldFZvbHVtZSB8fCAhdGhpcy5hY3RpdmVQbHVnaW4uc2V0Vm9sdW1lKHZhbHVlKSkge1xuXHRcdFx0dmFyIGluc3RhbmNlcyA9IHRoaXMuX2luc3RhbmNlcztcblx0XHRcdGZvciAodmFyIGkgPSAwLCBsID0gaW5zdGFuY2VzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuXHRcdFx0XHRpbnN0YW5jZXNbaV0uc2V0TWFzdGVyVm9sdW1lKHZhbHVlKTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG5cdC8vIFNvdW5kLnN0TWFzdGVyVm9sdW1lIGlzIEBkZXByZWNhdGVkLiBSZW1vdmUgZm9yIDEuMStcblx0cy5zZXRWb2x1bWUgPSBjcmVhdGVqcy5kZXByZWNhdGUocy5fc2V0TWFzdGVyVm9sdW1lLCBcIlNvdW5kLnNldFZvbHVtZVwiKTtcblxuXHQvKipcblx0ICogTXV0ZS9Vbm11dGUgYWxsIGF1ZGlvLiBOb3RlIHRoYXQgbXV0ZWQgYXVkaW8gc3RpbGwgcGxheXMgYXQgMCB2b2x1bWUuIFRoaXMgZ2xvYmFsIG11dGUgdmFsdWUgaXMgbWFpbnRhaW5lZFxuXHQgKiBzZXBhcmF0ZWx5IGFuZCB3aGVuIHNldCB3aWxsIG92ZXJyaWRlLCBidXQgbm90IGNoYW5nZSB0aGUgbXV0ZSBwcm9wZXJ0eSBvZiBpbmRpdmlkdWFsIGluc3RhbmNlcy4gVG8gbXV0ZSBhbiBpbmRpdmlkdWFsXG5cdCAqIGluc3RhbmNlLCB1c2UgQWJzdHJhY3RTb3VuZEluc3RhbmNlIHt7I2Nyb3NzTGluayBcIkFic3RyYWN0U291bmRJbnN0YW5jZS9tdXRlZDpwcm9wZXJ0eVwifX17ey9jcm9zc0xpbmt9fSBpbnN0ZWFkLlxuXHQgKlxuXHQgKiA8aDQ+RXhhbXBsZTwvaDQ+XG5cdCAqXG5cdCAqICAgICBjcmVhdGVqcy5Tb3VuZC5tdXRlZCA9IHRydWU7XG5cdCAqXG5cdCAqXG5cdCAqIEBwcm9wZXJ0eSBtdXRlZFxuXHQgKiBAdHlwZSB7Qm9vbGVhbn1cblx0ICogQGRlZmF1bHQgZmFsc2Vcblx0ICogQHNpbmNlIDAuNi4xXG5cdCAqL1xuXHRzLl9tYXN0ZXJNdXRlID0gZmFsc2U7XG5cblx0LyoqXG5cdCAqIFVzZSB0aGUge3sjY3Jvc3NMaW5rIFwiU291bmQvbXV0ZWQ6cHJvcGVydHlcIn19e3svY3Jvc3NMaW5rfX0gcHJvcGVydHkgaW5zdGVhZC5cblx0ICogQG1ldGhvZCBfZ2V0TXV0ZVxuXHQgKiBAcmV0dXJucyB7Qm9vbGVhbn1cblx0ICogQHN0YXRpY1xuXHQgKiBAcHJpdmF0ZVxuXHQgKi9cblx0cy5fZ2V0TXV0ZSA9IGZ1bmN0aW9uICgpIHtcblx0XHRyZXR1cm4gdGhpcy5fbWFzdGVyTXV0ZTtcblx0fTtcblx0Ly8gU291bmQuZ2V0TXV0ZSBpcyBAZGVwcmVjYXRlZC4gUmVtb3ZlIGZvciAxLjErXG5cdHMuZ2V0TXV0ZSA9IGNyZWF0ZWpzLmRlcHJlY2F0ZShzLl9nZXRNdXRlLCBcIlNvdW5kLmdldE11dGVcIik7XG5cblx0LyoqXG5cdCAqIFVzZSB0aGUge3sjY3Jvc3NMaW5rIFwiU291bmQvbXV0ZWQ6cHJvcGVydHlcIn19e3svY3Jvc3NMaW5rfX0gcHJvcGVydHkgaW5zdGVhZC5cblx0ICogQG1ldGhvZCBfc2V0TXV0ZVxuXHQgKiBAcGFyYW0ge0Jvb2xlYW59IHZhbHVlIFRoZSBtdXRlZCB2YWx1ZVxuXHQgKiBAc3RhdGljXG5cdCAqIEBwcml2YXRlXG5cdCAqL1xuXHRzLl9zZXRNdXRlID0gZnVuY3Rpb24gKHZhbHVlKSB7XG5cdFx0aWYgKHZhbHVlID09IG51bGwpIHsgcmV0dXJuOyB9XG5cdFx0dGhpcy5fbWFzdGVyTXV0ZSA9IHZhbHVlO1xuXHRcdGlmICghdGhpcy5hY3RpdmVQbHVnaW4gfHwgIXRoaXMuYWN0aXZlUGx1Z2luLnNldE11dGUgfHwgIXRoaXMuYWN0aXZlUGx1Z2luLnNldE11dGUodmFsdWUpKSB7XG5cdFx0XHR2YXIgaW5zdGFuY2VzID0gdGhpcy5faW5zdGFuY2VzO1xuXHRcdFx0Zm9yICh2YXIgaSA9IDAsIGwgPSBpbnN0YW5jZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG5cdFx0XHRcdGluc3RhbmNlc1tpXS5zZXRNYXN0ZXJNdXRlKHZhbHVlKTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG5cdC8vIFNvdW5kLnNldE11dGUgaXMgQGRlcHJlY2F0ZWQuIFJlbW92ZSBmb3IgMS4xK1xuXHRzLnNldE11dGUgPSBjcmVhdGVqcy5kZXByZWNhdGUocy5fc2V0TXV0ZSwgXCJTb3VuZC5zZXRNdXRlXCIpO1xuXG5cdC8qKlxuXHQgKiBHZXQgdGhlIGFjdGl2ZSBwbHVnaW5zIGNhcGFiaWxpdGllcywgd2hpY2ggaGVscCBkZXRlcm1pbmUgaWYgYSBwbHVnaW4gY2FuIGJlIHVzZWQgaW4gdGhlIGN1cnJlbnQgZW52aXJvbm1lbnQsXG5cdCAqIG9yIGlmIHRoZSBwbHVnaW4gc3VwcG9ydHMgYSBzcGVjaWZpYyBmZWF0dXJlLiBDYXBhYmlsaXRpZXMgaW5jbHVkZTpcblx0ICogPHVsPlxuXHQgKiAgICAgPGxpPjxiPnBhbm5pbmc6PC9iPiBJZiB0aGUgcGx1Z2luIGNhbiBwYW4gYXVkaW8gZnJvbSBsZWZ0IHRvIHJpZ2h0PC9saT5cblx0ICogICAgIDxsaT48Yj52b2x1bWU7PC9iPiBJZiB0aGUgcGx1Z2luIGNhbiBjb250cm9sIGF1ZGlvIHZvbHVtZS48L2xpPlxuXHQgKiAgICAgPGxpPjxiPnRyYWNrczo8L2I+IFRoZSBtYXhpbXVtIG51bWJlciBvZiBhdWRpbyB0cmFja3MgdGhhdCBjYW4gYmUgcGxheWVkIGJhY2sgYXQgYSB0aW1lLiBUaGlzIHdpbGwgYmUgLTFcblx0ICogICAgIGlmIHRoZXJlIGlzIG5vIGtub3duIGxpbWl0LjwvbGk+XG5cdCAqIDxiciAvPkFuIGVudHJ5IGZvciBlYWNoIGZpbGUgdHlwZSBpbiB7eyNjcm9zc0xpbmsgXCJTb3VuZC9TVVBQT1JURURfRVhURU5TSU9OUzpwcm9wZXJ0eVwifX17ey9jcm9zc0xpbmt9fTpcblx0ICogICAgIDxsaT48Yj5tcDM6PC9iPiBJZiBNUDMgYXVkaW8gaXMgc3VwcG9ydGVkLjwvbGk+XG5cdCAqICAgICA8bGk+PGI+b2dnOjwvYj4gSWYgT0dHIGF1ZGlvIGlzIHN1cHBvcnRlZC48L2xpPlxuXHQgKiAgICAgPGxpPjxiPndhdjo8L2I+IElmIFdBViBhdWRpbyBpcyBzdXBwb3J0ZWQuPC9saT5cblx0ICogICAgIDxsaT48Yj5tcGVnOjwvYj4gSWYgTVBFRyBhdWRpbyBpcyBzdXBwb3J0ZWQuPC9saT5cblx0ICogICAgIDxsaT48Yj5tNGE6PC9iPiBJZiBNNEEgYXVkaW8gaXMgc3VwcG9ydGVkLjwvbGk+XG5cdCAqICAgICA8bGk+PGI+bXA0OjwvYj4gSWYgTVA0IGF1ZGlvIGlzIHN1cHBvcnRlZC48L2xpPlxuXHQgKiAgICAgPGxpPjxiPmFpZmY6PC9iPiBJZiBhaWZmIGF1ZGlvIGlzIHN1cHBvcnRlZC48L2xpPlxuXHQgKiAgICAgPGxpPjxiPndtYTo8L2I+IElmIHdtYSBhdWRpbyBpcyBzdXBwb3J0ZWQuPC9saT5cblx0ICogICAgIDxsaT48Yj5taWQ6PC9iPiBJZiBtaWQgYXVkaW8gaXMgc3VwcG9ydGVkLjwvbGk+XG5cdCAqIDwvdWw+XG5cdCAqXG5cdCAqIFlvdSBjYW4gZ2V0IGEgc3BlY2lmaWMgY2FwYWJpbGl0eSBvZiB0aGUgYWN0aXZlIHBsdWdpbiB1c2luZyBzdGFuZGFyZCBvYmplY3Qgbm90YXRpb25cblx0ICpcblx0ICogPGg0PkV4YW1wbGU8L2g0PlxuXHQgKlxuXHQgKiAgICAgIHZhciBtcDMgPSBjcmVhdGVqcy5Tb3VuZC5jYXBhYmlsaXRpZXMubXAzO1xuXHQgKlxuXHQgKiBOb3RlIHRoaXMgcHJvcGVydHkgaXMgcmVhZCBvbmx5LlxuXHQgKlxuXHQgKiBAcHJvcGVydHkgY2FwYWJpbGl0aWVzXG5cdCAqIEB0eXBlIHtPYmplY3R9XG5cdCAqIEBzdGF0aWNcblx0ICogQHJlYWRPbmx5XG5cdCAqIEBzaW5jZSAwLjYuMVxuXHQgKi9cblxuXHQvKipcblx0ICogVXNlIHRoZSB7eyNjcm9zc0xpbmsgXCJTb3VuZC9jYXBhYmlsaXRpZXM6cHJvcGVydHlcIn19e3svY3Jvc3NMaW5rfX0gcHJvcGVydHkgaW5zdGVhZC5cblx0ICogQHJldHVybnMge251bGx9XG5cdCAqIEBwcml2YXRlXG5cdCAqL1xuXHRzLl9nZXRDYXBhYmlsaXRpZXMgPSBmdW5jdGlvbigpIHtcblx0XHRpZiAocy5hY3RpdmVQbHVnaW4gPT0gbnVsbCkgeyByZXR1cm4gbnVsbDsgfVxuXHRcdHJldHVybiBzLmFjdGl2ZVBsdWdpbi5fY2FwYWJpbGl0aWVzO1xuXHR9O1xuXHQvLyBTb3VuZC5nZXRDYXBhYmlsaXRpZXMgaXMgQGRlcHJlY2F0ZWQuIFJlbW92ZSBmb3IgMS4xK1xuXHRzLmdldENhcGFiaWxpdGllcyA9IGNyZWF0ZWpzLmRlcHJlY2F0ZShzLl9nZXRDYXBhYmlsaXRpZXMsIFwiU291bmQuZ2V0Q2FwYWJpbGl0aWVzXCIpO1xuXG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHMsIHtcblx0XHR2b2x1bWU6IHsgZ2V0OiBzLl9nZXRNYXN0ZXJWb2x1bWUsIHNldDogcy5fc2V0TWFzdGVyVm9sdW1lIH0sXG5cdFx0bXV0ZWQ6IHsgZ2V0OiBzLl9nZXRNdXRlLCBzZXQ6IHMuX3NldE11dGUgfSxcblx0XHRjYXBhYmlsaXRpZXM6IHsgZ2V0OiBzLl9nZXRDYXBhYmlsaXRpZXMgfVxuXHR9KTtcblxuXG4vLyBDbGFzcyBQcml2YXRlIHByb3BlcnRpZXNcblx0LyoqXG5cdCAqIERldGVybWluZXMgaWYgdGhlIHBsdWdpbnMgaGF2ZSBiZWVuIHJlZ2lzdGVyZWQuIElmIGZhbHNlLCB0aGUgZmlyc3QgY2FsbCB0byB7eyNjcm9zc0xpbmsgXCJwbGF5XCJ9fXt7L2Nyb3NzTGlua319IHdpbGwgaW5zdGFudGlhdGUgdGhlIGRlZmF1bHRcblx0ICogcGx1Z2lucyAoe3sjY3Jvc3NMaW5rIFwiV2ViQXVkaW9QbHVnaW5cIn19e3svY3Jvc3NMaW5rfX0sIGZvbGxvd2VkIGJ5IHt7I2Nyb3NzTGluayBcIkhUTUxBdWRpb1BsdWdpblwifX17ey9jcm9zc0xpbmt9fSkuXG5cdCAqIElmIHBsdWdpbnMgaGF2ZSBiZWVuIHJlZ2lzdGVyZWQsIGJ1dCBub25lIGFyZSBhcHBsaWNhYmxlLCB0aGVuIHNvdW5kIHBsYXliYWNrIHdpbGwgZmFpbC5cblx0ICogQHByb3BlcnR5IF9wbHVnaW5zUmVnaXN0ZXJlZFxuXHQgKiBAdHlwZSB7Qm9vbGVhbn1cblx0ICogQGRlZmF1bHQgZmFsc2Vcblx0ICogQHN0YXRpY1xuXHQgKiBAcHJpdmF0ZVxuXHQgKi9cblx0cy5fcGx1Z2luc1JlZ2lzdGVyZWQgPSBmYWxzZTtcblxuXHQvKipcblx0ICogVXNlZCBpbnRlcm5hbGx5IHRvIGFzc2lnbiB1bmlxdWUgSURzIHRvIGVhY2ggQWJzdHJhY3RTb3VuZEluc3RhbmNlLlxuXHQgKiBAcHJvcGVydHkgX2xhc3RJRFxuXHQgKiBAdHlwZSB7TnVtYmVyfVxuXHQgKiBAc3RhdGljXG5cdCAqIEBwcml2YXRlXG5cdCAqL1xuXHRzLl9sYXN0SUQgPSAwO1xuXG5cdC8qKlxuXHQgKiBBbiBhcnJheSBjb250YWluaW5nIGFsbCBjdXJyZW50bHkgcGxheWluZyBpbnN0YW5jZXMuIFRoaXMgYWxsb3dzIFNvdW5kIHRvIGNvbnRyb2wgdGhlIHZvbHVtZSwgbXV0ZSwgYW5kIHBsYXliYWNrIG9mXG5cdCAqIGFsbCBpbnN0YW5jZXMgd2hlbiB1c2luZyBzdGF0aWMgQVBJcyBsaWtlIHt7I2Nyb3NzTGluayBcIlNvdW5kL3N0b3BcIn19e3svY3Jvc3NMaW5rfX0gYW5kIHt7I2Nyb3NzTGluayBcIlNvdW5kL3ZvbHVtZTpwcm9wZXJ0eVwifX17ey9jcm9zc0xpbmt9fS5cblx0ICogV2hlbiBhbiBpbnN0YW5jZSBoYXMgZmluaXNoZWQgcGxheWJhY2ssIGl0IGdldHMgcmVtb3ZlZCB2aWEgdGhlIHt7I2Nyb3NzTGluayBcIlNvdW5kL2ZpbmlzaGVkUGxheWluZ1wifX17ey9jcm9zc0xpbmt9fVxuXHQgKiBtZXRob2QuIElmIHRoZSB1c2VyIHJlcGxheXMgYW4gaW5zdGFuY2UsIGl0IGdldHMgYWRkZWQgYmFjayBpbiB2aWEgdGhlIHt7I2Nyb3NzTGluayBcIlNvdW5kL19iZWdpblBsYXlpbmdcIn19e3svY3Jvc3NMaW5rfX1cblx0ICogbWV0aG9kLlxuXHQgKiBAcHJvcGVydHkgX2luc3RhbmNlc1xuXHQgKiBAdHlwZSB7QXJyYXl9XG5cdCAqIEBwcml2YXRlXG5cdCAqIEBzdGF0aWNcblx0ICovXG5cdHMuX2luc3RhbmNlcyA9IFtdO1xuXG5cdC8qKlxuXHQgKiBBbiBvYmplY3QgaGFzaCBzdG9yaW5nIG9iamVjdHMgd2l0aCBzb3VuZCBzb3VyY2VzLCBzdGFydFRpbWUsIGFuZCBkdXJhdGlvbiB2aWEgdGhlcmUgY29ycmVzcG9uZGluZyBJRC5cblx0ICogQHByb3BlcnR5IF9pZEhhc2hcblx0ICogQHR5cGUge09iamVjdH1cblx0ICogQHByaXZhdGVcblx0ICogQHN0YXRpY1xuXHQgKi9cblx0cy5faWRIYXNoID0ge307XG5cblx0LyoqXG5cdCAqIEFuIG9iamVjdCBoYXNoIHRoYXQgc3RvcmVzIHByZWxvYWRpbmcgc291bmQgc291cmNlcyB2aWEgdGhlIHBhcnNlZCBzb3VyY2UgdGhhdCBpcyBwYXNzZWQgdG8gdGhlIHBsdWdpbi4gIENvbnRhaW5zIHRoZVxuXHQgKiBzb3VyY2UsIGlkLCBhbmQgZGF0YSB0aGF0IHdhcyBwYXNzZWQgaW4gYnkgdGhlIHVzZXIuICBQYXJzZWQgc291cmNlcyBjYW4gY29udGFpbiBtdWx0aXBsZSBpbnN0YW5jZXMgb2Ygc291cmNlLCBpZCxcblx0ICogYW5kIGRhdGEuXG5cdCAqIEBwcm9wZXJ0eSBfcHJlbG9hZEhhc2hcblx0ICogQHR5cGUge09iamVjdH1cblx0ICogQHByaXZhdGVcblx0ICogQHN0YXRpY1xuXHQgKi9cblx0cy5fcHJlbG9hZEhhc2ggPSB7fTtcblxuXHQvKipcblx0ICogQW4gb2JqZWN0IGhhc2ggc3RvcmluZyB7eyNjcm9zc0xpbmsgXCJQbGF5UHJvcHNDb25maWdcIn19e3svY3Jvc3NMaW5rfX0gdmlhIHRoZSBwYXJzZWQgc291cmNlIHRoYXQgaXMgcGFzc2VkIGFzIGRlZmF1bHRQbGF5UHJvcHMgaW5cblx0ICoge3sjY3Jvc3NMaW5rIFwiU291bmQvcmVnaXN0ZXJTb3VuZFwifX17ey9jcm9zc0xpbmt9fSBhbmQge3sjY3Jvc3NMaW5rIFwiU291bmQvcmVnaXN0ZXJTb3VuZHNcIn19e3svY3Jvc3NMaW5rfX0uXG5cdCAqIEBwcm9wZXJ0eSBfZGVmYXVsdFBsYXlQcm9wc0hhc2hcblx0ICogQHR5cGUge09iamVjdH1cblx0ICogQHByaXZhdGVcblx0ICogQHN0YXRpY1xuXHQgKiBAc2luY2UgMC42LjFcblx0ICovXG5cdHMuX2RlZmF1bHRQbGF5UHJvcHNIYXNoID0ge307XG5cblxuLy8gRXZlbnREaXNwYXRjaGVyIG1ldGhvZHM6XG5cdHMuYWRkRXZlbnRMaXN0ZW5lciA9IG51bGw7XG5cdHMucmVtb3ZlRXZlbnRMaXN0ZW5lciA9IG51bGw7XG5cdHMucmVtb3ZlQWxsRXZlbnRMaXN0ZW5lcnMgPSBudWxsO1xuXHRzLmRpc3BhdGNoRXZlbnQgPSBudWxsO1xuXHRzLmhhc0V2ZW50TGlzdGVuZXIgPSBudWxsO1xuXHRzLl9saXN0ZW5lcnMgPSBudWxsO1xuXG5cdGNyZWF0ZWpzLkV2ZW50RGlzcGF0Y2hlci5pbml0aWFsaXplKHMpOyAvLyBpbmplY3QgRXZlbnREaXNwYXRjaGVyIG1ldGhvZHMuXG5cblxuLy8gRXZlbnRzXG5cdC8qKlxuXHQgKiBUaGlzIGV2ZW50IGlzIGZpcmVkIHdoZW4gYSBmaWxlIGZpbmlzaGVzIGxvYWRpbmcgaW50ZXJuYWxseS4gVGhpcyBldmVudCBpcyBmaXJlZCBmb3IgZWFjaCBsb2FkZWQgc291bmQsXG5cdCAqIHNvIGFueSBoYW5kbGVyIG1ldGhvZHMgc2hvdWxkIGxvb2sgdXAgdGhlIDxjb2RlPmV2ZW50LnNyYzwvY29kZT4gdG8gaGFuZGxlIGEgcGFydGljdWxhciBzb3VuZC5cblx0ICogQGV2ZW50IGZpbGVsb2FkXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSB0YXJnZXQgVGhlIG9iamVjdCB0aGF0IGRpc3BhdGNoZWQgdGhlIGV2ZW50LlxuXHQgKiBAcGFyYW0ge1N0cmluZ30gdHlwZSBUaGUgZXZlbnQgdHlwZS5cblx0ICogQHBhcmFtIHtTdHJpbmd9IHNyYyBUaGUgc291cmNlIG9mIHRoZSBzb3VuZCB0aGF0IHdhcyBsb2FkZWQuXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBbaWRdIFRoZSBpZCBwYXNzZWQgaW4gd2hlbiB0aGUgc291bmQgd2FzIHJlZ2lzdGVyZWQuIElmIG9uZSB3YXMgbm90IHByb3ZpZGVkLCBpdCB3aWxsIGJlIG51bGwuXG5cdCAqIEBwYXJhbSB7TnVtYmVyfE9iamVjdH0gW2RhdGFdIEFueSBhZGRpdGlvbmFsIGRhdGEgYXNzb2NpYXRlZCB3aXRoIHRoZSBpdGVtLiBJZiBub3QgcHJvdmlkZWQsIGl0IHdpbGwgYmUgdW5kZWZpbmVkLlxuXHQgKiBAc2luY2UgMC40LjFcblx0ICovXG5cblx0LyoqXG5cdCAqIFRoaXMgZXZlbnQgaXMgZmlyZWQgd2hlbiBhIGZpbGUgZmFpbHMgbG9hZGluZyBpbnRlcm5hbGx5LiBUaGlzIGV2ZW50IGlzIGZpcmVkIGZvciBlYWNoIGxvYWRlZCBzb3VuZCxcblx0ICogc28gYW55IGhhbmRsZXIgbWV0aG9kcyBzaG91bGQgbG9vayB1cCB0aGUgPGNvZGU+ZXZlbnQuc3JjPC9jb2RlPiB0byBoYW5kbGUgYSBwYXJ0aWN1bGFyIHNvdW5kLlxuXHQgKiBAZXZlbnQgZmlsZWVycm9yXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSB0YXJnZXQgVGhlIG9iamVjdCB0aGF0IGRpc3BhdGNoZWQgdGhlIGV2ZW50LlxuXHQgKiBAcGFyYW0ge1N0cmluZ30gdHlwZSBUaGUgZXZlbnQgdHlwZS5cblx0ICogQHBhcmFtIHtTdHJpbmd9IHNyYyBUaGUgc291cmNlIG9mIHRoZSBzb3VuZCB0aGF0IHdhcyBsb2FkZWQuXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBbaWRdIFRoZSBpZCBwYXNzZWQgaW4gd2hlbiB0aGUgc291bmQgd2FzIHJlZ2lzdGVyZWQuIElmIG9uZSB3YXMgbm90IHByb3ZpZGVkLCBpdCB3aWxsIGJlIG51bGwuXG5cdCAqIEBwYXJhbSB7TnVtYmVyfE9iamVjdH0gW2RhdGFdIEFueSBhZGRpdGlvbmFsIGRhdGEgYXNzb2NpYXRlZCB3aXRoIHRoZSBpdGVtLiBJZiBub3QgcHJvdmlkZWQsIGl0IHdpbGwgYmUgdW5kZWZpbmVkLlxuXHQgKiBAc2luY2UgMC42LjBcblx0ICovXG5cblxuLy8gQ2xhc3MgUHVibGljIE1ldGhvZHNcblx0LyoqXG5cdCAqIEdldCB0aGUgcHJlbG9hZCBydWxlcyB0byBhbGxvdyBTb3VuZCB0byBiZSB1c2VkIGFzIGEgcGx1Z2luIGJ5IDxhIGhyZWY9XCJodHRwOi8vcHJlbG9hZGpzLmNvbVwiIHRhcmdldD1cIl9ibGFua1wiPlByZWxvYWRKUzwvYT4uXG5cdCAqIEFueSBsb2FkIGNhbGxzIHRoYXQgaGF2ZSB0aGUgbWF0Y2hpbmcgdHlwZSBvciBleHRlbnNpb24gd2lsbCBmaXJlIHRoZSBjYWxsYmFjayBtZXRob2QsIGFuZCB1c2UgdGhlIHJlc3VsdGluZ1xuXHQgKiBvYmplY3QsIHdoaWNoIGlzIHBvdGVudGlhbGx5IG1vZGlmaWVkIGJ5IFNvdW5kLiBUaGlzIGhlbHBzIHdoZW4gZGV0ZXJtaW5pbmcgdGhlIGNvcnJlY3QgcGF0aCwgYXMgd2VsbCBhc1xuXHQgKiByZWdpc3RlcmluZyB0aGUgYXVkaW8gaW5zdGFuY2Uocykgd2l0aCBTb3VuZC4gVGhpcyBtZXRob2Qgc2hvdWxkIG5vdCBiZSBjYWxsZWQsIGV4Y2VwdCBieSBQcmVsb2FkSlMuXG5cdCAqIEBtZXRob2QgZ2V0UHJlbG9hZEhhbmRsZXJzXG5cdCAqIEByZXR1cm4ge09iamVjdH0gQW4gb2JqZWN0IGNvbnRhaW5pbmc6XG5cdCAqIDx1bD48bGk+Y2FsbGJhY2s6IEEgcHJlbG9hZCBjYWxsYmFjayB0aGF0IGlzIGZpcmVkIHdoZW4gYSBmaWxlIGlzIGFkZGVkIHRvIFByZWxvYWRKUywgd2hpY2ggcHJvdmlkZXNcblx0ICogICAgICBTb3VuZCBhIG1lY2hhbmlzbSB0byBtb2RpZnkgdGhlIGxvYWQgcGFyYW1ldGVycywgc2VsZWN0IHRoZSBjb3JyZWN0IGZpbGUgZm9ybWF0LCByZWdpc3RlciB0aGUgc291bmQsIGV0Yy48L2xpPlxuXHQgKiAgICAgIDxsaT50eXBlczogQSBsaXN0IG9mIGZpbGUgdHlwZXMgdGhhdCBhcmUgc3VwcG9ydGVkIGJ5IFNvdW5kIChjdXJyZW50bHkgc3VwcG9ydHMgXCJzb3VuZFwiKS48L2xpPlxuXHQgKiAgICAgIDxsaT5leHRlbnNpb25zOiBBIGxpc3Qgb2YgZmlsZSBleHRlbnNpb25zIHRoYXQgYXJlIHN1cHBvcnRlZCBieSBTb3VuZCAoc2VlIHt7I2Nyb3NzTGluayBcIlNvdW5kL1NVUFBPUlRFRF9FWFRFTlNJT05TOnByb3BlcnR5XCJ9fXt7L2Nyb3NzTGlua319KS48L2xpPjwvdWw+XG5cdCAqIEBzdGF0aWNcblx0ICogQHByaXZhdGVcblx0ICovXG5cdHMuZ2V0UHJlbG9hZEhhbmRsZXJzID0gZnVuY3Rpb24gKCkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRjYWxsYmFjazpjcmVhdGVqcy5wcm94eShzLmluaXRMb2FkLCBzKSxcblx0XHRcdHR5cGVzOltcInNvdW5kXCJdLFxuXHRcdFx0ZXh0ZW5zaW9uczpzLlNVUFBPUlRFRF9FWFRFTlNJT05TXG5cdFx0fTtcblx0fTtcblxuXHQvKipcblx0ICogVXNlZCB0byBkaXNwYXRjaCBmaWxlbG9hZCBldmVudHMgZnJvbSBpbnRlcm5hbCBsb2FkaW5nLlxuXHQgKiBAbWV0aG9kIF9oYW5kbGVMb2FkQ29tcGxldGVcblx0ICogQHBhcmFtIGV2ZW50IEEgbG9hZGVyIGV2ZW50LlxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAc3RhdGljXG5cdCAqIEBzaW5jZSAwLjYuMFxuXHQgKi9cblx0cy5faGFuZGxlTG9hZENvbXBsZXRlID0gZnVuY3Rpb24oZXZlbnQpIHtcblx0XHR2YXIgc3JjID0gZXZlbnQudGFyZ2V0LmdldEl0ZW0oKS5zcmM7XG5cdFx0aWYgKCFzLl9wcmVsb2FkSGFzaFtzcmNdKSB7cmV0dXJuO31cblxuXHRcdGZvciAodmFyIGkgPSAwLCBsID0gcy5fcHJlbG9hZEhhc2hbc3JjXS5sZW5ndGg7IGkgPCBsOyBpKyspIHtcblx0XHRcdHZhciBpdGVtID0gcy5fcHJlbG9hZEhhc2hbc3JjXVtpXTtcblx0XHRcdHMuX3ByZWxvYWRIYXNoW3NyY11baV0gPSB0cnVlO1xuXG5cdFx0XHRpZiAoIXMuaGFzRXZlbnRMaXN0ZW5lcihcImZpbGVsb2FkXCIpKSB7IGNvbnRpbnVlOyB9XG5cblx0XHRcdHZhciBldmVudCA9IG5ldyBjcmVhdGVqcy5FdmVudChcImZpbGVsb2FkXCIpO1xuXHRcdFx0ZXZlbnQuc3JjID0gaXRlbS5zcmM7XG5cdFx0XHRldmVudC5pZCA9IGl0ZW0uaWQ7XG5cdFx0XHRldmVudC5kYXRhID0gaXRlbS5kYXRhO1xuXHRcdFx0ZXZlbnQuc3ByaXRlID0gaXRlbS5zcHJpdGU7XG5cblx0XHRcdHMuZGlzcGF0Y2hFdmVudChldmVudCk7XG5cdFx0fVxuXHR9O1xuXG5cdC8qKlxuXHQgKiBVc2VkIHRvIGRpc3BhdGNoIGVycm9yIGV2ZW50cyBmcm9tIGludGVybmFsIHByZWxvYWRpbmcuXG5cdCAqIEBwYXJhbSBldmVudFxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAc2luY2UgMC42LjBcblx0ICogQHN0YXRpY1xuXHQgKi9cblx0cy5faGFuZGxlTG9hZEVycm9yID0gZnVuY3Rpb24oZXZlbnQpIHtcblx0XHR2YXIgc3JjID0gZXZlbnQudGFyZ2V0LmdldEl0ZW0oKS5zcmM7XG5cdFx0aWYgKCFzLl9wcmVsb2FkSGFzaFtzcmNdKSB7cmV0dXJuO31cblxuXHRcdGZvciAodmFyIGkgPSAwLCBsID0gcy5fcHJlbG9hZEhhc2hbc3JjXS5sZW5ndGg7IGkgPCBsOyBpKyspIHtcblx0XHRcdHZhciBpdGVtID0gcy5fcHJlbG9hZEhhc2hbc3JjXVtpXTtcblx0XHRcdHMuX3ByZWxvYWRIYXNoW3NyY11baV0gPSBmYWxzZTtcblxuXHRcdFx0aWYgKCFzLmhhc0V2ZW50TGlzdGVuZXIoXCJmaWxlZXJyb3JcIikpIHsgY29udGludWU7IH1cblxuXHRcdFx0dmFyIGV2ZW50ID0gbmV3IGNyZWF0ZWpzLkV2ZW50KFwiZmlsZWVycm9yXCIpO1xuXHRcdFx0ZXZlbnQuc3JjID0gaXRlbS5zcmM7XG5cdFx0XHRldmVudC5pZCA9IGl0ZW0uaWQ7XG5cdFx0XHRldmVudC5kYXRhID0gaXRlbS5kYXRhO1xuXHRcdFx0ZXZlbnQuc3ByaXRlID0gaXRlbS5zcHJpdGU7XG5cblx0XHRcdHMuZGlzcGF0Y2hFdmVudChldmVudCk7XG5cdFx0fVxuXHR9O1xuXG5cdC8qKlxuXHQgKiBVc2VkIGJ5IHt7I2Nyb3NzTGluayBcIlNvdW5kL3JlZ2lzdGVyUGx1Z2luc1wifX17ey9jcm9zc0xpbmt9fSB0byByZWdpc3RlciBhIFNvdW5kIHBsdWdpbi5cblx0ICpcblx0ICogQG1ldGhvZCBfcmVnaXN0ZXJQbHVnaW5cblx0ICogQHBhcmFtIHtPYmplY3R9IHBsdWdpbiBUaGUgcGx1Z2luIGNsYXNzIHRvIGluc3RhbGwuXG5cdCAqIEByZXR1cm4ge0Jvb2xlYW59IFdoZXRoZXIgdGhlIHBsdWdpbiB3YXMgc3VjY2Vzc2Z1bGx5IGluaXRpYWxpemVkLlxuXHQgKiBAc3RhdGljXG5cdCAqIEBwcml2YXRlXG5cdCAqL1xuXHRzLl9yZWdpc3RlclBsdWdpbiA9IGZ1bmN0aW9uIChwbHVnaW4pIHtcblx0XHQvLyBOb3RlOiBFYWNoIHBsdWdpbiBpcyBwYXNzZWQgaW4gYXMgYSBjbGFzcyByZWZlcmVuY2UsIGJ1dCB3ZSBzdG9yZSB0aGUgYWN0aXZlUGx1Z2luIGFzIGFuIGluc3RhbmNlXG5cdFx0aWYgKHBsdWdpbi5pc1N1cHBvcnRlZCgpKSB7XG5cdFx0XHRzLmFjdGl2ZVBsdWdpbiA9IG5ldyBwbHVnaW4oKTtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH1cblx0XHRyZXR1cm4gZmFsc2U7XG5cdH07XG5cblx0LyoqXG5cdCAqIFJlZ2lzdGVyIGEgbGlzdCBvZiBTb3VuZCBwbHVnaW5zLCBpbiBvcmRlciBvZiBwcmVjZWRlbmNlLiBUbyByZWdpc3RlciBhIHNpbmdsZSBwbHVnaW4sIHBhc3MgYSBzaW5nbGUgZWxlbWVudCBpbiB0aGUgYXJyYXkuXG5cdCAqXG5cdCAqIDxoND5FeGFtcGxlPC9oND5cblx0ICpcblx0ICogICAgICBjcmVhdGVqcy5GbGFzaEF1ZGlvUGx1Z2luLnN3ZlBhdGggPSBcIi4uL3NyYy9zb3VuZGpzL2ZsYXNoYXVkaW8vXCI7XG5cdCAqICAgICAgY3JlYXRlanMuU291bmQucmVnaXN0ZXJQbHVnaW5zKFtjcmVhdGVqcy5XZWJBdWRpb1BsdWdpbiwgY3JlYXRlanMuSFRNTEF1ZGlvUGx1Z2luLCBjcmVhdGVqcy5GbGFzaEF1ZGlvUGx1Z2luXSk7XG5cdCAqXG5cdCAqIEBtZXRob2QgcmVnaXN0ZXJQbHVnaW5zXG5cdCAqIEBwYXJhbSB7QXJyYXl9IHBsdWdpbnMgQW4gYXJyYXkgb2YgcGx1Z2lucyBjbGFzc2VzIHRvIGluc3RhbGwuXG5cdCAqIEByZXR1cm4ge0Jvb2xlYW59IFdoZXRoZXIgYSBwbHVnaW4gd2FzIHN1Y2Nlc3NmdWxseSBpbml0aWFsaXplZC5cblx0ICogQHN0YXRpY1xuXHQgKi9cblx0cy5yZWdpc3RlclBsdWdpbnMgPSBmdW5jdGlvbiAocGx1Z2lucykge1xuXHRcdHMuX3BsdWdpbnNSZWdpc3RlcmVkID0gdHJ1ZTtcblx0XHRmb3IgKHZhciBpID0gMCwgbCA9IHBsdWdpbnMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG5cdFx0XHRpZiAocy5fcmVnaXN0ZXJQbHVnaW4ocGx1Z2luc1tpXSkpIHtcblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiBmYWxzZTtcblx0fTtcblxuXHQvKipcblx0ICogSW5pdGlhbGl6ZSB0aGUgZGVmYXVsdCBwbHVnaW5zLiBUaGlzIG1ldGhvZCBpcyBhdXRvbWF0aWNhbGx5IGNhbGxlZCB3aGVuIGFueSBhdWRpbyBpcyBwbGF5ZWQgb3IgcmVnaXN0ZXJlZCBiZWZvcmVcblx0ICogdGhlIHVzZXIgaGFzIG1hbnVhbGx5IHJlZ2lzdGVyZWQgcGx1Z2lucywgYW5kIGVuYWJsZXMgU291bmQgdG8gd29yayB3aXRob3V0IG1hbnVhbCBwbHVnaW4gc2V0dXAuIEN1cnJlbnRseSwgdGhlXG5cdCAqIGRlZmF1bHQgcGx1Z2lucyBhcmUge3sjY3Jvc3NMaW5rIFwiV2ViQXVkaW9QbHVnaW5cIn19e3svY3Jvc3NMaW5rfX0gZm9sbG93ZWQgYnkge3sjY3Jvc3NMaW5rIFwiSFRNTEF1ZGlvUGx1Z2luXCJ9fXt7L2Nyb3NzTGlua319LlxuXHQgKlxuXHQgKiA8aDQ+RXhhbXBsZTwvaDQ+XG5cdCAqXG5cdCAqIFx0aWYgKCFjcmVhdGVqcy5pbml0aWFsaXplRGVmYXVsdFBsdWdpbnMoKSkgeyByZXR1cm47IH1cblx0ICpcblx0ICogQG1ldGhvZCBpbml0aWFsaXplRGVmYXVsdFBsdWdpbnNcblx0ICogQHJldHVybnMge0Jvb2xlYW59IFRydWUgaWYgYSBwbHVnaW4gd2FzIGluaXRpYWxpemVkLCBmYWxzZSBvdGhlcndpc2UuXG5cdCAqIEBzaW5jZSAwLjQuMFxuXHQgKiBAc3RhdGljXG5cdCAqL1xuXHRzLmluaXRpYWxpemVEZWZhdWx0UGx1Z2lucyA9IGZ1bmN0aW9uICgpIHtcblx0XHRpZiAocy5hY3RpdmVQbHVnaW4gIT0gbnVsbCkge3JldHVybiB0cnVlO31cblx0XHRpZiAocy5fcGx1Z2luc1JlZ2lzdGVyZWQpIHtyZXR1cm4gZmFsc2U7fVxuXHRcdGlmIChzLnJlZ2lzdGVyUGx1Z2lucyhbY3JlYXRlanMuV2ViQXVkaW9QbHVnaW4sIGNyZWF0ZWpzLkhUTUxBdWRpb1BsdWdpbl0pKSB7cmV0dXJuIHRydWU7fVxuXHRcdHJldHVybiBmYWxzZTtcblx0fTtcblxuXHQvKipcblx0ICogRGV0ZXJtaW5lcyBpZiBTb3VuZCBoYXMgYmVlbiBpbml0aWFsaXplZCwgYW5kIGEgcGx1Z2luIGhhcyBiZWVuIGFjdGl2YXRlZC5cblx0ICpcblx0ICogPGg0PkV4YW1wbGU8L2g0PlxuXHQgKiBUaGlzIGV4YW1wbGUgc2V0cyB1cCBhIEZsYXNoIGZhbGxiYWNrLCBidXQgb25seSBpZiB0aGVyZSBpcyBubyBwbHVnaW4gc3BlY2lmaWVkIHlldC5cblx0ICpcblx0ICogXHRpZiAoIWNyZWF0ZWpzLlNvdW5kLmlzUmVhZHkoKSkge1xuXHQgKlx0XHRjcmVhdGVqcy5GbGFzaEF1ZGlvUGx1Z2luLnN3ZlBhdGggPSBcIi4uL3NyYy9zb3VuZGpzL2ZsYXNoYXVkaW8vXCI7XG5cdCAqIFx0XHRjcmVhdGVqcy5Tb3VuZC5yZWdpc3RlclBsdWdpbnMoW2NyZWF0ZWpzLldlYkF1ZGlvUGx1Z2luLCBjcmVhdGVqcy5IVE1MQXVkaW9QbHVnaW4sIGNyZWF0ZWpzLkZsYXNoQXVkaW9QbHVnaW5dKTtcblx0ICpcdH1cblx0ICpcblx0ICogQG1ldGhvZCBpc1JlYWR5XG5cdCAqIEByZXR1cm4ge0Jvb2xlYW59IElmIFNvdW5kIGhhcyBpbml0aWFsaXplZCBhIHBsdWdpbi5cblx0ICogQHN0YXRpY1xuXHQgKi9cblx0cy5pc1JlYWR5ID0gZnVuY3Rpb24gKCkge1xuXHRcdHJldHVybiAocy5hY3RpdmVQbHVnaW4gIT0gbnVsbCk7XG5cdH07XG5cblx0LyoqXG5cdCAqIFByb2Nlc3MgbWFuaWZlc3QgaXRlbXMgZnJvbSA8YSBocmVmPVwiaHR0cDovL3ByZWxvYWRqcy5jb21cIiB0YXJnZXQ9XCJfYmxhbmtcIj5QcmVsb2FkSlM8L2E+LiBUaGlzIG1ldGhvZCBpcyBpbnRlbmRlZFxuXHQgKiBmb3IgdXNhZ2UgYnkgYSBwbHVnaW4sIGFuZCBub3QgZm9yIGRpcmVjdCBpbnRlcmFjdGlvbi5cblx0ICogQG1ldGhvZCBpbml0TG9hZFxuXHQgKiBAcGFyYW0ge09iamVjdH0gc3JjIFRoZSBvYmplY3QgdG8gbG9hZC5cblx0ICogQHJldHVybiB7T2JqZWN0fEFic3RyYWN0TG9hZGVyfSBBbiBpbnN0YW5jZSBvZiBBYnN0cmFjdExvYWRlci5cblx0ICogQHByaXZhdGVcblx0ICogQHN0YXRpY1xuXHQgKi9cblx0cy5pbml0TG9hZCA9IGZ1bmN0aW9uIChsb2FkSXRlbSkge1xuXHRcdGlmIChsb2FkSXRlbS50eXBlID09IFwidmlkZW9cIikgeyByZXR1cm4gdHJ1ZTsgfSAvLyBEb24ndCBoYW5kbGUgdmlkZW8uIFByZWxvYWRKUydzIHBsdWdpbiBtb2RlbCBpcyByZWFsbHkgYWdncmVzc2l2ZS5cblx0XHRyZXR1cm4gcy5fcmVnaXN0ZXJTb3VuZChsb2FkSXRlbSk7XG5cdH07XG5cblx0LyoqXG5cdCAqIEludGVybmFsIG1ldGhvZCBmb3IgbG9hZGluZyBzb3VuZHMuICBUaGlzIHNob3VsZCBub3QgYmUgY2FsbGVkIGRpcmVjdGx5LlxuXHQgKlxuXHQgKiBAbWV0aG9kIF9yZWdpc3RlclNvdW5kXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBzcmMgVGhlIG9iamVjdCB0byBsb2FkLCBjb250YWluaW5nIHNyYyBwcm9wZXJ0eSBhbmQgb3B0aW9uYWxseSBjb250YWluaW5nIGlkIGFuZCBkYXRhLlxuXHQgKiBAcmV0dXJuIHtPYmplY3R9IEFuIG9iamVjdCB3aXRoIHRoZSBtb2RpZmllZCB2YWx1ZXMgdGhhdCB3ZXJlIHBhc3NlZCBpbiwgd2hpY2ggZGVmaW5lcyB0aGUgc291bmQuXG5cdCAqIFJldHVybnMgZmFsc2UgaWYgdGhlIHNvdXJjZSBjYW5ub3QgYmUgcGFyc2VkIG9yIG5vIHBsdWdpbnMgY2FuIGJlIGluaXRpYWxpemVkLlxuXHQgKiBSZXR1cm5zIHRydWUgaWYgdGhlIHNvdXJjZSBpcyBhbHJlYWR5IGxvYWRlZC5cblx0ICogQHN0YXRpY1xuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAc2luY2UgMC42LjBcblx0ICovXG5cblx0cy5fcmVnaXN0ZXJTb3VuZCA9IGZ1bmN0aW9uIChsb2FkSXRlbSkge1xuXHRcdGlmICghcy5pbml0aWFsaXplRGVmYXVsdFBsdWdpbnMoKSkge3JldHVybiBmYWxzZTt9XG5cblx0XHR2YXIgZGV0YWlscztcblx0XHRpZiAobG9hZEl0ZW0uc3JjIGluc3RhbmNlb2YgT2JqZWN0KSB7XG5cdFx0XHRkZXRhaWxzID0gcy5fcGFyc2VTcmMobG9hZEl0ZW0uc3JjKTtcblx0XHRcdGRldGFpbHMuc3JjID0gbG9hZEl0ZW0ucGF0aCArIGRldGFpbHMuc3JjO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRkZXRhaWxzID0gcy5fcGFyc2VQYXRoKGxvYWRJdGVtLnNyYyk7XG5cdFx0fVxuXHRcdGlmIChkZXRhaWxzID09IG51bGwpIHtyZXR1cm4gZmFsc2U7fVxuXHRcdGxvYWRJdGVtLnNyYyA9IGRldGFpbHMuc3JjO1xuXHRcdGxvYWRJdGVtLnR5cGUgPSBcInNvdW5kXCI7XG5cblx0XHR2YXIgZGF0YSA9IGxvYWRJdGVtLmRhdGE7XG5cdFx0dmFyIG51bUNoYW5uZWxzID0gbnVsbDtcblx0XHRpZiAoZGF0YSAhPSBudWxsKSB7XG5cdFx0XHRpZiAoIWlzTmFOKGRhdGEuY2hhbm5lbHMpKSB7XG5cdFx0XHRcdG51bUNoYW5uZWxzID0gcGFyc2VJbnQoZGF0YS5jaGFubmVscyk7XG5cdFx0XHR9IGVsc2UgaWYgKCFpc05hTihkYXRhKSkge1xuXHRcdFx0XHRudW1DaGFubmVscyA9IHBhcnNlSW50KGRhdGEpO1xuXHRcdFx0fVxuXG5cdFx0XHRpZihkYXRhLmF1ZGlvU3ByaXRlKSB7XG5cdFx0XHRcdHZhciBzcDtcblx0XHRcdFx0Zm9yKHZhciBpID0gZGF0YS5hdWRpb1Nwcml0ZS5sZW5ndGg7IGktLTsgKSB7XG5cdFx0XHRcdFx0c3AgPSBkYXRhLmF1ZGlvU3ByaXRlW2ldO1xuXHRcdFx0XHRcdHMuX2lkSGFzaFtzcC5pZF0gPSB7c3JjOiBsb2FkSXRlbS5zcmMsIHN0YXJ0VGltZTogcGFyc2VJbnQoc3Auc3RhcnRUaW1lKSwgZHVyYXRpb246IHBhcnNlSW50KHNwLmR1cmF0aW9uKX07XG5cblx0XHRcdFx0XHRpZiAoc3AuZGVmYXVsdFBsYXlQcm9wcykge1xuXHRcdFx0XHRcdFx0cy5fZGVmYXVsdFBsYXlQcm9wc0hhc2hbc3AuaWRdID0gY3JlYXRlanMuUGxheVByb3BzQ29uZmlnLmNyZWF0ZShzcC5kZWZhdWx0UGxheVByb3BzKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdFx0aWYgKGxvYWRJdGVtLmlkICE9IG51bGwpIHtzLl9pZEhhc2hbbG9hZEl0ZW0uaWRdID0ge3NyYzogbG9hZEl0ZW0uc3JjfX07XG5cdFx0dmFyIGxvYWRlciA9IHMuYWN0aXZlUGx1Z2luLnJlZ2lzdGVyKGxvYWRJdGVtKTtcblxuXHRcdFNvdW5kQ2hhbm5lbC5jcmVhdGUobG9hZEl0ZW0uc3JjLCBudW1DaGFubmVscyk7XG5cblx0XHQvLyByZXR1cm4gdGhlIG51bWJlciBvZiBpbnN0YW5jZXMgdG8gdGhlIHVzZXIuICBUaGlzIHdpbGwgYWxzbyBiZSByZXR1cm5lZCBpbiB0aGUgbG9hZCBldmVudC5cblx0XHRpZiAoZGF0YSA9PSBudWxsIHx8ICFpc05hTihkYXRhKSkge1xuXHRcdFx0bG9hZEl0ZW0uZGF0YSA9IG51bUNoYW5uZWxzIHx8IFNvdW5kQ2hhbm5lbC5tYXhQZXJDaGFubmVsKCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGxvYWRJdGVtLmRhdGEuY2hhbm5lbHMgPSBudW1DaGFubmVscyB8fCBTb3VuZENoYW5uZWwubWF4UGVyQ2hhbm5lbCgpO1xuXHRcdH1cblxuXHRcdGlmIChsb2FkZXIudHlwZSkge2xvYWRJdGVtLnR5cGUgPSBsb2FkZXIudHlwZTt9XG5cblx0XHRpZiAobG9hZEl0ZW0uZGVmYXVsdFBsYXlQcm9wcykge1xuXHRcdFx0cy5fZGVmYXVsdFBsYXlQcm9wc0hhc2hbbG9hZEl0ZW0uc3JjXSA9IGNyZWF0ZWpzLlBsYXlQcm9wc0NvbmZpZy5jcmVhdGUobG9hZEl0ZW0uZGVmYXVsdFBsYXlQcm9wcyk7XG5cdFx0fVxuXHRcdHJldHVybiBsb2FkZXI7XG5cdH07XG5cblx0LyoqXG5cdCAqIFJlZ2lzdGVyIGFuIGF1ZGlvIGZpbGUgZm9yIGxvYWRpbmcgYW5kIGZ1dHVyZSBwbGF5YmFjayBpbiBTb3VuZC4gVGhpcyBpcyBhdXRvbWF0aWNhbGx5IGNhbGxlZCB3aGVuIHVzaW5nXG5cdCAqIDxhIGhyZWY9XCJodHRwOi8vcHJlbG9hZGpzLmNvbVwiIHRhcmdldD1cIl9ibGFua1wiPlByZWxvYWRKUzwvYT4uICBJdCBpcyByZWNvbW1lbmRlZCB0byByZWdpc3RlciBhbGwgc291bmRzIHRoYXRcblx0ICogbmVlZCB0byBiZSBwbGF5ZWQgYmFjayBpbiBvcmRlciB0byBwcm9wZXJseSBwcmVwYXJlIGFuZCBwcmVsb2FkIHRoZW0uIFNvdW5kIGRvZXMgaW50ZXJuYWwgcHJlbG9hZGluZyB3aGVuIHJlcXVpcmVkLlxuXHQgKlxuXHQgKiA8aDQ+RXhhbXBsZTwvaDQ+XG5cdCAqXG5cdCAqICAgICAgY3JlYXRlanMuU291bmQuYWx0ZXJuYXRlRXh0ZW5zaW9ucyA9IFtcIm1wM1wiXTtcblx0ICogICAgICBjcmVhdGVqcy5Tb3VuZC5vbihcImZpbGVsb2FkXCIsIGhhbmRsZUxvYWQpOyAvLyBhZGQgYW4gZXZlbnQgbGlzdGVuZXIgZm9yIHdoZW4gbG9hZCBpcyBjb21wbGV0ZWRcblx0ICogICAgICBjcmVhdGVqcy5Tb3VuZC5yZWdpc3RlclNvdW5kKFwibXlBdWRpb1BhdGgvbXlTb3VuZC5vZ2dcIiwgXCJteUlEXCIsIDMpO1xuXHQgKiAgICAgIGNyZWF0ZWpzLlNvdW5kLnJlZ2lzdGVyU291bmQoe29nZzpcInBhdGgxL215U291bmQub2dnXCIsIG1wMzpcInBhdGgyL215U291bmROb0V4dGVuc2lvblwifSwgXCJteUlEXCIsIDMpO1xuXHQgKlxuXHQgKlxuXHQgKiBAbWV0aG9kIHJlZ2lzdGVyU291bmRcblx0ICogQHBhcmFtIHtTdHJpbmcgfCBPYmplY3R9IHNyYyBUaGUgc291cmNlIG9yIGFuIE9iamVjdCB3aXRoIGEgXCJzcmNcIiBwcm9wZXJ0eSBvciBhbiBPYmplY3Qgd2l0aCBtdWx0aXBsZSBleHRlbnNpb24gbGFiZWxlZCBzcmMgcHJvcGVydGllcy5cblx0ICogQHBhcmFtIHtTdHJpbmd9IFtpZF0gQW4gaWQgc3BlY2lmaWVkIGJ5IHRoZSB1c2VyIHRvIHBsYXkgdGhlIHNvdW5kIGxhdGVyLiAgTm90ZSBpZCBpcyByZXF1aXJlZCBmb3Igd2hlbiBzcmMgaXMgbXVsdGlwbGUgZXh0ZW5zaW9uIGxhYmVsZWQgc3JjIHByb3BlcnRpZXMuXG5cdCAqIEBwYXJhbSB7TnVtYmVyIHwgT2JqZWN0fSBbZGF0YV0gRGF0YSBhc3NvY2lhdGVkIHdpdGggdGhlIGl0ZW0uIFNvdW5kIHVzZXMgdGhlIGRhdGEgcGFyYW1ldGVyIGFzIHRoZSBudW1iZXIgb2Zcblx0ICogY2hhbm5lbHMgZm9yIGFuIGF1ZGlvIGluc3RhbmNlLCBob3dldmVyIGEgXCJjaGFubmVsc1wiIHByb3BlcnR5IGNhbiBiZSBhcHBlbmRlZCB0byB0aGUgZGF0YSBvYmplY3QgaWYgaXQgaXMgdXNlZFxuXHQgKiBmb3Igb3RoZXIgaW5mb3JtYXRpb24uIFRoZSBhdWRpbyBjaGFubmVscyB3aWxsIHNldCBhIGRlZmF1bHQgYmFzZWQgb24gcGx1Z2luIGlmIG5vIHZhbHVlIGlzIGZvdW5kLlxuXHQgKiBTb3VuZCBhbHNvIHVzZXMgdGhlIGRhdGEgcHJvcGVydHkgdG8gaG9sZCBhbiB7eyNjcm9zc0xpbmsgXCJBdWRpb1Nwcml0ZVwifX17ey9jcm9zc0xpbmt9fSBhcnJheSBvZiBvYmplY3RzIGluIHRoZSBmb2xsb3dpbmcgZm9ybWF0IHtpZCwgc3RhcnRUaW1lLCBkdXJhdGlvbn0uPGJyLz5cblx0ICogICBpZCB1c2VkIHRvIHBsYXkgdGhlIHNvdW5kIGxhdGVyLCBpbiB0aGUgc2FtZSBtYW5uZXIgYXMgYSBzb3VuZCBzcmMgd2l0aCBhbiBpZC48YnIvPlxuXHQgKiAgIHN0YXJ0VGltZSBpcyB0aGUgaW5pdGlhbCBvZmZzZXQgdG8gc3RhcnQgcGxheWJhY2sgYW5kIGxvb3AgZnJvbSwgaW4gbWlsbGlzZWNvbmRzLjxici8+XG5cdCAqICAgZHVyYXRpb24gaXMgdGhlIGFtb3VudCBvZiB0aW1lIHRvIHBsYXkgdGhlIGNsaXAgZm9yLCBpbiBtaWxsaXNlY29uZHMuPGJyLz5cblx0ICogVGhpcyBhbGxvd3MgU291bmQgdG8gc3VwcG9ydCBhdWRpbyBzcHJpdGVzIHRoYXQgYXJlIHBsYXllZCBiYWNrIGJ5IGlkLlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gYmFzZVBhdGggU2V0IGEgcGF0aCB0aGF0IHdpbGwgYmUgcHJlcGVuZGVkIHRvIHNyYyBmb3IgbG9hZGluZy5cblx0ICogQHBhcmFtIHtPYmplY3QgfCBQbGF5UHJvcHNDb25maWd9IGRlZmF1bHRQbGF5UHJvcHMgT3B0aW9uYWwgUGxheWJhY2sgcHJvcGVydGllcyB0aGF0IHdpbGwgYmUgc2V0IGFzIHRoZSBkZWZhdWx0cyBvbiBhbnkgbmV3IEFic3RyYWN0U291bmRJbnN0YW5jZS5cblx0ICogU2VlIHt7I2Nyb3NzTGluayBcIlBsYXlQcm9wc0NvbmZpZ1wifX17ey9jcm9zc0xpbmt9fSBmb3Igb3B0aW9ucy5cblx0ICogQHJldHVybiB7T2JqZWN0fSBBbiBvYmplY3Qgd2l0aCB0aGUgbW9kaWZpZWQgdmFsdWVzIHRoYXQgd2VyZSBwYXNzZWQgaW4sIHdoaWNoIGRlZmluZXMgdGhlIHNvdW5kLlxuXHQgKiBSZXR1cm5zIGZhbHNlIGlmIHRoZSBzb3VyY2UgY2Fubm90IGJlIHBhcnNlZCBvciBubyBwbHVnaW5zIGNhbiBiZSBpbml0aWFsaXplZC5cblx0ICogUmV0dXJucyB0cnVlIGlmIHRoZSBzb3VyY2UgaXMgYWxyZWFkeSBsb2FkZWQuXG5cdCAqIEBzdGF0aWNcblx0ICogQHNpbmNlIDAuNC4wXG5cdCAqL1xuXHRzLnJlZ2lzdGVyU291bmQgPSBmdW5jdGlvbiAoc3JjLCBpZCwgZGF0YSwgYmFzZVBhdGgsIGRlZmF1bHRQbGF5UHJvcHMpIHtcblx0XHR2YXIgbG9hZEl0ZW0gPSB7c3JjOiBzcmMsIGlkOiBpZCwgZGF0YTpkYXRhLCBkZWZhdWx0UGxheVByb3BzOmRlZmF1bHRQbGF5UHJvcHN9O1xuXHRcdGlmIChzcmMgaW5zdGFuY2VvZiBPYmplY3QgJiYgc3JjLnNyYykge1xuXHRcdFx0YmFzZVBhdGggPSBpZDtcblx0XHRcdGxvYWRJdGVtID0gc3JjO1xuXHRcdH1cblx0XHRsb2FkSXRlbSA9IGNyZWF0ZWpzLkxvYWRJdGVtLmNyZWF0ZShsb2FkSXRlbSk7XG5cdFx0bG9hZEl0ZW0ucGF0aCA9IGJhc2VQYXRoO1xuXG5cdFx0aWYgKGJhc2VQYXRoICE9IG51bGwgJiYgIShsb2FkSXRlbS5zcmMgaW5zdGFuY2VvZiBPYmplY3QpKSB7bG9hZEl0ZW0uc3JjID0gYmFzZVBhdGggKyBsb2FkSXRlbS5zcmM7fVxuXG5cdFx0dmFyIGxvYWRlciA9IHMuX3JlZ2lzdGVyU291bmQobG9hZEl0ZW0pO1xuXHRcdGlmKCFsb2FkZXIpIHtyZXR1cm4gZmFsc2U7fVxuXG5cdFx0aWYgKCFzLl9wcmVsb2FkSGFzaFtsb2FkSXRlbS5zcmNdKSB7IHMuX3ByZWxvYWRIYXNoW2xvYWRJdGVtLnNyY10gPSBbXTt9XG5cdFx0cy5fcHJlbG9hZEhhc2hbbG9hZEl0ZW0uc3JjXS5wdXNoKGxvYWRJdGVtKTtcblx0XHRpZiAocy5fcHJlbG9hZEhhc2hbbG9hZEl0ZW0uc3JjXS5sZW5ndGggPT0gMSkge1xuXHRcdFx0Ly8gT0pSIG5vdGUgdGhpcyB3aWxsIGRpc2FsbG93IHJlbG9hZGluZyBhIHNvdW5kIGlmIGxvYWRpbmcgZmFpbHMgb3IgdGhlIHNvdXJjZSBjaGFuZ2VzXG5cdFx0XHRsb2FkZXIub24oXCJjb21wbGV0ZVwiLCB0aGlzLl9oYW5kbGVMb2FkQ29tcGxldGUsIHRoaXMpO1xuXHRcdFx0bG9hZGVyLm9uKFwiZXJyb3JcIiwgdGhpcy5faGFuZGxlTG9hZEVycm9yLCB0aGlzKTtcblx0XHRcdHMuYWN0aXZlUGx1Z2luLnByZWxvYWQobG9hZGVyKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0aWYgKHMuX3ByZWxvYWRIYXNoW2xvYWRJdGVtLnNyY11bMF0gPT0gdHJ1ZSkge3JldHVybiB0cnVlO31cblx0XHR9XG5cblx0XHRyZXR1cm4gbG9hZEl0ZW07XG5cdH07XG5cblx0LyoqXG5cdCAqIFJlZ2lzdGVyIGFuIGFycmF5IG9mIGF1ZGlvIGZpbGVzIGZvciBsb2FkaW5nIGFuZCBmdXR1cmUgcGxheWJhY2sgaW4gU291bmQuIEl0IGlzIHJlY29tbWVuZGVkIHRvIHJlZ2lzdGVyIGFsbFxuXHQgKiBzb3VuZHMgdGhhdCBuZWVkIHRvIGJlIHBsYXllZCBiYWNrIGluIG9yZGVyIHRvIHByb3Blcmx5IHByZXBhcmUgYW5kIHByZWxvYWQgdGhlbS4gU291bmQgZG9lcyBpbnRlcm5hbCBwcmVsb2FkaW5nXG5cdCAqIHdoZW4gcmVxdWlyZWQuXG5cdCAqXG5cdCAqIDxoND5FeGFtcGxlPC9oND5cblx0ICpcblx0ICogXHRcdHZhciBhc3NldFBhdGggPSBcIi4vbXlBdWRpb1BhdGgvXCI7XG5cdCAqICAgICAgdmFyIHNvdW5kcyA9IFtcblx0ICogICAgICAgICAge3NyYzpcImFzc2V0MC5vZ2dcIiwgaWQ6XCJleGFtcGxlXCJ9LFxuXHQgKiAgICAgICAgICB7c3JjOlwiYXNzZXQxLm9nZ1wiLCBpZDpcIjFcIiwgZGF0YTo2fSxcblx0ICogICAgICAgICAge3NyYzpcImFzc2V0Mi5tcDNcIiwgaWQ6XCJ3b3Jrc1wifVxuXHQgKiAgICAgICAgICB7c3JjOnttcDM6XCJwYXRoMS9hc3NldDMubXAzXCIsIG9nZzpcInBhdGgyL2Fzc2V0M05vRXh0ZW5zaW9uXCJ9LCBpZDpcImJldHRlclwifVxuXHQgKiAgICAgIF07XG5cdCAqICAgICAgY3JlYXRlanMuU291bmQuYWx0ZXJuYXRlRXh0ZW5zaW9ucyA9IFtcIm1wM1wiXTtcdC8vIGlmIHRoZSBwYXNzZWQgZXh0ZW5zaW9uIGlzIG5vdCBzdXBwb3J0ZWQsIHRyeSB0aGlzIGV4dGVuc2lvblxuXHQgKiAgICAgIGNyZWF0ZWpzLlNvdW5kLm9uKFwiZmlsZWxvYWRcIiwgaGFuZGxlTG9hZCk7IC8vIGNhbGwgaGFuZGxlTG9hZCB3aGVuIGVhY2ggc291bmQgbG9hZHNcblx0ICogICAgICBjcmVhdGVqcy5Tb3VuZC5yZWdpc3RlclNvdW5kcyhzb3VuZHMsIGFzc2V0UGF0aCk7XG5cdCAqXG5cdCAqIEBtZXRob2QgcmVnaXN0ZXJTb3VuZHNcblx0ICogQHBhcmFtIHtBcnJheX0gc291bmRzIEFuIGFycmF5IG9mIG9iamVjdHMgdG8gbG9hZC4gT2JqZWN0cyBhcmUgZXhwZWN0ZWQgdG8gYmUgaW4gdGhlIGZvcm1hdCBuZWVkZWQgZm9yXG5cdCAqIHt7I2Nyb3NzTGluayBcIlNvdW5kL3JlZ2lzdGVyU291bmRcIn19e3svY3Jvc3NMaW5rfX06IDxjb2RlPntzcmM6c3JjVVJJLCBpZDpJRCwgZGF0YTpEYXRhfTwvY29kZT5cblx0ICogd2l0aCBcImlkXCIgYW5kIFwiZGF0YVwiIGJlaW5nIG9wdGlvbmFsLlxuXHQgKiBZb3UgY2FuIGFsc28gcGFzcyBhbiBvYmplY3Qgd2l0aCBwYXRoIGFuZCBtYW5pZmVzdCBwcm9wZXJ0aWVzLCB3aGVyZSBwYXRoIGlzIGEgYmFzZVBhdGggYW5kIG1hbmlmZXN0IGlzIGFuIGFycmF5IG9mIG9iamVjdHMgdG8gbG9hZC5cblx0ICogTm90ZSBpZCBpcyByZXF1aXJlZCBpZiBzcmMgaXMgYW4gb2JqZWN0IHdpdGggZXh0ZW5zaW9uIGxhYmVsZWQgc3JjIHByb3BlcnRpZXMuXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBiYXNlUGF0aCBTZXQgYSBwYXRoIHRoYXQgd2lsbCBiZSBwcmVwZW5kZWQgdG8gZWFjaCBzcmMgd2hlbiBsb2FkaW5nLiAgV2hlbiBjcmVhdGluZywgcGxheWluZywgb3IgcmVtb3Zpbmdcblx0ICogYXVkaW8gdGhhdCB3YXMgbG9hZGVkIHdpdGggYSBiYXNlUGF0aCBieSBzcmMsIHRoZSBiYXNlUGF0aCBtdXN0IGJlIGluY2x1ZGVkLlxuXHQgKiBAcmV0dXJuIHtPYmplY3R9IEFuIGFycmF5IG9mIG9iamVjdHMgd2l0aCB0aGUgbW9kaWZpZWQgdmFsdWVzIHRoYXQgd2VyZSBwYXNzZWQgaW4sIHdoaWNoIGRlZmluZXMgZWFjaCBzb3VuZC5cblx0ICogTGlrZSByZWdpc3RlclNvdW5kLCBpdCB3aWxsIHJldHVybiBmYWxzZSBmb3IgYW55IHZhbHVlcyB3aGVuIHRoZSBzb3VyY2UgY2Fubm90IGJlIHBhcnNlZCBvciBpZiBubyBwbHVnaW5zIGNhbiBiZSBpbml0aWFsaXplZC5cblx0ICogQWxzbywgaXQgd2lsbCByZXR1cm4gdHJ1ZSBmb3IgYW55IHZhbHVlcyB3aGVuIHRoZSBzb3VyY2UgaXMgYWxyZWFkeSBsb2FkZWQuXG5cdCAqIEBzdGF0aWNcblx0ICogQHNpbmNlIDAuNi4wXG5cdCAqL1xuXHRzLnJlZ2lzdGVyU291bmRzID0gZnVuY3Rpb24gKHNvdW5kcywgYmFzZVBhdGgpIHtcblx0XHR2YXIgcmV0dXJuVmFsdWVzID0gW107XG5cdFx0aWYgKHNvdW5kcy5wYXRoKSB7XG5cdFx0XHRpZiAoIWJhc2VQYXRoKSB7XG5cdFx0XHRcdGJhc2VQYXRoID0gc291bmRzLnBhdGg7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRiYXNlUGF0aCA9IGJhc2VQYXRoICsgc291bmRzLnBhdGg7XG5cdFx0XHR9XG5cdFx0XHRzb3VuZHMgPSBzb3VuZHMubWFuaWZlc3Q7XG5cdFx0XHQvLyBUT0RPIGRvY3VtZW50IHRoaXMgZmVhdHVyZVxuXHRcdH1cblx0XHRmb3IgKHZhciBpID0gMCwgbCA9IHNvdW5kcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcblx0XHRcdHJldHVyblZhbHVlc1tpXSA9IGNyZWF0ZWpzLlNvdW5kLnJlZ2lzdGVyU291bmQoc291bmRzW2ldLnNyYywgc291bmRzW2ldLmlkLCBzb3VuZHNbaV0uZGF0YSwgYmFzZVBhdGgsIHNvdW5kc1tpXS5kZWZhdWx0UGxheVByb3BzKTtcblx0XHR9XG5cdFx0cmV0dXJuIHJldHVyblZhbHVlcztcblx0fTtcblxuXHQvKipcblx0ICogUmVtb3ZlIGEgc291bmQgdGhhdCBoYXMgYmVlbiByZWdpc3RlcmVkIHdpdGgge3sjY3Jvc3NMaW5rIFwiU291bmQvcmVnaXN0ZXJTb3VuZFwifX17ey9jcm9zc0xpbmt9fSBvclxuXHQgKiB7eyNjcm9zc0xpbmsgXCJTb3VuZC9yZWdpc3RlclNvdW5kc1wifX17ey9jcm9zc0xpbmt9fS5cblx0ICogPGJyIC8+Tm90ZSB0aGlzIHdpbGwgc3RvcCBwbGF5YmFjayBvbiBhY3RpdmUgaW5zdGFuY2VzIHBsYXlpbmcgdGhpcyBzb3VuZCBiZWZvcmUgZGVsZXRpbmcgdGhlbS5cblx0ICogPGJyIC8+Tm90ZSBpZiB5b3UgcGFzc2VkIGluIGEgYmFzZVBhdGgsIHlvdSBuZWVkIHRvIHBhc3MgaXQgb3IgcHJlcGVuZCBpdCB0byB0aGUgc3JjIGhlcmUuXG5cdCAqXG5cdCAqIDxoND5FeGFtcGxlPC9oND5cblx0ICpcblx0ICogICAgICBjcmVhdGVqcy5Tb3VuZC5yZW1vdmVTb3VuZChcIm15SURcIik7XG5cdCAqICAgICAgY3JlYXRlanMuU291bmQucmVtb3ZlU291bmQoXCJteUF1ZGlvQmFzZVBhdGgvbXlTb3VuZC5vZ2dcIik7XG5cdCAqICAgICAgY3JlYXRlanMuU291bmQucmVtb3ZlU291bmQoXCJteVBhdGgvbXlPdGhlclNvdW5kLm1wM1wiLCBcIm15QmFzZVBhdGgvXCIpO1xuXHQgKiAgICAgIGNyZWF0ZWpzLlNvdW5kLnJlbW92ZVNvdW5kKHttcDM6XCJtdXNpY05vRXh0ZW5zaW9uXCIsIG9nZzpcIm11c2ljLm9nZ1wifSwgXCJteUJhc2VQYXRoL1wiKTtcblx0ICpcblx0ICogQG1ldGhvZCByZW1vdmVTb3VuZFxuXHQgKiBAcGFyYW0ge1N0cmluZyB8IE9iamVjdH0gc3JjIFRoZSBzcmMgb3IgSUQgb2YgdGhlIGF1ZGlvLCBvciBhbiBPYmplY3Qgd2l0aCBhIFwic3JjXCIgcHJvcGVydHksIG9yIGFuIE9iamVjdCB3aXRoIG11bHRpcGxlIGV4dGVuc2lvbiBsYWJlbGVkIHNyYyBwcm9wZXJ0aWVzLlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gYmFzZVBhdGggU2V0IGEgcGF0aCB0aGF0IHdpbGwgYmUgcHJlcGVuZGVkIHRvIGVhY2ggc3JjIHdoZW4gcmVtb3ZpbmcuXG5cdCAqIEByZXR1cm4ge0Jvb2xlYW59IFRydWUgaWYgc291bmQgaXMgc3VjY2Vzc2Z1bGx5IHJlbW92ZWQuXG5cdCAqIEBzdGF0aWNcblx0ICogQHNpbmNlIDAuNC4xXG5cdCAqL1xuXHRzLnJlbW92ZVNvdW5kID0gZnVuY3Rpb24oc3JjLCBiYXNlUGF0aCkge1xuXHRcdGlmIChzLmFjdGl2ZVBsdWdpbiA9PSBudWxsKSB7cmV0dXJuIGZhbHNlO31cblxuXHRcdGlmIChzcmMgaW5zdGFuY2VvZiBPYmplY3QgJiYgc3JjLnNyYykge3NyYyA9IHNyYy5zcmM7fVxuXG5cdFx0dmFyIGRldGFpbHM7XG5cdFx0aWYgKHNyYyBpbnN0YW5jZW9mIE9iamVjdCkge1xuXHRcdFx0ZGV0YWlscyA9IHMuX3BhcnNlU3JjKHNyYyk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHNyYyA9IHMuX2dldFNyY0J5SWQoc3JjKS5zcmM7XG5cdFx0XHRkZXRhaWxzID0gcy5fcGFyc2VQYXRoKHNyYyk7XG5cdFx0fVxuXHRcdGlmIChkZXRhaWxzID09IG51bGwpIHtyZXR1cm4gZmFsc2U7fVxuXHRcdHNyYyA9IGRldGFpbHMuc3JjO1xuXHRcdGlmIChiYXNlUGF0aCAhPSBudWxsKSB7c3JjID0gYmFzZVBhdGggKyBzcmM7fVxuXG5cdFx0Zm9yKHZhciBwcm9wIGluIHMuX2lkSGFzaCl7XG5cdFx0XHRpZihzLl9pZEhhc2hbcHJvcF0uc3JjID09IHNyYykge1xuXHRcdFx0XHRkZWxldGUocy5faWRIYXNoW3Byb3BdKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBjbGVhciBmcm9tIFNvdW5kQ2hhbm5lbCwgd2hpY2ggYWxzbyBzdG9wcyBhbmQgZGVsZXRlcyBhbGwgaW5zdGFuY2VzXG5cdFx0U291bmRDaGFubmVsLnJlbW92ZVNyYyhzcmMpO1xuXG5cdFx0ZGVsZXRlKHMuX3ByZWxvYWRIYXNoW3NyY10pO1xuXG5cdFx0cy5hY3RpdmVQbHVnaW4ucmVtb3ZlU291bmQoc3JjKTtcblxuXHRcdHJldHVybiB0cnVlO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBSZW1vdmUgYW4gYXJyYXkgb2YgYXVkaW8gZmlsZXMgdGhhdCBoYXZlIGJlZW4gcmVnaXN0ZXJlZCB3aXRoIHt7I2Nyb3NzTGluayBcIlNvdW5kL3JlZ2lzdGVyU291bmRcIn19e3svY3Jvc3NMaW5rfX0gb3Jcblx0ICoge3sjY3Jvc3NMaW5rIFwiU291bmQvcmVnaXN0ZXJTb3VuZHNcIn19e3svY3Jvc3NMaW5rfX0uXG5cdCAqIDxiciAvPk5vdGUgdGhpcyB3aWxsIHN0b3AgcGxheWJhY2sgb24gYWN0aXZlIGluc3RhbmNlcyBwbGF5aW5nIHRoaXMgYXVkaW8gYmVmb3JlIGRlbGV0aW5nIHRoZW0uXG5cdCAqIDxiciAvPk5vdGUgaWYgeW91IHBhc3NlZCBpbiBhIGJhc2VQYXRoLCB5b3UgbmVlZCB0byBwYXNzIGl0IG9yIHByZXBlbmQgaXQgdG8gdGhlIHNyYyBoZXJlLlxuXHQgKlxuXHQgKiA8aDQ+RXhhbXBsZTwvaDQ+XG5cdCAqXG5cdCAqIFx0XHRhc3NldFBhdGggPSBcIi4vbXlQYXRoL1wiO1xuXHQgKiAgICAgIHZhciBzb3VuZHMgPSBbXG5cdCAqICAgICAgICAgIHtzcmM6XCJhc3NldDAub2dnXCIsIGlkOlwiZXhhbXBsZVwifSxcblx0ICogICAgICAgICAge3NyYzpcImFzc2V0MS5vZ2dcIiwgaWQ6XCIxXCIsIGRhdGE6Nn0sXG5cdCAqICAgICAgICAgIHtzcmM6XCJhc3NldDIubXAzXCIsIGlkOlwid29ya3NcIn1cblx0ICogICAgICBdO1xuXHQgKiAgICAgIGNyZWF0ZWpzLlNvdW5kLnJlbW92ZVNvdW5kcyhzb3VuZHMsIGFzc2V0UGF0aCk7XG5cdCAqXG5cdCAqIEBtZXRob2QgcmVtb3ZlU291bmRzXG5cdCAqIEBwYXJhbSB7QXJyYXl9IHNvdW5kcyBBbiBhcnJheSBvZiBvYmplY3RzIHRvIHJlbW92ZS4gT2JqZWN0cyBhcmUgZXhwZWN0ZWQgdG8gYmUgaW4gdGhlIGZvcm1hdCBuZWVkZWQgZm9yXG5cdCAqIHt7I2Nyb3NzTGluayBcIlNvdW5kL3JlbW92ZVNvdW5kXCJ9fXt7L2Nyb3NzTGlua319OiA8Y29kZT57c3JjT3JJRDpzcmNVUklvcklEfTwvY29kZT4uXG5cdCAqIFlvdSBjYW4gYWxzbyBwYXNzIGFuIG9iamVjdCB3aXRoIHBhdGggYW5kIG1hbmlmZXN0IHByb3BlcnRpZXMsIHdoZXJlIHBhdGggaXMgYSBiYXNlUGF0aCBhbmQgbWFuaWZlc3QgaXMgYW4gYXJyYXkgb2Ygb2JqZWN0cyB0byByZW1vdmUuXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBiYXNlUGF0aCBTZXQgYSBwYXRoIHRoYXQgd2lsbCBiZSBwcmVwZW5kZWQgdG8gZWFjaCBzcmMgd2hlbiByZW1vdmluZy5cblx0ICogQHJldHVybiB7T2JqZWN0fSBBbiBhcnJheSBvZiBCb29sZWFuIHZhbHVlcyByZXByZXNlbnRpbmcgaWYgdGhlIHNvdW5kcyB3aXRoIHRoZSBzYW1lIGFycmF5IGluZGV4IHdlcmVcblx0ICogc3VjY2Vzc2Z1bGx5IHJlbW92ZWQuXG5cdCAqIEBzdGF0aWNcblx0ICogQHNpbmNlIDAuNC4xXG5cdCAqL1xuXHRzLnJlbW92ZVNvdW5kcyA9IGZ1bmN0aW9uIChzb3VuZHMsIGJhc2VQYXRoKSB7XG5cdFx0dmFyIHJldHVyblZhbHVlcyA9IFtdO1xuXHRcdGlmIChzb3VuZHMucGF0aCkge1xuXHRcdFx0aWYgKCFiYXNlUGF0aCkge1xuXHRcdFx0XHRiYXNlUGF0aCA9IHNvdW5kcy5wYXRoO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0YmFzZVBhdGggPSBiYXNlUGF0aCArIHNvdW5kcy5wYXRoO1xuXHRcdFx0fVxuXHRcdFx0c291bmRzID0gc291bmRzLm1hbmlmZXN0O1xuXHRcdH1cblx0XHRmb3IgKHZhciBpID0gMCwgbCA9IHNvdW5kcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcblx0XHRcdHJldHVyblZhbHVlc1tpXSA9IGNyZWF0ZWpzLlNvdW5kLnJlbW92ZVNvdW5kKHNvdW5kc1tpXS5zcmMsIGJhc2VQYXRoKTtcblx0XHR9XG5cdFx0cmV0dXJuIHJldHVyblZhbHVlcztcblx0fTtcblxuXHQvKipcblx0ICogUmVtb3ZlIGFsbCBzb3VuZHMgdGhhdCBoYXZlIGJlZW4gcmVnaXN0ZXJlZCB3aXRoIHt7I2Nyb3NzTGluayBcIlNvdW5kL3JlZ2lzdGVyU291bmRcIn19e3svY3Jvc3NMaW5rfX0gb3Jcblx0ICoge3sjY3Jvc3NMaW5rIFwiU291bmQvcmVnaXN0ZXJTb3VuZHNcIn19e3svY3Jvc3NMaW5rfX0uXG5cdCAqIDxiciAvPk5vdGUgdGhpcyB3aWxsIHN0b3AgcGxheWJhY2sgb24gYWxsIGFjdGl2ZSBzb3VuZCBpbnN0YW5jZXMgYmVmb3JlIGRlbGV0aW5nIHRoZW0uXG5cdCAqXG5cdCAqIDxoND5FeGFtcGxlPC9oND5cblx0ICpcblx0ICogICAgIGNyZWF0ZWpzLlNvdW5kLnJlbW92ZUFsbFNvdW5kcygpO1xuXHQgKlxuXHQgKiBAbWV0aG9kIHJlbW92ZUFsbFNvdW5kc1xuXHQgKiBAc3RhdGljXG5cdCAqIEBzaW5jZSAwLjQuMVxuXHQgKi9cblx0cy5yZW1vdmVBbGxTb3VuZHMgPSBmdW5jdGlvbigpIHtcblx0XHRzLl9pZEhhc2ggPSB7fTtcblx0XHRzLl9wcmVsb2FkSGFzaCA9IHt9O1xuXHRcdFNvdW5kQ2hhbm5lbC5yZW1vdmVBbGwoKTtcblx0XHRpZiAocy5hY3RpdmVQbHVnaW4pIHtzLmFjdGl2ZVBsdWdpbi5yZW1vdmVBbGxTb3VuZHMoKTt9XG5cdH07XG5cblx0LyoqXG5cdCAqIENoZWNrIGlmIGEgc291cmNlIGhhcyBiZWVuIGxvYWRlZCBieSBpbnRlcm5hbCBwcmVsb2FkZXJzLiBUaGlzIGlzIG5lY2Vzc2FyeSB0byBlbnN1cmUgdGhhdCBzb3VuZHMgdGhhdCBhcmVcblx0ICogbm90IGNvbXBsZXRlZCBwcmVsb2FkaW5nIHdpbGwgbm90IGtpY2sgb2ZmIGEgbmV3IGludGVybmFsIHByZWxvYWQgaWYgdGhleSBhcmUgcGxheWVkLlxuXHQgKlxuXHQgKiA8aDQ+RXhhbXBsZTwvaDQ+XG5cdCAqXG5cdCAqICAgICB2YXIgbXlTb3VuZCA9IFwiYXNzZXRQYXRoL2Fzc2V0MC5vZ2dcIjtcblx0ICogICAgIGlmKGNyZWF0ZWpzLlNvdW5kLmxvYWRDb21wbGV0ZShteVNvdW5kKSB7XG5cdCAqICAgICAgICAgY3JlYXRlanMuU291bmQucGxheShteVNvdW5kKTtcblx0ICogICAgIH1cblx0ICpcblx0ICogQG1ldGhvZCBsb2FkQ29tcGxldGVcblx0ICogQHBhcmFtIHtTdHJpbmd9IHNyYyBUaGUgc3JjIG9yIGlkIHRoYXQgaXMgYmVpbmcgbG9hZGVkLlxuXHQgKiBAcmV0dXJuIHtCb29sZWFufSBJZiB0aGUgc3JjIGlzIGFscmVhZHkgbG9hZGVkLlxuXHQgKiBAc2luY2UgMC40LjBcblx0ICogQHN0YXRpY1xuXHQgKi9cblx0cy5sb2FkQ29tcGxldGUgPSBmdW5jdGlvbiAoc3JjKSB7XG5cdFx0aWYgKCFzLmlzUmVhZHkoKSkgeyByZXR1cm4gZmFsc2U7IH1cblx0XHR2YXIgZGV0YWlscyA9IHMuX3BhcnNlUGF0aChzcmMpO1xuXHRcdGlmIChkZXRhaWxzKSB7XG5cdFx0XHRzcmMgPSBzLl9nZXRTcmNCeUlkKGRldGFpbHMuc3JjKS5zcmM7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHNyYyA9IHMuX2dldFNyY0J5SWQoc3JjKS5zcmM7XG5cdFx0fVxuXHRcdGlmKHMuX3ByZWxvYWRIYXNoW3NyY10gPT0gdW5kZWZpbmVkKSB7cmV0dXJuIGZhbHNlO31cblx0XHRyZXR1cm4gKHMuX3ByZWxvYWRIYXNoW3NyY11bMF0gPT0gdHJ1ZSk7ICAvLyBzcmMgb25seSBsb2FkcyBvbmNlLCBzbyBpZiBpdCdzIHRydWUgZm9yIHRoZSBmaXJzdCBpdCdzIHRydWUgZm9yIGFsbFxuXHR9O1xuXG5cdC8qKlxuXHQgKiBQYXJzZSB0aGUgcGF0aCBvZiBhIHNvdW5kLiBBbHRlcm5hdGUgZXh0ZW5zaW9ucyB3aWxsIGJlIGF0dGVtcHRlZCBpbiBvcmRlciBpZiB0aGVcblx0ICogY3VycmVudCBleHRlbnNpb24gaXMgbm90IHN1cHBvcnRlZFxuXHQgKiBAbWV0aG9kIF9wYXJzZVBhdGhcblx0ICogQHBhcmFtIHtTdHJpbmd9IHZhbHVlIFRoZSBwYXRoIHRvIGFuIGF1ZGlvIHNvdXJjZS5cblx0ICogQHJldHVybiB7T2JqZWN0fSBBIGZvcm1hdHRlZCBvYmplY3QgdGhhdCBjYW4gYmUgcmVnaXN0ZXJlZCB3aXRoIHRoZSB7eyNjcm9zc0xpbmsgXCJTb3VuZC9hY3RpdmVQbHVnaW46cHJvcGVydHlcIn19e3svY3Jvc3NMaW5rfX1cblx0ICogYW5kIHJldHVybmVkIHRvIGEgcHJlbG9hZGVyIGxpa2UgPGEgaHJlZj1cImh0dHA6Ly9wcmVsb2FkanMuY29tXCIgdGFyZ2V0PVwiX2JsYW5rXCI+UHJlbG9hZEpTPC9hPi5cblx0ICogQHByaXZhdGVcblx0ICogQHN0YXRpY1xuXHQgKi9cblx0cy5fcGFyc2VQYXRoID0gZnVuY3Rpb24gKHZhbHVlKSB7XG5cdFx0aWYgKHR5cGVvZih2YWx1ZSkgIT0gXCJzdHJpbmdcIikge3ZhbHVlID0gdmFsdWUudG9TdHJpbmcoKTt9XG5cblx0XHR2YXIgbWF0Y2ggPSB2YWx1ZS5tYXRjaChzLkZJTEVfUEFUVEVSTik7XG5cdFx0aWYgKG1hdGNoID09IG51bGwpIHtyZXR1cm4gZmFsc2U7fVxuXG5cdFx0dmFyIG5hbWUgPSBtYXRjaFs0XTtcblx0XHR2YXIgZXh0ID0gbWF0Y2hbNV07XG5cdFx0dmFyIGMgPSBzLmNhcGFiaWxpdGllcztcblx0XHR2YXIgaSA9IDA7XG5cdFx0d2hpbGUgKCFjW2V4dF0pIHtcblx0XHRcdGV4dCA9IHMuYWx0ZXJuYXRlRXh0ZW5zaW9uc1tpKytdO1xuXHRcdFx0aWYgKGkgPiBzLmFsdGVybmF0ZUV4dGVuc2lvbnMubGVuZ3RoKSB7IHJldHVybiBudWxsO31cdC8vIG5vIGV4dGVuc2lvbnMgYXJlIHN1cHBvcnRlZFxuXHRcdH1cblx0XHR2YWx1ZSA9IHZhbHVlLnJlcGxhY2UoXCIuXCIrbWF0Y2hbNV0sIFwiLlwiK2V4dCk7XG5cblx0XHR2YXIgcmV0ID0ge25hbWU6bmFtZSwgc3JjOnZhbHVlLCBleHRlbnNpb246ZXh0fTtcblx0XHRyZXR1cm4gcmV0O1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBQYXJzZSB0aGUgcGF0aCBvZiBhIHNvdW5kIGJhc2VkIG9uIHByb3BlcnRpZXMgb2Ygc3JjIG1hdGNoaW5nIHdpdGggc3VwcG9ydGVkIGV4dGVuc2lvbnMuXG5cdCAqIFJldHVybnMgZmFsc2UgaWYgbm9uZSBvZiB0aGUgcHJvcGVydGllcyBhcmUgc3VwcG9ydGVkXG5cdCAqIEBtZXRob2QgX3BhcnNlU3JjXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSB2YWx1ZSBUaGUgcGF0aHMgdG8gYW4gYXVkaW8gc291cmNlLCBpbmRleGVkIGJ5IGV4dGVuc2lvbiB0eXBlLlxuXHQgKiBAcmV0dXJuIHtPYmplY3R9IEEgZm9ybWF0dGVkIG9iamVjdCB0aGF0IGNhbiBiZSByZWdpc3RlcmVkIHdpdGggdGhlIHt7I2Nyb3NzTGluayBcIlNvdW5kL2FjdGl2ZVBsdWdpbjpwcm9wZXJ0eVwifX17ey9jcm9zc0xpbmt9fVxuXHQgKiBhbmQgcmV0dXJuZWQgdG8gYSBwcmVsb2FkZXIgbGlrZSA8YSBocmVmPVwiaHR0cDovL3ByZWxvYWRqcy5jb21cIiB0YXJnZXQ9XCJfYmxhbmtcIj5QcmVsb2FkSlM8L2E+LlxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAc3RhdGljXG5cdCAqL1xuXHRzLl9wYXJzZVNyYyA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuXHRcdHZhciByZXQgPSB7bmFtZTp1bmRlZmluZWQsIHNyYzp1bmRlZmluZWQsIGV4dGVuc2lvbjp1bmRlZmluZWR9O1xuXHRcdHZhciBjID0gcy5jYXBhYmlsaXRpZXM7XG5cblx0XHRmb3IgKHZhciBwcm9wIGluIHZhbHVlKSB7XG5cdFx0ICBpZih2YWx1ZS5oYXNPd25Qcm9wZXJ0eShwcm9wKSAmJiBjW3Byb3BdKSB7XG5cdFx0XHRcdHJldC5zcmMgPSB2YWx1ZVtwcm9wXTtcblx0XHRcdFx0cmV0LmV4dGVuc2lvbiA9IHByb3A7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdCAgfVxuXHRcdH1cblx0XHRpZiAoIXJldC5zcmMpIHtyZXR1cm4gZmFsc2U7fVx0Ly8gbm8gbWF0Y2hlc1xuXG5cdFx0dmFyIGkgPSByZXQuc3JjLmxhc3RJbmRleE9mKFwiL1wiKTtcblx0XHRpZiAoaSAhPSAtMSkge1xuXHRcdFx0cmV0Lm5hbWUgPSByZXQuc3JjLnNsaWNlKGkrMSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldC5uYW1lID0gcmV0LnNyYztcblx0XHR9XG5cblx0XHRyZXR1cm4gcmV0O1xuXHR9O1xuXG5cdC8qIC0tLS0tLS0tLS0tLS0tLVxuXHQgU3RhdGljIEFQSS5cblx0IC0tLS0tLS0tLS0tLS0tLSAqL1xuXHQvKipcblx0ICogUGxheSBhIHNvdW5kIGFuZCBnZXQgYSB7eyNjcm9zc0xpbmsgXCJBYnN0cmFjdFNvdW5kSW5zdGFuY2VcIn19e3svY3Jvc3NMaW5rfX0gdG8gY29udHJvbC4gSWYgdGhlIHNvdW5kIGZhaWxzIHRvXG5cdCAqIHBsYXksIGFuIEFic3RyYWN0U291bmRJbnN0YW5jZSB3aWxsIHN0aWxsIGJlIHJldHVybmVkLCBhbmQgaGF2ZSBhIHBsYXlTdGF0ZSBvZiB7eyNjcm9zc0xpbmsgXCJTb3VuZC9QTEFZX0ZBSUxFRDpwcm9wZXJ0eVwifX17ey9jcm9zc0xpbmt9fS5cblx0ICogTm90ZSB0aGF0IGV2ZW4gb24gc291bmRzIHdpdGggZmFpbGVkIHBsYXliYWNrLCB5b3UgbWF5IHN0aWxsIGJlIGFibGUgdG8gY2FsbCB0aGUge3sjY3Jvc3NMaW5rIFwiQWJzdHJhY3RTb3VuZEluc3RhbmNlL3BsYXlcIn19e3svY3Jvc3NMaW5rfX0sXG5cdCAqIG1ldGhvZCwgc2luY2UgdGhlIGZhaWx1cmUgY291bGQgYmUgZHVlIHRvIGxhY2sgb2YgYXZhaWxhYmxlIGNoYW5uZWxzLiBJZiB0aGUgc3JjIGRvZXMgbm90IGhhdmUgYSBzdXBwb3J0ZWRcblx0ICogZXh0ZW5zaW9uIG9yIGlmIHRoZXJlIGlzIG5vIGF2YWlsYWJsZSBwbHVnaW4sIGEgZGVmYXVsdCBBYnN0cmFjdFNvdW5kSW5zdGFuY2Ugd2lsbCBzdGlsbCBiZSByZXR1cm5lZCwgd2hpY2ggd2lsbFxuXHQgKiBub3QgcGxheSBhbnkgYXVkaW8sIGJ1dCB3aWxsIG5vdCBnZW5lcmF0ZSBlcnJvcnMuXG5cdCAqXG5cdCAqIDxoND5FeGFtcGxlPC9oND5cblx0ICpcblx0ICogICAgICBjcmVhdGVqcy5Tb3VuZC5vbihcImZpbGVsb2FkXCIsIGhhbmRsZUxvYWQpO1xuXHQgKiAgICAgIGNyZWF0ZWpzLlNvdW5kLnJlZ2lzdGVyU291bmQoXCJteUF1ZGlvUGF0aC9teVNvdW5kLm1wM1wiLCBcIm15SURcIiwgMyk7XG5cdCAqICAgICAgZnVuY3Rpb24gaGFuZGxlTG9hZChldmVudCkge1xuXHQgKiAgICAgIFx0Y3JlYXRlanMuU291bmQucGxheShcIm15SURcIik7XG5cdCAqICAgICAgXHQvLyBzdG9yZSBvZmYgQWJzdHJhY3RTb3VuZEluc3RhbmNlIGZvciBjb250cm9sbGluZ1xuXHQgKiAgICAgIFx0dmFyIG15SW5zdGFuY2UgPSBjcmVhdGVqcy5Tb3VuZC5wbGF5KFwibXlJRFwiLCB7aW50ZXJydXB0OiBjcmVhdGVqcy5Tb3VuZC5JTlRFUlJVUFRfQU5ZLCBsb29wOi0xfSk7XG5cdCAqICAgICAgfVxuXHQgKlxuXHQgKiBOT1RFOiBUbyBjcmVhdGUgYW4gYXVkaW8gc3ByaXRlIHRoYXQgaGFzIG5vdCBhbHJlYWR5IGJlZW4gcmVnaXN0ZXJlZCwgYm90aCBzdGFydFRpbWUgYW5kIGR1cmF0aW9uIG5lZWQgdG8gYmUgc2V0LlxuXHQgKiBUaGlzIGlzIG9ubHkgd2hlbiBjcmVhdGluZyBhIG5ldyBhdWRpbyBzcHJpdGUsIG5vdCB3aGVuIHBsYXlpbmcgdXNpbmcgdGhlIGlkIG9mIGFuIGFscmVhZHkgcmVnaXN0ZXJlZCBhdWRpbyBzcHJpdGUuXG5cdCAqXG5cdCAqIEBtZXRob2QgcGxheVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gc3JjIFRoZSBzcmMgb3IgSUQgb2YgdGhlIGF1ZGlvLlxuXHQgKiBAcGFyYW0ge09iamVjdCB8IFBsYXlQcm9wc0NvbmZpZ30gcHJvcHMgQSBQbGF5UHJvcHNDb25maWcgaW5zdGFuY2UsIG9yIGFuIG9iamVjdCB0aGF0IGNvbnRhaW5zIHRoZSBwYXJhbWV0ZXJzIHRvXG5cdCAqIHBsYXkgYSBzb3VuZC4gU2VlIHRoZSB7eyNjcm9zc0xpbmsgXCJQbGF5UHJvcHNDb25maWdcIn19e3svY3Jvc3NMaW5rfX0gZm9yIG1vcmUgaW5mby5cblx0ICogQHJldHVybiB7QWJzdHJhY3RTb3VuZEluc3RhbmNlfSBBIHt7I2Nyb3NzTGluayBcIkFic3RyYWN0U291bmRJbnN0YW5jZVwifX17ey9jcm9zc0xpbmt9fSB0aGF0IGNhbiBiZSBjb250cm9sbGVkXG5cdCAqIGFmdGVyIGl0IGlzIGNyZWF0ZWQuXG5cdCAqIEBzdGF0aWNcblx0ICovXG5cdHMucGxheSA9IGZ1bmN0aW9uIChzcmMsIHByb3BzKSB7XG5cdFx0dmFyIHBsYXlQcm9wcyA9IGNyZWF0ZWpzLlBsYXlQcm9wc0NvbmZpZy5jcmVhdGUocHJvcHMpO1xuXHRcdHZhciBpbnN0YW5jZSA9IHMuY3JlYXRlSW5zdGFuY2Uoc3JjLCBwbGF5UHJvcHMuc3RhcnRUaW1lLCBwbGF5UHJvcHMuZHVyYXRpb24pO1xuXHRcdHZhciBvayA9IHMuX3BsYXlJbnN0YW5jZShpbnN0YW5jZSwgcGxheVByb3BzKTtcblx0XHRpZiAoIW9rKSB7aW5zdGFuY2UuX3BsYXlGYWlsZWQoKTt9XG5cdFx0cmV0dXJuIGluc3RhbmNlO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBDcmVhdGVzIGEge3sjY3Jvc3NMaW5rIFwiQWJzdHJhY3RTb3VuZEluc3RhbmNlXCJ9fXt7L2Nyb3NzTGlua319IHVzaW5nIHRoZSBwYXNzZWQgaW4gc3JjLiBJZiB0aGUgc3JjIGRvZXMgbm90IGhhdmUgYVxuXHQgKiBzdXBwb3J0ZWQgZXh0ZW5zaW9uIG9yIGlmIHRoZXJlIGlzIG5vIGF2YWlsYWJsZSBwbHVnaW4sIGEgZGVmYXVsdCBBYnN0cmFjdFNvdW5kSW5zdGFuY2Ugd2lsbCBiZSByZXR1cm5lZCB0aGF0IGNhbiBiZVxuXHQgKiBjYWxsZWQgc2FmZWx5IGJ1dCBkb2VzIG5vdGhpbmcuXG5cdCAqXG5cdCAqIDxoND5FeGFtcGxlPC9oND5cblx0ICpcblx0ICogICAgICB2YXIgbXlJbnN0YW5jZSA9IG51bGw7XG5cdCAqICAgICAgY3JlYXRlanMuU291bmQub24oXCJmaWxlbG9hZFwiLCBoYW5kbGVMb2FkKTtcblx0ICogICAgICBjcmVhdGVqcy5Tb3VuZC5yZWdpc3RlclNvdW5kKFwibXlBdWRpb1BhdGgvbXlTb3VuZC5tcDNcIiwgXCJteUlEXCIsIDMpO1xuXHQgKiAgICAgIGZ1bmN0aW9uIGhhbmRsZUxvYWQoZXZlbnQpIHtcblx0ICogICAgICBcdG15SW5zdGFuY2UgPSBjcmVhdGVqcy5Tb3VuZC5jcmVhdGVJbnN0YW5jZShcIm15SURcIik7XG5cdCAqICAgICAgXHQvLyBhbHRlcm5hdGVseSB3ZSBjb3VsZCBjYWxsIHRoZSBmb2xsb3dpbmdcblx0ICogICAgICBcdG15SW5zdGFuY2UgPSBjcmVhdGVqcy5Tb3VuZC5jcmVhdGVJbnN0YW5jZShcIm15QXVkaW9QYXRoL215U291bmQubXAzXCIpO1xuXHQgKiAgICAgIH1cblx0ICpcblx0ICogTk9URSB0byBjcmVhdGUgYW4gYXVkaW8gc3ByaXRlIHRoYXQgaGFzIG5vdCBhbHJlYWR5IGJlZW4gcmVnaXN0ZXJlZCwgYm90aCBzdGFydFRpbWUgYW5kIGR1cmF0aW9uIG5lZWQgdG8gYmUgc2V0LlxuXHQgKiBUaGlzIGlzIG9ubHkgd2hlbiBjcmVhdGluZyBhIG5ldyBhdWRpbyBzcHJpdGUsIG5vdCB3aGVuIHBsYXlpbmcgdXNpbmcgdGhlIGlkIG9mIGFuIGFscmVhZHkgcmVnaXN0ZXJlZCBhdWRpbyBzcHJpdGUuXG5cdCAqXG5cdCAqIEBtZXRob2QgY3JlYXRlSW5zdGFuY2Vcblx0ICogQHBhcmFtIHtTdHJpbmd9IHNyYyBUaGUgc3JjIG9yIElEIG9mIHRoZSBhdWRpby5cblx0ICogQHBhcmFtIHtOdW1iZXJ9IFtzdGFydFRpbWU9bnVsbF0gVG8gY3JlYXRlIGFuIGF1ZGlvIHNwcml0ZSAod2l0aCBkdXJhdGlvbiksIHRoZSBpbml0aWFsIG9mZnNldCB0byBzdGFydCBwbGF5YmFjayBhbmQgbG9vcCBmcm9tLCBpbiBtaWxsaXNlY29uZHMuXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBbZHVyYXRpb249bnVsbF0gVG8gY3JlYXRlIGFuIGF1ZGlvIHNwcml0ZSAod2l0aCBzdGFydFRpbWUpLCB0aGUgYW1vdW50IG9mIHRpbWUgdG8gcGxheSB0aGUgY2xpcCBmb3IsIGluIG1pbGxpc2Vjb25kcy5cblx0ICogQHJldHVybiB7QWJzdHJhY3RTb3VuZEluc3RhbmNlfSBBIHt7I2Nyb3NzTGluayBcIkFic3RyYWN0U291bmRJbnN0YW5jZVwifX17ey9jcm9zc0xpbmt9fSB0aGF0IGNhbiBiZSBjb250cm9sbGVkIGFmdGVyIGl0IGlzIGNyZWF0ZWQuXG5cdCAqIFVuc3VwcG9ydGVkIGV4dGVuc2lvbnMgd2lsbCByZXR1cm4gdGhlIGRlZmF1bHQgQWJzdHJhY3RTb3VuZEluc3RhbmNlLlxuXHQgKiBAc2luY2UgMC40LjBcblx0ICogQHN0YXRpY1xuXHQgKi9cblx0cy5jcmVhdGVJbnN0YW5jZSA9IGZ1bmN0aW9uIChzcmMsIHN0YXJ0VGltZSwgZHVyYXRpb24pIHtcblx0XHRpZiAoIXMuaW5pdGlhbGl6ZURlZmF1bHRQbHVnaW5zKCkpIHsgcmV0dXJuIG5ldyBjcmVhdGVqcy5EZWZhdWx0U291bmRJbnN0YW5jZShzcmMsIHN0YXJ0VGltZSwgZHVyYXRpb24pOyB9XG5cblx0XHR2YXIgZGVmYXVsdFBsYXlQcm9wcyA9IHMuX2RlZmF1bHRQbGF5UHJvcHNIYXNoW3NyY107XHQvLyBmb3IgYXVkaW8gc3ByaXRlcywgd2hpY2ggY3JlYXRlIGFuZCBzdG9yZSBkZWZhdWx0cyBieSBpZFxuXHRcdHNyYyA9IHMuX2dldFNyY0J5SWQoc3JjKTtcblxuXHRcdHZhciBkZXRhaWxzID0gcy5fcGFyc2VQYXRoKHNyYy5zcmMpO1xuXG5cdFx0dmFyIGluc3RhbmNlID0gbnVsbDtcblx0XHRpZiAoZGV0YWlscyAhPSBudWxsICYmIGRldGFpbHMuc3JjICE9IG51bGwpIHtcblx0XHRcdFNvdW5kQ2hhbm5lbC5jcmVhdGUoZGV0YWlscy5zcmMpO1xuXHRcdFx0aWYgKHN0YXJ0VGltZSA9PSBudWxsKSB7IHN0YXJ0VGltZSA9IHNyYy5zdGFydFRpbWU7IH1cblx0XHRcdGluc3RhbmNlID0gcy5hY3RpdmVQbHVnaW4uY3JlYXRlKGRldGFpbHMuc3JjLCBzdGFydFRpbWUsIGR1cmF0aW9uIHx8IHNyYy5kdXJhdGlvbik7XG5cblx0XHRcdGRlZmF1bHRQbGF5UHJvcHMgPSBkZWZhdWx0UGxheVByb3BzIHx8IHMuX2RlZmF1bHRQbGF5UHJvcHNIYXNoW2RldGFpbHMuc3JjXTtcblx0XHRcdGlmIChkZWZhdWx0UGxheVByb3BzKSB7XG5cdFx0XHRcdGluc3RhbmNlLmFwcGx5UGxheVByb3BzKGRlZmF1bHRQbGF5UHJvcHMpO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRpbnN0YW5jZSA9IG5ldyBjcmVhdGVqcy5EZWZhdWx0U291bmRJbnN0YW5jZShzcmMsIHN0YXJ0VGltZSwgZHVyYXRpb24pO1xuXHRcdH1cblxuXHRcdGluc3RhbmNlLnVuaXF1ZUlkID0gcy5fbGFzdElEKys7XG5cblx0XHRyZXR1cm4gaW5zdGFuY2U7XG5cdH07XG5cblx0LyoqXG5cdCAqIFN0b3AgYWxsIGF1ZGlvIChnbG9iYWwgc3RvcCkuIFN0b3BwZWQgYXVkaW8gaXMgcmVzZXQsIGFuZCBub3QgcGF1c2VkLiBUbyBwbGF5IGF1ZGlvIHRoYXQgaGFzIGJlZW4gc3RvcHBlZCxcblx0ICogY2FsbCBBYnN0cmFjdFNvdW5kSW5zdGFuY2Uge3sjY3Jvc3NMaW5rIFwiQWJzdHJhY3RTb3VuZEluc3RhbmNlL3BsYXlcIn19e3svY3Jvc3NMaW5rfX0uXG5cdCAqXG5cdCAqIDxoND5FeGFtcGxlPC9oND5cblx0ICpcblx0ICogICAgIGNyZWF0ZWpzLlNvdW5kLnN0b3AoKTtcblx0ICpcblx0ICogQG1ldGhvZCBzdG9wXG5cdCAqIEBzdGF0aWNcblx0ICovXG5cdHMuc3RvcCA9IGZ1bmN0aW9uICgpIHtcblx0XHR2YXIgaW5zdGFuY2VzID0gdGhpcy5faW5zdGFuY2VzO1xuXHRcdGZvciAodmFyIGkgPSBpbnN0YW5jZXMubGVuZ3RoOyBpLS07ICkge1xuXHRcdFx0aW5zdGFuY2VzW2ldLnN0b3AoKTsgIC8vIE5PVEUgc3RvcCByZW1vdmVzIGluc3RhbmNlIGZyb20gdGhpcy5faW5zdGFuY2VzXG5cdFx0fVxuXHR9O1xuXG5cdC8qKlxuXHQgKiBTZXQgdGhlIGRlZmF1bHQgcGxheWJhY2sgcHJvcGVydGllcyBmb3IgYWxsIG5ldyBTb3VuZEluc3RhbmNlcyBvZiB0aGUgcGFzc2VkIGluIHNyYyBvciBJRC5cblx0ICogU2VlIHt7I2Nyb3NzTGluayBcIlBsYXlQcm9wc0NvbmZpZ1wifX17ey9jcm9zc0xpbmt9fSBmb3IgYXZhaWxhYmxlIHByb3BlcnRpZXMuXG5cdCAqXG5cdCAqIEBtZXRob2Qgc2V0RGVmYXVsdFBsYXlQcm9wc1xuXHQgKiBAcGFyYW0ge1N0cmluZ30gc3JjIFRoZSBzcmMgb3IgSUQgdXNlZCB0byByZWdpc3RlciB0aGUgYXVkaW8uXG5cdCAqIEBwYXJhbSB7T2JqZWN0IHwgUGxheVByb3BzQ29uZmlnfSBwbGF5UHJvcHMgVGhlIHBsYXliYWNrIHByb3BlcnRpZXMgeW91IHdvdWxkIGxpa2UgdG8gc2V0LlxuXHQgKiBAc2luY2UgMC42LjFcblx0ICovXG5cdHMuc2V0RGVmYXVsdFBsYXlQcm9wcyA9IGZ1bmN0aW9uKHNyYywgcGxheVByb3BzKSB7XG5cdFx0c3JjID0gcy5fZ2V0U3JjQnlJZChzcmMpO1xuXHRcdHMuX2RlZmF1bHRQbGF5UHJvcHNIYXNoW3MuX3BhcnNlUGF0aChzcmMuc3JjKS5zcmNdID0gY3JlYXRlanMuUGxheVByb3BzQ29uZmlnLmNyZWF0ZShwbGF5UHJvcHMpO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBHZXQgdGhlIGRlZmF1bHQgcGxheWJhY2sgcHJvcGVydGllcyBmb3IgdGhlIHBhc3NlZCBpbiBzcmMgb3IgSUQuICBUaGVzZSBwcm9wZXJ0aWVzIGFyZSBhcHBsaWVkIHRvIGFsbFxuXHQgKiBuZXcgU291bmRJbnN0YW5jZXMuICBSZXR1cm5zIG51bGwgaWYgZGVmYXVsdCBkb2VzIG5vdCBleGlzdC5cblx0ICpcblx0ICogQG1ldGhvZCBnZXREZWZhdWx0UGxheVByb3BzXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBzcmMgVGhlIHNyYyBvciBJRCB1c2VkIHRvIHJlZ2lzdGVyIHRoZSBhdWRpby5cblx0ICogQHJldHVybnMge1BsYXlQcm9wc0NvbmZpZ30gcmV0dXJucyBhbiBleGlzdGluZyBQbGF5UHJvcHNDb25maWcgb3IgbnVsbCBpZiBvbmUgZG9lcyBub3QgZXhpc3Rcblx0ICogQHNpbmNlIDAuNi4xXG5cdCAqL1xuXHRzLmdldERlZmF1bHRQbGF5UHJvcHMgPSBmdW5jdGlvbihzcmMpIHtcblx0XHRzcmMgPSBzLl9nZXRTcmNCeUlkKHNyYyk7XG5cdFx0cmV0dXJuIHMuX2RlZmF1bHRQbGF5UHJvcHNIYXNoW3MuX3BhcnNlUGF0aChzcmMuc3JjKS5zcmNdO1xuXHR9O1xuXG5cblx0LyogLS0tLS0tLS0tLS0tLS0tXG5cdCBJbnRlcm5hbCBtZXRob2RzXG5cdCAtLS0tLS0tLS0tLS0tLS0gKi9cblx0LyoqXG5cdCAqIFBsYXkgYW4gaW5zdGFuY2UuIFRoaXMgaXMgY2FsbGVkIGJ5IHRoZSBzdGF0aWMgQVBJLCBhcyB3ZWxsIGFzIGZyb20gcGx1Z2lucy4gVGhpcyBhbGxvd3MgdGhlIGNvcmUgY2xhc3MgdG9cblx0ICogY29udHJvbCBkZWxheXMuXG5cdCAqIEBtZXRob2QgX3BsYXlJbnN0YW5jZVxuXHQgKiBAcGFyYW0ge0Fic3RyYWN0U291bmRJbnN0YW5jZX0gaW5zdGFuY2UgVGhlIHt7I2Nyb3NzTGluayBcIkFic3RyYWN0U291bmRJbnN0YW5jZVwifX17ey9jcm9zc0xpbmt9fSB0byBzdGFydCBwbGF5aW5nLlxuXHQgKiBAcGFyYW0ge1BsYXlQcm9wc0NvbmZpZ30gcGxheVByb3BzIEEgUGxheVByb3BzQ29uZmlnIG9iamVjdC5cblx0ICogQHJldHVybiB7Qm9vbGVhbn0gSWYgdGhlIHNvdW5kIGNhbiBzdGFydCBwbGF5aW5nLiBTb3VuZHMgdGhhdCBmYWlsIGltbWVkaWF0ZWx5IHdpbGwgcmV0dXJuIGZhbHNlLiBTb3VuZHMgdGhhdFxuXHQgKiBoYXZlIGEgZGVsYXkgd2lsbCByZXR1cm4gdHJ1ZSwgYnV0IG1heSBzdGlsbCBmYWlsIHRvIHBsYXkuXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBzdGF0aWNcblx0ICovXG5cdHMuX3BsYXlJbnN0YW5jZSA9IGZ1bmN0aW9uIChpbnN0YW5jZSwgcGxheVByb3BzKSB7XG5cdFx0dmFyIGRlZmF1bHRQbGF5UHJvcHMgPSBzLl9kZWZhdWx0UGxheVByb3BzSGFzaFtpbnN0YW5jZS5zcmNdIHx8IHt9O1xuXHRcdGlmIChwbGF5UHJvcHMuaW50ZXJydXB0ID09IG51bGwpIHtwbGF5UHJvcHMuaW50ZXJydXB0ID0gZGVmYXVsdFBsYXlQcm9wcy5pbnRlcnJ1cHQgfHwgcy5kZWZhdWx0SW50ZXJydXB0QmVoYXZpb3J9O1xuXHRcdGlmIChwbGF5UHJvcHMuZGVsYXkgPT0gbnVsbCkge3BsYXlQcm9wcy5kZWxheSA9IGRlZmF1bHRQbGF5UHJvcHMuZGVsYXkgfHwgMDt9XG5cdFx0aWYgKHBsYXlQcm9wcy5vZmZzZXQgPT0gbnVsbCkge3BsYXlQcm9wcy5vZmZzZXQgPSBpbnN0YW5jZS5wb3NpdGlvbjt9XG5cdFx0aWYgKHBsYXlQcm9wcy5sb29wID09IG51bGwpIHtwbGF5UHJvcHMubG9vcCA9IGluc3RhbmNlLmxvb3A7fVxuXHRcdGlmIChwbGF5UHJvcHMudm9sdW1lID09IG51bGwpIHtwbGF5UHJvcHMudm9sdW1lID0gaW5zdGFuY2Uudm9sdW1lO31cblx0XHRpZiAocGxheVByb3BzLnBhbiA9PSBudWxsKSB7cGxheVByb3BzLnBhbiA9IGluc3RhbmNlLnBhbjt9XG5cblx0XHRpZiAocGxheVByb3BzLmRlbGF5ID09IDApIHtcblx0XHRcdHZhciBvayA9IHMuX2JlZ2luUGxheWluZyhpbnN0YW5jZSwgcGxheVByb3BzKTtcblx0XHRcdGlmICghb2spIHtyZXR1cm4gZmFsc2U7fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHQvL05vdGUgdGhhdCB3ZSBjYW4ndCBwYXNzIGFyZ3VtZW50cyB0byBwcm94eSBPUiBzZXRUaW1lb3V0IChJRSBvbmx5KSwgc28ganVzdCB3cmFwIHRoZSBmdW5jdGlvbiBjYWxsLlxuXHRcdFx0Ly8gT0pSIFdlYkF1ZGlvIG1heSB3YW50IHRvIGhhbmRsZSB0aGlzIGRpZmZlcmVudGx5LCBzbyBpdCBtaWdodCBtYWtlIHNlbnNlIHRvIG1vdmUgdGhpcyBmdW5jdGlvbmFsaXR5IGludG8gdGhlIHBsdWdpbnMgaW4gdGhlIGZ1dHVyZVxuXHRcdFx0dmFyIGRlbGF5VGltZW91dElkID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdHMuX2JlZ2luUGxheWluZyhpbnN0YW5jZSwgcGxheVByb3BzKTtcblx0XHRcdH0sIHBsYXlQcm9wcy5kZWxheSk7XG5cdFx0XHRpbnN0YW5jZS5kZWxheVRpbWVvdXRJZCA9IGRlbGF5VGltZW91dElkO1xuXHRcdH1cblxuXHRcdHRoaXMuX2luc3RhbmNlcy5wdXNoKGluc3RhbmNlKTtcblxuXHRcdHJldHVybiB0cnVlO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBCZWdpbiBwbGF5YmFjay4gVGhpcyBpcyBjYWxsZWQgaW1tZWRpYXRlbHkgb3IgYWZ0ZXIgZGVsYXkgYnkge3sjY3Jvc3NMaW5rIFwiU291bmQvcGxheUluc3RhbmNlXCJ9fXt7L2Nyb3NzTGlua319LlxuXHQgKiBAbWV0aG9kIF9iZWdpblBsYXlpbmdcblx0ICogQHBhcmFtIHtBYnN0cmFjdFNvdW5kSW5zdGFuY2V9IGluc3RhbmNlIEEge3sjY3Jvc3NMaW5rIFwiQWJzdHJhY3RTb3VuZEluc3RhbmNlXCJ9fXt7L2Nyb3NzTGlua319IHRvIGJlZ2luIHBsYXliYWNrLlxuXHQgKiBAcGFyYW0ge1BsYXlQcm9wc0NvbmZpZ30gcGxheVByb3BzIEEgUGxheVByb3BzQ29uZmlnIG9iamVjdC5cblx0ICogQHJldHVybiB7Qm9vbGVhbn0gSWYgdGhlIHNvdW5kIGNhbiBzdGFydCBwbGF5aW5nLiBJZiB0aGVyZSBhcmUgbm8gYXZhaWxhYmxlIGNoYW5uZWxzLCBvciB0aGUgaW5zdGFuY2UgZmFpbHMgdG9cblx0ICogc3RhcnQsIHRoaXMgd2lsbCByZXR1cm4gZmFsc2UuXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBzdGF0aWNcblx0ICovXG5cdHMuX2JlZ2luUGxheWluZyA9IGZ1bmN0aW9uIChpbnN0YW5jZSwgcGxheVByb3BzKSB7XG5cdFx0aWYgKCFTb3VuZENoYW5uZWwuYWRkKGluc3RhbmNlLCBwbGF5UHJvcHMuaW50ZXJydXB0KSkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblx0XHR2YXIgcmVzdWx0ID0gaW5zdGFuY2UuX2JlZ2luUGxheWluZyhwbGF5UHJvcHMpO1xuXHRcdGlmICghcmVzdWx0KSB7XG5cdFx0XHR2YXIgaW5kZXggPSBjcmVhdGVqcy5pbmRleE9mKHRoaXMuX2luc3RhbmNlcywgaW5zdGFuY2UpO1xuXHRcdFx0aWYgKGluZGV4ID4gLTEpIHt0aGlzLl9pbnN0YW5jZXMuc3BsaWNlKGluZGV4LCAxKTt9XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXHRcdHJldHVybiB0cnVlO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBHZXQgdGhlIHNvdXJjZSBvZiBhIHNvdW5kIHZpYSB0aGUgSUQgcGFzc2VkIGluIHdpdGggYSByZWdpc3RlciBjYWxsLiBJZiBubyBJRCBpcyBmb3VuZCB0aGUgdmFsdWUgaXMgcmV0dXJuZWRcblx0ICogaW5zdGVhZC5cblx0ICogQG1ldGhvZCBfZ2V0U3JjQnlJZFxuXHQgKiBAcGFyYW0ge1N0cmluZ30gdmFsdWUgVGhlIElEIHRoZSBzb3VuZCB3YXMgcmVnaXN0ZXJlZCB3aXRoLlxuXHQgKiBAcmV0dXJuIHtTdHJpbmd9IFRoZSBzb3VyY2Ugb2YgdGhlIHNvdW5kIGlmIGl0IGhhcyBiZWVuIHJlZ2lzdGVyZWQgd2l0aCB0aGlzIElEIG9yIHRoZSB2YWx1ZSB0aGF0IHdhcyBwYXNzZWQgaW4uXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBzdGF0aWNcblx0ICovXG5cdHMuX2dldFNyY0J5SWQgPSBmdW5jdGlvbiAodmFsdWUpIHtcblx0XHRyZXR1cm4gcy5faWRIYXNoW3ZhbHVlXSB8fCB7c3JjOiB2YWx1ZX07XG5cdH07XG5cblx0LyoqXG5cdCAqIEEgc291bmQgaGFzIGNvbXBsZXRlZCBwbGF5YmFjaywgYmVlbiBpbnRlcnJ1cHRlZCwgZmFpbGVkLCBvciBiZWVuIHN0b3BwZWQuIFRoaXMgbWV0aG9kIHJlbW92ZXMgdGhlIGluc3RhbmNlIGZyb21cblx0ICogU291bmQgbWFuYWdlbWVudC4gSXQgd2lsbCBiZSBhZGRlZCBhZ2FpbiwgaWYgdGhlIHNvdW5kIHJlLXBsYXlzLiBOb3RlIHRoYXQgdGhpcyBtZXRob2QgaXMgY2FsbGVkIGZyb20gdGhlXG5cdCAqIGluc3RhbmNlcyB0aGVtc2VsdmVzLlxuXHQgKiBAbWV0aG9kIF9wbGF5RmluaXNoZWRcblx0ICogQHBhcmFtIHtBYnN0cmFjdFNvdW5kSW5zdGFuY2V9IGluc3RhbmNlIFRoZSBpbnN0YW5jZSB0aGF0IGZpbmlzaGVkIHBsYXliYWNrLlxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAc3RhdGljXG5cdCAqL1xuXHRzLl9wbGF5RmluaXNoZWQgPSBmdW5jdGlvbiAoaW5zdGFuY2UpIHtcblx0XHRTb3VuZENoYW5uZWwucmVtb3ZlKGluc3RhbmNlKTtcblx0XHR2YXIgaW5kZXggPSBjcmVhdGVqcy5pbmRleE9mKHRoaXMuX2luc3RhbmNlcywgaW5zdGFuY2UpO1xuXHRcdGlmIChpbmRleCA+IC0xKSB7dGhpcy5faW5zdGFuY2VzLnNwbGljZShpbmRleCwgMSk7fVx0Ly8gT0pSIHRoaXMgd2lsbCBhbHdheXMgYmUgPiAtMSwgdGhlcmUgaXMgbm8gd2F5IGZvciBhbiBpbnN0YW5jZSB0byBleGlzdCB3aXRob3V0IGJlaW5nIGFkZGVkIHRvIHRoaXMuX2luc3RhbmNlc1xuXHR9O1xuXG5cdGNyZWF0ZWpzLlNvdW5kID0gU291bmQ7XG5cblx0LyoqXG5cdCAqIEFuIGludGVybmFsIGNsYXNzIHRoYXQgbWFuYWdlcyB0aGUgbnVtYmVyIG9mIGFjdGl2ZSB7eyNjcm9zc0xpbmsgXCJBYnN0cmFjdFNvdW5kSW5zdGFuY2VcIn19e3svY3Jvc3NMaW5rfX0gaW5zdGFuY2VzIGZvclxuXHQgKiBlYWNoIHNvdW5kIHR5cGUuIFRoaXMgbWV0aG9kIGlzIG9ubHkgdXNlZCBpbnRlcm5hbGx5IGJ5IHRoZSB7eyNjcm9zc0xpbmsgXCJTb3VuZFwifX17ey9jcm9zc0xpbmt9fSBjbGFzcy5cblx0ICpcblx0ICogVGhlIG51bWJlciBvZiBzb3VuZHMgaXMgYXJ0aWZpY2lhbGx5IGxpbWl0ZWQgYnkgU291bmQgaW4gb3JkZXIgdG8gcHJldmVudCBvdmVyLXNhdHVyYXRpb24gb2YgYVxuXHQgKiBzaW5nbGUgc291bmQsIGFzIHdlbGwgYXMgdG8gc3RheSB3aXRoaW4gaGFyZHdhcmUgbGltaXRhdGlvbnMsIGFsdGhvdWdoIHRoZSBsYXR0ZXIgbWF5IGRpc2FwcGVhciB3aXRoIGJldHRlclxuXHQgKiBicm93c2VyIHN1cHBvcnQuXG5cdCAqXG5cdCAqIFdoZW4gYSBzb3VuZCBpcyBwbGF5ZWQsIHRoaXMgY2xhc3MgZW5zdXJlcyB0aGF0IHRoZXJlIGlzIGFuIGF2YWlsYWJsZSBpbnN0YW5jZSwgb3IgaW50ZXJydXB0cyBhbiBhcHByb3ByaWF0ZVxuXHQgKiBzb3VuZCB0aGF0IGlzIGFscmVhZHkgcGxheWluZy5cblx0ICogI2NsYXNzIFNvdW5kQ2hhbm5lbFxuXHQgKiBAcGFyYW0ge1N0cmluZ30gc3JjIFRoZSBzb3VyY2Ugb2YgdGhlIGluc3RhbmNlc1xuXHQgKiBAcGFyYW0ge051bWJlcn0gW21heD0xXSBUaGUgbnVtYmVyIG9mIGluc3RhbmNlcyBhbGxvd2VkXG5cdCAqIEBjb25zdHJ1Y3RvclxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqL1xuXHRmdW5jdGlvbiBTb3VuZENoYW5uZWwoc3JjLCBtYXgpIHtcblx0XHR0aGlzLmluaXQoc3JjLCBtYXgpO1xuXHR9XG5cblx0LyogLS0tLS0tLS0tLS0tXG5cdCBTdGF0aWMgQVBJXG5cdCAtLS0tLS0tLS0tLS0gKi9cblx0LyoqXG5cdCAqIEEgaGFzaCBvZiBjaGFubmVsIGluc3RhbmNlcyBpbmRleGVkIGJ5IHNvdXJjZS5cblx0ICogI3Byb3BlcnR5IGNoYW5uZWxzXG5cdCAqIEB0eXBlIHtPYmplY3R9XG5cdCAqIEBzdGF0aWNcblx0ICovXG5cdFNvdW5kQ2hhbm5lbC5jaGFubmVscyA9IHt9O1xuXG5cdC8qKlxuXHQgKiBDcmVhdGUgYSBzb3VuZCBjaGFubmVsLiBOb3RlIHRoYXQgaWYgdGhlIHNvdW5kIGNoYW5uZWwgYWxyZWFkeSBleGlzdHMsIHRoaXMgd2lsbCBmYWlsLlxuXHQgKiAjbWV0aG9kIGNyZWF0ZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gc3JjIFRoZSBzb3VyY2UgZm9yIHRoZSBjaGFubmVsXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBtYXggVGhlIG1heGltdW0gYW1vdW50IHRoaXMgY2hhbm5lbCBob2xkcy4gVGhlIGRlZmF1bHQgaXMge3sjY3Jvc3NMaW5rIFwiU291bmRDaGFubmVsLm1heERlZmF1bHRcIn19e3svY3Jvc3NMaW5rfX0uXG5cdCAqIEByZXR1cm4ge0Jvb2xlYW59IElmIHRoZSBjaGFubmVscyB3ZXJlIGNyZWF0ZWQuXG5cdCAqIEBzdGF0aWNcblx0ICovXG5cdFNvdW5kQ2hhbm5lbC5jcmVhdGUgPSBmdW5jdGlvbiAoc3JjLCBtYXgpIHtcblx0XHR2YXIgY2hhbm5lbCA9IFNvdW5kQ2hhbm5lbC5nZXQoc3JjKTtcblx0XHRpZiAoY2hhbm5lbCA9PSBudWxsKSB7XG5cdFx0XHRTb3VuZENoYW5uZWwuY2hhbm5lbHNbc3JjXSA9IG5ldyBTb3VuZENoYW5uZWwoc3JjLCBtYXgpO1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXHRcdHJldHVybiBmYWxzZTtcblx0fTtcblx0LyoqXG5cdCAqIERlbGV0ZSBhIHNvdW5kIGNoYW5uZWwsIHN0b3AgYW5kIGRlbGV0ZSBhbGwgcmVsYXRlZCBpbnN0YW5jZXMuIE5vdGUgdGhhdCBpZiB0aGUgc291bmQgY2hhbm5lbCBkb2VzIG5vdCBleGlzdCwgdGhpcyB3aWxsIGZhaWwuXG5cdCAqICNtZXRob2QgcmVtb3ZlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBzcmMgVGhlIHNvdXJjZSBmb3IgdGhlIGNoYW5uZWxcblx0ICogQHJldHVybiB7Qm9vbGVhbn0gSWYgdGhlIGNoYW5uZWxzIHdlcmUgZGVsZXRlZC5cblx0ICogQHN0YXRpY1xuXHQgKi9cblx0U291bmRDaGFubmVsLnJlbW92ZVNyYyA9IGZ1bmN0aW9uIChzcmMpIHtcblx0XHR2YXIgY2hhbm5lbCA9IFNvdW5kQ2hhbm5lbC5nZXQoc3JjKTtcblx0XHRpZiAoY2hhbm5lbCA9PSBudWxsKSB7cmV0dXJuIGZhbHNlO31cblx0XHRjaGFubmVsLl9yZW1vdmVBbGwoKTtcdC8vIHRoaXMgc3RvcHMgYW5kIHJlbW92ZXMgYWxsIGFjdGl2ZSBpbnN0YW5jZXNcblx0XHRkZWxldGUoU291bmRDaGFubmVsLmNoYW5uZWxzW3NyY10pO1xuXHRcdHJldHVybiB0cnVlO1xuXHR9O1xuXHQvKipcblx0ICogRGVsZXRlIGFsbCBzb3VuZCBjaGFubmVscywgc3RvcCBhbmQgZGVsZXRlIGFsbCByZWxhdGVkIGluc3RhbmNlcy5cblx0ICogI21ldGhvZCByZW1vdmVBbGxcblx0ICogQHN0YXRpY1xuXHQgKi9cblx0U291bmRDaGFubmVsLnJlbW92ZUFsbCA9IGZ1bmN0aW9uICgpIHtcblx0XHRmb3IodmFyIGNoYW5uZWwgaW4gU291bmRDaGFubmVsLmNoYW5uZWxzKSB7XG5cdFx0XHRTb3VuZENoYW5uZWwuY2hhbm5lbHNbY2hhbm5lbF0uX3JlbW92ZUFsbCgpO1x0Ly8gdGhpcyBzdG9wcyBhbmQgcmVtb3ZlcyBhbGwgYWN0aXZlIGluc3RhbmNlc1xuXHRcdH1cblx0XHRTb3VuZENoYW5uZWwuY2hhbm5lbHMgPSB7fTtcblx0fTtcblx0LyoqXG5cdCAqIEFkZCBhbiBpbnN0YW5jZSB0byBhIHNvdW5kIGNoYW5uZWwuXG5cdCAqICNtZXRob2QgYWRkXG5cdCAqIEBwYXJhbSB7QWJzdHJhY3RTb3VuZEluc3RhbmNlfSBpbnN0YW5jZSBUaGUgaW5zdGFuY2UgdG8gYWRkIHRvIHRoZSBjaGFubmVsXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBpbnRlcnJ1cHQgVGhlIGludGVycnVwdCB2YWx1ZSB0byB1c2UuIFBsZWFzZSBzZWUgdGhlIHt7I2Nyb3NzTGluayBcIlNvdW5kL3BsYXlcIn19e3svY3Jvc3NMaW5rfX1cblx0ICogZm9yIGRldGFpbHMgb24gaW50ZXJydXB0IG1vZGVzLlxuXHQgKiBAcmV0dXJuIHtCb29sZWFufSBUaGUgc3VjY2VzcyBvZiB0aGUgbWV0aG9kIGNhbGwuIElmIHRoZSBjaGFubmVsIGlzIGZ1bGwsIGl0IHdpbGwgcmV0dXJuIGZhbHNlLlxuXHQgKiBAc3RhdGljXG5cdCAqL1xuXHRTb3VuZENoYW5uZWwuYWRkID0gZnVuY3Rpb24gKGluc3RhbmNlLCBpbnRlcnJ1cHQpIHtcblx0XHR2YXIgY2hhbm5lbCA9IFNvdW5kQ2hhbm5lbC5nZXQoaW5zdGFuY2Uuc3JjKTtcblx0XHRpZiAoY2hhbm5lbCA9PSBudWxsKSB7cmV0dXJuIGZhbHNlO31cblx0XHRyZXR1cm4gY2hhbm5lbC5fYWRkKGluc3RhbmNlLCBpbnRlcnJ1cHQpO1xuXHR9O1xuXHQvKipcblx0ICogUmVtb3ZlIGFuIGluc3RhbmNlIGZyb20gdGhlIGNoYW5uZWwuXG5cdCAqICNtZXRob2QgcmVtb3ZlXG5cdCAqIEBwYXJhbSB7QWJzdHJhY3RTb3VuZEluc3RhbmNlfSBpbnN0YW5jZSBUaGUgaW5zdGFuY2UgdG8gcmVtb3ZlIGZyb20gdGhlIGNoYW5uZWxcblx0ICogQHJldHVybiBUaGUgc3VjY2VzcyBvZiB0aGUgbWV0aG9kIGNhbGwuIElmIHRoZXJlIGlzIG5vIGNoYW5uZWwsIGl0IHdpbGwgcmV0dXJuIGZhbHNlLlxuXHQgKiBAc3RhdGljXG5cdCAqL1xuXHRTb3VuZENoYW5uZWwucmVtb3ZlID0gZnVuY3Rpb24gKGluc3RhbmNlKSB7XG5cdFx0dmFyIGNoYW5uZWwgPSBTb3VuZENoYW5uZWwuZ2V0KGluc3RhbmNlLnNyYyk7XG5cdFx0aWYgKGNoYW5uZWwgPT0gbnVsbCkge3JldHVybiBmYWxzZTt9XG5cdFx0Y2hhbm5lbC5fcmVtb3ZlKGluc3RhbmNlKTtcblx0XHRyZXR1cm4gdHJ1ZTtcblx0fTtcblx0LyoqXG5cdCAqIEdldCB0aGUgbWF4aW11bSBudW1iZXIgb2Ygc291bmRzIHlvdSBjYW4gaGF2ZSBpbiBhIGNoYW5uZWwuXG5cdCAqICNtZXRob2QgbWF4UGVyQ2hhbm5lbFxuXHQgKiBAcmV0dXJuIHtOdW1iZXJ9IFRoZSBtYXhpbXVtIG51bWJlciBvZiBzb3VuZHMgeW91IGNhbiBoYXZlIGluIGEgY2hhbm5lbC5cblx0ICovXG5cdFNvdW5kQ2hhbm5lbC5tYXhQZXJDaGFubmVsID0gZnVuY3Rpb24gKCkge1xuXHRcdHJldHVybiBwLm1heERlZmF1bHQ7XG5cdH07XG5cdC8qKlxuXHQgKiBHZXQgYSBjaGFubmVsIGluc3RhbmNlIGJ5IGl0cyBzcmMuXG5cdCAqICNtZXRob2QgZ2V0XG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBzcmMgVGhlIHNyYyB0byB1c2UgdG8gbG9vayB1cCB0aGUgY2hhbm5lbFxuXHQgKiBAc3RhdGljXG5cdCAqL1xuXHRTb3VuZENoYW5uZWwuZ2V0ID0gZnVuY3Rpb24gKHNyYykge1xuXHRcdHJldHVybiBTb3VuZENoYW5uZWwuY2hhbm5lbHNbc3JjXTtcblx0fTtcblxuXHR2YXIgcCA9IFNvdW5kQ2hhbm5lbC5wcm90b3R5cGU7XG5cdHAuY29uc3RydWN0b3IgPSBTb3VuZENoYW5uZWw7XG5cblx0LyoqXG5cdCAqIFRoZSBzb3VyY2Ugb2YgdGhlIGNoYW5uZWwuXG5cdCAqICNwcm9wZXJ0eSBzcmNcblx0ICogQHR5cGUge1N0cmluZ31cblx0ICovXG5cdHAuc3JjID0gbnVsbDtcblxuXHQvKipcblx0ICogVGhlIG1heGltdW0gbnVtYmVyIG9mIGluc3RhbmNlcyBpbiB0aGlzIGNoYW5uZWwuICAtMSBpbmRpY2F0ZXMgbm8gbGltaXRcblx0ICogI3Byb3BlcnR5IG1heFxuXHQgKiBAdHlwZSB7TnVtYmVyfVxuXHQgKi9cblx0cC5tYXggPSBudWxsO1xuXG5cdC8qKlxuXHQgKiBUaGUgZGVmYXVsdCB2YWx1ZSB0byBzZXQgZm9yIG1heCwgaWYgaXQgaXNuJ3QgcGFzc2VkIGluLiAgQWxzbyB1c2VkIGlmIC0xIGlzIHBhc3NlZC5cblx0ICogI3Byb3BlcnR5IG1heERlZmF1bHRcblx0ICogQHR5cGUge051bWJlcn1cblx0ICogQGRlZmF1bHQgMTAwXG5cdCAqIEBzaW5jZSAwLjQuMFxuXHQgKi9cblx0cC5tYXhEZWZhdWx0ID0gMTAwO1xuXG5cdC8qKlxuXHQgKiBUaGUgY3VycmVudCBudW1iZXIgb2YgYWN0aXZlIGluc3RhbmNlcy5cblx0ICogI3Byb3BlcnR5IGxlbmd0aFxuXHQgKiBAdHlwZSB7TnVtYmVyfVxuXHQgKi9cblx0cC5sZW5ndGggPSAwO1xuXG5cdC8qKlxuXHQgKiBJbml0aWFsaXplIHRoZSBjaGFubmVsLlxuXHQgKiAjbWV0aG9kIGluaXRcblx0ICogQHBhcmFtIHtTdHJpbmd9IHNyYyBUaGUgc291cmNlIG9mIHRoZSBjaGFubmVsXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBtYXggVGhlIG1heGltdW0gbnVtYmVyIG9mIGluc3RhbmNlcyBpbiB0aGUgY2hhbm5lbFxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqL1xuXHRwLmluaXQgPSBmdW5jdGlvbiAoc3JjLCBtYXgpIHtcblx0XHR0aGlzLnNyYyA9IHNyYztcblx0XHR0aGlzLm1heCA9IG1heCB8fCB0aGlzLm1heERlZmF1bHQ7XG5cdFx0aWYgKHRoaXMubWF4ID09IC0xKSB7dGhpcy5tYXggPSB0aGlzLm1heERlZmF1bHQ7fVxuXHRcdHRoaXMuX2luc3RhbmNlcyA9IFtdO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBHZXQgYW4gaW5zdGFuY2UgYnkgaW5kZXguXG5cdCAqICNtZXRob2QgZ2V0XG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBpbmRleCBUaGUgaW5kZXggdG8gcmV0dXJuLlxuXHQgKiBAcmV0dXJuIHtBYnN0cmFjdFNvdW5kSW5zdGFuY2V9IFRoZSBBYnN0cmFjdFNvdW5kSW5zdGFuY2UgYXQgYSBzcGVjaWZpYyBpbnN0YW5jZS5cblx0ICovXG5cdHAuX2dldCA9IGZ1bmN0aW9uIChpbmRleCkge1xuXHRcdHJldHVybiB0aGlzLl9pbnN0YW5jZXNbaW5kZXhdO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBBZGQgYSBuZXcgaW5zdGFuY2UgdG8gdGhlIGNoYW5uZWwuXG5cdCAqICNtZXRob2QgYWRkXG5cdCAqIEBwYXJhbSB7QWJzdHJhY3RTb3VuZEluc3RhbmNlfSBpbnN0YW5jZSBUaGUgaW5zdGFuY2UgdG8gYWRkLlxuXHQgKiBAcmV0dXJuIHtCb29sZWFufSBUaGUgc3VjY2VzcyBvZiB0aGUgbWV0aG9kIGNhbGwuIElmIHRoZSBjaGFubmVsIGlzIGZ1bGwsIGl0IHdpbGwgcmV0dXJuIGZhbHNlLlxuXHQgKi9cblx0cC5fYWRkID0gZnVuY3Rpb24gKGluc3RhbmNlLCBpbnRlcnJ1cHQpIHtcblx0XHRpZiAoIXRoaXMuX2dldFNsb3QoaW50ZXJydXB0LCBpbnN0YW5jZSkpIHtyZXR1cm4gZmFsc2U7fVxuXHRcdHRoaXMuX2luc3RhbmNlcy5wdXNoKGluc3RhbmNlKTtcblx0XHR0aGlzLmxlbmd0aCsrO1xuXHRcdHJldHVybiB0cnVlO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBSZW1vdmUgYW4gaW5zdGFuY2UgZnJvbSB0aGUgY2hhbm5lbCwgZWl0aGVyIHdoZW4gaXQgaGFzIGZpbmlzaGVkIHBsYXlpbmcsIG9yIGl0IGhhcyBiZWVuIGludGVycnVwdGVkLlxuXHQgKiAjbWV0aG9kIHJlbW92ZVxuXHQgKiBAcGFyYW0ge0Fic3RyYWN0U291bmRJbnN0YW5jZX0gaW5zdGFuY2UgVGhlIGluc3RhbmNlIHRvIHJlbW92ZVxuXHQgKiBAcmV0dXJuIHtCb29sZWFufSBUaGUgc3VjY2VzcyBvZiB0aGUgcmVtb3ZlIGNhbGwuIElmIHRoZSBpbnN0YW5jZSBpcyBub3QgZm91bmQgaW4gdGhpcyBjaGFubmVsLCBpdCB3aWxsXG5cdCAqIHJldHVybiBmYWxzZS5cblx0ICovXG5cdHAuX3JlbW92ZSA9IGZ1bmN0aW9uIChpbnN0YW5jZSkge1xuXHRcdHZhciBpbmRleCA9IGNyZWF0ZWpzLmluZGV4T2YodGhpcy5faW5zdGFuY2VzLCBpbnN0YW5jZSk7XG5cdFx0aWYgKGluZGV4ID09IC0xKSB7cmV0dXJuIGZhbHNlO31cblx0XHR0aGlzLl9pbnN0YW5jZXMuc3BsaWNlKGluZGV4LCAxKTtcblx0XHR0aGlzLmxlbmd0aC0tO1xuXHRcdHJldHVybiB0cnVlO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBTdG9wIHBsYXliYWNrIGFuZCByZW1vdmUgYWxsIGluc3RhbmNlcyBmcm9tIHRoZSBjaGFubmVsLiAgVXN1YWxseSBpbiByZXNwb25zZSB0byBhIGRlbGV0ZSBjYWxsLlxuXHQgKiAjbWV0aG9kIHJlbW92ZUFsbFxuXHQgKi9cblx0cC5fcmVtb3ZlQWxsID0gZnVuY3Rpb24gKCkge1xuXHRcdC8vIE5vdGUgdGhhdCBzdG9wKCkgcmVtb3ZlcyB0aGUgaXRlbSBmcm9tIHRoZSBsaXN0XG5cdFx0Zm9yICh2YXIgaT10aGlzLmxlbmd0aC0xOyBpPj0wOyBpLS0pIHtcblx0XHRcdHRoaXMuX2luc3RhbmNlc1tpXS5zdG9wKCk7XG5cdFx0fVxuXHR9O1xuXG5cdC8qKlxuXHQgKiBHZXQgYW4gYXZhaWxhYmxlIHNsb3QgZGVwZW5kaW5nIG9uIGludGVycnVwdCB2YWx1ZSBhbmQgaWYgc2xvdHMgYXJlIGF2YWlsYWJsZS5cblx0ICogI21ldGhvZCBnZXRTbG90XG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBpbnRlcnJ1cHQgVGhlIGludGVycnVwdCB2YWx1ZSB0byB1c2UuXG5cdCAqIEBwYXJhbSB7QWJzdHJhY3RTb3VuZEluc3RhbmNlfSBpbnN0YW5jZSBUaGUgc291bmQgaW5zdGFuY2UgdGhhdCB3aWxsIGdvIGluIHRoZSBjaGFubmVsIGlmIHN1Y2Nlc3NmdWwuXG5cdCAqIEByZXR1cm4ge0Jvb2xlYW59IERldGVybWluZXMgaWYgdGhlcmUgaXMgYW4gYXZhaWxhYmxlIHNsb3QuIERlcGVuZGluZyBvbiB0aGUgaW50ZXJydXB0IG1vZGUsIGlmIHRoZXJlIGFyZSBubyBzbG90cyxcblx0ICogYW4gZXhpc3RpbmcgQWJzdHJhY3RTb3VuZEluc3RhbmNlIG1heSBiZSBpbnRlcnJ1cHRlZC4gSWYgdGhlcmUgYXJlIG5vIHNsb3RzLCB0aGlzIG1ldGhvZCByZXR1cm5zIGZhbHNlLlxuXHQgKi9cblx0cC5fZ2V0U2xvdCA9IGZ1bmN0aW9uIChpbnRlcnJ1cHQsIGluc3RhbmNlKSB7XG5cdFx0dmFyIHRhcmdldCwgcmVwbGFjZW1lbnQ7XG5cblx0XHRpZiAoaW50ZXJydXB0ICE9IFNvdW5kLklOVEVSUlVQVF9OT05FKSB7XG5cdFx0XHQvLyBGaXJzdCByZXBsYWNlbWVudCBjYW5kaWRhdGVcblx0XHRcdHJlcGxhY2VtZW50ID0gdGhpcy5fZ2V0KDApO1xuXHRcdFx0aWYgKHJlcGxhY2VtZW50ID09IG51bGwpIHtcblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Zm9yICh2YXIgaSA9IDAsIGwgPSB0aGlzLm1heDsgaSA8IGw7IGkrKykge1xuXHRcdFx0dGFyZ2V0ID0gdGhpcy5fZ2V0KGkpO1xuXG5cdFx0XHQvLyBBdmFpbGFibGUgU3BhY2Vcblx0XHRcdGlmICh0YXJnZXQgPT0gbnVsbCkge1xuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQXVkaW8gaXMgY29tcGxldGUgb3Igbm90IHBsYXlpbmdcblx0XHRcdGlmICh0YXJnZXQucGxheVN0YXRlID09IFNvdW5kLlBMQVlfRklOSVNIRUQgfHxcblx0XHRcdFx0dGFyZ2V0LnBsYXlTdGF0ZSA9PSBTb3VuZC5QTEFZX0lOVEVSUlVQVEVEIHx8XG5cdFx0XHRcdHRhcmdldC5wbGF5U3RhdGUgPT0gU291bmQuUExBWV9GQUlMRUQpIHtcblx0XHRcdFx0cmVwbGFjZW1lbnQgPSB0YXJnZXQ7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoaW50ZXJydXB0ID09IFNvdW5kLklOVEVSUlVQVF9OT05FKSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBBdWRpbyBpcyBhIGJldHRlciBjYW5kaWRhdGUgdGhhbiB0aGUgY3VycmVudCB0YXJnZXQsIGFjY29yZGluZyB0byBwbGF5aGVhZFxuXHRcdFx0aWYgKChpbnRlcnJ1cHQgPT0gU291bmQuSU5URVJSVVBUX0VBUkxZICYmIHRhcmdldC5wb3NpdGlvbiA8IHJlcGxhY2VtZW50LnBvc2l0aW9uKSB8fFxuXHRcdFx0XHQoaW50ZXJydXB0ID09IFNvdW5kLklOVEVSUlVQVF9MQVRFICYmIHRhcmdldC5wb3NpdGlvbiA+IHJlcGxhY2VtZW50LnBvc2l0aW9uKSkge1xuXHRcdFx0XHRcdHJlcGxhY2VtZW50ID0gdGFyZ2V0O1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmIChyZXBsYWNlbWVudCAhPSBudWxsKSB7XG5cdFx0XHRyZXBsYWNlbWVudC5faW50ZXJydXB0KCk7XG5cdFx0XHR0aGlzLl9yZW1vdmUocmVwbGFjZW1lbnQpO1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXHRcdHJldHVybiBmYWxzZTtcblx0fTtcblxuXHRwLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuXHRcdHJldHVybiBcIltTb3VuZCBTb3VuZENoYW5uZWxdXCI7XG5cdH07XG5cdC8vIGRvIG5vdCBhZGQgU291bmRDaGFubmVsIHRvIG5hbWVzcGFjZVxuXG59KCkpO1xuXG4vLyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI1xuLy8gQWJzdHJhY3RTb3VuZEluc3RhbmNlLmpzXG4vLyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI1xuXG4vKipcbiAqIEEgQWJzdHJhY3RTb3VuZEluc3RhbmNlIGlzIGNyZWF0ZWQgd2hlbiBhbnkgY2FsbHMgdG8gdGhlIFNvdW5kIEFQSSBtZXRob2Qge3sjY3Jvc3NMaW5rIFwiU291bmQvcGxheVwifX17ey9jcm9zc0xpbmt9fSBvclxuICoge3sjY3Jvc3NMaW5rIFwiU291bmQvY3JlYXRlSW5zdGFuY2VcIn19e3svY3Jvc3NMaW5rfX0gYXJlIG1hZGUuIFRoZSBBYnN0cmFjdFNvdW5kSW5zdGFuY2UgaXMgcmV0dXJuZWQgYnkgdGhlIGFjdGl2ZSBwbHVnaW5cbiAqIGZvciBjb250cm9sIGJ5IHRoZSB1c2VyLlxuICpcbiAqIDxoND5FeGFtcGxlPC9oND5cbiAqXG4gKiAgICAgIHZhciBteUluc3RhbmNlID0gY3JlYXRlanMuU291bmQucGxheShcIm15QXNzZXRQYXRoL215U3JjRmlsZS5tcDNcIik7XG4gKlxuICogQSBudW1iZXIgb2YgYWRkaXRpb25hbCBwYXJhbWV0ZXJzIHByb3ZpZGUgYSBxdWljayB3YXkgdG8gZGV0ZXJtaW5lIGhvdyBhIHNvdW5kIGlzIHBsYXllZC4gUGxlYXNlIHNlZSB0aGUgU291bmRcbiAqIEFQSSBtZXRob2Qge3sjY3Jvc3NMaW5rIFwiU291bmQvcGxheVwifX17ey9jcm9zc0xpbmt9fSBmb3IgYSBsaXN0IG9mIGFyZ3VtZW50cy5cbiAqXG4gKiBPbmNlIGEgQWJzdHJhY3RTb3VuZEluc3RhbmNlIGlzIGNyZWF0ZWQsIGEgcmVmZXJlbmNlIGNhbiBiZSBzdG9yZWQgdGhhdCBjYW4gYmUgdXNlZCB0byBjb250cm9sIHRoZSBhdWRpbyBkaXJlY3RseSB0aHJvdWdoXG4gKiB0aGUgQWJzdHJhY3RTb3VuZEluc3RhbmNlLiBJZiB0aGUgcmVmZXJlbmNlIGlzIG5vdCBzdG9yZWQsIHRoZSBBYnN0cmFjdFNvdW5kSW5zdGFuY2Ugd2lsbCBwbGF5IG91dCBpdHMgYXVkaW8gKGFuZCBhbnkgbG9vcHMpLCBhbmRcbiAqIGlzIHRoZW4gZGUtcmVmZXJlbmNlZCBmcm9tIHRoZSB7eyNjcm9zc0xpbmsgXCJTb3VuZFwifX17ey9jcm9zc0xpbmt9fSBjbGFzcyBzbyB0aGF0IGl0IGNhbiBiZSBjbGVhbmVkIHVwLiBJZiBhdWRpb1xuICogcGxheWJhY2sgaGFzIGNvbXBsZXRlZCwgYSBzaW1wbGUgY2FsbCB0byB0aGUge3sjY3Jvc3NMaW5rIFwiQWJzdHJhY3RTb3VuZEluc3RhbmNlL3BsYXlcIn19e3svY3Jvc3NMaW5rfX0gaW5zdGFuY2UgbWV0aG9kXG4gKiB3aWxsIHJlYnVpbGQgdGhlIHJlZmVyZW5jZXMgdGhlIFNvdW5kIGNsYXNzIG5lZWQgdG8gY29udHJvbCBpdC5cbiAqXG4gKiAgICAgIHZhciBteUluc3RhbmNlID0gY3JlYXRlanMuU291bmQucGxheShcIm15QXNzZXRQYXRoL215U3JjRmlsZS5tcDNcIiwge2xvb3A6Mn0pO1xuICogICAgICBteUluc3RhbmNlLm9uKFwibG9vcFwiLCBoYW5kbGVMb29wKTtcbiAqICAgICAgZnVuY3Rpb24gaGFuZGxlTG9vcChldmVudCkge1xuICogICAgICAgICAgbXlJbnN0YW5jZS52b2x1bWUgPSBteUluc3RhbmNlLnZvbHVtZSAqIDAuNTtcbiAqICAgICAgfVxuICpcbiAqIEV2ZW50cyBhcmUgZGlzcGF0Y2hlZCBmcm9tIHRoZSBpbnN0YW5jZSB0byBub3RpZnkgd2hlbiB0aGUgc291bmQgaGFzIGNvbXBsZXRlZCwgbG9vcGVkLCBvciB3aGVuIHBsYXliYWNrIGZhaWxzXG4gKlxuICogICAgICB2YXIgbXlJbnN0YW5jZSA9IGNyZWF0ZWpzLlNvdW5kLnBsYXkoXCJteUFzc2V0UGF0aC9teVNyY0ZpbGUubXAzXCIpO1xuICogICAgICBteUluc3RhbmNlLm9uKFwiY29tcGxldGVcIiwgaGFuZGxlQ29tcGxldGUpO1xuICogICAgICBteUluc3RhbmNlLm9uKFwibG9vcFwiLCBoYW5kbGVMb29wKTtcbiAqICAgICAgbXlJbnN0YW5jZS5vbihcImZhaWxlZFwiLCBoYW5kbGVGYWlsZWQpO1xuICpcbiAqXG4gKiBAY2xhc3MgQWJzdHJhY3RTb3VuZEluc3RhbmNlXG4gKiBAcGFyYW0ge1N0cmluZ30gc3JjIFRoZSBwYXRoIHRvIGFuZCBmaWxlIG5hbWUgb2YgdGhlIHNvdW5kLlxuICogQHBhcmFtIHtOdW1iZXJ9IHN0YXJ0VGltZSBBdWRpbyBzcHJpdGUgcHJvcGVydHkgdXNlZCB0byBhcHBseSBhbiBvZmZzZXQsIGluIG1pbGxpc2Vjb25kcy5cbiAqIEBwYXJhbSB7TnVtYmVyfSBkdXJhdGlvbiBBdWRpbyBzcHJpdGUgcHJvcGVydHkgdXNlZCB0byBzZXQgdGhlIHRpbWUgdGhlIGNsaXAgcGxheXMgZm9yLCBpbiBtaWxsaXNlY29uZHMuXG4gKiBAcGFyYW0ge09iamVjdH0gcGxheWJhY2tSZXNvdXJjZSBBbnkgcmVzb3VyY2UgbmVlZGVkIGJ5IHBsdWdpbiB0byBzdXBwb3J0IGF1ZGlvIHBsYXliYWNrLlxuICogQGV4dGVuZHMgRXZlbnREaXNwYXRjaGVyXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuXG4oZnVuY3Rpb24gKCkge1xuXHRcInVzZSBzdHJpY3RcIjtcblxuXG4vLyBDb25zdHJ1Y3Rvcjpcblx0dmFyIEFic3RyYWN0U291bmRJbnN0YW5jZSA9IGZ1bmN0aW9uIChzcmMsIHN0YXJ0VGltZSwgZHVyYXRpb24sIHBsYXliYWNrUmVzb3VyY2UpIHtcblx0XHR0aGlzLkV2ZW50RGlzcGF0Y2hlcl9jb25zdHJ1Y3RvcigpO1xuXG5cblx0Ly8gcHVibGljIHByb3BlcnRpZXM6XG5cdFx0LyoqXG5cdFx0ICogVGhlIHNvdXJjZSBvZiB0aGUgc291bmQuXG5cdFx0ICogQHByb3BlcnR5IHNyY1xuXHRcdCAqIEB0eXBlIHtTdHJpbmd9XG5cdFx0ICogQGRlZmF1bHQgbnVsbFxuXHRcdCAqL1xuXHRcdHRoaXMuc3JjID0gc3JjO1xuXG5cdFx0LyoqXG5cdFx0ICogVGhlIHVuaXF1ZSBJRCBvZiB0aGUgaW5zdGFuY2UuIFRoaXMgaXMgc2V0IGJ5IHt7I2Nyb3NzTGluayBcIlNvdW5kXCJ9fXt7L2Nyb3NzTGlua319LlxuXHRcdCAqIEBwcm9wZXJ0eSB1bmlxdWVJZFxuXHRcdCAqIEB0eXBlIHtTdHJpbmd9IHwgTnVtYmVyXG5cdFx0ICogQGRlZmF1bHQgLTFcblx0XHQgKi9cblx0XHR0aGlzLnVuaXF1ZUlkID0gLTE7XG5cblx0XHQvKipcblx0XHQgKiBUaGUgcGxheSBzdGF0ZSBvZiB0aGUgc291bmQuIFBsYXkgc3RhdGVzIGFyZSBkZWZpbmVkIGFzIGNvbnN0YW50cyBvbiB7eyNjcm9zc0xpbmsgXCJTb3VuZFwifX17ey9jcm9zc0xpbmt9fS5cblx0XHQgKiBAcHJvcGVydHkgcGxheVN0YXRlXG5cdFx0ICogQHR5cGUge1N0cmluZ31cblx0XHQgKiBAZGVmYXVsdCBudWxsXG5cdFx0ICovXG5cdFx0dGhpcy5wbGF5U3RhdGUgPSBudWxsO1xuXG5cdFx0LyoqXG5cdFx0ICogQSBUaW1lb3V0IGNyZWF0ZWQgYnkge3sjY3Jvc3NMaW5rIFwiU291bmRcIn19e3svY3Jvc3NMaW5rfX0gd2hlbiB0aGlzIEFic3RyYWN0U291bmRJbnN0YW5jZSBpcyBwbGF5ZWQgd2l0aCBhIGRlbGF5LlxuXHRcdCAqIFRoaXMgYWxsb3dzIEFic3RyYWN0U291bmRJbnN0YW5jZSB0byByZW1vdmUgdGhlIGRlbGF5IGlmIHN0b3AsIHBhdXNlLCBvciBjbGVhbnVwIGFyZSBjYWxsZWQgYmVmb3JlIHBsYXliYWNrIGJlZ2lucy5cblx0XHQgKiBAcHJvcGVydHkgZGVsYXlUaW1lb3V0SWRcblx0XHQgKiBAdHlwZSB7dGltZW91dFZhcmlhYmxlfVxuXHRcdCAqIEBkZWZhdWx0IG51bGxcblx0XHQgKiBAcHJvdGVjdGVkXG5cdFx0ICogQHNpbmNlIDAuNC4wXG5cdFx0ICovXG5cdFx0dGhpcy5kZWxheVRpbWVvdXRJZCA9IG51bGw7XG5cdFx0Ly8gVE9ETyBjb25zaWRlciBtb3ZpbmcgZGVsYXkgaW50byBBYnN0cmFjdFNvdW5kSW5zdGFuY2Ugc28gaXQgY2FuIGJlIGhhbmRsZWQgYnkgcGx1Z2luc1xuXG5cblx0Ly8gcHJpdmF0ZSBwcm9wZXJ0aWVzXG5cdC8vIEdldHRlciAvIFNldHRlciBQcm9wZXJ0aWVzXG5cdFx0Ly8gT0pSIFRPRE8gZmluZCBvcmlnaW5hbCByZWFzb24gdGhhdCB3ZSBkaWRuJ3QgdXNlIGRlZmluZWQgZnVuY3Rpb25zLiAgSSB0aGluayBpdCB3YXMgcGVyZm9ybWFuY2UgcmVsYXRlZFxuXHRcdC8qKlxuXHRcdCAqIFRoZSB2b2x1bWUgb2YgdGhlIHNvdW5kLCBiZXR3ZWVuIDAgYW5kIDEuXG5cdFx0ICpcblx0XHQgKiBUaGUgYWN0dWFsIG91dHB1dCB2b2x1bWUgb2YgYSBzb3VuZCBjYW4gYmUgY2FsY3VsYXRlZCB1c2luZzpcblx0XHQgKiA8Y29kZT5teUluc3RhbmNlLnZvbHVtZSAqIGNyZWF0ZWpzLlNvdW5kLl9nZXRWb2x1bWUoKTs8L2NvZGU+XG5cdFx0ICpcblx0XHQgKiBAcHJvcGVydHkgdm9sdW1lXG5cdFx0ICogQHR5cGUge051bWJlcn1cblx0XHQgKiBAZGVmYXVsdCAxXG5cdFx0ICovXG5cdFx0dGhpcy5fdm9sdW1lID0gIDE7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwidm9sdW1lXCIsIHtcblx0XHRcdGdldDogdGhpcy5fZ2V0Vm9sdW1lLFxuXHRcdFx0c2V0OiB0aGlzLl9zZXRWb2x1bWVcblx0XHR9KTtcblxuXHRcdC8qKlxuXHRcdCAqIFRoZSBwYW4gb2YgdGhlIHNvdW5kLCBiZXR3ZWVuIC0xIChsZWZ0KSBhbmQgMSAocmlnaHQpLiBOb3RlIHRoYXQgcGFuIGlzIG5vdCBzdXBwb3J0ZWQgYnkgSFRNTCBBdWRpby5cblx0XHQgKlxuXHRcdCAqIE5vdGUgaW4gV2ViQXVkaW9QbHVnaW4gdGhpcyBvbmx5IGdpdmVzIHVzIHRoZSBcInhcIiB2YWx1ZSBvZiB3aGF0IGlzIGFjdHVhbGx5IDNEIGF1ZGlvXG5cdFx0ICogQHByb3BlcnR5IHBhblxuXHRcdCAqIEB0eXBlIHtOdW1iZXJ9XG5cdFx0ICogQGRlZmF1bHQgMFxuXHRcdCAqL1xuXHRcdHRoaXMuX3BhbiA9ICAwO1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInBhblwiLCB7XG5cdFx0XHRnZXQ6IHRoaXMuX2dldFBhbixcblx0XHRcdHNldDogdGhpcy5fc2V0UGFuXG5cdFx0fSk7XG5cblx0XHQvKipcblx0XHQgKiBBdWRpbyBzcHJpdGUgcHJvcGVydHkgdXNlZCB0byBkZXRlcm1pbmUgdGhlIHN0YXJ0aW5nIG9mZnNldC5cblx0XHQgKiBAcHJvcGVydHkgc3RhcnRUaW1lXG5cdFx0ICogQHR5cGUge051bWJlcn1cblx0XHQgKiBAZGVmYXVsdCAwXG5cdFx0ICogQHNpbmNlIDAuNi4xXG5cdFx0ICovXG5cdFx0dGhpcy5fc3RhcnRUaW1lID0gTWF0aC5tYXgoMCwgc3RhcnRUaW1lIHx8IDApO1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInN0YXJ0VGltZVwiLCB7XG5cdFx0XHRnZXQ6IHRoaXMuX2dldFN0YXJ0VGltZSxcblx0XHRcdHNldDogdGhpcy5fc2V0U3RhcnRUaW1lXG5cdFx0fSk7XG5cblx0XHQvKipcblx0XHQgKiBTZXRzIG9yIGdldHMgdGhlIGxlbmd0aCBvZiB0aGUgYXVkaW8gY2xpcCwgdmFsdWUgaXMgaW4gbWlsbGlzZWNvbmRzLlxuXHRcdCAqXG5cdFx0ICogQHByb3BlcnR5IGR1cmF0aW9uXG5cdFx0ICogQHR5cGUge051bWJlcn1cblx0XHQgKiBAZGVmYXVsdCAwXG5cdFx0ICogQHNpbmNlIDAuNi4wXG5cdFx0ICovXG5cdFx0dGhpcy5fZHVyYXRpb24gPSBNYXRoLm1heCgwLCBkdXJhdGlvbiB8fCAwKTtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJkdXJhdGlvblwiLCB7XG5cdFx0XHRnZXQ6IHRoaXMuX2dldER1cmF0aW9uLFxuXHRcdFx0c2V0OiB0aGlzLl9zZXREdXJhdGlvblxuXHRcdH0pO1xuXG5cdFx0LyoqXG5cdFx0ICogT2JqZWN0IHRoYXQgaG9sZHMgcGx1Z2luIHNwZWNpZmljIHJlc291cmNlIG5lZWQgZm9yIGF1ZGlvIHBsYXliYWNrLlxuXHRcdCAqIFRoaXMgaXMgc2V0IGludGVybmFsbHkgYnkgdGhlIHBsdWdpbi4gIEZvciBleGFtcGxlLCBXZWJBdWRpb1BsdWdpbiB3aWxsIHNldCBhbiBhcnJheSBidWZmZXIsXG5cdFx0ICogSFRNTEF1ZGlvUGx1Z2luIHdpbGwgc2V0IGEgdGFnLCBGbGFzaEF1ZGlvUGx1Z2luIHdpbGwgc2V0IGEgZmxhc2ggcmVmZXJlbmNlLlxuXHRcdCAqXG5cdFx0ICogQHByb3BlcnR5IHBsYXliYWNrUmVzb3VyY2Vcblx0XHQgKiBAdHlwZSB7T2JqZWN0fVxuXHRcdCAqIEBkZWZhdWx0IG51bGxcblx0XHQgKi9cblx0XHR0aGlzLl9wbGF5YmFja1Jlc291cmNlID0gbnVsbDtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJwbGF5YmFja1Jlc291cmNlXCIsIHtcblx0XHRcdGdldDogdGhpcy5fZ2V0UGxheWJhY2tSZXNvdXJjZSxcblx0XHRcdHNldDogdGhpcy5fc2V0UGxheWJhY2tSZXNvdXJjZVxuXHRcdH0pO1xuXHRcdGlmKHBsYXliYWNrUmVzb3VyY2UgIT09IGZhbHNlICYmIHBsYXliYWNrUmVzb3VyY2UgIT09IHRydWUpIHsgdGhpcy5fc2V0UGxheWJhY2tSZXNvdXJjZShwbGF5YmFja1Jlc291cmNlKTsgfVxuXG5cdFx0LyoqXG5cdFx0ICogVGhlIHBvc2l0aW9uIG9mIHRoZSBwbGF5aGVhZCBpbiBtaWxsaXNlY29uZHMuIFRoaXMgY2FuIGJlIHNldCB3aGlsZSBhIHNvdW5kIGlzIHBsYXlpbmcsIHBhdXNlZCwgb3Igc3RvcHBlZC5cblx0XHQgKlxuXHRcdCAqIEBwcm9wZXJ0eSBwb3NpdGlvblxuXHRcdCAqIEB0eXBlIHtOdW1iZXJ9XG5cdFx0ICogQGRlZmF1bHQgMFxuXHRcdCAqIEBzaW5jZSAwLjYuMFxuXHRcdCAqL1xuXHRcdHRoaXMuX3Bvc2l0aW9uID0gMDtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJwb3NpdGlvblwiLCB7XG5cdFx0XHRnZXQ6IHRoaXMuX2dldFBvc2l0aW9uLFxuXHRcdFx0c2V0OiB0aGlzLl9zZXRQb3NpdGlvblxuXHRcdH0pO1xuXG5cdFx0LyoqXG5cdFx0ICogVGhlIG51bWJlciBvZiBwbGF5IGxvb3BzIHJlbWFpbmluZy4gTmVnYXRpdmUgdmFsdWVzIHdpbGwgbG9vcCBpbmZpbml0ZWx5LlxuXHRcdCAqXG5cdFx0ICogQHByb3BlcnR5IGxvb3Bcblx0XHQgKiBAdHlwZSB7TnVtYmVyfVxuXHRcdCAqIEBkZWZhdWx0IDBcblx0XHQgKiBAcHVibGljXG5cdFx0ICogQHNpbmNlIDAuNi4wXG5cdFx0ICovXG5cdFx0dGhpcy5fbG9vcCA9IDA7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibG9vcFwiLCB7XG5cdFx0XHRnZXQ6IHRoaXMuX2dldExvb3AsXG5cdFx0XHRzZXQ6IHRoaXMuX3NldExvb3Bcblx0XHR9KTtcblxuXHRcdC8qKlxuXHRcdCAqIE11dGVzIG9yIHVubXV0ZXMgdGhlIGN1cnJlbnQgYXVkaW8gaW5zdGFuY2UuXG5cdFx0ICpcblx0XHQgKiBAcHJvcGVydHkgbXV0ZWRcblx0XHQgKiBAdHlwZSB7Qm9vbGVhbn1cblx0XHQgKiBAZGVmYXVsdCBmYWxzZVxuXHRcdCAqIEBzaW5jZSAwLjYuMFxuXHRcdCAqL1xuXHRcdHRoaXMuX211dGVkID0gZmFsc2U7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibXV0ZWRcIiwge1xuXHRcdFx0Z2V0OiB0aGlzLl9nZXRNdXRlZCxcblx0XHRcdHNldDogdGhpcy5fc2V0TXV0ZWRcblx0XHR9KTtcblxuXHRcdC8qKlxuXHRcdCAqIFBhdXNlcyBvciByZXN1bWVzIHRoZSBjdXJyZW50IGF1ZGlvIGluc3RhbmNlLlxuXHRcdCAqXG5cdFx0ICogQHByb3BlcnR5IHBhdXNlZFxuXHRcdCAqIEB0eXBlIHtCb29sZWFufVxuXHRcdCAqL1xuXHRcdHRoaXMuX3BhdXNlZCA9IGZhbHNlO1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInBhdXNlZFwiLCB7XG5cdFx0XHRnZXQ6IHRoaXMuX2dldFBhdXNlZCxcblx0XHRcdHNldDogdGhpcy5fc2V0UGF1c2VkXG5cdFx0fSk7XG5cblxuXHQvLyBFdmVudHNcblx0XHQvKipcblx0XHQgKiBUaGUgZXZlbnQgdGhhdCBpcyBmaXJlZCB3aGVuIHBsYXliYWNrIGhhcyBzdGFydGVkIHN1Y2Nlc3NmdWxseS5cblx0XHQgKiBAZXZlbnQgc3VjY2VlZGVkXG5cdFx0ICogQHBhcmFtIHtPYmplY3R9IHRhcmdldCBUaGUgb2JqZWN0IHRoYXQgZGlzcGF0Y2hlZCB0aGUgZXZlbnQuXG5cdFx0ICogQHBhcmFtIHtTdHJpbmd9IHR5cGUgVGhlIGV2ZW50IHR5cGUuXG5cdFx0ICogQHNpbmNlIDAuNC4wXG5cdFx0ICovXG5cblx0XHQvKipcblx0XHQgKiBUaGUgZXZlbnQgdGhhdCBpcyBmaXJlZCB3aGVuIHBsYXliYWNrIGlzIGludGVycnVwdGVkLiBUaGlzIGhhcHBlbnMgd2hlbiBhbm90aGVyIHNvdW5kIHdpdGggdGhlIHNhbWVcblx0XHQgKiBzcmMgcHJvcGVydHkgaXMgcGxheWVkIHVzaW5nIGFuIGludGVycnVwdCB2YWx1ZSB0aGF0IGNhdXNlcyB0aGlzIGluc3RhbmNlIHRvIHN0b3AgcGxheWluZy5cblx0XHQgKiBAZXZlbnQgaW50ZXJydXB0ZWRcblx0XHQgKiBAcGFyYW0ge09iamVjdH0gdGFyZ2V0IFRoZSBvYmplY3QgdGhhdCBkaXNwYXRjaGVkIHRoZSBldmVudC5cblx0XHQgKiBAcGFyYW0ge1N0cmluZ30gdHlwZSBUaGUgZXZlbnQgdHlwZS5cblx0XHQgKiBAc2luY2UgMC40LjBcblx0XHQgKi9cblxuXHRcdC8qKlxuXHRcdCAqIFRoZSBldmVudCB0aGF0IGlzIGZpcmVkIHdoZW4gcGxheWJhY2sgaGFzIGZhaWxlZC4gVGhpcyBoYXBwZW5zIHdoZW4gdGhlcmUgYXJlIHRvbyBtYW55IGNoYW5uZWxzIHdpdGggdGhlIHNhbWVcblx0XHQgKiBzcmMgcHJvcGVydHkgYWxyZWFkeSBwbGF5aW5nIChhbmQgdGhlIGludGVycnVwdCB2YWx1ZSBkb2Vzbid0IGNhdXNlIGFuIGludGVycnVwdCBvZiBhbm90aGVyIGluc3RhbmNlKSwgb3Jcblx0XHQgKiB0aGUgc291bmQgY291bGQgbm90IGJlIHBsYXllZCwgcGVyaGFwcyBkdWUgdG8gYSA0MDQgZXJyb3IuXG5cdFx0ICogQGV2ZW50IGZhaWxlZFxuXHRcdCAqIEBwYXJhbSB7T2JqZWN0fSB0YXJnZXQgVGhlIG9iamVjdCB0aGF0IGRpc3BhdGNoZWQgdGhlIGV2ZW50LlxuXHRcdCAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlIFRoZSBldmVudCB0eXBlLlxuXHRcdCAqIEBzaW5jZSAwLjQuMFxuXHRcdCAqL1xuXG5cdFx0LyoqXG5cdFx0ICogVGhlIGV2ZW50IHRoYXQgaXMgZmlyZWQgd2hlbiBhIHNvdW5kIGhhcyBjb21wbGV0ZWQgcGxheWluZyBidXQgaGFzIGxvb3BzIHJlbWFpbmluZy5cblx0XHQgKiBAZXZlbnQgbG9vcFxuXHRcdCAqIEBwYXJhbSB7T2JqZWN0fSB0YXJnZXQgVGhlIG9iamVjdCB0aGF0IGRpc3BhdGNoZWQgdGhlIGV2ZW50LlxuXHRcdCAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlIFRoZSBldmVudCB0eXBlLlxuXHRcdCAqIEBzaW5jZSAwLjQuMFxuXHRcdCAqL1xuXG5cdFx0LyoqXG5cdFx0ICogVGhlIGV2ZW50IHRoYXQgaXMgZmlyZWQgd2hlbiBwbGF5YmFjayBjb21wbGV0ZXMuIFRoaXMgbWVhbnMgdGhhdCB0aGUgc291bmQgaGFzIGZpbmlzaGVkIHBsYXlpbmcgaW4gaXRzXG5cdFx0ICogZW50aXJldHksIGluY2x1ZGluZyBpdHMgbG9vcCBpdGVyYXRpb25zLlxuXHRcdCAqIEBldmVudCBjb21wbGV0ZVxuXHRcdCAqIEBwYXJhbSB7T2JqZWN0fSB0YXJnZXQgVGhlIG9iamVjdCB0aGF0IGRpc3BhdGNoZWQgdGhlIGV2ZW50LlxuXHRcdCAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlIFRoZSBldmVudCB0eXBlLlxuXHRcdCAqIEBzaW5jZSAwLjQuMFxuXHRcdCAqL1xuXHR9O1xuXG5cdHZhciBwID0gY3JlYXRlanMuZXh0ZW5kKEFic3RyYWN0U291bmRJbnN0YW5jZSwgY3JlYXRlanMuRXZlbnREaXNwYXRjaGVyKTtcblxuLy8gUHVibGljIE1ldGhvZHM6XG5cdC8qKlxuXHQgKiBQbGF5IGFuIGluc3RhbmNlLiBUaGlzIG1ldGhvZCBpcyBpbnRlbmRlZCB0byBiZSBjYWxsZWQgb24gU291bmRJbnN0YW5jZXMgdGhhdCBhbHJlYWR5IGV4aXN0IChjcmVhdGVkXG5cdCAqIHdpdGggdGhlIFNvdW5kIEFQSSB7eyNjcm9zc0xpbmsgXCJTb3VuZC9jcmVhdGVJbnN0YW5jZVwifX17ey9jcm9zc0xpbmt9fSBvciB7eyNjcm9zc0xpbmsgXCJTb3VuZC9wbGF5XCJ9fXt7L2Nyb3NzTGlua319KS5cblx0ICpcblx0ICogPGg0PkV4YW1wbGU8L2g0PlxuXHQgKlxuXHQgKiAgICAgIHZhciBteUluc3RhbmNlID0gY3JlYXRlanMuU291bmQuY3JlYXRlSW5zdGFuY2UobXlTcmMpO1xuXHQgKiAgICAgIG15SW5zdGFuY2UucGxheSh7aW50ZXJydXB0OmNyZWF0ZWpzLlNvdW5kLklOVEVSUlVQVF9BTlksIGxvb3A6MiwgcGFuOjAuNX0pO1xuXHQgKlxuXHQgKiBOb3RlIHRoYXQgaWYgdGhpcyBzb3VuZCBpcyBhbHJlYWR5IHBsYXlpbmcsIHRoaXMgY2FsbCB3aWxsIHN0aWxsIHNldCB0aGUgcGFzc2VkIGluIHBhcmFtZXRlcnMuXG5cblx0ICogPGI+UGFyYW1ldGVycyBEZXByZWNhdGVkPC9iPjxiciAvPlxuXHQgKiBUaGUgcGFyYW1ldGVycyBmb3IgdGhpcyBtZXRob2QgYXJlIGRlcHJlY2F0ZWQgaW4gZmF2b3Igb2YgYSBzaW5nbGUgcGFyYW1ldGVyIHRoYXQgaXMgYW4gT2JqZWN0IG9yIHt7I2Nyb3NzTGluayBcIlBsYXlQcm9wc0NvbmZpZ1wifX17ey9jcm9zc0xpbmt9fS5cblx0ICpcblx0ICogQG1ldGhvZCBwbGF5XG5cdCAqIEBwYXJhbSB7T2JqZWN0IHwgUGxheVByb3BzQ29uZmlnfSBwcm9wcyBBIFBsYXlQcm9wc0NvbmZpZyBpbnN0YW5jZSwgb3IgYW4gb2JqZWN0IHRoYXQgY29udGFpbnMgdGhlIHBhcmFtZXRlcnMgdG9cblx0ICogcGxheSBhIHNvdW5kLiBTZWUgdGhlIHt7I2Nyb3NzTGluayBcIlBsYXlQcm9wc0NvbmZpZ1wifX17ey9jcm9zc0xpbmt9fSBmb3IgbW9yZSBpbmZvLlxuXHQgKiBAcmV0dXJuIHtBYnN0cmFjdFNvdW5kSW5zdGFuY2V9IEEgcmVmZXJlbmNlIHRvIGl0c2VsZiwgaW50ZW5kZWQgZm9yIGNoYWluaW5nIGNhbGxzLlxuXHQgKi9cblx0cC5wbGF5ID0gZnVuY3Rpb24gKHByb3BzKSB7XG5cdFx0dmFyIHBsYXlQcm9wcyA9IGNyZWF0ZWpzLlBsYXlQcm9wc0NvbmZpZy5jcmVhdGUocHJvcHMpO1xuXHRcdGlmICh0aGlzLnBsYXlTdGF0ZSA9PSBjcmVhdGVqcy5Tb3VuZC5QTEFZX1NVQ0NFRURFRCkge1xuXHRcdFx0dGhpcy5hcHBseVBsYXlQcm9wcyhwbGF5UHJvcHMpO1xuXHRcdFx0aWYgKHRoaXMuX3BhdXNlZCkge1x0dGhpcy5fc2V0UGF1c2VkKGZhbHNlKTsgfVxuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHR0aGlzLl9jbGVhblVwKCk7XG5cdFx0Y3JlYXRlanMuU291bmQuX3BsYXlJbnN0YW5jZSh0aGlzLCBwbGF5UHJvcHMpO1x0Ly8gbWFrZSB0aGlzIGFuIGV2ZW50IGRpc3BhdGNoPz9cblx0XHRyZXR1cm4gdGhpcztcblx0fTtcblxuXHQvKipcblx0ICogU3RvcCBwbGF5YmFjayBvZiB0aGUgaW5zdGFuY2UuIFN0b3BwZWQgc291bmRzIHdpbGwgcmVzZXQgdGhlaXIgcG9zaXRpb24gdG8gMCwgYW5kIGNhbGxzIHRvIHt7I2Nyb3NzTGluayBcIkFic3RyYWN0U291bmRJbnN0YW5jZS9yZXN1bWVcIn19e3svY3Jvc3NMaW5rfX1cblx0ICogd2lsbCBmYWlsLiBUbyBzdGFydCBwbGF5YmFjayBhZ2FpbiwgY2FsbCB7eyNjcm9zc0xpbmsgXCJBYnN0cmFjdFNvdW5kSW5zdGFuY2UvcGxheVwifX17ey9jcm9zc0xpbmt9fS5cbiAgICAgKlxuICAgICAqIElmIHlvdSBkb24ndCB3YW50IHRvIGxvc2UgeW91ciBwb3NpdGlvbiB1c2UgeW91clNvdW5kSW5zdGFuY2UucGF1c2VkID0gdHJ1ZSBpbnN0ZWFkLiB7eyNjcm9zc0xpbmsgXCJBYnN0cmFjdFNvdW5kSW5zdGFuY2UvcGF1c2VkXCJ9fXt7L2Nyb3NzTGlua319LlxuXHQgKlxuXHQgKiA8aDQ+RXhhbXBsZTwvaDQ+XG5cdCAqXG5cdCAqICAgICBteUluc3RhbmNlLnN0b3AoKTtcblx0ICpcblx0ICogQG1ldGhvZCBzdG9wXG5cdCAqIEByZXR1cm4ge0Fic3RyYWN0U291bmRJbnN0YW5jZX0gQSByZWZlcmVuY2UgdG8gaXRzZWxmLCBpbnRlbmRlZCBmb3IgY2hhaW5pbmcgY2FsbHMuXG5cdCAqL1xuXHRwLnN0b3AgPSBmdW5jdGlvbiAoKSB7XG5cdFx0dGhpcy5fcG9zaXRpb24gPSAwO1xuXHRcdHRoaXMuX3BhdXNlZCA9IGZhbHNlO1xuXHRcdHRoaXMuX2hhbmRsZVN0b3AoKTtcblx0XHR0aGlzLl9jbGVhblVwKCk7XG5cdFx0dGhpcy5wbGF5U3RhdGUgPSBjcmVhdGVqcy5Tb3VuZC5QTEFZX0ZJTklTSEVEO1xuXHRcdHJldHVybiB0aGlzO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBSZW1vdmUgYWxsIGV4dGVybmFsIHJlZmVyZW5jZXMgYW5kIHJlc291cmNlcyBmcm9tIEFic3RyYWN0U291bmRJbnN0YW5jZS4gIE5vdGUgdGhpcyBpcyBpcnJldmVyc2libGUgYW5kIEFic3RyYWN0U291bmRJbnN0YW5jZSB3aWxsIG5vIGxvbmdlciB3b3JrXG5cdCAqIEBtZXRob2QgZGVzdHJveVxuXHQgKiBAc2luY2UgMC42LjBcblx0ICovXG5cdHAuZGVzdHJveSA9IGZ1bmN0aW9uKCkge1xuXHRcdHRoaXMuX2NsZWFuVXAoKTtcblx0XHR0aGlzLnNyYyA9IG51bGw7XG5cdFx0dGhpcy5wbGF5YmFja1Jlc291cmNlID0gbnVsbDtcblxuXHRcdHRoaXMucmVtb3ZlQWxsRXZlbnRMaXN0ZW5lcnMoKTtcblx0fTtcblxuXHQvKipcblx0ICogVGFrZXMgYW4gUGxheVByb3BzQ29uZmlnIG9yIE9iamVjdCB3aXRoIHRoZSBzYW1lIHByb3BlcnRpZXMgYW5kIHNldHMgdGhlbSBvbiB0aGlzIGluc3RhbmNlLlxuXHQgKiBAbWV0aG9kIGFwcGx5UGxheVByb3BzXG5cdCAqIEBwYXJhbSB7UGxheVByb3BzQ29uZmlnIHwgT2JqZWN0fSBwbGF5UHJvcHMgQSBQbGF5UHJvcHNDb25maWcgb3Igb2JqZWN0IGNvbnRhaW5pbmcgdGhlIHNhbWUgcHJvcGVydGllcy5cblx0ICogQHNpbmNlIDAuNi4xXG5cdCAqIEByZXR1cm4ge0Fic3RyYWN0U291bmRJbnN0YW5jZX0gQSByZWZlcmVuY2UgdG8gaXRzZWxmLCBpbnRlbmRlZCBmb3IgY2hhaW5pbmcgY2FsbHMuXG5cdCAqL1xuXHRwLmFwcGx5UGxheVByb3BzID0gZnVuY3Rpb24ocGxheVByb3BzKSB7XG5cdFx0aWYgKHBsYXlQcm9wcy5vZmZzZXQgIT0gbnVsbCkgeyB0aGlzLl9zZXRQb3NpdGlvbihwbGF5UHJvcHMub2Zmc2V0KSB9XG5cdFx0aWYgKHBsYXlQcm9wcy5sb29wICE9IG51bGwpIHsgdGhpcy5fc2V0TG9vcChwbGF5UHJvcHMubG9vcCk7IH1cblx0XHRpZiAocGxheVByb3BzLnZvbHVtZSAhPSBudWxsKSB7IHRoaXMuX3NldFZvbHVtZShwbGF5UHJvcHMudm9sdW1lKTsgfVxuXHRcdGlmIChwbGF5UHJvcHMucGFuICE9IG51bGwpIHsgdGhpcy5fc2V0UGFuKHBsYXlQcm9wcy5wYW4pOyB9XG5cdFx0aWYgKHBsYXlQcm9wcy5zdGFydFRpbWUgIT0gbnVsbCkge1xuXHRcdFx0dGhpcy5fc2V0U3RhcnRUaW1lKHBsYXlQcm9wcy5zdGFydFRpbWUpO1xuXHRcdFx0dGhpcy5fc2V0RHVyYXRpb24ocGxheVByb3BzLmR1cmF0aW9uKTtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH07XG5cblx0cC50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcblx0XHRyZXR1cm4gXCJbQWJzdHJhY3RTb3VuZEluc3RhbmNlXVwiO1xuXHR9O1xuXG4vLyBnZXQvc2V0IG1ldGhvZHMgdGhhdCBhbGxvdyBzdXBwb3J0IGZvciBJRThcblx0LyoqXG5cdCAqIFBsZWFzZSB1c2Uge3sjY3Jvc3NMaW5rIFwiQWJzdHJhY3RTb3VuZEluc3RhbmNlL3BhdXNlZDpwcm9wZXJ0eVwifX17ey9jcm9zc0xpbmt9fSBkaXJlY3RseSBhcyBhIHByb3BlcnR5LlxuXHQgKiBAbWV0aG9kIF9nZXRQYXVzZWRcblx0ICogQHByb3RlY3RlZFxuXHQgKiBAcmV0dXJuIHtib29sZWFufSBJZiB0aGUgaW5zdGFuY2UgaXMgY3VycmVudGx5IHBhdXNlZFxuXHQgKiBAc2luY2UgMC42LjBcblx0ICovXG5cdHAuX2dldFBhdXNlZCA9IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLl9wYXVzZWQ7XG5cdH07XG5cblx0LyoqXG5cdCAqIFBsZWFzZSB1c2Uge3sjY3Jvc3NMaW5rIFwiQWJzdHJhY3RTb3VuZEluc3RhbmNlL3BhdXNlZDpwcm9wZXJ0eVwifX17ey9jcm9zc0xpbmt9fSBkaXJlY3RseSBhcyBhIHByb3BlcnR5XG5cdCAqIEBtZXRob2QgX3NldFBhdXNlZFxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqIEBwYXJhbSB7Ym9vbGVhbn0gdmFsdWVcblx0ICogQHNpbmNlIDAuNi4wXG5cdCAqIEByZXR1cm4ge0Fic3RyYWN0U291bmRJbnN0YW5jZX0gQSByZWZlcmVuY2UgdG8gaXRzZWxmLCBpbnRlbmRlZCBmb3IgY2hhaW5pbmcgY2FsbHMuXG5cdCAqL1xuXHRwLl9zZXRQYXVzZWQgPSBmdW5jdGlvbiAodmFsdWUpIHtcblx0XHRpZiAoKHZhbHVlICE9PSB0cnVlICYmIHZhbHVlICE9PSBmYWxzZSkgfHwgdGhpcy5fcGF1c2VkID09IHZhbHVlKSB7cmV0dXJuO31cblx0XHRpZiAodmFsdWUgPT0gdHJ1ZSAmJiB0aGlzLnBsYXlTdGF0ZSAhPSBjcmVhdGVqcy5Tb3VuZC5QTEFZX1NVQ0NFRURFRCkge3JldHVybjt9XG5cdFx0dGhpcy5fcGF1c2VkID0gdmFsdWU7XG5cdFx0aWYodmFsdWUpIHtcblx0XHRcdHRoaXMuX3BhdXNlKCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMuX3Jlc3VtZSgpO1xuXHRcdH1cblx0XHRjbGVhclRpbWVvdXQodGhpcy5kZWxheVRpbWVvdXRJZCk7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH07XG5cblx0LyoqXG5cdCAqIFBsZWFzZSB1c2Uge3sjY3Jvc3NMaW5rIFwiQWJzdHJhY3RTb3VuZEluc3RhbmNlL3ZvbHVtZTpwcm9wZXJ0eVwifX17ey9jcm9zc0xpbmt9fSBkaXJlY3RseSBhcyBhIHByb3BlcnR5XG5cdCAqIEBtZXRob2QgX3NldFZvbHVtZVxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB2YWx1ZSBUaGUgdm9sdW1lIHRvIHNldCwgYmV0d2VlbiAwIGFuZCAxLlxuXHQgKiBAcmV0dXJuIHtBYnN0cmFjdFNvdW5kSW5zdGFuY2V9IEEgcmVmZXJlbmNlIHRvIGl0c2VsZiwgaW50ZW5kZWQgZm9yIGNoYWluaW5nIGNhbGxzLlxuXHQgKi9cblx0cC5fc2V0Vm9sdW1lID0gZnVuY3Rpb24gKHZhbHVlKSB7XG5cdFx0aWYgKHZhbHVlID09IHRoaXMuX3ZvbHVtZSkgeyByZXR1cm4gdGhpczsgfVxuXHRcdHRoaXMuX3ZvbHVtZSA9IE1hdGgubWF4KDAsIE1hdGgubWluKDEsIHZhbHVlKSk7XG5cdFx0aWYgKCF0aGlzLl9tdXRlZCkge1xuXHRcdFx0dGhpcy5fdXBkYXRlVm9sdW1lKCk7XG5cdFx0fVxuXHRcdHJldHVybiB0aGlzO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBQbGVhc2UgdXNlIHt7I2Nyb3NzTGluayBcIkFic3RyYWN0U291bmRJbnN0YW5jZS92b2x1bWU6cHJvcGVydHlcIn19e3svY3Jvc3NMaW5rfX0gZGlyZWN0bHkgYXMgYSBwcm9wZXJ0eVxuXHQgKiBAbWV0aG9kIF9nZXRWb2x1bWVcblx0ICogQHByb3RlY3RlZFxuXHQgKiBAcmV0dXJuIHtOdW1iZXJ9IFRoZSBjdXJyZW50IHZvbHVtZSBvZiB0aGUgc291bmQgaW5zdGFuY2UuXG5cdCAqL1xuXHRwLl9nZXRWb2x1bWUgPSBmdW5jdGlvbiAoKSB7XG5cdFx0cmV0dXJuIHRoaXMuX3ZvbHVtZTtcblx0fTtcblxuXHQvKipcblx0ICogUGxlYXNlIHVzZSB7eyNjcm9zc0xpbmsgXCJBYnN0cmFjdFNvdW5kSW5zdGFuY2UvbXV0ZWQ6cHJvcGVydHlcIn19e3svY3Jvc3NMaW5rfX0gZGlyZWN0bHkgYXMgYSBwcm9wZXJ0eVxuXHQgKiBAbWV0aG9kIF9zZXRNdXRlZFxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqIEBwYXJhbSB7Qm9vbGVhbn0gdmFsdWUgSWYgdGhlIHNvdW5kIHNob3VsZCBiZSBtdXRlZC5cblx0ICogQHJldHVybiB7QWJzdHJhY3RTb3VuZEluc3RhbmNlfSBBIHJlZmVyZW5jZSB0byBpdHNlbGYsIGludGVuZGVkIGZvciBjaGFpbmluZyBjYWxscy5cblx0ICogQHNpbmNlIDAuNi4wXG5cdCAqL1xuXHRwLl9zZXRNdXRlZCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuXHRcdGlmICh2YWx1ZSAhPT0gdHJ1ZSAmJiB2YWx1ZSAhPT0gZmFsc2UpIHtyZXR1cm47fVxuXHRcdHRoaXMuX211dGVkID0gdmFsdWU7XG5cdFx0dGhpcy5fdXBkYXRlVm9sdW1lKCk7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH07XG5cblx0LyoqXG5cdCAqIFBsZWFzZSB1c2Uge3sjY3Jvc3NMaW5rIFwiQWJzdHJhY3RTb3VuZEluc3RhbmNlL211dGVkOnByb3BlcnR5XCJ9fXt7L2Nyb3NzTGlua319IGRpcmVjdGx5IGFzIGEgcHJvcGVydHlcblx0ICogQG1ldGhvZCBfZ2V0TXV0ZWRcblx0ICogQHByb3RlY3RlZFxuXHQgKiBAcmV0dXJuIHtCb29sZWFufSBJZiB0aGUgc291bmQgaXMgbXV0ZWQuXG5cdCAqIEBzaW5jZSAwLjYuMFxuXHQgKi9cblx0cC5fZ2V0TXV0ZWQgPSBmdW5jdGlvbiAoKSB7XG5cdFx0cmV0dXJuIHRoaXMuX211dGVkO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBQbGVhc2UgdXNlIHt7I2Nyb3NzTGluayBcIkFic3RyYWN0U291bmRJbnN0YW5jZS9wYW46cHJvcGVydHlcIn19e3svY3Jvc3NMaW5rfX0gZGlyZWN0bHkgYXMgYSBwcm9wZXJ0eVxuXHQgKiBAbWV0aG9kIF9zZXRQYW5cblx0ICogQHByb3RlY3RlZFxuXHQgKiBAcGFyYW0ge051bWJlcn0gdmFsdWUgVGhlIHBhbiB2YWx1ZSwgYmV0d2VlbiAtMSAobGVmdCkgYW5kIDEgKHJpZ2h0KS5cblx0ICogQHJldHVybiB7QWJzdHJhY3RTb3VuZEluc3RhbmNlfSBSZXR1cm5zIHJlZmVyZW5jZSB0byBpdHNlbGYgZm9yIGNoYWluaW5nIGNhbGxzXG5cdCAqL1xuXHRwLl9zZXRQYW4gPSBmdW5jdGlvbiAodmFsdWUpIHtcblx0XHRpZih2YWx1ZSA9PSB0aGlzLl9wYW4pIHsgcmV0dXJuIHRoaXM7IH1cblx0XHR0aGlzLl9wYW4gPSBNYXRoLm1heCgtMSwgTWF0aC5taW4oMSwgdmFsdWUpKTtcblx0XHR0aGlzLl91cGRhdGVQYW4oKTtcblx0XHRyZXR1cm4gdGhpcztcblx0fTtcblxuXHQvKipcblx0ICogUGxlYXNlIHVzZSB7eyNjcm9zc0xpbmsgXCJBYnN0cmFjdFNvdW5kSW5zdGFuY2UvcGFuOnByb3BlcnR5XCJ9fXt7L2Nyb3NzTGlua319IGRpcmVjdGx5IGFzIGEgcHJvcGVydHlcblx0ICogQG1ldGhvZCBfZ2V0UGFuXG5cdCAqIEBwcm90ZWN0ZWRcblx0ICogQHJldHVybiB7TnVtYmVyfSBUaGUgdmFsdWUgb2YgdGhlIHBhbiwgYmV0d2VlbiAtMSAobGVmdCkgYW5kIDEgKHJpZ2h0KS5cblx0ICovXG5cdHAuX2dldFBhbiA9IGZ1bmN0aW9uICgpIHtcblx0XHRyZXR1cm4gdGhpcy5fcGFuO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBQbGVhc2UgdXNlIHt7I2Nyb3NzTGluayBcIkFic3RyYWN0U291bmRJbnN0YW5jZS9wb3NpdGlvbjpwcm9wZXJ0eVwifX17ey9jcm9zc0xpbmt9fSBkaXJlY3RseSBhcyBhIHByb3BlcnR5XG5cdCAqIEBtZXRob2QgX2dldFBvc2l0aW9uXG5cdCAqIEBwcm90ZWN0ZWRcblx0ICogQHJldHVybiB7TnVtYmVyfSBUaGUgcG9zaXRpb24gb2YgdGhlIHBsYXloZWFkIGluIHRoZSBzb3VuZCwgaW4gbWlsbGlzZWNvbmRzLlxuXHQgKi9cblx0cC5fZ2V0UG9zaXRpb24gPSBmdW5jdGlvbiAoKSB7XG5cdFx0aWYgKCF0aGlzLl9wYXVzZWQgJiYgdGhpcy5wbGF5U3RhdGUgPT0gY3JlYXRlanMuU291bmQuUExBWV9TVUNDRUVERUQpIHtcblx0XHRcdHRoaXMuX3Bvc2l0aW9uID0gdGhpcy5fY2FsY3VsYXRlQ3VycmVudFBvc2l0aW9uKCk7XG5cdFx0fVxuXHRcdHJldHVybiB0aGlzLl9wb3NpdGlvbjtcblx0fTtcblxuXHQvKipcblx0ICogUGxlYXNlIHVzZSB7eyNjcm9zc0xpbmsgXCJBYnN0cmFjdFNvdW5kSW5zdGFuY2UvcG9zaXRpb246cHJvcGVydHlcIn19e3svY3Jvc3NMaW5rfX0gZGlyZWN0bHkgYXMgYSBwcm9wZXJ0eVxuXHQgKiBAbWV0aG9kIF9zZXRQb3NpdGlvblxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB2YWx1ZSBUaGUgcG9zaXRpb24gdG8gcGxhY2UgdGhlIHBsYXloZWFkLCBpbiBtaWxsaXNlY29uZHMuXG5cdCAqIEByZXR1cm4ge0Fic3RyYWN0U291bmRJbnN0YW5jZX0gUmV0dXJucyByZWZlcmVuY2UgdG8gaXRzZWxmIGZvciBjaGFpbmluZyBjYWxsc1xuXHQgKi9cblx0cC5fc2V0UG9zaXRpb24gPSBmdW5jdGlvbiAodmFsdWUpIHtcblx0XHR0aGlzLl9wb3NpdGlvbiA9IE1hdGgubWF4KDAsIHZhbHVlKTtcblx0XHRpZiAodGhpcy5wbGF5U3RhdGUgPT0gY3JlYXRlanMuU291bmQuUExBWV9TVUNDRUVERUQpIHtcblx0XHRcdHRoaXMuX3VwZGF0ZVBvc2l0aW9uKCk7XG5cdFx0fVxuXHRcdHJldHVybiB0aGlzO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBQbGVhc2UgdXNlIHt7I2Nyb3NzTGluayBcIkFic3RyYWN0U291bmRJbnN0YW5jZS9zdGFydFRpbWU6cHJvcGVydHlcIn19e3svY3Jvc3NMaW5rfX0gZGlyZWN0bHkgYXMgYSBwcm9wZXJ0eVxuXHQgKiBAbWV0aG9kIF9nZXRTdGFydFRpbWVcblx0ICogQHByb3RlY3RlZFxuXHQgKiBAcmV0dXJuIHtOdW1iZXJ9IFRoZSBzdGFydFRpbWUgb2YgdGhlIHNvdW5kIGluc3RhbmNlIGluIG1pbGxpc2Vjb25kcy5cblx0ICovXG5cdHAuX2dldFN0YXJ0VGltZSA9IGZ1bmN0aW9uICgpIHtcblx0XHRyZXR1cm4gdGhpcy5fc3RhcnRUaW1lO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBQbGVhc2UgdXNlIHt7I2Nyb3NzTGluayBcIkFic3RyYWN0U291bmRJbnN0YW5jZS9zdGFydFRpbWU6cHJvcGVydHlcIn19e3svY3Jvc3NMaW5rfX0gZGlyZWN0bHkgYXMgYSBwcm9wZXJ0eVxuXHQgKiBAbWV0aG9kIF9zZXRTdGFydFRpbWVcblx0ICogQHByb3RlY3RlZFxuXHQgKiBAcGFyYW0ge251bWJlcn0gdmFsdWUgVGhlIG5ldyBzdGFydFRpbWUgdGltZSBpbiBtaWxsaSBzZWNvbmRzLlxuXHQgKiBAcmV0dXJuIHtBYnN0cmFjdFNvdW5kSW5zdGFuY2V9IFJldHVybnMgcmVmZXJlbmNlIHRvIGl0c2VsZiBmb3IgY2hhaW5pbmcgY2FsbHNcblx0ICovXG5cdHAuX3NldFN0YXJ0VGltZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuXHRcdGlmICh2YWx1ZSA9PSB0aGlzLl9zdGFydFRpbWUpIHsgcmV0dXJuIHRoaXM7IH1cblx0XHR0aGlzLl9zdGFydFRpbWUgPSBNYXRoLm1heCgwLCB2YWx1ZSB8fCAwKTtcblx0XHR0aGlzLl91cGRhdGVTdGFydFRpbWUoKTtcblx0XHRyZXR1cm4gdGhpcztcblx0fTtcblxuXHQvKipcblx0ICogUGxlYXNlIHVzZSB7eyNjcm9zc0xpbmsgXCJBYnN0cmFjdFNvdW5kSW5zdGFuY2UvZHVyYXRpb246cHJvcGVydHlcIn19e3svY3Jvc3NMaW5rfX0gZGlyZWN0bHkgYXMgYSBwcm9wZXJ0eVxuXHQgKiBAbWV0aG9kIF9nZXREdXJhdGlvblxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqIEByZXR1cm4ge051bWJlcn0gVGhlIGR1cmF0aW9uIG9mIHRoZSBzb3VuZCBpbnN0YW5jZSBpbiBtaWxsaXNlY29uZHMuXG5cdCAqL1xuXHRwLl9nZXREdXJhdGlvbiA9IGZ1bmN0aW9uICgpIHtcblx0XHRyZXR1cm4gdGhpcy5fZHVyYXRpb247XG5cdH07XG5cblx0LyoqXG5cdCAqIFBsZWFzZSB1c2Uge3sjY3Jvc3NMaW5rIFwiQWJzdHJhY3RTb3VuZEluc3RhbmNlL2R1cmF0aW9uOnByb3BlcnR5XCJ9fXt7L2Nyb3NzTGlua319IGRpcmVjdGx5IGFzIGEgcHJvcGVydHlcblx0ICogQG1ldGhvZCBfc2V0RHVyYXRpb25cblx0ICogQHByb3RlY3RlZFxuXHQgKiBAcGFyYW0ge251bWJlcn0gdmFsdWUgVGhlIG5ldyBkdXJhdGlvbiB0aW1lIGluIG1pbGxpIHNlY29uZHMuXG5cdCAqIEByZXR1cm4ge0Fic3RyYWN0U291bmRJbnN0YW5jZX0gUmV0dXJucyByZWZlcmVuY2UgdG8gaXRzZWxmIGZvciBjaGFpbmluZyBjYWxsc1xuXHQgKiBAc2luY2UgMC42LjBcblx0ICovXG5cdHAuX3NldER1cmF0aW9uID0gZnVuY3Rpb24gKHZhbHVlKSB7XG5cdFx0aWYgKHZhbHVlID09IHRoaXMuX2R1cmF0aW9uKSB7IHJldHVybiB0aGlzOyB9XG5cdFx0dGhpcy5fZHVyYXRpb24gPSBNYXRoLm1heCgwLCB2YWx1ZSB8fCAwKTtcblx0XHR0aGlzLl91cGRhdGVEdXJhdGlvbigpO1xuXHRcdHJldHVybiB0aGlzO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBQbGVhc2UgdXNlIHt7I2Nyb3NzTGluayBcIkFic3RyYWN0U291bmRJbnN0YW5jZS9wbGF5YmFja1Jlc291cmNlOnByb3BlcnR5XCJ9fXt7L2Nyb3NzTGlua319IGRpcmVjdGx5IGFzIGEgcHJvcGVydHlcblx0ICogQG1ldGhvZCBfc2V0UGxheWJhY2tSZXNvdXJjZVxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSB2YWx1ZSBUaGUgbmV3IHBsYXliYWNrIHJlc291cmNlLlxuXHQgKiBAcmV0dXJuIHtBYnN0cmFjdFNvdW5kSW5zdGFuY2V9IFJldHVybnMgcmVmZXJlbmNlIHRvIGl0c2VsZiBmb3IgY2hhaW5pbmcgY2FsbHNcblx0ICogQHNpbmNlIDAuNi4wXG5cdCAqKi9cblx0cC5fc2V0UGxheWJhY2tSZXNvdXJjZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuXHRcdHRoaXMuX3BsYXliYWNrUmVzb3VyY2UgPSB2YWx1ZTtcblx0XHRpZiAodGhpcy5fZHVyYXRpb24gPT0gMCAmJiB0aGlzLl9wbGF5YmFja1Jlc291cmNlKSB7IHRoaXMuX3NldER1cmF0aW9uRnJvbVNvdXJjZSgpOyB9XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH07XG5cblx0LyoqXG5cdCAqIFBsZWFzZSB1c2Uge3sjY3Jvc3NMaW5rIFwiQWJzdHJhY3RTb3VuZEluc3RhbmNlL3BsYXliYWNrUmVzb3VyY2U6cHJvcGVydHlcIn19e3svY3Jvc3NMaW5rfX0gZGlyZWN0bHkgYXMgYSBwcm9wZXJ0eVxuXHQgKiBAbWV0aG9kIF9nZXRQbGF5YmFja1Jlc291cmNlXG5cdCAqIEBwcm90ZWN0ZWRcblx0ICogQHBhcmFtIHtPYmplY3R9IHZhbHVlIFRoZSBuZXcgcGxheWJhY2sgcmVzb3VyY2UuXG5cdCAqIEByZXR1cm4ge09iamVjdH0gcGxheWJhY2sgcmVzb3VyY2UgdXNlZCBmb3IgcGxheWluZyBhdWRpb1xuXHQgKiBAc2luY2UgMC42LjBcblx0ICoqL1xuXHRwLl9nZXRQbGF5YmFja1Jlc291cmNlID0gZnVuY3Rpb24gKCkge1xuXHRcdHJldHVybiB0aGlzLl9wbGF5YmFja1Jlc291cmNlO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBQbGVhc2UgdXNlIHt7I2Nyb3NzTGluayBcIkFic3RyYWN0U291bmRJbnN0YW5jZS9sb29wOnByb3BlcnR5XCJ9fXt7L2Nyb3NzTGlua319IGRpcmVjdGx5IGFzIGEgcHJvcGVydHlcblx0ICogQG1ldGhvZCBfZ2V0TG9vcFxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqIEByZXR1cm4ge251bWJlcn1cblx0ICogQHNpbmNlIDAuNi4wXG5cdCAqKi9cblx0cC5fZ2V0TG9vcCA9IGZ1bmN0aW9uICgpIHtcblx0XHRyZXR1cm4gdGhpcy5fbG9vcDtcblx0fTtcblxuXHQvKipcblx0ICogUGxlYXNlIHVzZSB7eyNjcm9zc0xpbmsgXCJBYnN0cmFjdFNvdW5kSW5zdGFuY2UvbG9vcDpwcm9wZXJ0eVwifX17ey9jcm9zc0xpbmt9fSBkaXJlY3RseSBhcyBhIHByb3BlcnR5XG5cdCAqIEBtZXRob2QgX3NldExvb3Bcblx0ICogQHByb3RlY3RlZFxuXHQgKiBAcGFyYW0ge251bWJlcn0gdmFsdWUgVGhlIG51bWJlciBvZiB0aW1lcyB0byBsb29wIGFmdGVyIHBsYXkuXG5cdCAqIEBzaW5jZSAwLjYuMFxuXHQgKi9cblx0cC5fc2V0TG9vcCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuXHRcdGlmKHRoaXMuX3BsYXliYWNrUmVzb3VyY2UgIT0gbnVsbCkge1xuXHRcdFx0Ly8gcmVtb3ZlIGxvb3Bpbmdcblx0XHRcdGlmICh0aGlzLl9sb29wICE9IDAgJiYgdmFsdWUgPT0gMCkge1xuXHRcdFx0XHR0aGlzLl9yZW1vdmVMb29waW5nKHZhbHVlKTtcblx0XHRcdH1cblx0XHRcdC8vIGFkZCBsb29waW5nXG5cdFx0XHRlbHNlIGlmICh0aGlzLl9sb29wID09IDAgJiYgdmFsdWUgIT0gMCkge1xuXHRcdFx0XHR0aGlzLl9hZGRMb29waW5nKHZhbHVlKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0dGhpcy5fbG9vcCA9IHZhbHVlO1xuXHR9O1xuXG5cbi8vIFByaXZhdGUgTWV0aG9kczpcblx0LyoqXG5cdCAqIEEgaGVscGVyIG1ldGhvZCB0aGF0IGRpc3BhdGNoZXMgYWxsIGV2ZW50cyBmb3IgQWJzdHJhY3RTb3VuZEluc3RhbmNlLlxuXHQgKiBAbWV0aG9kIF9zZW5kRXZlbnRcblx0ICogQHBhcmFtIHtTdHJpbmd9IHR5cGUgVGhlIGV2ZW50IHR5cGVcblx0ICogQHByb3RlY3RlZFxuXHQgKi9cblx0cC5fc2VuZEV2ZW50ID0gZnVuY3Rpb24gKHR5cGUpIHtcblx0XHR2YXIgZXZlbnQgPSBuZXcgY3JlYXRlanMuRXZlbnQodHlwZSk7XG5cdFx0dGhpcy5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcblx0fTtcblxuXHQvKipcblx0ICogQ2xlYW4gdXAgdGhlIGluc3RhbmNlLiBSZW1vdmUgcmVmZXJlbmNlcyBhbmQgY2xlYW4gdXAgYW55IGFkZGl0aW9uYWwgcHJvcGVydGllcyBzdWNoIGFzIHRpbWVycy5cblx0ICogQG1ldGhvZCBfY2xlYW5VcFxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqL1xuXHRwLl9jbGVhblVwID0gZnVuY3Rpb24gKCkge1xuXHRcdGNsZWFyVGltZW91dCh0aGlzLmRlbGF5VGltZW91dElkKTsgLy8gY2xlYXIgdGltZW91dCB0aGF0IHBsYXlzIGRlbGF5ZWQgc291bmRcblx0XHR0aGlzLl9oYW5kbGVDbGVhblVwKCk7XG5cdFx0dGhpcy5fcGF1c2VkID0gZmFsc2U7XG5cblx0XHRjcmVhdGVqcy5Tb3VuZC5fcGxheUZpbmlzaGVkKHRoaXMpO1x0Ly8gVE9ETyBjaGFuZ2UgdG8gYW4gZXZlbnRcblx0fTtcblxuXHQvKipcblx0ICogVGhlIHNvdW5kIGhhcyBiZWVuIGludGVycnVwdGVkLlxuXHQgKiBAbWV0aG9kIF9pbnRlcnJ1cHRcblx0ICogQHByb3RlY3RlZFxuXHQgKi9cblx0cC5faW50ZXJydXB0ID0gZnVuY3Rpb24gKCkge1xuXHRcdHRoaXMuX2NsZWFuVXAoKTtcblx0XHR0aGlzLnBsYXlTdGF0ZSA9IGNyZWF0ZWpzLlNvdW5kLlBMQVlfSU5URVJSVVBURUQ7XG5cdFx0dGhpcy5fc2VuZEV2ZW50KFwiaW50ZXJydXB0ZWRcIik7XG5cdH07XG5cblx0LyoqXG5cdCAqIENhbGxlZCBieSB0aGUgU291bmQgY2xhc3Mgd2hlbiB0aGUgYXVkaW8gaXMgcmVhZHkgdG8gcGxheSAoZGVsYXkgaGFzIGNvbXBsZXRlZCkuIFN0YXJ0cyBzb3VuZCBwbGF5aW5nIGlmIHRoZVxuXHQgKiBzcmMgaXMgbG9hZGVkLCBvdGhlcndpc2UgcGxheWJhY2sgd2lsbCBmYWlsLlxuXHQgKiBAbWV0aG9kIF9iZWdpblBsYXlpbmdcblx0ICogQHBhcmFtIHtQbGF5UHJvcHNDb25maWd9IHBsYXlQcm9wcyBBIFBsYXlQcm9wc0NvbmZpZyBvYmplY3QuXG5cdCAqIEByZXR1cm4ge0Jvb2xlYW59IElmIHBsYXliYWNrIHN1Y2NlZWRlZC5cblx0ICogQHByb3RlY3RlZFxuXHQgKi9cblx0Ly8gT0pSIEZsYXNoQXVkaW9Tb3VuZEluc3RhbmNlIG92ZXJ3cml0ZXNcblx0cC5fYmVnaW5QbGF5aW5nID0gZnVuY3Rpb24gKHBsYXlQcm9wcykge1xuXHRcdHRoaXMuX3NldFBvc2l0aW9uKHBsYXlQcm9wcy5vZmZzZXQpO1xuXHRcdHRoaXMuX3NldExvb3AocGxheVByb3BzLmxvb3ApO1xuXHRcdHRoaXMuX3NldFZvbHVtZShwbGF5UHJvcHMudm9sdW1lKTtcblx0XHR0aGlzLl9zZXRQYW4ocGxheVByb3BzLnBhbik7XG5cdFx0aWYgKHBsYXlQcm9wcy5zdGFydFRpbWUgIT0gbnVsbCkge1xuXHRcdFx0dGhpcy5fc2V0U3RhcnRUaW1lKHBsYXlQcm9wcy5zdGFydFRpbWUpO1xuXHRcdFx0dGhpcy5fc2V0RHVyYXRpb24ocGxheVByb3BzLmR1cmF0aW9uKTtcblx0XHR9XG5cblx0XHRpZiAodGhpcy5fcGxheWJhY2tSZXNvdXJjZSAhPSBudWxsICYmIHRoaXMuX3Bvc2l0aW9uIDwgdGhpcy5fZHVyYXRpb24pIHtcblx0XHRcdHRoaXMuX3BhdXNlZCA9IGZhbHNlO1xuXHRcdFx0dGhpcy5faGFuZGxlU291bmRSZWFkeSgpO1xuXHRcdFx0dGhpcy5wbGF5U3RhdGUgPSBjcmVhdGVqcy5Tb3VuZC5QTEFZX1NVQ0NFRURFRDtcblx0XHRcdHRoaXMuX3NlbmRFdmVudChcInN1Y2NlZWRlZFwiKTtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLl9wbGF5RmFpbGVkKCk7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXHR9O1xuXG5cdC8qKlxuXHQgKiBQbGF5IGhhcyBmYWlsZWQsIHdoaWNoIGNhbiBoYXBwZW4gZm9yIGEgdmFyaWV0eSBvZiByZWFzb25zLlxuXHQgKiBDbGVhbnMgdXAgaW5zdGFuY2UgYW5kIGRpc3BhdGNoZXMgZmFpbGVkIGV2ZW50XG5cdCAqIEBtZXRob2QgX3BsYXlGYWlsZWRcblx0ICogQHByaXZhdGVcblx0ICovXG5cdHAuX3BsYXlGYWlsZWQgPSBmdW5jdGlvbiAoKSB7XG5cdFx0dGhpcy5fY2xlYW5VcCgpO1xuXHRcdHRoaXMucGxheVN0YXRlID0gY3JlYXRlanMuU291bmQuUExBWV9GQUlMRUQ7XG5cdFx0dGhpcy5fc2VuZEV2ZW50KFwiZmFpbGVkXCIpO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBBdWRpbyBoYXMgZmluaXNoZWQgcGxheWluZy4gTWFudWFsbHkgbG9vcCBpdCBpZiByZXF1aXJlZC5cblx0ICogQG1ldGhvZCBfaGFuZGxlU291bmRDb21wbGV0ZVxuXHQgKiBAcGFyYW0gZXZlbnRcblx0ICogQHByb3RlY3RlZFxuXHQgKi9cblx0cC5faGFuZGxlU291bmRDb21wbGV0ZSA9IGZ1bmN0aW9uIChldmVudCkge1xuXHRcdHRoaXMuX3Bvc2l0aW9uID0gMDsgIC8vIGhhdmUgdG8gc2V0IHRoaXMgYXMgaXQgY2FuIGJlIHNldCBieSBwYXVzZSBkdXJpbmcgcGxheWJhY2tcblxuXHRcdGlmICh0aGlzLl9sb29wICE9IDApIHtcblx0XHRcdHRoaXMuX2xvb3AtLTsgIC8vIE5PVEUgdGhpcyBpbnRyb2R1Y2VzIGEgdGhlb3JldGljYWwgbGltaXQgb24gbG9vcHMgPSBmbG9hdCBtYXggc2l6ZSB4IDIgLSAxXG5cdFx0XHR0aGlzLl9oYW5kbGVMb29wKCk7XG5cdFx0XHR0aGlzLl9zZW5kRXZlbnQoXCJsb29wXCIpO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdHRoaXMuX2NsZWFuVXAoKTtcblx0XHR0aGlzLnBsYXlTdGF0ZSA9IGNyZWF0ZWpzLlNvdW5kLlBMQVlfRklOSVNIRUQ7XG5cdFx0dGhpcy5fc2VuZEV2ZW50KFwiY29tcGxldGVcIik7XG5cdH07XG5cbi8vIFBsdWdpbiBzcGVjaWZpYyBjb2RlXG5cdC8qKlxuXHQgKiBIYW5kbGVzIHN0YXJ0aW5nIHBsYXliYWNrIHdoZW4gdGhlIHNvdW5kIGlzIHJlYWR5IGZvciBwbGF5aW5nLlxuXHQgKiBAbWV0aG9kIF9oYW5kbGVTb3VuZFJlYWR5XG5cdCAqIEBwcm90ZWN0ZWRcbiBcdCAqL1xuXHRwLl9oYW5kbGVTb3VuZFJlYWR5ID0gZnVuY3Rpb24gKCkge1xuXHRcdC8vIHBsdWdpbiBzcGVjaWZpYyBjb2RlXG5cdH07XG5cblx0LyoqXG5cdCAqIEludGVybmFsIGZ1bmN0aW9uIHVzZWQgdG8gdXBkYXRlIHRoZSB2b2x1bWUgYmFzZWQgb24gdGhlIGluc3RhbmNlIHZvbHVtZSwgbWFzdGVyIHZvbHVtZSwgaW5zdGFuY2UgbXV0ZSB2YWx1ZSxcblx0ICogYW5kIG1hc3RlciBtdXRlIHZhbHVlLlxuXHQgKiBAbWV0aG9kIF91cGRhdGVWb2x1bWVcblx0ICogQHByb3RlY3RlZFxuXHQgKi9cblx0cC5fdXBkYXRlVm9sdW1lID0gZnVuY3Rpb24gKCkge1xuXHRcdC8vIHBsdWdpbiBzcGVjaWZpYyBjb2RlXG5cdH07XG5cblx0LyoqXG5cdCAqIEludGVybmFsIGZ1bmN0aW9uIHVzZWQgdG8gdXBkYXRlIHRoZSBwYW5cblx0ICogQG1ldGhvZCBfdXBkYXRlUGFuXG5cdCAqIEBwcm90ZWN0ZWRcblx0ICogQHNpbmNlIDAuNi4wXG5cdCAqL1xuXHRwLl91cGRhdGVQYW4gPSBmdW5jdGlvbiAoKSB7XG5cdFx0Ly8gcGx1Z2luIHNwZWNpZmljIGNvZGVcblx0fTtcblxuXHQvKipcblx0ICogSW50ZXJuYWwgZnVuY3Rpb24gdXNlZCB0byB1cGRhdGUgdGhlIHN0YXJ0VGltZSBvZiB0aGUgYXVkaW8uXG5cdCAqIEBtZXRob2QgX3VwZGF0ZVN0YXJ0VGltZVxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqIEBzaW5jZSAwLjYuMVxuXHQgKi9cblx0cC5fdXBkYXRlU3RhcnRUaW1lID0gZnVuY3Rpb24gKCkge1xuXHRcdC8vIHBsdWdpbiBzcGVjaWZpYyBjb2RlXG5cdH07XG5cblx0LyoqXG5cdCAqIEludGVybmFsIGZ1bmN0aW9uIHVzZWQgdG8gdXBkYXRlIHRoZSBkdXJhdGlvbiBvZiB0aGUgYXVkaW8uXG5cdCAqIEBtZXRob2QgX3VwZGF0ZUR1cmF0aW9uXG5cdCAqIEBwcm90ZWN0ZWRcblx0ICogQHNpbmNlIDAuNi4wXG5cdCAqL1xuXHRwLl91cGRhdGVEdXJhdGlvbiA9IGZ1bmN0aW9uICgpIHtcblx0XHQvLyBwbHVnaW4gc3BlY2lmaWMgY29kZVxuXHR9O1xuXG5cdC8qKlxuXHQgKiBJbnRlcm5hbCBmdW5jdGlvbiB1c2VkIHRvIGdldCB0aGUgZHVyYXRpb24gb2YgdGhlIGF1ZGlvIGZyb20gdGhlIHNvdXJjZSB3ZSdsbCBiZSBwbGF5aW5nLlxuXHQgKiBAbWV0aG9kIF91cGRhdGVEdXJhdGlvblxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqIEBzaW5jZSAwLjYuMFxuXHQgKi9cblx0cC5fc2V0RHVyYXRpb25Gcm9tU291cmNlID0gZnVuY3Rpb24gKCkge1xuXHRcdC8vIHBsdWdpbiBzcGVjaWZpYyBjb2RlXG5cdH07XG5cblx0LyoqXG5cdCAqIEludGVybmFsIGZ1bmN0aW9uIHRoYXQgY2FsY3VsYXRlcyB0aGUgY3VycmVudCBwb3NpdGlvbiBvZiB0aGUgcGxheWhlYWQgYW5kIHNldHMgdGhpcy5fcG9zaXRpb24gdG8gdGhhdCB2YWx1ZVxuXHQgKiBAbWV0aG9kIF9jYWxjdWxhdGVDdXJyZW50UG9zaXRpb25cblx0ICogQHByb3RlY3RlZFxuXHQgKiBAc2luY2UgMC42LjBcblx0ICovXG5cdHAuX2NhbGN1bGF0ZUN1cnJlbnRQb3NpdGlvbiA9IGZ1bmN0aW9uICgpIHtcblx0XHQvLyBwbHVnaW4gc3BlY2lmaWMgY29kZSB0aGF0IHNldHMgdGhpcy5wb3NpdGlvblxuXHR9O1xuXG5cdC8qKlxuXHQgKiBJbnRlcm5hbCBmdW5jdGlvbiB1c2VkIHRvIHVwZGF0ZSB0aGUgcG9zaXRpb24gb2YgdGhlIHBsYXloZWFkLlxuXHQgKiBAbWV0aG9kIF91cGRhdGVQb3NpdGlvblxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqIEBzaW5jZSAwLjYuMFxuXHQgKi9cblx0cC5fdXBkYXRlUG9zaXRpb24gPSBmdW5jdGlvbiAoKSB7XG5cdFx0Ly8gcGx1Z2luIHNwZWNpZmljIGNvZGVcblx0fTtcblxuXHQvKipcblx0ICogSW50ZXJuYWwgZnVuY3Rpb24gY2FsbGVkIHdoZW4gbG9vcGluZyBpcyByZW1vdmVkIGR1cmluZyBwbGF5YmFjay5cblx0ICogQG1ldGhvZCBfcmVtb3ZlTG9vcGluZ1xuXHQgKiBAcGFyYW0ge251bWJlcn0gdmFsdWUgVGhlIG51bWJlciBvZiB0aW1lcyB0byBsb29wIGFmdGVyIHBsYXkuXG5cdCAqIEBwcm90ZWN0ZWRcblx0ICogQHNpbmNlIDAuNi4wXG5cdCAqL1xuXHRwLl9yZW1vdmVMb29waW5nID0gZnVuY3Rpb24gKHZhbHVlKSB7XG5cdFx0Ly8gcGx1Z2luIHNwZWNpZmljIGNvZGVcblx0fTtcblxuXHQvKipcblx0ICogSW50ZXJuYWwgZnVuY3Rpb24gY2FsbGVkIHdoZW4gbG9vcGluZyBpcyBhZGRlZCBkdXJpbmcgcGxheWJhY2suXG5cdCAqIEBtZXRob2QgX2FkZExvb3Bpbmdcblx0ICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlIFRoZSBudW1iZXIgb2YgdGltZXMgdG8gbG9vcCBhZnRlciBwbGF5LlxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqIEBzaW5jZSAwLjYuMFxuXHQgKi9cblx0cC5fYWRkTG9vcGluZyA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuXHRcdC8vIHBsdWdpbiBzcGVjaWZpYyBjb2RlXG5cdH07XG5cblx0LyoqXG5cdCAqIEludGVybmFsIGZ1bmN0aW9uIGNhbGxlZCB3aGVuIHBhdXNpbmcgcGxheWJhY2tcblx0ICogQG1ldGhvZCBfcGF1c2Vcblx0ICogQHByb3RlY3RlZFxuXHQgKiBAc2luY2UgMC42LjBcblx0ICovXG5cdHAuX3BhdXNlID0gZnVuY3Rpb24gKCkge1xuXHRcdC8vIHBsdWdpbiBzcGVjaWZpYyBjb2RlXG5cdH07XG5cblx0LyoqXG5cdCAqIEludGVybmFsIGZ1bmN0aW9uIGNhbGxlZCB3aGVuIHJlc3VtaW5nIHBsYXliYWNrXG5cdCAqIEBtZXRob2QgX3Jlc3VtZVxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqIEBzaW5jZSAwLjYuMFxuXHQgKi9cblx0cC5fcmVzdW1lID0gZnVuY3Rpb24gKCkge1xuXHRcdC8vIHBsdWdpbiBzcGVjaWZpYyBjb2RlXG5cdH07XG5cblx0LyoqXG5cdCAqIEludGVybmFsIGZ1bmN0aW9uIGNhbGxlZCB3aGVuIHN0b3BwaW5nIHBsYXliYWNrXG5cdCAqIEBtZXRob2QgX2hhbmRsZVN0b3Bcblx0ICogQHByb3RlY3RlZFxuXHQgKiBAc2luY2UgMC42LjBcblx0ICovXG5cdHAuX2hhbmRsZVN0b3AgPSBmdW5jdGlvbigpIHtcblx0XHQvLyBwbHVnaW4gc3BlY2lmaWMgY29kZVxuXHR9O1xuXG5cdC8qKlxuXHQgKiBJbnRlcm5hbCBmdW5jdGlvbiBjYWxsZWQgd2hlbiBBYnN0cmFjdFNvdW5kSW5zdGFuY2UgaXMgYmVpbmcgY2xlYW5lZCB1cFxuXHQgKiBAbWV0aG9kIF9oYW5kbGVDbGVhblVwXG5cdCAqIEBwcm90ZWN0ZWRcblx0ICogQHNpbmNlIDAuNi4wXG5cdCAqL1xuXHRwLl9oYW5kbGVDbGVhblVwID0gZnVuY3Rpb24oKSB7XG5cdFx0Ly8gcGx1Z2luIHNwZWNpZmljIGNvZGVcblx0fTtcblxuXHQvKipcblx0ICogSW50ZXJuYWwgZnVuY3Rpb24gY2FsbGVkIHdoZW4gQWJzdHJhY3RTb3VuZEluc3RhbmNlIGhhcyBwbGF5ZWQgdG8gZW5kIGFuZCBpcyBsb29waW5nXG5cdCAqIEBtZXRob2QgX2hhbmRsZUxvb3Bcblx0ICogQHByb3RlY3RlZFxuXHQgKiBAc2luY2UgMC42LjBcblx0ICovXG5cdHAuX2hhbmRsZUxvb3AgPSBmdW5jdGlvbiAoKSB7XG5cdFx0Ly8gcGx1Z2luIHNwZWNpZmljIGNvZGVcblx0fTtcblxuXHRjcmVhdGVqcy5BYnN0cmFjdFNvdW5kSW5zdGFuY2UgPSBjcmVhdGVqcy5wcm9tb3RlKEFic3RyYWN0U291bmRJbnN0YW5jZSwgXCJFdmVudERpc3BhdGNoZXJcIik7XG5cdGNyZWF0ZWpzLkRlZmF1bHRTb3VuZEluc3RhbmNlID0gY3JlYXRlanMuQWJzdHJhY3RTb3VuZEluc3RhbmNlO1x0Ly8gdXNlZCB3aGVuIG5vIHBsdWdpbiBpcyBzdXBwb3J0ZWRcbn0oKSk7XG5cbi8vIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXG4vLyBBYnN0cmFjdFBsdWdpbi5qc1xuLy8jIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyNcblxuKGZ1bmN0aW9uICgpIHtcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cblxuLy8gY29uc3RydWN0b3I6XG4gXHQvKipcblx0ICogQSBkZWZhdWx0IHBsdWdpbiBjbGFzcyB1c2VkIGFzIGEgYmFzZSBmb3IgYWxsIG90aGVyIHBsdWdpbnMuXG5cdCAqIEBjbGFzcyBBYnN0cmFjdFBsdWdpblxuXHQgKiBAY29uc3RydWN0b3Jcblx0ICogQHNpbmNlIDAuNi4wXG5cdCAqL1xuXG5cdHZhciBBYnN0cmFjdFBsdWdpbiA9IGZ1bmN0aW9uICgpIHtcblx0Ly8gcHJpdmF0ZSBwcm9wZXJ0aWVzOlxuXHRcdC8qKlxuXHRcdCAqIFRoZSBjYXBhYmlsaXRpZXMgb2YgdGhlIHBsdWdpbi5cblx0XHQgKiBtZXRob2QgYW5kIGlzIHVzZWQgaW50ZXJuYWxseS5cblx0XHQgKiBAcHJvcGVydHkgX2NhcGFiaWxpdGllc1xuXHRcdCAqIEB0eXBlIHtPYmplY3R9XG5cdFx0ICogQGRlZmF1bHQgbnVsbFxuXHRcdCAqIEBwcm90ZWN0ZWRcblx0XHQgKiBAc3RhdGljXG5cdFx0ICovXG5cdFx0dGhpcy5fY2FwYWJpbGl0aWVzID0gbnVsbDtcblxuXHRcdC8qKlxuXHRcdCAqIE9iamVjdCBoYXNoIGluZGV4ZWQgYnkgdGhlIHNvdXJjZSBVUkkgb2YgYWxsIGNyZWF0ZWQgbG9hZGVycywgdXNlZCB0byBwcm9wZXJseSBkZXN0cm95IHRoZW0gaWYgc291cmNlcyBhcmUgcmVtb3ZlZC5cblx0XHQgKiBAdHlwZSB7T2JqZWN0fVxuXHRcdCAqIEBwcm90ZWN0ZWRcblx0XHQgKi9cblx0XHR0aGlzLl9sb2FkZXJzID0ge307XG5cblx0XHQvKipcblx0XHQgKiBPYmplY3QgaGFzaCBpbmRleGVkIGJ5IHRoZSBzb3VyY2UgVVJJIG9mIGVhY2ggZmlsZSB0byBpbmRpY2F0ZSBpZiBhbiBhdWRpbyBzb3VyY2UgaGFzIGJlZ3VuIGxvYWRpbmcsXG5cdFx0ICogaXMgY3VycmVudGx5IGxvYWRpbmcsIG9yIGhhcyBjb21wbGV0ZWQgbG9hZGluZy4gIENhbiBiZSB1c2VkIHRvIHN0b3JlIG5vbiBib29sZWFuIGRhdGEgYWZ0ZXIgbG9hZGluZ1xuXHRcdCAqIGlzIGNvbXBsZXRlIChmb3IgZXhhbXBsZSBhcnJheUJ1ZmZlcnMgZm9yIHdlYiBhdWRpbykuXG5cdFx0ICogQHByb3BlcnR5IF9hdWRpb1NvdXJjZXNcblx0XHQgKiBAdHlwZSB7T2JqZWN0fVxuXHRcdCAqIEBwcm90ZWN0ZWRcblx0XHQgKi9cblx0XHR0aGlzLl9hdWRpb1NvdXJjZXMgPSB7fTtcblxuXHRcdC8qKlxuXHRcdCAqIE9iamVjdCBoYXNoIGluZGV4ZWQgYnkgdGhlIHNvdXJjZSBVUkkgb2YgYWxsIGNyZWF0ZWQgU291bmRJbnN0YW5jZXMsIHVwZGF0ZXMgdGhlIHBsYXliYWNrUmVzb3VyY2UgaWYgaXQgbG9hZHMgYWZ0ZXIgdGhleSBhcmUgY3JlYXRlZCxcblx0XHQgKiBhbmQgcHJvcGVybHkgZGVzdHJveSB0aGVtIGlmIHNvdXJjZXMgYXJlIHJlbW92ZWRcblx0XHQgKiBAdHlwZSB7T2JqZWN0fVxuXHRcdCAqIEBwcm90ZWN0ZWRcblx0XHQgKi9cblx0XHR0aGlzLl9zb3VuZEluc3RhbmNlcyA9IHt9O1xuXG5cdFx0LyoqXG5cdFx0ICogVGhlIGludGVybmFsIG1hc3RlciB2b2x1bWUgdmFsdWUgb2YgdGhlIHBsdWdpbi5cblx0XHQgKiBAcHJvcGVydHkgX3ZvbHVtZVxuXHRcdCAqIEB0eXBlIHtOdW1iZXJ9XG5cdFx0ICogQGRlZmF1bHQgMVxuXHRcdCAqIEBwcm90ZWN0ZWRcblx0XHQgKi9cblx0XHR0aGlzLl92b2x1bWUgPSAxO1xuXG5cdFx0LyoqXG5cdFx0ICogQSByZWZlcmVuY2UgdG8gYSBsb2FkZXIgY2xhc3MgdXNlZCBieSBhIHBsdWdpbiB0aGF0IG11c3QgYmUgc2V0LlxuXHRcdCAqIEB0eXBlIHtPYmplY3R9XG5cdFx0ICogQHByb3RlY3RlZFxuXHRcdCAqL1xuXHRcdHRoaXMuX2xvYWRlckNsYXNzO1xuXG5cdFx0LyoqXG5cdFx0ICogQSByZWZlcmVuY2UgdG8gYW4gQWJzdHJhY3RTb3VuZEluc3RhbmNlIGNsYXNzIHVzZWQgYnkgYSBwbHVnaW4gdGhhdCBtdXN0IGJlIHNldC5cblx0XHQgKiBAdHlwZSB7T2JqZWN0fVxuXHRcdCAqIEBwcm90ZWN0ZWQ7XG5cdFx0ICovXG5cdFx0dGhpcy5fc291bmRJbnN0YW5jZUNsYXNzO1xuXHR9O1xuXHR2YXIgcCA9IEFic3RyYWN0UGx1Z2luLnByb3RvdHlwZTtcblxuLy8gU3RhdGljIFByb3BlcnRpZXM6XG4vLyBOT1RFIFRIRVNFIFBST1BFUlRJRVMgTkVFRCBUTyBCRSBBRERFRCBUTyBFQUNIIFBMVUdJTlxuXHQvKipcblx0ICogVGhlIGNhcGFiaWxpdGllcyBvZiB0aGUgcGx1Z2luLiBUaGlzIGlzIGdlbmVyYXRlZCB2aWEgdGhlIF9nZW5lcmF0ZUNhcGFiaWxpdGllcyBtZXRob2QgYW5kIGlzIHVzZWQgaW50ZXJuYWxseS5cblx0ICogQHByb3BlcnR5IF9jYXBhYmlsaXRpZXNcblx0ICogQHR5cGUge09iamVjdH1cblx0ICogQGRlZmF1bHQgbnVsbFxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAc3RhdGljXG5cdCAqL1xuXHRBYnN0cmFjdFBsdWdpbi5fY2FwYWJpbGl0aWVzID0gbnVsbDtcblxuXHQvKipcblx0ICogRGV0ZXJtaW5lIGlmIHRoZSBwbHVnaW4gY2FuIGJlIHVzZWQgaW4gdGhlIGN1cnJlbnQgYnJvd3Nlci9PUy5cblx0ICogQG1ldGhvZCBpc1N1cHBvcnRlZFxuXHQgKiBAcmV0dXJuIHtCb29sZWFufSBJZiB0aGUgcGx1Z2luIGNhbiBiZSBpbml0aWFsaXplZC5cblx0ICogQHN0YXRpY1xuXHQgKi9cblx0QWJzdHJhY3RQbHVnaW4uaXNTdXBwb3J0ZWQgPSBmdW5jdGlvbiAoKSB7XG5cdFx0cmV0dXJuIHRydWU7XG5cdH07XG5cblxuLy8gcHVibGljIG1ldGhvZHM6XG5cdC8qKlxuXHQgKiBQcmUtcmVnaXN0ZXIgYSBzb3VuZCBmb3IgcHJlbG9hZGluZyBhbmQgc2V0dXAuIFRoaXMgaXMgY2FsbGVkIGJ5IHt7I2Nyb3NzTGluayBcIlNvdW5kXCJ9fXt7L2Nyb3NzTGlua319LlxuXHQgKiBOb3RlIGFsbCBwbHVnaW5zIHByb3ZpZGUgYSA8Y29kZT5Mb2FkZXI8L2NvZGU+IGluc3RhbmNlLCB3aGljaCA8YSBocmVmPVwiaHR0cDovL3ByZWxvYWRqcy5jb21cIiB0YXJnZXQ9XCJfYmxhbmtcIj5QcmVsb2FkSlM8L2E+XG5cdCAqIGNhbiB1c2UgdG8gYXNzaXN0IHdpdGggcHJlbG9hZGluZy5cblx0ICogQG1ldGhvZCByZWdpc3RlclxuXHQgKiBAcGFyYW0ge1N0cmluZ30gbG9hZEl0ZW0gQW4gT2JqZWN0IGNvbnRhaW5pbmcgdGhlIHNvdXJjZSBvZiB0aGUgYXVkaW9cblx0ICogTm90ZSB0aGF0IG5vdCBldmVyeSBwbHVnaW4gd2lsbCBtYW5hZ2UgdGhpcyB2YWx1ZS5cblx0ICogQHJldHVybiB7T2JqZWN0fSBBIHJlc3VsdCBvYmplY3QsIGNvbnRhaW5pbmcgYSBcInRhZ1wiIGZvciBwcmVsb2FkaW5nIHB1cnBvc2VzLlxuXHQgKi9cblx0cC5yZWdpc3RlciA9IGZ1bmN0aW9uIChsb2FkSXRlbSkge1xuXHRcdHZhciBsb2FkZXIgPSB0aGlzLl9sb2FkZXJzW2xvYWRJdGVtLnNyY107XG5cdFx0aWYobG9hZGVyICYmICFsb2FkZXIuY2FuY2VsZWQpIHtyZXR1cm4gdGhpcy5fbG9hZGVyc1tsb2FkSXRlbS5zcmNdO31cdC8vIGFscmVhZHkgbG9hZGluZy9sb2FkZWQgdGhpcywgc28gZG9uJ3QgbG9hZCB0d2ljZVxuXHRcdC8vIE9KUiBwb3RlbnRpYWwgaXNzdWUgdGhhdCB3ZSB3b24ndCBiZSBmaXJpbmcgbG9hZGVkIGV2ZW50LCBtaWdodCBuZWVkIHRvIHRyaWdnZXIgaWYgdGhpcyBpcyBhbHJlYWR5IGxvYWRlZD9cblx0XHR0aGlzLl9hdWRpb1NvdXJjZXNbbG9hZEl0ZW0uc3JjXSA9IHRydWU7XG5cdFx0dGhpcy5fc291bmRJbnN0YW5jZXNbbG9hZEl0ZW0uc3JjXSA9IFtdO1xuXHRcdGxvYWRlciA9IG5ldyB0aGlzLl9sb2FkZXJDbGFzcyhsb2FkSXRlbSk7XG5cdFx0bG9hZGVyLm9uKFwiY29tcGxldGVcIiwgdGhpcy5faGFuZGxlUHJlbG9hZENvbXBsZXRlLCB0aGlzKTtcblx0XHR0aGlzLl9sb2FkZXJzW2xvYWRJdGVtLnNyY10gPSBsb2FkZXI7XG5cdFx0cmV0dXJuIGxvYWRlcjtcblx0fTtcblxuXHQvLyBub3RlIHNvdW5kIGNhbGxzIHJlZ2lzdGVyIGJlZm9yZSBjYWxsaW5nIHByZWxvYWRcblx0LyoqXG5cdCAqIEludGVybmFsbHkgcHJlbG9hZCBhIHNvdW5kLlxuXHQgKiBAbWV0aG9kIHByZWxvYWRcblx0ICogQHBhcmFtIHtMb2FkZXJ9IGxvYWRlciBUaGUgc291bmQgVVJJIHRvIGxvYWQuXG5cdCAqL1xuXHRwLnByZWxvYWQgPSBmdW5jdGlvbiAobG9hZGVyKSB7XG5cdFx0bG9hZGVyLm9uKFwiZXJyb3JcIiwgdGhpcy5faGFuZGxlUHJlbG9hZEVycm9yLCB0aGlzKTtcblx0XHRsb2FkZXIubG9hZCgpO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBDaGVja3MgaWYgcHJlbG9hZGluZyBoYXMgc3RhcnRlZCBmb3IgYSBzcGVjaWZpYyBzb3VyY2UuIElmIHRoZSBzb3VyY2UgaXMgZm91bmQsIHdlIGNhbiBhc3N1bWUgaXQgaXMgbG9hZGluZyxcblx0ICogb3IgaGFzIGFscmVhZHkgZmluaXNoZWQgbG9hZGluZy5cblx0ICogQG1ldGhvZCBpc1ByZWxvYWRTdGFydGVkXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBzcmMgVGhlIHNvdW5kIFVSSSB0byBjaGVjay5cblx0ICogQHJldHVybiB7Qm9vbGVhbn1cblx0ICovXG5cdHAuaXNQcmVsb2FkU3RhcnRlZCA9IGZ1bmN0aW9uIChzcmMpIHtcblx0XHRyZXR1cm4gKHRoaXMuX2F1ZGlvU291cmNlc1tzcmNdICE9IG51bGwpO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBDaGVja3MgaWYgcHJlbG9hZGluZyBoYXMgZmluaXNoZWQgZm9yIGEgc3BlY2lmaWMgc291cmNlLlxuXHQgKiBAbWV0aG9kIGlzUHJlbG9hZENvbXBsZXRlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBzcmMgVGhlIHNvdW5kIFVSSSB0byBsb2FkLlxuXHQgKiBAcmV0dXJuIHtCb29sZWFufVxuXHQgKi9cblx0cC5pc1ByZWxvYWRDb21wbGV0ZSA9IGZ1bmN0aW9uIChzcmMpIHtcblx0XHRyZXR1cm4gKCEodGhpcy5fYXVkaW9Tb3VyY2VzW3NyY10gPT0gbnVsbCB8fCB0aGlzLl9hdWRpb1NvdXJjZXNbc3JjXSA9PSB0cnVlKSk7XG5cdH07XG5cblx0LyoqXG5cdCAqIFJlbW92ZSBhIHNvdW5kIGFkZGVkIHVzaW5nIHt7I2Nyb3NzTGluayBcIldlYkF1ZGlvUGx1Z2luL3JlZ2lzdGVyXCJ9fXt7L2Nyb3NzTGlua319LiBOb3RlIHRoaXMgZG9lcyBub3QgY2FuY2VsIGEgcHJlbG9hZC5cblx0ICogQG1ldGhvZCByZW1vdmVTb3VuZFxuXHQgKiBAcGFyYW0ge1N0cmluZ30gc3JjIFRoZSBzb3VuZCBVUkkgdG8gdW5sb2FkLlxuXHQgKi9cblx0cC5yZW1vdmVTb3VuZCA9IGZ1bmN0aW9uIChzcmMpIHtcblx0XHRpZiAoIXRoaXMuX3NvdW5kSW5zdGFuY2VzW3NyY10pIHsgcmV0dXJuOyB9XG5cdFx0Zm9yICh2YXIgaSA9IHRoaXMuX3NvdW5kSW5zdGFuY2VzW3NyY10ubGVuZ3RoOyBpLS07ICkge1xuXHRcdFx0dmFyIGl0ZW0gPSB0aGlzLl9zb3VuZEluc3RhbmNlc1tzcmNdW2ldO1xuXHRcdFx0aXRlbS5kZXN0cm95KCk7XG5cdFx0fVxuXHRcdGRlbGV0ZSh0aGlzLl9zb3VuZEluc3RhbmNlc1tzcmNdKTtcblx0XHRkZWxldGUodGhpcy5fYXVkaW9Tb3VyY2VzW3NyY10pO1xuXHRcdGlmKHRoaXMuX2xvYWRlcnNbc3JjXSkgeyB0aGlzLl9sb2FkZXJzW3NyY10uZGVzdHJveSgpOyB9XG5cdFx0ZGVsZXRlKHRoaXMuX2xvYWRlcnNbc3JjXSk7XG5cdH07XG5cblx0LyoqXG5cdCAqIFJlbW92ZSBhbGwgc291bmRzIGFkZGVkIHVzaW5nIHt7I2Nyb3NzTGluayBcIldlYkF1ZGlvUGx1Z2luL3JlZ2lzdGVyXCJ9fXt7L2Nyb3NzTGlua319LiBOb3RlIHRoaXMgZG9lcyBub3QgY2FuY2VsIGEgcHJlbG9hZC5cblx0ICogQG1ldGhvZCByZW1vdmVBbGxTb3VuZHNcblx0ICogQHBhcmFtIHtTdHJpbmd9IHNyYyBUaGUgc291bmQgVVJJIHRvIHVubG9hZC5cblx0ICovXG5cdHAucmVtb3ZlQWxsU291bmRzID0gZnVuY3Rpb24gKCkge1xuXHRcdGZvcih2YXIga2V5IGluIHRoaXMuX2F1ZGlvU291cmNlcykge1xuXHRcdFx0dGhpcy5yZW1vdmVTb3VuZChrZXkpO1xuXHRcdH1cblx0fTtcblxuXHQvKipcblx0ICogQ3JlYXRlIGEgc291bmQgaW5zdGFuY2UuIElmIHRoZSBzb3VuZCBoYXMgbm90IGJlZW4gcHJlbG9hZGVkLCBpdCBpcyBpbnRlcm5hbGx5IHByZWxvYWRlZCBoZXJlLlxuXHQgKiBAbWV0aG9kIGNyZWF0ZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gc3JjIFRoZSBzb3VuZCBzb3VyY2UgdG8gdXNlLlxuXHQgKiBAcGFyYW0ge051bWJlcn0gc3RhcnRUaW1lIEF1ZGlvIHNwcml0ZSBwcm9wZXJ0eSB1c2VkIHRvIGFwcGx5IGFuIG9mZnNldCwgaW4gbWlsbGlzZWNvbmRzLlxuXHQgKiBAcGFyYW0ge051bWJlcn0gZHVyYXRpb24gQXVkaW8gc3ByaXRlIHByb3BlcnR5IHVzZWQgdG8gc2V0IHRoZSB0aW1lIHRoZSBjbGlwIHBsYXlzIGZvciwgaW4gbWlsbGlzZWNvbmRzLlxuXHQgKiBAcmV0dXJuIHtBYnN0cmFjdFNvdW5kSW5zdGFuY2V9IEEgc291bmQgaW5zdGFuY2UgZm9yIHBsYXliYWNrIGFuZCBjb250cm9sLlxuXHQgKi9cblx0cC5jcmVhdGUgPSBmdW5jdGlvbiAoc3JjLCBzdGFydFRpbWUsIGR1cmF0aW9uKSB7XG5cdFx0aWYgKCF0aGlzLmlzUHJlbG9hZFN0YXJ0ZWQoc3JjKSkge1xuXHRcdFx0dGhpcy5wcmVsb2FkKHRoaXMucmVnaXN0ZXIoc3JjKSk7XG5cdFx0fVxuXHRcdHZhciBzaSA9IG5ldyB0aGlzLl9zb3VuZEluc3RhbmNlQ2xhc3Moc3JjLCBzdGFydFRpbWUsIGR1cmF0aW9uLCB0aGlzLl9hdWRpb1NvdXJjZXNbc3JjXSk7XG5cdFx0aWYodGhpcy5fc291bmRJbnN0YW5jZXNbc3JjXSl7XG5cdFx0XHR0aGlzLl9zb3VuZEluc3RhbmNlc1tzcmNdLnB1c2goc2kpO1xuXHRcdH1cblxuXHRcdC8vIFBsdWdpbnMgdGhhdCBkb24ndCBoYXZlIGEgc2V0Vm9sdW1lIHNob3VsZCBpbXBsZW1lbnQgYSBzZXRNYXN0ZXJWb2x1bmUvc2V0TWFzdGVyTXV0ZVxuXHRcdC8vIFNvIHdlIGhhdmUgdG8gY2hlY2sgdGhhdCBoZXJlLlxuXHRcdHNpLnNldE1hc3RlclZvbHVtZSAmJiBzaS5zZXRNYXN0ZXJWb2x1bWUoY3JlYXRlanMuU291bmQudm9sdW1lKTtcblx0XHRzaS5zZXRNYXN0ZXJNdXRlICYmIHNpLnNldE1hc3Rlck11dGUoY3JlYXRlanMuU291bmQubXV0ZWQpO1xuXG5cdFx0cmV0dXJuIHNpO1xuXHR9O1xuXG5cdC8vIGlmIGEgcGx1Z2luIGRvZXMgbm90IHN1cHBvcnQgdm9sdW1lIGFuZCBtdXRlLCBpdCBzaG91bGQgc2V0IHRoZXNlIHRvIG51bGxcblx0LyoqXG5cdCAqIFNldCB0aGUgbWFzdGVyIHZvbHVtZSBvZiB0aGUgcGx1Z2luLCB3aGljaCBhZmZlY3RzIGFsbCBTb3VuZEluc3RhbmNlcy5cblx0ICogQG1ldGhvZCBzZXRWb2x1bWVcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHZhbHVlIFRoZSB2b2x1bWUgdG8gc2V0LCBiZXR3ZWVuIDAgYW5kIDEuXG5cdCAqIEByZXR1cm4ge0Jvb2xlYW59IElmIHRoZSBwbHVnaW4gcHJvY2Vzc2VzIHRoZSBzZXRWb2x1bWUgY2FsbCAodHJ1ZSkuIFRoZSBTb3VuZCBjbGFzcyB3aWxsIGFmZmVjdCBhbGwgdGhlXG5cdCAqIGluc3RhbmNlcyBtYW51YWxseSBvdGhlcndpc2UuXG5cdCAqL1xuXHRwLnNldFZvbHVtZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuXHRcdHRoaXMuX3ZvbHVtZSA9IHZhbHVlO1xuXHRcdHRoaXMuX3VwZGF0ZVZvbHVtZSgpO1xuXHRcdHJldHVybiB0cnVlO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBHZXQgdGhlIG1hc3RlciB2b2x1bWUgb2YgdGhlIHBsdWdpbiwgd2hpY2ggYWZmZWN0cyBhbGwgU291bmRJbnN0YW5jZXMuXG5cdCAqIEBtZXRob2QgZ2V0Vm9sdW1lXG5cdCAqIEByZXR1cm4ge051bWJlcn0gVGhlIHZvbHVtZSBsZXZlbCwgYmV0d2VlbiAwIGFuZCAxLlxuXHQgKi9cblx0cC5nZXRWb2x1bWUgPSBmdW5jdGlvbiAoKSB7XG5cdFx0cmV0dXJuIHRoaXMuX3ZvbHVtZTtcblx0fTtcblxuXHQvKipcblx0ICogTXV0ZSBhbGwgc291bmRzIHZpYSB0aGUgcGx1Z2luLlxuXHQgKiBAbWV0aG9kIHNldE11dGVcblx0ICogQHBhcmFtIHtCb29sZWFufSB2YWx1ZSBJZiBhbGwgc291bmQgc2hvdWxkIGJlIG11dGVkIG9yIG5vdC4gTm90ZSB0aGF0IHBsdWdpbi1sZXZlbCBtdXRpbmcganVzdCBsb29rcyB1cFxuXHQgKiB0aGUgbXV0ZSB2YWx1ZSBvZiBTb3VuZCB7eyNjcm9zc0xpbmsgXCJTb3VuZC9tdXRlZDpwcm9wZXJ0eVwifX17ey9jcm9zc0xpbmt9fSwgc28gdGhpcyBwcm9wZXJ0eSBpcyBub3QgdXNlZCBoZXJlLlxuXHQgKiBAcmV0dXJuIHtCb29sZWFufSBJZiB0aGUgbXV0ZSBjYWxsIHN1Y2NlZWRzLlxuXHQgKi9cblx0cC5zZXRNdXRlID0gZnVuY3Rpb24gKHZhbHVlKSB7XG5cdFx0dGhpcy5fdXBkYXRlVm9sdW1lKCk7XG5cdFx0cmV0dXJuIHRydWU7XG5cdH07XG5cblx0Ly8gcGx1Z2lucyBzaG91bGQgb3ZlcndyaXRlIHRoaXMgbWV0aG9kXG5cdHAudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG5cdFx0cmV0dXJuIFwiW0Fic3RyYWN0UGx1Z2luXVwiO1xuXHR9O1xuXG5cbi8vIHByaXZhdGUgbWV0aG9kczpcblx0LyoqXG5cdCAqIEhhbmRsZXMgaW50ZXJuYWwgcHJlbG9hZCBjb21wbGV0aW9uLlxuXHQgKiBAbWV0aG9kIF9oYW5kbGVQcmVsb2FkQ29tcGxldGVcblx0ICogQHBhcmFtIGV2ZW50XG5cdCAqIEBwcm90ZWN0ZWRcblx0ICovXG5cdHAuX2hhbmRsZVByZWxvYWRDb21wbGV0ZSA9IGZ1bmN0aW9uIChldmVudCkge1xuXHRcdHZhciBzcmMgPSBldmVudC50YXJnZXQuZ2V0SXRlbSgpLnNyYztcblx0XHR0aGlzLl9hdWRpb1NvdXJjZXNbc3JjXSA9IGV2ZW50LnJlc3VsdDtcblx0XHRmb3IgKHZhciBpID0gMCwgbCA9IHRoaXMuX3NvdW5kSW5zdGFuY2VzW3NyY10ubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG5cdFx0XHR2YXIgaXRlbSA9IHRoaXMuX3NvdW5kSW5zdGFuY2VzW3NyY11baV07XG5cdFx0XHRpdGVtLnNldFBsYXliYWNrUmVzb3VyY2UodGhpcy5fYXVkaW9Tb3VyY2VzW3NyY10pO1xuXHRcdFx0Ly8gVG9EbyBjb25zaWRlciBhZGRpbmcgcGxheSBjYWxsIGhlcmUgaWYgcGxheXN0YXRlID09IHBsYXlmYWlsZWRcblx0XHRcdHRoaXMuX3NvdW5kSW5zdGFuY2VzW3NyY10gPSBudWxsO1xuXHRcdH1cblx0fTtcblxuXHQvKipcblx0ICogSGFuZGxlcyBpbnRlcm5hbCBwcmVsb2FkIGVycm9yc1xuXHQgKiBAbWV0aG9kIF9oYW5kbGVQcmVsb2FkRXJyb3Jcblx0ICogQHBhcmFtIGV2ZW50XG5cdCAqIEBwcm90ZWN0ZWRcblx0ICovXG5cdHAuX2hhbmRsZVByZWxvYWRFcnJvciA9IGZ1bmN0aW9uKGV2ZW50KSB7XG5cdFx0Ly9kZWxldGUodGhpcy5fYXVkaW9Tb3VyY2VzW3NyY10pO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBTZXQgdGhlIGdhaW4gdmFsdWUgZm9yIG1hc3RlciBhdWRpby4gU2hvdWxkIG5vdCBiZSBjYWxsZWQgZXh0ZXJuYWxseS5cblx0ICogQG1ldGhvZCBfdXBkYXRlVm9sdW1lXG5cdCAqIEBwcm90ZWN0ZWRcblx0ICovXG5cdHAuX3VwZGF0ZVZvbHVtZSA9IGZ1bmN0aW9uICgpIHtcblx0XHQvLyBQbHVnaW4gU3BlY2lmaWMgY29kZVxuXHR9O1xuXG5cdGNyZWF0ZWpzLkFic3RyYWN0UGx1Z2luID0gQWJzdHJhY3RQbHVnaW47XG59KCkpO1xuXG4vLyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI1xuLy8gV2ViQXVkaW9Mb2FkZXIuanNcbi8vIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXG5cbihmdW5jdGlvbiAoKSB7XG5cdFwidXNlIHN0cmljdFwiO1xuXG5cdC8qKlxuXHQgKiBMb2FkZXIgcHJvdmlkZXMgYSBtZWNoYW5pc20gdG8gcHJlbG9hZCBXZWIgQXVkaW8gY29udGVudCB2aWEgUHJlbG9hZEpTIG9yIGludGVybmFsbHkuIEluc3RhbmNlcyBhcmUgcmV0dXJuZWQgdG9cblx0ICogdGhlIHByZWxvYWRlciwgYW5kIHRoZSBsb2FkIG1ldGhvZCBpcyBjYWxsZWQgd2hlbiB0aGUgYXNzZXQgbmVlZHMgdG8gYmUgcmVxdWVzdGVkLlxuXHQgKlxuXHQgKiBAY2xhc3MgV2ViQXVkaW9Mb2FkZXJcblx0ICogQHBhcmFtIHtTdHJpbmd9IGxvYWRJdGVtIFRoZSBpdGVtIHRvIGJlIGxvYWRlZFxuXHQgKiBAZXh0ZW5kcyBYSFJSZXF1ZXN0XG5cdCAqIEBwcm90ZWN0ZWRcblx0ICovXG5cdGZ1bmN0aW9uIExvYWRlcihsb2FkSXRlbSkge1xuXHRcdHRoaXMuQWJzdHJhY3RMb2FkZXJfY29uc3RydWN0b3IobG9hZEl0ZW0sIHRydWUsIGNyZWF0ZWpzLlR5cGVzLlNPVU5EKTtcblxuXHR9O1xuXHR2YXIgcCA9IGNyZWF0ZWpzLmV4dGVuZChMb2FkZXIsIGNyZWF0ZWpzLkFic3RyYWN0TG9hZGVyKTtcblxuXHQvKipcblx0ICogd2ViIGF1ZGlvIGNvbnRleHQgcmVxdWlyZWQgZm9yIGRlY29kaW5nIGF1ZGlvXG5cdCAqIEBwcm9wZXJ0eSBjb250ZXh0XG5cdCAqIEB0eXBlIHtBdWRpb0NvbnRleHR9XG5cdCAqIEBzdGF0aWNcblx0ICovXG5cdExvYWRlci5jb250ZXh0ID0gbnVsbDtcblxuXG4vLyBwdWJsaWMgbWV0aG9kc1xuXHRwLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuXHRcdHJldHVybiBcIltXZWJBdWRpb0xvYWRlcl1cIjtcblx0fTtcblxuXG4vLyBwcml2YXRlIG1ldGhvZHNcblx0cC5fY3JlYXRlUmVxdWVzdCA9IGZ1bmN0aW9uKCkge1xuXHRcdHRoaXMuX3JlcXVlc3QgPSBuZXcgY3JlYXRlanMuWEhSUmVxdWVzdCh0aGlzLl9pdGVtLCBmYWxzZSk7XG5cdFx0dGhpcy5fcmVxdWVzdC5zZXRSZXNwb25zZVR5cGUoXCJhcnJheWJ1ZmZlclwiKTtcblx0fTtcblxuXHRwLl9zZW5kQ29tcGxldGUgPSBmdW5jdGlvbiAoZXZlbnQpIHtcblx0XHQvLyBPSlIgd2UgbGVhdmUgdGhpcyB3cmFwcGVkIGluIExvYWRlciBiZWNhdXNlIHdlIG5lZWQgdG8gcmVmZXJlbmNlIHNyYyBhbmQgdGhlIGhhbmRsZXIgb25seSByZWNlaXZlcyBhIHNpbmdsZSBhcmd1bWVudCwgdGhlIGRlY29kZWRBdWRpb1xuXHRcdExvYWRlci5jb250ZXh0LmRlY29kZUF1ZGlvRGF0YSh0aGlzLl9yYXdSZXN1bHQsXG5cdCAgICAgICAgIGNyZWF0ZWpzLnByb3h5KHRoaXMuX2hhbmRsZUF1ZGlvRGVjb2RlZCwgdGhpcyksXG5cdCAgICAgICAgIGNyZWF0ZWpzLnByb3h5KHRoaXMuX3NlbmRFcnJvciwgdGhpcykpO1xuXHR9O1xuXG5cblx0LyoqXG5cdCogVGhlIGF1ZGlvIGhhcyBiZWVuIGRlY29kZWQuXG5cdCogQG1ldGhvZCBoYW5kbGVBdWRpb0RlY29kZWRcblx0KiBAcGFyYW0gZGVjb2RlZFxuXHQqIEBwcm90ZWN0ZWRcblx0Ki9cblx0cC5faGFuZGxlQXVkaW9EZWNvZGVkID0gZnVuY3Rpb24gKGRlY29kZWRBdWRpbykge1xuXHRcdHRoaXMuX3Jlc3VsdCA9IGRlY29kZWRBdWRpbztcblx0XHR0aGlzLkFic3RyYWN0TG9hZGVyX19zZW5kQ29tcGxldGUoKTtcblx0fTtcblxuXHRjcmVhdGVqcy5XZWJBdWRpb0xvYWRlciA9IGNyZWF0ZWpzLnByb21vdGUoTG9hZGVyLCBcIkFic3RyYWN0TG9hZGVyXCIpO1xufSgpKTtcblxuLy8jIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyNcbi8vIFdlYkF1ZGlvU291bmRJbnN0YW5jZS5qc1xuLy8jIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyNcblxuLyoqXG4gKiBXZWJBdWRpb1NvdW5kSW5zdGFuY2UgZXh0ZW5kcyB0aGUgYmFzZSBhcGkgb2Yge3sjY3Jvc3NMaW5rIFwiQWJzdHJhY3RTb3VuZEluc3RhbmNlXCJ9fXt7L2Nyb3NzTGlua319IGFuZCBpcyB1c2VkIGJ5XG4gKiB7eyNjcm9zc0xpbmsgXCJXZWJBdWRpb1BsdWdpblwifX17ey9jcm9zc0xpbmt9fS5cbiAqXG4gKiBXZWJBdWRpb1NvdW5kSW5zdGFuY2UgZXhwb3NlcyBhdWRpb05vZGVzIGZvciBhZHZhbmNlZCB1c2Vycy5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gc3JjIFRoZSBwYXRoIHRvIGFuZCBmaWxlIG5hbWUgb2YgdGhlIHNvdW5kLlxuICogQHBhcmFtIHtOdW1iZXJ9IHN0YXJ0VGltZSBBdWRpbyBzcHJpdGUgcHJvcGVydHkgdXNlZCB0byBhcHBseSBhbiBvZmZzZXQsIGluIG1pbGxpc2Vjb25kcy5cbiAqIEBwYXJhbSB7TnVtYmVyfSBkdXJhdGlvbiBBdWRpbyBzcHJpdGUgcHJvcGVydHkgdXNlZCB0byBzZXQgdGhlIHRpbWUgdGhlIGNsaXAgcGxheXMgZm9yLCBpbiBtaWxsaXNlY29uZHMuXG4gKiBAcGFyYW0ge09iamVjdH0gcGxheWJhY2tSZXNvdXJjZSBBbnkgcmVzb3VyY2UgbmVlZGVkIGJ5IHBsdWdpbiB0byBzdXBwb3J0IGF1ZGlvIHBsYXliYWNrLlxuICogQGNsYXNzIFdlYkF1ZGlvU291bmRJbnN0YW5jZVxuICogQGV4dGVuZHMgQWJzdHJhY3RTb3VuZEluc3RhbmNlXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuKGZ1bmN0aW9uICgpIHtcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cblx0ZnVuY3Rpb24gV2ViQXVkaW9Tb3VuZEluc3RhbmNlKHNyYywgc3RhcnRUaW1lLCBkdXJhdGlvbiwgcGxheWJhY2tSZXNvdXJjZSkge1xuXHRcdHRoaXMuQWJzdHJhY3RTb3VuZEluc3RhbmNlX2NvbnN0cnVjdG9yKHNyYywgc3RhcnRUaW1lLCBkdXJhdGlvbiwgcGxheWJhY2tSZXNvdXJjZSk7XG5cblxuLy8gcHVibGljIHByb3BlcnRpZXNcblx0XHQvKipcblx0XHQgKiBOT1RFIHRoaXMgaXMgb25seSBpbnRlbmRlZCBmb3IgdXNlIGJ5IGFkdmFuY2VkIHVzZXJzLlxuXHRcdCAqIDxiciAvPkdhaW5Ob2RlIGZvciBjb250cm9sbGluZyA8Y29kZT5XZWJBdWRpb1NvdW5kSW5zdGFuY2U8L2NvZGU+IHZvbHVtZS4gQ29ubmVjdGVkIHRvIHRoZSB7eyNjcm9zc0xpbmsgXCJXZWJBdWRpb1NvdW5kSW5zdGFuY2UvZGVzdGluYXRpb25Ob2RlOnByb3BlcnR5XCJ9fXt7L2Nyb3NzTGlua319LlxuXHRcdCAqIEBwcm9wZXJ0eSBnYWluTm9kZVxuXHRcdCAqIEB0eXBlIHtBdWRpb0dhaW5Ob2RlfVxuXHRcdCAqIEBzaW5jZSAwLjQuMFxuXHRcdCAqXG5cdFx0ICovXG5cdFx0dGhpcy5nYWluTm9kZSA9IHMuY29udGV4dC5jcmVhdGVHYWluKCk7XG5cblx0XHQvKipcblx0XHQgKiBOT1RFIHRoaXMgaXMgb25seSBpbnRlbmRlZCBmb3IgdXNlIGJ5IGFkdmFuY2VkIHVzZXJzLlxuXHRcdCAqIDxiciAvPkEgcGFuTm9kZSBhbGxvd2luZyBsZWZ0IGFuZCByaWdodCBhdWRpbyBjaGFubmVsIHBhbm5pbmcgb25seS4gQ29ubmVjdGVkIHRvIFdlYkF1ZGlvU291bmRJbnN0YW5jZSB7eyNjcm9zc0xpbmsgXCJXZWJBdWRpb1NvdW5kSW5zdGFuY2UvZ2Fpbk5vZGU6cHJvcGVydHlcIn19e3svY3Jvc3NMaW5rfX0uXG5cdFx0ICogQHByb3BlcnR5IHBhbk5vZGVcblx0XHQgKiBAdHlwZSB7QXVkaW9QYW5uZXJOb2RlfVxuXHRcdCAqIEBzaW5jZSAwLjQuMFxuXHRcdCAqL1xuXHRcdHRoaXMucGFuTm9kZSA9IHMuY29udGV4dC5jcmVhdGVQYW5uZXIoKTtcblx0XHR0aGlzLnBhbk5vZGUucGFubmluZ01vZGVsID0gcy5fcGFubmluZ01vZGVsO1xuXHRcdHRoaXMucGFuTm9kZS5jb25uZWN0KHRoaXMuZ2Fpbk5vZGUpO1xuXHRcdHRoaXMuX3VwZGF0ZVBhbigpO1xuXG5cdFx0LyoqXG5cdFx0ICogTk9URSB0aGlzIGlzIG9ubHkgaW50ZW5kZWQgZm9yIHVzZSBieSBhZHZhbmNlZCB1c2Vycy5cblx0XHQgKiA8YnIgLz5zb3VyY2VOb2RlIGlzIHRoZSBhdWRpbyBzb3VyY2UuIENvbm5lY3RlZCB0byBXZWJBdWRpb1NvdW5kSW5zdGFuY2Uge3sjY3Jvc3NMaW5rIFwiV2ViQXVkaW9Tb3VuZEluc3RhbmNlL3Bhbk5vZGU6cHJvcGVydHlcIn19e3svY3Jvc3NMaW5rfX0uXG5cdFx0ICogQHByb3BlcnR5IHNvdXJjZU5vZGVcblx0XHQgKiBAdHlwZSB7QXVkaW9Ob2RlfVxuXHRcdCAqIEBzaW5jZSAwLjQuMFxuXHRcdCAqXG5cdFx0ICovXG5cdFx0dGhpcy5zb3VyY2VOb2RlID0gbnVsbDtcblxuXG4vLyBwcml2YXRlIHByb3BlcnRpZXNcblx0XHQvKipcblx0XHQgKiBUaW1lb3V0IHRoYXQgaXMgY3JlYXRlZCBpbnRlcm5hbGx5IHRvIGhhbmRsZSBzb3VuZCBwbGF5aW5nIHRvIGNvbXBsZXRpb24uXG5cdFx0ICogU3RvcmVkIHNvIHdlIGNhbiByZW1vdmUgaXQgd2hlbiBzdG9wLCBwYXVzZSwgb3IgY2xlYW51cCBhcmUgY2FsbGVkXG5cdFx0ICogQHByb3BlcnR5IF9zb3VuZENvbXBsZXRlVGltZW91dFxuXHRcdCAqIEB0eXBlIHt0aW1lb3V0VmFyaWFibGV9XG5cdFx0ICogQGRlZmF1bHQgbnVsbFxuXHRcdCAqIEBwcm90ZWN0ZWRcblx0XHQgKiBAc2luY2UgMC40LjBcblx0XHQgKi9cblx0XHR0aGlzLl9zb3VuZENvbXBsZXRlVGltZW91dCA9IG51bGw7XG5cblx0XHQvKipcblx0XHQgKiBOT1RFIHRoaXMgaXMgb25seSBpbnRlbmRlZCBmb3IgdXNlIGJ5IHZlcnkgYWR2YW5jZWQgdXNlcnMuXG5cdFx0ICogX3NvdXJjZU5vZGVOZXh0IGlzIHRoZSBhdWRpbyBzb3VyY2UgZm9yIHRoZSBuZXh0IGxvb3AsIGluc2VydGVkIGluIGEgbG9vayBhaGVhZCBhcHByb2FjaCB0byBhbGxvdyBmb3Igc21vb3RoXG5cdFx0ICogbG9vcGluZy4gQ29ubmVjdGVkIHRvIHt7I2Nyb3NzTGluayBcIldlYkF1ZGlvU291bmRJbnN0YW5jZS9nYWluTm9kZTpwcm9wZXJ0eVwifX17ey9jcm9zc0xpbmt9fS5cblx0XHQgKiBAcHJvcGVydHkgX3NvdXJjZU5vZGVOZXh0XG5cdFx0ICogQHR5cGUge0F1ZGlvTm9kZX1cblx0XHQgKiBAZGVmYXVsdCBudWxsXG5cdFx0ICogQHByb3RlY3RlZFxuXHRcdCAqIEBzaW5jZSAwLjQuMVxuXHRcdCAqXG5cdFx0ICovXG5cdFx0dGhpcy5fc291cmNlTm9kZU5leHQgPSBudWxsO1xuXG5cdFx0LyoqXG5cdFx0ICogVGltZSBhdWRpbyBzdGFydGVkIHBsYXliYWNrLCBpbiBzZWNvbmRzLiBVc2VkIHRvIGhhbmRsZSBzZXQgcG9zaXRpb24sIGdldCBwb3NpdGlvbiwgYW5kIHJlc3VtaW5nIGZyb20gcGF1c2VkLlxuXHRcdCAqIEBwcm9wZXJ0eSBfcGxheWJhY2tTdGFydFRpbWVcblx0XHQgKiBAdHlwZSB7TnVtYmVyfVxuXHRcdCAqIEBkZWZhdWx0IDBcblx0XHQgKiBAcHJvdGVjdGVkXG5cdFx0ICogQHNpbmNlIDAuNC4wXG5cdFx0ICovXG5cdFx0dGhpcy5fcGxheWJhY2tTdGFydFRpbWUgPSAwO1xuXG5cdFx0Ly8gUHJveGllcywgbWFrZSByZW1vdmluZyBsaXN0ZW5lcnMgZWFzaWVyLlxuXHRcdHRoaXMuX2VuZGVkSGFuZGxlciA9IGNyZWF0ZWpzLnByb3h5KHRoaXMuX2hhbmRsZVNvdW5kQ29tcGxldGUsIHRoaXMpO1xuXHR9O1xuXHR2YXIgcCA9IGNyZWF0ZWpzLmV4dGVuZChXZWJBdWRpb1NvdW5kSW5zdGFuY2UsIGNyZWF0ZWpzLkFic3RyYWN0U291bmRJbnN0YW5jZSk7XG5cdHZhciBzID0gV2ViQXVkaW9Tb3VuZEluc3RhbmNlO1xuXG5cdC8qKlxuXHQgKiBOb3RlIHRoaXMgaXMgb25seSBpbnRlbmRlZCBmb3IgdXNlIGJ5IGFkdmFuY2VkIHVzZXJzLlxuXHQgKiA8YnIgLz5BdWRpbyBjb250ZXh0IHVzZWQgdG8gY3JlYXRlIG5vZGVzLiAgVGhpcyBpcyBhbmQgbmVlZHMgdG8gYmUgdGhlIHNhbWUgY29udGV4dCB1c2VkIGJ5IHt7I2Nyb3NzTGluayBcIldlYkF1ZGlvUGx1Z2luXCJ9fXt7L2Nyb3NzTGlua319LlxuICBcdCAqIEBwcm9wZXJ0eSBjb250ZXh0XG5cdCAqIEB0eXBlIHtBdWRpb0NvbnRleHR9XG5cdCAqIEBzdGF0aWNcblx0ICogQHNpbmNlIDAuNi4wXG5cdCAqL1xuXHRzLmNvbnRleHQgPSBudWxsO1xuXG5cdC8qKlxuXHQgKiBOb3RlIHRoaXMgaXMgb25seSBpbnRlbmRlZCBmb3IgdXNlIGJ5IGFkdmFuY2VkIHVzZXJzLlxuXHQgKiA8YnIgLz5UaGUgc2NyYXRjaCBidWZmZXIgdGhhdCB3aWxsIGJlIGFzc2lnbmVkIHRvIHRoZSBidWZmZXIgcHJvcGVydHkgb2YgYSBzb3VyY2Ugbm9kZSBvbiBjbG9zZS4gIFxuXHQgKiBUaGlzIGlzIGFuZCBzaG91bGQgYmUgdGhlIHNhbWUgc2NyYXRjaCBidWZmZXIgcmVmZXJlbmNlZCBieSB7eyNjcm9zc0xpbmsgXCJXZWJBdWRpb1BsdWdpblwifX17ey9jcm9zc0xpbmt9fS5cbiAgXHQgKiBAcHJvcGVydHkgX3NjcmF0Y2hCdWZmZXJcblx0ICogQHR5cGUge0F1ZGlvQnVmZmVyU291cmNlTm9kZX1cblx0ICogQHN0YXRpY1xuXHQgKi9cblx0cy5fc2NyYXRjaEJ1ZmZlciA9IG51bGw7XG5cblx0LyoqXG5cdCAqIE5vdGUgdGhpcyBpcyBvbmx5IGludGVuZGVkIGZvciB1c2UgYnkgYWR2YW5jZWQgdXNlcnMuXG5cdCAqIDxiciAvPiBBdWRpbyBub2RlIGZyb20gV2ViQXVkaW9QbHVnaW4gdGhhdCBzZXF1ZW5jZXMgdG8gPGNvZGU+Y29udGV4dC5kZXN0aW5hdGlvbjwvY29kZT5cblx0ICogQHByb3BlcnR5IGRlc3RpbmF0aW9uTm9kZVxuXHQgKiBAdHlwZSB7QXVkaW9Ob2RlfVxuXHQgKiBAc3RhdGljXG5cdCAqIEBzaW5jZSAwLjYuMFxuXHQgKi9cblx0cy5kZXN0aW5hdGlvbk5vZGUgPSBudWxsO1xuXG5cdC8qKlxuXHQgKiBWYWx1ZSB0byBzZXQgcGFubmluZyBtb2RlbCB0byBlcXVhbCBwb3dlciBmb3IgV2ViQXVkaW9Tb3VuZEluc3RhbmNlLiAgQ2FuIGJlIFwiZXF1YWxwb3dlclwiIG9yIDAgZGVwZW5kaW5nIG9uIGJyb3dzZXIgaW1wbGVtZW50YXRpb24uXG5cdCAqIEBwcm9wZXJ0eSBfcGFubmluZ01vZGVsXG5cdCAqIEB0eXBlIHtOdW1iZXIgLyBTdHJpbmd9XG5cdCAqIEBwcm90ZWN0ZWRcblx0ICogQHN0YXRpY1xuXHQgKiBAc2luY2UgMC42LjBcblx0ICovXG5cdHMuX3Bhbm5pbmdNb2RlbCA9IFwiZXF1YWxwb3dlclwiO1xuXG5cbi8vIFB1YmxpYyBtZXRob2RzXG5cdHAuZGVzdHJveSA9IGZ1bmN0aW9uKCkge1xuXHRcdHRoaXMuQWJzdHJhY3RTb3VuZEluc3RhbmNlX2Rlc3Ryb3koKTtcblxuXHRcdHRoaXMucGFuTm9kZS5kaXNjb25uZWN0KDApO1xuXHRcdHRoaXMucGFuTm9kZSA9IG51bGw7XG5cdFx0dGhpcy5nYWluTm9kZS5kaXNjb25uZWN0KDApO1xuXHRcdHRoaXMuZ2Fpbk5vZGUgPSBudWxsO1xuXHR9O1xuXG5cdHAudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG5cdFx0cmV0dXJuIFwiW1dlYkF1ZGlvU291bmRJbnN0YW5jZV1cIjtcblx0fTtcblxuXG4vLyBQcml2YXRlIE1ldGhvZHNcblx0cC5fdXBkYXRlUGFuID0gZnVuY3Rpb24oKSB7XG5cdFx0dGhpcy5wYW5Ob2RlLnNldFBvc2l0aW9uKHRoaXMuX3BhbiwgMCwgLTAuNSk7XG5cdFx0Ly8geiBuZWVkIHRvIGJlIC0wLjUgb3RoZXJ3aXNlIHRoZSBzb3VuZCBvbmx5IHBsYXlzIGluIGxlZnQsIHJpZ2h0LCBvciBjZW50ZXJcblx0fTtcblxuXHRwLl9yZW1vdmVMb29waW5nID0gZnVuY3Rpb24odmFsdWUpIHtcblx0XHR0aGlzLl9zb3VyY2VOb2RlTmV4dCA9IHRoaXMuX2NsZWFuVXBBdWRpb05vZGUodGhpcy5fc291cmNlTm9kZU5leHQpO1xuXHR9O1xuXG5cdHAuX2FkZExvb3BpbmcgPSBmdW5jdGlvbih2YWx1ZSkge1xuXHRcdGlmICh0aGlzLnBsYXlTdGF0ZSAhPSBjcmVhdGVqcy5Tb3VuZC5QTEFZX1NVQ0NFRURFRCkgeyByZXR1cm47IH1cblx0XHR0aGlzLl9zb3VyY2VOb2RlTmV4dCA9IHRoaXMuX2NyZWF0ZUFuZFBsYXlBdWRpb05vZGUodGhpcy5fcGxheWJhY2tTdGFydFRpbWUsIDApO1xuXHR9O1xuXG5cdHAuX3NldER1cmF0aW9uRnJvbVNvdXJjZSA9IGZ1bmN0aW9uICgpIHtcblx0XHR0aGlzLl9kdXJhdGlvbiA9IHRoaXMucGxheWJhY2tSZXNvdXJjZS5kdXJhdGlvbiAqIDEwMDA7XG5cdH07XG5cblx0cC5faGFuZGxlQ2xlYW5VcCA9IGZ1bmN0aW9uICgpIHtcblx0XHRpZiAodGhpcy5zb3VyY2VOb2RlICYmIHRoaXMucGxheVN0YXRlID09IGNyZWF0ZWpzLlNvdW5kLlBMQVlfU1VDQ0VFREVEKSB7XG5cdFx0XHR0aGlzLnNvdXJjZU5vZGUgPSB0aGlzLl9jbGVhblVwQXVkaW9Ob2RlKHRoaXMuc291cmNlTm9kZSk7XG5cdFx0XHR0aGlzLl9zb3VyY2VOb2RlTmV4dCA9IHRoaXMuX2NsZWFuVXBBdWRpb05vZGUodGhpcy5fc291cmNlTm9kZU5leHQpO1xuXHRcdH1cblxuXHRcdGlmICh0aGlzLmdhaW5Ob2RlLm51bWJlck9mT3V0cHV0cyAhPSAwKSB7dGhpcy5nYWluTm9kZS5kaXNjb25uZWN0KDApO31cblx0XHQvLyBPSlIgdGhlcmUgYXBwZWFycyB0byBiZSBhIGJ1ZyB0aGF0IHRoaXMgZG9lc24ndCBhbHdheXMgd29yayBpbiB3ZWJraXQgKENocm9tZSBhbmQgU2FmYXJpKS4gQWNjb3JkaW5nIHRvIHRoZSBkb2N1bWVudGF0aW9uLCB0aGlzIHNob3VsZCB3b3JrLlxuXG5cdFx0Y2xlYXJUaW1lb3V0KHRoaXMuX3NvdW5kQ29tcGxldGVUaW1lb3V0KTtcblxuXHRcdHRoaXMuX3BsYXliYWNrU3RhcnRUaW1lID0gMDtcdC8vIFRoaXMgaXMgdXNlZCBieSBfZ2V0UG9zaXRpb25cblx0fTtcblxuXHQvKipcblx0ICogVHVybiBvZmYgYW5kIGRpc2Nvbm5lY3QgYW4gYXVkaW9Ob2RlLCB0aGVuIHNldCByZWZlcmVuY2UgdG8gbnVsbCB0byByZWxlYXNlIGl0IGZvciBnYXJiYWdlIGNvbGxlY3Rpb25cblx0ICogQG1ldGhvZCBfY2xlYW5VcEF1ZGlvTm9kZVxuXHQgKiBAcGFyYW0gYXVkaW9Ob2RlXG5cdCAqIEByZXR1cm4ge2F1ZGlvTm9kZX1cblx0ICogQHByb3RlY3RlZFxuXHQgKiBAc2luY2UgMC40LjFcblx0ICovXG5cdHAuX2NsZWFuVXBBdWRpb05vZGUgPSBmdW5jdGlvbihhdWRpb05vZGUpIHtcblx0XHRpZihhdWRpb05vZGUpIHtcblx0XHRcdGF1ZGlvTm9kZS5zdG9wKDApO1xuXHRcdFx0YXVkaW9Ob2RlLmRpc2Nvbm5lY3QoMCk7XG5cdFx0XHQvLyBuZWNlc3NhcnkgdG8gcHJldmVudCBsZWFrIG9uIGlPUyBTYWZhcmkgNy05LiB3aWxsIHRocm93IGluIGFsbW9zdCBhbGwgb3RoZXJcblx0XHRcdC8vIGJyb3dzZXIgaW1wbGVtZW50YXRpb25zLlxuXHRcdFx0aWYgKCBjcmVhdGVqcy5Ccm93c2VyRGV0ZWN0LmlzSU9TICkge1xuXHRcdFx0XHR0cnkgeyBhdWRpb05vZGUuYnVmZmVyID0gcy5fc2NyYXRjaEJ1ZmZlcjsgfSBjYXRjaChlKSB7fVxuXHRcdFx0fVxuXHRcdFx0YXVkaW9Ob2RlID0gbnVsbDtcblx0XHR9XG5cdFx0cmV0dXJuIGF1ZGlvTm9kZTtcblx0fTtcblxuXHRwLl9oYW5kbGVTb3VuZFJlYWR5ID0gZnVuY3Rpb24gKGV2ZW50KSB7XG5cdFx0dGhpcy5nYWluTm9kZS5jb25uZWN0KHMuZGVzdGluYXRpb25Ob2RlKTsgIC8vIHRoaXMgbGluZSBjYW4gY2F1c2UgYSBtZW1vcnkgbGVhay4gIE5vZGVzIG5lZWQgdG8gYmUgZGlzY29ubmVjdGVkIGZyb20gdGhlIGF1ZGlvRGVzdGluYXRpb24gb3IgYW55IHNlcXVlbmNlIHRoYXQgbGVhZHMgdG8gaXQuXG5cblx0XHR2YXIgZHVyID0gdGhpcy5fZHVyYXRpb24gKiAwLjAwMSxcblx0XHRcdHBvcyA9IE1hdGgubWluKE1hdGgubWF4KDAsIHRoaXMuX3Bvc2l0aW9uKSAqIDAuMDAxLCBkdXIpO1xuXHRcdHRoaXMuc291cmNlTm9kZSA9IHRoaXMuX2NyZWF0ZUFuZFBsYXlBdWRpb05vZGUoKHMuY29udGV4dC5jdXJyZW50VGltZSAtIGR1ciksIHBvcyk7XG5cdFx0dGhpcy5fcGxheWJhY2tTdGFydFRpbWUgPSB0aGlzLnNvdXJjZU5vZGUuc3RhcnRUaW1lIC0gcG9zO1xuXG5cdFx0dGhpcy5fc291bmRDb21wbGV0ZVRpbWVvdXQgPSBzZXRUaW1lb3V0KHRoaXMuX2VuZGVkSGFuZGxlciwgKGR1ciAtIHBvcykgKiAxMDAwKTtcblxuXHRcdGlmKHRoaXMuX2xvb3AgIT0gMCkge1xuXHRcdFx0dGhpcy5fc291cmNlTm9kZU5leHQgPSB0aGlzLl9jcmVhdGVBbmRQbGF5QXVkaW9Ob2RlKHRoaXMuX3BsYXliYWNrU3RhcnRUaW1lLCAwKTtcblx0XHR9XG5cdH07XG5cblx0LyoqXG5cdCAqIENyZWF0ZXMgYW4gYXVkaW8gbm9kZSB1c2luZyB0aGUgY3VycmVudCBzcmMgYW5kIGNvbnRleHQsIGNvbm5lY3RzIGl0IHRvIHRoZSBnYWluIG5vZGUsIGFuZCBzdGFydHMgcGxheWJhY2suXG5cdCAqIEBtZXRob2QgX2NyZWF0ZUFuZFBsYXlBdWRpb05vZGVcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHN0YXJ0VGltZSBUaGUgdGltZSB0byBhZGQgdGhpcyB0byB0aGUgd2ViIGF1ZGlvIGNvbnRleHQsIGluIHNlY29uZHMuXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBvZmZzZXQgVGhlIGFtb3VudCBvZiB0aW1lIGludG8gdGhlIHNyYyBhdWRpbyB0byBzdGFydCBwbGF5YmFjaywgaW4gc2Vjb25kcy5cblx0ICogQHJldHVybiB7YXVkaW9Ob2RlfVxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqIEBzaW5jZSAwLjQuMVxuXHQgKi9cblx0cC5fY3JlYXRlQW5kUGxheUF1ZGlvTm9kZSA9IGZ1bmN0aW9uKHN0YXJ0VGltZSwgb2Zmc2V0KSB7XG5cdFx0dmFyIGF1ZGlvTm9kZSA9IHMuY29udGV4dC5jcmVhdGVCdWZmZXJTb3VyY2UoKTtcblx0XHRhdWRpb05vZGUuYnVmZmVyID0gdGhpcy5wbGF5YmFja1Jlc291cmNlO1xuXHRcdGF1ZGlvTm9kZS5jb25uZWN0KHRoaXMucGFuTm9kZSk7XG5cdFx0dmFyIGR1ciA9IHRoaXMuX2R1cmF0aW9uICogMC4wMDE7XG5cdFx0YXVkaW9Ob2RlLnN0YXJ0VGltZSA9IHN0YXJ0VGltZSArIGR1cjtcblx0XHRhdWRpb05vZGUuc3RhcnQoYXVkaW9Ob2RlLnN0YXJ0VGltZSwgb2Zmc2V0Kyh0aGlzLl9zdGFydFRpbWUqMC4wMDEpLCBkdXIgLSBvZmZzZXQpO1xuXHRcdHJldHVybiBhdWRpb05vZGU7XG5cdH07XG5cblx0cC5fcGF1c2UgPSBmdW5jdGlvbiAoKSB7XG5cdFx0dGhpcy5fcG9zaXRpb24gPSAocy5jb250ZXh0LmN1cnJlbnRUaW1lIC0gdGhpcy5fcGxheWJhY2tTdGFydFRpbWUpICogMTAwMDsgIC8vICogMTAwMCB0byBnaXZlIG1pbGxpc2Vjb25kcywgbGV0cyB1cyByZXN0YXJ0IGF0IHNhbWUgcG9pbnRcblx0XHR0aGlzLnNvdXJjZU5vZGUgPSB0aGlzLl9jbGVhblVwQXVkaW9Ob2RlKHRoaXMuc291cmNlTm9kZSk7XG5cdFx0dGhpcy5fc291cmNlTm9kZU5leHQgPSB0aGlzLl9jbGVhblVwQXVkaW9Ob2RlKHRoaXMuX3NvdXJjZU5vZGVOZXh0KTtcblxuXHRcdGlmICh0aGlzLmdhaW5Ob2RlLm51bWJlck9mT3V0cHV0cyAhPSAwKSB7dGhpcy5nYWluTm9kZS5kaXNjb25uZWN0KDApO31cblxuXHRcdGNsZWFyVGltZW91dCh0aGlzLl9zb3VuZENvbXBsZXRlVGltZW91dCk7XG5cdH07XG5cblx0cC5fcmVzdW1lID0gZnVuY3Rpb24gKCkge1xuXHRcdHRoaXMuX2hhbmRsZVNvdW5kUmVhZHkoKTtcblx0fTtcblxuXHQvKlxuXHRwLl9oYW5kbGVTdG9wID0gZnVuY3Rpb24gKCkge1xuXHRcdC8vIHdlYiBhdWRpbyBkb2VzIG5vdCBuZWVkIHRvIGRvIGFueXRoaW5nIGV4dHJhXG5cdH07XG5cdCovXG5cblx0cC5fdXBkYXRlVm9sdW1lID0gZnVuY3Rpb24gKCkge1xuXHRcdHZhciBuZXdWb2x1bWUgPSB0aGlzLl9tdXRlZCA/IDAgOiB0aGlzLl92b2x1bWU7XG5cdCAgXHRpZiAobmV3Vm9sdW1lICE9IHRoaXMuZ2Fpbk5vZGUuZ2Fpbi52YWx1ZSkge1xuXHRcdCAgdGhpcy5nYWluTm9kZS5nYWluLnZhbHVlID0gbmV3Vm9sdW1lO1xuICBcdFx0fVxuXHR9O1xuXG5cdHAuX2NhbGN1bGF0ZUN1cnJlbnRQb3NpdGlvbiA9IGZ1bmN0aW9uICgpIHtcblx0XHRyZXR1cm4gKChzLmNvbnRleHQuY3VycmVudFRpbWUgLSB0aGlzLl9wbGF5YmFja1N0YXJ0VGltZSkgKiAxMDAwKTsgLy8gcG9zIGluIHNlY29uZHMgKiAxMDAwIHRvIGdpdmUgbWlsbGlzZWNvbmRzXG5cdH07XG5cblx0cC5fdXBkYXRlUG9zaXRpb24gPSBmdW5jdGlvbiAoKSB7XG5cdFx0dGhpcy5zb3VyY2VOb2RlID0gdGhpcy5fY2xlYW5VcEF1ZGlvTm9kZSh0aGlzLnNvdXJjZU5vZGUpO1xuXHRcdHRoaXMuX3NvdXJjZU5vZGVOZXh0ID0gdGhpcy5fY2xlYW5VcEF1ZGlvTm9kZSh0aGlzLl9zb3VyY2VOb2RlTmV4dCk7XG5cdFx0Y2xlYXJUaW1lb3V0KHRoaXMuX3NvdW5kQ29tcGxldGVUaW1lb3V0KTtcblxuXHRcdGlmICghdGhpcy5fcGF1c2VkKSB7dGhpcy5faGFuZGxlU291bmRSZWFkeSgpO31cblx0fTtcblxuXHQvLyBPSlIgd2UgYXJlIHVzaW5nIGEgbG9vayBhaGVhZCBhcHByb2FjaCB0byBlbnN1cmUgc21vb3RoIGxvb3BpbmcuXG5cdC8vIFdlIGFkZCBfc291cmNlTm9kZU5leHQgdG8gdGhlIGF1ZGlvIGNvbnRleHQgc28gdGhhdCBpdCBzdGFydHMgcGxheWluZyBldmVuIGlmIHRoaXMgY2FsbGJhY2sgaXMgZGVsYXllZC5cblx0Ly8gVGhpcyB0ZWNobmlxdWUgaXMgZGVzY3JpYmVkIGhlcmU6ICBodHRwOi8vd3d3Lmh0bWw1cm9ja3MuY29tL2VuL3R1dG9yaWFscy9hdWRpby9zY2hlZHVsaW5nL1xuXHQvLyBOT1RFIHRoZSBjb3N0IG9mIHRoaXMgaXMgdGhhdCBvdXIgYXVkaW8gbG9vcCBtYXkgbm90IGFsd2F5cyBtYXRjaCB0aGUgbG9vcCBldmVudCB0aW1pbmcgcHJlY2lzZWx5LlxuXHRwLl9oYW5kbGVMb29wID0gZnVuY3Rpb24gKCkge1xuXHRcdHRoaXMuX2NsZWFuVXBBdWRpb05vZGUodGhpcy5zb3VyY2VOb2RlKTtcblx0XHR0aGlzLnNvdXJjZU5vZGUgPSB0aGlzLl9zb3VyY2VOb2RlTmV4dDtcblx0XHR0aGlzLl9wbGF5YmFja1N0YXJ0VGltZSA9IHRoaXMuc291cmNlTm9kZS5zdGFydFRpbWU7XG5cdFx0dGhpcy5fc291cmNlTm9kZU5leHQgPSB0aGlzLl9jcmVhdGVBbmRQbGF5QXVkaW9Ob2RlKHRoaXMuX3BsYXliYWNrU3RhcnRUaW1lLCAwKTtcblx0XHR0aGlzLl9zb3VuZENvbXBsZXRlVGltZW91dCA9IHNldFRpbWVvdXQodGhpcy5fZW5kZWRIYW5kbGVyLCB0aGlzLl9kdXJhdGlvbik7XG5cdH07XG5cblx0cC5fdXBkYXRlRHVyYXRpb24gPSBmdW5jdGlvbiAoKSB7XG5cdFx0aWYodGhpcy5wbGF5U3RhdGUgPT0gY3JlYXRlanMuU291bmQuUExBWV9TVUNDRUVERUQpIHtcblx0XHRcdHRoaXMuX3BhdXNlKCk7XG5cdFx0XHR0aGlzLl9yZXN1bWUoKTtcblx0XHR9XG5cdH07XG5cblx0Y3JlYXRlanMuV2ViQXVkaW9Tb3VuZEluc3RhbmNlID0gY3JlYXRlanMucHJvbW90ZShXZWJBdWRpb1NvdW5kSW5zdGFuY2UsIFwiQWJzdHJhY3RTb3VuZEluc3RhbmNlXCIpO1xufSgpKTtcblxuLy8jIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyNcbi8vIFdlYkF1ZGlvUGx1Z2luLmpzXG4vLyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI1xuXG4oZnVuY3Rpb24gKCkge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXG5cdC8qKlxuXHQgKiBQbGF5IHNvdW5kcyB1c2luZyBXZWIgQXVkaW8gaW4gdGhlIGJyb3dzZXIuIFRoZSBXZWJBdWRpb1BsdWdpbiBpcyBjdXJyZW50bHkgdGhlIGRlZmF1bHQgcGx1Z2luLCBhbmQgd2lsbCBiZSB1c2VkXG5cdCAqIGFueXdoZXJlIHRoYXQgaXQgaXMgc3VwcG9ydGVkLiBUbyBjaGFuZ2UgcGx1Z2luIHByaW9yaXR5LCBjaGVjayBvdXQgdGhlIFNvdW5kIEFQSVxuXHQgKiB7eyNjcm9zc0xpbmsgXCJTb3VuZC9yZWdpc3RlclBsdWdpbnNcIn19e3svY3Jvc3NMaW5rfX0gbWV0aG9kLlxuXG5cdCAqIDxoND5Lbm93biBCcm93c2VyIGFuZCBPUyBpc3N1ZXMgZm9yIFdlYiBBdWRpbzwvaDQ+XG5cdCAqIDxiPkZpcmVmb3ggMjU8L2I+XG5cdCAqIDxsaT5cblx0ICogICAgIG1wMyBhdWRpbyBmaWxlcyBkbyBub3QgbG9hZCBwcm9wZXJseSBvbiBhbGwgd2luZG93cyBtYWNoaW5lcywgcmVwb3J0ZWQgPGEgaHJlZj1cImh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTkyOTk2OVwiIHRhcmdldD1cIl9ibGFua1wiPmhlcmU8L2E+LlxuXHQgKiAgICAgPGJyIC8+Rm9yIHRoaXMgcmVhc29uIGl0IGlzIHJlY29tbWVuZGVkIHRvIHBhc3MgYW5vdGhlciBGaXJlRm94LXN1cHBvcnRlZCB0eXBlIChpLmUuIG9nZykgYXMgdGhlIGRlZmF1bHRcblx0ICogICAgIGV4dGVuc2lvbiwgdW50aWwgdGhpcyBidWcgaXMgcmVzb2x2ZWRcblx0ICogPC9saT5cblx0ICpcblx0ICogPGI+V2Via2l0IChDaHJvbWUgYW5kIFNhZmFyaSk8L2I+XG5cdCAqIDxsaT5cblx0ICogICAgIEF1ZGlvTm9kZS5kaXNjb25uZWN0IGRvZXMgbm90IGFsd2F5cyBzZWVtIHRvIHdvcmsuICBUaGlzIGNhbiBjYXVzZSB0aGUgZmlsZSBzaXplIHRvIGdyb3cgb3ZlciB0aW1lIGlmIHlvdVxuXHQgKiBcdCAgIGFyZSBwbGF5aW5nIGEgbG90IG9mIGF1ZGlvIGZpbGVzLlxuXHQgKiA8L2xpPlxuXHQgKlxuXHQgKiA8Yj5pT1MgNiBsaW1pdGF0aW9uczwvYj5cblx0ICogPHVsPlxuXHQgKiAgICAgPGxpPlxuXHQgKiAgICAgICAgIFNvdW5kIGlzIGluaXRpYWxseSBtdXRlZCBhbmQgd2lsbCBvbmx5IHVubXV0ZSB0aHJvdWdoIHBsYXkgYmVpbmcgY2FsbGVkIGluc2lkZSBhIHVzZXIgaW5pdGlhdGVkIGV2ZW50XG5cdCAqICAgICAgICAgKHRvdWNoL2NsaWNrKS4gUGxlYXNlIHJlYWQgdGhlIG1vYmlsZSBwbGF5YmFjayBub3RlcyBpbiB0aGUgdGhlIHt7I2Nyb3NzTGluayBcIlNvdW5kXCJ9fXt7L2Nyb3NzTGlua319XG5cdCAqICAgICAgICAgY2xhc3MgZm9yIGEgZnVsbCBvdmVydmlldyBvZiB0aGUgbGltaXRhdGlvbnMsIGFuZCBob3cgdG8gZ2V0IGFyb3VuZCB0aGVtLlxuXHQgKiAgICAgPC9saT5cblx0ICpcdCAgIDxsaT5cblx0ICpcdCAgICAgICBBIGJ1ZyBleGlzdHMgdGhhdCB3aWxsIGRpc3RvcnQgdW4tY2FjaGVkIGF1ZGlvIHdoZW4gYSB2aWRlbyBlbGVtZW50IGlzIHByZXNlbnQgaW4gdGhlIERPTS4gWW91IGNhbiBhdm9pZFxuXHQgKlx0ICAgICAgIHRoaXMgYnVnIGJ5IGVuc3VyaW5nIHRoZSBhdWRpbyBhbmQgdmlkZW8gYXVkaW8gc2hhcmUgdGhlIHNhbWUgc2FtcGxlIHJhdGUuXG5cdCAqXHQgICA8L2xpPlxuXHQgKiA8L3VsPlxuXHQgKiBAY2xhc3MgV2ViQXVkaW9QbHVnaW5cblx0ICogQGV4dGVuZHMgQWJzdHJhY3RQbHVnaW5cblx0ICogQGNvbnN0cnVjdG9yXG5cdCAqIEBzaW5jZSAwLjQuMFxuXHQgKi9cblx0ZnVuY3Rpb24gV2ViQXVkaW9QbHVnaW4oKSB7XG5cdFx0dGhpcy5BYnN0cmFjdFBsdWdpbl9jb25zdHJ1Y3RvcigpO1xuXG5cbi8vIFByaXZhdGUgUHJvcGVydGllc1xuXHRcdC8qKlxuXHRcdCAqIFZhbHVlIHRvIHNldCBwYW5uaW5nIG1vZGVsIHRvIGVxdWFsIHBvd2VyIGZvciBXZWJBdWRpb1NvdW5kSW5zdGFuY2UuICBDYW4gYmUgXCJlcXVhbHBvd2VyXCIgb3IgMCBkZXBlbmRpbmcgb24gYnJvd3NlciBpbXBsZW1lbnRhdGlvbi5cblx0XHQgKiBAcHJvcGVydHkgX3Bhbm5pbmdNb2RlbFxuXHRcdCAqIEB0eXBlIHtOdW1iZXIgLyBTdHJpbmd9XG5cdFx0ICogQHByb3RlY3RlZFxuXHRcdCAqL1xuXHRcdHRoaXMuX3Bhbm5pbmdNb2RlbCA9IHMuX3Bhbm5pbmdNb2RlbDs7XG5cblx0XHQvKipcblx0XHQgKiBUaGUgd2ViIGF1ZGlvIGNvbnRleHQsIHdoaWNoIFdlYkF1ZGlvIHVzZXMgdG8gcGxheSBhdWRpby4gQWxsIG5vZGVzIHRoYXQgaW50ZXJhY3Qgd2l0aCB0aGUgV2ViQXVkaW9QbHVnaW5cblx0XHQgKiBuZWVkIHRvIGJlIGNyZWF0ZWQgd2l0aGluIHRoaXMgY29udGV4dC5cblx0XHQgKiBAcHJvcGVydHkgY29udGV4dFxuXHRcdCAqIEB0eXBlIHtBdWRpb0NvbnRleHR9XG5cdFx0ICovXG5cdFx0dGhpcy5jb250ZXh0ID0gcy5jb250ZXh0O1xuXG5cdFx0LyoqXG5cdFx0ICogQSBEeW5hbWljc0NvbXByZXNzb3JOb2RlLCB3aGljaCBpcyB1c2VkIHRvIGltcHJvdmUgc291bmQgcXVhbGl0eSBhbmQgcHJldmVudCBhdWRpbyBkaXN0b3J0aW9uLlxuXHRcdCAqIEl0IGlzIGNvbm5lY3RlZCB0byA8Y29kZT5jb250ZXh0LmRlc3RpbmF0aW9uPC9jb2RlPi5cblx0XHQgKlxuXHRcdCAqIENhbiBiZSBhY2Nlc3NlZCBieSBhZHZhbmNlZCB1c2VycyB0aHJvdWdoIGNyZWF0ZWpzLlNvdW5kLmFjdGl2ZVBsdWdpbi5keW5hbWljc0NvbXByZXNzb3JOb2RlLlxuXHRcdCAqIEBwcm9wZXJ0eSBkeW5hbWljc0NvbXByZXNzb3JOb2RlXG5cdFx0ICogQHR5cGUge0F1ZGlvTm9kZX1cblx0XHQgKi9cblx0XHR0aGlzLmR5bmFtaWNzQ29tcHJlc3Nvck5vZGUgPSB0aGlzLmNvbnRleHQuY3JlYXRlRHluYW1pY3NDb21wcmVzc29yKCk7XG5cdFx0dGhpcy5keW5hbWljc0NvbXByZXNzb3JOb2RlLmNvbm5lY3QodGhpcy5jb250ZXh0LmRlc3RpbmF0aW9uKTtcblxuXHRcdC8qKlxuXHRcdCAqIEEgR2Fpbk5vZGUgZm9yIGNvbnRyb2xsaW5nIG1hc3RlciB2b2x1bWUuIEl0IGlzIGNvbm5lY3RlZCB0byB7eyNjcm9zc0xpbmsgXCJXZWJBdWRpb1BsdWdpbi9keW5hbWljc0NvbXByZXNzb3JOb2RlOnByb3BlcnR5XCJ9fXt7L2Nyb3NzTGlua319LlxuXHRcdCAqXG5cdFx0ICogQ2FuIGJlIGFjY2Vzc2VkIGJ5IGFkdmFuY2VkIHVzZXJzIHRocm91Z2ggY3JlYXRlanMuU291bmQuYWN0aXZlUGx1Z2luLmdhaW5Ob2RlLlxuXHRcdCAqIEBwcm9wZXJ0eSBnYWluTm9kZVxuXHRcdCAqIEB0eXBlIHtBdWRpb0dhaW5Ob2RlfVxuXHRcdCAqL1xuXHRcdHRoaXMuZ2Fpbk5vZGUgPSB0aGlzLmNvbnRleHQuY3JlYXRlR2FpbigpO1xuXHRcdHRoaXMuZ2Fpbk5vZGUuY29ubmVjdCh0aGlzLmR5bmFtaWNzQ29tcHJlc3Nvck5vZGUpO1xuXHRcdGNyZWF0ZWpzLldlYkF1ZGlvU291bmRJbnN0YW5jZS5kZXN0aW5hdGlvbk5vZGUgPSB0aGlzLmdhaW5Ob2RlO1xuXG5cdFx0dGhpcy5fY2FwYWJpbGl0aWVzID0gcy5fY2FwYWJpbGl0aWVzO1xuXG5cdFx0dGhpcy5fbG9hZGVyQ2xhc3MgPSBjcmVhdGVqcy5XZWJBdWRpb0xvYWRlcjtcblx0XHR0aGlzLl9zb3VuZEluc3RhbmNlQ2xhc3MgPSBjcmVhdGVqcy5XZWJBdWRpb1NvdW5kSW5zdGFuY2U7XG5cblx0XHR0aGlzLl9hZGRQcm9wc1RvQ2xhc3NlcygpO1xuXHR9XG5cdHZhciBwID0gY3JlYXRlanMuZXh0ZW5kKFdlYkF1ZGlvUGx1Z2luLCBjcmVhdGVqcy5BYnN0cmFjdFBsdWdpbik7XG5cbi8vIFN0YXRpYyBQcm9wZXJ0aWVzXG5cdHZhciBzID0gV2ViQXVkaW9QbHVnaW47XG5cdC8qKlxuXHQgKiBUaGUgY2FwYWJpbGl0aWVzIG9mIHRoZSBwbHVnaW4uIFRoaXMgaXMgZ2VuZXJhdGVkIHZpYSB0aGUge3sjY3Jvc3NMaW5rIFwiV2ViQXVkaW9QbHVnaW4vX2dlbmVyYXRlQ2FwYWJpbGl0aWVzOm1ldGhvZFwifX17ey9jcm9zc0xpbmt9fVxuXHQgKiBtZXRob2QgYW5kIGlzIHVzZWQgaW50ZXJuYWxseS5cblx0ICogQHByb3BlcnR5IF9jYXBhYmlsaXRpZXNcblx0ICogQHR5cGUge09iamVjdH1cblx0ICogQGRlZmF1bHQgbnVsbFxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAc3RhdGljXG5cdCAqL1xuXHRzLl9jYXBhYmlsaXRpZXMgPSBudWxsO1xuXG5cdC8qKlxuXHQgKiBWYWx1ZSB0byBzZXQgcGFubmluZyBtb2RlbCB0byBlcXVhbCBwb3dlciBmb3IgV2ViQXVkaW9Tb3VuZEluc3RhbmNlLiAgQ2FuIGJlIFwiZXF1YWxwb3dlclwiIG9yIDAgZGVwZW5kaW5nIG9uIGJyb3dzZXIgaW1wbGVtZW50YXRpb24uXG5cdCAqIEBwcm9wZXJ0eSBfcGFubmluZ01vZGVsXG5cdCAqIEB0eXBlIHtOdW1iZXIgLyBTdHJpbmd9XG5cdCAqIEBwcml2YXRlXG5cdCAqIEBzdGF0aWNcblx0ICovXG5cdHMuX3Bhbm5pbmdNb2RlbCA9IFwiZXF1YWxwb3dlclwiO1xuXG5cdC8qKlxuXHQgKiBUaGUgd2ViIGF1ZGlvIGNvbnRleHQsIHdoaWNoIFdlYkF1ZGlvIHVzZXMgdG8gcGxheSBhdWRpby4gQWxsIG5vZGVzIHRoYXQgaW50ZXJhY3Qgd2l0aCB0aGUgV2ViQXVkaW9QbHVnaW5cblx0ICogbmVlZCB0byBiZSBjcmVhdGVkIHdpdGhpbiB0aGlzIGNvbnRleHQuXG5cdCAqXG5cdCAqIEFkdmFuY2VkIHVzZXJzIGNhbiBzZXQgdGhpcyB0byBhbiBleGlzdGluZyBjb250ZXh0LCBidXQgPGI+bXVzdDwvYj4gZG8gc28gYmVmb3JlIHRoZXkgY2FsbFxuXHQgKiB7eyNjcm9zc0xpbmsgXCJTb3VuZC9yZWdpc3RlclBsdWdpbnNcIn19e3svY3Jvc3NMaW5rfX0gb3Ige3sjY3Jvc3NMaW5rIFwiU291bmQvaW5pdGlhbGl6ZURlZmF1bHRQbHVnaW5zXCJ9fXt7L2Nyb3NzTGlua319LlxuXHQgKlxuXHQgKiBAcHJvcGVydHkgY29udGV4dFxuXHQgKiBAdHlwZSB7QXVkaW9Db250ZXh0fVxuXHQgKiBAc3RhdGljXG5cdCAqL1xuXHRzLmNvbnRleHQgPSBudWxsO1xuXG5cdC8qKlxuXHQgKiBUaGUgc2NyYXRjaCBidWZmZXIgdGhhdCB3aWxsIGJlIGFzc2lnbmVkIHRvIHRoZSBidWZmZXIgcHJvcGVydHkgb2YgYSBzb3VyY2Ugbm9kZSBvbiBjbG9zZS5cblx0ICogV29ya3MgYXJvdW5kIGFuIGlPUyBTYWZhcmkgYnVnOiBodHRwczovL2dpdGh1Yi5jb20vQ3JlYXRlSlMvU291bmRKUy9pc3N1ZXMvMTAyXG5cdCAqXG5cdCAqIEFkdmFuY2VkIHVzZXJzIGNhbiBzZXQgdGhpcyB0byBhbiBleGlzdGluZyBzb3VyY2Ugbm9kZSwgYnV0IDxiPm11c3Q8L2I+IGRvIHNvIGJlZm9yZSB0aGV5IGNhbGxcblx0ICoge3sjY3Jvc3NMaW5rIFwiU291bmQvcmVnaXN0ZXJQbHVnaW5zXCJ9fXt7L2Nyb3NzTGlua319IG9yIHt7I2Nyb3NzTGluayBcIlNvdW5kL2luaXRpYWxpemVEZWZhdWx0UGx1Z2luc1wifX17ey9jcm9zc0xpbmt9fS5cblx0ICpcblx0ICogQHByb3BlcnR5IF9zY3JhdGNoQnVmZmVyXG5cdCAqIEB0eXBlIHtBdWRpb0J1ZmZlcn1cblx0ICogQHByaXZhdGVcblx0ICogQHN0YXRpY1xuXHQgKi9cblx0IHMuX3NjcmF0Y2hCdWZmZXIgPSBudWxsO1xuXG5cdC8qKlxuXHQgKiBJbmRpY2F0ZWQgd2hldGhlciBhdWRpbyBvbiBpT1MgaGFzIGJlZW4gdW5sb2NrZWQsIHdoaWNoIHJlcXVpcmVzIGEgdG91Y2hlbmQvbW91c2Vkb3duIGV2ZW50IHRoYXQgcGxheXMgYW5cblx0ICogZW1wdHkgc291bmQuXG5cdCAqIEBwcm9wZXJ0eSBfdW5sb2NrZWRcblx0ICogQHR5cGUge2Jvb2xlYW59XG5cdCAqIEBzaW5jZSAwLjYuMlxuXHQgKiBAcHJpdmF0ZVxuXHQgKi9cblx0cy5fdW5sb2NrZWQgPSBmYWxzZTtcblxuXHQvKipcblx0ICogVGhlIGRlZmF1bHQgc2FtcGxlIHJhdGUgdXNlZCB3aGVuIGNoZWNraW5nIGZvciBpT1MgY29tcGF0aWJpbGl0eS4gU2VlIHt7I2Nyb3NzTGluayBcIldlYkF1ZGlvUGx1Z2luL19jcmVhdGVBdWRpb0NvbnRleHRcIn19e3svY3Jvc3NMaW5rfX0uXG5cdCAqIEBwcm9wZXJ0eSBERUZBVUxUX1NBTVBMRV9SRUFURVxuXHQgKiBAdHlwZSB7bnVtYmVyfVxuXHQgKiBAZGVmYXVsdCA0NDEwMFxuXHQgKiBAc3RhdGljXG5cdCAqL1xuXHRzLkRFRkFVTFRfU0FNUExFX1JBVEUgPSA0NDEwMDtcblxuLy8gU3RhdGljIFB1YmxpYyBNZXRob2RzXG5cdC8qKlxuXHQgKiBEZXRlcm1pbmUgaWYgdGhlIHBsdWdpbiBjYW4gYmUgdXNlZCBpbiB0aGUgY3VycmVudCBicm93c2VyL09TLlxuXHQgKiBAbWV0aG9kIGlzU3VwcG9ydGVkXG5cdCAqIEByZXR1cm4ge0Jvb2xlYW59IElmIHRoZSBwbHVnaW4gY2FuIGJlIGluaXRpYWxpemVkLlxuXHQgKiBAc3RhdGljXG5cdCAqL1xuXHRzLmlzU3VwcG9ydGVkID0gZnVuY3Rpb24gKCkge1xuXHRcdC8vIGNoZWNrIGlmIHRoaXMgaXMgc29tZSBraW5kIG9mIG1vYmlsZSBkZXZpY2UsIFdlYiBBdWRpbyB3b3JrcyB3aXRoIGxvY2FsIHByb3RvY29sIHVuZGVyIFBob25lR2FwIGFuZCBpdCBpcyB1bmxpa2VseSBzb21lb25lIGlzIHRyeWluZyB0byBydW4gYSBsb2NhbCBmaWxlXG5cdFx0dmFyIGlzTW9iaWxlUGhvbmVHYXAgPSBjcmVhdGVqcy5Ccm93c2VyRGV0ZWN0LmlzSU9TIHx8IGNyZWF0ZWpzLkJyb3dzZXJEZXRlY3QuaXNBbmRyb2lkIHx8IGNyZWF0ZWpzLkJyb3dzZXJEZXRlY3QuaXNCbGFja2JlcnJ5O1xuXHRcdC8vIE9KUiBpc01vYmlsZSBtYXkgYmUgcmVkdW5kYW50IHdpdGggX2lzRmlsZVhIUlN1cHBvcnRlZCBhdmFpbGFibGUuICBDb25zaWRlciByZW1vdmluZy5cblx0XHRpZiAobG9jYXRpb24ucHJvdG9jb2wgPT0gXCJmaWxlOlwiICYmICFpc01vYmlsZVBob25lR2FwICYmICF0aGlzLl9pc0ZpbGVYSFJTdXBwb3J0ZWQoKSkgeyByZXR1cm4gZmFsc2U7IH0gIC8vIFdlYiBBdWRpbyByZXF1aXJlcyBYSFIsIHdoaWNoIGlzIG5vdCB1c3VhbGx5IGF2YWlsYWJsZSBsb2NhbGx5XG5cdFx0cy5fZ2VuZXJhdGVDYXBhYmlsaXRpZXMoKTtcblx0XHRpZiAocy5jb250ZXh0ID09IG51bGwpIHtyZXR1cm4gZmFsc2U7fVxuXHRcdHJldHVybiB0cnVlO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBQbGF5cyBhbiBlbXB0eSBzb3VuZCBpbiB0aGUgd2ViIGF1ZGlvIGNvbnRleHQuICBUaGlzIGlzIHVzZWQgdG8gZW5hYmxlIHdlYiBhdWRpbyBvbiBpT1MgZGV2aWNlcywgYXMgdGhleVxuXHQgKiByZXF1aXJlIHRoZSBmaXJzdCBzb3VuZCB0byBiZSBwbGF5ZWQgaW5zaWRlIG9mIGEgdXNlciBpbml0aWF0ZWQgZXZlbnQgKHRvdWNoL2NsaWNrKS4gIFRoaXMgaXMgY2FsbGVkIHdoZW5cblx0ICoge3sjY3Jvc3NMaW5rIFwiV2ViQXVkaW9QbHVnaW5cIn19e3svY3Jvc3NMaW5rfX0gaXMgaW5pdGlhbGl6ZWQgKGJ5IFNvdW5kIHt7I2Nyb3NzTGluayBcIlNvdW5kL2luaXRpYWxpemVEZWZhdWx0UGx1Z2luc1wifX17ey9jcm9zc0xpbmt9fVxuXHQgKiBmb3IgZXhhbXBsZSkuXG5cdCAqXG5cdCAqIDxoND5FeGFtcGxlPC9oND5cblx0ICpcblx0ICogICAgIGZ1bmN0aW9uIGhhbmRsZVRvdWNoKGV2ZW50KSB7XG5cdCAqICAgICAgICAgY3JlYXRlanMuV2ViQXVkaW9QbHVnaW4ucGxheUVtcHR5U291bmQoKTtcblx0ICogICAgIH1cblx0ICpcblx0ICogQG1ldGhvZCBwbGF5RW1wdHlTb3VuZFxuXHQgKiBAc3RhdGljXG5cdCAqIEBzaW5jZSAwLjQuMVxuXHQgKi9cblx0cy5wbGF5RW1wdHlTb3VuZCA9IGZ1bmN0aW9uKCkge1xuXHRcdGlmIChzLmNvbnRleHQgPT0gbnVsbCkge3JldHVybjt9XG5cdFx0dmFyIHNvdXJjZSA9IHMuY29udGV4dC5jcmVhdGVCdWZmZXJTb3VyY2UoKTtcblx0XHRzb3VyY2UuYnVmZmVyID0gcy5fc2NyYXRjaEJ1ZmZlcjtcblx0XHRzb3VyY2UuY29ubmVjdChzLmNvbnRleHQuZGVzdGluYXRpb24pO1xuXHRcdHNvdXJjZS5zdGFydCgwLCAwLCAwKTtcblx0fTtcblxuXG4vLyBTdGF0aWMgUHJpdmF0ZSBNZXRob2RzXG5cdC8qKlxuXHQgKiBEZXRlcm1pbmUgaWYgWEhSIGlzIHN1cHBvcnRlZCwgd2hpY2ggaXMgbmVjZXNzYXJ5IGZvciB3ZWIgYXVkaW8uXG5cdCAqIEBtZXRob2QgX2lzRmlsZVhIUlN1cHBvcnRlZFxuXHQgKiBAcmV0dXJuIHtCb29sZWFufSBJZiBYSFIgaXMgc3VwcG9ydGVkLlxuXHQgKiBAc2luY2UgMC40LjJcblx0ICogQHByaXZhdGVcblx0ICogQHN0YXRpY1xuXHQgKi9cblx0cy5faXNGaWxlWEhSU3VwcG9ydGVkID0gZnVuY3Rpb24oKSB7XG5cdFx0Ly8gaXQncyBtdWNoIGVhc2llciB0byBkZXRlY3Qgd2hlbiBzb21ldGhpbmcgZ29lcyB3cm9uZywgc28gbGV0J3Mgc3RhcnQgb3B0aW1pc3RpY2FsbHlcblx0XHR2YXIgc3VwcG9ydGVkID0gdHJ1ZTtcblxuXHRcdHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcblx0XHR0cnkge1xuXHRcdFx0eGhyLm9wZW4oXCJHRVRcIiwgXCJXZWJBdWRpb1BsdWdpblRlc3QuZmFpbFwiLCBmYWxzZSk7IC8vIGxvYWRpbmcgbm9uLWV4aXN0YW50IGZpbGUgdHJpZ2dlcnMgNDA0IG9ubHkgaWYgaXQgY291bGQgbG9hZCAoc3luY2hyb25vdXMgY2FsbClcblx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0Ly8gY2F0Y2ggZXJyb3JzIGluIGNhc2VzIHdoZXJlIHRoZSBvbmVycm9yIGlzIHBhc3NlZCBieVxuXHRcdFx0c3VwcG9ydGVkID0gZmFsc2U7XG5cdFx0XHRyZXR1cm4gc3VwcG9ydGVkO1xuXHRcdH1cblx0XHR4aHIub25lcnJvciA9IGZ1bmN0aW9uKCkgeyBzdXBwb3J0ZWQgPSBmYWxzZTsgfTsgLy8gY2F1c2UgaXJyZWxldmFudFxuXHRcdC8vIHdpdGggc2VjdXJpdHkgdHVybmVkIG9mZiwgd2UgY2FuIGdldCBlbXB0eSBzdWNjZXNzIHJlc3VsdHMsIHdoaWNoIGlzIGFjdHVhbGx5IGEgZmFpbGVkIHJlYWQgKHN0YXR1cyBjb2RlIDA/KVxuXHRcdHhoci5vbmxvYWQgPSBmdW5jdGlvbigpIHsgc3VwcG9ydGVkID0gdGhpcy5zdGF0dXMgPT0gNDA0IHx8ICh0aGlzLnN0YXR1cyA9PSAyMDAgfHwgKHRoaXMuc3RhdHVzID09IDAgJiYgdGhpcy5yZXNwb25zZSAhPSBcIlwiKSk7IH07XG5cdFx0dHJ5IHtcblx0XHRcdHhoci5zZW5kKCk7XG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdC8vIGNhdGNoIGVycm9ycyBpbiBjYXNlcyB3aGVyZSB0aGUgb25lcnJvciBpcyBwYXNzZWQgYnlcblx0XHRcdHN1cHBvcnRlZCA9IGZhbHNlO1xuXHRcdH1cblxuXHRcdHJldHVybiBzdXBwb3J0ZWQ7XG5cdH07XG5cblx0LyoqXG5cdCAqIERldGVybWluZSB0aGUgY2FwYWJpbGl0aWVzIG9mIHRoZSBwbHVnaW4uIFVzZWQgaW50ZXJuYWxseS4gUGxlYXNlIHNlZSB0aGUgU291bmQgQVBJIHt7I2Nyb3NzTGluayBcIlNvdW5kL2NhcGFiaWxpdGllczpwcm9wZXJ0eVwifX17ey9jcm9zc0xpbmt9fVxuXHQgKiBtZXRob2QgZm9yIGFuIG92ZXJ2aWV3IG9mIHBsdWdpbiBjYXBhYmlsaXRpZXMuXG5cdCAqIEBtZXRob2QgX2dlbmVyYXRlQ2FwYWJpbGl0aWVzXG5cdCAqIEBzdGF0aWNcblx0ICogQHByaXZhdGVcblx0ICovXG5cdHMuX2dlbmVyYXRlQ2FwYWJpbGl0aWVzID0gZnVuY3Rpb24gKCkge1xuXHRcdGlmIChzLl9jYXBhYmlsaXRpZXMgIT0gbnVsbCkge3JldHVybjt9XG5cdFx0Ly8gV2ViIEF1ZGlvIGNhbiBiZSBpbiBhbnkgZm9ybWF0cyBzdXBwb3J0ZWQgYnkgdGhlIGF1ZGlvIGVsZW1lbnQsIGZyb20gaHR0cDovL3d3dy53My5vcmcvVFIvd2ViYXVkaW8vI0F1ZGlvQ29udGV4dC1zZWN0aW9uXG5cdFx0dmFyIHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYXVkaW9cIik7XG5cdFx0aWYgKHQuY2FuUGxheVR5cGUgPT0gbnVsbCkge3JldHVybiBudWxsO31cblxuXHRcdGlmIChzLmNvbnRleHQgPT0gbnVsbCkge1xuXHRcdFx0cy5jb250ZXh0ID0gcy5fY3JlYXRlQXVkaW9Db250ZXh0KCk7XG5cdFx0XHRpZiAocy5jb250ZXh0ID09IG51bGwpIHsgcmV0dXJuIG51bGw7IH1cblx0XHR9XG5cdFx0aWYgKHMuX3NjcmF0Y2hCdWZmZXIgPT0gbnVsbCkge1xuXHRcdFx0cy5fc2NyYXRjaEJ1ZmZlciA9IHMuY29udGV4dC5jcmVhdGVCdWZmZXIoMSwgMSwgMjIwNTApO1xuXHRcdH1cblxuXHRcdHMuX2NvbXBhdGliaWxpdHlTZXRVcCgpO1xuXG5cdFx0Ly8gTGlzdGVuIGZvciBkb2N1bWVudCBsZXZlbCBjbGlja3MgdG8gdW5sb2NrIFdlYkF1ZGlvIG9uIGlPUy4gU2VlIHRoZSBfdW5sb2NrIG1ldGhvZC5cblx0XHRpZiAoXCJvbnRvdWNoc3RhcnRcIiBpbiB3aW5kb3cgJiYgcy5jb250ZXh0LnN0YXRlICE9IFwicnVubmluZ1wiKSB7XG5cdFx0XHRzLl91bmxvY2soKTsgLy8gV2hlbiBwbGF5ZWQgaW5zaWRlIG9mIGEgdG91Y2ggZXZlbnQsIHRoaXMgd2lsbCBlbmFibGUgYXVkaW8gb24gaU9TIGltbWVkaWF0ZWx5LlxuXHRcdFx0ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCBzLl91bmxvY2ssIHRydWUpO1xuXHRcdFx0ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIiwgcy5fdW5sb2NrLCB0cnVlKTtcblx0XHRcdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaGVuZFwiLCBzLl91bmxvY2ssIHRydWUpO1xuXHRcdH1cblxuXHRcdHMuX2NhcGFiaWxpdGllcyA9IHtcblx0XHRcdHBhbm5pbmc6dHJ1ZSxcblx0XHRcdHZvbHVtZTp0cnVlLFxuXHRcdFx0dHJhY2tzOi0xXG5cdFx0fTtcblxuXHRcdC8vIGRldGVybWluZSB3aGljaCBleHRlbnNpb25zIG91ciBicm93c2VyIHN1cHBvcnRzIGZvciB0aGlzIHBsdWdpbiBieSBpdGVyYXRpbmcgdGhyb3VnaCBTb3VuZC5TVVBQT1JURURfRVhURU5TSU9OU1xuXHRcdHZhciBzdXBwb3J0ZWRFeHRlbnNpb25zID0gY3JlYXRlanMuU291bmQuU1VQUE9SVEVEX0VYVEVOU0lPTlM7XG5cdFx0dmFyIGV4dGVuc2lvbk1hcCA9IGNyZWF0ZWpzLlNvdW5kLkVYVEVOU0lPTl9NQVA7XG5cdFx0Zm9yICh2YXIgaSA9IDAsIGwgPSBzdXBwb3J0ZWRFeHRlbnNpb25zLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuXHRcdFx0dmFyIGV4dCA9IHN1cHBvcnRlZEV4dGVuc2lvbnNbaV07XG5cdFx0XHR2YXIgcGxheVR5cGUgPSBleHRlbnNpb25NYXBbZXh0XSB8fCBleHQ7XG5cdFx0XHRzLl9jYXBhYmlsaXRpZXNbZXh0XSA9ICh0LmNhblBsYXlUeXBlKFwiYXVkaW8vXCIgKyBleHQpICE9IFwibm9cIiAmJiB0LmNhblBsYXlUeXBlKFwiYXVkaW8vXCIgKyBleHQpICE9IFwiXCIpIHx8ICh0LmNhblBsYXlUeXBlKFwiYXVkaW8vXCIgKyBwbGF5VHlwZSkgIT0gXCJub1wiICYmIHQuY2FuUGxheVR5cGUoXCJhdWRpby9cIiArIHBsYXlUeXBlKSAhPSBcIlwiKTtcblx0XHR9ICAvLyBPSlIgYW5vdGhlciB3YXkgdG8gZG8gdGhpcyBtaWdodCBiZSBjYW5QbGF5VHlwZTpcIm00YVwiLCBjb2RleDogbXA0XG5cblx0XHQvLyAwPW5vIG91dHB1dCwgMT1tb25vLCAyPXN0ZXJlbywgND1zdXJyb3VuZCwgNj01LjEgc3Vycm91bmQuXG5cdFx0Ly8gU2VlIGh0dHA6Ly93d3cudzMub3JnL1RSL3dlYmF1ZGlvLyNBdWRpb0NoYW5uZWxTcGxpdHRlciBmb3IgbW9yZSBkZXRhaWxzIG9uIGNoYW5uZWxzLlxuXHRcdGlmIChzLmNvbnRleHQuZGVzdGluYXRpb24ubnVtYmVyT2ZDaGFubmVscyA8IDIpIHtcblx0XHRcdHMuX2NhcGFiaWxpdGllcy5wYW5uaW5nID0gZmFsc2U7XG5cdFx0fVxuXHR9O1xuXG5cdC8qKlxuXHQgKiBDcmVhdGUgYW4gYXVkaW8gY29udGV4dCBmb3IgdGhlIHNvdW5kLlxuXHQgKlxuXHQgKiBUaGlzIG1ldGhvZCBoYW5kbGVzIGJvdGggdmVuZG9yIHByZWZpeGVzIChzcGVjaWZpY2FsbHkgd2Via2l0IHN1cHBvcnQpLCBhcyB3ZWxsIGFzIGEgY2FzZSBvbiBpT1Mgd2hlcmVcblx0ICogYXVkaW8gcGxheWVkIHdpdGggYSBkaWZmZXJlbnQgc2FtcGxlIHJhdGUgbWF5IHBsYXkgZ2FyYmxlZCB3aGVuIGZpcnN0IHN0YXJ0ZWQuIFRoZSBkZWZhdWx0IHNhbXBsZSByYXRlIGlzXG5cdCAqIDQ0LDEwMCwgaG93ZXZlciBpdCBjYW4gYmUgY2hhbmdlZCB1c2luZyB0aGUge3sjY3Jvc3NMaW5rIFwiV2ViQXVkaW9QbHVnaW4vREVGQVVMVF9TQU1QTEVfUkFURTpwcm9wZXJ0eVwifX17ey9jcm9zc0xpbmt9fS5cblx0ICogQG1ldGhvZCBfY3JlYXRlQXVkaW9Db250ZXh0XG5cdCAqIEByZXR1cm4ge0F1ZGlvQ29udGV4dCB8IHdlYmtpdEF1ZGlvQ29udGV4dH1cblx0ICogQHByaXZhdGVcblx0ICogQHN0YXRpY1xuXHQgKiBAc2luY2UgMS4wLjBcblx0ICovXG5cdHMuX2NyZWF0ZUF1ZGlvQ29udGV4dCA9IGZ1bmN0aW9uKCkge1xuXHRcdC8vIFNsaWdodGx5IG1vZGlmaWVkIHZlcnNpb24gb2YgaHR0cHM6Ly9naXRodWIuY29tL0phbTMvaW9zLXNhZmUtYXVkaW8tY29udGV4dFxuXHRcdC8vIFJlc29sdmVzIGlzc3VlcyB3aXRoIGZpcnN0LXJ1biBjb250ZXh0cyBwbGF5aW5nIGdhcmJsZWQgb24gaU9TLlxuXHRcdHZhciBBdWRpb0N0b3IgPSAod2luZG93LkF1ZGlvQ29udGV4dCB8fCB3aW5kb3cud2Via2l0QXVkaW9Db250ZXh0KTtcblx0XHRpZiAoQXVkaW9DdG9yID09IG51bGwpIHsgcmV0dXJuIG51bGw7IH1cblx0XHR2YXIgY29udGV4dCA9IG5ldyBBdWRpb0N0b3IoKTtcblxuXHRcdC8vIENoZWNrIGlmIGhhY2sgaXMgbmVjZXNzYXJ5LiBPbmx5IG9jY3VycyBpbiBpT1M2KyBkZXZpY2VzXG5cdFx0Ly8gYW5kIG9ubHkgd2hlbiB5b3UgZmlyc3QgYm9vdCB0aGUgaVBob25lLCBvciBwbGF5IGEgYXVkaW8vdmlkZW9cblx0XHQvLyB3aXRoIGEgZGlmZmVyZW50IHNhbXBsZSByYXRlXG5cdFx0aWYgKC8oaVBob25lfGlQYWQpL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KVxuXHRcdFx0XHQmJiBjb250ZXh0LnNhbXBsZVJhdGUgIT09IHMuREVGQVVMVF9TQU1QTEVfUkFURSkge1xuXHRcdFx0dmFyIGJ1ZmZlciA9IGNvbnRleHQuY3JlYXRlQnVmZmVyKDEsIDEsIHMuREVGQVVMVF9TQU1QTEVfUkFURSksXG5cdFx0XHRcdFx0ZHVtbXkgPSBjb250ZXh0LmNyZWF0ZUJ1ZmZlclNvdXJjZSgpO1xuXHRcdFx0ZHVtbXkuYnVmZmVyID0gYnVmZmVyO1xuXHRcdFx0ZHVtbXkuY29ubmVjdChjb250ZXh0LmRlc3RpbmF0aW9uKTtcblx0XHRcdGR1bW15LnN0YXJ0KDApO1xuXHRcdFx0ZHVtbXkuZGlzY29ubmVjdCgpO1xuXHRcdFx0Y29udGV4dC5jbG9zZSgpIC8vIGRpc3Bvc2Ugb2xkIGNvbnRleHRcblxuXHRcdFx0Y29udGV4dCA9IG5ldyBBdWRpb0N0b3IoKTtcblx0XHR9XG5cdFx0cmV0dXJuIGNvbnRleHQ7XG5cdH1cblxuXHQvKipcblx0ICogU2V0IHVwIGNvbXBhdGliaWxpdHkgaWYgb25seSBkZXByZWNhdGVkIHdlYiBhdWRpbyBjYWxscyBhcmUgc3VwcG9ydGVkLlxuXHQgKiBTZWUgaHR0cDovL3d3dy53My5vcmcvVFIvd2ViYXVkaW8vI0RlcHJlY2F0aW9uTm90ZXNcblx0ICogTmVlZGVkIHNvIHdlIGNhbiBzdXBwb3J0IG5ldyBicm93c2VycyB0aGF0IGRvbid0IHN1cHBvcnQgZGVwcmVjYXRlZCBjYWxscyAoRmlyZWZveCkgYXMgd2VsbCBhcyBvbGQgYnJvd3NlcnMgdGhhdFxuXHQgKiBkb24ndCBzdXBwb3J0IG5ldyBjYWxscy5cblx0ICpcblx0ICogQG1ldGhvZCBfY29tcGF0aWJpbGl0eVNldFVwXG5cdCAqIEBzdGF0aWNcblx0ICogQHByaXZhdGVcblx0ICogQHNpbmNlIDAuNC4yXG5cdCAqL1xuXHRzLl9jb21wYXRpYmlsaXR5U2V0VXAgPSBmdW5jdGlvbigpIHtcblx0XHRzLl9wYW5uaW5nTW9kZWwgPSBcImVxdWFscG93ZXJcIjtcblx0XHQvL2Fzc3VtZSB0aGF0IGlmIG9uZSBuZXcgY2FsbCBpcyBzdXBwb3J0ZWQsIHRoZXkgYWxsIGFyZVxuXHRcdGlmIChzLmNvbnRleHQuY3JlYXRlR2FpbikgeyByZXR1cm47IH1cblxuXHRcdC8vIHNpbXBsZSBuYW1lIGNoYW5nZSwgZnVuY3Rpb25hbGl0eSB0aGUgc2FtZVxuXHRcdHMuY29udGV4dC5jcmVhdGVHYWluID0gcy5jb250ZXh0LmNyZWF0ZUdhaW5Ob2RlO1xuXG5cdFx0Ly8gc291cmNlIG5vZGUsIGFkZCB0byBwcm90b3R5cGVcblx0XHR2YXIgYXVkaW9Ob2RlID0gcy5jb250ZXh0LmNyZWF0ZUJ1ZmZlclNvdXJjZSgpO1xuXHRcdGF1ZGlvTm9kZS5fX3Byb3RvX18uc3RhcnQgPSBhdWRpb05vZGUuX19wcm90b19fLm5vdGVHcmFpbk9uO1x0Ly8gbm90ZSB0aGF0IG5vdGVHcmFpbk9uIHJlcXVpcmVzIGFsbCAzIHBhcmFtZXRlcnNcblx0XHRhdWRpb05vZGUuX19wcm90b19fLnN0b3AgPSBhdWRpb05vZGUuX19wcm90b19fLm5vdGVPZmY7XG5cblx0XHQvLyBwYW5uaW5nTW9kZWxcblx0XHRzLl9wYW5uaW5nTW9kZWwgPSAwO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBUcnkgdG8gdW5sb2NrIGF1ZGlvIG9uIGlPUy4gVGhpcyBpcyB0cmlnZ2VyZWQgZnJvbSBlaXRoZXIgV2ViQXVkaW8gcGx1Z2luIHNldHVwICh3aGljaCB3aWxsIHdvcmsgaWYgaW5zaWRlIG9mXG5cdCAqIGEgYG1vdXNlZG93bmAgb3IgYHRvdWNoZW5kYCBldmVudCBzdGFjayksIG9yIHRoZSBmaXJzdCBkb2N1bWVudCB0b3VjaGVuZC9tb3VzZWRvd24gZXZlbnQuIElmIGl0IGZhaWxzICh0b3VjaGVuZFxuXHQgKiB3aWxsIGZhaWwgaWYgdGhlIHVzZXIgcHJlc3NlcyBmb3IgdG9vIGxvbmcsIGluZGljYXRpbmcgYSBzY3JvbGwgZXZlbnQgaW5zdGVhZCBvZiBhIGNsaWNrIGV2ZW50LlxuXHQgKlxuXHQgKiBOb3RlIHRoYXQgZWFybGllciB2ZXJzaW9ucyBvZiBpT1Mgc3VwcG9ydGVkIGB0b3VjaHN0YXJ0YCBmb3IgdGhpcywgYnV0IGlPUzkgcmVtb3ZlZCB0aGlzIGZ1bmN0aW9uYWxpdHkuIEFkZGluZ1xuXHQgKiBhIGB0b3VjaHN0YXJ0YCBldmVudCB0byBzdXBwb3J0IG9sZGVyIHBsYXRmb3JtcyBtYXkgcHJlY2x1ZGUgYSBgbW91c2Vkb3duYCBldmVuIGZyb20gZ2V0dGluZyBmaXJlZCBvbiBpT1M5LCBzbyB3ZVxuXHQgKiBzdGljayB3aXRoIGBtb3VzZWRvd25gIGFuZCBgdG91Y2hlbmRgLlxuXHQgKiBAbWV0aG9kIF91bmxvY2tcblx0ICogQHNpbmNlIDAuNi4yXG5cdCAqIEBwcml2YXRlXG5cdCAqL1xuXHRzLl91bmxvY2sgPSBmdW5jdGlvbigpIHtcblx0XHRpZiAocy5fdW5sb2NrZWQpIHsgcmV0dXJuOyB9XG5cdFx0cy5wbGF5RW1wdHlTb3VuZCgpO1xuXHRcdGlmIChzLmNvbnRleHQuc3RhdGUgPT0gXCJydW5uaW5nXCIpIHtcblx0XHRcdGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgcy5fdW5sb2NrLCB0cnVlKTtcblx0XHRcdGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0b3VjaGVuZFwiLCBzLl91bmxvY2ssIHRydWUpO1xuXHRcdFx0ZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIiwgcy5fdW5sb2NrLCB0cnVlKTtcblx0XHRcdHMuX3VubG9ja2VkID0gdHJ1ZTtcblx0XHR9XG5cdH07XG5cblxuLy8gUHVibGljIE1ldGhvZHNcblx0cC50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcblx0XHRyZXR1cm4gXCJbV2ViQXVkaW9QbHVnaW5dXCI7XG5cdH07XG5cblxuLy8gUHJpdmF0ZSBNZXRob2RzXG5cdC8qKlxuXHQgKiBTZXQgdXAgbmVlZGVkIHByb3BlcnRpZXMgb24gc3VwcG9ydGVkIGNsYXNzZXMgV2ViQXVkaW9Tb3VuZEluc3RhbmNlIGFuZCBXZWJBdWRpb0xvYWRlci5cblx0ICogQG1ldGhvZCBfYWRkUHJvcHNUb0NsYXNzZXNcblx0ICogQHN0YXRpY1xuXHQgKiBAcHJvdGVjdGVkXG5cdCAqIEBzaW5jZSAwLjYuMFxuXHQgKi9cblx0cC5fYWRkUHJvcHNUb0NsYXNzZXMgPSBmdW5jdGlvbigpIHtcblx0XHR2YXIgYyA9IHRoaXMuX3NvdW5kSW5zdGFuY2VDbGFzcztcblx0XHRjLmNvbnRleHQgPSB0aGlzLmNvbnRleHQ7XG5cdFx0Yy5fc2NyYXRjaEJ1ZmZlciA9IHMuX3NjcmF0Y2hCdWZmZXI7XG5cdFx0Yy5kZXN0aW5hdGlvbk5vZGUgPSB0aGlzLmdhaW5Ob2RlO1xuXHRcdGMuX3Bhbm5pbmdNb2RlbCA9IHRoaXMuX3Bhbm5pbmdNb2RlbDtcblxuXHRcdHRoaXMuX2xvYWRlckNsYXNzLmNvbnRleHQgPSB0aGlzLmNvbnRleHQ7XG5cdH07XG5cblxuXHQvKipcblx0ICogU2V0IHRoZSBnYWluIHZhbHVlIGZvciBtYXN0ZXIgYXVkaW8uIFNob3VsZCBub3QgYmUgY2FsbGVkIGV4dGVybmFsbHkuXG5cdCAqIEBtZXRob2QgX3VwZGF0ZVZvbHVtZVxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqL1xuXHRwLl91cGRhdGVWb2x1bWUgPSBmdW5jdGlvbiAoKSB7XG5cdFx0dmFyIG5ld1ZvbHVtZSA9IGNyZWF0ZWpzLlNvdW5kLl9tYXN0ZXJNdXRlID8gMCA6IHRoaXMuX3ZvbHVtZTtcblx0XHRpZiAobmV3Vm9sdW1lICE9IHRoaXMuZ2Fpbk5vZGUuZ2Fpbi52YWx1ZSkge1xuXHRcdFx0dGhpcy5nYWluTm9kZS5nYWluLnZhbHVlID0gbmV3Vm9sdW1lO1xuXHRcdH1cblx0fTtcblxuXHRjcmVhdGVqcy5XZWJBdWRpb1BsdWdpbiA9IGNyZWF0ZWpzLnByb21vdGUoV2ViQXVkaW9QbHVnaW4sIFwiQWJzdHJhY3RQbHVnaW5cIik7XG59KCkpO1xuXG4vLyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI1xuLy8gSFRNTEF1ZGlvVGFnUG9vbC5qc1xuLy8jIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyNcblxuKGZ1bmN0aW9uICgpIHtcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cblx0LyoqXG5cdCAqIEhUTUxBdWRpb1RhZ1Bvb2wgaXMgYW4gb2JqZWN0IHBvb2wgZm9yIEhUTUxBdWRpbyB0YWcgaW5zdGFuY2VzLlxuXHQgKiBAY2xhc3MgSFRNTEF1ZGlvVGFnUG9vbFxuXHQgKiBAcGFyYW0ge1N0cmluZ30gc3JjIFRoZSBzb3VyY2Ugb2YgdGhlIGNoYW5uZWwuXG5cdCAqIEBwcm90ZWN0ZWRcblx0ICovXG5cdGZ1bmN0aW9uIEhUTUxBdWRpb1RhZ1Bvb2woKSB7XG5cdFx0XHR0aHJvdyBcIkhUTUxBdWRpb1RhZ1Bvb2wgY2Fubm90IGJlIGluc3RhbnRpYXRlZFwiO1xuXHR9XG5cblx0dmFyIHMgPSBIVE1MQXVkaW9UYWdQb29sO1xuXG4vLyBTdGF0aWMgUHJvcGVydGllc1xuXHQvKipcblx0ICogQSBoYXNoIGxvb2t1cCBvZiBlYWNoIGJhc2UgYXVkaW8gdGFnLCBpbmRleGVkIGJ5IHRoZSBhdWRpbyBzb3VyY2UuXG5cdCAqIEBwcm9wZXJ0eSBfdGFnc1xuXHQgKiBAdHlwZSB7e319XG5cdCAqIEBzdGF0aWNcblx0ICogQHByaXZhdGVcblx0ICovXG5cdHMuX3RhZ3MgPSB7fTtcblxuXHQvKipcblx0ICogQW4gb2JqZWN0IHBvb2wgZm9yIGh0bWwgYXVkaW8gdGFnc1xuXHQgKiBAcHJvcGVydHkgX3RhZ1Bvb2xcblx0ICogQHR5cGUge1RhZ1Bvb2x9XG5cdCAqIEBzdGF0aWNcblx0ICogQHByaXZhdGVcblx0ICovXG5cdHMuX3RhZ1Bvb2wgPSBuZXcgVGFnUG9vbCgpO1xuXG5cdC8qKlxuXHQgKiBBIGhhc2ggbG9va3VwIG9mIGlmIGEgYmFzZSBhdWRpbyB0YWcgaXMgYXZhaWxhYmxlLCBpbmRleGVkIGJ5IHRoZSBhdWRpbyBzb3VyY2Vcblx0ICogQHByb3BlcnR5IF90YWdzVXNlZFxuXHQgKiBAdHlwZSB7e319XG5cdCAqIEBwcml2YXRlXG5cdCAqIEBzdGF0aWNcblx0ICovXG5cdHMuX3RhZ1VzZWQgPSB7fTtcblxuLy8gU3RhdGljIE1ldGhvZHNcblx0LyoqXG5cdCAgKiBHZXQgYW4gYXVkaW8gdGFnIHdpdGggdGhlIGdpdmVuIHNvdXJjZS5cblx0ICAqIEBtZXRob2QgZ2V0XG5cdCAgKiBAcGFyYW0ge1N0cmluZ30gc3JjIFRoZSBzb3VyY2UgZmlsZSB1c2VkIGJ5IHRoZSBhdWRpbyB0YWcuXG5cdCAgKiBAc3RhdGljXG5cdCAgKi9cblx0IHMuZ2V0ID0gZnVuY3Rpb24gKHNyYykge1xuXHRcdHZhciB0ID0gcy5fdGFnc1tzcmNdO1xuXHRcdGlmICh0ID09IG51bGwpIHtcblx0XHRcdC8vIGNyZWF0ZSBuZXcgYmFzZSB0YWdcblx0XHRcdHQgPSBzLl90YWdzW3NyY10gPSBzLl90YWdQb29sLmdldCgpO1xuXHRcdFx0dC5zcmMgPSBzcmM7XG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIGdldCBiYXNlIG9yIHBvb2xcblx0XHRcdGlmIChzLl90YWdVc2VkW3NyY10pIHtcblx0XHRcdFx0dCA9IHMuX3RhZ1Bvb2wuZ2V0KCk7XG5cdFx0XHRcdHQuc3JjID0gc3JjO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cy5fdGFnVXNlZFtzcmNdID0gdHJ1ZTtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIHQ7XG5cdCB9O1xuXG5cdCAvKipcblx0ICAqIFJldHVybiBhbiBhdWRpbyB0YWcgdG8gdGhlIHBvb2wuXG5cdCAgKiBAbWV0aG9kIHNldFxuXHQgICogQHBhcmFtIHtTdHJpbmd9IHNyYyBUaGUgc291cmNlIGZpbGUgdXNlZCBieSB0aGUgYXVkaW8gdGFnLlxuXHQgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gdGFnIEF1ZGlvIHRhZyB0byBzZXQuXG5cdCAgKiBAc3RhdGljXG5cdCAgKi9cblx0IHMuc2V0ID0gZnVuY3Rpb24gKHNyYywgdGFnKSB7XG5cdFx0IC8vIGNoZWNrIGlmIHRoaXMgaXMgYmFzZSwgaWYgeWVzIHNldCBib29sZWFuIGlmIG5vdCByZXR1cm4gdG8gcG9vbFxuXHRcdCBpZih0YWcgPT0gcy5fdGFnc1tzcmNdKSB7XG5cdFx0XHQgcy5fdGFnVXNlZFtzcmNdID0gZmFsc2U7XG5cdFx0IH0gZWxzZSB7XG5cdFx0XHQgcy5fdGFnUG9vbC5zZXQodGFnKTtcblx0XHQgfVxuXHQgfTtcblxuXHQvKipcblx0ICogRGVsZXRlIHN0b3JlZCB0YWcgcmVmZXJlbmNlIGFuZCByZXR1cm4gdGhlbSB0byBwb29sLiBOb3RlIHRoYXQgaWYgdGhlIHRhZyByZWZlcmVuY2UgZG9lcyBub3QgZXhpc3QsIHRoaXMgd2lsbCBmYWlsLlxuXHQgKiBAbWV0aG9kIHJlbW92ZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gc3JjIFRoZSBzb3VyY2UgZm9yIHRoZSB0YWdcblx0ICogQHJldHVybiB7Qm9vbGVhbn0gSWYgdGhlIFRhZ1Bvb2wgd2FzIGRlbGV0ZWQuXG5cdCAqIEBzdGF0aWNcblx0ICovXG5cdHMucmVtb3ZlID0gZnVuY3Rpb24gKHNyYykge1xuXHRcdHZhciB0YWcgPSBzLl90YWdzW3NyY107XG5cdFx0aWYgKHRhZyA9PSBudWxsKSB7cmV0dXJuIGZhbHNlO31cblx0XHRzLl90YWdQb29sLnNldCh0YWcpO1xuXHRcdGRlbGV0ZShzLl90YWdzW3NyY10pO1xuXHRcdGRlbGV0ZShzLl90YWdVc2VkW3NyY10pO1xuXHRcdHJldHVybiB0cnVlO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBHZXRzIHRoZSBkdXJhdGlvbiBvZiB0aGUgc3JjIGF1ZGlvIGluIG1pbGxpc2Vjb25kc1xuXHQgKiBAbWV0aG9kIGdldER1cmF0aW9uXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBzcmMgVGhlIHNvdXJjZSBmaWxlIHVzZWQgYnkgdGhlIGF1ZGlvIHRhZy5cblx0ICogQHJldHVybiB7TnVtYmVyfSBEdXJhdGlvbiBvZiBzcmMgaW4gbWlsbGlzZWNvbmRzXG5cdCAqIEBzdGF0aWNcblx0ICovXG5cdHMuZ2V0RHVyYXRpb249IGZ1bmN0aW9uIChzcmMpIHtcblx0XHR2YXIgdCA9IHMuX3RhZ3Nbc3JjXTtcblx0XHRpZiAodCA9PSBudWxsIHx8ICF0LmR1cmF0aW9uKSB7cmV0dXJuIDA7fVx0Ly8gT0pSIGR1cmF0aW9uIGlzIE5hTiBpZiBsb2FkaW5nIGhhcyBub3QgY29tcGxldGVkXG5cdFx0cmV0dXJuIHQuZHVyYXRpb24gKiAxMDAwO1xuXHR9O1xuXG5cdGNyZWF0ZWpzLkhUTUxBdWRpb1RhZ1Bvb2wgPSBIVE1MQXVkaW9UYWdQb29sO1xuXG5cbi8vICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuXHQvKipcblx0ICogVGhlIFRhZ1Bvb2wgaXMgYW4gb2JqZWN0IHBvb2wgZm9yIEhUTUxBdWRpbyB0YWcgaW5zdGFuY2VzLlxuXHQgKiAjY2xhc3MgVGFnUG9vbFxuXHQgKiBAcGFyYW0ge1N0cmluZ30gc3JjIFRoZSBzb3VyY2Ugb2YgdGhlIGNoYW5uZWwuXG5cdCAqIEBwcm90ZWN0ZWRcblx0ICovXG5cdGZ1bmN0aW9uIFRhZ1Bvb2woc3JjKSB7XG5cbi8vIFB1YmxpYyBQcm9wZXJ0aWVzXG5cdFx0LyoqXG5cdFx0ICogQSBsaXN0IG9mIGFsbCBhdmFpbGFibGUgdGFncyBpbiB0aGUgcG9vbC5cblx0XHQgKiAjcHJvcGVydHkgdGFnc1xuXHRcdCAqIEB0eXBlIHtBcnJheX1cblx0XHQgKiBAcHJvdGVjdGVkXG5cdFx0ICovXG5cdFx0dGhpcy5fdGFncyA9IFtdO1xuXHR9O1xuXG5cdHZhciBwID0gVGFnUG9vbC5wcm90b3R5cGU7XG5cdHAuY29uc3RydWN0b3IgPSBUYWdQb29sO1xuXG5cbi8vIFB1YmxpYyBNZXRob2RzXG5cdC8qKlxuXHQgKiBHZXQgYW4gSFRNTEF1ZGlvRWxlbWVudCBmb3IgaW1tZWRpYXRlIHBsYXliYWNrLiBUaGlzIHRha2VzIGl0IG91dCBvZiB0aGUgcG9vbC5cblx0ICogI21ldGhvZCBnZXRcblx0ICogQHJldHVybiB7SFRNTEF1ZGlvRWxlbWVudH0gQW4gSFRNTCBhdWRpbyB0YWcuXG5cdCAqL1xuXHRwLmdldCA9IGZ1bmN0aW9uICgpIHtcblx0XHR2YXIgdGFnO1xuXHRcdGlmICh0aGlzLl90YWdzLmxlbmd0aCA9PSAwKSB7XG5cdFx0XHR0YWcgPSB0aGlzLl9jcmVhdGVUYWcoKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGFnID0gdGhpcy5fdGFncy5wb3AoKTtcblx0XHR9XG5cdFx0aWYgKHRhZy5wYXJlbnROb2RlID09IG51bGwpIHtkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRhZyk7fVxuXHRcdHJldHVybiB0YWc7XG5cdH07XG5cblx0LyoqXG5cdCAqIFB1dCBhbiBIVE1MQXVkaW9FbGVtZW50IGJhY2sgaW4gdGhlIHBvb2wgZm9yIHVzZS5cblx0ICogI21ldGhvZCBzZXRcblx0ICogQHBhcmFtIHtIVE1MQXVkaW9FbGVtZW50fSB0YWcgSFRNTCBhdWRpbyB0YWdcblx0ICovXG5cdHAuc2V0ID0gZnVuY3Rpb24gKHRhZykge1xuXHRcdC8vIE9KUiB0aGlzIGZpcnN0IHN0ZXAgc2VlbXMgdW5uZWNlc3Nhcnlcblx0XHR2YXIgaW5kZXggPSBjcmVhdGVqcy5pbmRleE9mKHRoaXMuX3RhZ3MsIHRhZyk7XG5cdFx0aWYgKGluZGV4ID09IC0xKSB7XG5cdFx0XHR0aGlzLl90YWdzLnNyYyA9IG51bGw7XG5cdFx0XHR0aGlzLl90YWdzLnB1c2godGFnKTtcblx0XHR9XG5cdH07XG5cblx0cC50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcblx0XHRyZXR1cm4gXCJbVGFnUG9vbF1cIjtcblx0fTtcblxuXG4vLyBQcml2YXRlIE1ldGhvZHNcblx0LyoqXG5cdCAqIENyZWF0ZSBhbiBIVE1MIGF1ZGlvIHRhZy5cblx0ICogI21ldGhvZCBfY3JlYXRlVGFnXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBzcmMgVGhlIHNvdXJjZSBmaWxlIHRvIHNldCBmb3IgdGhlIGF1ZGlvIHRhZy5cblx0ICogQHJldHVybiB7SFRNTEVsZW1lbnR9IFJldHVybnMgYW4gSFRNTCBhdWRpbyB0YWcuXG5cdCAqIEBwcm90ZWN0ZWRcblx0ICovXG5cdHAuX2NyZWF0ZVRhZyA9IGZ1bmN0aW9uICgpIHtcblx0XHR2YXIgdGFnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImF1ZGlvXCIpO1xuXHRcdHRhZy5hdXRvcGxheSA9IGZhbHNlO1xuXHRcdHRhZy5wcmVsb2FkID0gXCJub25lXCI7XG5cdFx0Ly9MTTogRmlyZWZveCBmYWlscyB3aGVuIHRoaXMgdGhlIHByZWxvYWQ9XCJub25lXCIgZm9yIG90aGVyIHRhZ3MsIGJ1dCBpdCBuZWVkcyB0byBiZSBcIm5vbmVcIiB0byBlbnN1cmUgUHJlbG9hZEpTIHdvcmtzLlxuXHRcdHJldHVybiB0YWc7XG5cdH07XG5cbn0oKSk7XG5cbi8vIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXG4vLyBIVE1MQXVkaW9Tb3VuZEluc3RhbmNlLmpzXG4vLyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI1xuXG4oZnVuY3Rpb24gKCkge1xuXHRcInVzZSBzdHJpY3RcIjtcblxuXHQvKipcblx0ICogSFRNTEF1ZGlvU291bmRJbnN0YW5jZSBleHRlbmRzIHRoZSBiYXNlIGFwaSBvZiB7eyNjcm9zc0xpbmsgXCJBYnN0cmFjdFNvdW5kSW5zdGFuY2VcIn19e3svY3Jvc3NMaW5rfX0gYW5kIGlzIHVzZWQgYnlcblx0ICoge3sjY3Jvc3NMaW5rIFwiSFRNTEF1ZGlvUGx1Z2luXCJ9fXt7L2Nyb3NzTGlua319LlxuXHQgKlxuXHQgKiBAcGFyYW0ge1N0cmluZ30gc3JjIFRoZSBwYXRoIHRvIGFuZCBmaWxlIG5hbWUgb2YgdGhlIHNvdW5kLlxuXHQgKiBAcGFyYW0ge051bWJlcn0gc3RhcnRUaW1lIEF1ZGlvIHNwcml0ZSBwcm9wZXJ0eSB1c2VkIHRvIGFwcGx5IGFuIG9mZnNldCwgaW4gbWlsbGlzZWNvbmRzLlxuXHQgKiBAcGFyYW0ge051bWJlcn0gZHVyYXRpb24gQXVkaW8gc3ByaXRlIHByb3BlcnR5IHVzZWQgdG8gc2V0IHRoZSB0aW1lIHRoZSBjbGlwIHBsYXlzIGZvciwgaW4gbWlsbGlzZWNvbmRzLlxuXHQgKiBAcGFyYW0ge09iamVjdH0gcGxheWJhY2tSZXNvdXJjZSBBbnkgcmVzb3VyY2UgbmVlZGVkIGJ5IHBsdWdpbiB0byBzdXBwb3J0IGF1ZGlvIHBsYXliYWNrLlxuXHQgKiBAY2xhc3MgSFRNTEF1ZGlvU291bmRJbnN0YW5jZVxuXHQgKiBAZXh0ZW5kcyBBYnN0cmFjdFNvdW5kSW5zdGFuY2Vcblx0ICogQGNvbnN0cnVjdG9yXG5cdCAqL1xuXHRmdW5jdGlvbiBIVE1MQXVkaW9Tb3VuZEluc3RhbmNlKHNyYywgc3RhcnRUaW1lLCBkdXJhdGlvbiwgcGxheWJhY2tSZXNvdXJjZSkge1xuXHRcdHRoaXMuQWJzdHJhY3RTb3VuZEluc3RhbmNlX2NvbnN0cnVjdG9yKHNyYywgc3RhcnRUaW1lLCBkdXJhdGlvbiwgcGxheWJhY2tSZXNvdXJjZSk7XG5cblxuLy8gUHJpdmF0ZSBQcm9wZXJ0aWVzXG5cdFx0dGhpcy5fYXVkaW9TcHJpdGVTdG9wVGltZSA9IG51bGw7XG5cdFx0dGhpcy5fZGVsYXlUaW1lb3V0SWQgPSBudWxsO1xuXG5cdFx0Ly8gUHJveGllcywgbWFrZSByZW1vdmluZyBsaXN0ZW5lcnMgZWFzaWVyLlxuXHRcdHRoaXMuX2VuZGVkSGFuZGxlciA9IGNyZWF0ZWpzLnByb3h5KHRoaXMuX2hhbmRsZVNvdW5kQ29tcGxldGUsIHRoaXMpO1xuXHRcdHRoaXMuX3JlYWR5SGFuZGxlciA9IGNyZWF0ZWpzLnByb3h5KHRoaXMuX2hhbmRsZVRhZ1JlYWR5LCB0aGlzKTtcblx0XHR0aGlzLl9zdGFsbGVkSGFuZGxlciA9IGNyZWF0ZWpzLnByb3h5KHRoaXMuX3BsYXlGYWlsZWQsIHRoaXMpO1xuXHRcdHRoaXMuX2F1ZGlvU3ByaXRlRW5kSGFuZGxlciA9IGNyZWF0ZWpzLnByb3h5KHRoaXMuX2hhbmRsZUF1ZGlvU3ByaXRlTG9vcCwgdGhpcyk7XG5cdFx0dGhpcy5fbG9vcEhhbmRsZXIgPSBjcmVhdGVqcy5wcm94eSh0aGlzLl9oYW5kbGVTb3VuZENvbXBsZXRlLCB0aGlzKTtcblxuXHRcdGlmIChkdXJhdGlvbikge1xuXHRcdFx0dGhpcy5fYXVkaW9TcHJpdGVTdG9wVGltZSA9IChzdGFydFRpbWUgKyBkdXJhdGlvbikgKiAwLjAwMTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5fZHVyYXRpb24gPSBjcmVhdGVqcy5IVE1MQXVkaW9UYWdQb29sLmdldER1cmF0aW9uKHRoaXMuc3JjKTtcblx0XHR9XG5cdH1cblx0dmFyIHAgPSBjcmVhdGVqcy5leHRlbmQoSFRNTEF1ZGlvU291bmRJbnN0YW5jZSwgY3JlYXRlanMuQWJzdHJhY3RTb3VuZEluc3RhbmNlKTtcblxuLy8gUHVibGljIE1ldGhvZHNcblx0LyoqXG5cdCAqIENhbGxlZCBieSB7eyNjcm9zc0xpbmsgXCJTb3VuZFwifX17ey9jcm9zc0xpbmt9fSB3aGVuIHBsdWdpbiBkb2VzIG5vdCBoYW5kbGUgbWFzdGVyIHZvbHVtZS5cblx0ICogdW5kb2MnZCBiZWNhdXNlIGl0IGlzIG5vdCBtZWFudCB0byBiZSB1c2VkIG91dHNpZGUgb2YgU291bmRcblx0ICogI21ldGhvZCBzZXRNYXN0ZXJWb2x1bWVcblx0ICogQHBhcmFtIHZhbHVlXG5cdCAqL1xuXHRwLnNldE1hc3RlclZvbHVtZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuXHRcdHRoaXMuX3VwZGF0ZVZvbHVtZSgpO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBDYWxsZWQgYnkge3sjY3Jvc3NMaW5rIFwiU291bmRcIn19e3svY3Jvc3NMaW5rfX0gd2hlbiBwbHVnaW4gZG9lcyBub3QgaGFuZGxlIG1hc3RlciBtdXRlLlxuXHQgKiB1bmRvYydkIGJlY2F1c2UgaXQgaXMgbm90IG1lYW50IHRvIGJlIHVzZWQgb3V0c2lkZSBvZiBTb3VuZFxuXHQgKiAjbWV0aG9kIHNldE1hc3Rlck11dGVcblx0ICogQHBhcmFtIHZhbHVlXG5cdCAqL1xuXHRwLnNldE1hc3Rlck11dGUgPSBmdW5jdGlvbiAoaXNNdXRlZCkge1xuXHRcdHRoaXMuX3VwZGF0ZVZvbHVtZSgpO1xuXHR9O1xuXG5cdHAudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG5cdFx0cmV0dXJuIFwiW0hUTUxBdWRpb1NvdW5kSW5zdGFuY2VdXCI7XG5cdH07XG5cbi8vUHJpdmF0ZSBNZXRob2RzXG5cdHAuX3JlbW92ZUxvb3BpbmcgPSBmdW5jdGlvbigpIHtcblx0XHRpZih0aGlzLl9wbGF5YmFja1Jlc291cmNlID09IG51bGwpIHtyZXR1cm47fVxuXHRcdHRoaXMuX3BsYXliYWNrUmVzb3VyY2UubG9vcCA9IGZhbHNlO1xuXHRcdHRoaXMuX3BsYXliYWNrUmVzb3VyY2UucmVtb3ZlRXZlbnRMaXN0ZW5lcihjcmVhdGVqcy5IVE1MQXVkaW9QbHVnaW4uX0FVRElPX1NFRUtFRCwgdGhpcy5fbG9vcEhhbmRsZXIsIGZhbHNlKTtcblx0fTtcblxuXHRwLl9hZGRMb29waW5nID0gZnVuY3Rpb24oKSB7XG5cdFx0aWYodGhpcy5fcGxheWJhY2tSZXNvdXJjZSA9PSBudWxsICB8fCB0aGlzLl9hdWRpb1Nwcml0ZVN0b3BUaW1lKSB7cmV0dXJuO31cblx0XHR0aGlzLl9wbGF5YmFja1Jlc291cmNlLmFkZEV2ZW50TGlzdGVuZXIoY3JlYXRlanMuSFRNTEF1ZGlvUGx1Z2luLl9BVURJT19TRUVLRUQsIHRoaXMuX2xvb3BIYW5kbGVyLCBmYWxzZSk7XG5cdFx0dGhpcy5fcGxheWJhY2tSZXNvdXJjZS5sb29wID0gdHJ1ZTtcblx0fTtcblxuXHRwLl9oYW5kbGVDbGVhblVwID0gZnVuY3Rpb24gKCkge1xuXHRcdHZhciB0YWcgPSB0aGlzLl9wbGF5YmFja1Jlc291cmNlO1xuXHRcdGlmICh0YWcgIT0gbnVsbCkge1xuXHRcdFx0dGFnLnBhdXNlKCk7XG5cdFx0XHR0YWcubG9vcCA9IGZhbHNlO1xuXHRcdFx0dGFnLnJlbW92ZUV2ZW50TGlzdGVuZXIoY3JlYXRlanMuSFRNTEF1ZGlvUGx1Z2luLl9BVURJT19FTkRFRCwgdGhpcy5fZW5kZWRIYW5kbGVyLCBmYWxzZSk7XG5cdFx0XHR0YWcucmVtb3ZlRXZlbnRMaXN0ZW5lcihjcmVhdGVqcy5IVE1MQXVkaW9QbHVnaW4uX0FVRElPX1JFQURZLCB0aGlzLl9yZWFkeUhhbmRsZXIsIGZhbHNlKTtcblx0XHRcdHRhZy5yZW1vdmVFdmVudExpc3RlbmVyKGNyZWF0ZWpzLkhUTUxBdWRpb1BsdWdpbi5fQVVESU9fU1RBTExFRCwgdGhpcy5fc3RhbGxlZEhhbmRsZXIsIGZhbHNlKTtcblx0XHRcdHRhZy5yZW1vdmVFdmVudExpc3RlbmVyKGNyZWF0ZWpzLkhUTUxBdWRpb1BsdWdpbi5fQVVESU9fU0VFS0VELCB0aGlzLl9sb29wSGFuZGxlciwgZmFsc2UpO1xuXHRcdFx0dGFnLnJlbW92ZUV2ZW50TGlzdGVuZXIoY3JlYXRlanMuSFRNTEF1ZGlvUGx1Z2luLl9USU1FX1VQREFURSwgdGhpcy5fYXVkaW9TcHJpdGVFbmRIYW5kbGVyLCBmYWxzZSk7XG5cblx0XHRcdHRyeSB7XG5cdFx0XHRcdHRhZy5jdXJyZW50VGltZSA9IHRoaXMuX3N0YXJ0VGltZTtcblx0XHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdH0gLy8gUmVzZXQgUG9zaXRpb25cblx0XHRcdGNyZWF0ZWpzLkhUTUxBdWRpb1RhZ1Bvb2wuc2V0KHRoaXMuc3JjLCB0YWcpO1xuXHRcdFx0dGhpcy5fcGxheWJhY2tSZXNvdXJjZSA9IG51bGw7XG5cdFx0fVxuXHR9O1xuXG5cdHAuX2JlZ2luUGxheWluZyA9IGZ1bmN0aW9uIChwbGF5UHJvcHMpIHtcblx0XHR0aGlzLl9wbGF5YmFja1Jlc291cmNlID0gY3JlYXRlanMuSFRNTEF1ZGlvVGFnUG9vbC5nZXQodGhpcy5zcmMpO1xuXHRcdHJldHVybiB0aGlzLkFic3RyYWN0U291bmRJbnN0YW5jZV9fYmVnaW5QbGF5aW5nKHBsYXlQcm9wcyk7XG5cdH07XG5cblx0cC5faGFuZGxlU291bmRSZWFkeSA9IGZ1bmN0aW9uIChldmVudCkge1xuXHRcdGlmICh0aGlzLl9wbGF5YmFja1Jlc291cmNlLnJlYWR5U3RhdGUgIT09IDQpIHtcblx0XHRcdHZhciB0YWcgPSB0aGlzLl9wbGF5YmFja1Jlc291cmNlO1xuXHRcdFx0dGFnLmFkZEV2ZW50TGlzdGVuZXIoY3JlYXRlanMuSFRNTEF1ZGlvUGx1Z2luLl9BVURJT19SRUFEWSwgdGhpcy5fcmVhZHlIYW5kbGVyLCBmYWxzZSk7XG5cdFx0XHR0YWcuYWRkRXZlbnRMaXN0ZW5lcihjcmVhdGVqcy5IVE1MQXVkaW9QbHVnaW4uX0FVRElPX1NUQUxMRUQsIHRoaXMuX3N0YWxsZWRIYW5kbGVyLCBmYWxzZSk7XG5cdFx0XHR0YWcucHJlbG9hZCA9IFwiYXV0b1wiOyAvLyBUaGlzIGlzIG5lY2Vzc2FyeSBmb3IgRmlyZWZveCwgYXMgaXQgd29uJ3QgZXZlciBcImxvYWRcIiB1bnRpbCB0aGlzIGlzIHNldC5cblx0XHRcdHRhZy5sb2FkKCk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0dGhpcy5fdXBkYXRlVm9sdW1lKCk7XG5cdFx0dGhpcy5fcGxheWJhY2tSZXNvdXJjZS5jdXJyZW50VGltZSA9ICh0aGlzLl9zdGFydFRpbWUgKyB0aGlzLl9wb3NpdGlvbikgKiAwLjAwMTtcblx0XHRpZiAodGhpcy5fYXVkaW9TcHJpdGVTdG9wVGltZSkge1xuXHRcdFx0dGhpcy5fcGxheWJhY2tSZXNvdXJjZS5hZGRFdmVudExpc3RlbmVyKGNyZWF0ZWpzLkhUTUxBdWRpb1BsdWdpbi5fVElNRV9VUERBVEUsIHRoaXMuX2F1ZGlvU3ByaXRlRW5kSGFuZGxlciwgZmFsc2UpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLl9wbGF5YmFja1Jlc291cmNlLmFkZEV2ZW50TGlzdGVuZXIoY3JlYXRlanMuSFRNTEF1ZGlvUGx1Z2luLl9BVURJT19FTkRFRCwgdGhpcy5fZW5kZWRIYW5kbGVyLCBmYWxzZSk7XG5cdFx0XHRpZih0aGlzLl9sb29wICE9IDApIHtcblx0XHRcdFx0dGhpcy5fcGxheWJhY2tSZXNvdXJjZS5hZGRFdmVudExpc3RlbmVyKGNyZWF0ZWpzLkhUTUxBdWRpb1BsdWdpbi5fQVVESU9fU0VFS0VELCB0aGlzLl9sb29wSGFuZGxlciwgZmFsc2UpO1xuXHRcdFx0XHR0aGlzLl9wbGF5YmFja1Jlc291cmNlLmxvb3AgPSB0cnVlO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHRoaXMuX3BsYXliYWNrUmVzb3VyY2UucGxheSgpO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBVc2VkIHRvIGhhbmRsZSB3aGVuIGEgdGFnIGlzIG5vdCByZWFkeSBmb3IgaW1tZWRpYXRlIHBsYXliYWNrIHdoZW4gaXQgaXMgcmV0dXJuZWQgZnJvbSB0aGUgSFRNTEF1ZGlvVGFnUG9vbC5cblx0ICogQG1ldGhvZCBfaGFuZGxlVGFnUmVhZHlcblx0ICogQHBhcmFtIGV2ZW50XG5cdCAqIEBwcm90ZWN0ZWRcblx0ICovXG5cdHAuX2hhbmRsZVRhZ1JlYWR5ID0gZnVuY3Rpb24gKGV2ZW50KSB7XG5cdFx0dGhpcy5fcGxheWJhY2tSZXNvdXJjZS5yZW1vdmVFdmVudExpc3RlbmVyKGNyZWF0ZWpzLkhUTUxBdWRpb1BsdWdpbi5fQVVESU9fUkVBRFksIHRoaXMuX3JlYWR5SGFuZGxlciwgZmFsc2UpO1xuXHRcdHRoaXMuX3BsYXliYWNrUmVzb3VyY2UucmVtb3ZlRXZlbnRMaXN0ZW5lcihjcmVhdGVqcy5IVE1MQXVkaW9QbHVnaW4uX0FVRElPX1NUQUxMRUQsIHRoaXMuX3N0YWxsZWRIYW5kbGVyLCBmYWxzZSk7XG5cblx0XHR0aGlzLl9oYW5kbGVTb3VuZFJlYWR5KCk7XG5cdH07XG5cblx0cC5fcGF1c2UgPSBmdW5jdGlvbiAoKSB7XG5cdFx0dGhpcy5fcGxheWJhY2tSZXNvdXJjZS5wYXVzZSgpO1xuXHR9O1xuXG5cdHAuX3Jlc3VtZSA9IGZ1bmN0aW9uICgpIHtcblx0XHR0aGlzLl9wbGF5YmFja1Jlc291cmNlLnBsYXkoKTtcblx0fTtcblxuXHRwLl91cGRhdGVWb2x1bWUgPSBmdW5jdGlvbiAoKSB7XG5cdFx0aWYgKHRoaXMuX3BsYXliYWNrUmVzb3VyY2UgIT0gbnVsbCkge1xuXHRcdFx0dmFyIG5ld1ZvbHVtZSA9ICh0aGlzLl9tdXRlZCB8fCBjcmVhdGVqcy5Tb3VuZC5fbWFzdGVyTXV0ZSkgPyAwIDogdGhpcy5fdm9sdW1lICogY3JlYXRlanMuU291bmQuX21hc3RlclZvbHVtZTtcblx0XHRcdGlmIChuZXdWb2x1bWUgIT0gdGhpcy5fcGxheWJhY2tSZXNvdXJjZS52b2x1bWUpIHt0aGlzLl9wbGF5YmFja1Jlc291cmNlLnZvbHVtZSA9IG5ld1ZvbHVtZTt9XG5cdFx0fVxuXHR9O1xuXG5cdHAuX2NhbGN1bGF0ZUN1cnJlbnRQb3NpdGlvbiA9IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiAodGhpcy5fcGxheWJhY2tSZXNvdXJjZS5jdXJyZW50VGltZSAqIDEwMDApIC0gdGhpcy5fc3RhcnRUaW1lO1xuXHR9O1xuXG5cdHAuX3VwZGF0ZVBvc2l0aW9uID0gZnVuY3Rpb24oKSB7XG5cdFx0dGhpcy5fcGxheWJhY2tSZXNvdXJjZS5yZW1vdmVFdmVudExpc3RlbmVyKGNyZWF0ZWpzLkhUTUxBdWRpb1BsdWdpbi5fQVVESU9fU0VFS0VELCB0aGlzLl9sb29wSGFuZGxlciwgZmFsc2UpO1xuXHRcdHRoaXMuX3BsYXliYWNrUmVzb3VyY2UuYWRkRXZlbnRMaXN0ZW5lcihjcmVhdGVqcy5IVE1MQXVkaW9QbHVnaW4uX0FVRElPX1NFRUtFRCwgdGhpcy5faGFuZGxlU2V0UG9zaXRpb25TZWVrLCBmYWxzZSk7XG5cdFx0dHJ5IHtcblx0XHRcdHRoaXMuX3BsYXliYWNrUmVzb3VyY2UuY3VycmVudFRpbWUgPSAodGhpcy5fcG9zaXRpb24gKyB0aGlzLl9zdGFydFRpbWUpICogMC4wMDE7XG5cdFx0fSBjYXRjaCAoZXJyb3IpIHsgLy8gT3V0IG9mIHJhbmdlXG5cdFx0XHR0aGlzLl9oYW5kbGVTZXRQb3NpdGlvblNlZWsobnVsbCk7XG5cdFx0fVxuXHR9O1xuXG5cdC8qKlxuXHQgKiBVc2VkIHRvIGVuYWJsZSBzZXR0aW5nIHBvc2l0aW9uLCBhcyB3ZSBuZWVkIHRvIHdhaXQgZm9yIHRoYXQgc2VlayB0byBiZSBkb25lIGJlZm9yZSB3ZSBhZGQgYmFjayBvdXIgbG9vcCBoYW5kbGluZyBzZWVrIGxpc3RlbmVyXG5cdCAqIEBtZXRob2QgX2hhbmRsZVNldFBvc2l0aW9uU2Vla1xuXHQgKiBAcGFyYW0gZXZlbnRcblx0ICogQHByb3RlY3RlZFxuXHQgKi9cblx0cC5faGFuZGxlU2V0UG9zaXRpb25TZWVrID0gZnVuY3Rpb24oZXZlbnQpIHtcblx0XHRpZiAodGhpcy5fcGxheWJhY2tSZXNvdXJjZSA9PSBudWxsKSB7IHJldHVybjsgfVxuXHRcdHRoaXMuX3BsYXliYWNrUmVzb3VyY2UucmVtb3ZlRXZlbnRMaXN0ZW5lcihjcmVhdGVqcy5IVE1MQXVkaW9QbHVnaW4uX0FVRElPX1NFRUtFRCwgdGhpcy5faGFuZGxlU2V0UG9zaXRpb25TZWVrLCBmYWxzZSk7XG5cdFx0dGhpcy5fcGxheWJhY2tSZXNvdXJjZS5hZGRFdmVudExpc3RlbmVyKGNyZWF0ZWpzLkhUTUxBdWRpb1BsdWdpbi5fQVVESU9fU0VFS0VELCB0aGlzLl9sb29wSGFuZGxlciwgZmFsc2UpO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBUaW1lciB1c2VkIHRvIGxvb3AgYXVkaW8gc3ByaXRlcy5cblx0ICogTk9URSBiZWNhdXNlIG9mIHRoZSBpbmFjY3VyYWNpZXMgaW4gdGhlIHRpbWV1cGRhdGUgZXZlbnQgKDE1IC0gMjUwbXMpIGFuZCBpbiBzZXR0aW5nIHRoZSB0YWcgdG8gdGhlIGRlc2lyZWQgdGltZWRcblx0ICogKHVwIHRvIDMwMG1zKSwgaXQgaXMgc3Ryb25nbHkgcmVjb21tZW5kZWQgbm90IHRvIGxvb3AgYXVkaW8gc3ByaXRlcyB3aXRoIEhUTUwgQXVkaW8gaWYgc21vb3RoIGxvb3BpbmcgaXMgZGVzaXJlZFxuXHQgKlxuXHQgKiBAbWV0aG9kIF9oYW5kbGVBdWRpb1Nwcml0ZUxvb3Bcblx0ICogQHBhcmFtIGV2ZW50XG5cdCAqIEBwcml2YXRlXG5cdCAqL1xuXHRwLl9oYW5kbGVBdWRpb1Nwcml0ZUxvb3AgPSBmdW5jdGlvbiAoZXZlbnQpIHtcblx0XHRpZih0aGlzLl9wbGF5YmFja1Jlc291cmNlLmN1cnJlbnRUaW1lIDw9IHRoaXMuX2F1ZGlvU3ByaXRlU3RvcFRpbWUpIHtyZXR1cm47fVxuXHRcdHRoaXMuX3BsYXliYWNrUmVzb3VyY2UucGF1c2UoKTtcblx0XHRpZih0aGlzLl9sb29wID09IDApIHtcblx0XHRcdHRoaXMuX2hhbmRsZVNvdW5kQ29tcGxldGUobnVsbCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMuX3Bvc2l0aW9uID0gMDtcblx0XHRcdHRoaXMuX2xvb3AtLTtcblx0XHRcdHRoaXMuX3BsYXliYWNrUmVzb3VyY2UuY3VycmVudFRpbWUgPSB0aGlzLl9zdGFydFRpbWUgKiAwLjAwMTtcblx0XHRcdGlmKCF0aGlzLl9wYXVzZWQpIHt0aGlzLl9wbGF5YmFja1Jlc291cmNlLnBsYXkoKTt9XG5cdFx0XHR0aGlzLl9zZW5kRXZlbnQoXCJsb29wXCIpO1xuXHRcdH1cblx0fTtcblxuXHQvLyBOT1RFIHdpdGggdGhpcyBhcHByb2FjaCBhdWRpbyB3aWxsIGxvb3AgYXMgcmVsaWFibHkgYXMgdGhlIGJyb3dzZXIgYWxsb3dzXG5cdC8vIGJ1dCB3ZSBjb3VsZCBlbmQgdXAgc2VuZGluZyB0aGUgbG9vcCBldmVudCBhZnRlciBuZXh0IGxvb3AgcGxheWJhY2sgYmVnaW5zXG5cdHAuX2hhbmRsZUxvb3AgPSBmdW5jdGlvbiAoZXZlbnQpIHtcblx0XHRpZih0aGlzLl9sb29wID09IDApIHtcblx0XHRcdHRoaXMuX3BsYXliYWNrUmVzb3VyY2UubG9vcCA9IGZhbHNlO1xuXHRcdFx0dGhpcy5fcGxheWJhY2tSZXNvdXJjZS5yZW1vdmVFdmVudExpc3RlbmVyKGNyZWF0ZWpzLkhUTUxBdWRpb1BsdWdpbi5fQVVESU9fU0VFS0VELCB0aGlzLl9sb29wSGFuZGxlciwgZmFsc2UpO1xuXHRcdH1cblx0fTtcblxuXHRwLl91cGRhdGVTdGFydFRpbWUgPSBmdW5jdGlvbiAoKSB7XG5cdFx0dGhpcy5fYXVkaW9TcHJpdGVTdG9wVGltZSA9ICh0aGlzLl9zdGFydFRpbWUgKyB0aGlzLl9kdXJhdGlvbikgKiAwLjAwMTtcblxuXHRcdGlmKHRoaXMucGxheVN0YXRlID09IGNyZWF0ZWpzLlNvdW5kLlBMQVlfU1VDQ0VFREVEKSB7XG5cdFx0XHR0aGlzLl9wbGF5YmFja1Jlc291cmNlLnJlbW92ZUV2ZW50TGlzdGVuZXIoY3JlYXRlanMuSFRNTEF1ZGlvUGx1Z2luLl9BVURJT19FTkRFRCwgdGhpcy5fZW5kZWRIYW5kbGVyLCBmYWxzZSk7XG5cdFx0XHR0aGlzLl9wbGF5YmFja1Jlc291cmNlLmFkZEV2ZW50TGlzdGVuZXIoY3JlYXRlanMuSFRNTEF1ZGlvUGx1Z2luLl9USU1FX1VQREFURSwgdGhpcy5fYXVkaW9TcHJpdGVFbmRIYW5kbGVyLCBmYWxzZSk7XG5cdFx0fVxuXHR9O1xuXG5cdHAuX3VwZGF0ZUR1cmF0aW9uID0gZnVuY3Rpb24gKCkge1xuXHRcdHRoaXMuX2F1ZGlvU3ByaXRlU3RvcFRpbWUgPSAodGhpcy5fc3RhcnRUaW1lICsgdGhpcy5fZHVyYXRpb24pICogMC4wMDE7XG5cblx0XHRpZih0aGlzLnBsYXlTdGF0ZSA9PSBjcmVhdGVqcy5Tb3VuZC5QTEFZX1NVQ0NFRURFRCkge1xuXHRcdFx0dGhpcy5fcGxheWJhY2tSZXNvdXJjZS5yZW1vdmVFdmVudExpc3RlbmVyKGNyZWF0ZWpzLkhUTUxBdWRpb1BsdWdpbi5fQVVESU9fRU5ERUQsIHRoaXMuX2VuZGVkSGFuZGxlciwgZmFsc2UpO1xuXHRcdFx0dGhpcy5fcGxheWJhY2tSZXNvdXJjZS5hZGRFdmVudExpc3RlbmVyKGNyZWF0ZWpzLkhUTUxBdWRpb1BsdWdpbi5fVElNRV9VUERBVEUsIHRoaXMuX2F1ZGlvU3ByaXRlRW5kSGFuZGxlciwgZmFsc2UpO1xuXHRcdH1cblx0fTtcblxuXHRwLl9zZXREdXJhdGlvbkZyb21Tb3VyY2UgPSBmdW5jdGlvbiAoKSB7XG5cdFx0dGhpcy5fZHVyYXRpb24gPSBjcmVhdGVqcy5IVE1MQXVkaW9UYWdQb29sLmdldER1cmF0aW9uKHRoaXMuc3JjKTtcblx0XHR0aGlzLl9wbGF5YmFja1Jlc291cmNlID0gbnVsbDtcblx0fTtcblxuXHRjcmVhdGVqcy5IVE1MQXVkaW9Tb3VuZEluc3RhbmNlID0gY3JlYXRlanMucHJvbW90ZShIVE1MQXVkaW9Tb3VuZEluc3RhbmNlLCBcIkFic3RyYWN0U291bmRJbnN0YW5jZVwiKTtcbn0oKSk7XG5cbi8vIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXG4vLyBIVE1MQXVkaW9QbHVnaW4uanNcbi8vIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXG5cbihmdW5jdGlvbiAoKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cblx0LyoqXG5cdCAqIFBsYXkgc291bmRzIHVzaW5nIEhUTUwgJmx0O2F1ZGlvJmd0OyB0YWdzIGluIHRoZSBicm93c2VyLiBUaGlzIHBsdWdpbiBpcyB0aGUgc2Vjb25kIHByaW9yaXR5IHBsdWdpbiBpbnN0YWxsZWRcblx0ICogYnkgZGVmYXVsdCwgYWZ0ZXIgdGhlIHt7I2Nyb3NzTGluayBcIldlYkF1ZGlvUGx1Z2luXCJ9fXt7L2Nyb3NzTGlua319LiAgRm9yIG9sZGVyIGJyb3dzZXJzIHRoYXQgZG8gbm90IHN1cHBvcnQgaHRtbFxuXHQgKiBhdWRpbywgaW5jbHVkZSBhbmQgaW5zdGFsbCB0aGUge3sjY3Jvc3NMaW5rIFwiRmxhc2hBdWRpb1BsdWdpblwifX17ey9jcm9zc0xpbmt9fS5cblx0ICpcblx0ICogPGg0Pktub3duIEJyb3dzZXIgYW5kIE9TIGlzc3VlcyBmb3IgSFRNTCBBdWRpbzwvaDQ+XG5cdCAqIDxiPkFsbCBicm93c2VyczwvYj48YnIgLz5cblx0ICogVGVzdGluZyBoYXMgc2hvd24gaW4gYWxsIGJyb3dzZXJzIHRoZXJlIGlzIGEgbGltaXQgdG8gaG93IG1hbnkgYXVkaW8gdGFnIGluc3RhbmNlcyB5b3UgYXJlIGFsbG93ZWQuICBJZiB5b3UgZXhjZWVkXG5cdCAqIHRoaXMgbGltaXQsIHlvdSBjYW4gZXhwZWN0IHRvIHNlZSB1bnByZWRpY3RhYmxlIHJlc3VsdHMuIFBsZWFzZSB1c2Uge3sjY3Jvc3NMaW5rIFwiU291bmQuTUFYX0lOU1RBTkNFU1wifX17ey9jcm9zc0xpbmt9fSBhc1xuXHQgKiBhIGd1aWRlIHRvIGhvdyBtYW55IHRvdGFsIGF1ZGlvIHRhZ3MgeW91IGNhbiBzYWZlbHkgdXNlIGluIGFsbCBicm93c2Vycy4gIFRoaXMgaXNzdWUgaXMgcHJpbWFyaWx5IGxpbWl0ZWQgdG8gSUU5LlxuXHQgKlxuICAgICAqIDxiPklFIGh0bWwgbGltaXRhdGlvbnM8L2I+PGJyIC8+XG4gICAgICogPHVsPjxsaT5UaGVyZSBpcyBhIGRlbGF5IGluIGFwcGx5aW5nIHZvbHVtZSBjaGFuZ2VzIHRvIHRhZ3MgdGhhdCBvY2N1cnMgb25jZSBwbGF5YmFjayBpcyBzdGFydGVkLiBTbyBpZiB5b3UgaGF2ZVxuICAgICAqIG11dGVkIGFsbCBzb3VuZHMsIHRoZXkgd2lsbCBhbGwgcGxheSBkdXJpbmcgdGhpcyBkZWxheSB1bnRpbCB0aGUgbXV0ZSBhcHBsaWVzIGludGVybmFsbHkuIFRoaXMgaGFwcGVucyByZWdhcmRsZXNzIG9mXG4gICAgICogd2hlbiBvciBob3cgeW91IGFwcGx5IHRoZSB2b2x1bWUgY2hhbmdlLCBhcyB0aGUgdGFnIHNlZW1zIHRvIG5lZWQgdG8gcGxheSB0byBhcHBseSBpdC48L2xpPlxuICAgICAqIDxsaT5NUDMgZW5jb2Rpbmcgd2lsbCBub3QgYWx3YXlzIHdvcmsgZm9yIGF1ZGlvIHRhZ3MgaWYgaXQncyBub3QgZGVmYXVsdC4gIFdlJ3ZlIGZvdW5kIGRlZmF1bHQgZW5jb2Rpbmcgd2l0aFxuICAgICAqIDY0a2JwcyB3b3Jrcy48L2xpPlxuXHQgKiA8bGk+T2NjYXNpb25hbGx5IHZlcnkgc2hvcnQgc2FtcGxlcyB3aWxsIGdldCBjdXQgb2ZmLjwvbGk+XG5cdCAqIDxsaT5UaGVyZSBpcyBhIGxpbWl0IHRvIGhvdyBtYW55IGF1ZGlvIHRhZ3MgeW91IGNhbiBsb2FkIG9yIHBsYXkgYXQgb25jZSwgd2hpY2ggYXBwZWFycyB0byBiZSBkZXRlcm1pbmVkIGJ5XG5cdCAqIGhhcmR3YXJlIGFuZCBicm93c2VyIHNldHRpbmdzLiAgU2VlIHt7I2Nyb3NzTGluayBcIkhUTUxBdWRpb1BsdWdpbi5NQVhfSU5TVEFOQ0VTXCJ9fXt7L2Nyb3NzTGlua319IGZvciBhIHNhZmUgZXN0aW1hdGUuXG5cdCAqIE5vdGUgdGhhdCBhdWRpbyBzcHJpdGVzIGNhbiBiZSB1c2VkIGFzIGEgc29sdXRpb24gdG8gdGhpcyBpc3N1ZS48L2xpPjwvdWw+XG5cdCAqXG5cdCAqIDxiPlNhZmFyaSBsaW1pdGF0aW9uczwvYj48YnIgLz5cblx0ICogPHVsPjxsaT5TYWZhcmkgcmVxdWlyZXMgUXVpY2t0aW1lIHRvIGJlIGluc3RhbGxlZCBmb3IgYXVkaW8gcGxheWJhY2suPC9saT48L3VsPlxuXHQgKlxuXHQgKiA8Yj5pT1MgNiBsaW1pdGF0aW9uczwvYj48YnIgLz5cblx0ICogPHVsPjxsaT5jYW4gb25seSBoYXZlIG9uZSAmbHQ7YXVkaW8mZ3Q7IHRhZzwvbGk+XG5cdCAqIFx0XHQ8bGk+Y2FuIG5vdCBwcmVsb2FkIG9yIGF1dG9wbGF5IHRoZSBhdWRpbzwvbGk+XG5cdCAqIFx0XHQ8bGk+Y2FuIG5vdCBjYWNoZSB0aGUgYXVkaW88L2xpPlxuXHQgKiBcdFx0PGxpPmNhbiBub3QgcGxheSB0aGUgYXVkaW8gZXhjZXB0IGluc2lkZSBhIHVzZXIgaW5pdGlhdGVkIGV2ZW50LjwvbGk+XG5cdCAqXHRcdDxsaT5Ob3RlIGl0IGlzIHJlY29tbWVuZGVkIHRvIHVzZSB7eyNjcm9zc0xpbmsgXCJXZWJBdWRpb1BsdWdpblwifX17ey9jcm9zc0xpbmt9fSBmb3IgaU9TICg2Kyk8L2xpPlxuXHQgKiBcdFx0PGxpPmF1ZGlvIHNwcml0ZXMgY2FuIGJlIHVzZWQgdG8gbWl0aWdhdGUgc29tZSBvZiB0aGVzZSBpc3N1ZXMgYW5kIGFyZSBzdHJvbmdseSByZWNvbW1lbmRlZCBvbiBpT1M8L2xpPlxuXHQgKiA8L3VsPlxuXHQgKlxuXHQgKiA8Yj5BbmRyb2lkIE5hdGl2ZSBCcm93c2VyIGxpbWl0YXRpb25zPC9iPjxiciAvPlxuXHQgKiA8dWw+PGxpPldlIGhhdmUgbm8gY29udHJvbCBvdmVyIGF1ZGlvIHZvbHVtZS4gT25seSB0aGUgdXNlciBjYW4gc2V0IHZvbHVtZSBvbiB0aGVpciBkZXZpY2UuPC9saT5cblx0ICogICAgICA8bGk+V2UgY2FuIG9ubHkgcGxheSBhdWRpbyBpbnNpZGUgYSB1c2VyIGV2ZW50ICh0b3VjaC9jbGljaykuICBUaGlzIGN1cnJlbnRseSBtZWFucyB5b3UgY2Fubm90IGxvb3Agc291bmQgb3IgdXNlIGEgZGVsYXkuPC9saT48L3VsPlxuXHQgKiA8Yj4gQW5kcm9pZCBDaHJvbWUgMjYuMC4xNDEwLjU4IHNwZWNpZmljIGxpbWl0YXRpb25zPC9iPjxiciAvPlxuXHQgKiA8dWw+IDxsaT5DYW4gb25seSBwbGF5IDEgc291bmQgYXQgYSB0aW1lLjwvbGk+XG5cdCAqICAgICAgPGxpPlNvdW5kIGlzIG5vdCBjYWNoZWQuPC9saT5cblx0ICogICAgICA8bGk+U291bmQgY2FuIG9ubHkgYmUgbG9hZGVkIGluIGEgdXNlciBpbml0aWF0ZWQgdG91Y2gvY2xpY2sgZXZlbnQuPC9saT5cblx0ICogICAgICA8bGk+VGhlcmUgaXMgYSBkZWxheSBiZWZvcmUgYSBzb3VuZCBpcyBwbGF5ZWQsIHByZXN1bWFibHkgd2hpbGUgdGhlIHNyYyBpcyBsb2FkZWQuPC9saT5cblx0ICogPC91bD5cblx0ICpcblx0ICogU2VlIHt7I2Nyb3NzTGluayBcIlNvdW5kXCJ9fXt7L2Nyb3NzTGlua319IGZvciBnZW5lcmFsIG5vdGVzIG9uIGtub3duIGlzc3Vlcy5cblx0ICpcblx0ICogQGNsYXNzIEhUTUxBdWRpb1BsdWdpblxuXHQgKiBAZXh0ZW5kcyBBYnN0cmFjdFBsdWdpblxuXHQgKiBAY29uc3RydWN0b3Jcblx0ICovXG5cdGZ1bmN0aW9uIEhUTUxBdWRpb1BsdWdpbigpIHtcblx0XHR0aGlzLkFic3RyYWN0UGx1Z2luX2NvbnN0cnVjdG9yKCk7XG5cblxuXHQvLyBQdWJsaWMgUHJvcGVydGllc1xuXHRcdHRoaXMuX2NhcGFiaWxpdGllcyA9IHMuX2NhcGFiaWxpdGllcztcblxuXHRcdHRoaXMuX2xvYWRlckNsYXNzID0gY3JlYXRlanMuU291bmRMb2FkZXI7XG5cdFx0dGhpcy5fc291bmRJbnN0YW5jZUNsYXNzID0gY3JlYXRlanMuSFRNTEF1ZGlvU291bmRJbnN0YW5jZTtcblx0fVxuXG5cdHZhciBwID0gY3JlYXRlanMuZXh0ZW5kKEhUTUxBdWRpb1BsdWdpbiwgY3JlYXRlanMuQWJzdHJhY3RQbHVnaW4pO1xuXHR2YXIgcyA9IEhUTUxBdWRpb1BsdWdpbjtcblxuLy8gU3RhdGljIFByb3BlcnRpZXNcblx0LyoqXG5cdCAqIFRoZSBtYXhpbXVtIG51bWJlciBvZiBpbnN0YW5jZXMgdGhhdCBjYW4gYmUgbG9hZGVkIG9yIHBsYXllZC4gVGhpcyBpcyBhIGJyb3dzZXIgbGltaXRhdGlvbiwgcHJpbWFyaWx5IGxpbWl0ZWQgdG8gSUU5LlxuXHQgKiBUaGUgYWN0dWFsIG51bWJlciB2YXJpZXMgZnJvbSBicm93c2VyIHRvIGJyb3dzZXIgKGFuZCBpcyBsYXJnZWx5IGhhcmR3YXJlIGRlcGVuZGFudCksIGJ1dCB0aGlzIGlzIGEgc2FmZSBlc3RpbWF0ZS5cblx0ICogQXVkaW8gc3ByaXRlcyB3b3JrIGFyb3VuZCB0aGlzIGxpbWl0YXRpb24uXG5cdCAqIEBwcm9wZXJ0eSBNQVhfSU5TVEFOQ0VTXG5cdCAqIEB0eXBlIHtOdW1iZXJ9XG5cdCAqIEBkZWZhdWx0IDMwXG5cdCAqIEBzdGF0aWNcblx0ICovXG5cdHMuTUFYX0lOU1RBTkNFUyA9IDMwO1xuXG5cdC8qKlxuXHQgKiBFdmVudCBjb25zdGFudCBmb3IgdGhlIFwiY2FuUGxheVRocm91Z2hcIiBldmVudCBmb3IgY2xlYW5lciBjb2RlLlxuXHQgKiBAcHJvcGVydHkgX0FVRElPX1JFQURZXG5cdCAqIEB0eXBlIHtTdHJpbmd9XG5cdCAqIEBkZWZhdWx0IGNhbnBsYXl0aHJvdWdoXG5cdCAqIEBzdGF0aWNcblx0ICogQHByaXZhdGVcblx0ICovXG5cdHMuX0FVRElPX1JFQURZID0gXCJjYW5wbGF5dGhyb3VnaFwiO1xuXG5cdC8qKlxuXHQgKiBFdmVudCBjb25zdGFudCBmb3IgdGhlIFwiZW5kZWRcIiBldmVudCBmb3IgY2xlYW5lciBjb2RlLlxuXHQgKiBAcHJvcGVydHkgX0FVRElPX0VOREVEXG5cdCAqIEB0eXBlIHtTdHJpbmd9XG5cdCAqIEBkZWZhdWx0IGVuZGVkXG5cdCAqIEBzdGF0aWNcblx0ICogQHByaXZhdGVcblx0ICovXG5cdHMuX0FVRElPX0VOREVEID0gXCJlbmRlZFwiO1xuXG5cdC8qKlxuXHQgKiBFdmVudCBjb25zdGFudCBmb3IgdGhlIFwic2Vla2VkXCIgZXZlbnQgZm9yIGNsZWFuZXIgY29kZS4gIFdlIHV0aWxpemUgdGhpcyBldmVudCBmb3IgbWFpbnRhaW5pbmcgbG9vcCBldmVudHMuXG5cdCAqIEBwcm9wZXJ0eSBfQVVESU9fU0VFS0VEXG5cdCAqIEB0eXBlIHtTdHJpbmd9XG5cdCAqIEBkZWZhdWx0IHNlZWtlZFxuXHQgKiBAc3RhdGljXG5cdCAqIEBwcml2YXRlXG5cdCAqL1xuXHRzLl9BVURJT19TRUVLRUQgPSBcInNlZWtlZFwiO1xuXG5cdC8qKlxuXHQgKiBFdmVudCBjb25zdGFudCBmb3IgdGhlIFwic3RhbGxlZFwiIGV2ZW50IGZvciBjbGVhbmVyIGNvZGUuXG5cdCAqIEBwcm9wZXJ0eSBfQVVESU9fU1RBTExFRFxuXHQgKiBAdHlwZSB7U3RyaW5nfVxuXHQgKiBAZGVmYXVsdCBzdGFsbGVkXG5cdCAqIEBzdGF0aWNcblx0ICogQHByaXZhdGVcblx0ICovXG5cdHMuX0FVRElPX1NUQUxMRUQgPSBcInN0YWxsZWRcIjtcblxuXHQvKipcblx0ICogRXZlbnQgY29uc3RhbnQgZm9yIHRoZSBcInRpbWV1cGRhdGVcIiBldmVudCBmb3IgY2xlYW5lciBjb2RlLiAgVXRpbGl6ZWQgZm9yIGxvb3BpbmcgYXVkaW8gc3ByaXRlcy5cblx0ICogVGhpcyBldmVudCBjYWxsc2JhY2sgZXZlciAxNSB0byAyNTBtcyBhbmQgY2FuIGJlIGRyb3BwZWQgYnkgdGhlIGJyb3dzZXIgZm9yIHBlcmZvcm1hbmNlLlxuXHQgKiBAcHJvcGVydHkgX1RJTUVfVVBEQVRFXG5cdCAqIEB0eXBlIHtTdHJpbmd9XG5cdCAqIEBkZWZhdWx0IHRpbWV1cGRhdGVcblx0ICogQHN0YXRpY1xuXHQgKiBAcHJpdmF0ZVxuXHQgKi9cblx0cy5fVElNRV9VUERBVEUgPSBcInRpbWV1cGRhdGVcIjtcblxuXHQvKipcblx0ICogVGhlIGNhcGFiaWxpdGllcyBvZiB0aGUgcGx1Z2luLiBUaGlzIGlzIGdlbmVyYXRlZCB2aWEgdGhlIHt7I2Nyb3NzTGluayBcIkhUTUxBdWRpb1BsdWdpbi9fZ2VuZXJhdGVDYXBhYmlsaXRpZXNcIn19e3svY3Jvc3NMaW5rfX1cblx0ICogbWV0aG9kLiBQbGVhc2Ugc2VlIHRoZSBTb3VuZCB7eyNjcm9zc0xpbmsgXCJTb3VuZC9jYXBhYmlsaXRpZXM6cHJvcGVydHlcIn19e3svY3Jvc3NMaW5rfX0gbWV0aG9kIGZvciBhbiBvdmVydmlldyBvZiBhbGxcblx0ICogb2YgdGhlIGF2YWlsYWJsZSBwcm9wZXJ0aWVzLlxuXHQgKiBAcHJvcGVydHkgX2NhcGFiaWxpdGllc1xuXHQgKiBAdHlwZSB7T2JqZWN0fVxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAc3RhdGljXG5cdCAqL1xuXHRzLl9jYXBhYmlsaXRpZXMgPSBudWxsO1xuXG5cbi8vIFN0YXRpYyBNZXRob2RzXG5cdC8qKlxuXHQgKiBEZXRlcm1pbmUgaWYgdGhlIHBsdWdpbiBjYW4gYmUgdXNlZCBpbiB0aGUgY3VycmVudCBicm93c2VyL09TLiBOb3RlIHRoYXQgSFRNTCBhdWRpbyBpcyBhdmFpbGFibGUgaW4gbW9zdCBtb2Rlcm5cblx0ICogYnJvd3NlcnMsIGJ1dCBpcyBkaXNhYmxlZCBpbiBpT1MgYmVjYXVzZSBvZiBpdHMgbGltaXRhdGlvbnMuXG5cdCAqIEBtZXRob2QgaXNTdXBwb3J0ZWRcblx0ICogQHJldHVybiB7Qm9vbGVhbn0gSWYgdGhlIHBsdWdpbiBjYW4gYmUgaW5pdGlhbGl6ZWQuXG5cdCAqIEBzdGF0aWNcblx0ICovXG5cdHMuaXNTdXBwb3J0ZWQgPSBmdW5jdGlvbiAoKSB7XG5cdFx0cy5fZ2VuZXJhdGVDYXBhYmlsaXRpZXMoKTtcblx0XHRyZXR1cm4gKHMuX2NhcGFiaWxpdGllcyAhPSBudWxsKTtcblx0fTtcblxuXHQvKipcblx0ICogRGV0ZXJtaW5lIHRoZSBjYXBhYmlsaXRpZXMgb2YgdGhlIHBsdWdpbi4gVXNlZCBpbnRlcm5hbGx5LiBQbGVhc2Ugc2VlIHRoZSBTb3VuZCBBUEkge3sjY3Jvc3NMaW5rIFwiU291bmQvY2FwYWJpbGl0aWVzOnByb3BlcnR5XCJ9fXt7L2Nyb3NzTGlua319XG5cdCAqIG1ldGhvZCBmb3IgYW4gb3ZlcnZpZXcgb2YgcGx1Z2luIGNhcGFiaWxpdGllcy5cblx0ICogQG1ldGhvZCBfZ2VuZXJhdGVDYXBhYmlsaXRpZXNcblx0ICogQHN0YXRpY1xuXHQgKiBAcHJpdmF0ZVxuXHQgKi9cblx0cy5fZ2VuZXJhdGVDYXBhYmlsaXRpZXMgPSBmdW5jdGlvbiAoKSB7XG5cdFx0aWYgKHMuX2NhcGFiaWxpdGllcyAhPSBudWxsKSB7cmV0dXJuO31cblx0XHR2YXIgdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhdWRpb1wiKTtcblx0XHRpZiAodC5jYW5QbGF5VHlwZSA9PSBudWxsKSB7cmV0dXJuIG51bGw7fVxuXG5cdFx0cy5fY2FwYWJpbGl0aWVzID0ge1xuXHRcdFx0cGFubmluZzpmYWxzZSxcblx0XHRcdHZvbHVtZTp0cnVlLFxuXHRcdFx0dHJhY2tzOi0xXG5cdFx0fTtcblxuXHRcdC8vIGRldGVybWluZSB3aGljaCBleHRlbnNpb25zIG91ciBicm93c2VyIHN1cHBvcnRzIGZvciB0aGlzIHBsdWdpbiBieSBpdGVyYXRpbmcgdGhyb3VnaCBTb3VuZC5TVVBQT1JURURfRVhURU5TSU9OU1xuXHRcdHZhciBzdXBwb3J0ZWRFeHRlbnNpb25zID0gY3JlYXRlanMuU291bmQuU1VQUE9SVEVEX0VYVEVOU0lPTlM7XG5cdFx0dmFyIGV4dGVuc2lvbk1hcCA9IGNyZWF0ZWpzLlNvdW5kLkVYVEVOU0lPTl9NQVA7XG5cdFx0Zm9yICh2YXIgaSA9IDAsIGwgPSBzdXBwb3J0ZWRFeHRlbnNpb25zLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuXHRcdFx0dmFyIGV4dCA9IHN1cHBvcnRlZEV4dGVuc2lvbnNbaV07XG5cdFx0XHR2YXIgcGxheVR5cGUgPSBleHRlbnNpb25NYXBbZXh0XSB8fCBleHQ7XG5cdFx0XHRzLl9jYXBhYmlsaXRpZXNbZXh0XSA9ICh0LmNhblBsYXlUeXBlKFwiYXVkaW8vXCIgKyBleHQpICE9IFwibm9cIiAmJiB0LmNhblBsYXlUeXBlKFwiYXVkaW8vXCIgKyBleHQpICE9IFwiXCIpIHx8ICh0LmNhblBsYXlUeXBlKFwiYXVkaW8vXCIgKyBwbGF5VHlwZSkgIT0gXCJub1wiICYmIHQuY2FuUGxheVR5cGUoXCJhdWRpby9cIiArIHBsYXlUeXBlKSAhPSBcIlwiKTtcblx0XHR9ICAvLyBPSlIgYW5vdGhlciB3YXkgdG8gZG8gdGhpcyBtaWdodCBiZSBjYW5QbGF5VHlwZTpcIm00YVwiLCBjb2RleDogbXA0XG5cdH07XG5cblxuLy8gcHVibGljIG1ldGhvZHNcblx0cC5yZWdpc3RlciA9IGZ1bmN0aW9uIChsb2FkSXRlbSkge1xuXHRcdHZhciB0YWcgPSBjcmVhdGVqcy5IVE1MQXVkaW9UYWdQb29sLmdldChsb2FkSXRlbS5zcmMpO1xuXHRcdHZhciBsb2FkZXIgPSB0aGlzLkFic3RyYWN0UGx1Z2luX3JlZ2lzdGVyKGxvYWRJdGVtKTtcblx0XHRsb2FkZXIuc2V0VGFnKHRhZyk7XG5cblx0XHRyZXR1cm4gbG9hZGVyO1xuXHR9O1xuXG5cdHAucmVtb3ZlU291bmQgPSBmdW5jdGlvbiAoc3JjKSB7XG5cdFx0dGhpcy5BYnN0cmFjdFBsdWdpbl9yZW1vdmVTb3VuZChzcmMpO1xuXHRcdGNyZWF0ZWpzLkhUTUxBdWRpb1RhZ1Bvb2wucmVtb3ZlKHNyYyk7XG5cdH07XG5cblx0cC5jcmVhdGUgPSBmdW5jdGlvbiAoc3JjLCBzdGFydFRpbWUsIGR1cmF0aW9uKSB7XG5cdFx0dmFyIHNpID0gdGhpcy5BYnN0cmFjdFBsdWdpbl9jcmVhdGUoc3JjLCBzdGFydFRpbWUsIGR1cmF0aW9uKTtcblx0XHRzaS5wbGF5YmFja1Jlc291cmNlID0gbnVsbDtcblx0XHRyZXR1cm4gc2k7XG5cdH07XG5cblx0cC50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcblx0XHRyZXR1cm4gXCJbSFRNTEF1ZGlvUGx1Z2luXVwiO1xuXHR9O1xuXG5cdC8vIHBsdWdpbiBkb2VzIG5vdCBzdXBwb3J0IHRoZXNlXG5cdHAuc2V0Vm9sdW1lID0gcC5nZXRWb2x1bWUgPSBwLnNldE11dGUgPSBudWxsO1xuXG5cblx0Y3JlYXRlanMuSFRNTEF1ZGlvUGx1Z2luID0gY3JlYXRlanMucHJvbW90ZShIVE1MQXVkaW9QbHVnaW4sIFwiQWJzdHJhY3RQbHVnaW5cIik7XG59KCkpO1xuXG4vLyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI1xuLy8gQWJzdHJhY3RUd2Vlbi5qc1xuLy8jIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyNcblxuKGZ1bmN0aW9uKCkge1xuXHRcInVzZSBzdHJpY3RcIjtcblxuXG4vLyBjb25zdHJ1Y3RvclxuXHQvKipcblx0ICogQmFzZSBjbGFzcyB0aGF0IGJvdGgge3sjY3Jvc3NMaW5rIFwiVHdlZW5cIn19e3svY3Jvc3NMaW5rfX0gYW5kIHt7I2Nyb3NzTGluayBcIlRpbWVsaW5lXCJ9fXt7L2Nyb3NzTGlua319IGV4dGVuZC4gU2hvdWxkIG5vdCBiZSBpbnN0YW50aWF0ZWQgZGlyZWN0bHkuXG5cdCAqIEBjbGFzcyBBYnN0cmFjdFR3ZWVuXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBbcHJvcHNdIFRoZSBjb25maWd1cmF0aW9uIHByb3BlcnRpZXMgdG8gYXBwbHkgdG8gdGhpcyBpbnN0YW5jZSAoZXguIGB7bG9vcDotMSwgcGF1c2VkOnRydWV9YCkuXG5cdCAqIFN1cHBvcnRlZCBwcm9wcyBhcmUgbGlzdGVkIGJlbG93LiBUaGVzZSBwcm9wcyBhcmUgc2V0IG9uIHRoZSBjb3JyZXNwb25kaW5nIGluc3RhbmNlIHByb3BlcnRpZXMgZXhjZXB0IHdoZXJlXG5cdCAqIHNwZWNpZmllZC5cblx0ICogQHBhcmFtIHtib29sZWFufSBbcHJvcHMudXNlVGlja3M9ZmFsc2VdICBTZWUgdGhlIHt7I2Nyb3NzTGluayBcIkFic3RyYWN0VHdlZW4vdXNlVGlja3M6cHJvcGVydHlcIn19e3svY3Jvc3NMaW5rfX0gcHJvcGVydHkgZm9yIG1vcmUgaW5mb3JtYXRpb24uXG5cdCAqIEBwYXJhbSB7Ym9vbGVhbn0gW3Byb3BzLmlnbm9yZUdsb2JhbFBhdXNlPWZhbHNlXSBTZWUgdGhlIHt7I2Nyb3NzTGluayBcIkFic3RyYWN0VHdlZW4vaWdub3JlR2xvYmFsUGF1c2U6cHJvcGVydHlcIn19e3svY3Jvc3NMaW5rfX0gZm9yIG1vcmUgaW5mb3JtYXRpb24uXG5cdCAqIEBwYXJhbSB7bnVtYmVyfGJvb2xlYW59IFtwcm9wcy5sb29wPTBdIFNlZSB0aGUge3sjY3Jvc3NMaW5rIFwiQWJzdHJhY3RUd2Vlbi9sb29wOnByb3BlcnR5XCJ9fXt7L2Nyb3NzTGlua319IGZvciBtb3JlIGluZm9ybWF0aW9uLlxuXHQgKiBAcGFyYW0ge2Jvb2xlYW59IFtwcm9wcy5yZXZlcnNlZD1mYWxzZV0gU2VlIHRoZSB7eyNjcm9zc0xpbmsgXCJBYnN0cmFjdFR3ZWVuL3JldmVyc2VkOnByb3BlcnR5XCJ9fXt7L2Nyb3NzTGlua319IGZvciBtb3JlIGluZm9ybWF0aW9uLlxuXHQgKiBAcGFyYW0ge2Jvb2xlYW59IFtwcm9wcy5ib3VuY2U9ZmFsc2VdIFNlZSB0aGUge3sjY3Jvc3NMaW5rIFwiQWJzdHJhY3RUd2Vlbi9ib3VuY2U6cHJvcGVydHlcIn19e3svY3Jvc3NMaW5rfX0gZm9yIG1vcmUgaW5mb3JtYXRpb24uXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSBbcHJvcHMudGltZVNjYWxlPTFdIFNlZSB0aGUge3sjY3Jvc3NMaW5rIFwiQWJzdHJhY3RUd2Vlbi90aW1lU2NhbGU6cHJvcGVydHlcIn19e3svY3Jvc3NMaW5rfX0gZm9yIG1vcmUgaW5mb3JtYXRpb24uXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcm9wcy5vbkNoYW5nZV0gQWRkcyB0aGUgc3BlY2lmaWVkIGZ1bmN0aW9uIGFzIGEgbGlzdGVuZXIgdG8gdGhlIHt7I2Nyb3NzTGluayBcIkFic3RyYWN0VHdlZW4vY2hhbmdlOmV2ZW50XCJ9fXt7L2Nyb3NzTGlua319IGV2ZW50XG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcm9wcy5vbkNvbXBsZXRlXSBBZGRzIHRoZSBzcGVjaWZpZWQgZnVuY3Rpb24gYXMgYSBsaXN0ZW5lciB0byB0aGUge3sjY3Jvc3NMaW5rIFwiQWJzdHJhY3RUd2Vlbi9jb21wbGV0ZTpldmVudFwifX17ey9jcm9zc0xpbmt9fSBldmVudFxuXHQgKiBAZXh0ZW5kcyBFdmVudERpc3BhdGNoZXJcblx0ICogQGNvbnN0cnVjdG9yXG5cdCAqL1xuXHRmdW5jdGlvbiBBYnN0cmFjdFR3ZWVuKHByb3BzKSB7XG5cdFx0dGhpcy5FdmVudERpc3BhdGNoZXJfY29uc3RydWN0b3IoKTtcblx0XHRcblx0Ly8gcHVibGljIHByb3BlcnRpZXM6XG5cdFx0LyoqXG5cdFx0ICogQ2F1c2VzIHRoaXMgdHdlZW4gdG8gY29udGludWUgcGxheWluZyB3aGVuIGEgZ2xvYmFsIHBhdXNlIGlzIGFjdGl2ZS4gRm9yIGV4YW1wbGUsIGlmIFR3ZWVuSlMgaXMgdXNpbmcge3sjY3Jvc3NMaW5rIFwiVGlja2VyXCJ9fXt7L2Nyb3NzTGlua319LFxuXHRcdCAqIHRoZW4gc2V0dGluZyB0aGlzIHRvIGZhbHNlICh0aGUgZGVmYXVsdCkgd2lsbCBjYXVzZSB0aGlzIHR3ZWVuIHRvIGJlIHBhdXNlZCB3aGVuIGBUaWNrZXIucGF1c2VkYCBpcyBzZXQgdG9cblx0XHQgKiBgdHJ1ZWAuIFNlZSB0aGUge3sjY3Jvc3NMaW5rIFwiVHdlZW4vdGlja1wifX17ey9jcm9zc0xpbmt9fSBtZXRob2QgZm9yIG1vcmUgaW5mby4gQ2FuIGJlIHNldCB2aWEgdGhlIGBwcm9wc2Bcblx0XHQgKiBwYXJhbWV0ZXIuXG5cdFx0ICogQHByb3BlcnR5IGlnbm9yZUdsb2JhbFBhdXNlXG5cdFx0ICogQHR5cGUgQm9vbGVhblxuXHRcdCAqIEBkZWZhdWx0IGZhbHNlXG5cdFx0ICovXG5cdFx0dGhpcy5pZ25vcmVHbG9iYWxQYXVzZSA9IGZhbHNlO1xuXHRcblx0XHQvKipcblx0XHQgKiBJbmRpY2F0ZXMgdGhlIG51bWJlciBvZiB0aW1lcyB0byBsb29wLiBJZiBzZXQgdG8gLTEsIHRoZSB0d2VlbiB3aWxsIGxvb3AgY29udGludW91c2x5LlxuXHRcdCAqXG5cdFx0ICogTm90ZSB0aGF0IGEgdHdlZW4gbXVzdCBsb29wIGF0IF9sZWFzdF8gb25jZSB0byBzZWUgaXQgcGxheSBpbiBib3RoIGRpcmVjdGlvbnMgd2hlbiBge3sjY3Jvc3NMaW5rIFwiQWJzdHJhY3RUd2Vlbi9ib3VuY2U6cHJvcGVydHlcIn19e3svY3Jvc3NMaW5rfX1gXG5cdFx0ICogaXMgc2V0IHRvIGB0cnVlYC5cblx0XHQgKiBAcHJvcGVydHkgbG9vcFxuXHRcdCAqIEB0eXBlIHtOdW1iZXJ9XG5cdFx0ICogQGRlZmF1bHQgMFxuXHRcdCAqL1xuXHRcdHRoaXMubG9vcCA9IDA7XG5cdFxuXHRcdC8qKlxuXHRcdCAqIFVzZXMgdGlja3MgZm9yIGFsbCBkdXJhdGlvbnMgaW5zdGVhZCBvZiBtaWxsaXNlY29uZHMuIFRoaXMgYWxzbyBjaGFuZ2VzIHRoZSBiZWhhdmlvdXIgb2Ygc29tZSBhY3Rpb25zIChzdWNoIGFzIGBjYWxsYCkuXG5cdFx0ICogQ2hhbmdpbmcgdGhpcyB2YWx1ZSBvbiBhIHJ1bm5pbmcgdHdlZW4gY291bGQgaGF2ZSB1bmV4cGVjdGVkIHJlc3VsdHMuXG5cdFx0ICogQHByb3BlcnR5IHVzZVRpY2tzXG5cdFx0ICogQHR5cGUge0Jvb2xlYW59XG5cdFx0ICogQGRlZmF1bHQgZmFsc2Vcblx0XHQgKiBAcmVhZG9ubHlcblx0XHQgKi9cblx0XHR0aGlzLnVzZVRpY2tzID0gZmFsc2U7XG5cdFx0XG5cdFx0LyoqXG5cdFx0ICogQ2F1c2VzIHRoZSB0d2VlbiB0byBwbGF5IGluIHJldmVyc2UuXG5cdFx0ICogQHByb3BlcnR5IHJldmVyc2VkXG5cdFx0ICogQHR5cGUge0Jvb2xlYW59XG5cdFx0ICogQGRlZmF1bHQgZmFsc2Vcblx0XHQgKi9cblx0XHR0aGlzLnJldmVyc2VkID0gZmFsc2U7XG5cdFx0XG5cdFx0LyoqXG5cdFx0ICogQ2F1c2VzIHRoZSB0d2VlbiB0byByZXZlcnNlIGRpcmVjdGlvbiBhdCB0aGUgZW5kIG9mIGVhY2ggbG9vcC4gRWFjaCBzaW5nbGUtZGlyZWN0aW9uIHBsYXktdGhyb3VnaCBvZiB0aGVcblx0XHQgKiB0d2VlbiBjb3VudHMgYXMgYSBzaW5nbGUgYm91bmNlLiBGb3IgZXhhbXBsZSwgdG8gcGxheSBhIHR3ZWVuIG9uY2UgZm9yd2FyZCwgYW5kIG9uY2UgYmFjaywgc2V0IHRoZVxuXHRcdCAqIGB7eyNjcm9zc0xpbmsgXCJBYnN0cmFjdFR3ZWVuL2xvb3A6cHJvcGVydHlcIn19e3svY3Jvc3NMaW5rfX1gIHRvIGAxYC5cblx0XHQgKiBAcHJvcGVydHkgYm91bmNlXG5cdFx0ICogQHR5cGUge0Jvb2xlYW59XG5cdFx0ICogQGRlZmF1bHQgZmFsc2Vcblx0XHQgKi9cblx0XHR0aGlzLmJvdW5jZSA9IGZhbHNlO1xuXHRcdFxuXHRcdC8qKlxuXHRcdCAqIENoYW5nZXMgdGhlIHJhdGUgYXQgd2hpY2ggdGhlIHR3ZWVuIGFkdmFuY2VzLiBGb3IgZXhhbXBsZSwgYSBgdGltZVNjYWxlYCB2YWx1ZSBvZiBgMmAgd2lsbCBkb3VibGUgdGhlXG5cdFx0ICogcGxheWJhY2sgc3BlZWQsIGEgdmFsdWUgb2YgYDAuNWAgd291bGQgaGFsdmUgaXQuXG5cdFx0ICogQHByb3BlcnR5IHRpbWVTY2FsZVxuXHRcdCAqIEB0eXBlIHtOdW1iZXJ9XG5cdFx0ICogQGRlZmF1bHQgMVxuXHRcdCAqL1xuXHRcdHRoaXMudGltZVNjYWxlID0gMTtcblx0XG5cdFx0LyoqXG5cdFx0ICogSW5kaWNhdGVzIHRoZSBkdXJhdGlvbiBvZiB0aGlzIHR3ZWVuIGluIG1pbGxpc2Vjb25kcyAob3IgdGlja3MgaWYgYHVzZVRpY2tzYCBpcyB0cnVlKSwgaXJyZXNwZWN0aXZlIG9mIGBsb29wc2AuXG5cdFx0ICogVGhpcyB2YWx1ZSBpcyBhdXRvbWF0aWNhbGx5IHVwZGF0ZWQgYXMgeW91IG1vZGlmeSB0aGUgdHdlZW4uIENoYW5naW5nIGl0IGRpcmVjdGx5IGNvdWxkIHJlc3VsdCBpbiB1bmV4cGVjdGVkXG5cdFx0ICogYmVoYXZpb3VyLlxuXHRcdCAqIEBwcm9wZXJ0eSBkdXJhdGlvblxuXHRcdCAqIEB0eXBlIHtOdW1iZXJ9XG5cdFx0ICogQGRlZmF1bHQgMFxuXHRcdCAqIEByZWFkb25seVxuXHRcdCAqL1xuXHRcdHRoaXMuZHVyYXRpb24gPSAwO1xuXHRcblx0XHQvKipcblx0XHQgKiBUaGUgY3VycmVudCBub3JtYWxpemVkIHBvc2l0aW9uIG9mIHRoZSB0d2Vlbi4gVGhpcyB3aWxsIGFsd2F5cyBiZSBhIHZhbHVlIGJldHdlZW4gMCBhbmQgYGR1cmF0aW9uYC5cblx0XHQgKiBDaGFuZ2luZyB0aGlzIHByb3BlcnR5IGRpcmVjdGx5IHdpbGwgaGF2ZSB1bmV4cGVjdGVkIHJlc3VsdHMsIHVzZSB7eyNjcm9zc0xpbmsgXCJUd2Vlbi9zZXRQb3NpdGlvblwifX17ey9jcm9zc0xpbmt9fS5cblx0XHQgKiBAcHJvcGVydHkgcG9zaXRpb25cblx0XHQgKiBAdHlwZSB7T2JqZWN0fVxuXHRcdCAqIEBkZWZhdWx0IDBcblx0XHQgKiBAcmVhZG9ubHlcblx0XHQgKi9cblx0XHR0aGlzLnBvc2l0aW9uID0gMDtcblx0XHRcblx0XHQvKipcblx0XHQgKiBUaGUgcmF3IHR3ZWVuIHBvc2l0aW9uLiBUaGlzIHZhbHVlIHdpbGwgYmUgYmV0d2VlbiBgMGAgYW5kIGBsb29wcyAqIGR1cmF0aW9uYCB3aGlsZSB0aGUgdHdlZW4gaXMgYWN0aXZlLCBvciAtMSBiZWZvcmUgaXQgYWN0aXZhdGVzLlxuXHRcdCAqIEBwcm9wZXJ0eSByYXdQb3NpdGlvblxuXHRcdCAqIEB0eXBlIHtOdW1iZXJ9XG5cdFx0ICogQGRlZmF1bHQgLTFcblx0XHQgKiBAcmVhZG9ubHlcblx0XHQgKi9cblx0XHR0aGlzLnJhd1Bvc2l0aW9uID0gLTE7XG5cdFx0XG5cdFx0XG5cdC8vIHByaXZhdGUgcHJvcGVydGllczpcblx0XHQvKipcblx0XHQgKiBAcHJvcGVydHkgX3BhdXNlZFxuXHRcdCAqIEB0eXBlIHtCb29sZWFufVxuXHRcdCAqIEBkZWZhdWx0IGZhbHNlXG5cdFx0ICogQHByb3RlY3RlZFxuXHRcdCAqL1xuXHRcdHRoaXMuX3BhdXNlZCA9IHRydWU7XG5cdFx0XG5cdFx0LyoqXG5cdFx0ICogQHByb3BlcnR5IF9uZXh0XG5cdFx0ICogQHR5cGUge1R3ZWVufVxuXHRcdCAqIEBkZWZhdWx0IG51bGxcblx0XHQgKiBAcHJvdGVjdGVkXG5cdFx0ICovXG5cdFx0dGhpcy5fbmV4dCA9IG51bGw7XG5cdFx0XG5cdFx0LyoqXG5cdFx0ICogQHByb3BlcnR5IF9wcmV2XG5cdFx0ICogQHR5cGUge1R3ZWVufVxuXHRcdCAqIEBkZWZhdWx0IG51bGxcblx0XHQgKiBAcHJvdGVjdGVkXG5cdFx0ICovXG5cdFx0dGhpcy5fcHJldiA9IG51bGw7XG5cdFx0XG5cdFx0LyoqXG5cdFx0ICogQHByb3BlcnR5IF9wYXJlbnRcblx0XHQgKiBAdHlwZSB7T2JqZWN0fVxuXHRcdCAqIEBkZWZhdWx0IG51bGxcblx0XHQgKiBAcHJvdGVjdGVkXG5cdFx0ICovXG5cdFx0dGhpcy5fcGFyZW50ID0gbnVsbDtcblxuXHRcdC8qKlxuXHRcdCAqIEBwcm9wZXJ0eSBfbGFiZWxzXG5cdFx0ICogQHR5cGUgT2JqZWN0XG5cdFx0ICogQHByb3RlY3RlZFxuXHRcdCAqKi9cblx0XHR0aGlzLl9sYWJlbHMgPSBudWxsO1xuXG5cdFx0LyoqXG5cdFx0ICogQHByb3BlcnR5IF9sYWJlbExpc3Rcblx0XHQgKiBAdHlwZSBBcnJheVtPYmplY3RdXG5cdFx0ICogQHByb3RlY3RlZFxuXHRcdCAqKi9cblx0XHR0aGlzLl9sYWJlbExpc3QgPSBudWxsO1xuXG5cdFx0aWYgKHByb3BzKSB7XG5cdFx0XHR0aGlzLnVzZVRpY2tzID0gISFwcm9wcy51c2VUaWNrcztcblx0XHRcdHRoaXMuaWdub3JlR2xvYmFsUGF1c2UgPSAhIXByb3BzLmlnbm9yZUdsb2JhbFBhdXNlO1xuXHRcdFx0dGhpcy5sb29wID0gcHJvcHMubG9vcCA9PT0gdHJ1ZSA/IC0xIDogKHByb3BzLmxvb3B8fDApO1xuXHRcdFx0dGhpcy5yZXZlcnNlZCA9ICEhcHJvcHMucmV2ZXJzZWQ7XG5cdFx0XHR0aGlzLmJvdW5jZSA9ICEhcHJvcHMuYm91bmNlO1xuXHRcdFx0dGhpcy50aW1lU2NhbGUgPSBwcm9wcy50aW1lU2NhbGV8fDE7XG5cdFx0XHRwcm9wcy5vbkNoYW5nZSAmJiB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIiwgcHJvcHMub25DaGFuZ2UpO1xuXHRcdFx0cHJvcHMub25Db21wbGV0ZSAmJiB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoXCJjb21wbGV0ZVwiLCBwcm9wcy5vbkNvbXBsZXRlKTtcblx0XHR9XG5cdFx0XG5cdFx0Ly8gd2hpbGUgYHBvc2l0aW9uYCBpcyBzaGFyZWQsIGl0IG5lZWRzIHRvIGhhcHBlbiBhZnRlciBBTEwgcHJvcHMgYXJlIHNldCwgc28gaXQncyBoYW5kbGVkIGluIF9pbml0KClcblx0fTtcblxuXHR2YXIgcCA9IGNyZWF0ZWpzLmV4dGVuZChBYnN0cmFjdFR3ZWVuLCBjcmVhdGVqcy5FdmVudERpc3BhdGNoZXIpO1xuXG4vLyBldmVudHM6XG5cdC8qKlxuXHQgKiBEaXNwYXRjaGVkIHdoZW5ldmVyIHRoZSB0d2VlbidzIHBvc2l0aW9uIGNoYW5nZXMuIEl0IG9jY3VycyBhZnRlciBhbGwgdHdlZW5lZCBwcm9wZXJ0aWVzIGFyZSB1cGRhdGVkIGFuZCBhY3Rpb25zXG5cdCAqIGFyZSBleGVjdXRlZC5cblx0ICogQGV2ZW50IGNoYW5nZVxuXHQgKiovXG5cdCBcblx0LyoqXG5cdCAqIERpc3BhdGNoZWQgd2hlbiB0aGUgdHdlZW4gcmVhY2hlcyBpdHMgZW5kIGFuZCBoYXMgcGF1c2VkIGl0c2VsZi4gVGhpcyBkb2VzIG5vdCBmaXJlIHVudGlsIGFsbCBsb29wcyBhcmUgY29tcGxldGU7XG5cdCAqIHR3ZWVucyB0aGF0IGxvb3AgY29udGludW91c2x5IHdpbGwgbmV2ZXIgZmlyZSBhIGNvbXBsZXRlIGV2ZW50LlxuXHQgKiBAZXZlbnQgY29tcGxldGVcblx0ICoqL1xuXHRcbi8vIGdldHRlciAvIHNldHRlcnM6XG5cdFxuXHQvKipcblx0ICogVXNlIHRoZSB7eyNjcm9zc0xpbmsgXCJBYnN0cmFjdFR3ZWVuL3BhdXNlZDpwcm9wZXJ0eVwifX17ey9jcm9zc0xpbmt9fSBwcm9wZXJ0eSBpbnN0ZWFkLlxuXHQgKiBAbWV0aG9kIF9zZXRQYXVzZWRcblx0ICogQHBhcmFtIHtCb29sZWFufSBbdmFsdWU9dHJ1ZV0gSW5kaWNhdGVzIHdoZXRoZXIgdGhlIHR3ZWVuIHNob3VsZCBiZSBwYXVzZWQgKGB0cnVlYCkgb3IgcGxheWVkIChgZmFsc2VgKS5cblx0ICogQHJldHVybiB7QWJzdHJhY3RUd2Vlbn0gVGhpcyB0d2VlbiBpbnN0YW5jZSAoZm9yIGNoYWluaW5nIGNhbGxzKVxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqIEBjaGFpbmFibGVcblx0ICovXG5cdHAuX3NldFBhdXNlZCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG5cdFx0Y3JlYXRlanMuVHdlZW4uX3JlZ2lzdGVyKHRoaXMsIHZhbHVlKTtcblx0XHRyZXR1cm4gdGhpcztcblx0fTtcblx0cC5zZXRQYXVzZWQgPSBjcmVhdGVqcy5kZXByZWNhdGUocC5fc2V0UGF1c2VkLCBcIkFic3RyYWN0VHdlZW4uc2V0UGF1c2VkXCIpO1xuXHRcblx0LyoqXG5cdCAqIFVzZSB0aGUge3sjY3Jvc3NMaW5rIFwiQWJzdHJhY3RUd2Vlbi9wYXVzZWQ6cHJvcGVydHlcIn19e3svY3Jvc3NMaW5rfX0gcHJvcGVydHkgaW5zdGVhZC5cblx0ICogQG1ldGhvZCBfZ2V0UGF1c2VkXG5cdCAqIEBwcm90ZWN0ZWRcblx0ICovXG5cdHAuX2dldFBhdXNlZCA9IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLl9wYXVzZWQ7XG5cdH07XG5cdHAuZ2V0UGF1c2VkID0gY3JlYXRlanMuZGVwcmVjYXRlKHAuX2dldFBhdXNlZCwgXCJBYnN0YWN0VHdlZW4uZ2V0UGF1c2VkXCIpO1xuXHRcblx0LyoqXG5cdCAqIFVzZSB0aGUge3sjY3Jvc3NMaW5rIFwiQWJzdHJhY3RUd2Vlbi9jdXJyZW50TGFiZWw6cHJvcGVydHlcIn19e3svY3Jvc3NMaW5rfX0gcHJvcGVydHkgaW5zdGVhZC5cblx0ICogQG1ldGhvZCBfZ2V0Q3VycmVudExhYmVsXG5cdCAqIEBwcm90ZWN0ZWRcblx0ICogQHJldHVybiB7U3RyaW5nfSBUaGUgbmFtZSBvZiB0aGUgY3VycmVudCBsYWJlbCBvciBudWxsIGlmIHRoZXJlIGlzIG5vIGxhYmVsXG5cdCAqKi9cblx0cC5fZ2V0Q3VycmVudExhYmVsID0gZnVuY3Rpb24ocG9zKSB7XG5cdFx0dmFyIGxhYmVscyA9IHRoaXMuZ2V0TGFiZWxzKCk7XG5cdFx0aWYgKHBvcyA9PSBudWxsKSB7IHBvcyA9IHRoaXMucG9zaXRpb247IH1cblx0XHRmb3IgKHZhciBpID0gMCwgbCA9IGxhYmVscy5sZW5ndGg7IGk8bDsgaSsrKSB7IGlmIChwb3MgPCBsYWJlbHNbaV0ucG9zaXRpb24pIHsgYnJlYWs7IH0gfVxuXHRcdHJldHVybiAoaT09PTApID8gbnVsbCA6IGxhYmVsc1tpLTFdLmxhYmVsO1xuXHR9O1xuXHRwLmdldEN1cnJlbnRMYWJlbCA9IGNyZWF0ZWpzLmRlcHJlY2F0ZShwLl9nZXRDdXJyZW50TGFiZWwsIFwiQWJzdHJhY3RUd2Vlbi5nZXRDdXJyZW50TGFiZWxcIik7XG5cdFxuXHQvKipcblx0ICogUGF1c2VzIG9yIHVucGF1c2VzIHRoZSB0d2Vlbi4gQSBwYXVzZWQgdHdlZW4gaXMgcmVtb3ZlZCBmcm9tIHRoZSBnbG9iYWwgcmVnaXN0cnkgYW5kIGlzIGVsaWdpYmxlIGZvciBnYXJiYWdlXG5cdCAqIGNvbGxlY3Rpb24gaWYgbm8gb3RoZXIgcmVmZXJlbmNlcyB0byBpdCBleGlzdC5cblx0ICogQHByb3BlcnR5IHBhdXNlZFxuXHQgKiBAdHlwZSBCb29sZWFuXG5cdCAqIEByZWFkb25seVxuXHQgKiovXG5cdCBcblx0LyoqXG5cdCAqIFJldHVybnMgdGhlIG5hbWUgb2YgdGhlIGxhYmVsIG9uIG9yIGltbWVkaWF0ZWx5IGJlZm9yZSB0aGUgY3VycmVudCBwb3NpdGlvbi4gRm9yIGV4YW1wbGUsIGdpdmVuIGEgdHdlZW4gd2l0aFxuXHQgKiB0d28gbGFiZWxzLCBcImZpcnN0XCIgb24gZnJhbWUgaW5kZXggNCwgYW5kIFwic2Vjb25kXCIgb24gZnJhbWUgOCwgYGN1cnJlbnRMYWJlbGAgd291bGQgcmV0dXJuOlxuXHQgKiA8VUw+XG5cdCAqIFx0XHQ8TEk+bnVsbCBpZiB0aGUgY3VycmVudCBwb3NpdGlvbiBpcyAyLjwvTEk+XG5cdCAqIFx0XHQ8TEk+XCJmaXJzdFwiIGlmIHRoZSBjdXJyZW50IHBvc2l0aW9uIGlzIDQuPC9MST5cblx0ICogXHRcdDxMST5cImZpcnN0XCIgaWYgdGhlIGN1cnJlbnQgcG9zaXRpb24gaXMgNy48L0xJPlxuXHQgKiBcdFx0PExJPlwic2Vjb25kXCIgaWYgdGhlIGN1cnJlbnQgcG9zaXRpb24gaXMgMTUuPC9MST5cblx0ICogPC9VTD5cblx0ICogQHByb3BlcnR5IGN1cnJlbnRMYWJlbFxuXHQgKiBAdHlwZSBTdHJpbmdcblx0ICogQHJlYWRvbmx5XG5cdCAqKi9cblx0IFxuXHR0cnkge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHAsIHtcblx0XHRcdHBhdXNlZDogeyBzZXQ6IHAuX3NldFBhdXNlZCwgZ2V0OiBwLl9nZXRQYXVzZWQgfSxcblx0XHRcdGN1cnJlbnRMYWJlbDogeyBnZXQ6IHAuX2dldEN1cnJlbnRMYWJlbCB9XG5cdFx0fSk7XG5cdH0gY2F0Y2ggKGUpIHt9XG5cbi8vIHB1YmxpYyBtZXRob2RzOlxuXHQvKipcblx0ICogQWR2YW5jZXMgdGhlIHR3ZWVuIGJ5IGEgc3BlY2lmaWVkIGFtb3VudC5cblx0ICogQG1ldGhvZCBhZHZhbmNlXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBkZWx0YSBUaGUgYW1vdW50IHRvIGFkdmFuY2UgaW4gbWlsbGlzZWNvbmRzIChvciB0aWNrcyBpZiB1c2VUaWNrcyBpcyB0cnVlKS4gTmVnYXRpdmUgdmFsdWVzIGFyZSBzdXBwb3J0ZWQuXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBbaWdub3JlQWN0aW9ucz1mYWxzZV0gSWYgdHJ1ZSwgYWN0aW9ucyB3aWxsIG5vdCBiZSBleGVjdXRlZCBkdWUgdG8gdGhpcyBjaGFuZ2UgaW4gcG9zaXRpb24uXG5cdCAqL1xuXHRwLmFkdmFuY2UgPSBmdW5jdGlvbihkZWx0YSwgaWdub3JlQWN0aW9ucykge1xuXHRcdHRoaXMuc2V0UG9zaXRpb24odGhpcy5yYXdQb3NpdGlvbitkZWx0YSp0aGlzLnRpbWVTY2FsZSwgaWdub3JlQWN0aW9ucyk7XG5cdH07XG5cdFxuXHQvKipcblx0ICogQWR2YW5jZXMgdGhlIHR3ZWVuIHRvIGEgc3BlY2lmaWVkIHBvc2l0aW9uLlxuXHQgKiBAbWV0aG9kIHNldFBvc2l0aW9uXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSByYXdQb3NpdGlvbiBUaGUgcmF3IHBvc2l0aW9uIHRvIHNlZWsgdG8gaW4gbWlsbGlzZWNvbmRzIChvciB0aWNrcyBpZiB1c2VUaWNrcyBpcyB0cnVlKS5cblx0ICogQHBhcmFtIHtCb29sZWFufSBbaWdub3JlQWN0aW9ucz1mYWxzZV0gSWYgdHJ1ZSwgZG8gbm90IHJ1biBhbnkgYWN0aW9ucyB0aGF0IHdvdWxkIGJlIHRyaWdnZXJlZCBieSB0aGlzIG9wZXJhdGlvbi5cblx0ICogQHBhcmFtIHtCb29sZWFufSBbanVtcD1mYWxzZV0gSWYgdHJ1ZSwgb25seSBhY3Rpb25zIGF0IHRoZSBuZXcgcG9zaXRpb24gd2lsbCBiZSBydW4uIElmIGZhbHNlLCBhY3Rpb25zIGJldHdlZW4gdGhlIG9sZCBhbmQgbmV3IHBvc2l0aW9uIGFyZSBydW4uXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYWxsYmFja10gUHJpbWFyaWx5IGZvciB1c2Ugd2l0aCBNb3ZpZUNsaXAsIHRoaXMgY2FsbGJhY2sgaXMgY2FsbGVkIGFmdGVyIHByb3BlcnRpZXMgYXJlIHVwZGF0ZWQsIGJ1dCBiZWZvcmUgYWN0aW9ucyBhcmUgcnVuLlxuXHQgKi9cblx0cC5zZXRQb3NpdGlvbiA9IGZ1bmN0aW9uKHJhd1Bvc2l0aW9uLCBpZ25vcmVBY3Rpb25zLCBqdW1wLCBjYWxsYmFjaykge1xuXHRcdHZhciBkPXRoaXMuZHVyYXRpb24sIGxvb3BDb3VudD10aGlzLmxvb3AsIHByZXZSYXdQb3MgPSB0aGlzLnJhd1Bvc2l0aW9uO1xuXHRcdHZhciBsb29wPTAsIHQ9MCwgZW5kPWZhbHNlO1xuXHRcdFxuXHRcdC8vIG5vcm1hbGl6ZSBwb3NpdGlvbjpcblx0XHRpZiAocmF3UG9zaXRpb24gPCAwKSB7IHJhd1Bvc2l0aW9uID0gMDsgfVxuXHRcdFxuXHRcdGlmIChkID09PSAwKSB7XG5cdFx0XHQvLyBkZWFsIHdpdGggMCBsZW5ndGggdHdlZW5zLlxuXHRcdFx0ZW5kID0gdHJ1ZTtcblx0XHRcdGlmIChwcmV2UmF3UG9zICE9PSAtMSkgeyByZXR1cm4gZW5kOyB9IC8vIHdlIGNhbiBhdm9pZCBkb2luZyBhbnl0aGluZyBlbHNlIGlmIHdlJ3JlIGFscmVhZHkgYXQgMC5cblx0XHR9IGVsc2Uge1xuXHRcdFx0bG9vcCA9IHJhd1Bvc2l0aW9uL2R8MDtcblx0XHRcdHQgPSByYXdQb3NpdGlvbi1sb29wKmQ7XG5cdFx0XHRcblx0XHRcdGVuZCA9IChsb29wQ291bnQgIT09IC0xICYmIHJhd1Bvc2l0aW9uID49IGxvb3BDb3VudCpkK2QpO1xuXHRcdFx0aWYgKGVuZCkgeyByYXdQb3NpdGlvbiA9ICh0PWQpKihsb29wPWxvb3BDb3VudCkrZDsgfVxuXHRcdFx0aWYgKHJhd1Bvc2l0aW9uID09PSBwcmV2UmF3UG9zKSB7IHJldHVybiBlbmQ7IH0gLy8gbm8gbmVlZCB0byB1cGRhdGVcblx0XHRcdFxuXHRcdFx0dmFyIHJldiA9ICF0aGlzLnJldmVyc2VkICE9PSAhKHRoaXMuYm91bmNlICYmIGxvb3AlMik7IC8vIGN1cnJlbnQgbG9vcCBpcyByZXZlcnNlZFxuXHRcdFx0aWYgKHJldikgeyB0ID0gZC10OyB9XG5cdFx0fVxuXHRcdFxuXHRcdC8vIHNldCB0aGlzIGluIGFkdmFuY2UgaW4gY2FzZSBhbiBhY3Rpb24gbW9kaWZpZXMgcG9zaXRpb246XG5cdFx0dGhpcy5wb3NpdGlvbiA9IHQ7XG5cdFx0dGhpcy5yYXdQb3NpdGlvbiA9IHJhd1Bvc2l0aW9uO1xuXHRcdFxuXHRcdHRoaXMuX3VwZGF0ZVBvc2l0aW9uKGp1bXAsIGVuZCk7XG5cdFx0aWYgKGVuZCkgeyB0aGlzLnBhdXNlZCA9IHRydWU7IH1cblx0XHRcblx0XHRjYWxsYmFjayYmY2FsbGJhY2sodGhpcyk7XG5cdFx0XG5cdFx0aWYgKCFpZ25vcmVBY3Rpb25zKSB7IHRoaXMuX3J1bkFjdGlvbnMocHJldlJhd1BvcywgcmF3UG9zaXRpb24sIGp1bXAsICFqdW1wICYmIHByZXZSYXdQb3MgPT09IC0xKTsgfVxuXHRcdFxuXHRcdHRoaXMuZGlzcGF0Y2hFdmVudChcImNoYW5nZVwiKTtcblx0XHRpZiAoZW5kKSB7IHRoaXMuZGlzcGF0Y2hFdmVudChcImNvbXBsZXRlXCIpOyB9XG5cdH07XG5cdFxuXHQvKipcblx0ICogQ2FsY3VsYXRlcyBhIG5vcm1hbGl6ZWQgcG9zaXRpb24gYmFzZWQgb24gYSByYXcgcG9zaXRpb24uIEZvciBleGFtcGxlLCBnaXZlbiBhIHR3ZWVuIHdpdGggYSBkdXJhdGlvbiBvZiAzMDAwbXMgc2V0IHRvIGxvb3A6XG5cdCAqIFx0Y29uc29sZS5sb2cobXlUd2Vlbi5jYWxjdWxhdGVQb3NpdGlvbigzNzAwKTsgLy8gNzAwXG5cdCAqIEBtZXRob2QgY2FsY3VsYXRlUG9zaXRpb25cblx0ICogQHBhcmFtIHtOdW1iZXJ9IHJhd1Bvc2l0aW9uIEEgcmF3IHBvc2l0aW9uLlxuXHQgKi9cblx0cC5jYWxjdWxhdGVQb3NpdGlvbiA9IGZ1bmN0aW9uKHJhd1Bvc2l0aW9uKSB7XG5cdFx0Ly8gbGFyZ2VseSBkdXBsaWNhdGVkIGZyb20gc2V0UG9zaXRpb24sIGJ1dCBuZWNlc3NhcnkgdG8gYXZvaWQgaGF2aW5nIHRvIGluc3RhbnRpYXRlIGdlbmVyaWMgb2JqZWN0cyB0byBwYXNzIHZhbHVlcyAoZW5kLCBsb29wLCBwb3NpdGlvbikgYmFjay5cblx0XHR2YXIgZD10aGlzLmR1cmF0aW9uLCBsb29wQ291bnQ9dGhpcy5sb29wLCBsb29wPTAsIHQ9MDtcblx0XHRcblx0XHRpZiAoZD09PTApIHsgcmV0dXJuIDA7IH1cblx0XHRpZiAobG9vcENvdW50ICE9PSAtMSAmJiByYXdQb3NpdGlvbiA+PSBsb29wQ291bnQqZCtkKSB7IHQgPSBkOyBsb29wID0gbG9vcENvdW50IH0gLy8gZW5kXG5cdFx0ZWxzZSBpZiAocmF3UG9zaXRpb24gPCAwKSB7IHQgPSAwOyB9XG5cdFx0ZWxzZSB7IGxvb3AgPSByYXdQb3NpdGlvbi9kfDA7IHQgPSByYXdQb3NpdGlvbi1sb29wKmQ7ICB9XG5cdFx0XG5cdFx0dmFyIHJldiA9ICF0aGlzLnJldmVyc2VkICE9PSAhKHRoaXMuYm91bmNlICYmIGxvb3AlMik7IC8vIGN1cnJlbnQgbG9vcCBpcyByZXZlcnNlZFxuXHRcdHJldHVybiByZXYgPyBkLXQgOiB0O1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIFJldHVybnMgYSBsaXN0IG9mIHRoZSBsYWJlbHMgZGVmaW5lZCBvbiB0aGlzIHR3ZWVuIHNvcnRlZCBieSBwb3NpdGlvbi5cblx0ICogQG1ldGhvZCBnZXRMYWJlbHNcblx0ICogQHJldHVybiB7QXJyYXlbT2JqZWN0XX0gQSBzb3J0ZWQgYXJyYXkgb2Ygb2JqZWN0cyB3aXRoIGxhYmVsIGFuZCBwb3NpdGlvbiBwcm9wZXJ0aWVzLlxuXHQgKiovXG5cdHAuZ2V0TGFiZWxzID0gZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGxpc3QgPSB0aGlzLl9sYWJlbExpc3Q7XG5cdFx0aWYgKCFsaXN0KSB7XG5cdFx0XHRsaXN0ID0gdGhpcy5fbGFiZWxMaXN0ID0gW107XG5cdFx0XHR2YXIgbGFiZWxzID0gdGhpcy5fbGFiZWxzO1xuXHRcdFx0Zm9yICh2YXIgbiBpbiBsYWJlbHMpIHtcblx0XHRcdFx0bGlzdC5wdXNoKHtsYWJlbDpuLCBwb3NpdGlvbjpsYWJlbHNbbl19KTtcblx0XHRcdH1cblx0XHRcdGxpc3Quc29ydChmdW5jdGlvbiAoYSxiKSB7IHJldHVybiBhLnBvc2l0aW9uLSBiLnBvc2l0aW9uOyB9KTtcblx0XHR9XG5cdFx0cmV0dXJuIGxpc3Q7XG5cdH07XG5cdFxuXG5cdC8qKlxuXHQgKiBEZWZpbmVzIGxhYmVscyBmb3IgdXNlIHdpdGggZ290b0FuZFBsYXkvU3RvcC4gT3ZlcndyaXRlcyBhbnkgcHJldmlvdXNseSBzZXQgbGFiZWxzLlxuXHQgKiBAbWV0aG9kIHNldExhYmVsc1xuXHQgKiBAcGFyYW0ge09iamVjdH0gbGFiZWxzIEFuIG9iamVjdCBkZWZpbmluZyBsYWJlbHMgZm9yIHVzaW5nIHt7I2Nyb3NzTGluayBcIlRpbWVsaW5lL2dvdG9BbmRQbGF5XCJ9fXt7L2Nyb3NzTGlua319L3t7I2Nyb3NzTGluayBcIlRpbWVsaW5lL2dvdG9BbmRTdG9wXCJ9fXt7L2Nyb3NzTGlua319XG5cdCAqIGluIHRoZSBmb3JtIGB7bXlMYWJlbE5hbWU6dGltZX1gIHdoZXJlIHRpbWUgaXMgaW4gbWlsbGlzZWNvbmRzIChvciB0aWNrcyBpZiBgdXNlVGlja3NgIGlzIGB0cnVlYCkuXG5cdCAqKi9cblx0cC5zZXRMYWJlbHMgPSBmdW5jdGlvbihsYWJlbHMpIHtcblx0XHR0aGlzLl9sYWJlbHMgPSBsYWJlbHM7XG5cdFx0dGhpcy5fbGFiZWxMaXN0ID0gbnVsbDtcblx0fTtcblxuXHQvKipcblx0ICogQWRkcyBhIGxhYmVsIHRoYXQgY2FuIGJlIHVzZWQgd2l0aCB7eyNjcm9zc0xpbmsgXCJUaW1lbGluZS9nb3RvQW5kUGxheVwifX17ey9jcm9zc0xpbmt9fS97eyNjcm9zc0xpbmsgXCJUaW1lbGluZS9nb3RvQW5kU3RvcFwifX17ey9jcm9zc0xpbmt9fS5cblx0ICogQG1ldGhvZCBhZGRMYWJlbFxuXHQgKiBAcGFyYW0ge1N0cmluZ30gbGFiZWwgVGhlIGxhYmVsIG5hbWUuXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBwb3NpdGlvbiBUaGUgcG9zaXRpb24gdGhpcyBsYWJlbCByZXByZXNlbnRzLlxuXHQgKiovXG5cdHAuYWRkTGFiZWwgPSBmdW5jdGlvbihsYWJlbCwgcG9zaXRpb24pIHtcblx0XHRpZiAoIXRoaXMuX2xhYmVscykgeyB0aGlzLl9sYWJlbHMgPSB7fTsgfVxuXHRcdHRoaXMuX2xhYmVsc1tsYWJlbF0gPSBwb3NpdGlvbjtcblx0XHR2YXIgbGlzdCA9IHRoaXMuX2xhYmVsTGlzdDtcblx0XHRpZiAobGlzdCkge1xuXHRcdFx0Zm9yICh2YXIgaT0gMCxsPWxpc3QubGVuZ3RoOyBpPGw7IGkrKykgeyBpZiAocG9zaXRpb24gPCBsaXN0W2ldLnBvc2l0aW9uKSB7IGJyZWFrOyB9IH1cblx0XHRcdGxpc3Quc3BsaWNlKGksIDAsIHtsYWJlbDpsYWJlbCwgcG9zaXRpb246cG9zaXRpb259KTtcblx0XHR9XG5cdH07XG5cdFxuXHQvKipcblx0ICogVW5wYXVzZXMgdGhpcyB0aW1lbGluZSBhbmQganVtcHMgdG8gdGhlIHNwZWNpZmllZCBwb3NpdGlvbiBvciBsYWJlbC5cblx0ICogQG1ldGhvZCBnb3RvQW5kUGxheVxuXHQgKiBAcGFyYW0ge1N0cmluZ3xOdW1iZXJ9IHBvc2l0aW9uT3JMYWJlbCBUaGUgcG9zaXRpb24gaW4gbWlsbGlzZWNvbmRzIChvciB0aWNrcyBpZiBgdXNlVGlja3NgIGlzIGB0cnVlYClcblx0ICogb3IgbGFiZWwgdG8ganVtcCB0by5cblx0ICoqL1xuXHRwLmdvdG9BbmRQbGF5ID0gZnVuY3Rpb24ocG9zaXRpb25PckxhYmVsKSB7XG5cdFx0dGhpcy5wYXVzZWQgPSBmYWxzZTtcblx0XHR0aGlzLl9nb3RvKHBvc2l0aW9uT3JMYWJlbCk7XG5cdH07XG5cblx0LyoqXG5cdCAqIFBhdXNlcyB0aGlzIHRpbWVsaW5lIGFuZCBqdW1wcyB0byB0aGUgc3BlY2lmaWVkIHBvc2l0aW9uIG9yIGxhYmVsLlxuXHQgKiBAbWV0aG9kIGdvdG9BbmRTdG9wXG5cdCAqIEBwYXJhbSB7U3RyaW5nfE51bWJlcn0gcG9zaXRpb25PckxhYmVsIFRoZSBwb3NpdGlvbiBpbiBtaWxsaXNlY29uZHMgKG9yIHRpY2tzIGlmIGB1c2VUaWNrc2AgaXMgYHRydWVgKSBvciBsYWJlbFxuXHQgKiB0byBqdW1wIHRvLlxuXHQgKiovXG5cdHAuZ290b0FuZFN0b3AgPSBmdW5jdGlvbihwb3NpdGlvbk9yTGFiZWwpIHtcblx0XHR0aGlzLnBhdXNlZCA9IHRydWU7XG5cdFx0dGhpcy5fZ290byhwb3NpdGlvbk9yTGFiZWwpO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIElmIGEgbnVtZXJpYyBwb3NpdGlvbiBpcyBwYXNzZWQsIGl0IGlzIHJldHVybmVkIHVuY2hhbmdlZC4gSWYgYSBzdHJpbmcgaXMgcGFzc2VkLCB0aGUgcG9zaXRpb24gb2YgdGhlXG5cdCAqIGNvcnJlc3BvbmRpbmcgZnJhbWUgbGFiZWwgd2lsbCBiZSByZXR1cm5lZCwgb3IgYG51bGxgIGlmIGEgbWF0Y2hpbmcgbGFiZWwgaXMgbm90IGRlZmluZWQuXG5cdCAqIEBtZXRob2QgcmVzb2x2ZVxuXHQgKiBAcGFyYW0ge1N0cmluZ3xOdW1iZXJ9IHBvc2l0aW9uT3JMYWJlbCBBIG51bWVyaWMgcG9zaXRpb24gdmFsdWUgb3IgbGFiZWwgc3RyaW5nLlxuXHQgKiovXG5cdHAucmVzb2x2ZSA9IGZ1bmN0aW9uKHBvc2l0aW9uT3JMYWJlbCkge1xuXHRcdHZhciBwb3MgPSBOdW1iZXIocG9zaXRpb25PckxhYmVsKTtcblx0XHRpZiAoaXNOYU4ocG9zKSkgeyBwb3MgPSB0aGlzLl9sYWJlbHMgJiYgdGhpcy5fbGFiZWxzW3Bvc2l0aW9uT3JMYWJlbF07IH1cblx0XHRyZXR1cm4gcG9zO1xuXHR9O1xuXHRcblxuXHQvKipcblx0ICogUmV0dXJucyBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGlzIG9iamVjdC5cblx0ICogQG1ldGhvZCB0b1N0cmluZ1xuXHQgKiBAcmV0dXJuIHtTdHJpbmd9IGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBpbnN0YW5jZS5cblx0ICovXG5cdHAudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gXCJbQWJzdHJhY3RUd2Vlbl1cIjtcblx0fTtcblxuXHQvKipcblx0ICogQG1ldGhvZCBjbG9uZVxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqL1xuXHRwLmNsb25lID0gZnVuY3Rpb24oKSB7XG5cdFx0dGhyb3coXCJBYnN0cmFjdFR3ZWVuIGNhbiBub3QgYmUgY2xvbmVkLlwiKVxuXHR9O1xuXG5cbi8vIHByaXZhdGUgbWV0aG9kczpcblx0LyoqXG5cdCAqIFNoYXJlZCBsb2dpYyB0aGF0IGV4ZWN1dGVzIGF0IHRoZSBlbmQgb2YgdGhlIHN1YmNsYXNzIGNvbnN0cnVjdG9yLlxuXHQgKiBAbWV0aG9kIF9pbml0XG5cdCAqIEBwcm90ZWN0ZWRcblx0ICovXG5cdHAuX2luaXQgPSBmdW5jdGlvbihwcm9wcykge1xuXHRcdGlmICghcHJvcHMgfHwgIXByb3BzLnBhdXNlZCkgeyB0aGlzLnBhdXNlZCA9IGZhbHNlOyB9XG5cdFx0aWYgKHByb3BzJiYocHJvcHMucG9zaXRpb24hPW51bGwpKSB7IHRoaXMuc2V0UG9zaXRpb24ocHJvcHMucG9zaXRpb24pOyB9XG5cdH07XG5cblx0LyoqXG5cdCAqIEBtZXRob2QgX3VwZGF0ZVBvc2l0aW9uXG5cdCAqIEBwcm90ZWN0ZWRcblx0ICovXG5cdHAuX3VwZGF0ZVBvc2l0aW9uID0gZnVuY3Rpb24oanVtcCwgZW5kKSB7XG5cdFx0Ly8gYWJzdHJhY3QuXG5cdH07XG5cdFxuXHQvKipcblx0ICogQG1ldGhvZCBfZ290b1xuXHQgKiBAcHJvdGVjdGVkXG5cdCAqKi9cblx0cC5fZ290byA9IGZ1bmN0aW9uKHBvc2l0aW9uT3JMYWJlbCkge1xuXHRcdHZhciBwb3MgPSB0aGlzLnJlc29sdmUocG9zaXRpb25PckxhYmVsKTtcblx0XHRpZiAocG9zICE9IG51bGwpIHsgdGhpcy5zZXRQb3NpdGlvbihwb3MsIGZhbHNlLCB0cnVlKTsgfVxuXHR9O1xuXHRcblx0LyoqXG5cdCAqIEBtZXRob2QgX3J1bkFjdGlvbnNcblx0ICogQHByb3RlY3RlZFxuXHQgKi9cblx0cC5fcnVuQWN0aW9ucyA9IGZ1bmN0aW9uKHN0YXJ0UmF3UG9zLCBlbmRSYXdQb3MsIGp1bXAsIGluY2x1ZGVTdGFydCkge1xuXHRcdC8vIHJ1bnMgYWN0aW9ucyBiZXR3ZWVuIHN0YXJ0UG9zICYgZW5kUG9zLiBTZXBhcmF0ZWQgdG8gc3VwcG9ydCBhY3Rpb24gZGVmZXJyYWwuXG5cdFx0XG5cdFx0Ly9jb25zb2xlLmxvZyh0aGlzLnBhc3NpdmUgPT09IGZhbHNlID8gXCIgPiBUd2VlblwiIDogXCJUaW1lbGluZVwiLCBcInJ1blwiLCBzdGFydFJhd1BvcywgZW5kUmF3UG9zLCBqdW1wLCBpbmNsdWRlU3RhcnQpO1xuXHRcdFxuXHRcdC8vIGlmIHdlIGRvbid0IGhhdmUgYW55IGFjdGlvbnMsIGFuZCB3ZSdyZSBub3QgYSBUaW1lbGluZSwgdGhlbiByZXR1cm46XG5cdFx0Ly8gVE9ETzogYSBjbGVhbmVyIHdheSB0byBoYW5kbGUgdGhpcyB3b3VsZCBiZSB0byBvdmVycmlkZSB0aGlzIG1ldGhvZCBpbiBUd2VlbiwgYnV0IEknbSBub3Qgc3VyZSBpdCdzIHdvcnRoIHRoZSBvdmVyaGVhZC5cblx0XHRpZiAoIXRoaXMuX2FjdGlvbkhlYWQgJiYgIXRoaXMudHdlZW5zKSB7IHJldHVybjsgfSBcblx0XHRcblx0XHR2YXIgZD10aGlzLmR1cmF0aW9uLCByZXZlcnNlZD10aGlzLnJldmVyc2VkLCBib3VuY2U9dGhpcy5ib3VuY2UsIGxvb3BDb3VudD10aGlzLmxvb3A7XG5cdFx0dmFyIGxvb3AwLCBsb29wMSwgdDAsIHQxO1xuXHRcdFxuXHRcdGlmIChkID09PSAwKSB7XG5cdFx0XHQvLyBkZWFsIHdpdGggMCBsZW5ndGggdHdlZW5zOlxuXHRcdFx0bG9vcDAgPSBsb29wMSA9IHQwID0gdDEgPSAwO1xuXHRcdFx0cmV2ZXJzZWQgPSBib3VuY2UgPSBmYWxzZTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0bG9vcDA9c3RhcnRSYXdQb3MvZHwwO1xuXHRcdFx0bG9vcDE9ZW5kUmF3UG9zL2R8MDtcblx0XHRcdHQwPXN0YXJ0UmF3UG9zLWxvb3AwKmQ7XG5cdFx0XHR0MT1lbmRSYXdQb3MtbG9vcDEqZDtcblx0XHR9XG5cdFx0XG5cdFx0Ly8gY2F0Y2ggcG9zaXRpb25zIHRoYXQgYXJlIHBhc3QgdGhlIGVuZDpcblx0XHRpZiAobG9vcENvdW50ICE9PSAtMSkge1xuXHRcdFx0aWYgKGxvb3AxID4gbG9vcENvdW50KSB7IHQxPWQ7IGxvb3AxPWxvb3BDb3VudDsgfVxuXHRcdFx0aWYgKGxvb3AwID4gbG9vcENvdW50KSB7IHQwPWQ7IGxvb3AwPWxvb3BDb3VudDsgfVxuXHRcdH1cblx0XHRcblx0XHQvLyBzcGVjaWFsIGNhc2VzOlxuXHRcdGlmIChqdW1wKSB7IHJldHVybiB0aGlzLl9ydW5BY3Rpb25zUmFuZ2UodDEsIHQxLCBqdW1wLCBpbmNsdWRlU3RhcnQpOyB9IC8vIGp1bXAuXG5cdFx0ZWxzZSBpZiAobG9vcDAgPT09IGxvb3AxICYmIHQwID09PSB0MSAmJiAhanVtcCAmJiAhaW5jbHVkZVN0YXJ0KSB7IHJldHVybjsgfSAvLyBubyBhY3Rpb25zIGlmIHRoZSBwb3NpdGlvbiBpcyBpZGVudGljYWwgYW5kIHdlIGFyZW4ndCBpbmNsdWRpbmcgdGhlIHN0YXJ0XG5cdFx0ZWxzZSBpZiAobG9vcDAgPT09IC0xKSB7IGxvb3AwID0gdDAgPSAwOyB9IC8vIGNvcnJlY3QgdGhlIC0xIHZhbHVlIGZvciBmaXJzdCBhZHZhbmNlLCBpbXBvcnRhbnQgd2l0aCB1c2VUaWNrcy5cblx0XHRcblx0XHR2YXIgZGlyID0gKHN0YXJ0UmF3UG9zIDw9IGVuZFJhd1BvcyksIGxvb3AgPSBsb29wMDtcblx0XHRkbyB7XG5cdFx0XHR2YXIgcmV2ID0gIXJldmVyc2VkICE9PSAhKGJvdW5jZSAmJiBsb29wICUgMik7XG5cblx0XHRcdHZhciBzdGFydCA9IChsb29wID09PSBsb29wMCkgPyB0MCA6IGRpciA/IDAgOiBkO1xuXHRcdFx0dmFyIGVuZCA9IChsb29wID09PSBsb29wMSkgPyB0MSA6IGRpciA/IGQgOiAwO1xuXHRcdFx0XG5cdFx0XHRpZiAocmV2KSB7XG5cdFx0XHRcdHN0YXJ0ID0gZCAtIHN0YXJ0O1xuXHRcdFx0XHRlbmQgPSBkIC0gZW5kO1xuXHRcdFx0fVxuXHRcdFx0XG5cdFx0XHRpZiAoYm91bmNlICYmIGxvb3AgIT09IGxvb3AwICYmIHN0YXJ0ID09PSBlbmQpIHsgLyogYm91bmNlZCBvbnRvIHRoZSBzYW1lIHRpbWUvZnJhbWUsIGRvbid0IHJlLWV4ZWN1dGUgZW5kIGFjdGlvbnMgKi8gfVxuXHRcdFx0ZWxzZSBpZiAodGhpcy5fcnVuQWN0aW9uc1JhbmdlKHN0YXJ0LCBlbmQsIGp1bXAsIGluY2x1ZGVTdGFydCB8fCAobG9vcCAhPT0gbG9vcDAgJiYgIWJvdW5jZSkpKSB7IHJldHVybiB0cnVlOyB9XG5cdFx0XHRcdFxuXHRcdFx0aW5jbHVkZVN0YXJ0ID0gZmFsc2U7XG5cdFx0fSB3aGlsZSAoKGRpciAmJiArK2xvb3AgPD0gbG9vcDEpIHx8ICghZGlyICYmIC0tbG9vcCA+PSBsb29wMSkpO1xuXHR9O1xuXHRcblx0cC5fcnVuQWN0aW9uc1JhbmdlID0gZnVuY3Rpb24oc3RhcnRQb3MsIGVuZFBvcywganVtcCwgaW5jbHVkZVN0YXJ0KSB7XG5cdFx0Ly8gYWJzdHJhY3Rcblx0fTtcblxuXHRjcmVhdGVqcy5BYnN0cmFjdFR3ZWVuID0gY3JlYXRlanMucHJvbW90ZShBYnN0cmFjdFR3ZWVuLCBcIkV2ZW50RGlzcGF0Y2hlclwiKTtcbn0oKSk7XG5cbi8vIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXG4vLyBUd2Vlbi5qc1xuLy8jIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyNcblxuKGZ1bmN0aW9uKCkge1xuXHRcInVzZSBzdHJpY3RcIjtcblxuXG4vLyBjb25zdHJ1Y3RvclxuXHQvKipcblx0ICogVHdlZW5zIHByb3BlcnRpZXMgZm9yIGEgc2luZ2xlIHRhcmdldC4gTWV0aG9kcyBjYW4gYmUgY2hhaW5lZCB0byBjcmVhdGUgY29tcGxleCBhbmltYXRpb24gc2VxdWVuY2VzOlxuXHQgKlxuXHQgKiA8aDQ+RXhhbXBsZTwvaDQ+XG5cdCAqXG5cdCAqXHRjcmVhdGVqcy5Ud2Vlbi5nZXQodGFyZ2V0KVxuXHQgKlx0XHQud2FpdCg1MDApXG5cdCAqXHRcdC50byh7YWxwaGE6MCwgdmlzaWJsZTpmYWxzZX0sIDEwMDApXG5cdCAqXHRcdC5jYWxsKGhhbmRsZUNvbXBsZXRlKTtcblx0ICpcblx0ICogTXVsdGlwbGUgdHdlZW5zIGNhbiBzaGFyZSBhIHRhcmdldCwgaG93ZXZlciBpZiB0aGV5IGFmZmVjdCB0aGUgc2FtZSBwcm9wZXJ0aWVzIHRoZXJlIGNvdWxkIGJlIHVuZXhwZWN0ZWRcblx0ICogYmVoYXZpb3VyLiBUbyBzdG9wIGFsbCB0d2VlbnMgb24gYW4gb2JqZWN0LCB1c2Uge3sjY3Jvc3NMaW5rIFwiVHdlZW4vcmVtb3ZlVHdlZW5zXCJ9fXt7L2Nyb3NzTGlua319IG9yIHBhc3MgYG92ZXJyaWRlOnRydWVgXG5cdCAqIGluIHRoZSBwcm9wcyBhcmd1bWVudC5cblx0ICpcblx0ICogXHRjcmVhdGVqcy5Ud2Vlbi5nZXQodGFyZ2V0LCB7b3ZlcnJpZGU6dHJ1ZX0pLnRvKHt4OjEwMH0pO1xuXHQgKlxuXHQgKiBTdWJzY3JpYmUgdG8gdGhlIHt7I2Nyb3NzTGluayBcIlR3ZWVuL2NoYW5nZTpldmVudFwifX17ey9jcm9zc0xpbmt9fSBldmVudCB0byBiZSBub3RpZmllZCB3aGVuIHRoZSB0d2VlbiBwb3NpdGlvbiBjaGFuZ2VzLlxuXHQgKlxuXHQgKiBcdGNyZWF0ZWpzLlR3ZWVuLmdldCh0YXJnZXQsIHtvdmVycmlkZTp0cnVlfSkudG8oe3g6MTAwfSkuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCBoYW5kbGVDaGFuZ2UpO1xuXHQgKiBcdGZ1bmN0aW9uIGhhbmRsZUNoYW5nZShldmVudCkge1xuXHQgKiBcdFx0Ly8gVGhlIHR3ZWVuIGNoYW5nZWQuXG5cdCAqIFx0fVxuXHQgKlxuXHQgKiBTZWUgdGhlIHt7I2Nyb3NzTGluayBcIlR3ZWVuL2dldFwifX17ey9jcm9zc0xpbmt9fSBtZXRob2QgYWxzby5cblx0ICogQGNsYXNzIFR3ZWVuXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSB0YXJnZXQgVGhlIHRhcmdldCBvYmplY3QgdGhhdCB3aWxsIGhhdmUgaXRzIHByb3BlcnRpZXMgdHdlZW5lZC5cblx0ICogQHBhcmFtIHtPYmplY3R9IFtwcm9wc10gVGhlIGNvbmZpZ3VyYXRpb24gcHJvcGVydGllcyB0byBhcHBseSB0byB0aGlzIGluc3RhbmNlIChleC4gYHtsb29wOi0xLCBwYXVzZWQ6dHJ1ZX1gKS5cblx0ICogU3VwcG9ydGVkIHByb3BzIGFyZSBsaXN0ZWQgYmVsb3cuIFRoZXNlIHByb3BzIGFyZSBzZXQgb24gdGhlIGNvcnJlc3BvbmRpbmcgaW5zdGFuY2UgcHJvcGVydGllcyBleGNlcHQgd2hlcmVcblx0ICogc3BlY2lmaWVkLlxuXHQgKiBAcGFyYW0ge2Jvb2xlYW59IFtwcm9wcy51c2VUaWNrcz1mYWxzZV0gIFNlZSB0aGUge3sjY3Jvc3NMaW5rIFwiQWJzdHJhY3RUd2Vlbi91c2VUaWNrczpwcm9wZXJ0eVwifX17ey9jcm9zc0xpbmt9fSBwcm9wZXJ0eSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cblx0ICogQHBhcmFtIHtib29sZWFufSBbcHJvcHMuaWdub3JlR2xvYmFsUGF1c2U9ZmFsc2VdIFNlZSB0aGUge3sjY3Jvc3NMaW5rIFwiQWJzdHJhY3RUd2Vlbi9pZ25vcmVHbG9iYWxQYXVzZTpwcm9wZXJ0eVwifX17ey9jcm9zc0xpbmt9fSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cblx0ICogQHBhcmFtIHtudW1iZXJ8Ym9vbGVhbn0gW3Byb3BzLmxvb3A9MF0gU2VlIHRoZSB7eyNjcm9zc0xpbmsgXCJBYnN0cmFjdFR3ZWVuL2xvb3A6cHJvcGVydHlcIn19e3svY3Jvc3NMaW5rfX0gZm9yIG1vcmUgaW5mb3JtYXRpb24uXG5cdCAqIEBwYXJhbSB7Ym9vbGVhbn0gW3Byb3BzLnJldmVyc2VkPWZhbHNlXSBTZWUgdGhlIHt7I2Nyb3NzTGluayBcIkFic3RyYWN0VHdlZW4vcmV2ZXJzZWQ6cHJvcGVydHlcIn19e3svY3Jvc3NMaW5rfX0gZm9yIG1vcmUgaW5mb3JtYXRpb24uXG5cdCAqIEBwYXJhbSB7Ym9vbGVhbn0gW3Byb3BzLmJvdW5jZT1mYWxzZV0gU2VlIHRoZSB7eyNjcm9zc0xpbmsgXCJBYnN0cmFjdFR3ZWVuL2JvdW5jZTpwcm9wZXJ0eVwifX17ey9jcm9zc0xpbmt9fSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cblx0ICogQHBhcmFtIHtudW1iZXJ9IFtwcm9wcy50aW1lU2NhbGU9MV0gU2VlIHRoZSB7eyNjcm9zc0xpbmsgXCJBYnN0cmFjdFR3ZWVuL3RpbWVTY2FsZTpwcm9wZXJ0eVwifX17ey9jcm9zc0xpbmt9fSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cblx0ICogQHBhcmFtIHtvYmplY3R9IFtwcm9wcy5wbHVnaW5EYXRhXSBTZWUgdGhlIHt7I2Nyb3NzTGluayBcIlR3ZWVuL3BsdWdpbkRhdGE6cHJvcGVydHlcIn19e3svY3Jvc3NMaW5rfX0gZm9yIG1vcmUgaW5mb3JtYXRpb24uXG5cdCAqIEBwYXJhbSB7Ym9vbGVhbn0gW3Byb3BzLnBhdXNlZD1mYWxzZV0gU2VlIHRoZSB7eyNjcm9zc0xpbmsgXCJBYnN0cmFjdFR3ZWVuL3BhdXNlZDpwcm9wZXJ0eVwifX17ey9jcm9zc0xpbmt9fSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cblx0ICogQHBhcmFtIHtudW1iZXJ9IFtwcm9wcy5wb3NpdGlvbj0wXSBUaGUgaW5pdGlhbCBwb3NpdGlvbiBmb3IgdGhpcyB0d2Vlbi4gU2VlIHt7I2Nyb3NzTGluayBcIkFic3RyYWN0VHdlZW4vcG9zaXRpb246cHJvcGVydHlcIn19e3svY3Jvc3NMaW5rfX1cblx0ICogQHBhcmFtIHtGdW5jdGlvbn0gW3Byb3BzLm9uQ2hhbmdlXSBBZGRzIHRoZSBzcGVjaWZpZWQgZnVuY3Rpb24gYXMgYSBsaXN0ZW5lciB0byB0aGUge3sjY3Jvc3NMaW5rIFwiQWJzdHJhY3RUd2Vlbi9jaGFuZ2U6ZXZlbnRcIn19e3svY3Jvc3NMaW5rfX0gZXZlbnRcblx0ICogQHBhcmFtIHtGdW5jdGlvbn0gW3Byb3BzLm9uQ29tcGxldGVdIEFkZHMgdGhlIHNwZWNpZmllZCBmdW5jdGlvbiBhcyBhIGxpc3RlbmVyIHRvIHRoZSB7eyNjcm9zc0xpbmsgXCJBYnN0cmFjdFR3ZWVuL2NvbXBsZXRlOmV2ZW50XCJ9fXt7L2Nyb3NzTGlua319IGV2ZW50XG5cdCAqIEBwYXJhbSB7Ym9vbGVhbn0gW3Byb3BzLm92ZXJyaWRlPWZhbHNlXSBSZW1vdmVzIGFsbCBleGlzdGluZyB0d2VlbnMgZm9yIHRoZSB0YXJnZXQgd2hlbiBzZXQgdG8gYHRydWVgLlxuXHQgKiA8L1VMPlxuXHQgKiBAZXh0ZW5kcyBBYnN0cmFjdFR3ZWVuXG5cdCAqIEBjb25zdHJ1Y3RvclxuXHQgKi9cblx0ZnVuY3Rpb24gVHdlZW4odGFyZ2V0LCBwcm9wcykge1xuXHRcdHRoaXMuQWJzdHJhY3RUd2Vlbl9jb25zdHJ1Y3Rvcihwcm9wcyk7XG5cdFx0XG5cdC8vIHB1YmxpYyBwcm9wZXJ0aWVzOlxuXHRcblx0XHQvKipcblx0XHQgKiBBbGxvd3MgeW91IHRvIHNwZWNpZnkgZGF0YSB0aGF0IHdpbGwgYmUgdXNlZCBieSBpbnN0YWxsZWQgcGx1Z2lucy4gRWFjaCBwbHVnaW4gdXNlcyB0aGlzIGRpZmZlcmVudGx5LCBidXQgaW4gZ2VuZXJhbFxuXHRcdCAqIHlvdSBzcGVjaWZ5IGRhdGEgYnkgYXNzaWduaW5nIGl0IHRvIGEgcHJvcGVydHkgb2YgYHBsdWdpbkRhdGFgIHdpdGggdGhlIHNhbWUgbmFtZSBhcyB0aGUgcGx1Z2luLlxuXHRcdCAqIE5vdGUgdGhhdCBpbiBtYW55IGNhc2VzLCB0aGlzIGRhdGEgaXMgdXNlZCBhcyBzb29uIGFzIHRoZSBwbHVnaW4gaW5pdGlhbGl6ZXMgaXRzZWxmIGZvciB0aGUgdHdlZW4uXG5cdFx0ICogQXMgc3VjaCwgdGhpcyBkYXRhIHNob3VsZCBiZSBzZXQgYmVmb3JlIHRoZSBmaXJzdCBgdG9gIGNhbGwgaW4gbW9zdCBjYXNlcy5cblx0XHQgKiBAZXhhbXBsZVxuXHRcdCAqXHRteVR3ZWVuLnBsdWdpbkRhdGEuU21hcnRSb3RhdGlvbiA9IGRhdGE7XG5cdFx0ICogXG5cdFx0ICogTW9zdCBwbHVnaW5zIGFsc28gc3VwcG9ydCBhIHByb3BlcnR5IHRvIGRpc2FibGUgdGhlbSBmb3IgYSBzcGVjaWZpYyB0d2Vlbi4gVGhpcyBpcyB0eXBpY2FsbHkgdGhlIHBsdWdpbiBuYW1lIGZvbGxvd2VkIGJ5IFwiX2Rpc2FibGVkXCIuXG5cdFx0ICogQGV4YW1wbGVcblx0XHQgKlx0bXlUd2Vlbi5wbHVnaW5EYXRhLlNtYXJ0Um90YXRpb25fZGlzYWJsZWQgPSB0cnVlO1xuXHRcdCAqIFxuXHRcdCAqIFNvbWUgcGx1Z2lucyBhbHNvIHN0b3JlIHdvcmtpbmcgZGF0YSBpbiB0aGlzIG9iamVjdCwgdXN1YWxseSBpbiBhIHByb3BlcnR5IG5hbWVkIGBfUGx1Z2luQ2xhc3NOYW1lYC5cblx0XHQgKiBTZWUgdGhlIGRvY3VtZW50YXRpb24gZm9yIGluZGl2aWR1YWwgcGx1Z2lucyBmb3IgbW9yZSBkZXRhaWxzLlxuXHRcdCAqIEBwcm9wZXJ0eSBwbHVnaW5EYXRhXG5cdFx0ICogQHR5cGUge09iamVjdH1cblx0XHQgKi9cblx0XHR0aGlzLnBsdWdpbkRhdGEgPSBudWxsO1xuXHRcblx0XHQvKipcblx0XHQgKiBUaGUgdGFyZ2V0IG9mIHRoaXMgdHdlZW4uIFRoaXMgaXMgdGhlIG9iamVjdCBvbiB3aGljaCB0aGUgdHdlZW5lZCBwcm9wZXJ0aWVzIHdpbGwgYmUgY2hhbmdlZC5cblx0XHQgKiBAcHJvcGVydHkgdGFyZ2V0XG5cdFx0ICogQHR5cGUge09iamVjdH1cblx0XHQgKiBAcmVhZG9ubHlcblx0XHQgKi9cblx0XHR0aGlzLnRhcmdldCA9IHRhcmdldDtcblx0XG5cdFx0LyoqXG5cdFx0ICogSW5kaWNhdGVzIHRoZSB0d2VlbidzIGN1cnJlbnQgcG9zaXRpb24gaXMgd2l0aGluIGEgcGFzc2l2ZSB3YWl0LlxuXHRcdCAqIEBwcm9wZXJ0eSBwYXNzaXZlXG5cdFx0ICogQHR5cGUge0Jvb2xlYW59XG5cdFx0ICogQGRlZmF1bHQgZmFsc2Vcblx0XHQgKiBAcmVhZG9ubHlcblx0XHQgKiovXG5cdFx0dGhpcy5wYXNzaXZlID0gZmFsc2U7XG5cdFx0XG5cdFx0XG5cdC8vIHByaXZhdGUgcHJvcGVydGllczpcblx0XG5cdFx0LyoqXG5cdFx0ICogQHByb3BlcnR5IF9zdGVwSGVhZFxuXHRcdCAqIEB0eXBlIHtUd2VlblN0ZXB9XG5cdFx0ICogQHByb3RlY3RlZFxuXHRcdCAqL1xuXHRcdHRoaXMuX3N0ZXBIZWFkID0gbmV3IFR3ZWVuU3RlcChudWxsLCAwLCAwLCB7fSwgbnVsbCwgdHJ1ZSk7XG5cdFx0XG5cdFx0LyoqXG5cdFx0ICogQHByb3BlcnR5IF9zdGVwVGFpbFxuXHRcdCAqIEB0eXBlIHtUd2VlblN0ZXB9XG5cdFx0ICogQHByb3RlY3RlZFxuXHRcdCAqL1xuXHRcdHRoaXMuX3N0ZXBUYWlsID0gdGhpcy5fc3RlcEhlYWQ7XG5cdFx0XG5cdFx0LyoqXG5cdFx0ICogVGhlIHBvc2l0aW9uIHdpdGhpbiB0aGUgY3VycmVudCBzdGVwLiBVc2VkIGJ5IE1vdmllQ2xpcC5cblx0XHQgKiBAcHJvcGVydHkgX3N0ZXBQb3NpdGlvblxuXHRcdCAqIEB0eXBlIHtOdW1iZXJ9XG5cdFx0ICogQGRlZmF1bHQgMFxuXHRcdCAqIEBwcm90ZWN0ZWRcblx0XHQgKi9cblx0XHR0aGlzLl9zdGVwUG9zaXRpb24gPSAwO1xuXHRcdFxuXHRcdC8qKlxuXHRcdCAqIEBwcm9wZXJ0eSBfYWN0aW9uSGVhZFxuXHRcdCAqIEB0eXBlIHtUd2VlbkFjdGlvbn1cblx0XHQgKiBAcHJvdGVjdGVkXG5cdFx0ICovXG5cdFx0dGhpcy5fYWN0aW9uSGVhZCA9IG51bGw7XG5cdFx0XG5cdFx0LyoqXG5cdFx0ICogQHByb3BlcnR5IF9hY3Rpb25UYWlsXG5cdFx0ICogQHR5cGUge1R3ZWVuQWN0aW9ufVxuXHRcdCAqIEBwcm90ZWN0ZWRcblx0XHQgKi9cblx0XHR0aGlzLl9hY3Rpb25UYWlsID0gbnVsbDtcblx0XHRcblx0XHQvKipcblx0XHQgKiBQbHVnaW5zIGFkZGVkIHRvIHRoaXMgdHdlZW4gaW5zdGFuY2UuXG5cdFx0ICogQHByb3BlcnR5IF9wbHVnaW5zXG5cdFx0ICogQHR5cGUgQXJyYXlbT2JqZWN0XVxuXHRcdCAqIEBkZWZhdWx0IG51bGxcblx0XHQgKiBAcHJvdGVjdGVkXG5cdFx0ICovXG5cdFx0dGhpcy5fcGx1Z2lucyA9IG51bGw7XG5cdFx0XG5cdFx0LyoqXG5cdFx0ICogSGFzaCBmb3IgcXVpY2tseSBsb29raW5nIHVwIGFkZGVkIHBsdWdpbnMuIE51bGwgdW50aWwgYSBwbHVnaW4gaXMgYWRkZWQuXG5cdFx0ICogQHByb3BlcnR5IF9wbHVnaW5zXG5cdFx0ICogQHR5cGUgT2JqZWN0XG5cdFx0ICogQGRlZmF1bHQgbnVsbFxuXHRcdCAqIEBwcm90ZWN0ZWRcblx0XHQgKi9cblx0XHR0aGlzLl9wbHVnaW5JZHMgPSBudWxsO1xuXHRcdFxuXHRcdC8qKlxuXHRcdCAqIFVzZWQgYnkgcGx1Z2lucyB0byBpbmplY3QgbmV3IHByb3BlcnRpZXMuXG5cdFx0ICogQHByb3BlcnR5IF9pbmplY3RlZFxuXHRcdCAqIEB0eXBlIHtPYmplY3R9XG5cdFx0ICogQGRlZmF1bHQgbnVsbFxuXHRcdCAqIEBwcm90ZWN0ZWRcblx0XHQgKi9cblx0XHR0aGlzLl9pbmplY3RlZCA9IG51bGw7XG5cblx0XHRpZiAocHJvcHMpIHtcblx0XHRcdHRoaXMucGx1Z2luRGF0YSA9IHByb3BzLnBsdWdpbkRhdGE7XG5cdFx0XHRpZiAocHJvcHMub3ZlcnJpZGUpIHsgVHdlZW4ucmVtb3ZlVHdlZW5zKHRhcmdldCk7IH1cblx0XHR9XG5cdFx0aWYgKCF0aGlzLnBsdWdpbkRhdGEpIHsgdGhpcy5wbHVnaW5EYXRhID0ge307IH1cblx0XHRcblx0XHR0aGlzLl9pbml0KHByb3BzKTtcblx0fTtcblxuXHR2YXIgcCA9IGNyZWF0ZWpzLmV4dGVuZChUd2VlbiwgY3JlYXRlanMuQWJzdHJhY3RUd2Vlbik7XG5cbi8vIHN0YXRpYyBwcm9wZXJ0aWVzXG5cblx0LyoqXG5cdCAqIENvbnN0YW50IHJldHVybmVkIGJ5IHBsdWdpbnMgdG8gdGVsbCB0aGUgdHdlZW4gbm90IHRvIHVzZSBkZWZhdWx0IGFzc2lnbm1lbnQuXG5cdCAqIEBwcm9wZXJ0eSBJR05PUkVcblx0ICogQHR5cGUgT2JqZWN0XG5cdCAqIEBzdGF0aWNcblx0ICovXG5cdFR3ZWVuLklHTk9SRSA9IHt9O1xuXG5cdC8qKlxuXHQgKiBAcHJvcGVydHkgX2xpc3RlbmVyc1xuXHQgKiBAdHlwZSBBcnJheVtUd2Vlbl1cblx0ICogQHN0YXRpY1xuXHQgKiBAcHJvdGVjdGVkXG5cdCAqL1xuXHRUd2Vlbi5fdHdlZW5zID0gW107XG5cblx0LyoqXG5cdCAqIEBwcm9wZXJ0eSBfcGx1Z2luc1xuXHQgKiBAdHlwZSBPYmplY3Rcblx0ICogQHN0YXRpY1xuXHQgKiBAcHJvdGVjdGVkXG5cdCAqL1xuXHRUd2Vlbi5fcGx1Z2lucyA9IG51bGw7XG5cdFxuXHQvKipcblx0ICogQHByb3BlcnR5IF90d2VlbkhlYWRcblx0ICogQHR5cGUgVHdlZW5cblx0ICogQHN0YXRpY1xuXHQgKiBAcHJvdGVjdGVkXG5cdCAqL1xuXHRUd2Vlbi5fdHdlZW5IZWFkID0gbnVsbDtcblx0XG5cdC8qKlxuXHQgKiBAcHJvcGVydHkgX3R3ZWVuVGFpbFxuXHQgKiBAdHlwZSBUd2VlblxuXHQgKiBAc3RhdGljXG5cdCAqIEBwcm90ZWN0ZWRcblx0ICovXG5cdFR3ZWVuLl90d2VlblRhaWwgPSBudWxsO1xuXG5cbi8vIHN0YXRpYyBtZXRob2RzXHRcblx0LyoqXG5cdCAqIFJldHVybnMgYSBuZXcgdHdlZW4gaW5zdGFuY2UuIFRoaXMgaXMgZnVuY3Rpb25hbGx5IGlkZW50aWNhbCB0byB1c2luZyBgbmV3IFR3ZWVuKC4uLilgLCBidXQgbWF5IGxvb2sgY2xlYW5lclxuXHQgKiB3aXRoIHRoZSBjaGFpbmVkIHN5bnRheCBvZiBUd2VlbkpTLlxuXHQgKiA8aDQ+RXhhbXBsZTwvaDQ+XG5cdCAqXG5cdCAqXHR2YXIgdHdlZW4gPSBjcmVhdGVqcy5Ud2Vlbi5nZXQodGFyZ2V0KS50byh7eDoxMDB9LCA1MDApO1xuXHQgKlx0Ly8gZXF1aXZhbGVudCB0bzpcblx0ICpcdHZhciB0d2VlbiA9IG5ldyBjcmVhdGVqcy5Ud2Vlbih0YXJnZXQpLnRvKHt4OjEwMH0sIDUwMCk7XG5cdCAqXG5cdCAqIEBtZXRob2QgZ2V0XG5cdCAqIEBwYXJhbSB7T2JqZWN0fSB0YXJnZXQgVGhlIHRhcmdldCBvYmplY3QgdGhhdCB3aWxsIGhhdmUgaXRzIHByb3BlcnRpZXMgdHdlZW5lZC5cblx0ICogQHBhcmFtIHtPYmplY3R9IFtwcm9wc10gVGhlIGNvbmZpZ3VyYXRpb24gcHJvcGVydGllcyB0byBhcHBseSB0byB0aGlzIGluc3RhbmNlIChleC4gYHtsb29wOi0xLCBwYXVzZWQ6dHJ1ZX1gKS5cblx0ICogU3VwcG9ydGVkIHByb3BzIGFyZSBsaXN0ZWQgYmVsb3cuIFRoZXNlIHByb3BzIGFyZSBzZXQgb24gdGhlIGNvcnJlc3BvbmRpbmcgaW5zdGFuY2UgcHJvcGVydGllcyBleGNlcHQgd2hlcmVcblx0ICogc3BlY2lmaWVkLlxuXHQgKiBAcGFyYW0ge2Jvb2xlYW59IFtwcm9wcy51c2VUaWNrcz1mYWxzZV0gIFNlZSB0aGUge3sjY3Jvc3NMaW5rIFwiQWJzdHJhY3RUd2Vlbi91c2VUaWNrczpwcm9wZXJ0eVwifX17ey9jcm9zc0xpbmt9fSBwcm9wZXJ0eSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cblx0ICogQHBhcmFtIHtib29sZWFufSBbcHJvcHMuaWdub3JlR2xvYmFsUGF1c2U9ZmFsc2VdIFNlZSB0aGUge3sjY3Jvc3NMaW5rIFwiQWJzdHJhY3RUd2Vlbi9pZ25vcmVHbG9iYWxQYXVzZTpwcm9wZXJ0eVwifX17ey9jcm9zc0xpbmt9fSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cblx0ICogQHBhcmFtIHtudW1iZXJ8Ym9vbGVhbn0gW3Byb3BzLmxvb3A9MF0gU2VlIHRoZSB7eyNjcm9zc0xpbmsgXCJBYnN0cmFjdFR3ZWVuL2xvb3A6cHJvcGVydHlcIn19e3svY3Jvc3NMaW5rfX0gZm9yIG1vcmUgaW5mb3JtYXRpb24uXG5cdCAqIEBwYXJhbSB7Ym9vbGVhbn0gW3Byb3BzLnJldmVyc2VkPWZhbHNlXSBTZWUgdGhlIHt7I2Nyb3NzTGluayBcIkFic3RyYWN0VHdlZW4vcmV2ZXJzZWQ6cHJvcGVydHlcIn19e3svY3Jvc3NMaW5rfX0gZm9yIG1vcmUgaW5mb3JtYXRpb24uXG5cdCAqIEBwYXJhbSB7Ym9vbGVhbn0gW3Byb3BzLmJvdW5jZT1mYWxzZV0gU2VlIHRoZSB7eyNjcm9zc0xpbmsgXCJBYnN0cmFjdFR3ZWVuL2JvdW5jZTpwcm9wZXJ0eVwifX17ey9jcm9zc0xpbmt9fSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cblx0ICogQHBhcmFtIHtudW1iZXJ9IFtwcm9wcy50aW1lU2NhbGU9MV0gU2VlIHRoZSB7eyNjcm9zc0xpbmsgXCJBYnN0cmFjdFR3ZWVuL3RpbWVTY2FsZTpwcm9wZXJ0eVwifX17ey9jcm9zc0xpbmt9fSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cblx0ICogQHBhcmFtIHtvYmplY3R9IFtwcm9wcy5wbHVnaW5EYXRhXSBTZWUgdGhlIHt7I2Nyb3NzTGluayBcIlR3ZWVuL3BsdWdpbkRhdGE6cHJvcGVydHlcIn19e3svY3Jvc3NMaW5rfX0gZm9yIG1vcmUgaW5mb3JtYXRpb24uXG5cdCAqIEBwYXJhbSB7Ym9vbGVhbn0gW3Byb3BzLnBhdXNlZD1mYWxzZV0gU2VlIHRoZSB7eyNjcm9zc0xpbmsgXCJBYnN0cmFjdFR3ZWVuL3BhdXNlZDpwcm9wZXJ0eVwifX17ey9jcm9zc0xpbmt9fSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cblx0ICogQHBhcmFtIHtudW1iZXJ9IFtwcm9wcy5wb3NpdGlvbj0wXSBUaGUgaW5pdGlhbCBwb3NpdGlvbiBmb3IgdGhpcyB0d2Vlbi4gU2VlIHt7I2Nyb3NzTGluayBcIkFic3RyYWN0VHdlZW4vcG9zaXRpb246cHJvcGVydHlcIn19e3svY3Jvc3NMaW5rfX1cblx0ICogQHBhcmFtIHtGdW5jdGlvbn0gW3Byb3BzLm9uQ2hhbmdlXSBBZGRzIHRoZSBzcGVjaWZpZWQgZnVuY3Rpb24gYXMgYSBsaXN0ZW5lciB0byB0aGUge3sjY3Jvc3NMaW5rIFwiQWJzdHJhY3RUd2Vlbi9jaGFuZ2U6ZXZlbnRcIn19e3svY3Jvc3NMaW5rfX0gZXZlbnRcblx0ICogQHBhcmFtIHtGdW5jdGlvbn0gW3Byb3BzLm9uQ29tcGxldGVdIEFkZHMgdGhlIHNwZWNpZmllZCBmdW5jdGlvbiBhcyBhIGxpc3RlbmVyIHRvIHRoZSB7eyNjcm9zc0xpbmsgXCJBYnN0cmFjdFR3ZWVuL2NvbXBsZXRlOmV2ZW50XCJ9fXt7L2Nyb3NzTGlua319IGV2ZW50XG5cdCAqIEBwYXJhbSB7Ym9vbGVhbn0gW3Byb3BzLm92ZXJyaWRlPWZhbHNlXSBSZW1vdmVzIGFsbCBleGlzdGluZyB0d2VlbnMgZm9yIHRoZSB0YXJnZXQgd2hlbiBzZXQgdG8gYHRydWVgLlxuXHQgKiBAcmV0dXJuIHtUd2Vlbn0gQSByZWZlcmVuY2UgdG8gdGhlIGNyZWF0ZWQgdHdlZW4uXG5cdCAqIEBzdGF0aWNcblx0ICovXG5cdFR3ZWVuLmdldCA9IGZ1bmN0aW9uKHRhcmdldCwgcHJvcHMpIHtcblx0XHRyZXR1cm4gbmV3IFR3ZWVuKHRhcmdldCwgcHJvcHMpO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBBZHZhbmNlcyBhbGwgdHdlZW5zLiBUaGlzIHR5cGljYWxseSB1c2VzIHRoZSB7eyNjcm9zc0xpbmsgXCJUaWNrZXJcIn19e3svY3Jvc3NMaW5rfX0gY2xhc3MsIGJ1dCB5b3UgY2FuIGNhbGwgaXRcblx0ICogbWFudWFsbHkgaWYgeW91IHByZWZlciB0byB1c2UgeW91ciBvd24gXCJoZWFydGJlYXRcIiBpbXBsZW1lbnRhdGlvbi5cblx0ICogQG1ldGhvZCB0aWNrXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBkZWx0YSBUaGUgY2hhbmdlIGluIHRpbWUgaW4gbWlsbGlzZWNvbmRzIHNpbmNlIHRoZSBsYXN0IHRpY2suIFJlcXVpcmVkIHVubGVzcyBhbGwgdHdlZW5zIGhhdmVcblx0ICogYHVzZVRpY2tzYCBzZXQgdG8gdHJ1ZS5cblx0ICogQHBhcmFtIHtCb29sZWFufSBwYXVzZWQgSW5kaWNhdGVzIHdoZXRoZXIgYSBnbG9iYWwgcGF1c2UgaXMgaW4gZWZmZWN0LiBUd2VlbnMgd2l0aCB7eyNjcm9zc0xpbmsgXCJUd2Vlbi9pZ25vcmVHbG9iYWxQYXVzZTpwcm9wZXJ0eVwifX17ey9jcm9zc0xpbmt9fVxuXHQgKiB3aWxsIGlnbm9yZSB0aGlzLCBidXQgYWxsIG90aGVycyB3aWxsIHBhdXNlIGlmIHRoaXMgaXMgYHRydWVgLlxuXHQgKiBAc3RhdGljXG5cdCAqL1xuXHRUd2Vlbi50aWNrID0gZnVuY3Rpb24oZGVsdGEsIHBhdXNlZCkge1xuXHRcdHZhciB0d2VlbiA9IFR3ZWVuLl90d2VlbkhlYWQ7XG5cdFx0d2hpbGUgKHR3ZWVuKSB7XG5cdFx0XHR2YXIgbmV4dCA9IHR3ZWVuLl9uZXh0OyAvLyBpbiBjYXNlIGl0IGNvbXBsZXRlcyBhbmQgd2lwZXMgaXRzIF9uZXh0IHByb3BlcnR5XG5cdFx0XHRpZiAoKHBhdXNlZCAmJiAhdHdlZW4uaWdub3JlR2xvYmFsUGF1c2UpIHx8IHR3ZWVuLl9wYXVzZWQpIHsgLyogcGF1c2VkICovIH1cblx0XHRcdGVsc2UgeyB0d2Vlbi5hZHZhbmNlKHR3ZWVuLnVzZVRpY2tzPzE6ZGVsdGEpOyB9XG5cdFx0XHR0d2VlbiA9IG5leHQ7XG5cdFx0fVxuXHR9O1xuXG5cdC8qKlxuXHQgKiBIYW5kbGUgZXZlbnRzIHRoYXQgcmVzdWx0IGZyb20gVHdlZW4gYmVpbmcgdXNlZCBhcyBhbiBldmVudCBoYW5kbGVyLiBUaGlzIGlzIGluY2x1ZGVkIHRvIGFsbG93IFR3ZWVuIHRvIGhhbmRsZVxuXHQgKiB7eyNjcm9zc0xpbmsgXCJUaWNrZXIvdGljazpldmVudFwifX17ey9jcm9zc0xpbmt9fSBldmVudHMgZnJvbSB0aGUgY3JlYXRlanMge3sjY3Jvc3NMaW5rIFwiVGlja2VyXCJ9fXt7L2Nyb3NzTGlua319LlxuXHQgKiBObyBvdGhlciBldmVudHMgYXJlIGhhbmRsZWQgaW4gVHdlZW4uXG5cdCAqIEBtZXRob2QgaGFuZGxlRXZlbnRcblx0ICogQHBhcmFtIHtPYmplY3R9IGV2ZW50IEFuIGV2ZW50IG9iamVjdCBwYXNzZWQgaW4gYnkgdGhlIHt7I2Nyb3NzTGluayBcIkV2ZW50RGlzcGF0Y2hlclwifX17ey9jcm9zc0xpbmt9fS4gV2lsbFxuXHQgKiB1c3VhbGx5IGJlIG9mIHR5cGUgXCJ0aWNrXCIuXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBzdGF0aWNcblx0ICogQHNpbmNlIDAuNC4yXG5cdCAqL1xuXHRUd2Vlbi5oYW5kbGVFdmVudCA9IGZ1bmN0aW9uKGV2ZW50KSB7XG5cdFx0aWYgKGV2ZW50LnR5cGUgPT09IFwidGlja1wiKSB7XG5cdFx0XHR0aGlzLnRpY2soZXZlbnQuZGVsdGEsIGV2ZW50LnBhdXNlZCk7XG5cdFx0fVxuXHR9O1xuXG5cdC8qKlxuXHQgKiBSZW1vdmVzIGFsbCBleGlzdGluZyB0d2VlbnMgZm9yIGEgdGFyZ2V0LiBUaGlzIGlzIGNhbGxlZCBhdXRvbWF0aWNhbGx5IGJ5IG5ldyB0d2VlbnMgaWYgdGhlIGBvdmVycmlkZWBcblx0ICogcHJvcGVydHkgaXMgYHRydWVgLlxuXHQgKiBAbWV0aG9kIHJlbW92ZVR3ZWVuc1xuXHQgKiBAcGFyYW0ge09iamVjdH0gdGFyZ2V0IFRoZSB0YXJnZXQgb2JqZWN0IHRvIHJlbW92ZSBleGlzdGluZyB0d2VlbnMgZnJvbS5cblx0ICogQHN0YXRpY1xuXHQgKi9cblx0VHdlZW4ucmVtb3ZlVHdlZW5zID0gZnVuY3Rpb24odGFyZ2V0KSB7XG5cdFx0aWYgKCF0YXJnZXQudHdlZW5qc19jb3VudCkgeyByZXR1cm47IH1cblx0XHR2YXIgdHdlZW4gPSBUd2Vlbi5fdHdlZW5IZWFkO1xuXHRcdHdoaWxlICh0d2Vlbikge1xuXHRcdFx0dmFyIG5leHQgPSB0d2Vlbi5fbmV4dDtcblx0XHRcdGlmICh0d2Vlbi50YXJnZXQgPT09IHRhcmdldCkgeyBUd2Vlbi5fcmVnaXN0ZXIodHdlZW4sIHRydWUpOyB9XG5cdFx0XHR0d2VlbiA9IG5leHQ7XG5cdFx0fVxuXHRcdHRhcmdldC50d2VlbmpzX2NvdW50ID0gMDtcblx0fTtcblxuXHQvKipcblx0ICogU3RvcCBhbmQgcmVtb3ZlIGFsbCBleGlzdGluZyB0d2VlbnMuXG5cdCAqIEBtZXRob2QgcmVtb3ZlQWxsVHdlZW5zXG5cdCAqIEBzdGF0aWNcblx0ICogQHNpbmNlIDAuNC4xXG5cdCAqL1xuXHRUd2Vlbi5yZW1vdmVBbGxUd2VlbnMgPSBmdW5jdGlvbigpIHtcblx0XHR2YXIgdHdlZW4gPSBUd2Vlbi5fdHdlZW5IZWFkO1xuXHRcdHdoaWxlICh0d2Vlbikge1xuXHRcdFx0dmFyIG5leHQgPSB0d2Vlbi5fbmV4dDtcblx0XHRcdHR3ZWVuLl9wYXVzZWQgPSB0cnVlO1xuXHRcdFx0dHdlZW4udGFyZ2V0JiYodHdlZW4udGFyZ2V0LnR3ZWVuanNfY291bnQgPSAwKTtcblx0XHRcdHR3ZWVuLl9uZXh0ID0gdHdlZW4uX3ByZXYgPSBudWxsO1xuXHRcdFx0dHdlZW4gPSBuZXh0O1xuXHRcdH1cblx0XHRUd2Vlbi5fdHdlZW5IZWFkID0gVHdlZW4uX3R3ZWVuVGFpbCA9IG51bGw7XG5cdH07XG5cblx0LyoqXG5cdCAqIEluZGljYXRlcyB3aGV0aGVyIHRoZXJlIGFyZSBhbnkgYWN0aXZlIHR3ZWVucyBvbiB0aGUgdGFyZ2V0IG9iamVjdCAoaWYgc3BlY2lmaWVkKSBvciBpbiBnZW5lcmFsLlxuXHQgKiBAbWV0aG9kIGhhc0FjdGl2ZVR3ZWVuc1xuXHQgKiBAcGFyYW0ge09iamVjdH0gW3RhcmdldF0gVGhlIHRhcmdldCB0byBjaGVjayBmb3IgYWN0aXZlIHR3ZWVucy4gSWYgbm90IHNwZWNpZmllZCwgdGhlIHJldHVybiB2YWx1ZSB3aWxsIGluZGljYXRlXG5cdCAqIGlmIHRoZXJlIGFyZSBhbnkgYWN0aXZlIHR3ZWVucyBvbiBhbnkgdGFyZ2V0LlxuXHQgKiBAcmV0dXJuIHtCb29sZWFufSBJbmRpY2F0ZXMgaWYgdGhlcmUgYXJlIGFjdGl2ZSB0d2VlbnMuXG5cdCAqIEBzdGF0aWNcblx0ICovXG5cdFR3ZWVuLmhhc0FjdGl2ZVR3ZWVucyA9IGZ1bmN0aW9uKHRhcmdldCkge1xuXHRcdGlmICh0YXJnZXQpIHsgcmV0dXJuICEhdGFyZ2V0LnR3ZWVuanNfY291bnQ7IH1cblx0XHRyZXR1cm4gISFUd2Vlbi5fdHdlZW5IZWFkO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBJbnN0YWxscyBhIHBsdWdpbiwgd2hpY2ggY2FuIG1vZGlmeSBob3cgY2VydGFpbiBwcm9wZXJ0aWVzIGFyZSBoYW5kbGVkIHdoZW4gdHdlZW5lZC4gU2VlIHRoZSB7eyNjcm9zc0xpbmsgXCJTYW1wbGVQbHVnaW5cIn19e3svY3Jvc3NMaW5rfX1cblx0ICogZm9yIGFuIGV4YW1wbGUgb2YgaG93IHRvIHdyaXRlIFR3ZWVuSlMgcGx1Z2lucy4gUGx1Z2lucyBzaG91bGQgZ2VuZXJhbGx5IGJlIGluc3RhbGxlZCB2aWEgdGhlaXIgb3duIGBpbnN0YWxsYCBtZXRob2QsIGluIG9yZGVyIHRvIHByb3ZpZGVcblx0ICogdGhlIHBsdWdpbiB3aXRoIGFuIG9wcG9ydHVuaXR5IHRvIGNvbmZpZ3VyZSBpdHNlbGYuXG5cdCAqIEBtZXRob2QgX2luc3RhbGxQbHVnaW5cblx0ICogQHBhcmFtIHtPYmplY3R9IHBsdWdpbiBUaGUgcGx1Z2luIHRvIGluc3RhbGxcblx0ICogQHN0YXRpY1xuXHQgKiBAcHJvdGVjdGVkXG5cdCAqL1xuXHRUd2Vlbi5faW5zdGFsbFBsdWdpbiA9IGZ1bmN0aW9uKHBsdWdpbikge1xuXHRcdHZhciBwcmlvcml0eSA9IChwbHVnaW4ucHJpb3JpdHkgPSBwbHVnaW4ucHJpb3JpdHl8fDApLCBhcnIgPSAoVHdlZW4uX3BsdWdpbnMgPSBUd2Vlbi5fcGx1Z2lucyB8fCBbXSk7XG5cdFx0Zm9yICh2YXIgaT0wLGw9YXJyLmxlbmd0aDtpPGw7aSsrKSB7XG5cdFx0XHRpZiAocHJpb3JpdHkgPCBhcnJbaV0ucHJpb3JpdHkpIHsgYnJlYWs7IH1cblx0XHR9XG5cdFx0YXJyLnNwbGljZShpLDAscGx1Z2luKTtcblx0fTtcblxuXHQvKipcblx0ICogUmVnaXN0ZXJzIG9yIHVucmVnaXN0ZXJzIGEgdHdlZW4gd2l0aCB0aGUgdGlja2luZyBzeXN0ZW0uXG5cdCAqIEBtZXRob2QgX3JlZ2lzdGVyXG5cdCAqIEBwYXJhbSB7VHdlZW59IHR3ZWVuIFRoZSB0d2VlbiBpbnN0YW5jZSB0byByZWdpc3RlciBvciB1bnJlZ2lzdGVyLlxuXHQgKiBAcGFyYW0ge0Jvb2xlYW59IHBhdXNlZCBJZiBgZmFsc2VgLCB0aGUgdHdlZW4gaXMgcmVnaXN0ZXJlZC4gSWYgYHRydWVgIHRoZSB0d2VlbiBpcyB1bnJlZ2lzdGVyZWQuXG5cdCAqIEBzdGF0aWNcblx0ICogQHByb3RlY3RlZFxuXHQgKi9cblx0VHdlZW4uX3JlZ2lzdGVyID0gZnVuY3Rpb24odHdlZW4sIHBhdXNlZCkge1xuXHRcdHZhciB0YXJnZXQgPSB0d2Vlbi50YXJnZXQ7XG5cdFx0aWYgKCFwYXVzZWQgJiYgdHdlZW4uX3BhdXNlZCkge1xuXHRcdFx0Ly8gVE9ETzogdGhpcyBhcHByb2FjaCBtaWdodCBmYWlsIGlmIGEgZGV2IGlzIHVzaW5nIHNlYWxlZCBvYmplY3RzXG5cdFx0XHRpZiAodGFyZ2V0KSB7IHRhcmdldC50d2VlbmpzX2NvdW50ID0gdGFyZ2V0LnR3ZWVuanNfY291bnQgPyB0YXJnZXQudHdlZW5qc19jb3VudCsxIDogMTsgfVxuXHRcdFx0dmFyIHRhaWwgPSBUd2Vlbi5fdHdlZW5UYWlsO1xuXHRcdFx0aWYgKCF0YWlsKSB7IFR3ZWVuLl90d2VlbkhlYWQgPSBUd2Vlbi5fdHdlZW5UYWlsID0gdHdlZW47IH1cblx0XHRcdGVsc2Uge1xuXHRcdFx0XHRUd2Vlbi5fdHdlZW5UYWlsID0gdGFpbC5fbmV4dCA9IHR3ZWVuO1xuXHRcdFx0XHR0d2Vlbi5fcHJldiA9IHRhaWw7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIVR3ZWVuLl9pbml0ZWQgJiYgY3JlYXRlanMuVGlja2VyKSB7IGNyZWF0ZWpzLlRpY2tlci5hZGRFdmVudExpc3RlbmVyKFwidGlja1wiLCBUd2Vlbik7IFR3ZWVuLl9pbml0ZWQgPSB0cnVlOyB9XG5cdFx0fSBlbHNlIGlmIChwYXVzZWQgJiYgIXR3ZWVuLl9wYXVzZWQpIHtcblx0XHRcdGlmICh0YXJnZXQpIHsgdGFyZ2V0LnR3ZWVuanNfY291bnQtLTsgfVxuXHRcdFx0dmFyIG5leHQgPSB0d2Vlbi5fbmV4dCwgcHJldiA9IHR3ZWVuLl9wcmV2O1xuXHRcdFx0XG5cdFx0XHRpZiAobmV4dCkgeyBuZXh0Ll9wcmV2ID0gcHJldjsgfVxuXHRcdFx0ZWxzZSB7IFR3ZWVuLl90d2VlblRhaWwgPSBwcmV2OyB9IC8vIHdhcyB0YWlsXG5cdFx0XHRpZiAocHJldikgeyBwcmV2Ll9uZXh0ID0gbmV4dDsgfVxuXHRcdFx0ZWxzZSB7IFR3ZWVuLl90d2VlbkhlYWQgPSBuZXh0OyB9IC8vIHdhcyBoZWFkLlxuXHRcdFx0XG5cdFx0XHR0d2Vlbi5fbmV4dCA9IHR3ZWVuLl9wcmV2ID0gbnVsbDtcblx0XHR9XG5cdFx0dHdlZW4uX3BhdXNlZCA9IHBhdXNlZDtcblx0fTtcblxuXG4vLyBldmVudHM6XG5cbi8vIHB1YmxpYyBtZXRob2RzOlxuXHQvKipcblx0ICogQWRkcyBhIHdhaXQgKGVzc2VudGlhbGx5IGFuIGVtcHR5IHR3ZWVuKS5cblx0ICogPGg0PkV4YW1wbGU8L2g0PlxuXHQgKlxuXHQgKlx0Ly9UaGlzIHR3ZWVuIHdpbGwgd2FpdCAxcyBiZWZvcmUgYWxwaGEgaXMgZmFkZWQgdG8gMC5cblx0ICpcdGNyZWF0ZWpzLlR3ZWVuLmdldCh0YXJnZXQpLndhaXQoMTAwMCkudG8oe2FscGhhOjB9LCAxMDAwKTtcblx0ICpcblx0ICogQG1ldGhvZCB3YWl0XG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBkdXJhdGlvbiBUaGUgZHVyYXRpb24gb2YgdGhlIHdhaXQgaW4gbWlsbGlzZWNvbmRzIChvciBpbiB0aWNrcyBpZiBgdXNlVGlja3NgIGlzIHRydWUpLlxuXHQgKiBAcGFyYW0ge0Jvb2xlYW59IFtwYXNzaXZlPWZhbHNlXSBUd2VlbiBwcm9wZXJ0aWVzIHdpbGwgbm90IGJlIHVwZGF0ZWQgZHVyaW5nIGEgcGFzc2l2ZSB3YWl0LiBUaGlzXG5cdCAqIGlzIG1vc3RseSB1c2VmdWwgZm9yIHVzZSB3aXRoIHt7I2Nyb3NzTGluayBcIlRpbWVsaW5lXCJ9fXt7L2Nyb3NzTGlua319IGluc3RhbmNlcyB0aGF0IGNvbnRhaW4gbXVsdGlwbGUgdHdlZW5zXG5cdCAqIGFmZmVjdGluZyB0aGUgc2FtZSB0YXJnZXQgYXQgZGlmZmVyZW50IHRpbWVzLlxuXHQgKiBAcmV0dXJuIHtUd2Vlbn0gVGhpcyB0d2VlbiBpbnN0YW5jZSAoZm9yIGNoYWluaW5nIGNhbGxzKS5cblx0ICogQGNoYWluYWJsZVxuXHQgKiovXG5cdHAud2FpdCA9IGZ1bmN0aW9uKGR1cmF0aW9uLCBwYXNzaXZlKSB7XG5cdFx0aWYgKGR1cmF0aW9uID4gMCkgeyB0aGlzLl9hZGRTdGVwKCtkdXJhdGlvbiwgdGhpcy5fc3RlcFRhaWwucHJvcHMsIG51bGwsIHBhc3NpdmUpOyB9XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH07XG5cblx0LyoqXG5cdCAqIEFkZHMgYSB0d2VlbiBmcm9tIHRoZSBjdXJyZW50IHZhbHVlcyB0byB0aGUgc3BlY2lmaWVkIHByb3BlcnRpZXMuIFNldCBkdXJhdGlvbiB0byAwIHRvIGp1bXAgdG8gdGhlc2UgdmFsdWUuXG5cdCAqIE51bWVyaWMgcHJvcGVydGllcyB3aWxsIGJlIHR3ZWVuZWQgZnJvbSB0aGVpciBjdXJyZW50IHZhbHVlIGluIHRoZSB0d2VlbiB0byB0aGUgdGFyZ2V0IHZhbHVlLiBOb24tbnVtZXJpY1xuXHQgKiBwcm9wZXJ0aWVzIHdpbGwgYmUgc2V0IGF0IHRoZSBlbmQgb2YgdGhlIHNwZWNpZmllZCBkdXJhdGlvbi5cblx0ICogPGg0PkV4YW1wbGU8L2g0PlxuXHQgKlxuXHQgKlx0Y3JlYXRlanMuVHdlZW4uZ2V0KHRhcmdldCkudG8oe2FscGhhOjAsIHZpc2libGU6ZmFsc2V9LCAxMDAwKTtcblx0ICpcblx0ICogQG1ldGhvZCB0b1xuXHQgKiBAcGFyYW0ge09iamVjdH0gcHJvcHMgQW4gb2JqZWN0IHNwZWNpZnlpbmcgcHJvcGVydHkgdGFyZ2V0IHZhbHVlcyBmb3IgdGhpcyB0d2VlbiAoRXguIGB7eDozMDB9YCB3b3VsZCB0d2VlbiB0aGUgeFxuXHQgKiBwcm9wZXJ0eSBvZiB0aGUgdGFyZ2V0IHRvIDMwMCkuXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBbZHVyYXRpb249MF0gVGhlIGR1cmF0aW9uIG9mIHRoZSB0d2VlbiBpbiBtaWxsaXNlY29uZHMgKG9yIGluIHRpY2tzIGlmIGB1c2VUaWNrc2AgaXMgdHJ1ZSkuXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IFtlYXNlPVwibGluZWFyXCJdIFRoZSBlYXNpbmcgZnVuY3Rpb24gdG8gdXNlIGZvciB0aGlzIHR3ZWVuLiBTZWUgdGhlIHt7I2Nyb3NzTGluayBcIkVhc2VcIn19e3svY3Jvc3NMaW5rfX1cblx0ICogY2xhc3MgZm9yIGEgbGlzdCBvZiBidWlsdC1pbiBlYXNlIGZ1bmN0aW9ucy5cblx0ICogQHJldHVybiB7VHdlZW59IFRoaXMgdHdlZW4gaW5zdGFuY2UgKGZvciBjaGFpbmluZyBjYWxscykuXG5cdCAqIEBjaGFpbmFibGVcblx0ICovXG5cdHAudG8gPSBmdW5jdGlvbihwcm9wcywgZHVyYXRpb24sIGVhc2UpIHtcblx0XHRpZiAoZHVyYXRpb24gPT0gbnVsbCB8fCBkdXJhdGlvbiA8IDApIHsgZHVyYXRpb24gPSAwOyB9XG5cdFx0dmFyIHN0ZXAgPSB0aGlzLl9hZGRTdGVwKCtkdXJhdGlvbiwgbnVsbCwgZWFzZSk7XG5cdFx0dGhpcy5fYXBwZW5kUHJvcHMocHJvcHMsIHN0ZXApO1xuXHRcdHJldHVybiB0aGlzO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIEFkZHMgYSBsYWJlbCB0aGF0IGNhbiBiZSB1c2VkIHdpdGgge3sjY3Jvc3NMaW5rIFwiVHdlZW4vZ290b0FuZFBsYXlcIn19e3svY3Jvc3NMaW5rfX0ve3sjY3Jvc3NMaW5rIFwiVHdlZW4vZ290b0FuZFN0b3BcIn19e3svY3Jvc3NMaW5rfX1cblx0ICogYXQgdGhlIGN1cnJlbnQgcG9pbnQgaW4gdGhlIHR3ZWVuLiBGb3IgZXhhbXBsZTpcblx0ICogXG5cdCAqIFx0dmFyIHR3ZWVuID0gY3JlYXRlanMuVHdlZW4uZ2V0KGZvbylcblx0ICogXHRcdFx0XHRcdC50byh7eDoxMDB9LCAxMDAwKVxuXHQgKiBcdFx0XHRcdFx0LmxhYmVsKFwibXlMYWJlbFwiKVxuXHQgKiBcdFx0XHRcdFx0LnRvKHt4OjIwMH0sIDEwMDApO1xuXHQgKiAvLyAuLi5cblx0ICogdHdlZW4uZ290b0FuZFBsYXkoXCJteUxhYmVsXCIpOyAvLyB3b3VsZCBwbGF5IGZyb20gMTAwMG1zIGluLlxuXHQgKiBcblx0ICogQG1ldGhvZCBhZGRMYWJlbFxuXHQgKiBAcGFyYW0ge1N0cmluZ30gbGFiZWwgVGhlIGxhYmVsIG5hbWUuXG5cdCAqIEByZXR1cm4ge1R3ZWVufSBUaGlzIHR3ZWVuIGluc3RhbmNlIChmb3IgY2hhaW5pbmcgY2FsbHMpLlxuXHQgKiBAY2hhaW5hYmxlXG5cdCAqKi9cblx0cC5sYWJlbCA9IGZ1bmN0aW9uKG5hbWUpIHtcblx0XHR0aGlzLmFkZExhYmVsKG5hbWUsIHRoaXMuZHVyYXRpb24pO1xuXHRcdHJldHVybiB0aGlzO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBBZGRzIGFuIGFjdGlvbiB0byBjYWxsIHRoZSBzcGVjaWZpZWQgZnVuY3Rpb24uXG5cdCAqIDxoND5FeGFtcGxlPC9oND5cblx0ICpcblx0ICogXHQvL3dvdWxkIGNhbGwgbXlGdW5jdGlvbigpIGFmdGVyIDEgc2Vjb25kLlxuXHQgKiBcdGNyZWF0ZWpzLlR3ZWVuLmdldCgpLndhaXQoMTAwMCkuY2FsbChteUZ1bmN0aW9uKTtcblx0ICpcblx0ICogQG1ldGhvZCBjYWxsXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIFRoZSBmdW5jdGlvbiB0byBjYWxsLlxuXHQgKiBAcGFyYW0ge0FycmF5fSBbcGFyYW1zXS4gVGhlIHBhcmFtZXRlcnMgdG8gY2FsbCB0aGUgZnVuY3Rpb24gd2l0aC4gSWYgdGhpcyBpcyBvbWl0dGVkLCB0aGVuIHRoZSBmdW5jdGlvblxuXHQgKiB3aWxsIGJlIGNhbGxlZCB3aXRoIGEgc2luZ2xlIHBhcmFtIHBvaW50aW5nIHRvIHRoaXMgdHdlZW4uXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBbc2NvcGVdLiBUaGUgc2NvcGUgdG8gY2FsbCB0aGUgZnVuY3Rpb24gaW4uIElmIG9taXR0ZWQsIGl0IHdpbGwgYmUgY2FsbGVkIGluIHRoZSB0YXJnZXQncyBzY29wZS5cblx0ICogQHJldHVybiB7VHdlZW59IFRoaXMgdHdlZW4gaW5zdGFuY2UgKGZvciBjaGFpbmluZyBjYWxscykuXG5cdCAqIEBjaGFpbmFibGVcblx0ICovXG5cdHAuY2FsbCA9IGZ1bmN0aW9uKGNhbGxiYWNrLCBwYXJhbXMsIHNjb3BlKSB7XG5cdFx0cmV0dXJuIHRoaXMuX2FkZEFjdGlvbihzY29wZXx8dGhpcy50YXJnZXQsIGNhbGxiYWNrLCBwYXJhbXN8fFt0aGlzXSk7XG5cdH07XG5cblx0LyoqXG5cdCAqIEFkZHMgYW4gYWN0aW9uIHRvIHNldCB0aGUgc3BlY2lmaWVkIHByb3BzIG9uIHRoZSBzcGVjaWZpZWQgdGFyZ2V0LiBJZiBgdGFyZ2V0YCBpcyBudWxsLCBpdCB3aWxsIHVzZSB0aGlzIHR3ZWVuJ3Ncblx0ICogdGFyZ2V0LiBOb3RlIHRoYXQgZm9yIHByb3BlcnRpZXMgb24gdGhlIHRhcmdldCBvYmplY3QsIHlvdSBzaG91bGQgY29uc2lkZXIgdXNpbmcgYSB6ZXJvIGR1cmF0aW9uIHt7I2Nyb3NzTGluayBcIlR3ZWVuL3RvXCJ9fXt7L2Nyb3NzTGlua319XG5cdCAqIG9wZXJhdGlvbiBpbnN0ZWFkIHNvIHRoZSB2YWx1ZXMgYXJlIHJlZ2lzdGVyZWQgYXMgdHdlZW5lZCBwcm9wcy5cblx0ICogPGg0PkV4YW1wbGU8L2g0PlxuXHQgKlxuXHQgKlx0bXlUd2Vlbi53YWl0KDEwMDApLnNldCh7dmlzaWJsZTpmYWxzZX0sIGZvbyk7XG5cdCAqXG5cdCAqIEBtZXRob2Qgc2V0XG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wcyBUaGUgcHJvcGVydGllcyB0byBzZXQgKGV4LiBge3Zpc2libGU6ZmFsc2V9YCkuXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBbdGFyZ2V0XSBUaGUgdGFyZ2V0IHRvIHNldCB0aGUgcHJvcGVydGllcyBvbi4gSWYgb21pdHRlZCwgdGhleSB3aWxsIGJlIHNldCBvbiB0aGUgdHdlZW4ncyB0YXJnZXQuXG5cdCAqIEByZXR1cm4ge1R3ZWVufSBUaGlzIHR3ZWVuIGluc3RhbmNlIChmb3IgY2hhaW5pbmcgY2FsbHMpLlxuXHQgKiBAY2hhaW5hYmxlXG5cdCAqL1xuXHRwLnNldCA9IGZ1bmN0aW9uKHByb3BzLCB0YXJnZXQpIHtcblx0XHRyZXR1cm4gdGhpcy5fYWRkQWN0aW9uKHRhcmdldHx8dGhpcy50YXJnZXQsIHRoaXMuX3NldCwgW3Byb3BzXSk7XG5cdH07XG5cblx0LyoqXG5cdCAqIEFkZHMgYW4gYWN0aW9uIHRvIHBsYXkgKHVucGF1c2UpIHRoZSBzcGVjaWZpZWQgdHdlZW4uIFRoaXMgZW5hYmxlcyB5b3UgdG8gc2VxdWVuY2UgbXVsdGlwbGUgdHdlZW5zLlxuXHQgKiA8aDQ+RXhhbXBsZTwvaDQ+XG5cdCAqXG5cdCAqXHRteVR3ZWVuLnRvKHt4OjEwMH0sIDUwMCkucGxheShvdGhlclR3ZWVuKTtcblx0ICpcblx0ICogQG1ldGhvZCBwbGF5XG5cdCAqIEBwYXJhbSB7VHdlZW59IFt0d2Vlbl0gVGhlIHR3ZWVuIHRvIHBsYXkuIERlZmF1bHRzIHRvIHRoaXMgdHdlZW4uXG5cdCAqIEByZXR1cm4ge1R3ZWVufSBUaGlzIHR3ZWVuIGluc3RhbmNlIChmb3IgY2hhaW5pbmcgY2FsbHMpLlxuXHQgKiBAY2hhaW5hYmxlXG5cdCAqL1xuXHRwLnBsYXkgPSBmdW5jdGlvbih0d2Vlbikge1xuXHRcdHJldHVybiB0aGlzLl9hZGRBY3Rpb24odHdlZW58fHRoaXMsIHRoaXMuX3NldCwgW3twYXVzZWQ6ZmFsc2V9XSk7XG5cdH07XG5cblx0LyoqXG5cdCAqIEFkZHMgYW4gYWN0aW9uIHRvIHBhdXNlIHRoZSBzcGVjaWZpZWQgdHdlZW4uXG5cdCAqIFxuXHQgKiBcdG15VHdlZW4ucGF1c2Uob3RoZXJUd2VlbikudG8oe2FscGhhOjF9LCAxMDAwKS5wbGF5KG90aGVyVHdlZW4pO1xuXHQgKiBcblx0ICogTm90ZSB0aGF0IHRoaXMgZXhlY3V0ZXMgYXQgdGhlIGVuZCBvZiBhIHR3ZWVuIHVwZGF0ZSwgc28gdGhlIHR3ZWVuIG1heSBhZHZhbmNlIGJleW9uZCB0aGUgdGltZSB0aGUgcGF1c2Vcblx0ICogYWN0aW9uIHdhcyBpbnNlcnRlZCBhdC4gRm9yIGV4YW1wbGU6XG5cdCAqIFxuXHQgKiBteVR3ZWVuLnRvKHtmb286MH0sIDEwMDApLnBhdXNlKCkudG8oe2ZvbzoxfSwgMTAwMCk7XG5cdCAqIFxuXHQgKiBBdCA2MGZwcyB0aGUgdHdlZW4gd2lsbCBhZHZhbmNlIGJ5IH4xNm1zIHBlciB0aWNrLCBpZiB0aGUgdHdlZW4gYWJvdmUgd2FzIGF0IDk5OW1zIHByaW9yIHRvIHRoZSBjdXJyZW50IHRpY2ssIGl0XG5cdCAqIHdpbGwgYWR2YW5jZSB0byAxMDE1bXMgKDE1bXMgaW50byB0aGUgc2Vjb25kIFwic3RlcFwiKSBhbmQgdGhlbiBwYXVzZS5cblx0ICogXG5cdCAqIEBtZXRob2QgcGF1c2Vcblx0ICogQHBhcmFtIHtUd2Vlbn0gW3R3ZWVuXSBUaGUgdHdlZW4gdG8gcGF1c2UuIERlZmF1bHRzIHRvIHRoaXMgdHdlZW4uXG5cdCAqIEByZXR1cm4ge1R3ZWVufSBUaGlzIHR3ZWVuIGluc3RhbmNlIChmb3IgY2hhaW5pbmcgY2FsbHMpXG5cdCAqIEBjaGFpbmFibGVcblx0ICovXG5cdHAucGF1c2UgPSBmdW5jdGlvbih0d2Vlbikge1xuXHRcdHJldHVybiB0aGlzLl9hZGRBY3Rpb24odHdlZW58fHRoaXMsIHRoaXMuX3NldCwgW3twYXVzZWQ6dHJ1ZX1dKTtcblx0fTtcblxuXHQvLyB0aW55IGFwaSAocHJpbWFyaWx5IGZvciB0b29sIG91dHB1dCk6XG5cdHAudyA9IHAud2FpdDtcblx0cC50ID0gcC50bztcblx0cC5jID0gcC5jYWxsO1xuXHRwLnMgPSBwLnNldDtcblxuXHQvKipcblx0ICogUmV0dXJucyBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGlzIG9iamVjdC5cblx0ICogQG1ldGhvZCB0b1N0cmluZ1xuXHQgKiBAcmV0dXJuIHtTdHJpbmd9IGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBpbnN0YW5jZS5cblx0ICovXG5cdHAudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gXCJbVHdlZW5dXCI7XG5cdH07XG5cblx0LyoqXG5cdCAqIEBtZXRob2QgY2xvbmVcblx0ICogQHByb3RlY3RlZFxuXHQgKi9cblx0cC5jbG9uZSA9IGZ1bmN0aW9uKCkge1xuXHRcdHRocm93KFwiVHdlZW4gY2FuIG5vdCBiZSBjbG9uZWQuXCIpXG5cdH07XG5cblxuLy8gcHJpdmF0ZSBtZXRob2RzOlxuXHQvKipcblx0ICogQWRkcyBhIHBsdWdpbiB0byB0aGlzIHR3ZWVuLlxuXHQgKiBAbWV0aG9kIF9hZGRQbHVnaW5cblx0ICogQHBhcmFtIHtPYmplY3R9IHBsdWdpblxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqL1xuXHRwLl9hZGRQbHVnaW4gPSBmdW5jdGlvbihwbHVnaW4pIHtcblx0XHR2YXIgaWRzID0gdGhpcy5fcGx1Z2luSWRzIHx8ICh0aGlzLl9wbHVnaW5JZHMgPSB7fSksIGlkID0gcGx1Z2luLklEO1xuXHRcdGlmICghaWQgfHwgaWRzW2lkXSkgeyByZXR1cm47IH0gLy8gYWxyZWFkeSBhZGRlZFxuXHRcdFxuXHRcdGlkc1tpZF0gPSB0cnVlO1xuXHRcdHZhciBwbHVnaW5zID0gdGhpcy5fcGx1Z2lucyB8fCAodGhpcy5fcGx1Z2lucyA9IFtdKSwgcHJpb3JpdHkgPSBwbHVnaW4ucHJpb3JpdHkgfHwgMDtcblx0XHRmb3IgKHZhciBpPTAsbD1wbHVnaW5zLmxlbmd0aDsgaTxsOyBpKyspIHtcblx0XHRcdGlmIChwcmlvcml0eSA8IHBsdWdpbnNbaV0ucHJpb3JpdHkpIHtcblx0XHRcdFx0cGx1Z2lucy5zcGxpY2UoaSwwLHBsdWdpbik7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XHR9XG5cdFx0cGx1Z2lucy5wdXNoKHBsdWdpbik7XG5cdH07XG5cdFxuXHQvLyBEb2NjZWQgaW4gQWJzdHJhY3RUd2VlblxuXHRwLl91cGRhdGVQb3NpdGlvbiA9IGZ1bmN0aW9uKGp1bXAsIGVuZCkge1xuXHRcdHZhciBzdGVwID0gdGhpcy5fc3RlcEhlYWQubmV4dCwgdD10aGlzLnBvc2l0aW9uLCBkPXRoaXMuZHVyYXRpb247XG5cdFx0aWYgKHRoaXMudGFyZ2V0ICYmIHN0ZXApIHtcblx0XHRcdC8vIGZpbmQgb3VyIG5ldyBzdGVwIGluZGV4OlxuXHRcdFx0dmFyIHN0ZXBOZXh0ID0gc3RlcC5uZXh0O1xuXHRcdFx0d2hpbGUgKHN0ZXBOZXh0ICYmIHN0ZXBOZXh0LnQgPD0gdCkgeyBzdGVwID0gc3RlcC5uZXh0OyBzdGVwTmV4dCA9IHN0ZXAubmV4dDsgfVxuXHRcdFx0dmFyIHJhdGlvID0gZW5kID8gZCA9PT0gMCA/IDEgOiB0L2QgOiAodC1zdGVwLnQpL3N0ZXAuZDsgLy8gVE9ETzogcmV2aXNpdCB0aGlzLlxuXHRcdFx0dGhpcy5fdXBkYXRlVGFyZ2V0UHJvcHMoc3RlcCwgcmF0aW8sIGVuZCk7XG5cdFx0fVxuXHRcdHRoaXMuX3N0ZXBQb3NpdGlvbiA9IHN0ZXAgPyB0LXN0ZXAudCA6IDA7XG5cdH07XG5cdFxuXHQvKipcblx0ICogQG1ldGhvZCBfdXBkYXRlVGFyZ2V0UHJvcHNcblx0ICogQHBhcmFtIHtPYmplY3R9IHN0ZXBcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHJhdGlvXG5cdCAqIEBwYXJhbSB7Qm9vbGVhbn0gZW5kIEluZGljYXRlcyB0byBwbHVnaW5zIHRoYXQgdGhlIGZ1bGwgdHdlZW4gaGFzIGVuZGVkLlxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqL1xuXHRwLl91cGRhdGVUYXJnZXRQcm9wcyA9IGZ1bmN0aW9uKHN0ZXAsIHJhdGlvLCBlbmQpIHtcblx0XHRpZiAodGhpcy5wYXNzaXZlID0gISFzdGVwLnBhc3NpdmUpIHsgcmV0dXJuOyB9IC8vIGRvbid0IHVwZGF0ZSBwcm9wcy5cblx0XHRcblx0XHR2YXIgdiwgdjAsIHYxLCBlYXNlO1xuXHRcdHZhciBwMCA9IHN0ZXAucHJldi5wcm9wcztcblx0XHR2YXIgcDEgPSBzdGVwLnByb3BzO1xuXHRcdGlmIChlYXNlID0gc3RlcC5lYXNlKSB7IHJhdGlvID0gZWFzZShyYXRpbywwLDEsMSk7IH1cblx0XHRcblx0XHR2YXIgcGx1Z2lucyA9IHRoaXMuX3BsdWdpbnM7XG5cdFx0cHJvcGxvb3AgOiBmb3IgKHZhciBuIGluIHAwKSB7XG5cdFx0XHR2MCA9IHAwW25dO1xuXHRcdFx0djEgPSBwMVtuXTtcblx0XHRcdFxuXHRcdFx0Ly8gdmFsdWVzIGFyZSBkaWZmZXJlbnQgJiBpdCBpcyBudW1lcmljIHRoZW4gaW50ZXJwb2xhdGU6XG5cdFx0XHRpZiAodjAgIT09IHYxICYmICh0eXBlb2YodjApID09PSBcIm51bWJlclwiKSkge1xuXHRcdFx0XHR2ID0gdjArKHYxLXYwKSpyYXRpbztcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHYgPSByYXRpbyA+PSAxID8gdjEgOiB2MDtcblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0aWYgKHBsdWdpbnMpIHtcblx0XHRcdFx0Zm9yICh2YXIgaT0wLGw9cGx1Z2lucy5sZW5ndGg7aTxsO2krKykge1xuXHRcdFx0XHRcdHZhciB2YWx1ZSA9IHBsdWdpbnNbaV0uY2hhbmdlKHRoaXMsIHN0ZXAsIG4sIHYsIHJhdGlvLCBlbmQpO1xuXHRcdFx0XHRcdGlmICh2YWx1ZSA9PT0gVHdlZW4uSUdOT1JFKSB7IGNvbnRpbnVlIHByb3Bsb29wOyB9XG5cdFx0XHRcdFx0aWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHsgdiA9IHZhbHVlOyB9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHRoaXMudGFyZ2V0W25dID0gdjtcblx0XHR9XG5cblx0fTtcblx0XG5cdC8qKlxuXHQgKiBAbWV0aG9kIF9ydW5BY3Rpb25zUmFuZ2Vcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHN0YXJ0UG9zXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBlbmRQb3Ncblx0ICogQHBhcmFtIHtCb29sZWFufSBpbmNsdWRlU3RhcnRcblx0ICogQHByb3RlY3RlZFxuXHQgKi9cblx0cC5fcnVuQWN0aW9uc1JhbmdlID0gZnVuY3Rpb24oc3RhcnRQb3MsIGVuZFBvcywganVtcCwgaW5jbHVkZVN0YXJ0KSB7XG5cdFx0dmFyIHJldiA9IHN0YXJ0UG9zID4gZW5kUG9zO1xuXHRcdHZhciBhY3Rpb24gPSByZXYgPyB0aGlzLl9hY3Rpb25UYWlsIDogdGhpcy5fYWN0aW9uSGVhZDtcblx0XHR2YXIgZVBvcyA9IGVuZFBvcywgc1BvcyA9IHN0YXJ0UG9zO1xuXHRcdGlmIChyZXYpIHsgZVBvcz1zdGFydFBvczsgc1Bvcz1lbmRQb3M7IH1cblx0XHR2YXIgdCA9IHRoaXMucG9zaXRpb247XG5cdFx0d2hpbGUgKGFjdGlvbikge1xuXHRcdFx0dmFyIHBvcyA9IGFjdGlvbi50O1xuXHRcdFx0aWYgKHBvcyA9PT0gZW5kUG9zIHx8IChwb3MgPiBzUG9zICYmIHBvcyA8IGVQb3MpIHx8IChpbmNsdWRlU3RhcnQgJiYgcG9zID09PSBzdGFydFBvcykpIHtcblx0XHRcdFx0YWN0aW9uLmZ1bmN0LmFwcGx5KGFjdGlvbi5zY29wZSwgYWN0aW9uLnBhcmFtcyk7XG5cdFx0XHRcdGlmICh0ICE9PSB0aGlzLnBvc2l0aW9uKSB7IHJldHVybiB0cnVlOyB9XG5cdFx0XHR9XG5cdFx0XHRhY3Rpb24gPSByZXYgPyBhY3Rpb24ucHJldiA6IGFjdGlvbi5uZXh0O1xuXHRcdH1cblx0fTtcblxuXHQvKipcblx0ICogQG1ldGhvZCBfYXBwZW5kUHJvcHNcblx0ICogQHBhcmFtIHtPYmplY3R9IHByb3BzXG5cdCAqIEBwcm90ZWN0ZWRcblx0ICovXG5cdHAuX2FwcGVuZFByb3BzID0gZnVuY3Rpb24ocHJvcHMsIHN0ZXAsIHN0ZXBQbHVnaW5zKSB7XG5cdFx0dmFyIGluaXRQcm9wcyA9IHRoaXMuX3N0ZXBIZWFkLnByb3BzLCB0YXJnZXQgPSB0aGlzLnRhcmdldCwgcGx1Z2lucyA9IFR3ZWVuLl9wbHVnaW5zO1xuXHRcdHZhciBuLCBpLCB2YWx1ZSwgaW5pdFZhbHVlLCBpbmplY3Q7XG5cdFx0dmFyIG9sZFN0ZXAgPSBzdGVwLnByZXYsIG9sZFByb3BzID0gb2xkU3RlcC5wcm9wcztcblx0XHR2YXIgc3RlcFByb3BzID0gc3RlcC5wcm9wcyB8fCAoc3RlcC5wcm9wcyA9IHRoaXMuX2Nsb25lUHJvcHMob2xkUHJvcHMpKTtcblx0XHR2YXIgY2xlYW5Qcm9wcyA9IHt9OyAvLyBUT0RPOiBpcyB0aGVyZSBzb21lIHdheSB0byBhdm9pZCB0aGlzIGFkZGl0aW9uYWwgb2JqZWN0P1xuXG5cdFx0Zm9yIChuIGluIHByb3BzKSB7XG5cdFx0XHRpZiAoIXByb3BzLmhhc093blByb3BlcnR5KG4pKSB7IGNvbnRpbnVlOyB9XG5cdFx0XHRjbGVhblByb3BzW25dID0gc3RlcFByb3BzW25dID0gcHJvcHNbbl07XG5cblx0XHRcdGlmIChpbml0UHJvcHNbbl0gIT09IHVuZGVmaW5lZCkgeyBjb250aW51ZTsgfVxuXG5cdFx0XHRpbml0VmFsdWUgPSB1bmRlZmluZWQ7IC8vIGFjY2Vzc2luZyBtaXNzaW5nIHByb3BlcnRpZXMgb24gRE9NRWxlbWVudHMgd2hlbiB1c2luZyBDU1NQbHVnaW4gaXMgSU5TQU5FTFkgZXhwZW5zaXZlLCBzbyB3ZSBsZXQgdGhlIHBsdWdpbiB0YWtlIGEgZmlyc3Qgc3dpbmcgYXQgaXQuXG5cdFx0XHRpZiAocGx1Z2lucykge1xuXHRcdFx0XHRmb3IgKGkgPSBwbHVnaW5zLmxlbmd0aC0xOyBpID49IDA7IGktLSkge1xuXHRcdFx0XHRcdHZhbHVlID0gcGx1Z2luc1tpXS5pbml0KHRoaXMsIG4sIGluaXRWYWx1ZSk7XG5cdFx0XHRcdFx0aWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHsgaW5pdFZhbHVlID0gdmFsdWU7IH1cblx0XHRcdFx0XHRpZiAoaW5pdFZhbHVlID09PSBUd2Vlbi5JR05PUkUpIHtcblx0XHRcdFx0XHRcdGRlbGV0ZShzdGVwUHJvcHNbbl0pO1xuXHRcdFx0XHRcdFx0ZGVsZXRlKGNsZWFuUHJvcHNbbl0pO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdGlmIChpbml0VmFsdWUgIT09IFR3ZWVuLklHTk9SRSkge1xuXHRcdFx0XHRpZiAoaW5pdFZhbHVlID09PSB1bmRlZmluZWQpIHsgaW5pdFZhbHVlID0gdGFyZ2V0W25dOyB9XG5cdFx0XHRcdG9sZFByb3BzW25dID0gKGluaXRWYWx1ZSA9PT0gdW5kZWZpbmVkKSA/IG51bGwgOiBpbml0VmFsdWU7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdFxuXHRcdGZvciAobiBpbiBjbGVhblByb3BzKSB7XG5cdFx0XHR2YWx1ZSA9IHByb3BzW25dO1xuXG5cdFx0XHQvLyBwcm9wYWdhdGUgb2xkIHZhbHVlIHRvIHByZXZpb3VzIHN0ZXBzOlxuXHRcdFx0dmFyIG8sIHByZXY9b2xkU3RlcDtcblx0XHRcdHdoaWxlICgobyA9IHByZXYpICYmIChwcmV2ID0gby5wcmV2KSkge1xuXHRcdFx0XHRpZiAocHJldi5wcm9wcyA9PT0gby5wcm9wcykgeyBjb250aW51ZTsgfSAvLyB3YWl0IHN0ZXBcblx0XHRcdFx0aWYgKHByZXYucHJvcHNbbl0gIT09IHVuZGVmaW5lZCkgeyBicmVhazsgfSAvLyBhbHJlYWR5IGhhcyBhIHZhbHVlLCB3ZSdyZSBkb25lLlxuXHRcdFx0XHRwcmV2LnByb3BzW25dID0gb2xkUHJvcHNbbl07XG5cdFx0XHR9XG5cdFx0fVxuXHRcdFxuXHRcdGlmIChzdGVwUGx1Z2lucyAhPT0gZmFsc2UgJiYgKHBsdWdpbnMgPSB0aGlzLl9wbHVnaW5zKSkge1xuXHRcdFx0Zm9yIChpID0gcGx1Z2lucy5sZW5ndGgtMTsgaSA+PSAwOyBpLS0pIHtcblx0XHRcdFx0cGx1Z2luc1tpXS5zdGVwKHRoaXMsIHN0ZXAsIGNsZWFuUHJvcHMpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRcblx0XHRpZiAoaW5qZWN0ID0gdGhpcy5faW5qZWN0ZWQpIHtcblx0XHRcdHRoaXMuX2luamVjdGVkID0gbnVsbDtcblx0XHRcdHRoaXMuX2FwcGVuZFByb3BzKGluamVjdCwgc3RlcCwgZmFsc2UpO1xuXHRcdH1cblx0fTtcblx0XG5cdC8qKlxuXHQgKiBVc2VkIGJ5IHBsdWdpbnMgdG8gaW5qZWN0IHByb3BlcnRpZXMgb250byB0aGUgY3VycmVudCBzdGVwLiBDYWxsZWQgZnJvbSB3aXRoaW4gYFBsdWdpbi5zdGVwYCBjYWxscy5cblx0ICogRm9yIGV4YW1wbGUsIGEgcGx1Z2luIGRlYWxpbmcgd2l0aCBjb2xvciwgY291bGQgcmVhZCBhIGhleCBjb2xvciwgYW5kIGluamVjdCByZWQsIGdyZWVuLCBhbmQgYmx1ZSBwcm9wcyBpbnRvIHRoZSB0d2Vlbi5cblx0ICogU2VlIHRoZSBTYW1wbGVQbHVnaW4gZm9yIG1vcmUgaW5mby5cblx0ICogQG1ldGhvZCBfaW5qZWN0UHJvcFxuXHQgKiBAcGFyYW0ge1N0cmluZ30gbmFtZVxuXHQgKiBAcGFyYW0ge09iamVjdH0gdmFsdWVcblx0ICogQHByb3RlY3RlZFxuXHQgKi9cblx0cC5faW5qZWN0UHJvcCA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG5cdFx0dmFyIG8gPSB0aGlzLl9pbmplY3RlZCB8fCAodGhpcy5faW5qZWN0ZWQgPSB7fSk7XG5cdFx0b1tuYW1lXSA9IHZhbHVlO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBAbWV0aG9kIF9hZGRTdGVwXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBkdXJhdGlvblxuXHQgKiBAcGFyYW0ge09iamVjdH0gcHJvcHNcblx0ICogQHBhcmFtIHtGdW5jdGlvbn0gZWFzZVxuXHQgKiBAcGFyYW0ge0Jvb2xlYW59IHBhc3NpdmVcblx0ICogQHByb3RlY3RlZFxuXHQgKi9cblx0cC5fYWRkU3RlcCA9IGZ1bmN0aW9uKGR1cmF0aW9uLCBwcm9wcywgZWFzZSwgcGFzc2l2ZSkge1xuXHRcdHZhciBzdGVwID0gbmV3IFR3ZWVuU3RlcCh0aGlzLl9zdGVwVGFpbCwgdGhpcy5kdXJhdGlvbiwgZHVyYXRpb24sIHByb3BzLCBlYXNlLCBwYXNzaXZlfHxmYWxzZSk7XG5cdFx0dGhpcy5kdXJhdGlvbiArPSBkdXJhdGlvbjtcblx0XHRyZXR1cm4gdGhpcy5fc3RlcFRhaWwgPSAodGhpcy5fc3RlcFRhaWwubmV4dCA9IHN0ZXApO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBAbWV0aG9kIF9hZGRBY3Rpb25cblx0ICogQHBhcmFtIHtPYmplY3R9IHNjb3BlXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmN0XG5cdCAqIEBwYXJhbSB7QXJyYXl9IHBhcmFtc1xuXHQgKiBAcHJvdGVjdGVkXG5cdCAqL1xuXHRwLl9hZGRBY3Rpb24gPSBmdW5jdGlvbihzY29wZSwgZnVuY3QsIHBhcmFtcykge1xuXHRcdHZhciBhY3Rpb24gPSBuZXcgVHdlZW5BY3Rpb24odGhpcy5fYWN0aW9uVGFpbCwgdGhpcy5kdXJhdGlvbiwgc2NvcGUsIGZ1bmN0LCBwYXJhbXMpO1xuXHRcdGlmICh0aGlzLl9hY3Rpb25UYWlsKSB7IHRoaXMuX2FjdGlvblRhaWwubmV4dCA9IGFjdGlvbjsgfVxuXHRcdGVsc2UgeyB0aGlzLl9hY3Rpb25IZWFkID0gYWN0aW9uOyB9XG5cdFx0dGhpcy5fYWN0aW9uVGFpbCA9IGFjdGlvbjtcblx0XHRyZXR1cm4gdGhpcztcblx0fTtcblxuXHQvKipcblx0ICogQG1ldGhvZCBfc2V0XG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wc1xuXHQgKiBAcHJvdGVjdGVkXG5cdCAqL1xuXHRwLl9zZXQgPSBmdW5jdGlvbihwcm9wcykge1xuXHRcdGZvciAodmFyIG4gaW4gcHJvcHMpIHtcblx0XHRcdHRoaXNbbl0gPSBwcm9wc1tuXTtcblx0XHR9XG5cdH07XG5cblx0LyoqXG5cdCAqIEBtZXRob2QgX2Nsb25lUHJvcHNcblx0ICogQHBhcmFtIHtPYmplY3R9IHByb3BzXG5cdCAqIEBwcm90ZWN0ZWRcblx0ICovXG5cdHAuX2Nsb25lUHJvcHMgPSBmdW5jdGlvbihwcm9wcykge1xuXHRcdHZhciBvID0ge307XG5cdFx0Zm9yICh2YXIgbiBpbiBwcm9wcykgeyBvW25dID0gcHJvcHNbbl07IH1cblx0XHRyZXR1cm4gbztcblx0fTtcblxuXHRjcmVhdGVqcy5Ud2VlbiA9IGNyZWF0ZWpzLnByb21vdGUoVHdlZW4sIFwiQWJzdHJhY3RUd2VlblwiKTtcblx0XG5cdGZ1bmN0aW9uIFR3ZWVuU3RlcChwcmV2LCB0LCBkLCBwcm9wcywgZWFzZSwgcGFzc2l2ZSkge1xuXHRcdHRoaXMubmV4dCA9IG51bGw7XG5cdFx0dGhpcy5wcmV2ID0gcHJldjtcblx0XHR0aGlzLnQgPSB0O1xuXHRcdHRoaXMuZCA9IGQ7XG5cdFx0dGhpcy5wcm9wcyA9IHByb3BzO1xuXHRcdHRoaXMuZWFzZSA9IGVhc2U7XG5cdFx0dGhpcy5wYXNzaXZlID0gcGFzc2l2ZTtcblx0XHR0aGlzLmluZGV4ID0gcHJldiA/IHByZXYuaW5kZXgrMSA6IDA7XG5cdH07XG5cdFxuXHRmdW5jdGlvbiBUd2VlbkFjdGlvbihwcmV2LCB0LCBzY29wZSwgZnVuY3QsIHBhcmFtcykge1xuXHRcdHRoaXMubmV4dCA9IG51bGw7XG5cdFx0dGhpcy5wcmV2ID0gcHJldjtcblx0XHR0aGlzLnQgPSB0O1xuXHRcdHRoaXMuZCA9IDA7XG5cdFx0dGhpcy5zY29wZSA9IHNjb3BlO1xuXHRcdHRoaXMuZnVuY3QgPSBmdW5jdDtcblx0XHR0aGlzLnBhcmFtcyA9IHBhcmFtcztcblx0fTtcbn0oKSk7XG5cbi8vIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXG4vLyBUaW1lbGluZS5qc1xuLy8jIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyNcblxuKGZ1bmN0aW9uKCkge1xuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cbi8vIGNvbnN0cnVjdG9yXHRcblx0LyoqXG5cdCAqIFRoZSBUaW1lbGluZSBjbGFzcyBzeW5jaHJvbml6ZXMgbXVsdGlwbGUgdHdlZW5zIGFuZCBhbGxvd3MgdGhlbSB0byBiZSBjb250cm9sbGVkIGFzIGEgZ3JvdXAuIFBsZWFzZSBub3RlIHRoYXQgaWYgYVxuXHQgKiB0aW1lbGluZSBpcyBsb29waW5nLCB0aGUgdHdlZW5zIG9uIGl0IG1heSBhcHBlYXIgdG8gbG9vcCBldmVuIGlmIHRoZSBcImxvb3BcIiBwcm9wZXJ0eSBvZiB0aGUgdHdlZW4gaXMgZmFsc2UuXG5cdCAqIFxuXHQgKiBOT1RFOiBUaW1lbGluZSBjdXJyZW50bHkgYWxzbyBhY2NlcHRzIGEgcGFyYW0gbGlzdCBpbiB0aGUgZm9ybTogYHR3ZWVucywgbGFiZWxzLCBwcm9wc2AuIFRoaXMgaXMgZm9yIGJhY2t3YXJkc1xuXHQgKiBjb21wYXRpYmlsaXR5IG9ubHkgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiB0aGUgZnV0dXJlLiBJbmNsdWRlIHR3ZWVucyBhbmQgbGFiZWxzIGFzIHByb3BlcnRpZXMgb24gdGhlIHByb3BzIG9iamVjdC5cblx0ICogQGNsYXNzIFRpbWVsaW5lXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBbcHJvcHNdIFRoZSBjb25maWd1cmF0aW9uIHByb3BlcnRpZXMgdG8gYXBwbHkgdG8gdGhpcyBpbnN0YW5jZSAoZXguIGB7bG9vcDotMSwgcGF1c2VkOnRydWV9YCkuXG5cdCAqIFN1cHBvcnRlZCBwcm9wcyBhcmUgbGlzdGVkIGJlbG93LiBUaGVzZSBwcm9wcyBhcmUgc2V0IG9uIHRoZSBjb3JyZXNwb25kaW5nIGluc3RhbmNlIHByb3BlcnRpZXMgZXhjZXB0IHdoZXJlXG5cdCAqIHNwZWNpZmllZC48VUw+XG5cdCAqICAgIDxMST4gYHVzZVRpY2tzYDwvTEk+XG5cdCAqICAgIDxMST4gYGlnbm9yZUdsb2JhbFBhdXNlYDwvTEk+XG5cdCAqICAgIDxMST4gYGxvb3BgPC9MST5cblx0ICogICAgPExJPiBgcmV2ZXJzZWRgPC9MST5cblx0ICogICAgPExJPiBgYm91bmNlYDwvTEk+XG5cdCAqICAgIDxMST4gYHRpbWVTY2FsZWA8L0xJPlxuXHQgKiAgICA8TEk+IGBwYXVzZWRgPC9MST5cblx0ICogICAgPExJPiBgcG9zaXRpb25gOiBpbmRpY2F0ZXMgdGhlIGluaXRpYWwgcG9zaXRpb24gZm9yIHRoaXMgdHdlZW4uPC9MST5cblx0ICogICAgPExJPiBgb25DaGFuZ2VgOiBhZGRzIHRoZSBzcGVjaWZpZWQgZnVuY3Rpb24gYXMgYSBsaXN0ZW5lciB0byB0aGUgYGNoYW5nZWAgZXZlbnQ8L0xJPlxuXHQgKiAgICA8TEk+IGBvbkNvbXBsZXRlYDogYWRkcyB0aGUgc3BlY2lmaWVkIGZ1bmN0aW9uIGFzIGEgbGlzdGVuZXIgdG8gdGhlIGBjb21wbGV0ZWAgZXZlbnQ8L0xJPlxuXHQgKiA8L1VMPlxuXHQgKiBAZXh0ZW5kcyBBYnN0cmFjdFR3ZWVuXG5cdCAqIEBjb25zdHJ1Y3RvclxuXHQgKiovXG5cdGZ1bmN0aW9uIFRpbWVsaW5lKHByb3BzKSB7XG5cdFx0dmFyIHR3ZWVucywgbGFiZWxzO1xuXHRcdC8vIGhhbmRsZSBvbGQgcGFyYW1zICh0d2VlbnMsIGxhYmVscywgcHJvcHMpOlxuXHRcdC8vIFRPRE86IGRlcHJlY2F0ZWQuXG5cdFx0aWYgKHByb3BzIGluc3RhbmNlb2YgQXJyYXkgfHwgKHByb3BzID09IG51bGwgJiYgYXJndW1lbnRzLmxlbmd0aCA+IDEpKSB7XG5cdFx0XHR0d2VlbnMgPSBwcm9wcztcblx0XHRcdGxhYmVscyA9IGFyZ3VtZW50c1sxXTtcblx0XHRcdHByb3BzID0gYXJndW1lbnRzWzJdO1xuXHRcdH0gZWxzZSBpZiAocHJvcHMpIHtcblx0XHRcdHR3ZWVucyA9IHByb3BzLnR3ZWVucztcblx0XHRcdGxhYmVscyA9IHByb3BzLmxhYmVscztcblx0XHR9XG5cdFx0XG5cdFx0dGhpcy5BYnN0cmFjdFR3ZWVuX2NvbnN0cnVjdG9yKHByb3BzKTtcblxuXHQvLyBwcml2YXRlIHByb3BlcnRpZXM6XG5cdFx0LyoqXG5cdFx0ICogVGhlIGFycmF5IG9mIHR3ZWVucyBpbiB0aGUgdGltZWxpbmUuIEl0IGlzICpzdHJvbmdseSogcmVjb21tZW5kZWQgdGhhdCB5b3UgdXNlXG5cdFx0ICoge3sjY3Jvc3NMaW5rIFwiVHdlZW4vYWRkVHdlZW5cIn19e3svY3Jvc3NMaW5rfX0gYW5kIHt7I2Nyb3NzTGluayBcIlR3ZWVuL3JlbW92ZVR3ZWVuXCJ9fXt7L2Nyb3NzTGlua319LFxuXHRcdCAqIHJhdGhlciB0aGFuIGFjY2Vzc2luZyB0aGlzIGRpcmVjdGx5LCBidXQgaXQgaXMgaW5jbHVkZWQgZm9yIGFkdmFuY2VkIHVzZXMuXG5cdFx0ICogQHByb3BlcnR5IHR3ZWVuc1xuXHRcdCAqIEB0eXBlIEFycmF5XG5cdFx0ICoqL1xuXHRcdHRoaXMudHdlZW5zID0gW107XG5cdFx0XG5cdFx0aWYgKHR3ZWVucykgeyB0aGlzLmFkZFR3ZWVuLmFwcGx5KHRoaXMsIHR3ZWVucyk7IH1cblx0XHR0aGlzLnNldExhYmVscyhsYWJlbHMpO1xuXHRcdFxuXHRcdHRoaXMuX2luaXQocHJvcHMpO1xuXHR9O1xuXHRcblx0dmFyIHAgPSBjcmVhdGVqcy5leHRlbmQoVGltZWxpbmUsIGNyZWF0ZWpzLkFic3RyYWN0VHdlZW4pO1xuXG5cdFxuLy8gZXZlbnRzOlxuXHQvLyBkb2NjZWQgaW4gQWJzdHJhY3RUd2Vlbi5cblxuXG4vLyBwdWJsaWMgbWV0aG9kczpcblx0LyoqXG5cdCAqIEFkZHMgb25lIG9yIG1vcmUgdHdlZW5zIChvciB0aW1lbGluZXMpIHRvIHRoaXMgdGltZWxpbmUuIFRoZSB0d2VlbnMgd2lsbCBiZSBwYXVzZWQgKHRvIHJlbW92ZSB0aGVtIGZyb20gdGhlXG5cdCAqIG5vcm1hbCB0aWNraW5nIHN5c3RlbSkgYW5kIG1hbmFnZWQgYnkgdGhpcyB0aW1lbGluZS4gQWRkaW5nIGEgdHdlZW4gdG8gbXVsdGlwbGUgdGltZWxpbmVzIHdpbGwgcmVzdWx0IGluXG5cdCAqIHVuZXhwZWN0ZWQgYmVoYXZpb3VyLlxuXHQgKiBAbWV0aG9kIGFkZFR3ZWVuXG5cdCAqIEBwYXJhbSB7VHdlZW59IC4uLnR3ZWVuIFRoZSB0d2VlbihzKSB0byBhZGQuIEFjY2VwdHMgbXVsdGlwbGUgYXJndW1lbnRzLlxuXHQgKiBAcmV0dXJuIHtUd2Vlbn0gVGhlIGZpcnN0IHR3ZWVuIHRoYXQgd2FzIHBhc3NlZCBpbi5cblx0ICoqL1xuXHRwLmFkZFR3ZWVuID0gZnVuY3Rpb24odHdlZW4pIHtcblx0XHRpZiAodHdlZW4uX3BhcmVudCkgeyB0d2Vlbi5fcGFyZW50LnJlbW92ZVR3ZWVuKHR3ZWVuKTsgfVxuXHRcdFxuXHRcdHZhciBsID0gYXJndW1lbnRzLmxlbmd0aDtcblx0XHRpZiAobCA+IDEpIHtcblx0XHRcdGZvciAodmFyIGk9MDsgaTxsOyBpKyspIHsgdGhpcy5hZGRUd2Vlbihhcmd1bWVudHNbaV0pOyB9XG5cdFx0XHRyZXR1cm4gYXJndW1lbnRzW2wtMV07XG5cdFx0fSBlbHNlIGlmIChsID09PSAwKSB7IHJldHVybiBudWxsOyB9XG5cdFx0XG5cdFx0dGhpcy50d2VlbnMucHVzaCh0d2Vlbik7XG5cdFx0dHdlZW4uX3BhcmVudCA9IHRoaXM7XG5cdFx0dHdlZW4ucGF1c2VkID0gdHJ1ZTtcblx0XHR2YXIgZCA9IHR3ZWVuLmR1cmF0aW9uO1xuXHRcdGlmICh0d2Vlbi5sb29wID4gMCkgeyBkICo9IHR3ZWVuLmxvb3ArMTsgfVxuXHRcdGlmIChkID4gdGhpcy5kdXJhdGlvbikgeyB0aGlzLmR1cmF0aW9uID0gZDsgfVxuXHRcdFxuXHRcdGlmICh0aGlzLnJhd1Bvc2l0aW9uID49IDApIHsgdHdlZW4uc2V0UG9zaXRpb24odGhpcy5yYXdQb3NpdGlvbik7IH1cblx0XHRyZXR1cm4gdHdlZW47XG5cdH07XG5cblx0LyoqXG5cdCAqIFJlbW92ZXMgb25lIG9yIG1vcmUgdHdlZW5zIGZyb20gdGhpcyB0aW1lbGluZS5cblx0ICogQG1ldGhvZCByZW1vdmVUd2VlblxuXHQgKiBAcGFyYW0ge1R3ZWVufSAuLi50d2VlbiBUaGUgdHdlZW4ocykgdG8gcmVtb3ZlLiBBY2NlcHRzIG11bHRpcGxlIGFyZ3VtZW50cy5cblx0ICogQHJldHVybiBCb29sZWFuIFJldHVybnMgYHRydWVgIGlmIGFsbCBvZiB0aGUgdHdlZW5zIHdlcmUgc3VjY2Vzc2Z1bGx5IHJlbW92ZWQuXG5cdCAqKi9cblx0cC5yZW1vdmVUd2VlbiA9IGZ1bmN0aW9uKHR3ZWVuKSB7XG5cdFx0dmFyIGwgPSBhcmd1bWVudHMubGVuZ3RoO1xuXHRcdGlmIChsID4gMSkge1xuXHRcdFx0dmFyIGdvb2QgPSB0cnVlO1xuXHRcdFx0Zm9yICh2YXIgaT0wOyBpPGw7IGkrKykgeyBnb29kID0gZ29vZCAmJiB0aGlzLnJlbW92ZVR3ZWVuKGFyZ3VtZW50c1tpXSk7IH1cblx0XHRcdHJldHVybiBnb29kO1xuXHRcdH0gZWxzZSBpZiAobCA9PT0gMCkgeyByZXR1cm4gdHJ1ZTsgfVxuXG5cdFx0dmFyIHR3ZWVucyA9IHRoaXMudHdlZW5zO1xuXHRcdHZhciBpID0gdHdlZW5zLmxlbmd0aDtcblx0XHR3aGlsZSAoaS0tKSB7XG5cdFx0XHRpZiAodHdlZW5zW2ldID09PSB0d2Vlbikge1xuXHRcdFx0XHR0d2VlbnMuc3BsaWNlKGksIDEpO1xuXHRcdFx0XHR0d2Vlbi5fcGFyZW50ID0gbnVsbDtcblx0XHRcdFx0aWYgKHR3ZWVuLmR1cmF0aW9uID49IHRoaXMuZHVyYXRpb24pIHsgdGhpcy51cGRhdGVEdXJhdGlvbigpOyB9XG5cdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gZmFsc2U7XG5cdH07XG5cblx0LyoqXG5cdCAqIFJlY2FsY3VsYXRlcyB0aGUgZHVyYXRpb24gb2YgdGhlIHRpbWVsaW5lLiBUaGUgZHVyYXRpb24gaXMgYXV0b21hdGljYWxseSB1cGRhdGVkIHdoZW4gdHdlZW5zIGFyZSBhZGRlZCBvciByZW1vdmVkLFxuXHQgKiBidXQgdGhpcyBtZXRob2QgaXMgdXNlZnVsIGlmIHlvdSBtb2RpZnkgYSB0d2VlbiBhZnRlciBpdCB3YXMgYWRkZWQgdG8gdGhlIHRpbWVsaW5lLlxuXHQgKiBAbWV0aG9kIHVwZGF0ZUR1cmF0aW9uXG5cdCAqKi9cblx0cC51cGRhdGVEdXJhdGlvbiA9IGZ1bmN0aW9uKCkge1xuXHRcdHRoaXMuZHVyYXRpb24gPSAwO1xuXHRcdGZvciAodmFyIGk9MCxsPXRoaXMudHdlZW5zLmxlbmd0aDsgaTxsOyBpKyspIHtcblx0XHRcdHZhciB0d2VlbiA9IHRoaXMudHdlZW5zW2ldO1xuXHRcdFx0dmFyIGQgPSB0d2Vlbi5kdXJhdGlvbjtcblx0XHRcdGlmICh0d2Vlbi5sb29wID4gMCkgeyBkICo9IHR3ZWVuLmxvb3ArMTsgfVxuXHRcdFx0aWYgKGQgPiB0aGlzLmR1cmF0aW9uKSB7IHRoaXMuZHVyYXRpb24gPSBkOyB9XG5cdFx0fVxuXHR9O1xuXG5cdC8qKlxuXHQqIFJldHVybnMgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhpcyBvYmplY3QuXG5cdCogQG1ldGhvZCB0b1N0cmluZ1xuXHQqIEByZXR1cm4ge1N0cmluZ30gYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIGluc3RhbmNlLlxuXHQqKi9cblx0cC50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBcIltUaW1lbGluZV1cIjtcblx0fTtcblxuXHQvKipcblx0ICogQG1ldGhvZCBjbG9uZVxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqKi9cblx0cC5jbG9uZSA9IGZ1bmN0aW9uKCkge1xuXHRcdHRocm93KFwiVGltZWxpbmUgY2FuIG5vdCBiZSBjbG9uZWQuXCIpXG5cdH07XG5cbi8vIHByaXZhdGUgbWV0aG9kczpcblx0XG5cdC8vIERvY2NlZCBpbiBBYnN0cmFjdFR3ZWVuXG5cdHAuX3VwZGF0ZVBvc2l0aW9uID0gZnVuY3Rpb24oanVtcCwgZW5kKSB7XG5cdFx0dmFyIHQgPSB0aGlzLnBvc2l0aW9uO1xuXHRcdGZvciAodmFyIGk9MCwgbD10aGlzLnR3ZWVucy5sZW5ndGg7IGk8bDsgaSsrKSB7XG5cdFx0XHR0aGlzLnR3ZWVuc1tpXS5zZXRQb3NpdGlvbih0LCB0cnVlLCBqdW1wKTsgLy8gYWN0aW9ucyB3aWxsIHJ1biBhZnRlciBhbGwgdGhlIHR3ZWVucyB1cGRhdGUuXG5cdFx0fVxuXHR9O1xuXHRcblx0Ly8gRG9jY2VkIGluIEFic3RyYWN0VHdlZW5cblx0cC5fcnVuQWN0aW9uc1JhbmdlID0gZnVuY3Rpb24oc3RhcnRQb3MsIGVuZFBvcywganVtcCwgaW5jbHVkZVN0YXJ0KSB7XG5cdFx0Ly9jb25zb2xlLmxvZyhcIlx0cmFuZ2VcIiwgc3RhcnRQb3MsIGVuZFBvcywganVtcCwgaW5jbHVkZVN0YXJ0KTtcblx0XHR2YXIgdCA9IHRoaXMucG9zaXRpb247XG5cdFx0Zm9yICh2YXIgaT0wLCBsPXRoaXMudHdlZW5zLmxlbmd0aDsgaTxsOyBpKyspIHtcblx0XHRcdHRoaXMudHdlZW5zW2ldLl9ydW5BY3Rpb25zKHN0YXJ0UG9zLCBlbmRQb3MsIGp1bXAsIGluY2x1ZGVTdGFydCk7XG5cdFx0XHRpZiAodCAhPT0gdGhpcy5wb3NpdGlvbikgeyByZXR1cm4gdHJ1ZTsgfSAvLyBhbiBhY3Rpb24gY2hhbmdlZCB0aGlzIHRpbWVsaW5lJ3MgcG9zaXRpb24uXG5cdFx0fVxuXHR9O1xuXG5cblx0Y3JlYXRlanMuVGltZWxpbmUgPSBjcmVhdGVqcy5wcm9tb3RlKFRpbWVsaW5lLCBcIkFic3RyYWN0VHdlZW5cIik7XG5cbn0oKSk7XG5cbi8vIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXG4vLyBFYXNlLmpzXG4vLyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI1xuXG4oZnVuY3Rpb24oKSB7XG5cdFwidXNlIHN0cmljdFwiO1xuXG5cdC8qKlxuXHQgKiBUaGUgRWFzZSBjbGFzcyBwcm92aWRlcyBhIGNvbGxlY3Rpb24gb2YgZWFzaW5nIGZ1bmN0aW9ucyBmb3IgdXNlIHdpdGggVHdlZW5KUy4gSXQgZG9lcyBub3QgdXNlIHRoZSBzdGFuZGFyZCA0IHBhcmFtXG5cdCAqIGVhc2luZyBzaWduYXR1cmUuIEluc3RlYWQgaXQgdXNlcyBhIHNpbmdsZSBwYXJhbSB3aGljaCBpbmRpY2F0ZXMgdGhlIGN1cnJlbnQgbGluZWFyIHJhdGlvICgwIHRvIDEpIG9mIHRoZSB0d2Vlbi5cblx0ICpcblx0ICogTW9zdCBtZXRob2RzIG9uIEVhc2UgY2FuIGJlIHBhc3NlZCBkaXJlY3RseSBhcyBlYXNpbmcgZnVuY3Rpb25zOlxuXHQgKlxuXHQgKiAgICAgIFR3ZWVuLmdldCh0YXJnZXQpLnRvKHt4OjEwMH0sIDUwMCwgRWFzZS5saW5lYXIpO1xuXHQgKlxuXHQgKiBIb3dldmVyLCBtZXRob2RzIGJlZ2lubmluZyB3aXRoIFwiZ2V0XCIgd2lsbCByZXR1cm4gYW4gZWFzaW5nIGZ1bmN0aW9uIGJhc2VkIG9uIHBhcmFtZXRlciB2YWx1ZXM6XG5cdCAqXG5cdCAqICAgICAgVHdlZW4uZ2V0KHRhcmdldCkudG8oe3k6MjAwfSwgNTAwLCBFYXNlLmdldFBvd0luKDIuMikpO1xuXHQgKlxuXHQgKiBQbGVhc2Ugc2VlIHRoZSA8YSBocmVmPVwiaHR0cDovL3d3dy5jcmVhdGVqcy5jb20vRGVtb3MvVHdlZW5KUy9Ud2Vlbl9TcGFya1RhYmxlXCI+c3BhcmsgdGFibGUgZGVtbzwvYT4gZm9yIGFuXG5cdCAqIG92ZXJ2aWV3IG9mIHRoZSBkaWZmZXJlbnQgZWFzZSB0eXBlcyBvbiA8YSBocmVmPVwiaHR0cDovL3R3ZWVuanMuY29tXCI+VHdlZW5KUy5jb208L2E+LlxuXHQgKlxuXHQgKiA8ZW0+RXF1YXRpb25zIGRlcml2ZWQgZnJvbSB3b3JrIGJ5IFJvYmVydCBQZW5uZXIuPC9lbT5cblx0ICogQGNsYXNzIEVhc2Vcblx0ICogQHN0YXRpY1xuXHQgKiovXG5cdGZ1bmN0aW9uIEVhc2UoKSB7XG5cdFx0dGhyb3cgXCJFYXNlIGNhbm5vdCBiZSBpbnN0YW50aWF0ZWQuXCI7XG5cdH1cblxuXG4vLyBzdGF0aWMgbWV0aG9kcyBhbmQgcHJvcGVydGllc1xuXHQvKipcblx0ICogQG1ldGhvZCBsaW5lYXJcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHRcblx0ICogQHN0YXRpY1xuXHQgKiBAcmV0dXJuIHtOdW1iZXJ9XG5cdCAqKi9cblx0RWFzZS5saW5lYXIgPSBmdW5jdGlvbih0KSB7IHJldHVybiB0OyB9O1xuXG5cdC8qKlxuXHQgKiBJZGVudGljYWwgdG8gbGluZWFyLlxuXHQgKiBAbWV0aG9kIG5vbmVcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHRcblx0ICogQHN0YXRpY1xuXHQgKiBAcmV0dXJuIHtOdW1iZXJ9XG5cdCAqKi9cblx0RWFzZS5ub25lID0gRWFzZS5saW5lYXI7XG5cblx0LyoqXG5cdCAqIE1pbWljcyB0aGUgc2ltcGxlIC0xMDAgdG8gMTAwIGVhc2luZyBpbiBBZG9iZSBGbGFzaC9BbmltYXRlLlxuXHQgKiBAbWV0aG9kIGdldFxuXHQgKiBAcGFyYW0ge051bWJlcn0gYW1vdW50IEEgdmFsdWUgZnJvbSAtMSAoZWFzZSBpbikgdG8gMSAoZWFzZSBvdXQpIGluZGljYXRpbmcgdGhlIHN0cmVuZ3RoIGFuZCBkaXJlY3Rpb24gb2YgdGhlIGVhc2UuXG5cdCAqIEBzdGF0aWNcblx0ICogQHJldHVybiB7RnVuY3Rpb259XG5cdCAqKi9cblx0RWFzZS5nZXQgPSBmdW5jdGlvbihhbW91bnQpIHtcblx0XHRpZiAoYW1vdW50IDwgLTEpIHsgYW1vdW50ID0gLTE7IH1cblx0XHRlbHNlIGlmIChhbW91bnQgPiAxKSB7IGFtb3VudCA9IDE7IH1cblx0XHRyZXR1cm4gZnVuY3Rpb24odCkge1xuXHRcdFx0aWYgKGFtb3VudD09MCkgeyByZXR1cm4gdDsgfVxuXHRcdFx0aWYgKGFtb3VudDwwKSB7IHJldHVybiB0Kih0Ki1hbW91bnQrMSthbW91bnQpOyB9XG5cdFx0XHRyZXR1cm4gdCooKDItdCkqYW1vdW50KygxLWFtb3VudCkpO1xuXHRcdH07XG5cdH07XG5cblx0LyoqXG5cdCAqIENvbmZpZ3VyYWJsZSBleHBvbmVudGlhbCBlYXNlLlxuXHQgKiBAbWV0aG9kIGdldFBvd0luXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBwb3cgVGhlIGV4cG9uZW50IHRvIHVzZSAoZXguIDMgd291bGQgcmV0dXJuIGEgY3ViaWMgZWFzZSkuXG5cdCAqIEBzdGF0aWNcblx0ICogQHJldHVybiB7RnVuY3Rpb259XG5cdCAqKi9cblx0RWFzZS5nZXRQb3dJbiA9IGZ1bmN0aW9uKHBvdykge1xuXHRcdHJldHVybiBmdW5jdGlvbih0KSB7XG5cdFx0XHRyZXR1cm4gTWF0aC5wb3codCxwb3cpO1xuXHRcdH07XG5cdH07XG5cblx0LyoqXG5cdCAqIENvbmZpZ3VyYWJsZSBleHBvbmVudGlhbCBlYXNlLlxuXHQgKiBAbWV0aG9kIGdldFBvd091dFxuXHQgKiBAcGFyYW0ge051bWJlcn0gcG93IFRoZSBleHBvbmVudCB0byB1c2UgKGV4LiAzIHdvdWxkIHJldHVybiBhIGN1YmljIGVhc2UpLlxuXHQgKiBAc3RhdGljXG5cdCAqIEByZXR1cm4ge0Z1bmN0aW9ufVxuXHQgKiovXG5cdEVhc2UuZ2V0UG93T3V0ID0gZnVuY3Rpb24ocG93KSB7XG5cdFx0cmV0dXJuIGZ1bmN0aW9uKHQpIHtcblx0XHRcdHJldHVybiAxLU1hdGgucG93KDEtdCxwb3cpO1xuXHRcdH07XG5cdH07XG5cblx0LyoqXG5cdCAqIENvbmZpZ3VyYWJsZSBleHBvbmVudGlhbCBlYXNlLlxuXHQgKiBAbWV0aG9kIGdldFBvd0luT3V0XG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBwb3cgVGhlIGV4cG9uZW50IHRvIHVzZSAoZXguIDMgd291bGQgcmV0dXJuIGEgY3ViaWMgZWFzZSkuXG5cdCAqIEBzdGF0aWNcblx0ICogQHJldHVybiB7RnVuY3Rpb259XG5cdCAqKi9cblx0RWFzZS5nZXRQb3dJbk91dCA9IGZ1bmN0aW9uKHBvdykge1xuXHRcdHJldHVybiBmdW5jdGlvbih0KSB7XG5cdFx0XHRpZiAoKHQqPTIpPDEpIHJldHVybiAwLjUqTWF0aC5wb3codCxwb3cpO1xuXHRcdFx0cmV0dXJuIDEtMC41Kk1hdGguYWJzKE1hdGgucG93KDItdCxwb3cpKTtcblx0XHR9O1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBAbWV0aG9kIHF1YWRJblxuXHQgKiBAcGFyYW0ge051bWJlcn0gdFxuXHQgKiBAc3RhdGljXG5cdCAqIEByZXR1cm4ge051bWJlcn1cblx0ICoqL1xuXHRFYXNlLnF1YWRJbiA9IEVhc2UuZ2V0UG93SW4oMik7XG5cdC8qKlxuXHQgKiBAbWV0aG9kIHF1YWRPdXRcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHRcblx0ICogQHN0YXRpY1xuXHQgKiBAcmV0dXJuIHtOdW1iZXJ9XG5cdCAqKi9cblx0RWFzZS5xdWFkT3V0ID0gRWFzZS5nZXRQb3dPdXQoMik7XG5cdC8qKlxuXHQgKiBAbWV0aG9kIHF1YWRJbk91dFxuXHQgKiBAcGFyYW0ge051bWJlcn0gdFxuXHQgKiBAc3RhdGljXG5cdCAqIEByZXR1cm4ge051bWJlcn1cblx0ICoqL1xuXHRFYXNlLnF1YWRJbk91dCA9IEVhc2UuZ2V0UG93SW5PdXQoMik7XG5cblx0LyoqXG5cdCAqIEBtZXRob2QgY3ViaWNJblxuXHQgKiBAcGFyYW0ge051bWJlcn0gdFxuXHQgKiBAc3RhdGljXG5cdCAqIEByZXR1cm4ge051bWJlcn1cblx0ICoqL1xuXHRFYXNlLmN1YmljSW4gPSBFYXNlLmdldFBvd0luKDMpO1xuXHQvKipcblx0ICogQG1ldGhvZCBjdWJpY091dFxuXHQgKiBAcGFyYW0ge051bWJlcn0gdFxuXHQgKiBAc3RhdGljXG5cdCAqIEByZXR1cm4ge051bWJlcn1cblx0ICoqL1xuXHRFYXNlLmN1YmljT3V0ID0gRWFzZS5nZXRQb3dPdXQoMyk7XG5cdC8qKlxuXHQgKiBAbWV0aG9kIGN1YmljSW5PdXRcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHRcblx0ICogQHN0YXRpY1xuXHQgKiBAcmV0dXJuIHtOdW1iZXJ9XG5cdCAqKi9cblx0RWFzZS5jdWJpY0luT3V0ID0gRWFzZS5nZXRQb3dJbk91dCgzKTtcblxuXHQvKipcblx0ICogQG1ldGhvZCBxdWFydEluXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB0XG5cdCAqIEBzdGF0aWNcblx0ICogQHJldHVybiB7TnVtYmVyfVxuXHQgKiovXG5cdEVhc2UucXVhcnRJbiA9IEVhc2UuZ2V0UG93SW4oNCk7XG5cdC8qKlxuXHQgKiBAbWV0aG9kIHF1YXJ0T3V0XG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB0XG5cdCAqIEBzdGF0aWNcblx0ICogQHJldHVybiB7TnVtYmVyfVxuXHQgKiovXG5cdEVhc2UucXVhcnRPdXQgPSBFYXNlLmdldFBvd091dCg0KTtcblx0LyoqXG5cdCAqIEBtZXRob2QgcXVhcnRJbk91dFxuXHQgKiBAcGFyYW0ge051bWJlcn0gdFxuXHQgKiBAc3RhdGljXG5cdCAqIEByZXR1cm4ge051bWJlcn1cblx0ICoqL1xuXHRFYXNlLnF1YXJ0SW5PdXQgPSBFYXNlLmdldFBvd0luT3V0KDQpO1xuXG5cdC8qKlxuXHQgKiBAbWV0aG9kIHF1aW50SW5cblx0ICogQHBhcmFtIHtOdW1iZXJ9IHRcblx0ICogQHN0YXRpY1xuXHQgKiBAcmV0dXJuIHtOdW1iZXJ9XG5cdCAqKi9cblx0RWFzZS5xdWludEluID0gRWFzZS5nZXRQb3dJbig1KTtcblx0LyoqXG5cdCAqIEBtZXRob2QgcXVpbnRPdXRcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHRcblx0ICogQHN0YXRpY1xuXHQgKiBAcmV0dXJuIHtOdW1iZXJ9XG5cdCAqKi9cblx0RWFzZS5xdWludE91dCA9IEVhc2UuZ2V0UG93T3V0KDUpO1xuXHQvKipcblx0ICogQG1ldGhvZCBxdWludEluT3V0XG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB0XG5cdCAqIEBzdGF0aWNcblx0ICogQHJldHVybiB7TnVtYmVyfVxuXHQgKiovXG5cdEVhc2UucXVpbnRJbk91dCA9IEVhc2UuZ2V0UG93SW5PdXQoNSk7XG5cblx0LyoqXG5cdCAqIEBtZXRob2Qgc2luZUluXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB0XG5cdCAqIEBzdGF0aWNcblx0ICogQHJldHVybiB7TnVtYmVyfVxuXHQgKiovXG5cdEVhc2Uuc2luZUluID0gZnVuY3Rpb24odCkge1xuXHRcdHJldHVybiAxLU1hdGguY29zKHQqTWF0aC5QSS8yKTtcblx0fTtcblxuXHQvKipcblx0ICogQG1ldGhvZCBzaW5lT3V0XG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB0XG5cdCAqIEBzdGF0aWNcblx0ICogQHJldHVybiB7TnVtYmVyfVxuXHQgKiovXG5cdEVhc2Uuc2luZU91dCA9IGZ1bmN0aW9uKHQpIHtcblx0XHRyZXR1cm4gTWF0aC5zaW4odCpNYXRoLlBJLzIpO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBAbWV0aG9kIHNpbmVJbk91dFxuXHQgKiBAcGFyYW0ge051bWJlcn0gdFxuXHQgKiBAc3RhdGljXG5cdCAqIEByZXR1cm4ge051bWJlcn1cblx0ICoqL1xuXHRFYXNlLnNpbmVJbk91dCA9IGZ1bmN0aW9uKHQpIHtcblx0XHRyZXR1cm4gLTAuNSooTWF0aC5jb3MoTWF0aC5QSSp0KSAtIDEpO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBDb25maWd1cmFibGUgXCJiYWNrIGluXCIgZWFzZS5cblx0ICogQG1ldGhvZCBnZXRCYWNrSW5cblx0ICogQHBhcmFtIHtOdW1iZXJ9IGFtb3VudCBUaGUgc3RyZW5ndGggb2YgdGhlIGVhc2UuXG5cdCAqIEBzdGF0aWNcblx0ICogQHJldHVybiB7RnVuY3Rpb259XG5cdCAqKi9cblx0RWFzZS5nZXRCYWNrSW4gPSBmdW5jdGlvbihhbW91bnQpIHtcblx0XHRyZXR1cm4gZnVuY3Rpb24odCkge1xuXHRcdFx0cmV0dXJuIHQqdCooKGFtb3VudCsxKSp0LWFtb3VudCk7XG5cdFx0fTtcblx0fTtcblx0LyoqXG5cdCAqIEBtZXRob2QgYmFja0luXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB0XG5cdCAqIEBzdGF0aWNcblx0ICogQHJldHVybiB7TnVtYmVyfVxuXHQgKiovXG5cdEVhc2UuYmFja0luID0gRWFzZS5nZXRCYWNrSW4oMS43KTtcblxuXHQvKipcblx0ICogQ29uZmlndXJhYmxlIFwiYmFjayBvdXRcIiBlYXNlLlxuXHQgKiBAbWV0aG9kIGdldEJhY2tPdXRcblx0ICogQHBhcmFtIHtOdW1iZXJ9IGFtb3VudCBUaGUgc3RyZW5ndGggb2YgdGhlIGVhc2UuXG5cdCAqIEBzdGF0aWNcblx0ICogQHJldHVybiB7RnVuY3Rpb259XG5cdCAqKi9cblx0RWFzZS5nZXRCYWNrT3V0ID0gZnVuY3Rpb24oYW1vdW50KSB7XG5cdFx0cmV0dXJuIGZ1bmN0aW9uKHQpIHtcblx0XHRcdHJldHVybiAoLS10KnQqKChhbW91bnQrMSkqdCArIGFtb3VudCkgKyAxKTtcblx0XHR9O1xuXHR9O1xuXHQvKipcblx0ICogQG1ldGhvZCBiYWNrT3V0XG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB0XG5cdCAqIEBzdGF0aWNcblx0ICogQHJldHVybiB7TnVtYmVyfVxuXHQgKiovXG5cdEVhc2UuYmFja091dCA9IEVhc2UuZ2V0QmFja091dCgxLjcpO1xuXG5cdC8qKlxuXHQgKiBDb25maWd1cmFibGUgXCJiYWNrIGluIG91dFwiIGVhc2UuXG5cdCAqIEBtZXRob2QgZ2V0QmFja0luT3V0XG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBhbW91bnQgVGhlIHN0cmVuZ3RoIG9mIHRoZSBlYXNlLlxuXHQgKiBAc3RhdGljXG5cdCAqIEByZXR1cm4ge0Z1bmN0aW9ufVxuXHQgKiovXG5cdEVhc2UuZ2V0QmFja0luT3V0ID0gZnVuY3Rpb24oYW1vdW50KSB7XG5cdFx0YW1vdW50Kj0xLjUyNTtcblx0XHRyZXR1cm4gZnVuY3Rpb24odCkge1xuXHRcdFx0aWYgKCh0Kj0yKTwxKSByZXR1cm4gMC41Kih0KnQqKChhbW91bnQrMSkqdC1hbW91bnQpKTtcblx0XHRcdHJldHVybiAwLjUqKCh0LT0yKSp0KigoYW1vdW50KzEpKnQrYW1vdW50KSsyKTtcblx0XHR9O1xuXHR9O1xuXHQvKipcblx0ICogQG1ldGhvZCBiYWNrSW5PdXRcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHRcblx0ICogQHN0YXRpY1xuXHQgKiBAcmV0dXJuIHtOdW1iZXJ9XG5cdCAqKi9cblx0RWFzZS5iYWNrSW5PdXQgPSBFYXNlLmdldEJhY2tJbk91dCgxLjcpO1xuXG5cdC8qKlxuXHQgKiBAbWV0aG9kIGNpcmNJblxuXHQgKiBAcGFyYW0ge051bWJlcn0gdFxuXHQgKiBAc3RhdGljXG5cdCAqIEByZXR1cm4ge051bWJlcn1cblx0ICoqL1xuXHRFYXNlLmNpcmNJbiA9IGZ1bmN0aW9uKHQpIHtcblx0XHRyZXR1cm4gLShNYXRoLnNxcnQoMS10KnQpLSAxKTtcblx0fTtcblxuXHQvKipcblx0ICogQG1ldGhvZCBjaXJjT3V0XG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB0XG5cdCAqIEBzdGF0aWNcblx0ICogQHJldHVybiB7TnVtYmVyfVxuXHQgKiovXG5cdEVhc2UuY2lyY091dCA9IGZ1bmN0aW9uKHQpIHtcblx0XHRyZXR1cm4gTWF0aC5zcXJ0KDEtKC0tdCkqdCk7XG5cdH07XG5cblx0LyoqXG5cdCAqIEBtZXRob2QgY2lyY0luT3V0XG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB0XG5cdCAqIEBzdGF0aWNcblx0ICogQHJldHVybiB7TnVtYmVyfVxuXHQgKiovXG5cdEVhc2UuY2lyY0luT3V0ID0gZnVuY3Rpb24odCkge1xuXHRcdGlmICgodCo9MikgPCAxKSByZXR1cm4gLTAuNSooTWF0aC5zcXJ0KDEtdCp0KS0xKTtcblx0XHRyZXR1cm4gMC41KihNYXRoLnNxcnQoMS0odC09MikqdCkrMSk7XG5cdH07XG5cblx0LyoqXG5cdCAqIEBtZXRob2QgYm91bmNlSW5cblx0ICogQHBhcmFtIHtOdW1iZXJ9IHRcblx0ICogQHN0YXRpY1xuXHQgKiBAcmV0dXJuIHtOdW1iZXJ9XG5cdCAqKi9cblx0RWFzZS5ib3VuY2VJbiA9IGZ1bmN0aW9uKHQpIHtcblx0XHRyZXR1cm4gMS1FYXNlLmJvdW5jZU91dCgxLXQpO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBAbWV0aG9kIGJvdW5jZU91dFxuXHQgKiBAcGFyYW0ge051bWJlcn0gdFxuXHQgKiBAc3RhdGljXG5cdCAqIEByZXR1cm4ge051bWJlcn1cblx0ICoqL1xuXHRFYXNlLmJvdW5jZU91dCA9IGZ1bmN0aW9uKHQpIHtcblx0XHRpZiAodCA8IDEvMi43NSkge1xuXHRcdFx0cmV0dXJuICg3LjU2MjUqdCp0KTtcblx0XHR9IGVsc2UgaWYgKHQgPCAyLzIuNzUpIHtcblx0XHRcdHJldHVybiAoNy41NjI1Kih0LT0xLjUvMi43NSkqdCswLjc1KTtcblx0XHR9IGVsc2UgaWYgKHQgPCAyLjUvMi43NSkge1xuXHRcdFx0cmV0dXJuICg3LjU2MjUqKHQtPTIuMjUvMi43NSkqdCswLjkzNzUpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gKDcuNTYyNSoodC09Mi42MjUvMi43NSkqdCArMC45ODQzNzUpO1xuXHRcdH1cblx0fTtcblxuXHQvKipcblx0ICogQG1ldGhvZCBib3VuY2VJbk91dFxuXHQgKiBAcGFyYW0ge051bWJlcn0gdFxuXHQgKiBAc3RhdGljXG5cdCAqIEByZXR1cm4ge051bWJlcn1cblx0ICoqL1xuXHRFYXNlLmJvdW5jZUluT3V0ID0gZnVuY3Rpb24odCkge1xuXHRcdGlmICh0PDAuNSkgcmV0dXJuIEVhc2UuYm91bmNlSW4gKHQqMikgKiAuNTtcblx0XHRyZXR1cm4gRWFzZS5ib3VuY2VPdXQodCoyLTEpKjAuNSswLjU7XG5cdH07XG5cblx0LyoqXG5cdCAqIENvbmZpZ3VyYWJsZSBlbGFzdGljIGVhc2UuXG5cdCAqIEBtZXRob2QgZ2V0RWxhc3RpY0luXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBhbXBsaXR1ZGVcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHBlcmlvZFxuXHQgKiBAc3RhdGljXG5cdCAqIEByZXR1cm4ge0Z1bmN0aW9ufVxuXHQgKiovXG5cdEVhc2UuZ2V0RWxhc3RpY0luID0gZnVuY3Rpb24oYW1wbGl0dWRlLHBlcmlvZCkge1xuXHRcdHZhciBwaTIgPSBNYXRoLlBJKjI7XG5cdFx0cmV0dXJuIGZ1bmN0aW9uKHQpIHtcblx0XHRcdGlmICh0PT0wIHx8IHQ9PTEpIHJldHVybiB0O1xuXHRcdFx0dmFyIHMgPSBwZXJpb2QvcGkyKk1hdGguYXNpbigxL2FtcGxpdHVkZSk7XG5cdFx0XHRyZXR1cm4gLShhbXBsaXR1ZGUqTWF0aC5wb3coMiwxMCoodC09MSkpKk1hdGguc2luKCh0LXMpKnBpMi9wZXJpb2QpKTtcblx0XHR9O1xuXHR9O1xuXHQvKipcblx0ICogQG1ldGhvZCBlbGFzdGljSW5cblx0ICogQHBhcmFtIHtOdW1iZXJ9IHRcblx0ICogQHN0YXRpY1xuXHQgKiBAcmV0dXJuIHtOdW1iZXJ9XG5cdCAqKi9cblx0RWFzZS5lbGFzdGljSW4gPSBFYXNlLmdldEVsYXN0aWNJbigxLDAuMyk7XG5cblx0LyoqXG5cdCAqIENvbmZpZ3VyYWJsZSBlbGFzdGljIGVhc2UuXG5cdCAqIEBtZXRob2QgZ2V0RWxhc3RpY091dFxuXHQgKiBAcGFyYW0ge051bWJlcn0gYW1wbGl0dWRlXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBwZXJpb2Rcblx0ICogQHN0YXRpY1xuXHQgKiBAcmV0dXJuIHtGdW5jdGlvbn1cblx0ICoqL1xuXHRFYXNlLmdldEVsYXN0aWNPdXQgPSBmdW5jdGlvbihhbXBsaXR1ZGUscGVyaW9kKSB7XG5cdFx0dmFyIHBpMiA9IE1hdGguUEkqMjtcblx0XHRyZXR1cm4gZnVuY3Rpb24odCkge1xuXHRcdFx0aWYgKHQ9PTAgfHwgdD09MSkgcmV0dXJuIHQ7XG5cdFx0XHR2YXIgcyA9IHBlcmlvZC9waTIgKiBNYXRoLmFzaW4oMS9hbXBsaXR1ZGUpO1xuXHRcdFx0cmV0dXJuIChhbXBsaXR1ZGUqTWF0aC5wb3coMiwtMTAqdCkqTWF0aC5zaW4oKHQtcykqcGkyL3BlcmlvZCApKzEpO1xuXHRcdH07XG5cdH07XG5cdC8qKlxuXHQgKiBAbWV0aG9kIGVsYXN0aWNPdXRcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHRcblx0ICogQHN0YXRpY1xuXHQgKiBAcmV0dXJuIHtOdW1iZXJ9XG5cdCAqKi9cblx0RWFzZS5lbGFzdGljT3V0ID0gRWFzZS5nZXRFbGFzdGljT3V0KDEsMC4zKTtcblxuXHQvKipcblx0ICogQ29uZmlndXJhYmxlIGVsYXN0aWMgZWFzZS5cblx0ICogQG1ldGhvZCBnZXRFbGFzdGljSW5PdXRcblx0ICogQHBhcmFtIHtOdW1iZXJ9IGFtcGxpdHVkZVxuXHQgKiBAcGFyYW0ge051bWJlcn0gcGVyaW9kXG5cdCAqIEBzdGF0aWNcblx0ICogQHJldHVybiB7RnVuY3Rpb259XG5cdCAqKi9cblx0RWFzZS5nZXRFbGFzdGljSW5PdXQgPSBmdW5jdGlvbihhbXBsaXR1ZGUscGVyaW9kKSB7XG5cdFx0dmFyIHBpMiA9IE1hdGguUEkqMjtcblx0XHRyZXR1cm4gZnVuY3Rpb24odCkge1xuXHRcdFx0dmFyIHMgPSBwZXJpb2QvcGkyICogTWF0aC5hc2luKDEvYW1wbGl0dWRlKTtcblx0XHRcdGlmICgodCo9Mik8MSkgcmV0dXJuIC0wLjUqKGFtcGxpdHVkZSpNYXRoLnBvdygyLDEwKih0LT0xKSkqTWF0aC5zaW4oICh0LXMpKnBpMi9wZXJpb2QgKSk7XG5cdFx0XHRyZXR1cm4gYW1wbGl0dWRlKk1hdGgucG93KDIsLTEwKih0LT0xKSkqTWF0aC5zaW4oKHQtcykqcGkyL3BlcmlvZCkqMC41KzE7XG5cdFx0fTtcblx0fTtcblx0LyoqXG5cdCAqIEBtZXRob2QgZWxhc3RpY0luT3V0XG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB0XG5cdCAqIEBzdGF0aWNcblx0ICogQHJldHVybiB7TnVtYmVyfVxuXHQgKiovXG5cdEVhc2UuZWxhc3RpY0luT3V0ID0gRWFzZS5nZXRFbGFzdGljSW5PdXQoMSwwLjMqMS41KTtcblxuXHRjcmVhdGVqcy5FYXNlID0gRWFzZTtcblxufSgpKTtcblxuLy8jIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyNcbi8vIE1vdGlvbkd1aWRlUGx1Z2luLmpzXG4vLyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI1xuXG4oZnVuY3Rpb24oKSB7XG5cdFwidXNlIHN0cmljdFwiO1xuXG5cdC8qKlxuXHQgKiBBIFR3ZWVuSlMgcGx1Z2luIGZvciB3b3JraW5nIHdpdGggbW90aW9uIGd1aWRlcy4gRGVmaW5lZCBwYXRocyB3aGljaCBvYmplY3RzIGNhbiBmb2xsb3cgb3Igb3JpZW50IGFsb25nLlxuXHQgKlxuXHQgKiBUbyB1c2UgdGhlIHBsdWdpbiwgaW5zdGFsbCB0aGUgcGx1Z2luIGFmdGVyIFR3ZWVuSlMgaGFzIGxvYWRlZC4gVG8gZGVmaW5lIGEgcGF0aCwgYWRkXG5cdCAqXG5cdCAqIFx0XHRjcmVhdGVqcy5Nb3Rpb25HdWlkZVBsdWdpbi5pbnN0YWxsKCk7XG5cdCAqXG5cdCAqIDxoND5FeGFtcGxlPC9oND5cblx0ICpcblx0ICogXHRcdC8vIFVzaW5nIGEgTW90aW9uIEd1aWRlXG5cdCAqIFx0XHRjcmVhdGVqcy5Ud2Vlbi5nZXQodGFyZ2V0KS50byh7Z3VpZGU6eyBwYXRoOlswLDAsIDAsMjAwLDIwMCwyMDAsIDIwMCwwLDAsMF0gfX0sNzAwMCk7XG5cdCAqIFx0XHQvLyBWaXN1YWxpemluZyB0aGUgbGluZVxuXHQgKiBcdFx0Z3JhcGhpY3MubW92ZVRvKDAsMCkuY3VydmVUbygwLDIwMCwyMDAsMjAwKS5jdXJ2ZVRvKDIwMCwwLDAsMCk7XG5cdCAqXG5cdCAqIEVhY2ggcGF0aCBuZWVkcyBwcmUtY29tcHV0YXRpb24gdG8gZW5zdXJlIHRoZXJlJ3MgZmFzdCBwZXJmb3JtYW5jZS4gQmVjYXVzZSBvZiB0aGUgcHJlLWNvbXB1dGF0aW9uIHRoZXJlJ3Mgbm9cblx0ICogYnVpbHQgaW4gc3VwcG9ydCBmb3IgcGF0aCBjaGFuZ2VzIG1pZCB0d2Vlbi4gVGhlc2UgYXJlIHRoZSBHdWlkZSBPYmplY3QncyBwcm9wZXJ0aWVzOjxVTD5cblx0ICogXHRcdDxMST4gcGF0aDogUmVxdWlyZWQsIEFycmF5IDogVGhlIHgveSBwb2ludHMgdXNlZCB0byBkcmF3IHRoZSBwYXRoIHdpdGggYSBtb3ZlVG8gYW5kIDEgdG8gbiBjdXJ2ZVRvIGNhbGxzLjwvTEk+XG5cdCAqIFx0XHQ8TEk+IHN0YXJ0OiBPcHRpb25hbCwgMC0xIDogSW5pdGlhbCBwb3NpdGlvbiwgZGVmYXVsdCAwIGV4Y2VwdCBmb3Igd2hlbiBjb250aW51aW5nIGFsb25nIHRoZSBzYW1lIHBhdGguPC9MST5cblx0ICogXHRcdDxMST4gZW5kOiBPcHRpb25hbCwgMC0xIDogRmluYWwgcG9zaXRpb24sIGRlZmF1bHQgMSBpZiBub3Qgc3BlY2lmaWVkLjwvTEk+XG5cdCAqIFx0XHQ8TEk+IG9yaWVudDogT3B0aW9uYWwsIHN0cmluZyA6IFwiZml4ZWRcIi9cImF1dG9cIi9cImN3XCIvXCJjY3dcIjxVTD5cblx0ICpcdFx0XHRcdDxMST5cImZpeGVkXCIgZm9yY2VzIHRoZSBvYmplY3QgdG8gZmFjZSBkb3duIHRoZSBwYXRoIGFsbCBtb3ZlbWVudCAocmVsYXRpdmUgdG8gc3RhcnQgcm90YXRpb24pLDwvTEk+XG5cdCAqIFx0XHRcdFx0PExJPlwiYXV0b1wiIHJvdGF0ZXMgdGhlIG9iamVjdCBhbG9uZyB0aGUgcGF0aCByZWxhdGl2ZSB0byB0aGUgbGluZS48L0xJPlxuXHQgKiBcdFx0XHRcdDxMST5cImN3XCIvXCJjY3dcIiBmb3JjZSBjbG9ja3dpc2Ugb3IgY291bnRlciBjbG9ja3dpc2Ugcm90YXRpb25zIGluY2x1ZGluZyBBZG9iZSBGbGFzaC9BbmltYXRlLWxpa2Vcblx0ICogXHRcdFx0XHRiZWhhdmlvdXIuIFRoaXMgbWF5IG92ZXJyaWRlIHlvdXIgZW5kIHJvdGF0aW9uIHZhbHVlLjwvTEk+XG5cdCAqIFx0XHQ8L1VMPjwvTEk+XG5cdCAqIDwvVUw+XG5cdCAqIEd1aWRlIG9iamVjdHMgc2hvdWxkIG5vdCBiZSBzaGFyZWQgYmV0d2VlbiB0d2VlbnMgZXZlbiBpZiBhbGwgcHJvcGVydGllcyBhcmUgaWRlbnRpY2FsLCB0aGUgbGlicmFyeSBzdG9yZXNcblx0ICogaW5mb3JtYXRpb24gb24gdGhlc2Ugb2JqZWN0cyBpbiB0aGUgYmFja2dyb3VuZCBhbmQgc2hhcmluZyB0aGVtIGNhbiBjYXVzZSB1bmV4cGVjdGVkIGJlaGF2aW91ci4gVmFsdWVzXG5cdCAqIG91dHNpZGUgMC0xIHJhbmdlIG9mIHR3ZWVucyB3aWxsIGJlIGEgXCJiZXN0IGd1ZXNzXCIgZnJvbSB0aGUgYXBwcm9wcmlhdGUgcGFydCBvZiB0aGUgZGVmaW5lZCBjdXJ2ZS5cblx0ICpcblx0ICogQGNsYXNzIE1vdGlvbkd1aWRlUGx1Z2luXG5cdCAqIEBjb25zdHJ1Y3RvclxuXHQgKi9cblx0ZnVuY3Rpb24gTW90aW9uR3VpZGVQbHVnaW4oKSB7XG5cdFx0dGhyb3coXCJNb3Rpb25HdWlkZVBsdWdpbiBjYW5ub3QgYmUgaW5zdGFudGlhdGVkLlwiKVxuXHR9XG5cdHZhciBzID0gTW90aW9uR3VpZGVQbHVnaW47XG5cblxuLy8gc3RhdGljIHByb3BlcnRpZXM6XG5cdC8qKlxuXHQgKiBAcHJvcGVydHkgcHJpb3JpdHlcblx0ICogQHByb3RlY3RlZFxuXHQgKiBAc3RhdGljXG5cdCAqL1xuXHRzLnByaW9yaXR5ID0gMDsgLy8gaGlnaCBwcmlvcml0eSwgc2hvdWxkIHJ1biBzb29uZXJcblxuXHQvKipcblx0ICogUkVBRC1PTkxZLiBBIHVuaXF1ZSBpZGVudGlmeWluZyBzdHJpbmcgZm9yIHRoaXMgcGx1Z2luLiBVc2VkIGJ5IFR3ZWVuSlMgdG8gZW5zdXJlIGR1cGxpY2F0ZSBwbHVnaW5zIGFyZSBub3QgaW5zdGFsbGVkIG9uIGEgdHdlZW4uXG5cdCAqIEBwcm9wZXJ0eSBJRFxuXHQgKiBAdHlwZSB7U3RyaW5nfVxuXHQgKiBAc3RhdGljXG5cdCAqIEByZWFkb25seVxuXHQgKi9cblx0cy5JRCA9IFwiTW90aW9uR3VpZGVcIjtcblxuLy8gc3RhdGljIG1ldGhvZHNcblx0LyoqXG5cdCAqIEluc3RhbGxzIHRoaXMgcGx1Z2luIGZvciB1c2Ugd2l0aCBUd2VlbkpTLiBDYWxsIHRoaXMgb25jZSBhZnRlciBUd2VlbkpTIGlzIGxvYWRlZCB0byBlbmFibGUgdGhpcyBwbHVnaW4uXG5cdCAqIEBtZXRob2QgaW5zdGFsbFxuXHQgKiBAc3RhdGljXG5cdCAqL1xuXHRzLmluc3RhbGwgPSBmdW5jdGlvbigpIHtcblx0XHRjcmVhdGVqcy5Ud2Vlbi5faW5zdGFsbFBsdWdpbihNb3Rpb25HdWlkZVBsdWdpbik7XG5cdFx0cmV0dXJuIGNyZWF0ZWpzLlR3ZWVuLklHTk9SRTtcblx0fTtcblxuXHQvKipcblx0ICogQ2FsbGVkIGJ5IFR3ZWVuSlMgd2hlbiBhIG5ldyBwcm9wZXJ0eSBpbml0aWFsaXplcyBvbiBhIHR3ZWVuLlxuXHQgKiBTZWUge3sjY3Jvc3NMaW5rIFwiU2FtcGxlUGx1Z2luL2luaXRcIn19e3svY3Jvc3NMaW5rfX0gZm9yIG1vcmUgaW5mby5cblx0ICogQG1ldGhvZCBpbml0XG5cdCAqIEBwYXJhbSB7VHdlZW59IHR3ZWVuXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wXG5cdCAqIEBwYXJhbSB7YW55fSB2YWx1ZVxuXHQgKiBAcmV0dXJuIHthbnl9XG5cdCAqIEBzdGF0aWNcblx0ICovXG5cdHMuaW5pdCA9IGZ1bmN0aW9uKHR3ZWVuLCBwcm9wLCB2YWx1ZSkge1xuXHRcdGlmKHByb3AgPT0gXCJndWlkZVwiKSB7XG5cdFx0XHR0d2Vlbi5fYWRkUGx1Z2luKHMpO1xuXHRcdH1cblx0fTtcblxuXHQvKipcblx0ICogQ2FsbGVkIHdoZW4gYSBuZXcgc3RlcCBpcyBhZGRlZCB0byBhIHR3ZWVuIChpZS4gYSBuZXcgXCJ0b1wiIGFjdGlvbiBpcyBhZGRlZCB0byBhIHR3ZWVuKS5cblx0ICogU2VlIHt7I2Nyb3NzTGluayBcIlNhbXBsZVBsdWdpbi9zdGVwXCJ9fXt7L2Nyb3NzTGlua319IGZvciBtb3JlIGluZm8uXG5cdCAqIEBtZXRob2Qgc3RlcFxuXHQgKiBAcGFyYW0ge1R3ZWVufSB0d2VlblxuXHQgKiBAcGFyYW0ge1R3ZWVuU3RlcH0gc3RlcFxuXHQgKiBAcGFyYW0ge09iamVjdH0gcHJvcHNcblx0ICogQHN0YXRpY1xuXHQgKi9cblx0cy5zdGVwID0gZnVuY3Rpb24odHdlZW4sIHN0ZXAsIHByb3BzKSB7XG5cdFx0Zm9yICh2YXIgbiBpbiBwcm9wcykge1xuXHRcdFx0aWYobiAhPT0gXCJndWlkZVwiKSB7IGNvbnRpbnVlOyB9XG5cblx0XHRcdHZhciBndWlkZURhdGEgPSBzdGVwLnByb3BzLmd1aWRlO1xuXHRcdFx0dmFyIGVycm9yID0gcy5fc29sdmVHdWlkZURhdGEocHJvcHMuZ3VpZGUsIGd1aWRlRGF0YSk7XG5cdFx0XHRndWlkZURhdGEudmFsaWQgPSAhZXJyb3I7XG5cblx0XHRcdHZhciBlbmQgPSBndWlkZURhdGEuZW5kRGF0YTtcblx0XHRcdHR3ZWVuLl9pbmplY3RQcm9wKFwieFwiLCBlbmQueCk7XG5cdFx0XHR0d2Vlbi5faW5qZWN0UHJvcChcInlcIiwgZW5kLnkpO1xuXG5cdFx0XHRpZihlcnJvciB8fCAhZ3VpZGVEYXRhLm9yaWVudCkgeyBicmVhazsgfVxuXG5cdFx0XHR2YXIgaW5pdFJvdCA9IHN0ZXAucHJldi5wcm9wcy5yb3RhdGlvbiA9PT0gdW5kZWZpbmVkID8gKHR3ZWVuLnRhcmdldC5yb3RhdGlvbiB8fCAwKSA6IHN0ZXAucHJldi5wcm9wcy5yb3RhdGlvbjtcblxuXHRcdFx0Z3VpZGVEYXRhLnN0YXJ0T2Zmc2V0Um90ID0gaW5pdFJvdCAtIGd1aWRlRGF0YS5zdGFydERhdGEucm90YXRpb247XG5cblx0XHRcdGlmKGd1aWRlRGF0YS5vcmllbnQgPT0gXCJmaXhlZFwiKSB7XG5cdFx0XHRcdC8vIGNvbnRyb2xsZWQgcm90YXRpb25cblx0XHRcdFx0Z3VpZGVEYXRhLmVuZEFic1JvdCA9IGVuZC5yb3RhdGlvbiArIGd1aWRlRGF0YS5zdGFydE9mZnNldFJvdDtcblx0XHRcdFx0Z3VpZGVEYXRhLmRlbHRhUm90YXRpb24gPSAwO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Ly8gaW50ZXJwcmV0ZWQgcm90YXRpb25cblxuXHRcdFx0XHR2YXIgZmluYWxSb3QgPSBwcm9wcy5yb3RhdGlvbiA9PT0gdW5kZWZpbmVkID8gKHR3ZWVuLnRhcmdldC5yb3RhdGlvbiB8fCAwKSA6IHByb3BzLnJvdGF0aW9uO1xuXHRcdFx0XHR2YXIgZGVsdGFSb3QgPSAoZmluYWxSb3QgLSBndWlkZURhdGEuZW5kRGF0YS5yb3RhdGlvbikgLSBndWlkZURhdGEuc3RhcnRPZmZzZXRSb3Q7XG5cdFx0XHRcdHZhciBtb2RSb3QgPSBkZWx0YVJvdCAlIDM2MDtcblxuXHRcdFx0XHRndWlkZURhdGEuZW5kQWJzUm90ID0gZmluYWxSb3Q7XG5cblx0XHRcdFx0c3dpdGNoKGd1aWRlRGF0YS5vcmllbnQpIHtcblx0XHRcdFx0XHRjYXNlIFwiYXV0b1wiOlxuXHRcdFx0XHRcdFx0Z3VpZGVEYXRhLmRlbHRhUm90YXRpb24gPSBkZWx0YVJvdDtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgXCJjd1wiOlxuXHRcdFx0XHRcdFx0Z3VpZGVEYXRhLmRlbHRhUm90YXRpb24gPSAoKG1vZFJvdCArIDM2MCkgJSAzNjApICsgKDM2MCAqIE1hdGguYWJzKChkZWx0YVJvdC8zNjApIHwwKSk7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRjYXNlIFwiY2N3XCI6XG5cdFx0XHRcdFx0XHRndWlkZURhdGEuZGVsdGFSb3RhdGlvbiA9ICgobW9kUm90IC0gMzYwKSAlIDM2MCkgKyAoLTM2MCAqIE1hdGguYWJzKChkZWx0YVJvdC8zNjApIHwwKSk7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHR0d2Vlbi5faW5qZWN0UHJvcChcInJvdGF0aW9uXCIsIGd1aWRlRGF0YS5lbmRBYnNSb3QpO1xuXHRcdH1cblx0fTtcblxuXHQvKipcblx0ICogQ2FsbGVkIGJlZm9yZSBhIHByb3BlcnR5IGlzIHVwZGF0ZWQgYnkgdGhlIHR3ZWVuLlxuXHQgKiBTZWUge3sjY3Jvc3NMaW5rIFwiU2FtcGxlUGx1Z2luL2NoYW5nZVwifX17ey9jcm9zc0xpbmt9fSBmb3IgbW9yZSBpbmZvLlxuXHQgKiBAbWV0aG9kIGNoYW5nZVxuXHQgKiBAcGFyYW0ge1R3ZWVufSB0d2VlblxuXHQgKiBAcGFyYW0ge1R3ZWVuU3RlcH0gc3RlcFxuXHQgKiBAcGFyYW0ge1N0cmluZ30gcHJvcFxuXHQgKiBAcGFyYW0ge2FueX0gdmFsdWVcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHJhdGlvXG5cdCAqIEBwYXJhbSB7Qm9vbGVhbn0gZW5kXG5cdCAqIEByZXR1cm4ge2FueX1cblx0ICogQHN0YXRpY1xuXHQgKi9cblx0cy5jaGFuZ2UgPSBmdW5jdGlvbih0d2Vlbiwgc3RlcCwgcHJvcCwgdmFsdWUsIHJhdGlvLCBlbmQpIHtcblx0XHR2YXIgZ3VpZGVEYXRhID0gc3RlcC5wcm9wcy5ndWlkZTtcblxuXHRcdGlmKFxuXHRcdFx0XHQhZ3VpZGVEYXRhIHx8XHRcdFx0XHRcdFx0XHQvLyBNaXNzaW5nIGRhdGFcblx0XHRcdFx0KHN0ZXAucHJvcHMgPT09IHN0ZXAucHJldi5wcm9wcykgfHwgXHQvLyBJbiBhIHdhaXQoKVxuXHRcdFx0XHQoZ3VpZGVEYXRhID09PSBzdGVwLnByZXYucHJvcHMuZ3VpZGUpIFx0Ly8gR3VpZGUgaGFzbid0IGNoYW5nZWRcblx0XHQpIHtcblx0XHRcdHJldHVybjsgLy8gaGF2ZSBubyBidXNpbmVzcyBtYWtpbmcgZGVjaXNpb25zXG5cdFx0fVxuXHRcdGlmKFxuXHRcdFx0XHQocHJvcCA9PT0gXCJndWlkZVwiICYmICFndWlkZURhdGEudmFsaWQpIHx8XHRcdC8vIHRoaXMgZGF0YSBpcyBicm9rZW5cblx0XHRcdFx0KHByb3AgPT0gXCJ4XCIgfHwgcHJvcCA9PSBcInlcIikgfHxcdFx0XHRcdFx0Ly8gdGhlc2UgYWx3YXlzIGdldCBvdmVyLXdyaXR0ZW5cblx0XHRcdFx0KHByb3AgPT09IFwicm90YXRpb25cIiAmJiBndWlkZURhdGEub3JpZW50KVx0XHQvLyBjdXJyZW50bHkgb3Zlci13cml0dGVuXG5cdFx0KXtcblx0XHRcdHJldHVybiBjcmVhdGVqcy5Ud2Vlbi5JR05PUkU7XG5cdFx0fVxuXG5cdFx0cy5fcmF0aW9Ub1Bvc2l0aW9uRGF0YShyYXRpbywgZ3VpZGVEYXRhLCB0d2Vlbi50YXJnZXQpO1xuXHR9O1xuXG4vLyBwdWJsaWMgbWV0aG9kc1xuXHQvKipcblx0ICogUHJvdmlkZSBwb3RlbnRpYWxseSB1c2VmdWwgZGVidWdnaW5nIGluZm9ybWF0aW9uLCBsaWtlIHJ1bm5pbmcgdGhlIGVycm9yIGRldGVjdGlvbiBzeXN0ZW0sIGFuZCByZW5kZXJpbmcgdGhlIHBhdGhcblx0ICogZGVmaW5lZCBpbiB0aGUgZ3VpZGUgZGF0YS5cblx0ICpcblx0ICogTk9URTogeW91IHdpbGwgbmVlZCB0byB0cmFuc2Zvcm0geW91ciBjb250ZXh0IDJEIHRvIHRoZSBsb2NhbCBzcGFjZSBvZiB0aGUgZ3VpZGUgaWYgeW91IHdpc2ggdG8gbGluZSBpdCB1cC5cblx0ICogQHBhcmFtIHtPYmplY3R9IGd1aWRlRGF0YSBBbGwgdGhlIGluZm9ybWF0aW9uIGRlc2NyaWJpbmcgdGhlIGd1aWRlIHRvIGJlIGZvbGxvd2VkLlxuXHQgKiBAcGFyYW0ge0RyYXdpbmdDb250ZXh0MkR9IFtjdHg9dW5kZWZpbmVkXSBUaGUgY29udGV4dCB0byBkcmF3IHRoZSBvYmplY3QgaW50by5cblx0ICogQHBhcmFtIHtBcnJheX0gW2hpZ2xpZ2h0PXVuZGVmaW5lZF0gQXJyYXkgb2YgcmF0aW8gcG9zaXRpb25zIHRvIGhpZ2hsaWdodFxuXHQgKiBAcmV0dXJucyB7dW5kZWZpbmVkfFN0cmluZ31cblx0ICovXG5cdHMuZGVidWcgPSBmdW5jdGlvbihndWlkZURhdGEsIGN0eCwgaGlnbGlnaHQpIHtcblx0XHRndWlkZURhdGEgPSBndWlkZURhdGEuZ3VpZGUgfHwgZ3VpZGVEYXRhO1xuXG5cdFx0Ly8gZXJyb3JzXG5cdFx0dmFyIGVyciA9IHMuX2ZpbmRQYXRoUHJvYmxlbXMoZ3VpZGVEYXRhKTtcblx0XHRpZihlcnIpIHtcblx0XHRcdGNvbnNvbGUuZXJyb3IoXCJNb3Rpb25HdWlkZVBsdWdpbiBFcnJvciBmb3VuZDogXFxuXCIgKyBlcnIpO1xuXHRcdH1cblxuXHRcdC8vIGRyYXdpbmdcblx0XHRpZighY3R4KXsgcmV0dXJuIGVycjsgfVxuXG5cdFx0dmFyIGk7XG5cdFx0dmFyIHBhdGggPSBndWlkZURhdGEucGF0aDtcblx0XHR2YXIgcGF0aExlbmd0aCA9IHBhdGgubGVuZ3RoO1xuXHRcdHZhciB3aWR0aCA9IDM7XG5cdFx0dmFyIGxlbmd0aCA9IDk7XG5cblx0XHRjdHguc2F2ZSgpO1xuXHRcdC8vY3R4LnJlc2V0VHJhbnNmb3JtKCk7XG5cblx0XHRjdHgubGluZUNhcCA9IFwicm91bmRcIjtcblx0XHRjdHgubGluZUpvaW4gPSBcIm1pdGVyXCI7XG5cdFx0Y3R4LmJlZ2luUGF0aCgpO1xuXG5cdFx0Ly8gY3VydmVcblx0XHRjdHgubW92ZVRvKHBhdGhbMF0sIHBhdGhbMV0pO1xuXHRcdGZvcihpPTI7IGkgPCBwYXRoTGVuZ3RoOyBpKz00KSB7XG5cdFx0XHRjdHgucXVhZHJhdGljQ3VydmVUbyhcblx0XHRcdFx0cGF0aFtpXSwgcGF0aFtpKzFdLFxuXHRcdFx0XHRwYXRoW2krMl0sIHBhdGhbaSszXVxuXHRcdFx0KTtcblx0XHR9XG5cblx0XHRjdHguc3Ryb2tlU3R5bGUgPSBcImJsYWNrXCI7XG5cdFx0Y3R4LmxpbmVXaWR0aCA9IHdpZHRoKjEuNTtcblx0XHRjdHguc3Ryb2tlKCk7XG5cdFx0Y3R4LnN0cm9rZVN0eWxlID0gXCJ3aGl0ZVwiO1xuXHRcdGN0eC5saW5lV2lkdGggPSB3aWR0aDtcblx0XHRjdHguc3Ryb2tlKCk7XG5cdFx0Y3R4LmNsb3NlUGF0aCgpO1xuXG5cdFx0Ly8gaGlnaGxpZ2h0c1xuXHRcdHZhciBoaUNvdW50ID0gaGlnbGlnaHQubGVuZ3RoO1xuXHRcdGlmKGhpZ2xpZ2h0ICYmIGhpQ291bnQpIHtcblx0XHRcdHZhciB0ZW1wU3RvcmUgPSB7fTtcblx0XHRcdHZhciB0ZW1wTG9vayA9IHt9O1xuXHRcdFx0cy5fc29sdmVHdWlkZURhdGEoZ3VpZGVEYXRhLCB0ZW1wU3RvcmUpO1xuXG5cdFx0XHRmb3IodmFyIGk9MDsgaTxoaUNvdW50OyBpKyspe1xuXHRcdFx0XHR0ZW1wU3RvcmUub3JpZW50ID0gXCJmaXhlZFwiO1xuXHRcdFx0XHRzLl9yYXRpb1RvUG9zaXRpb25EYXRhKGhpZ2xpZ2h0W2ldLCB0ZW1wU3RvcmUsIHRlbXBMb29rKTtcblxuXHRcdFx0XHRjdHguYmVnaW5QYXRoKCk7XG5cblx0XHRcdFx0Y3R4Lm1vdmVUbyh0ZW1wTG9vay54LCB0ZW1wTG9vay55KTtcblx0XHRcdFx0Y3R4LmxpbmVUbyhcblx0XHRcdFx0XHR0ZW1wTG9vay54ICsgTWF0aC5jb3ModGVtcExvb2sucm90YXRpb24gKiAwLjAxNzQ1MzMpICogbGVuZ3RoLFxuXHRcdFx0XHRcdHRlbXBMb29rLnkgKyBNYXRoLnNpbih0ZW1wTG9vay5yb3RhdGlvbiAqIDAuMDE3NDUzMykgKiBsZW5ndGhcblx0XHRcdFx0KTtcblxuXHRcdFx0XHRjdHguc3Ryb2tlU3R5bGUgPSBcImJsYWNrXCI7XG5cdFx0XHRcdGN0eC5saW5lV2lkdGggPSB3aWR0aCoxLjU7XG5cdFx0XHRcdGN0eC5zdHJva2UoKTtcblx0XHRcdFx0Y3R4LnN0cm9rZVN0eWxlID0gXCJyZWRcIjtcblx0XHRcdFx0Y3R4LmxpbmVXaWR0aCA9IHdpZHRoO1xuXHRcdFx0XHRjdHguc3Ryb2tlKCk7XG5cdFx0XHRcdGN0eC5jbG9zZVBhdGgoKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBlbmQgZHJhd1xuXHRcdGN0eC5yZXN0b3JlKCk7XG5cblx0XHRyZXR1cm4gZXJyO1xuXHR9O1xuXG4vLyBwcml2YXRlIG1ldGhvZHNcblx0LyoqXG5cdCAqIENhbGN1bGF0ZSBhbmQgc3RvcmUgb3B0aW1pemF0aW9uIGRhdGEgYWJvdXQgdGhlIGRlc2lyZWQgcGF0aCB0byBpbXByb3ZlIHBlcmZvcm1hbmNlIGFuZCBhY2N1cmFjeSBvZiBwb3NpdGlvbnMuXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIGd1aWRlIGRhdGEgcHJvdmlkZWQgdG8gdGhlIHR3ZWVuIGNhbGxcblx0ICogQHBhcmFtIHtPYmplY3R9IHN0b3JhZ2UgdGhlIGd1aWRlIGRhdGEgdXNlZCBieSB0aGUgc3RlcCBjYWxscyBhbmQgcGx1Z2luIHRvIGRvIHRoZSBqb2IsIHdpbGwgYmUgb3ZlcndyaXR0ZW5cblx0ICogQHJldHVybnMge3VuZGVmaW5lZHxTdHJpbmd9IENhbiByZXR1cm4gYW4gZXJyb3IgaWYgdW5hYmxlIHRvIGdlbmVyYXRlIHRoZSBkYXRhLlxuXHQgKiBAcHJpdmF0ZVxuXHQgKi9cblx0cy5fc29sdmVHdWlkZURhdGEgPSBmdW5jdGlvbihzb3VyY2UsIHN0b3JhZ2UpIHtcblx0XHR2YXIgZXJyID0gdW5kZWZpbmVkO1xuXHRcdGlmKGVyciA9IHMuZGVidWcoc291cmNlKSkgeyByZXR1cm4gZXJyOyB9XG5cblx0XHR2YXIgcGF0aCA9IHN0b3JhZ2UucGF0aCA9IHNvdXJjZS5wYXRoO1xuXHRcdHZhciBvcmllbnQgPSBzdG9yYWdlLm9yaWVudCA9IHNvdXJjZS5vcmllbnQ7XG5cdFx0c3RvcmFnZS5zdWJMaW5lcyA9IFtdO1xuXHRcdHN0b3JhZ2UudG90YWxMZW5ndGggPSAwO1xuXHRcdHN0b3JhZ2Uuc3RhcnRPZmZzZXRSb3QgPSAwO1xuXHRcdHN0b3JhZ2UuZGVsdGFSb3RhdGlvbiA9IDA7XG5cdFx0c3RvcmFnZS5zdGFydERhdGEgPSB7cmF0aW86IDB9O1xuXHRcdHN0b3JhZ2UuZW5kRGF0YSA9IHtyYXRpbzogMX07XG5cdFx0c3RvcmFnZS5hbmltU3BhbiA9IDE7XG5cblx0XHR2YXIgcGF0aExlbmd0aCA9IHBhdGgubGVuZ3RoO1xuXG5cdFx0dmFyIHByZWNpc2lvbiA9IDEwO1xuXHRcdHZhciBzeCxzeSwgY3gsY3ksIGV4LGV5LCBpLGosIGxlbiwgdGVtcCA9IHt9O1xuXG5cdFx0c3ggPSBwYXRoWzBdO1x0XHRzeSA9IHBhdGhbMV07XG5cblx0XHQvLyBnZXQgdGhlIGRhdGEgZm9yIGVhY2ggY3VydmVcblx0XHRmb3IoaT0yOyBpIDwgcGF0aExlbmd0aDsgaSs9NCkge1xuXHRcdFx0Y3ggPSBwYXRoW2ldO1x0XHRcdGN5ID0gcGF0aFtpKzFdO1xuXHRcdFx0ZXggPSBwYXRoW2krMl07XHRcdFx0ZXkgPSBwYXRoW2krM107XG5cblx0XHRcdHZhciBzdWJMaW5lID0ge1xuXHRcdFx0XHR3ZWlnaHRpbmdzOiBbXSxcblx0XHRcdFx0ZXN0TGVuZ3RoOiAwLFxuXHRcdFx0XHRwb3J0aW9uOiAwXG5cdFx0XHR9O1xuXG5cdFx0XHR2YXIgc3ViWCA9IHN4LCBzdWJZID0gc3k7XG5cdFx0XHQvLyBnZXQgdGhlIGRpc3RhbmNlIGRhdGEgZm9yIGVhY2ggcG9pbnRcblx0XHRcdGZvcihqPTE7IGogPD0gcHJlY2lzaW9uO2orKykge1x0Ly8gd2UgbmVlZCB0byBldmFsdWF0ZSB0ID0gMSBub3QgdCA9IDBcblx0XHRcdFx0cy5fZ2V0UGFyYW1zRm9yQ3VydmUoc3gsc3ksIGN4LGN5LCBleCxleSwgai9wcmVjaXNpb24sIGZhbHNlLCB0ZW1wKTtcblxuXHRcdFx0XHR2YXIgZHggPSB0ZW1wLnggLSBzdWJYLCBkeSA9IHRlbXAueSAtIHN1Ylk7XG5cdFx0XHRcdGxlbiA9IE1hdGguc3FydChkeCpkeCArIGR5KmR5KTtcblx0XHRcdFx0c3ViTGluZS53ZWlnaHRpbmdzLnB1c2gobGVuKTtcblx0XHRcdFx0c3ViTGluZS5lc3RMZW5ndGggKz0gbGVuO1xuXG5cdFx0XHRcdHN1YlggPSB0ZW1wLng7XG5cdFx0XHRcdHN1YlkgPSB0ZW1wLnk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIGZpZ3VyZSBvdXQgZnVsbCBsZW5ndGhzXG5cdFx0XHRzdG9yYWdlLnRvdGFsTGVuZ3RoICs9IHN1YkxpbmUuZXN0TGVuZ3RoO1xuXG5cdFx0XHQvLyB1c2UgbGVuZ3RoIHRvIGZpZ3VyZSBvdXQgcHJvcG9ydGlvbmFsIHdlaWdodGluZ3Ncblx0XHRcdGZvcihqPTA7IGogPCBwcmVjaXNpb247IGorKykge1xuXHRcdFx0XHRsZW4gPSBzdWJMaW5lLmVzdExlbmd0aDtcblx0XHRcdFx0c3ViTGluZS53ZWlnaHRpbmdzW2pdID0gc3ViTGluZS53ZWlnaHRpbmdzW2pdIC8gbGVuO1xuXHRcdFx0fVxuXG5cdFx0XHRzdG9yYWdlLnN1YkxpbmVzLnB1c2goc3ViTGluZSk7XG5cdFx0XHRzeCA9IGV4O1xuXHRcdFx0c3kgPSBleTtcblx0XHR9XG5cblx0XHQvLyB1c2UgbGVuZ3RoIHRvIGZpZ3VyZSBvdXQgcHJvcG9ydGlvbmFsIHdlaWdodGluZ3Ncblx0XHRsZW4gPSBzdG9yYWdlLnRvdGFsTGVuZ3RoO1xuXHRcdHZhciBsID0gc3RvcmFnZS5zdWJMaW5lcy5sZW5ndGg7XG5cdFx0Zm9yKGk9MDsgaTxsOyBpKyspIHtcblx0XHRcdHN0b3JhZ2Uuc3ViTGluZXNbaV0ucG9ydGlvbiA9IHN0b3JhZ2Uuc3ViTGluZXNbaV0uZXN0TGVuZ3RoIC8gbGVuO1xuXHRcdH1cblxuXHRcdC8vIGRldGVybWluZSBzdGFydCBhbmQgZW5kIGRhdGFcblx0XHR2YXIgc3RhcnRSYXRpbyA9IGlzTmFOKHNvdXJjZS5zdGFydCkgPyAwIDogc291cmNlLnN0YXJ0O1xuXHRcdHZhciBlbmRSYXRpbyA9IGlzTmFOKHNvdXJjZS5lbmQpID8gMSA6IHNvdXJjZS5lbmQ7XG5cdFx0cy5fcmF0aW9Ub1Bvc2l0aW9uRGF0YShzdGFydFJhdGlvLCBzdG9yYWdlLCBzdG9yYWdlLnN0YXJ0RGF0YSk7XG5cdFx0cy5fcmF0aW9Ub1Bvc2l0aW9uRGF0YShlbmRSYXRpbywgc3RvcmFnZSwgc3RvcmFnZS5lbmREYXRhKTtcblxuXHRcdC8vIHRoaXMgaGFzIHRvIGJlIGRvbmUgbGFzdCBlbHNlIHRoZSBwcmV2IHJhdGlvcyB3aWxsIGJlIG91dCBvZiBwbGFjZVxuXHRcdHN0b3JhZ2Uuc3RhcnREYXRhLnJhdGlvID0gc3RhcnRSYXRpbztcblx0XHRzdG9yYWdlLmVuZERhdGEucmF0aW8gPSBlbmRSYXRpbztcblx0XHRzdG9yYWdlLmFuaW1TcGFuID0gc3RvcmFnZS5lbmREYXRhLnJhdGlvIC0gc3RvcmFnZS5zdGFydERhdGEucmF0aW87XG5cdH07XG5cblx0LyoqXG5cdCAqIENvbnZlcnQgYSBwZXJjZW50YWdlIGFsb25nIHRoZSBsaW5lIGludG8sIGEgbG9jYWwgbGluZSAoc3RhcnQsIGNvbnRyb2wsIGVuZCkgdC12YWx1ZSBmb3IgY2FsY3VsYXRpb24uXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSByYXRpbyBUaGUgKGV1Y2xpZGVhbiBkaXN0YW5jZSkgcGVyY2VudGFnZSBpbnRvIHRoZSB3aG9sZSBjdXJ2ZS5cblx0ICogQHBhcmFtIHtPYmplY3R9IGd1aWRlRGF0YSBBbGwgdGhlIGluZm9ybWF0aW9uIGRlc2NyaWJpbmcgdGhlIGd1aWRlIHRvIGJlIGZvbGxvd2VkLlxuXHQgKiBAcGFyYW0ge09iamVjdH0gb3V0cHV0IE9iamVjdCB0byBzYXZlIG91dHB1dCBwcm9wZXJ0aWVzIG9mIHgseSwgYW5kIHJvdGF0aW9uIG9udG8uXG5cdCAqIEByZXR1cm5zIHtPYmplY3R9IFRoZSBvdXRwdXQgb2JqZWN0LCB1c2VmdWwgZm9yIGlzb2xhdGVkIGNhbGxzLlxuXHQgKiBAcHJpdmF0ZVxuXHQgKi9cblx0cy5fcmF0aW9Ub1Bvc2l0aW9uRGF0YSA9IGZ1bmN0aW9uKHJhdGlvLCBndWlkZURhdGEsIG91dHB1dCkge1xuXHRcdHZhciBsaW5lU2VnbWVudHMgPSBndWlkZURhdGEuc3ViTGluZXM7XG5cblx0XHR2YXIgaSxsLCB0LCB0ZXN0LCB0YXJnZXQ7XG5cblx0XHR2YXIgbG9vayA9IDA7XG5cdFx0dmFyIHByZWNpc2lvbiA9IDEwO1xuXHRcdHZhciBlZmZSYXRpbyA9IChyYXRpbyAqIGd1aWRlRGF0YS5hbmltU3BhbikgKyBndWlkZURhdGEuc3RhcnREYXRhLnJhdGlvO1xuXG5cdFx0Ly8gZmluZCBzdWJsaW5lXG5cdFx0bCA9IGxpbmVTZWdtZW50cy5sZW5ndGg7XG5cdFx0Zm9yKGk9MDsgaTxsOyBpKyspIHtcblx0XHRcdHRlc3QgPSBsaW5lU2VnbWVudHNbaV0ucG9ydGlvbjtcblx0XHRcdGlmKGxvb2sgKyB0ZXN0ID49IGVmZlJhdGlvKXsgdGFyZ2V0ID0gaTsgYnJlYWs7IH1cblx0XHRcdGxvb2sgKz0gdGVzdDtcblx0XHR9XG5cdFx0aWYodGFyZ2V0ID09PSB1bmRlZmluZWQpIHsgdGFyZ2V0ID0gbC0xOyAgbG9vayAtPSB0ZXN0OyB9XG5cblx0XHQvLyBmaW5kIG1pZGxpbmUgd2VpZ2h0aW5nXG5cdFx0dmFyIHN1YkxpbmVzID0gbGluZVNlZ21lbnRzW3RhcmdldF0ud2VpZ2h0aW5ncztcblx0XHR2YXIgcG9ydGlvbiA9IHRlc3Q7XG5cdFx0bCA9IHN1YkxpbmVzLmxlbmd0aDtcblx0XHRmb3IoaT0wOyBpPGw7IGkrKykge1xuXHRcdFx0dGVzdCA9IHN1YkxpbmVzW2ldICogcG9ydGlvbjtcblx0XHRcdGlmKGxvb2sgKyB0ZXN0ID49IGVmZlJhdGlvKXsgYnJlYWs7IH1cblx0XHRcdGxvb2sgKz0gdGVzdDtcblx0XHR9XG5cblx0XHQvLyB0cmFuc2xhdGUgdGhlIHN1YmxpbmUgaW5kZXggaW50byBhIHBvc2l0aW9uIGluIHRoZSBwYXRoIGRhdGFcblx0XHR0YXJnZXQgPSAodGFyZ2V0KjQpICsgMjtcblx0XHQvLyB0YWtlIHRoZSBkaXN0YW5jZSB3ZSd2ZSBjb3ZlcmVkIGluIG91ciByYXRpbywgYW5kIHNjYWxlIGl0IHRvIGRpc3RhbmNlIGludG8gdGhlIHdlaWdodGluZ3Ncblx0XHR0ID0gKGkvcHJlY2lzaW9uKSArICgoKGVmZlJhdGlvLWxvb2spIC8gdGVzdCkgKiAoMS9wcmVjaXNpb24pKTtcblxuXHRcdC8vIHBvc2l0aW9uXG5cdFx0dmFyIHBhdGhEYXRhID0gZ3VpZGVEYXRhLnBhdGg7XG5cdFx0cy5fZ2V0UGFyYW1zRm9yQ3VydmUoXG5cdFx0XHRwYXRoRGF0YVt0YXJnZXQtMl0sXHRcdFx0cGF0aERhdGFbdGFyZ2V0LTFdLFxuXHRcdFx0cGF0aERhdGFbdGFyZ2V0XSxcdFx0XHRwYXRoRGF0YVt0YXJnZXQrMV0sXG5cdFx0XHRwYXRoRGF0YVt0YXJnZXQrMl0sXHRcdFx0cGF0aERhdGFbdGFyZ2V0KzNdLFxuXHRcdFx0dCxcblx0XHRcdGd1aWRlRGF0YS5vcmllbnQsXG5cdFx0XHRvdXRwdXRcblx0XHQpO1xuXG5cdFx0aWYoZ3VpZGVEYXRhLm9yaWVudCkge1xuXHRcdFx0aWYocmF0aW8gPj0gMC45OTk5OSAmJiByYXRpbyA8PSAxLjAwMDAxICYmIGd1aWRlRGF0YS5lbmRBYnNSb3QgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRvdXRwdXQucm90YXRpb24gPSBndWlkZURhdGEuZW5kQWJzUm90O1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0b3V0cHV0LnJvdGF0aW9uICs9IGd1aWRlRGF0YS5zdGFydE9mZnNldFJvdCArIChyYXRpbyAqIGd1aWRlRGF0YS5kZWx0YVJvdGF0aW9uKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gb3V0cHV0O1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBGb3IgYSBnaXZlbiBxdWFkcmF0aWMgYmV6aWVyIHQtdmFsdWUsIHdoYXQgaXMgdGhlIHBvc2l0aW9uIGFuZCByb3RhdGlvbi4gU2F2ZSBpdCBvbnRvIHRoZSBvdXRwdXQgb2JqZWN0LlxuXHQgKiBAcGFyYW0ge051bWJlcn0gc3ggU3RhcnQgeC5cblx0ICogQHBhcmFtIHtOdW1iZXJ9IHN5IFN0YXJ0IHkuXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBjeCBDb250cm9sIHguXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBjeSBDb250cm9sIHkuXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBleCBFbmQgeC5cblx0ICogQHBhcmFtIHtOdW1iZXJ9IGV5IEVuZCB5LlxuXHQgKiBAcGFyYW0ge051bWJlcn0gdCBUIHZhbHVlIChwYXJhbWV0cmljIGRpc3RhbmNlIGludG8gY3VydmUpLlxuXHQgKiBAcGFyYW0ge0Jvb2xlYW59IG9yaWVudCBTYXZlIHJvdGF0aW9uIGRhdGEuXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBvdXRwdXQgT2JqZWN0IHRvIHNhdmUgb3V0cHV0IHByb3BlcnRpZXMgb2YgeCx5LCBhbmQgcm90YXRpb24gb250by5cblx0ICogQHByaXZhdGVcblx0ICovXG5cdHMuX2dldFBhcmFtc0ZvckN1cnZlID0gZnVuY3Rpb24oc3gsc3ksIGN4LGN5LCBleCxleSwgdCwgb3JpZW50LCBvdXRwdXQpIHtcblx0XHR2YXIgaW52ID0gMSAtIHQ7XG5cblx0XHQvLyBmaW5kaW5nIGEgcG9pbnQgb24gYSBiZXppZXIgY3VydmVcblx0XHRvdXRwdXQueCA9XHRpbnYqaW52ICogc3ggKyAyICogaW52ICogdCAqIGN4ICsgdCp0ICogZXg7XG5cdFx0b3V0cHV0LnkgPVx0aW52KmludiAqIHN5ICsgMiAqIGludiAqIHQgKiBjeSArIHQqdCAqIGV5O1xuXG5cdFx0Ly8gZmluZGluZyBhbiBhbmdsZSBvbiBhIGJlemllciBjdXJ2ZVxuXHRcdGlmKG9yaWVudCkge1xuXHRcdFx0Ly8gY29udmVydCBmcm9tIHJhZGlhbnMgYmFjayB0byBkZWdyZWVzXG5cdFx0XHRvdXRwdXQucm90YXRpb24gPSA1Ny4yOTU3Nzk1ICogTWF0aC5hdGFuMihcblx0XHRcdFx0KGN5IC0gc3kpKmludiArIChleSAtIGN5KSp0LFxuXHRcdFx0XHQoY3ggLSBzeCkqaW52ICsgKGV4IC0gY3gpKnRcblx0XHRcdCk7XG5cdFx0fVxuXHR9O1xuXG5cdC8qKlxuXHQgKiBQZXJmb3JtIGEgY2hlY2sgdG8gdmFsaWRhdGUgcGF0aCBpbmZvcm1hdGlvbiBzbyBwbHVnaW4gY2FuIGF2b2lkIGxhdGVyIGVycm9yIGNoZWNraW5nLlxuXHQgKiBAcGFyYW0ge09iamVjdH0gZ3VpZGVEYXRhIEFsbCB0aGUgaW5mb3JtYXRpb24gZGVzY3JpYmluZyB0aGUgZ3VpZGUgdG8gYmUgZm9sbG93ZWQuXG5cdCAqIEByZXR1cm5zIHt1bmRlZmluZWR8U3RyaW5nfSBUaGUgcHJvYmxlbSBmb3VuZCwgb3IgdW5kZWZpbmVkIGlmIG5vIHByb2JsZW1zLlxuXHQgKiBAcHJpdmF0ZVxuXHQgKi9cblx0cy5fZmluZFBhdGhQcm9ibGVtcyA9IGZ1bmN0aW9uKGd1aWRlRGF0YSkge1xuXHRcdHZhciBwYXRoID0gZ3VpZGVEYXRhLnBhdGg7XG5cdFx0dmFyIHZhbHVlQ291bnQgPSAocGF0aCAmJiBwYXRoLmxlbmd0aCkgfHwgMDtcdC8vIGVuc3VyZSB0aGlzIGlzIGEgbnVtYmVyIHRvIHNpbXBsaWZ5IGxhdGVyIGxvZ2ljXG5cdFx0aWYodmFsdWVDb3VudCA8IDYgfHwgKHZhbHVlQ291bnQtMikgJSA0KSB7XG5cdFx0XHR2YXIgbWVzc2FnZSA9XHRcIlxcdENhbm5vdCBwYXJzZSAncGF0aCcgYXJyYXkgZHVlIHRvIGludmFsaWQgbnVtYmVyIG9mIGVudHJpZXMgaW4gcGF0aC4gXCI7XG5cdFx0XHRtZXNzYWdlICs9XHRcdFwiVGhlcmUgc2hvdWxkIGJlIGFuIG9kZCBudW1iZXIgb2YgcG9pbnRzLCBhdCBsZWFzdCAzIHBvaW50cywgYW5kIDIgZW50cmllcyBwZXIgcG9pbnQgKHggJiB5KS4gXCI7XG5cdFx0XHRtZXNzYWdlICs9XHRcdFwiU2VlICdDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQucXVhZHJhdGljQ3VydmVUbycgZm9yIGRldGFpbHMgYXMgJ3BhdGgnIG1vZGVscyBhIHF1YWRyYXRpYyBiZXppZXIuXFxuXFxuXCI7XG5cdFx0XHRtZXNzYWdlICs9XHRcdFwiT25seSBbIFwiKyB2YWx1ZUNvdW50ICtcIiBdIHZhbHVlcyBmb3VuZC4gRXhwZWN0ZWQ6IFwiKyBNYXRoLm1heChNYXRoLmNlaWwoKHZhbHVlQ291bnQtMikvNCkqNCsyLCA2KTsgLy82LCAxMCwgMTQsLi4uXG5cdFx0XHRyZXR1cm4gbWVzc2FnZTtcblx0XHR9XG5cblx0XHRmb3IodmFyIGk9MDsgaTx2YWx1ZUNvdW50OyBpKyspIHtcblx0XHRcdGlmKGlzTmFOKHBhdGhbaV0pKXtcblx0XHRcdFx0cmV0dXJuIFwiQWxsIGRhdGEgaW4gcGF0aCBhcnJheSBtdXN0IGJlIG51bWVyaWNcIjtcblx0XHRcdH1cblx0XHR9XG5cblx0XHR2YXIgc3RhcnQgPSBndWlkZURhdGEuc3RhcnQ7XG5cdFx0aWYoaXNOYU4oc3RhcnQpICYmICEoc3RhcnQgPT09IHVuZGVmaW5lZCkvKiB8fCBzdGFydCA8IDAgfHwgc3RhcnQgPiAxKi8pIHtcdC8vIG91dHNpZGUgMC0xIGlzIHVucHJlZGljdGFibGUsIGJ1dCBub3QgYnJlYWtpbmdcblx0XHRcdHJldHVybiBcIidzdGFydCcgb3V0IG9mIGJvdW5kcy4gRXhwZWN0ZWQgMCB0byAxLCBnb3Q6IFwiKyBzdGFydDtcblx0XHR9XG5cdFx0dmFyIGVuZCA9IGd1aWRlRGF0YS5lbmQ7XG5cdFx0aWYoaXNOYU4oZW5kKSAmJiAoZW5kICE9PSB1bmRlZmluZWQpLyogfHwgZW5kIDwgMCB8fCBlbmQgPiAxKi8pIHtcdC8vIG91dHNpZGUgMC0xIGlzIHVucHJlZGljdGFibGUsIGJ1dCBub3QgYnJlYWtpbmdcblx0XHRcdHJldHVybiBcIidlbmQnIG91dCBvZiBib3VuZHMuIEV4cGVjdGVkIDAgdG8gMSwgZ290OiBcIisgZW5kO1xuXHRcdH1cblxuXHRcdHZhciBvcmllbnQgPSBndWlkZURhdGEub3JpZW50O1xuXHRcdGlmKG9yaWVudCkgeyAvLyBtaXJyb3IgdGhlIGNoZWNrIHVzZWQgZWxzZXdoZXJlXG5cdFx0XHRpZihvcmllbnQgIT0gXCJmaXhlZFwiICYmIG9yaWVudCAhPSBcImF1dG9cIiAmJiBvcmllbnQgIT0gXCJjd1wiICYmIG9yaWVudCAhPSBcImNjd1wiKSB7XG5cdFx0XHRcdHJldHVybiAnSW52YWxpZCBvcmllbnRhdGlvbiB2YWx1ZS4gRXhwZWN0ZWQgW1wiZml4ZWRcIiwgXCJhdXRvXCIsIFwiY3dcIiwgXCJjY3dcIiwgdW5kZWZpbmVkXSwgZ290OiAnKyBvcmllbnQ7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHVuZGVmaW5lZDtcblx0fTtcblxuXHRjcmVhdGVqcy5Nb3Rpb25HdWlkZVBsdWdpbiA9IE1vdGlvbkd1aWRlUGx1Z2luO1xuXG59KCkpO1xuXG4vLyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI1xuLy8gdmVyc2lvbi5qc1xuLy8jIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyNcblxuKGZ1bmN0aW9uKCkge1xuXHRcInVzZSBzdHJpY3RcIjtcblxuXHQvKipcblx0ICogU3RhdGljIGNsYXNzIGhvbGRpbmcgbGlicmFyeSBzcGVjaWZpYyBpbmZvcm1hdGlvbiBzdWNoIGFzIHRoZSB2ZXJzaW9uIGFuZCBidWlsZERhdGUgb2Zcblx0ICogdGhlIGxpYnJhcnkuXG5cdCAqIEBjbGFzcyBUd2VlbkpTXG5cdCAqKi9cblx0dmFyIHMgPSBjcmVhdGVqcy5Ud2VlbkpTID0gY3JlYXRlanMuVHdlZW5KUyB8fCB7fTtcblxuXHQvKipcblx0ICogVGhlIHZlcnNpb24gc3RyaW5nIGZvciB0aGlzIHJlbGVhc2UuXG5cdCAqIEBwcm9wZXJ0eSB2ZXJzaW9uXG5cdCAqIEB0eXBlIFN0cmluZ1xuXHQgKiBAc3RhdGljXG5cdCAqKi9cblx0cy52ZXJzaW9uID0gLyo9dmVyc2lvbiovXCJORVhUXCI7IC8vIGluamVjdGVkIGJ5IGJ1aWxkIHByb2Nlc3NcblxuXHQvKipcblx0ICogVGhlIGJ1aWxkIGRhdGUgZm9yIHRoaXMgcmVsZWFzZSBpbiBVVEMgZm9ybWF0LlxuXHQgKiBAcHJvcGVydHkgYnVpbGREYXRlXG5cdCAqIEB0eXBlIFN0cmluZ1xuXHQgKiBAc3RhdGljXG5cdCAqKi9cblx0cy5idWlsZERhdGUgPSAvKj1kYXRlKi9cIlRodSwgMTQgU2VwIDIwMTcgMjI6MTk6NDUgR01UXCI7IC8vIGluamVjdGVkIGJ5IGJ1aWxkIHByb2Nlc3NcblxufSkoKTsiXX0=
